<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Settings - PropOne</title>
    <link rel="stylesheet" href="../css/style.css">
    <link rel="stylesheet" href="../css/settings.css">
    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIHZpZXdCb3g9IjAgMCAxMjAgMTAwIiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxkZWZzPjxsaW5lYXJHcmFkaWVudCBpZD0ibG9nb0dyYWRpZW50IiB4MT0iMCUiIHkxPSIwJSIgeDI9IjEwMCUiIHkyPSIwJSI+PHN0b3Agb2Zmc2V0PSIwJSIgc3R5bGU9InN0b3AtY29sb3I6IzY2N2VlYSIvPjxzdG9wIG9mZnNldD0iMTAwJSIgc3R5bGU9InN0b3AtY29sb3I6Izc2NGJhMiIvPjwvbGluZWFyR3JhZGllbnQ+PC9kZWZzPjxsaW5lIHgxPSIxMCIgeTE9IjUwIiB4Mj0iMTEwIiB5Mj0iNTAiIHN0cm9rZT0idXJsKCNsb2dvR3JhZGllbnQpIiBzdHJva2Utd2lkdGg9IjIuNSIgb3BhY2l0eT0iMC44Ii8+PHJlY3QgeD0iMTYiIHk9IjM1IiB3aWR0aD0iOCIgaGVpZ2h0PSIxNSIgZmlsbD0idXJsKCNsb2dvR3JhZGllbnQpIiByeD0iMSIvPjxyZWN0IHg9IjE2IiB5PSI1MCIgd2lkdGg9IjgiIGhlaWdodD0iOCIgZmlsbD0idXJsKCNsb2dvR3JhZGllbnQpIiByeD0iMSIgb3BhY2l0eT0iMC43Ii8+PHJlY3QgeD0iMzIiIHk9IjIwIiB3aWR0aD0iOCIgaGVpZ2h0PSIzMCIgZmlsbD0idXJsKCNsb2dvR3JhZGllbnQpIiByeD0iMSIvPjxyZWN0IHg9IjMyIiB5PSI1MCIgd2lkdGg9IjgiIGhlaWdodD0iNSIgZmlsbD0idXJsKCNsb2dvR3JhZGllbnQpIiByeD0iMSIgb3BhY2l0eT0iMC43Ii8+PHJlY3QgeD0iNDgiIHk9IjQ1IiB3aWR0aD0iOCIgaGVpZ2h0PSI1IiBmaWxsPSJ1cmwoI2xvZ29HcmFkaWVudCkiIHJ4PSIxIiBvcGFjaXR5PSIwLjciLz48cmVjdCB4PSI0OCIgeT0iNTAiIHdpZHRoPSI4IiBoZWlnaHQ9IjIwIiBmaWxsPSJ1cmwoI2xvZ29HcmFkaWVudCkiIHJ4PSIxIi8+PHJlY3QgeD0iNjQiIHk9IjQwIiB3aWR0aD0iOCIgaGVpZ2h0PSIxMCIgZmlsbD0idXJsKCNsb2dvR3JhZGllbnQpIiByeD0iMSIvPjxyZWN0IHg9IjY0IiB5PSI1MCIgd2lkdGg9IjgiIGhlaWdodD0iMTUiIGZpbGw9InVybCgjbG9nb0dyYWRpZW50KSIgcng9IjEiIG9wYWNpdHk9IjAuNyIvPjxyZWN0IHg9IjgwIiB5PSIxNSIgd2lkdGg9IjgiIGhlaWdodD0iMzUiIGZpbGw9InVybCgjbG9nb0dyYWRpZW50KSIgcng9IjEiLz48cmVjdCB4PSI4MCIgeT0iNTAiIHdpZHRoPSI4IiBoZWlnaHQ9IjgiIGZpbGw9InVybCgjbG9nb0dyYWRpZW50KSIgcng9IjEiIG9wYWNpdHk9IjAuNyIvPjxyZWN0IHg9Ijk2IiB5PSI0MiIgd2lkdGg9IjgiIGhlaWdodD0iOCIgZmlsbD0idXJsKCNsb2dvR3JhZGllbnQpIiByeD0iMSIgb3BhY2l0eT0iMC43Ii8+PHJlY3QgeD0iOTYiIHk9IjUwIiB3aWR0aD0iOCIgaGVpZ2h0PSIyNSIgZmlsbD0idXJsKCNsb2dvR3JhZGllbnQpIiByeD0iMSIvPjwvc3ZnPg==">
</head>
<body>
    <div class="container">
        <!-- Header with back navigation -->
        <header class="settings-header">
            <div class="header-nav">
                <button class="back-btn" onclick="window.location.href='../index.html'">
                    <svg viewBox="0 0 24 24" fill="currentColor">
                        <path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.42-1.41L7.83 13H20v-2z"/>
                    </svg>
                    Back to Dashboard
                </button>
                <div class="header-logo">
                    <svg class="header-logo-icon" viewBox="0 0 120 100" fill="none">
                        <defs>
                            <linearGradient id="logoGradient" x1="0%" y1="0%" x2="100%" y2="0%">
                                <stop offset="0%" style="stop-color:#667eea"/>
                                <stop offset="100%" style="stop-color:#764ba2"/>
                            </linearGradient>
                        </defs>
                        <line x1="10" y1="50" x2="110" y2="50" stroke="url(#logoGradient)" stroke-width="2.5" opacity="0.8"/>
                        <rect x="16" y="35" width="8" height="15" fill="url(#logoGradient)" rx="1"/>
                        <rect x="16" y="50" width="8" height="8" fill="url(#logoGradient)" rx="1" opacity="0.7"/>
                        <rect x="32" y="20" width="8" height="30" fill="url(#logoGradient)" rx="1"/>
                        <rect x="32" y="50" width="8" height="5" fill="url(#logoGradient)" rx="1" opacity="0.7"/>
                        <rect x="48" y="45" width="8" height="5" fill="url(#logoGradient)" rx="1" opacity="0.7"/>
                        <rect x="48" y="50" width="8" height="20" fill="url(#logoGradient)" rx="1"/>
                        <rect x="64" y="40" width="8" height="10" fill="url(#logoGradient)" rx="1"/>
                        <rect x="64" y="50" width="8" height="15" fill="url(#logoGradient)" rx="1" opacity="0.7"/>
                        <rect x="80" y="15" width="8" height="35" fill="url(#logoGradient)" rx="1"/>
                        <rect x="80" y="50" width="8" height="8" fill="url(#logoGradient)" rx="1" opacity="0.7"/>
                        <rect x="96" y="42" width="8" height="8" fill="url(#logoGradient)" rx="1" opacity="0.7"/>
                        <rect x="96" y="50" width="8" height="25" fill="url(#logoGradient)" rx="1"/>
                    </svg>
                    <h1>Settings</h1>
                </div>
            </div>
        </header>

        <!-- Settings Content -->
        <div class="settings-content">
            <!-- User Profile Section -->
            <div class="settings-section">
                <h2 class="section-title">
                    <svg class="section-icon" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/>
                    </svg>
                    User Profile
                </h2>
                <div class="settings-card">
                    <div class="profile-info-section">
                        <div class="profile-avatar-large">
                            <svg viewBox="0 0 24 24" fill="currentColor">
                                <path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/>
                            </svg>
                        </div>
                        <div class="profile-details-large">
                            <div class="profile-field">
                                <label>Email Address</label>
                                <div class="profile-value" id="user-email">Loading...</div>
                            </div>
                            <div class="profile-field">
                                <label>Authentication Method</label>
                                <div class="profile-value" id="auth-method">Loading...</div>
                            </div>
                            <div class="profile-field">
                                <label>Account Created</label>
                                <div class="profile-value" id="account-created">Loading...</div>
                            </div>
                        </div>
                    </div>
                    <div class="profile-actions">
                        <button class="btn btn-secondary" id="change-password-btn" style="display: none;">
                            Change Password
                        </button>
                    </div>
                </div>
            </div>

            <!-- Data Management Section -->
            <div class="settings-section">
                <h2 class="section-title">
                    <svg class="section-icon" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M14,2H6A2,2 0 0,0 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2M18,20H6V4H13V9H18V20Z"/>
                    </svg>
                    Data Management
                </h2>
                <div class="settings-card">
                    <div class="data-stats">
                        <div class="data-stat">
                            <div class="data-stat-value" id="account-count">0</div>
                            <div class="data-stat-label">Accounts</div>
                        </div>
                        <div class="data-stat">
                            <div class="data-stat-value" id="data-size">0 KB</div>
                            <div class="data-stat-label">Data Size</div>
                        </div>
                    </div>
                    <div class="data-actions">
                        <button class="btn btn-primary" id="export-data-btn">
                            <svg class="btn-icon" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M14,2H6A2,2 0 0,0 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2M18,20H6V4H13V9H18V20Z"/>
                            </svg>
                            Export Data
                        </button>
                        <button class="btn btn-secondary" id="import-data-btn">
                            <svg class="btn-icon" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M14,2H6A2,2 0 0,0 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2M18,20H6V4H13V9H18V20Z"/>
                            </svg>
                            Import Data
                        </button>
                        <input type="file" id="import-file-input" accept=".json" style="display: none;">
                    </div>
                </div>
            </div>

            <!-- Preferences Section -->
            <div class="settings-section">
                <h2 class="section-title">
                    <svg class="section-icon" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M12,15.5A3.5,3.5 0 0,1 8.5,12A3.5,3.5 0 0,1 12,8.5A3.5,3.5 0 0,1 15.5,12A3.5,3.5 0 0,1 12,15.5M19.43,12.97C19.47,12.65 19.5,12.33 19.5,12C19.5,11.67 19.47,11.34 19.43,11L21.54,9.37C21.73,9.22 21.78,8.95 21.66,8.73L19.66,5.27C19.54,5.05 19.27,4.96 19.05,5.05L16.56,6.05C16.04,5.66 15.5,5.32 14.87,5.07L14.5,2.42C14.46,2.18 14.25,2 14,2H10C9.75,2 9.54,2.18 9.5,2.42L9.13,5.07C8.5,5.32 7.96,5.66 7.44,6.05L4.95,5.05C4.73,4.96 4.46,5.05 4.34,5.27L2.34,8.73C2.22,8.95 2.27,9.22 2.46,9.37L4.57,11C4.53,11.34 4.5,11.67 4.5,12C4.5,12.33 4.53,12.65 4.57,12.97L2.46,14.63C2.27,14.78 2.22,15.05 2.34,15.27L4.34,18.73C4.46,18.95 4.73,19.03 4.95,18.95L7.44,17.94C7.96,18.34 8.5,18.68 9.13,18.93L9.5,21.58C9.54,21.82 9.75,22 10,22H14C14.25,22 14.46,21.82 14.5,21.58L14.87,18.93C15.5,18.68 16.04,18.34 16.56,17.94L19.05,18.95C19.27,19.03 19.54,18.95 19.66,18.73L21.66,15.27C21.78,15.05 21.73,14.78 21.54,14.63L19.43,12.97Z"/>
                    </svg>
                    Preferences
                </h2>
                <div class="settings-card">
                    <div class="preferences-grid">
                        <div class="preference-item">
                            <label for="default-account-size">Default Account Size</label>
                            <select id="default-account-size" class="preference-input">
                                <option value="5000">$5,000</option>
                                <option value="10000">$10,000</option>
                                <option value="25000">$25,000</option>
                                <option value="50000">$50,000</option>
                                <option value="100000" selected>$100,000</option>
                                <option value="200000">$200,000</option>
                            </select>
                        </div>
                        <div class="preference-item">
                            <label for="currency-display">Currency Display</label>
                            <select id="currency-display" class="preference-input">
                                <option value="USD" selected>USD ($)</option>
                                <option value="EUR">EUR (€)</option>
                                <option value="GBP">GBP (£)</option>
                                <option value="JPY">JPY (¥)</option>
                            </select>
                        </div>
                        <div class="preference-item">
                            <label for="theme-preference">Theme</label>
                            <select id="theme-preference" class="preference-input">
                                <option value="dark" selected>Dark</option>
                                <option value="light" disabled>Light (Coming Soon)</option>
                            </select>
                        </div>
                        <div class="preference-item">
                            <label for="notifications">Notifications</label>
                            <select id="notifications" class="preference-input">
                                <option value="all" selected>All</option>
                                <option value="important">Important Only</option>
                                <option value="none">None</option>
                            </select>
                        </div>
                    </div>
                    <div class="preferences-actions">
                        <button class="btn btn-primary" id="save-preferences-btn">Save Preferences</button>
                    </div>
                </div>
            </div>

            <!-- Danger Zone Section -->
            <div class="settings-section danger-zone">
                <h2 class="section-title">
                    <svg class="section-icon" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M13,13H11V7H13M13,17H11V15H13M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z"/>
                    </svg>
                    Danger Zone
                </h2>
                <div class="settings-card danger-card">
                    <div class="danger-warning">
                        <svg class="warning-icon" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M13,13H11V7H13M13,17H11V15H13M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z"/>
                        </svg>
                        <div class="warning-text">
                            <h3>Irreversible Actions</h3>
                            <p>These actions cannot be undone. Please proceed with caution.</p>
                        </div>
                    </div>
                    <div class="danger-actions">
                        <button class="btn btn-danger" id="delete-all-data-btn">
                            <svg class="btn-icon" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z"/>
                            </svg>
                            Delete All Data
                        </button>
                        <button class="btn btn-danger" id="delete-account-btn">
                            <svg class="btn-icon" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z"/>
                            </svg>
                            Delete Account
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Success/Error Messages -->
    <div id="notification" class="notification hidden"></div>

    <!-- Change Password Modal -->
    <div id="change-password-modal" class="modal">
        <div class="modal-content compact">
            <span class="close" onclick="hideChangePasswordModal()">&times;</span>
            <h2>Change Password</h2>
            <form id="change-password-form">
                <div class="form-group">
                    <label for="current-password">Current Password</label>
                    <input type="password" id="current-password" required>
                </div>
                <div class="form-group">
                    <label for="new-password">New Password</label>
                    <input type="password" id="new-password" required minlength="6">
                </div>
                <div class="form-group">
                    <label for="confirm-new-password">Confirm New Password</label>
                    <input type="password" id="confirm-new-password" required>
                </div>
                <div class="form-buttons">
                    <button type="button" class="btn btn-secondary" onclick="hideChangePasswordModal()">Cancel</button>
                    <button type="submit" class="btn btn-primary">Change Password</button>
                </div>
            </form>
        </div>
    </div>

    <script type="module" src="../js/settings.js"></script>
</body>
</html>