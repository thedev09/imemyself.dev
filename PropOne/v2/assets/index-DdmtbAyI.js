var zP=Object.defineProperty;var w0=t=>{throw TypeError(t)};var HP=(t,e,n)=>e in t?zP(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var oi=(t,e,n)=>HP(t,typeof e!="symbol"?e+"":e,n),wf=(t,e,n)=>e.has(t)||w0("Cannot "+n);var $=(t,e,n)=>(wf(t,e,"read from private field"),n?n.call(t):e.get(t)),Ae=(t,e,n)=>e.has(t)?w0("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),fe=(t,e,n,r)=>(wf(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Pt=(t,e,n)=>(wf(t,e,"access private method"),n);var qc=(t,e,n,r)=>({set _(s){fe(t,e,s,n)},get _(){return $(t,e,r)}});function WP(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function g1(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var y1={exports:{}},nh={},v1={exports:{}},ye={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sc=Symbol.for("react.element"),qP=Symbol.for("react.portal"),KP=Symbol.for("react.fragment"),GP=Symbol.for("react.strict_mode"),QP=Symbol.for("react.profiler"),YP=Symbol.for("react.provider"),XP=Symbol.for("react.context"),JP=Symbol.for("react.forward_ref"),ZP=Symbol.for("react.suspense"),eR=Symbol.for("react.memo"),tR=Symbol.for("react.lazy"),_0=Symbol.iterator;function nR(t){return t===null||typeof t!="object"?null:(t=_0&&t[_0]||t["@@iterator"],typeof t=="function"?t:null)}var w1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_1=Object.assign,E1={};function aa(t,e,n){this.props=t,this.context=e,this.refs=E1,this.updater=n||w1}aa.prototype.isReactComponent={};aa.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};aa.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function x1(){}x1.prototype=aa.prototype;function fg(t,e,n){this.props=t,this.context=e,this.refs=E1,this.updater=n||w1}var pg=fg.prototype=new x1;pg.constructor=fg;_1(pg,aa.prototype);pg.isPureReactComponent=!0;var E0=Array.isArray,T1=Object.prototype.hasOwnProperty,mg={current:null},S1={key:!0,ref:!0,__self:!0,__source:!0};function I1(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)T1.call(e,r)&&!S1.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var c=Array(a),u=0;u<a;u++)c[u]=arguments[u+2];s.children=c}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:sc,type:t,key:i,ref:o,props:s,_owner:mg.current}}function rR(t,e){return{$$typeof:sc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function gg(t){return typeof t=="object"&&t!==null&&t.$$typeof===sc}function sR(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var x0=/\/+/g;function _f(t,e){return typeof t=="object"&&t!==null&&t.key!=null?sR(""+t.key):e.toString(36)}function Ru(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case sc:case qP:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+_f(o,0):r,E0(s)?(n="",t!=null&&(n=t.replace(x0,"$&/")+"/"),Ru(s,e,n,"",function(u){return u})):s!=null&&(gg(s)&&(s=rR(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(x0,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",E0(t))for(var a=0;a<t.length;a++){i=t[a];var c=r+_f(i,a);o+=Ru(i,e,n,c,s)}else if(c=nR(t),typeof c=="function")for(t=c.call(t),a=0;!(i=t.next()).done;)i=i.value,c=r+_f(i,a++),o+=Ru(i,e,n,c,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Kc(t,e,n){if(t==null)return t;var r=[],s=0;return Ru(t,r,"","",function(i){return e.call(n,i,s++)}),r}function iR(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Kt={current:null},Nu={transition:null},oR={ReactCurrentDispatcher:Kt,ReactCurrentBatchConfig:Nu,ReactCurrentOwner:mg};function C1(){throw Error("act(...) is not supported in production builds of React.")}ye.Children={map:Kc,forEach:function(t,e,n){Kc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Kc(t,function(){e++}),e},toArray:function(t){return Kc(t,function(e){return e})||[]},only:function(t){if(!gg(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ye.Component=aa;ye.Fragment=KP;ye.Profiler=QP;ye.PureComponent=fg;ye.StrictMode=GP;ye.Suspense=ZP;ye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oR;ye.act=C1;ye.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=_1({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=mg.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(c in e)T1.call(e,c)&&!S1.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&a!==void 0?a[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){a=Array(c);for(var u=0;u<c;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:sc,type:t.type,key:s,ref:i,props:r,_owner:o}};ye.createContext=function(t){return t={$$typeof:XP,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:YP,_context:t},t.Consumer=t};ye.createElement=I1;ye.createFactory=function(t){var e=I1.bind(null,t);return e.type=t,e};ye.createRef=function(){return{current:null}};ye.forwardRef=function(t){return{$$typeof:JP,render:t}};ye.isValidElement=gg;ye.lazy=function(t){return{$$typeof:tR,_payload:{_status:-1,_result:t},_init:iR}};ye.memo=function(t,e){return{$$typeof:eR,type:t,compare:e===void 0?null:e}};ye.startTransition=function(t){var e=Nu.transition;Nu.transition={};try{t()}finally{Nu.transition=e}};ye.unstable_act=C1;ye.useCallback=function(t,e){return Kt.current.useCallback(t,e)};ye.useContext=function(t){return Kt.current.useContext(t)};ye.useDebugValue=function(){};ye.useDeferredValue=function(t){return Kt.current.useDeferredValue(t)};ye.useEffect=function(t,e){return Kt.current.useEffect(t,e)};ye.useId=function(){return Kt.current.useId()};ye.useImperativeHandle=function(t,e,n){return Kt.current.useImperativeHandle(t,e,n)};ye.useInsertionEffect=function(t,e){return Kt.current.useInsertionEffect(t,e)};ye.useLayoutEffect=function(t,e){return Kt.current.useLayoutEffect(t,e)};ye.useMemo=function(t,e){return Kt.current.useMemo(t,e)};ye.useReducer=function(t,e,n){return Kt.current.useReducer(t,e,n)};ye.useRef=function(t){return Kt.current.useRef(t)};ye.useState=function(t){return Kt.current.useState(t)};ye.useSyncExternalStore=function(t,e,n){return Kt.current.useSyncExternalStore(t,e,n)};ye.useTransition=function(){return Kt.current.useTransition()};ye.version="18.3.1";v1.exports=ye;var w=v1.exports;const W=g1(w),b1=WP({__proto__:null,default:W},[w]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aR=w,lR=Symbol.for("react.element"),cR=Symbol.for("react.fragment"),uR=Object.prototype.hasOwnProperty,dR=aR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,hR={key:!0,ref:!0,__self:!0,__source:!0};function A1(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)uR.call(e,r)&&!hR.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:lR,type:t,key:i,ref:o,props:s,_owner:dR.current}}nh.Fragment=cR;nh.jsx=A1;nh.jsxs=A1;y1.exports=nh;var m=y1.exports,P1={exports:{}},yn={},R1={exports:{}},N1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(V,z){var Z=V.length;V.push(z);e:for(;0<Z;){var Q=Z-1>>>1,ee=V[Q];if(0<s(ee,z))V[Q]=z,V[Z]=ee,Z=Q;else break e}}function n(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var z=V[0],Z=V.pop();if(Z!==z){V[0]=Z;e:for(var Q=0,ee=V.length,re=ee>>>1;Q<re;){var Ce=2*(Q+1)-1,Be=V[Ce],me=Ce+1,ne=V[me];if(0>s(Be,Z))me<ee&&0>s(ne,Be)?(V[Q]=ne,V[me]=Z,Q=me):(V[Q]=Be,V[Ce]=Z,Q=Ce);else if(me<ee&&0>s(ne,Z))V[Q]=ne,V[me]=Z,Q=me;else break e}}return z}function s(V,z){var Z=V.sortIndex-z.sortIndex;return Z!==0?Z:V.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var c=[],u=[],h=1,f=null,d=3,y=!1,x=!1,g=!1,T=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(V){for(var z=n(u);z!==null;){if(z.callback===null)r(u);else if(z.startTime<=V)r(u),z.sortIndex=z.expirationTime,e(c,z);else break;z=n(u)}}function N(V){if(g=!1,S(V),!x)if(n(c)!==null)x=!0,K(O);else{var z=n(u);z!==null&&te(N,z.startTime-V)}}function O(V,z){x=!1,g&&(g=!1,E(I),I=-1),y=!0;var Z=d;try{for(S(z),f=n(c);f!==null&&(!(f.expirationTime>z)||V&&!k());){var Q=f.callback;if(typeof Q=="function"){f.callback=null,d=f.priorityLevel;var ee=Q(f.expirationTime<=z);z=t.unstable_now(),typeof ee=="function"?f.callback=ee:f===n(c)&&r(c),S(z)}else r(c);f=n(c)}if(f!==null)var re=!0;else{var Ce=n(u);Ce!==null&&te(N,Ce.startTime-z),re=!1}return re}finally{f=null,d=Z,y=!1}}var L=!1,C=null,I=-1,A=5,R=-1;function k(){return!(t.unstable_now()-R<A)}function D(){if(C!==null){var V=t.unstable_now();R=V;var z=!0;try{z=C(!0,V)}finally{z?P():(L=!1,C=null)}}else L=!1}var P;if(typeof _=="function")P=function(){_(D)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,G=B.port2;B.port1.onmessage=D,P=function(){G.postMessage(null)}}else P=function(){T(D,0)};function K(V){C=V,L||(L=!0,P())}function te(V,z){I=T(function(){V(t.unstable_now())},z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(V){V.callback=null},t.unstable_continueExecution=function(){x||y||(x=!0,K(O))},t.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<V?Math.floor(1e3/V):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(V){switch(d){case 1:case 2:case 3:var z=3;break;default:z=d}var Z=d;d=z;try{return V()}finally{d=Z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(V,z){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var Z=d;d=V;try{return z()}finally{d=Z}},t.unstable_scheduleCallback=function(V,z,Z){var Q=t.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?Q+Z:Q):Z=Q,V){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=Z+ee,V={id:h++,callback:z,priorityLevel:V,startTime:Z,expirationTime:ee,sortIndex:-1},Z>Q?(V.sortIndex=Z,e(u,V),n(c)===null&&V===n(u)&&(g?(E(I),I=-1):g=!0,te(N,Z-Q))):(V.sortIndex=ee,e(c,V),x||y||(x=!0,K(O))),V},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(V){var z=d;return function(){var Z=d;d=z;try{return V.apply(this,arguments)}finally{d=Z}}}})(N1);R1.exports=N1;var fR=R1.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pR=w,gn=fR;function H(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var k1=new Set,Cl={};function Fi(t,e){zo(t,e),zo(t+"Capture",e)}function zo(t,e){for(Cl[t]=e,t=0;t<e.length;t++)k1.add(e[t])}var kr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_p=Object.prototype.hasOwnProperty,mR=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,T0={},S0={};function gR(t){return _p.call(S0,t)?!0:_p.call(T0,t)?!1:mR.test(t)?S0[t]=!0:(T0[t]=!0,!1)}function yR(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function vR(t,e,n,r){if(e===null||typeof e>"u"||yR(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Gt(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var St={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){St[t]=new Gt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];St[e]=new Gt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){St[t]=new Gt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){St[t]=new Gt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){St[t]=new Gt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){St[t]=new Gt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){St[t]=new Gt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){St[t]=new Gt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){St[t]=new Gt(t,5,!1,t.toLowerCase(),null,!1,!1)});var yg=/[\-:]([a-z])/g;function vg(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(yg,vg);St[e]=new Gt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(yg,vg);St[e]=new Gt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(yg,vg);St[e]=new Gt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){St[t]=new Gt(t,1,!1,t.toLowerCase(),null,!1,!1)});St.xlinkHref=new Gt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){St[t]=new Gt(t,1,!1,t.toLowerCase(),null,!0,!0)});function wg(t,e,n,r){var s=St.hasOwnProperty(e)?St[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(vR(e,n,s,r)&&(n=null),r||s===null?gR(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Br=pR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Gc=Symbol.for("react.element"),ro=Symbol.for("react.portal"),so=Symbol.for("react.fragment"),_g=Symbol.for("react.strict_mode"),Ep=Symbol.for("react.profiler"),D1=Symbol.for("react.provider"),O1=Symbol.for("react.context"),Eg=Symbol.for("react.forward_ref"),xp=Symbol.for("react.suspense"),Tp=Symbol.for("react.suspense_list"),xg=Symbol.for("react.memo"),ns=Symbol.for("react.lazy"),M1=Symbol.for("react.offscreen"),I0=Symbol.iterator;function ja(t){return t===null||typeof t!="object"?null:(t=I0&&t[I0]||t["@@iterator"],typeof t=="function"?t:null)}var Ke=Object.assign,Ef;function Qa(t){if(Ef===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Ef=e&&e[1]||""}return`
`+Ef+t}var xf=!1;function Tf(t,e){if(!t||xf)return"";xf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var c=`
`+s[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=a);break}}}finally{xf=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Qa(t):""}function wR(t){switch(t.tag){case 5:return Qa(t.type);case 16:return Qa("Lazy");case 13:return Qa("Suspense");case 19:return Qa("SuspenseList");case 0:case 2:case 15:return t=Tf(t.type,!1),t;case 11:return t=Tf(t.type.render,!1),t;case 1:return t=Tf(t.type,!0),t;default:return""}}function Sp(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case so:return"Fragment";case ro:return"Portal";case Ep:return"Profiler";case _g:return"StrictMode";case xp:return"Suspense";case Tp:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case O1:return(t.displayName||"Context")+".Consumer";case D1:return(t._context.displayName||"Context")+".Provider";case Eg:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case xg:return e=t.displayName||null,e!==null?e:Sp(t.type)||"Memo";case ns:e=t._payload,t=t._init;try{return Sp(t(e))}catch{}}return null}function _R(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Sp(e);case 8:return e===_g?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ds(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function L1(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function ER(t){var e=L1(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Qc(t){t._valueTracker||(t._valueTracker=ER(t))}function V1(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=L1(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function rd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Ip(t,e){var n=e.checked;return Ke({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function C0(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ds(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function j1(t,e){e=e.checked,e!=null&&wg(t,"checked",e,!1)}function Cp(t,e){j1(t,e);var n=Ds(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?bp(t,e.type,n):e.hasOwnProperty("defaultValue")&&bp(t,e.type,Ds(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function b0(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function bp(t,e,n){(e!=="number"||rd(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ya=Array.isArray;function wo(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ds(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Ap(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(H(91));return Ke({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function A0(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(H(92));if(Ya(n)){if(1<n.length)throw Error(H(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ds(n)}}function F1(t,e){var n=Ds(e.value),r=Ds(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function P0(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function U1(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Pp(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?U1(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Yc,$1=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Yc=Yc||document.createElement("div"),Yc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Yc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function bl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var cl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},xR=["Webkit","ms","Moz","O"];Object.keys(cl).forEach(function(t){xR.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),cl[e]=cl[t]})});function B1(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||cl.hasOwnProperty(t)&&cl[t]?(""+e).trim():e+"px"}function z1(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=B1(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var TR=Ke({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Rp(t,e){if(e){if(TR[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(H(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(H(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(H(61))}if(e.style!=null&&typeof e.style!="object")throw Error(H(62))}}function Np(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var kp=null;function Tg(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Dp=null,_o=null,Eo=null;function R0(t){if(t=ac(t)){if(typeof Dp!="function")throw Error(H(280));var e=t.stateNode;e&&(e=ah(e),Dp(t.stateNode,t.type,e))}}function H1(t){_o?Eo?Eo.push(t):Eo=[t]:_o=t}function W1(){if(_o){var t=_o,e=Eo;if(Eo=_o=null,R0(t),e)for(t=0;t<e.length;t++)R0(e[t])}}function q1(t,e){return t(e)}function K1(){}var Sf=!1;function G1(t,e,n){if(Sf)return t(e,n);Sf=!0;try{return q1(t,e,n)}finally{Sf=!1,(_o!==null||Eo!==null)&&(K1(),W1())}}function Al(t,e){var n=t.stateNode;if(n===null)return null;var r=ah(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(H(231,e,typeof n));return n}var Op=!1;if(kr)try{var Fa={};Object.defineProperty(Fa,"passive",{get:function(){Op=!0}}),window.addEventListener("test",Fa,Fa),window.removeEventListener("test",Fa,Fa)}catch{Op=!1}function SR(t,e,n,r,s,i,o,a,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(h){this.onError(h)}}var ul=!1,sd=null,id=!1,Mp=null,IR={onError:function(t){ul=!0,sd=t}};function CR(t,e,n,r,s,i,o,a,c){ul=!1,sd=null,SR.apply(IR,arguments)}function bR(t,e,n,r,s,i,o,a,c){if(CR.apply(this,arguments),ul){if(ul){var u=sd;ul=!1,sd=null}else throw Error(H(198));id||(id=!0,Mp=u)}}function Ui(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Q1(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function N0(t){if(Ui(t)!==t)throw Error(H(188))}function AR(t){var e=t.alternate;if(!e){if(e=Ui(t),e===null)throw Error(H(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return N0(s),t;if(i===r)return N0(s),e;i=i.sibling}throw Error(H(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(H(189))}}if(n.alternate!==r)throw Error(H(190))}if(n.tag!==3)throw Error(H(188));return n.stateNode.current===n?t:e}function Y1(t){return t=AR(t),t!==null?X1(t):null}function X1(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=X1(t);if(e!==null)return e;t=t.sibling}return null}var J1=gn.unstable_scheduleCallback,k0=gn.unstable_cancelCallback,PR=gn.unstable_shouldYield,RR=gn.unstable_requestPaint,nt=gn.unstable_now,NR=gn.unstable_getCurrentPriorityLevel,Sg=gn.unstable_ImmediatePriority,Z1=gn.unstable_UserBlockingPriority,od=gn.unstable_NormalPriority,kR=gn.unstable_LowPriority,ex=gn.unstable_IdlePriority,rh=null,or=null;function DR(t){if(or&&typeof or.onCommitFiberRoot=="function")try{or.onCommitFiberRoot(rh,t,void 0,(t.current.flags&128)===128)}catch{}}var Un=Math.clz32?Math.clz32:LR,OR=Math.log,MR=Math.LN2;function LR(t){return t>>>=0,t===0?32:31-(OR(t)/MR|0)|0}var Xc=64,Jc=4194304;function Xa(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ad(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Xa(a):(i&=o,i!==0&&(r=Xa(i)))}else o=n&~s,o!==0?r=Xa(o):i!==0&&(r=Xa(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Un(e),s=1<<n,r|=t[n],e&=~s;return r}function VR(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function jR(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Un(i),a=1<<o,c=s[o];c===-1?(!(a&n)||a&r)&&(s[o]=VR(a,e)):c<=e&&(t.expiredLanes|=a),i&=~a}}function Lp(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function tx(){var t=Xc;return Xc<<=1,!(Xc&4194240)&&(Xc=64),t}function If(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ic(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Un(e),t[e]=n}function FR(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Un(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Ig(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Un(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Ne=0;function nx(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var rx,Cg,sx,ix,ox,Vp=!1,Zc=[],vs=null,ws=null,_s=null,Pl=new Map,Rl=new Map,ss=[],UR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function D0(t,e){switch(t){case"focusin":case"focusout":vs=null;break;case"dragenter":case"dragleave":ws=null;break;case"mouseover":case"mouseout":_s=null;break;case"pointerover":case"pointerout":Pl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rl.delete(e.pointerId)}}function Ua(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=ac(e),e!==null&&Cg(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function $R(t,e,n,r,s){switch(e){case"focusin":return vs=Ua(vs,t,e,n,r,s),!0;case"dragenter":return ws=Ua(ws,t,e,n,r,s),!0;case"mouseover":return _s=Ua(_s,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Pl.set(i,Ua(Pl.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Rl.set(i,Ua(Rl.get(i)||null,t,e,n,r,s)),!0}return!1}function ax(t){var e=ui(t.target);if(e!==null){var n=Ui(e);if(n!==null){if(e=n.tag,e===13){if(e=Q1(n),e!==null){t.blockedOn=e,ox(t.priority,function(){sx(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ku(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=jp(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);kp=r,n.target.dispatchEvent(r),kp=null}else return e=ac(n),e!==null&&Cg(e),t.blockedOn=n,!1;e.shift()}return!0}function O0(t,e,n){ku(t)&&n.delete(e)}function BR(){Vp=!1,vs!==null&&ku(vs)&&(vs=null),ws!==null&&ku(ws)&&(ws=null),_s!==null&&ku(_s)&&(_s=null),Pl.forEach(O0),Rl.forEach(O0)}function $a(t,e){t.blockedOn===e&&(t.blockedOn=null,Vp||(Vp=!0,gn.unstable_scheduleCallback(gn.unstable_NormalPriority,BR)))}function Nl(t){function e(s){return $a(s,t)}if(0<Zc.length){$a(Zc[0],t);for(var n=1;n<Zc.length;n++){var r=Zc[n];r.blockedOn===t&&(r.blockedOn=null)}}for(vs!==null&&$a(vs,t),ws!==null&&$a(ws,t),_s!==null&&$a(_s,t),Pl.forEach(e),Rl.forEach(e),n=0;n<ss.length;n++)r=ss[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ss.length&&(n=ss[0],n.blockedOn===null);)ax(n),n.blockedOn===null&&ss.shift()}var xo=Br.ReactCurrentBatchConfig,ld=!0;function zR(t,e,n,r){var s=Ne,i=xo.transition;xo.transition=null;try{Ne=1,bg(t,e,n,r)}finally{Ne=s,xo.transition=i}}function HR(t,e,n,r){var s=Ne,i=xo.transition;xo.transition=null;try{Ne=4,bg(t,e,n,r)}finally{Ne=s,xo.transition=i}}function bg(t,e,n,r){if(ld){var s=jp(t,e,n,r);if(s===null)Mf(t,e,r,cd,n),D0(t,r);else if($R(s,t,e,n,r))r.stopPropagation();else if(D0(t,r),e&4&&-1<UR.indexOf(t)){for(;s!==null;){var i=ac(s);if(i!==null&&rx(i),i=jp(t,e,n,r),i===null&&Mf(t,e,r,cd,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Mf(t,e,r,null,n)}}var cd=null;function jp(t,e,n,r){if(cd=null,t=Tg(r),t=ui(t),t!==null)if(e=Ui(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Q1(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return cd=t,null}function lx(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(NR()){case Sg:return 1;case Z1:return 4;case od:case kR:return 16;case ex:return 536870912;default:return 16}default:return 16}}var ps=null,Ag=null,Du=null;function cx(){if(Du)return Du;var t,e=Ag,n=e.length,r,s="value"in ps?ps.value:ps.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return Du=s.slice(t,1<r?1-r:void 0)}function Ou(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function eu(){return!0}function M0(){return!1}function vn(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?eu:M0,this.isPropagationStopped=M0,this}return Ke(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=eu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=eu)},persist:function(){},isPersistent:eu}),e}var la={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Pg=vn(la),oc=Ke({},la,{view:0,detail:0}),WR=vn(oc),Cf,bf,Ba,sh=Ke({},oc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Rg,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ba&&(Ba&&t.type==="mousemove"?(Cf=t.screenX-Ba.screenX,bf=t.screenY-Ba.screenY):bf=Cf=0,Ba=t),Cf)},movementY:function(t){return"movementY"in t?t.movementY:bf}}),L0=vn(sh),qR=Ke({},sh,{dataTransfer:0}),KR=vn(qR),GR=Ke({},oc,{relatedTarget:0}),Af=vn(GR),QR=Ke({},la,{animationName:0,elapsedTime:0,pseudoElement:0}),YR=vn(QR),XR=Ke({},la,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),JR=vn(XR),ZR=Ke({},la,{data:0}),V0=vn(ZR),eN={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tN={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rN(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=nN[t])?!!e[t]:!1}function Rg(){return rN}var sN=Ke({},oc,{key:function(t){if(t.key){var e=eN[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ou(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?tN[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Rg,charCode:function(t){return t.type==="keypress"?Ou(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ou(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),iN=vn(sN),oN=Ke({},sh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),j0=vn(oN),aN=Ke({},oc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Rg}),lN=vn(aN),cN=Ke({},la,{propertyName:0,elapsedTime:0,pseudoElement:0}),uN=vn(cN),dN=Ke({},sh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),hN=vn(dN),fN=[9,13,27,32],Ng=kr&&"CompositionEvent"in window,dl=null;kr&&"documentMode"in document&&(dl=document.documentMode);var pN=kr&&"TextEvent"in window&&!dl,ux=kr&&(!Ng||dl&&8<dl&&11>=dl),F0=" ",U0=!1;function dx(t,e){switch(t){case"keyup":return fN.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function hx(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var io=!1;function mN(t,e){switch(t){case"compositionend":return hx(e);case"keypress":return e.which!==32?null:(U0=!0,F0);case"textInput":return t=e.data,t===F0&&U0?null:t;default:return null}}function gN(t,e){if(io)return t==="compositionend"||!Ng&&dx(t,e)?(t=cx(),Du=Ag=ps=null,io=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return ux&&e.locale!=="ko"?null:e.data;default:return null}}var yN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!yN[t.type]:e==="textarea"}function fx(t,e,n,r){H1(r),e=ud(e,"onChange"),0<e.length&&(n=new Pg("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var hl=null,kl=null;function vN(t){Sx(t,0)}function ih(t){var e=lo(t);if(V1(e))return t}function wN(t,e){if(t==="change")return e}var px=!1;if(kr){var Pf;if(kr){var Rf="oninput"in document;if(!Rf){var B0=document.createElement("div");B0.setAttribute("oninput","return;"),Rf=typeof B0.oninput=="function"}Pf=Rf}else Pf=!1;px=Pf&&(!document.documentMode||9<document.documentMode)}function z0(){hl&&(hl.detachEvent("onpropertychange",mx),kl=hl=null)}function mx(t){if(t.propertyName==="value"&&ih(kl)){var e=[];fx(e,kl,t,Tg(t)),G1(vN,e)}}function _N(t,e,n){t==="focusin"?(z0(),hl=e,kl=n,hl.attachEvent("onpropertychange",mx)):t==="focusout"&&z0()}function EN(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ih(kl)}function xN(t,e){if(t==="click")return ih(e)}function TN(t,e){if(t==="input"||t==="change")return ih(e)}function SN(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Hn=typeof Object.is=="function"?Object.is:SN;function Dl(t,e){if(Hn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!_p.call(e,s)||!Hn(t[s],e[s]))return!1}return!0}function H0(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function W0(t,e){var n=H0(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=H0(n)}}function gx(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?gx(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function yx(){for(var t=window,e=rd();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=rd(t.document)}return e}function kg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function IN(t){var e=yx(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&gx(n.ownerDocument.documentElement,n)){if(r!==null&&kg(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=W0(n,i);var o=W0(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var CN=kr&&"documentMode"in document&&11>=document.documentMode,oo=null,Fp=null,fl=null,Up=!1;function q0(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Up||oo==null||oo!==rd(r)||(r=oo,"selectionStart"in r&&kg(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),fl&&Dl(fl,r)||(fl=r,r=ud(Fp,"onSelect"),0<r.length&&(e=new Pg("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=oo)))}function tu(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ao={animationend:tu("Animation","AnimationEnd"),animationiteration:tu("Animation","AnimationIteration"),animationstart:tu("Animation","AnimationStart"),transitionend:tu("Transition","TransitionEnd")},Nf={},vx={};kr&&(vx=document.createElement("div").style,"AnimationEvent"in window||(delete ao.animationend.animation,delete ao.animationiteration.animation,delete ao.animationstart.animation),"TransitionEvent"in window||delete ao.transitionend.transition);function oh(t){if(Nf[t])return Nf[t];if(!ao[t])return t;var e=ao[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in vx)return Nf[t]=e[n];return t}var wx=oh("animationend"),_x=oh("animationiteration"),Ex=oh("animationstart"),xx=oh("transitionend"),Tx=new Map,K0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ws(t,e){Tx.set(t,e),Fi(e,[t])}for(var kf=0;kf<K0.length;kf++){var Df=K0[kf],bN=Df.toLowerCase(),AN=Df[0].toUpperCase()+Df.slice(1);Ws(bN,"on"+AN)}Ws(wx,"onAnimationEnd");Ws(_x,"onAnimationIteration");Ws(Ex,"onAnimationStart");Ws("dblclick","onDoubleClick");Ws("focusin","onFocus");Ws("focusout","onBlur");Ws(xx,"onTransitionEnd");zo("onMouseEnter",["mouseout","mouseover"]);zo("onMouseLeave",["mouseout","mouseover"]);zo("onPointerEnter",["pointerout","pointerover"]);zo("onPointerLeave",["pointerout","pointerover"]);Fi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Fi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Fi("onBeforeInput",["compositionend","keypress","textInput","paste"]);Fi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Fi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Fi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ja="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),PN=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ja));function G0(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,bR(r,e,void 0,t),t.currentTarget=null}function Sx(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],c=a.instance,u=a.currentTarget;if(a=a.listener,c!==i&&s.isPropagationStopped())break e;G0(s,a,u),i=c}else for(o=0;o<r.length;o++){if(a=r[o],c=a.instance,u=a.currentTarget,a=a.listener,c!==i&&s.isPropagationStopped())break e;G0(s,a,u),i=c}}}if(id)throw t=Mp,id=!1,Mp=null,t}function Ue(t,e){var n=e[Wp];n===void 0&&(n=e[Wp]=new Set);var r=t+"__bubble";n.has(r)||(Ix(e,t,2,!1),n.add(r))}function Of(t,e,n){var r=0;e&&(r|=4),Ix(n,t,r,e)}var nu="_reactListening"+Math.random().toString(36).slice(2);function Ol(t){if(!t[nu]){t[nu]=!0,k1.forEach(function(n){n!=="selectionchange"&&(PN.has(n)||Of(n,!1,t),Of(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[nu]||(e[nu]=!0,Of("selectionchange",!1,e))}}function Ix(t,e,n,r){switch(lx(e)){case 1:var s=zR;break;case 4:s=HR;break;default:s=bg}n=s.bind(null,e,n,t),s=void 0,!Op||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Mf(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;a!==null;){if(o=ui(a),o===null)return;if(c=o.tag,c===5||c===6){r=i=o;continue e}a=a.parentNode}}r=r.return}G1(function(){var u=i,h=Tg(n),f=[];e:{var d=Tx.get(t);if(d!==void 0){var y=Pg,x=t;switch(t){case"keypress":if(Ou(n)===0)break e;case"keydown":case"keyup":y=iN;break;case"focusin":x="focus",y=Af;break;case"focusout":x="blur",y=Af;break;case"beforeblur":case"afterblur":y=Af;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=L0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=KR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=lN;break;case wx:case _x:case Ex:y=YR;break;case xx:y=uN;break;case"scroll":y=WR;break;case"wheel":y=hN;break;case"copy":case"cut":case"paste":y=JR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=j0}var g=(e&4)!==0,T=!g&&t==="scroll",E=g?d!==null?d+"Capture":null:d;g=[];for(var _=u,S;_!==null;){S=_;var N=S.stateNode;if(S.tag===5&&N!==null&&(S=N,E!==null&&(N=Al(_,E),N!=null&&g.push(Ml(_,N,S)))),T)break;_=_.return}0<g.length&&(d=new y(d,x,null,n,h),f.push({event:d,listeners:g}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",d&&n!==kp&&(x=n.relatedTarget||n.fromElement)&&(ui(x)||x[Dr]))break e;if((y||d)&&(d=h.window===h?h:(d=h.ownerDocument)?d.defaultView||d.parentWindow:window,y?(x=n.relatedTarget||n.toElement,y=u,x=x?ui(x):null,x!==null&&(T=Ui(x),x!==T||x.tag!==5&&x.tag!==6)&&(x=null)):(y=null,x=u),y!==x)){if(g=L0,N="onMouseLeave",E="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(g=j0,N="onPointerLeave",E="onPointerEnter",_="pointer"),T=y==null?d:lo(y),S=x==null?d:lo(x),d=new g(N,_+"leave",y,n,h),d.target=T,d.relatedTarget=S,N=null,ui(h)===u&&(g=new g(E,_+"enter",x,n,h),g.target=S,g.relatedTarget=T,N=g),T=N,y&&x)t:{for(g=y,E=x,_=0,S=g;S;S=Qi(S))_++;for(S=0,N=E;N;N=Qi(N))S++;for(;0<_-S;)g=Qi(g),_--;for(;0<S-_;)E=Qi(E),S--;for(;_--;){if(g===E||E!==null&&g===E.alternate)break t;g=Qi(g),E=Qi(E)}g=null}else g=null;y!==null&&Q0(f,d,y,g,!1),x!==null&&T!==null&&Q0(f,T,x,g,!0)}}e:{if(d=u?lo(u):window,y=d.nodeName&&d.nodeName.toLowerCase(),y==="select"||y==="input"&&d.type==="file")var O=wN;else if($0(d))if(px)O=TN;else{O=EN;var L=_N}else(y=d.nodeName)&&y.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(O=xN);if(O&&(O=O(t,u))){fx(f,O,n,h);break e}L&&L(t,d,u),t==="focusout"&&(L=d._wrapperState)&&L.controlled&&d.type==="number"&&bp(d,"number",d.value)}switch(L=u?lo(u):window,t){case"focusin":($0(L)||L.contentEditable==="true")&&(oo=L,Fp=u,fl=null);break;case"focusout":fl=Fp=oo=null;break;case"mousedown":Up=!0;break;case"contextmenu":case"mouseup":case"dragend":Up=!1,q0(f,n,h);break;case"selectionchange":if(CN)break;case"keydown":case"keyup":q0(f,n,h)}var C;if(Ng)e:{switch(t){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else io?dx(t,n)&&(I="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(I="onCompositionStart");I&&(ux&&n.locale!=="ko"&&(io||I!=="onCompositionStart"?I==="onCompositionEnd"&&io&&(C=cx()):(ps=h,Ag="value"in ps?ps.value:ps.textContent,io=!0)),L=ud(u,I),0<L.length&&(I=new V0(I,t,null,n,h),f.push({event:I,listeners:L}),C?I.data=C:(C=hx(n),C!==null&&(I.data=C)))),(C=pN?mN(t,n):gN(t,n))&&(u=ud(u,"onBeforeInput"),0<u.length&&(h=new V0("onBeforeInput","beforeinput",null,n,h),f.push({event:h,listeners:u}),h.data=C))}Sx(f,e)})}function Ml(t,e,n){return{instance:t,listener:e,currentTarget:n}}function ud(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Al(t,n),i!=null&&r.unshift(Ml(t,i,s)),i=Al(t,e),i!=null&&r.push(Ml(t,i,s))),t=t.return}return r}function Qi(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Q0(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,c=a.alternate,u=a.stateNode;if(c!==null&&c===r)break;a.tag===5&&u!==null&&(a=u,s?(c=Al(n,i),c!=null&&o.unshift(Ml(n,c,a))):s||(c=Al(n,i),c!=null&&o.push(Ml(n,c,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var RN=/\r\n?/g,NN=/\u0000|\uFFFD/g;function Y0(t){return(typeof t=="string"?t:""+t).replace(RN,`
`).replace(NN,"")}function ru(t,e,n){if(e=Y0(e),Y0(t)!==e&&n)throw Error(H(425))}function dd(){}var $p=null,Bp=null;function zp(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Hp=typeof setTimeout=="function"?setTimeout:void 0,kN=typeof clearTimeout=="function"?clearTimeout:void 0,X0=typeof Promise=="function"?Promise:void 0,DN=typeof queueMicrotask=="function"?queueMicrotask:typeof X0<"u"?function(t){return X0.resolve(null).then(t).catch(ON)}:Hp;function ON(t){setTimeout(function(){throw t})}function Lf(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Nl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Nl(e)}function Es(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function J0(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ca=Math.random().toString(36).slice(2),sr="__reactFiber$"+ca,Ll="__reactProps$"+ca,Dr="__reactContainer$"+ca,Wp="__reactEvents$"+ca,MN="__reactListeners$"+ca,LN="__reactHandles$"+ca;function ui(t){var e=t[sr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Dr]||n[sr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=J0(t);t!==null;){if(n=t[sr])return n;t=J0(t)}return e}t=n,n=t.parentNode}return null}function ac(t){return t=t[sr]||t[Dr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function lo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(H(33))}function ah(t){return t[Ll]||null}var qp=[],co=-1;function qs(t){return{current:t}}function $e(t){0>co||(t.current=qp[co],qp[co]=null,co--)}function Le(t,e){co++,qp[co]=t.current,t.current=e}var Os={},jt=qs(Os),en=qs(!1),Si=Os;function Ho(t,e){var n=t.type.contextTypes;if(!n)return Os;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function tn(t){return t=t.childContextTypes,t!=null}function hd(){$e(en),$e(jt)}function Z0(t,e,n){if(jt.current!==Os)throw Error(H(168));Le(jt,e),Le(en,n)}function Cx(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(H(108,_R(t)||"Unknown",s));return Ke({},n,r)}function fd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Os,Si=jt.current,Le(jt,t),Le(en,en.current),!0}function ew(t,e,n){var r=t.stateNode;if(!r)throw Error(H(169));n?(t=Cx(t,e,Si),r.__reactInternalMemoizedMergedChildContext=t,$e(en),$e(jt),Le(jt,t)):$e(en),Le(en,n)}var Sr=null,lh=!1,Vf=!1;function bx(t){Sr===null?Sr=[t]:Sr.push(t)}function VN(t){lh=!0,bx(t)}function Ks(){if(!Vf&&Sr!==null){Vf=!0;var t=0,e=Ne;try{var n=Sr;for(Ne=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Sr=null,lh=!1}catch(s){throw Sr!==null&&(Sr=Sr.slice(t+1)),J1(Sg,Ks),s}finally{Ne=e,Vf=!1}}return null}var uo=[],ho=0,pd=null,md=0,En=[],xn=0,Ii=null,Cr=1,br="";function ai(t,e){uo[ho++]=md,uo[ho++]=pd,pd=t,md=e}function Ax(t,e,n){En[xn++]=Cr,En[xn++]=br,En[xn++]=Ii,Ii=t;var r=Cr;t=br;var s=32-Un(r)-1;r&=~(1<<s),n+=1;var i=32-Un(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Cr=1<<32-Un(e)+s|n<<s|r,br=i+t}else Cr=1<<i|n<<s|r,br=t}function Dg(t){t.return!==null&&(ai(t,1),Ax(t,1,0))}function Og(t){for(;t===pd;)pd=uo[--ho],uo[ho]=null,md=uo[--ho],uo[ho]=null;for(;t===Ii;)Ii=En[--xn],En[xn]=null,br=En[--xn],En[xn]=null,Cr=En[--xn],En[xn]=null}var pn=null,hn=null,He=!1,jn=null;function Px(t,e){var n=In(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function tw(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,pn=t,hn=Es(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,pn=t,hn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ii!==null?{id:Cr,overflow:br}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=In(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,pn=t,hn=null,!0):!1;default:return!1}}function Kp(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Gp(t){if(He){var e=hn;if(e){var n=e;if(!tw(t,e)){if(Kp(t))throw Error(H(418));e=Es(n.nextSibling);var r=pn;e&&tw(t,e)?Px(r,n):(t.flags=t.flags&-4097|2,He=!1,pn=t)}}else{if(Kp(t))throw Error(H(418));t.flags=t.flags&-4097|2,He=!1,pn=t}}}function nw(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;pn=t}function su(t){if(t!==pn)return!1;if(!He)return nw(t),He=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!zp(t.type,t.memoizedProps)),e&&(e=hn)){if(Kp(t))throw Rx(),Error(H(418));for(;e;)Px(t,e),e=Es(e.nextSibling)}if(nw(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(H(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){hn=Es(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}hn=null}}else hn=pn?Es(t.stateNode.nextSibling):null;return!0}function Rx(){for(var t=hn;t;)t=Es(t.nextSibling)}function Wo(){hn=pn=null,He=!1}function Mg(t){jn===null?jn=[t]:jn.push(t)}var jN=Br.ReactCurrentBatchConfig;function za(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(H(309));var r=n.stateNode}if(!r)throw Error(H(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(H(284));if(!n._owner)throw Error(H(290,t))}return t}function iu(t,e){throw t=Object.prototype.toString.call(e),Error(H(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function rw(t){var e=t._init;return e(t._payload)}function Nx(t){function e(E,_){if(t){var S=E.deletions;S===null?(E.deletions=[_],E.flags|=16):S.push(_)}}function n(E,_){if(!t)return null;for(;_!==null;)e(E,_),_=_.sibling;return null}function r(E,_){for(E=new Map;_!==null;)_.key!==null?E.set(_.key,_):E.set(_.index,_),_=_.sibling;return E}function s(E,_){return E=Is(E,_),E.index=0,E.sibling=null,E}function i(E,_,S){return E.index=S,t?(S=E.alternate,S!==null?(S=S.index,S<_?(E.flags|=2,_):S):(E.flags|=2,_)):(E.flags|=1048576,_)}function o(E){return t&&E.alternate===null&&(E.flags|=2),E}function a(E,_,S,N){return _===null||_.tag!==6?(_=Hf(S,E.mode,N),_.return=E,_):(_=s(_,S),_.return=E,_)}function c(E,_,S,N){var O=S.type;return O===so?h(E,_,S.props.children,N,S.key):_!==null&&(_.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===ns&&rw(O)===_.type)?(N=s(_,S.props),N.ref=za(E,_,S),N.return=E,N):(N=$u(S.type,S.key,S.props,null,E.mode,N),N.ref=za(E,_,S),N.return=E,N)}function u(E,_,S,N){return _===null||_.tag!==4||_.stateNode.containerInfo!==S.containerInfo||_.stateNode.implementation!==S.implementation?(_=Wf(S,E.mode,N),_.return=E,_):(_=s(_,S.children||[]),_.return=E,_)}function h(E,_,S,N,O){return _===null||_.tag!==7?(_=Ei(S,E.mode,N,O),_.return=E,_):(_=s(_,S),_.return=E,_)}function f(E,_,S){if(typeof _=="string"&&_!==""||typeof _=="number")return _=Hf(""+_,E.mode,S),_.return=E,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Gc:return S=$u(_.type,_.key,_.props,null,E.mode,S),S.ref=za(E,null,_),S.return=E,S;case ro:return _=Wf(_,E.mode,S),_.return=E,_;case ns:var N=_._init;return f(E,N(_._payload),S)}if(Ya(_)||ja(_))return _=Ei(_,E.mode,S,null),_.return=E,_;iu(E,_)}return null}function d(E,_,S,N){var O=_!==null?_.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return O!==null?null:a(E,_,""+S,N);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Gc:return S.key===O?c(E,_,S,N):null;case ro:return S.key===O?u(E,_,S,N):null;case ns:return O=S._init,d(E,_,O(S._payload),N)}if(Ya(S)||ja(S))return O!==null?null:h(E,_,S,N,null);iu(E,S)}return null}function y(E,_,S,N,O){if(typeof N=="string"&&N!==""||typeof N=="number")return E=E.get(S)||null,a(_,E,""+N,O);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Gc:return E=E.get(N.key===null?S:N.key)||null,c(_,E,N,O);case ro:return E=E.get(N.key===null?S:N.key)||null,u(_,E,N,O);case ns:var L=N._init;return y(E,_,S,L(N._payload),O)}if(Ya(N)||ja(N))return E=E.get(S)||null,h(_,E,N,O,null);iu(_,N)}return null}function x(E,_,S,N){for(var O=null,L=null,C=_,I=_=0,A=null;C!==null&&I<S.length;I++){C.index>I?(A=C,C=null):A=C.sibling;var R=d(E,C,S[I],N);if(R===null){C===null&&(C=A);break}t&&C&&R.alternate===null&&e(E,C),_=i(R,_,I),L===null?O=R:L.sibling=R,L=R,C=A}if(I===S.length)return n(E,C),He&&ai(E,I),O;if(C===null){for(;I<S.length;I++)C=f(E,S[I],N),C!==null&&(_=i(C,_,I),L===null?O=C:L.sibling=C,L=C);return He&&ai(E,I),O}for(C=r(E,C);I<S.length;I++)A=y(C,E,I,S[I],N),A!==null&&(t&&A.alternate!==null&&C.delete(A.key===null?I:A.key),_=i(A,_,I),L===null?O=A:L.sibling=A,L=A);return t&&C.forEach(function(k){return e(E,k)}),He&&ai(E,I),O}function g(E,_,S,N){var O=ja(S);if(typeof O!="function")throw Error(H(150));if(S=O.call(S),S==null)throw Error(H(151));for(var L=O=null,C=_,I=_=0,A=null,R=S.next();C!==null&&!R.done;I++,R=S.next()){C.index>I?(A=C,C=null):A=C.sibling;var k=d(E,C,R.value,N);if(k===null){C===null&&(C=A);break}t&&C&&k.alternate===null&&e(E,C),_=i(k,_,I),L===null?O=k:L.sibling=k,L=k,C=A}if(R.done)return n(E,C),He&&ai(E,I),O;if(C===null){for(;!R.done;I++,R=S.next())R=f(E,R.value,N),R!==null&&(_=i(R,_,I),L===null?O=R:L.sibling=R,L=R);return He&&ai(E,I),O}for(C=r(E,C);!R.done;I++,R=S.next())R=y(C,E,I,R.value,N),R!==null&&(t&&R.alternate!==null&&C.delete(R.key===null?I:R.key),_=i(R,_,I),L===null?O=R:L.sibling=R,L=R);return t&&C.forEach(function(D){return e(E,D)}),He&&ai(E,I),O}function T(E,_,S,N){if(typeof S=="object"&&S!==null&&S.type===so&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case Gc:e:{for(var O=S.key,L=_;L!==null;){if(L.key===O){if(O=S.type,O===so){if(L.tag===7){n(E,L.sibling),_=s(L,S.props.children),_.return=E,E=_;break e}}else if(L.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===ns&&rw(O)===L.type){n(E,L.sibling),_=s(L,S.props),_.ref=za(E,L,S),_.return=E,E=_;break e}n(E,L);break}else e(E,L);L=L.sibling}S.type===so?(_=Ei(S.props.children,E.mode,N,S.key),_.return=E,E=_):(N=$u(S.type,S.key,S.props,null,E.mode,N),N.ref=za(E,_,S),N.return=E,E=N)}return o(E);case ro:e:{for(L=S.key;_!==null;){if(_.key===L)if(_.tag===4&&_.stateNode.containerInfo===S.containerInfo&&_.stateNode.implementation===S.implementation){n(E,_.sibling),_=s(_,S.children||[]),_.return=E,E=_;break e}else{n(E,_);break}else e(E,_);_=_.sibling}_=Wf(S,E.mode,N),_.return=E,E=_}return o(E);case ns:return L=S._init,T(E,_,L(S._payload),N)}if(Ya(S))return x(E,_,S,N);if(ja(S))return g(E,_,S,N);iu(E,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,_!==null&&_.tag===6?(n(E,_.sibling),_=s(_,S),_.return=E,E=_):(n(E,_),_=Hf(S,E.mode,N),_.return=E,E=_),o(E)):n(E,_)}return T}var qo=Nx(!0),kx=Nx(!1),gd=qs(null),yd=null,fo=null,Lg=null;function Vg(){Lg=fo=yd=null}function jg(t){var e=gd.current;$e(gd),t._currentValue=e}function Qp(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function To(t,e){yd=t,Lg=fo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Zt=!0),t.firstContext=null)}function bn(t){var e=t._currentValue;if(Lg!==t)if(t={context:t,memoizedValue:e,next:null},fo===null){if(yd===null)throw Error(H(308));fo=t,yd.dependencies={lanes:0,firstContext:t}}else fo=fo.next=t;return e}var di=null;function Fg(t){di===null?di=[t]:di.push(t)}function Dx(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Fg(e)):(n.next=s.next,s.next=n),e.interleaved=n,Or(t,r)}function Or(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var rs=!1;function Ug(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ox(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Rr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function xs(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ie&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Or(t,n)}return s=r.interleaved,s===null?(e.next=e,Fg(r)):(e.next=s.next,s.next=e),r.interleaved=e,Or(t,n)}function Mu(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ig(t,n)}}function sw(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function vd(t,e,n,r){var s=t.updateQueue;rs=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var c=a,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=u:a.next=u,h.lastBaseUpdate=c))}if(i!==null){var f=s.baseState;o=0,h=u=c=null,a=i;do{var d=a.lane,y=a.eventTime;if((r&d)===d){h!==null&&(h=h.next={eventTime:y,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var x=t,g=a;switch(d=e,y=n,g.tag){case 1:if(x=g.payload,typeof x=="function"){f=x.call(y,f,d);break e}f=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=g.payload,d=typeof x=="function"?x.call(y,f,d):x,d==null)break e;f=Ke({},f,d);break e;case 2:rs=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,d=s.effects,d===null?s.effects=[a]:d.push(a))}else y={eventTime:y,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(u=h=y,c=f):h=h.next=y,o|=d;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;d=a,a=d.next,d.next=null,s.lastBaseUpdate=d,s.shared.pending=null}}while(!0);if(h===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=h,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);bi|=o,t.lanes=o,t.memoizedState=f}}function iw(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(H(191,s));s.call(r)}}}var lc={},ar=qs(lc),Vl=qs(lc),jl=qs(lc);function hi(t){if(t===lc)throw Error(H(174));return t}function $g(t,e){switch(Le(jl,e),Le(Vl,t),Le(ar,lc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Pp(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Pp(e,t)}$e(ar),Le(ar,e)}function Ko(){$e(ar),$e(Vl),$e(jl)}function Mx(t){hi(jl.current);var e=hi(ar.current),n=Pp(e,t.type);e!==n&&(Le(Vl,t),Le(ar,n))}function Bg(t){Vl.current===t&&($e(ar),$e(Vl))}var We=qs(0);function wd(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var jf=[];function zg(){for(var t=0;t<jf.length;t++)jf[t]._workInProgressVersionPrimary=null;jf.length=0}var Lu=Br.ReactCurrentDispatcher,Ff=Br.ReactCurrentBatchConfig,Ci=0,qe=null,dt=null,gt=null,_d=!1,pl=!1,Fl=0,FN=0;function Rt(){throw Error(H(321))}function Hg(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Hn(t[n],e[n]))return!1;return!0}function Wg(t,e,n,r,s,i){if(Ci=i,qe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Lu.current=t===null||t.memoizedState===null?zN:HN,t=n(r,s),pl){i=0;do{if(pl=!1,Fl=0,25<=i)throw Error(H(301));i+=1,gt=dt=null,e.updateQueue=null,Lu.current=WN,t=n(r,s)}while(pl)}if(Lu.current=Ed,e=dt!==null&&dt.next!==null,Ci=0,gt=dt=qe=null,_d=!1,e)throw Error(H(300));return t}function qg(){var t=Fl!==0;return Fl=0,t}function Jn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gt===null?qe.memoizedState=gt=t:gt=gt.next=t,gt}function An(){if(dt===null){var t=qe.alternate;t=t!==null?t.memoizedState:null}else t=dt.next;var e=gt===null?qe.memoizedState:gt.next;if(e!==null)gt=e,dt=t;else{if(t===null)throw Error(H(310));dt=t,t={memoizedState:dt.memoizedState,baseState:dt.baseState,baseQueue:dt.baseQueue,queue:dt.queue,next:null},gt===null?qe.memoizedState=gt=t:gt=gt.next=t}return gt}function Ul(t,e){return typeof e=="function"?e(t):e}function Uf(t){var e=An(),n=e.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=t;var r=dt,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,c=null,u=i;do{var h=u.lane;if((Ci&h)===h)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(a=c=f,o=r):c=c.next=f,qe.lanes|=h,bi|=h}u=u.next}while(u!==null&&u!==i);c===null?o=r:c.next=a,Hn(r,e.memoizedState)||(Zt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,qe.lanes|=i,bi|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function $f(t){var e=An(),n=e.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Hn(i,e.memoizedState)||(Zt=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function Lx(){}function Vx(t,e){var n=qe,r=An(),s=e(),i=!Hn(r.memoizedState,s);if(i&&(r.memoizedState=s,Zt=!0),r=r.queue,Kg(Ux.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||gt!==null&&gt.memoizedState.tag&1){if(n.flags|=2048,$l(9,Fx.bind(null,n,r,s,e),void 0,null),yt===null)throw Error(H(349));Ci&30||jx(n,e,s)}return s}function jx(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=qe.updateQueue,e===null?(e={lastEffect:null,stores:null},qe.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Fx(t,e,n,r){e.value=n,e.getSnapshot=r,$x(e)&&Bx(t)}function Ux(t,e,n){return n(function(){$x(e)&&Bx(t)})}function $x(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Hn(t,n)}catch{return!0}}function Bx(t){var e=Or(t,1);e!==null&&$n(e,t,1,-1)}function ow(t){var e=Jn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ul,lastRenderedState:t},e.queue=t,t=t.dispatch=BN.bind(null,qe,t),[e.memoizedState,t]}function $l(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=qe.updateQueue,e===null?(e={lastEffect:null,stores:null},qe.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function zx(){return An().memoizedState}function Vu(t,e,n,r){var s=Jn();qe.flags|=t,s.memoizedState=$l(1|e,n,void 0,r===void 0?null:r)}function ch(t,e,n,r){var s=An();r=r===void 0?null:r;var i=void 0;if(dt!==null){var o=dt.memoizedState;if(i=o.destroy,r!==null&&Hg(r,o.deps)){s.memoizedState=$l(e,n,i,r);return}}qe.flags|=t,s.memoizedState=$l(1|e,n,i,r)}function aw(t,e){return Vu(8390656,8,t,e)}function Kg(t,e){return ch(2048,8,t,e)}function Hx(t,e){return ch(4,2,t,e)}function Wx(t,e){return ch(4,4,t,e)}function qx(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Kx(t,e,n){return n=n!=null?n.concat([t]):null,ch(4,4,qx.bind(null,e,t),n)}function Gg(){}function Gx(t,e){var n=An();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Hg(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Qx(t,e){var n=An();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Hg(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Yx(t,e,n){return Ci&21?(Hn(n,e)||(n=tx(),qe.lanes|=n,bi|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Zt=!0),t.memoizedState=n)}function UN(t,e){var n=Ne;Ne=n!==0&&4>n?n:4,t(!0);var r=Ff.transition;Ff.transition={};try{t(!1),e()}finally{Ne=n,Ff.transition=r}}function Xx(){return An().memoizedState}function $N(t,e,n){var r=Ss(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Jx(t))Zx(e,n);else if(n=Dx(t,e,n,r),n!==null){var s=qt();$n(n,t,r,s),eT(n,e,r)}}function BN(t,e,n){var r=Ss(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Jx(t))Zx(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,Hn(a,o)){var c=e.interleaved;c===null?(s.next=s,Fg(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}n=Dx(t,e,s,r),n!==null&&(s=qt(),$n(n,t,r,s),eT(n,e,r))}}function Jx(t){var e=t.alternate;return t===qe||e!==null&&e===qe}function Zx(t,e){pl=_d=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function eT(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ig(t,n)}}var Ed={readContext:bn,useCallback:Rt,useContext:Rt,useEffect:Rt,useImperativeHandle:Rt,useInsertionEffect:Rt,useLayoutEffect:Rt,useMemo:Rt,useReducer:Rt,useRef:Rt,useState:Rt,useDebugValue:Rt,useDeferredValue:Rt,useTransition:Rt,useMutableSource:Rt,useSyncExternalStore:Rt,useId:Rt,unstable_isNewReconciler:!1},zN={readContext:bn,useCallback:function(t,e){return Jn().memoizedState=[t,e===void 0?null:e],t},useContext:bn,useEffect:aw,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Vu(4194308,4,qx.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Vu(4194308,4,t,e)},useInsertionEffect:function(t,e){return Vu(4,2,t,e)},useMemo:function(t,e){var n=Jn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Jn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=$N.bind(null,qe,t),[r.memoizedState,t]},useRef:function(t){var e=Jn();return t={current:t},e.memoizedState=t},useState:ow,useDebugValue:Gg,useDeferredValue:function(t){return Jn().memoizedState=t},useTransition:function(){var t=ow(!1),e=t[0];return t=UN.bind(null,t[1]),Jn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=qe,s=Jn();if(He){if(n===void 0)throw Error(H(407));n=n()}else{if(n=e(),yt===null)throw Error(H(349));Ci&30||jx(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,aw(Ux.bind(null,r,i,t),[t]),r.flags|=2048,$l(9,Fx.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Jn(),e=yt.identifierPrefix;if(He){var n=br,r=Cr;n=(r&~(1<<32-Un(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Fl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=FN++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},HN={readContext:bn,useCallback:Gx,useContext:bn,useEffect:Kg,useImperativeHandle:Kx,useInsertionEffect:Hx,useLayoutEffect:Wx,useMemo:Qx,useReducer:Uf,useRef:zx,useState:function(){return Uf(Ul)},useDebugValue:Gg,useDeferredValue:function(t){var e=An();return Yx(e,dt.memoizedState,t)},useTransition:function(){var t=Uf(Ul)[0],e=An().memoizedState;return[t,e]},useMutableSource:Lx,useSyncExternalStore:Vx,useId:Xx,unstable_isNewReconciler:!1},WN={readContext:bn,useCallback:Gx,useContext:bn,useEffect:Kg,useImperativeHandle:Kx,useInsertionEffect:Hx,useLayoutEffect:Wx,useMemo:Qx,useReducer:$f,useRef:zx,useState:function(){return $f(Ul)},useDebugValue:Gg,useDeferredValue:function(t){var e=An();return dt===null?e.memoizedState=t:Yx(e,dt.memoizedState,t)},useTransition:function(){var t=$f(Ul)[0],e=An().memoizedState;return[t,e]},useMutableSource:Lx,useSyncExternalStore:Vx,useId:Xx,unstable_isNewReconciler:!1};function On(t,e){if(t&&t.defaultProps){e=Ke({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Yp(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ke({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var uh={isMounted:function(t){return(t=t._reactInternals)?Ui(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=qt(),s=Ss(t),i=Rr(r,s);i.payload=e,n!=null&&(i.callback=n),e=xs(t,i,s),e!==null&&($n(e,t,s,r),Mu(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=qt(),s=Ss(t),i=Rr(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=xs(t,i,s),e!==null&&($n(e,t,s,r),Mu(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=qt(),r=Ss(t),s=Rr(n,r);s.tag=2,e!=null&&(s.callback=e),e=xs(t,s,r),e!==null&&($n(e,t,r,n),Mu(e,t,r))}};function lw(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Dl(n,r)||!Dl(s,i):!0}function tT(t,e,n){var r=!1,s=Os,i=e.contextType;return typeof i=="object"&&i!==null?i=bn(i):(s=tn(e)?Si:jt.current,r=e.contextTypes,i=(r=r!=null)?Ho(t,s):Os),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=uh,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function cw(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&uh.enqueueReplaceState(e,e.state,null)}function Xp(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Ug(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=bn(i):(i=tn(e)?Si:jt.current,s.context=Ho(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Yp(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&uh.enqueueReplaceState(s,s.state,null),vd(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Go(t,e){try{var n="",r=e;do n+=wR(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Bf(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Jp(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var qN=typeof WeakMap=="function"?WeakMap:Map;function nT(t,e,n){n=Rr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Td||(Td=!0,lm=r),Jp(t,e)},n}function rT(t,e,n){n=Rr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Jp(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Jp(t,e),typeof r!="function"&&(Ts===null?Ts=new Set([this]):Ts.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function uw(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new qN;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=ok.bind(null,t,e,n),e.then(t,t))}function dw(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function hw(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Rr(-1,1),e.tag=2,xs(n,e,1))),n.lanes|=1),t)}var KN=Br.ReactCurrentOwner,Zt=!1;function Ht(t,e,n,r){e.child=t===null?kx(e,null,n,r):qo(e,t.child,n,r)}function fw(t,e,n,r,s){n=n.render;var i=e.ref;return To(e,s),r=Wg(t,e,n,r,i,s),n=qg(),t!==null&&!Zt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Mr(t,e,s)):(He&&n&&Dg(e),e.flags|=1,Ht(t,e,r,s),e.child)}function pw(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!ny(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,sT(t,e,i,r,s)):(t=$u(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Dl,n(o,r)&&t.ref===e.ref)return Mr(t,e,s)}return e.flags|=1,t=Is(i,r),t.ref=e.ref,t.return=e,e.child=t}function sT(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Dl(i,r)&&t.ref===e.ref)if(Zt=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Zt=!0);else return e.lanes=t.lanes,Mr(t,e,s)}return Zp(t,e,n,r,s)}function iT(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Le(mo,cn),cn|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Le(mo,cn),cn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Le(mo,cn),cn|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Le(mo,cn),cn|=r;return Ht(t,e,s,n),e.child}function oT(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Zp(t,e,n,r,s){var i=tn(n)?Si:jt.current;return i=Ho(e,i),To(e,s),n=Wg(t,e,n,r,i,s),r=qg(),t!==null&&!Zt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Mr(t,e,s)):(He&&r&&Dg(e),e.flags|=1,Ht(t,e,n,s),e.child)}function mw(t,e,n,r,s){if(tn(n)){var i=!0;fd(e)}else i=!1;if(To(e,s),e.stateNode===null)ju(t,e),tT(e,n,r),Xp(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=bn(u):(u=tn(n)?Si:jt.current,u=Ho(e,u));var h=n.getDerivedStateFromProps,f=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||c!==u)&&cw(e,o,r,u),rs=!1;var d=e.memoizedState;o.state=d,vd(e,r,o,s),c=e.memoizedState,a!==r||d!==c||en.current||rs?(typeof h=="function"&&(Yp(e,n,h,r),c=e.memoizedState),(a=rs||lw(e,n,a,r,d,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),o.props=r,o.state=c,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Ox(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:On(e.type,a),o.props=u,f=e.pendingProps,d=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=bn(c):(c=tn(n)?Si:jt.current,c=Ho(e,c));var y=n.getDerivedStateFromProps;(h=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||d!==c)&&cw(e,o,r,c),rs=!1,d=e.memoizedState,o.state=d,vd(e,r,o,s);var x=e.memoizedState;a!==f||d!==x||en.current||rs?(typeof y=="function"&&(Yp(e,n,y,r),x=e.memoizedState),(u=rs||lw(e,n,u,r,d,x,c)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,x,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,x,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=x),o.props=r,o.state=x,o.context=c,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return em(t,e,n,r,i,s)}function em(t,e,n,r,s,i){oT(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&ew(e,n,!1),Mr(t,e,i);r=e.stateNode,KN.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=qo(e,t.child,null,i),e.child=qo(e,null,a,i)):Ht(t,e,a,i),e.memoizedState=r.state,s&&ew(e,n,!0),e.child}function aT(t){var e=t.stateNode;e.pendingContext?Z0(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Z0(t,e.context,!1),$g(t,e.containerInfo)}function gw(t,e,n,r,s){return Wo(),Mg(s),e.flags|=256,Ht(t,e,n,r),e.child}var tm={dehydrated:null,treeContext:null,retryLane:0};function nm(t){return{baseLanes:t,cachePool:null,transitions:null}}function lT(t,e,n){var r=e.pendingProps,s=We.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Le(We,s&1),t===null)return Gp(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=fh(o,r,0,null),t=Ei(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=nm(n),e.memoizedState=tm,t):Qg(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return GN(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=Is(s,c),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Is(a,i):(i=Ei(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?nm(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=tm,r}return i=t.child,t=i.sibling,r=Is(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Qg(t,e){return e=fh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ou(t,e,n,r){return r!==null&&Mg(r),qo(e,t.child,null,n),t=Qg(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function GN(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=Bf(Error(H(422))),ou(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=fh({mode:"visible",children:r.children},s,0,null),i=Ei(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&qo(e,t.child,null,o),e.child.memoizedState=nm(o),e.memoizedState=tm,i);if(!(e.mode&1))return ou(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(H(419)),r=Bf(i,r,void 0),ou(t,e,o,r)}if(a=(o&t.childLanes)!==0,Zt||a){if(r=yt,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Or(t,s),$n(r,t,s,-1))}return ty(),r=Bf(Error(H(421))),ou(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=ak.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,hn=Es(s.nextSibling),pn=e,He=!0,jn=null,t!==null&&(En[xn++]=Cr,En[xn++]=br,En[xn++]=Ii,Cr=t.id,br=t.overflow,Ii=e),e=Qg(e,r.children),e.flags|=4096,e)}function yw(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Qp(t.return,e,n)}function zf(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function cT(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Ht(t,e,r.children,n),r=We.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&yw(t,n,e);else if(t.tag===19)yw(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Le(We,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&wd(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),zf(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&wd(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}zf(e,!0,n,null,i);break;case"together":zf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ju(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Mr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),bi|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(H(153));if(e.child!==null){for(t=e.child,n=Is(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Is(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function QN(t,e,n){switch(e.tag){case 3:aT(e),Wo();break;case 5:Mx(e);break;case 1:tn(e.type)&&fd(e);break;case 4:$g(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Le(gd,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Le(We,We.current&1),e.flags|=128,null):n&e.child.childLanes?lT(t,e,n):(Le(We,We.current&1),t=Mr(t,e,n),t!==null?t.sibling:null);Le(We,We.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return cT(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Le(We,We.current),r)break;return null;case 22:case 23:return e.lanes=0,iT(t,e,n)}return Mr(t,e,n)}var uT,rm,dT,hT;uT=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};rm=function(){};dT=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,hi(ar.current);var i=null;switch(n){case"input":s=Ip(t,s),r=Ip(t,r),i=[];break;case"select":s=Ke({},s,{value:void 0}),r=Ke({},r,{value:void 0}),i=[];break;case"textarea":s=Ap(t,s),r=Ap(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=dd)}Rp(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Cl.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==a&&(c!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&a[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Cl.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Ue("scroll",t),i||a===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};hT=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ha(t,e){if(!He)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Nt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function YN(t,e,n){var r=e.pendingProps;switch(Og(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Nt(e),null;case 1:return tn(e.type)&&hd(),Nt(e),null;case 3:return r=e.stateNode,Ko(),$e(en),$e(jt),zg(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(su(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,jn!==null&&(dm(jn),jn=null))),rm(t,e),Nt(e),null;case 5:Bg(e);var s=hi(jl.current);if(n=e.type,t!==null&&e.stateNode!=null)dT(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(H(166));return Nt(e),null}if(t=hi(ar.current),su(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[sr]=e,r[Ll]=i,t=(e.mode&1)!==0,n){case"dialog":Ue("cancel",r),Ue("close",r);break;case"iframe":case"object":case"embed":Ue("load",r);break;case"video":case"audio":for(s=0;s<Ja.length;s++)Ue(Ja[s],r);break;case"source":Ue("error",r);break;case"img":case"image":case"link":Ue("error",r),Ue("load",r);break;case"details":Ue("toggle",r);break;case"input":C0(r,i),Ue("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Ue("invalid",r);break;case"textarea":A0(r,i),Ue("invalid",r)}Rp(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&ru(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&ru(r.textContent,a,t),s=["children",""+a]):Cl.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ue("scroll",r)}switch(n){case"input":Qc(r),b0(r,i,!0);break;case"textarea":Qc(r),P0(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=dd)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=U1(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[sr]=e,t[Ll]=r,uT(t,e,!1,!1),e.stateNode=t;e:{switch(o=Np(n,r),n){case"dialog":Ue("cancel",t),Ue("close",t),s=r;break;case"iframe":case"object":case"embed":Ue("load",t),s=r;break;case"video":case"audio":for(s=0;s<Ja.length;s++)Ue(Ja[s],t);s=r;break;case"source":Ue("error",t),s=r;break;case"img":case"image":case"link":Ue("error",t),Ue("load",t),s=r;break;case"details":Ue("toggle",t),s=r;break;case"input":C0(t,r),s=Ip(t,r),Ue("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Ke({},r,{value:void 0}),Ue("invalid",t);break;case"textarea":A0(t,r),s=Ap(t,r),Ue("invalid",t);break;default:s=r}Rp(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var c=a[i];i==="style"?z1(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&$1(t,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&bl(t,c):typeof c=="number"&&bl(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Cl.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Ue("scroll",t):c!=null&&wg(t,i,c,o))}switch(n){case"input":Qc(t),b0(t,r,!1);break;case"textarea":Qc(t),P0(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ds(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?wo(t,!!r.multiple,i,!1):r.defaultValue!=null&&wo(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=dd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Nt(e),null;case 6:if(t&&e.stateNode!=null)hT(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(H(166));if(n=hi(jl.current),hi(ar.current),su(e)){if(r=e.stateNode,n=e.memoizedProps,r[sr]=e,(i=r.nodeValue!==n)&&(t=pn,t!==null))switch(t.tag){case 3:ru(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ru(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[sr]=e,e.stateNode=r}return Nt(e),null;case 13:if($e(We),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(He&&hn!==null&&e.mode&1&&!(e.flags&128))Rx(),Wo(),e.flags|=98560,i=!1;else if(i=su(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(H(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(H(317));i[sr]=e}else Wo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Nt(e),i=!1}else jn!==null&&(dm(jn),jn=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||We.current&1?ht===0&&(ht=3):ty())),e.updateQueue!==null&&(e.flags|=4),Nt(e),null);case 4:return Ko(),rm(t,e),t===null&&Ol(e.stateNode.containerInfo),Nt(e),null;case 10:return jg(e.type._context),Nt(e),null;case 17:return tn(e.type)&&hd(),Nt(e),null;case 19:if($e(We),i=e.memoizedState,i===null)return Nt(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Ha(i,!1);else{if(ht!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=wd(t),o!==null){for(e.flags|=128,Ha(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Le(We,We.current&1|2),e.child}t=t.sibling}i.tail!==null&&nt()>Qo&&(e.flags|=128,r=!0,Ha(i,!1),e.lanes=4194304)}else{if(!r)if(t=wd(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ha(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!He)return Nt(e),null}else 2*nt()-i.renderingStartTime>Qo&&n!==1073741824&&(e.flags|=128,r=!0,Ha(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=nt(),e.sibling=null,n=We.current,Le(We,r?n&1|2:n&1),e):(Nt(e),null);case 22:case 23:return ey(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?cn&1073741824&&(Nt(e),e.subtreeFlags&6&&(e.flags|=8192)):Nt(e),null;case 24:return null;case 25:return null}throw Error(H(156,e.tag))}function XN(t,e){switch(Og(e),e.tag){case 1:return tn(e.type)&&hd(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ko(),$e(en),$e(jt),zg(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Bg(e),null;case 13:if($e(We),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(H(340));Wo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return $e(We),null;case 4:return Ko(),null;case 10:return jg(e.type._context),null;case 22:case 23:return ey(),null;case 24:return null;default:return null}}var au=!1,Lt=!1,JN=typeof WeakSet=="function"?WeakSet:Set,J=null;function po(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Je(t,e,r)}else n.current=null}function sm(t,e,n){try{n()}catch(r){Je(t,e,r)}}var vw=!1;function ZN(t,e){if($p=ld,t=yx(),kg(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,c=-1,u=0,h=0,f=t,d=null;t:for(;;){for(var y;f!==n||s!==0&&f.nodeType!==3||(a=o+s),f!==i||r!==0&&f.nodeType!==3||(c=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(y=f.firstChild)!==null;)d=f,f=y;for(;;){if(f===t)break t;if(d===n&&++u===s&&(a=o),d===i&&++h===r&&(c=o),(y=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=y}n=a===-1||c===-1?null:{start:a,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Bp={focusedElem:t,selectionRange:n},ld=!1,J=e;J!==null;)if(e=J,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,J=t;else for(;J!==null;){e=J;try{var x=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var g=x.memoizedProps,T=x.memoizedState,E=e.stateNode,_=E.getSnapshotBeforeUpdate(e.elementType===e.type?g:On(e.type,g),T);E.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(H(163))}}catch(N){Je(e,e.return,N)}if(t=e.sibling,t!==null){t.return=e.return,J=t;break}J=e.return}return x=vw,vw=!1,x}function ml(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&sm(e,n,i)}s=s.next}while(s!==r)}}function dh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function im(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function fT(t){var e=t.alternate;e!==null&&(t.alternate=null,fT(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[sr],delete e[Ll],delete e[Wp],delete e[MN],delete e[LN])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function pT(t){return t.tag===5||t.tag===3||t.tag===4}function ww(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||pT(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function om(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=dd));else if(r!==4&&(t=t.child,t!==null))for(om(t,e,n),t=t.sibling;t!==null;)om(t,e,n),t=t.sibling}function am(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(am(t,e,n),t=t.sibling;t!==null;)am(t,e,n),t=t.sibling}var _t=null,Vn=!1;function Yr(t,e,n){for(n=n.child;n!==null;)mT(t,e,n),n=n.sibling}function mT(t,e,n){if(or&&typeof or.onCommitFiberUnmount=="function")try{or.onCommitFiberUnmount(rh,n)}catch{}switch(n.tag){case 5:Lt||po(n,e);case 6:var r=_t,s=Vn;_t=null,Yr(t,e,n),_t=r,Vn=s,_t!==null&&(Vn?(t=_t,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):_t.removeChild(n.stateNode));break;case 18:_t!==null&&(Vn?(t=_t,n=n.stateNode,t.nodeType===8?Lf(t.parentNode,n):t.nodeType===1&&Lf(t,n),Nl(t)):Lf(_t,n.stateNode));break;case 4:r=_t,s=Vn,_t=n.stateNode.containerInfo,Vn=!0,Yr(t,e,n),_t=r,Vn=s;break;case 0:case 11:case 14:case 15:if(!Lt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&sm(n,e,o),s=s.next}while(s!==r)}Yr(t,e,n);break;case 1:if(!Lt&&(po(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Je(n,e,a)}Yr(t,e,n);break;case 21:Yr(t,e,n);break;case 22:n.mode&1?(Lt=(r=Lt)||n.memoizedState!==null,Yr(t,e,n),Lt=r):Yr(t,e,n);break;default:Yr(t,e,n)}}function _w(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new JN),e.forEach(function(r){var s=lk.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Nn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:_t=a.stateNode,Vn=!1;break e;case 3:_t=a.stateNode.containerInfo,Vn=!0;break e;case 4:_t=a.stateNode.containerInfo,Vn=!0;break e}a=a.return}if(_t===null)throw Error(H(160));mT(i,o,s),_t=null,Vn=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){Je(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)gT(e,t),e=e.sibling}function gT(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Nn(e,t),Xn(t),r&4){try{ml(3,t,t.return),dh(3,t)}catch(g){Je(t,t.return,g)}try{ml(5,t,t.return)}catch(g){Je(t,t.return,g)}}break;case 1:Nn(e,t),Xn(t),r&512&&n!==null&&po(n,n.return);break;case 5:if(Nn(e,t),Xn(t),r&512&&n!==null&&po(n,n.return),t.flags&32){var s=t.stateNode;try{bl(s,"")}catch(g){Je(t,t.return,g)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&j1(s,i),Np(a,o);var u=Np(a,i);for(o=0;o<c.length;o+=2){var h=c[o],f=c[o+1];h==="style"?z1(s,f):h==="dangerouslySetInnerHTML"?$1(s,f):h==="children"?bl(s,f):wg(s,h,f,u)}switch(a){case"input":Cp(s,i);break;case"textarea":F1(s,i);break;case"select":var d=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var y=i.value;y!=null?wo(s,!!i.multiple,y,!1):d!==!!i.multiple&&(i.defaultValue!=null?wo(s,!!i.multiple,i.defaultValue,!0):wo(s,!!i.multiple,i.multiple?[]:"",!1))}s[Ll]=i}catch(g){Je(t,t.return,g)}}break;case 6:if(Nn(e,t),Xn(t),r&4){if(t.stateNode===null)throw Error(H(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(g){Je(t,t.return,g)}}break;case 3:if(Nn(e,t),Xn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Nl(e.containerInfo)}catch(g){Je(t,t.return,g)}break;case 4:Nn(e,t),Xn(t);break;case 13:Nn(e,t),Xn(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Jg=nt())),r&4&&_w(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(Lt=(u=Lt)||h,Nn(e,t),Lt=u):Nn(e,t),Xn(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!h&&t.mode&1)for(J=t,h=t.child;h!==null;){for(f=J=h;J!==null;){switch(d=J,y=d.child,d.tag){case 0:case 11:case 14:case 15:ml(4,d,d.return);break;case 1:po(d,d.return);var x=d.stateNode;if(typeof x.componentWillUnmount=="function"){r=d,n=d.return;try{e=r,x.props=e.memoizedProps,x.state=e.memoizedState,x.componentWillUnmount()}catch(g){Je(r,n,g)}}break;case 5:po(d,d.return);break;case 22:if(d.memoizedState!==null){xw(f);continue}}y!==null?(y.return=d,J=y):xw(f)}h=h.sibling}e:for(h=null,f=t;;){if(f.tag===5){if(h===null){h=f;try{s=f.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=B1("display",o))}catch(g){Je(t,t.return,g)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(g){Je(t,t.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Nn(e,t),Xn(t),r&4&&_w(t);break;case 21:break;default:Nn(e,t),Xn(t)}}function Xn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(pT(n)){var r=n;break e}n=n.return}throw Error(H(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(bl(s,""),r.flags&=-33);var i=ww(t);am(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=ww(t);om(t,a,o);break;default:throw Error(H(161))}}catch(c){Je(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function ek(t,e,n){J=t,yT(t)}function yT(t,e,n){for(var r=(t.mode&1)!==0;J!==null;){var s=J,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||au;if(!o){var a=s.alternate,c=a!==null&&a.memoizedState!==null||Lt;a=au;var u=Lt;if(au=o,(Lt=c)&&!u)for(J=s;J!==null;)o=J,c=o.child,o.tag===22&&o.memoizedState!==null?Tw(s):c!==null?(c.return=o,J=c):Tw(s);for(;i!==null;)J=i,yT(i),i=i.sibling;J=s,au=a,Lt=u}Ew(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,J=i):Ew(t)}}function Ew(t){for(;J!==null;){var e=J;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Lt||dh(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Lt)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:On(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&iw(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}iw(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&Nl(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(H(163))}Lt||e.flags&512&&im(e)}catch(d){Je(e,e.return,d)}}if(e===t){J=null;break}if(n=e.sibling,n!==null){n.return=e.return,J=n;break}J=e.return}}function xw(t){for(;J!==null;){var e=J;if(e===t){J=null;break}var n=e.sibling;if(n!==null){n.return=e.return,J=n;break}J=e.return}}function Tw(t){for(;J!==null;){var e=J;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{dh(4,e)}catch(c){Je(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(c){Je(e,s,c)}}var i=e.return;try{im(e)}catch(c){Je(e,i,c)}break;case 5:var o=e.return;try{im(e)}catch(c){Je(e,o,c)}}}catch(c){Je(e,e.return,c)}if(e===t){J=null;break}var a=e.sibling;if(a!==null){a.return=e.return,J=a;break}J=e.return}}var tk=Math.ceil,xd=Br.ReactCurrentDispatcher,Yg=Br.ReactCurrentOwner,Cn=Br.ReactCurrentBatchConfig,Ie=0,yt=null,ot=null,Tt=0,cn=0,mo=qs(0),ht=0,Bl=null,bi=0,hh=0,Xg=0,gl=null,Xt=null,Jg=0,Qo=1/0,Tr=null,Td=!1,lm=null,Ts=null,lu=!1,ms=null,Sd=0,yl=0,cm=null,Fu=-1,Uu=0;function qt(){return Ie&6?nt():Fu!==-1?Fu:Fu=nt()}function Ss(t){return t.mode&1?Ie&2&&Tt!==0?Tt&-Tt:jN.transition!==null?(Uu===0&&(Uu=tx()),Uu):(t=Ne,t!==0||(t=window.event,t=t===void 0?16:lx(t.type)),t):1}function $n(t,e,n,r){if(50<yl)throw yl=0,cm=null,Error(H(185));ic(t,n,r),(!(Ie&2)||t!==yt)&&(t===yt&&(!(Ie&2)&&(hh|=n),ht===4&&is(t,Tt)),nn(t,r),n===1&&Ie===0&&!(e.mode&1)&&(Qo=nt()+500,lh&&Ks()))}function nn(t,e){var n=t.callbackNode;jR(t,e);var r=ad(t,t===yt?Tt:0);if(r===0)n!==null&&k0(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&k0(n),e===1)t.tag===0?VN(Sw.bind(null,t)):bx(Sw.bind(null,t)),DN(function(){!(Ie&6)&&Ks()}),n=null;else{switch(nx(r)){case 1:n=Sg;break;case 4:n=Z1;break;case 16:n=od;break;case 536870912:n=ex;break;default:n=od}n=IT(n,vT.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function vT(t,e){if(Fu=-1,Uu=0,Ie&6)throw Error(H(327));var n=t.callbackNode;if(So()&&t.callbackNode!==n)return null;var r=ad(t,t===yt?Tt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Id(t,r);else{e=r;var s=Ie;Ie|=2;var i=_T();(yt!==t||Tt!==e)&&(Tr=null,Qo=nt()+500,_i(t,e));do try{sk();break}catch(a){wT(t,a)}while(!0);Vg(),xd.current=i,Ie=s,ot!==null?e=0:(yt=null,Tt=0,e=ht)}if(e!==0){if(e===2&&(s=Lp(t),s!==0&&(r=s,e=um(t,s))),e===1)throw n=Bl,_i(t,0),is(t,r),nn(t,nt()),n;if(e===6)is(t,r);else{if(s=t.current.alternate,!(r&30)&&!nk(s)&&(e=Id(t,r),e===2&&(i=Lp(t),i!==0&&(r=i,e=um(t,i))),e===1))throw n=Bl,_i(t,0),is(t,r),nn(t,nt()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(H(345));case 2:li(t,Xt,Tr);break;case 3:if(is(t,r),(r&130023424)===r&&(e=Jg+500-nt(),10<e)){if(ad(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){qt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Hp(li.bind(null,t,Xt,Tr),e);break}li(t,Xt,Tr);break;case 4:if(is(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-Un(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=nt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*tk(r/1960))-r,10<r){t.timeoutHandle=Hp(li.bind(null,t,Xt,Tr),r);break}li(t,Xt,Tr);break;case 5:li(t,Xt,Tr);break;default:throw Error(H(329))}}}return nn(t,nt()),t.callbackNode===n?vT.bind(null,t):null}function um(t,e){var n=gl;return t.current.memoizedState.isDehydrated&&(_i(t,e).flags|=256),t=Id(t,e),t!==2&&(e=Xt,Xt=n,e!==null&&dm(e)),t}function dm(t){Xt===null?Xt=t:Xt.push.apply(Xt,t)}function nk(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Hn(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function is(t,e){for(e&=~Xg,e&=~hh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Un(e),r=1<<n;t[n]=-1,e&=~r}}function Sw(t){if(Ie&6)throw Error(H(327));So();var e=ad(t,0);if(!(e&1))return nn(t,nt()),null;var n=Id(t,e);if(t.tag!==0&&n===2){var r=Lp(t);r!==0&&(e=r,n=um(t,r))}if(n===1)throw n=Bl,_i(t,0),is(t,e),nn(t,nt()),n;if(n===6)throw Error(H(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,li(t,Xt,Tr),nn(t,nt()),null}function Zg(t,e){var n=Ie;Ie|=1;try{return t(e)}finally{Ie=n,Ie===0&&(Qo=nt()+500,lh&&Ks())}}function Ai(t){ms!==null&&ms.tag===0&&!(Ie&6)&&So();var e=Ie;Ie|=1;var n=Cn.transition,r=Ne;try{if(Cn.transition=null,Ne=1,t)return t()}finally{Ne=r,Cn.transition=n,Ie=e,!(Ie&6)&&Ks()}}function ey(){cn=mo.current,$e(mo)}function _i(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,kN(n)),ot!==null)for(n=ot.return;n!==null;){var r=n;switch(Og(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&hd();break;case 3:Ko(),$e(en),$e(jt),zg();break;case 5:Bg(r);break;case 4:Ko();break;case 13:$e(We);break;case 19:$e(We);break;case 10:jg(r.type._context);break;case 22:case 23:ey()}n=n.return}if(yt=t,ot=t=Is(t.current,null),Tt=cn=e,ht=0,Bl=null,Xg=hh=bi=0,Xt=gl=null,di!==null){for(e=0;e<di.length;e++)if(n=di[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}di=null}return t}function wT(t,e){do{var n=ot;try{if(Vg(),Lu.current=Ed,_d){for(var r=qe.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}_d=!1}if(Ci=0,gt=dt=qe=null,pl=!1,Fl=0,Yg.current=null,n===null||n.return===null){ht=1,Bl=e,ot=null;break}e:{var i=t,o=n.return,a=n,c=e;if(e=Tt,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,h=a,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var d=h.alternate;d?(h.updateQueue=d.updateQueue,h.memoizedState=d.memoizedState,h.lanes=d.lanes):(h.updateQueue=null,h.memoizedState=null)}var y=dw(o);if(y!==null){y.flags&=-257,hw(y,o,a,i,e),y.mode&1&&uw(i,u,e),e=y,c=u;var x=e.updateQueue;if(x===null){var g=new Set;g.add(c),e.updateQueue=g}else x.add(c);break e}else{if(!(e&1)){uw(i,u,e),ty();break e}c=Error(H(426))}}else if(He&&a.mode&1){var T=dw(o);if(T!==null){!(T.flags&65536)&&(T.flags|=256),hw(T,o,a,i,e),Mg(Go(c,a));break e}}i=c=Go(c,a),ht!==4&&(ht=2),gl===null?gl=[i]:gl.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var E=nT(i,c,e);sw(i,E);break e;case 1:a=c;var _=i.type,S=i.stateNode;if(!(i.flags&128)&&(typeof _.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Ts===null||!Ts.has(S)))){i.flags|=65536,e&=-e,i.lanes|=e;var N=rT(i,a,e);sw(i,N);break e}}i=i.return}while(i!==null)}xT(n)}catch(O){e=O,ot===n&&n!==null&&(ot=n=n.return);continue}break}while(!0)}function _T(){var t=xd.current;return xd.current=Ed,t===null?Ed:t}function ty(){(ht===0||ht===3||ht===2)&&(ht=4),yt===null||!(bi&268435455)&&!(hh&268435455)||is(yt,Tt)}function Id(t,e){var n=Ie;Ie|=2;var r=_T();(yt!==t||Tt!==e)&&(Tr=null,_i(t,e));do try{rk();break}catch(s){wT(t,s)}while(!0);if(Vg(),Ie=n,xd.current=r,ot!==null)throw Error(H(261));return yt=null,Tt=0,ht}function rk(){for(;ot!==null;)ET(ot)}function sk(){for(;ot!==null&&!PR();)ET(ot)}function ET(t){var e=ST(t.alternate,t,cn);t.memoizedProps=t.pendingProps,e===null?xT(t):ot=e,Yg.current=null}function xT(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=XN(n,e),n!==null){n.flags&=32767,ot=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ht=6,ot=null;return}}else if(n=YN(n,e,cn),n!==null){ot=n;return}if(e=e.sibling,e!==null){ot=e;return}ot=e=t}while(e!==null);ht===0&&(ht=5)}function li(t,e,n){var r=Ne,s=Cn.transition;try{Cn.transition=null,Ne=1,ik(t,e,n,r)}finally{Cn.transition=s,Ne=r}return null}function ik(t,e,n,r){do So();while(ms!==null);if(Ie&6)throw Error(H(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(H(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(FR(t,i),t===yt&&(ot=yt=null,Tt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||lu||(lu=!0,IT(od,function(){return So(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Cn.transition,Cn.transition=null;var o=Ne;Ne=1;var a=Ie;Ie|=4,Yg.current=null,ZN(t,n),gT(n,t),IN(Bp),ld=!!$p,Bp=$p=null,t.current=n,ek(n),RR(),Ie=a,Ne=o,Cn.transition=i}else t.current=n;if(lu&&(lu=!1,ms=t,Sd=s),i=t.pendingLanes,i===0&&(Ts=null),DR(n.stateNode),nn(t,nt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Td)throw Td=!1,t=lm,lm=null,t;return Sd&1&&t.tag!==0&&So(),i=t.pendingLanes,i&1?t===cm?yl++:(yl=0,cm=t):yl=0,Ks(),null}function So(){if(ms!==null){var t=nx(Sd),e=Cn.transition,n=Ne;try{if(Cn.transition=null,Ne=16>t?16:t,ms===null)var r=!1;else{if(t=ms,ms=null,Sd=0,Ie&6)throw Error(H(331));var s=Ie;for(Ie|=4,J=t.current;J!==null;){var i=J,o=i.child;if(J.flags&16){var a=i.deletions;if(a!==null){for(var c=0;c<a.length;c++){var u=a[c];for(J=u;J!==null;){var h=J;switch(h.tag){case 0:case 11:case 15:ml(8,h,i)}var f=h.child;if(f!==null)f.return=h,J=f;else for(;J!==null;){h=J;var d=h.sibling,y=h.return;if(fT(h),h===u){J=null;break}if(d!==null){d.return=y,J=d;break}J=y}}}var x=i.alternate;if(x!==null){var g=x.child;if(g!==null){x.child=null;do{var T=g.sibling;g.sibling=null,g=T}while(g!==null)}}J=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,J=o;else e:for(;J!==null;){if(i=J,i.flags&2048)switch(i.tag){case 0:case 11:case 15:ml(9,i,i.return)}var E=i.sibling;if(E!==null){E.return=i.return,J=E;break e}J=i.return}}var _=t.current;for(J=_;J!==null;){o=J;var S=o.child;if(o.subtreeFlags&2064&&S!==null)S.return=o,J=S;else e:for(o=_;J!==null;){if(a=J,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:dh(9,a)}}catch(O){Je(a,a.return,O)}if(a===o){J=null;break e}var N=a.sibling;if(N!==null){N.return=a.return,J=N;break e}J=a.return}}if(Ie=s,Ks(),or&&typeof or.onPostCommitFiberRoot=="function")try{or.onPostCommitFiberRoot(rh,t)}catch{}r=!0}return r}finally{Ne=n,Cn.transition=e}}return!1}function Iw(t,e,n){e=Go(n,e),e=nT(t,e,1),t=xs(t,e,1),e=qt(),t!==null&&(ic(t,1,e),nn(t,e))}function Je(t,e,n){if(t.tag===3)Iw(t,t,n);else for(;e!==null;){if(e.tag===3){Iw(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ts===null||!Ts.has(r))){t=Go(n,t),t=rT(e,t,1),e=xs(e,t,1),t=qt(),e!==null&&(ic(e,1,t),nn(e,t));break}}e=e.return}}function ok(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=qt(),t.pingedLanes|=t.suspendedLanes&n,yt===t&&(Tt&n)===n&&(ht===4||ht===3&&(Tt&130023424)===Tt&&500>nt()-Jg?_i(t,0):Xg|=n),nn(t,e)}function TT(t,e){e===0&&(t.mode&1?(e=Jc,Jc<<=1,!(Jc&130023424)&&(Jc=4194304)):e=1);var n=qt();t=Or(t,e),t!==null&&(ic(t,e,n),nn(t,n))}function ak(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),TT(t,n)}function lk(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(H(314))}r!==null&&r.delete(e),TT(t,n)}var ST;ST=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||en.current)Zt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Zt=!1,QN(t,e,n);Zt=!!(t.flags&131072)}else Zt=!1,He&&e.flags&1048576&&Ax(e,md,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;ju(t,e),t=e.pendingProps;var s=Ho(e,jt.current);To(e,n),s=Wg(null,e,r,t,s,n);var i=qg();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,tn(r)?(i=!0,fd(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Ug(e),s.updater=uh,e.stateNode=s,s._reactInternals=e,Xp(e,r,t,n),e=em(null,e,r,!0,i,n)):(e.tag=0,He&&i&&Dg(e),Ht(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(ju(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=uk(r),t=On(r,t),s){case 0:e=Zp(null,e,r,t,n);break e;case 1:e=mw(null,e,r,t,n);break e;case 11:e=fw(null,e,r,t,n);break e;case 14:e=pw(null,e,r,On(r.type,t),n);break e}throw Error(H(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:On(r,s),Zp(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:On(r,s),mw(t,e,r,s,n);case 3:e:{if(aT(e),t===null)throw Error(H(387));r=e.pendingProps,i=e.memoizedState,s=i.element,Ox(t,e),vd(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Go(Error(H(423)),e),e=gw(t,e,r,n,s);break e}else if(r!==s){s=Go(Error(H(424)),e),e=gw(t,e,r,n,s);break e}else for(hn=Es(e.stateNode.containerInfo.firstChild),pn=e,He=!0,jn=null,n=kx(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Wo(),r===s){e=Mr(t,e,n);break e}Ht(t,e,r,n)}e=e.child}return e;case 5:return Mx(e),t===null&&Gp(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,zp(r,s)?o=null:i!==null&&zp(r,i)&&(e.flags|=32),oT(t,e),Ht(t,e,o,n),e.child;case 6:return t===null&&Gp(e),null;case 13:return lT(t,e,n);case 4:return $g(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=qo(e,null,r,n):Ht(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:On(r,s),fw(t,e,r,s,n);case 7:return Ht(t,e,e.pendingProps,n),e.child;case 8:return Ht(t,e,e.pendingProps.children,n),e.child;case 12:return Ht(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Le(gd,r._currentValue),r._currentValue=o,i!==null)if(Hn(i.value,o)){if(i.children===s.children&&!en.current){e=Mr(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var c=a.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=Rr(-1,n&-n),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),Qp(i.return,n,e),a.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(H(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Qp(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Ht(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,To(e,n),s=bn(s),r=r(s),e.flags|=1,Ht(t,e,r,n),e.child;case 14:return r=e.type,s=On(r,e.pendingProps),s=On(r.type,s),pw(t,e,r,s,n);case 15:return sT(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:On(r,s),ju(t,e),e.tag=1,tn(r)?(t=!0,fd(e)):t=!1,To(e,n),tT(e,r,s),Xp(e,r,s,n),em(null,e,r,!0,t,n);case 19:return cT(t,e,n);case 22:return iT(t,e,n)}throw Error(H(156,e.tag))};function IT(t,e){return J1(t,e)}function ck(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function In(t,e,n,r){return new ck(t,e,n,r)}function ny(t){return t=t.prototype,!(!t||!t.isReactComponent)}function uk(t){if(typeof t=="function")return ny(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Eg)return 11;if(t===xg)return 14}return 2}function Is(t,e){var n=t.alternate;return n===null?(n=In(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function $u(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")ny(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case so:return Ei(n.children,s,i,e);case _g:o=8,s|=8;break;case Ep:return t=In(12,n,e,s|2),t.elementType=Ep,t.lanes=i,t;case xp:return t=In(13,n,e,s),t.elementType=xp,t.lanes=i,t;case Tp:return t=In(19,n,e,s),t.elementType=Tp,t.lanes=i,t;case M1:return fh(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case D1:o=10;break e;case O1:o=9;break e;case Eg:o=11;break e;case xg:o=14;break e;case ns:o=16,r=null;break e}throw Error(H(130,t==null?t:typeof t,""))}return e=In(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Ei(t,e,n,r){return t=In(7,t,r,e),t.lanes=n,t}function fh(t,e,n,r){return t=In(22,t,r,e),t.elementType=M1,t.lanes=n,t.stateNode={isHidden:!1},t}function Hf(t,e,n){return t=In(6,t,null,e),t.lanes=n,t}function Wf(t,e,n){return e=In(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function dk(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=If(0),this.expirationTimes=If(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=If(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function ry(t,e,n,r,s,i,o,a,c){return t=new dk(t,e,n,a,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=In(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ug(i),t}function hk(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ro,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function CT(t){if(!t)return Os;t=t._reactInternals;e:{if(Ui(t)!==t||t.tag!==1)throw Error(H(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(tn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(H(171))}if(t.tag===1){var n=t.type;if(tn(n))return Cx(t,n,e)}return e}function bT(t,e,n,r,s,i,o,a,c){return t=ry(n,r,!0,t,s,i,o,a,c),t.context=CT(null),n=t.current,r=qt(),s=Ss(n),i=Rr(r,s),i.callback=e??null,xs(n,i,s),t.current.lanes=s,ic(t,s,r),nn(t,r),t}function ph(t,e,n,r){var s=e.current,i=qt(),o=Ss(s);return n=CT(n),e.context===null?e.context=n:e.pendingContext=n,e=Rr(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=xs(s,e,o),t!==null&&($n(t,s,o,i),Mu(t,s,o)),o}function Cd(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Cw(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function sy(t,e){Cw(t,e),(t=t.alternate)&&Cw(t,e)}function fk(){return null}var AT=typeof reportError=="function"?reportError:function(t){console.error(t)};function iy(t){this._internalRoot=t}mh.prototype.render=iy.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(H(409));ph(t,e,null,null)};mh.prototype.unmount=iy.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ai(function(){ph(null,t,null,null)}),e[Dr]=null}};function mh(t){this._internalRoot=t}mh.prototype.unstable_scheduleHydration=function(t){if(t){var e=ix();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ss.length&&e!==0&&e<ss[n].priority;n++);ss.splice(n,0,t),n===0&&ax(t)}};function oy(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function gh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function bw(){}function pk(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=Cd(o);i.call(u)}}var o=bT(e,r,t,0,null,!1,!1,"",bw);return t._reactRootContainer=o,t[Dr]=o.current,Ol(t.nodeType===8?t.parentNode:t),Ai(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=Cd(c);a.call(u)}}var c=ry(t,0,!1,null,null,!1,!1,"",bw);return t._reactRootContainer=c,t[Dr]=c.current,Ol(t.nodeType===8?t.parentNode:t),Ai(function(){ph(e,c,n,r)}),c}function yh(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var c=Cd(o);a.call(c)}}ph(e,o,t,s)}else o=pk(n,e,t,s,r);return Cd(o)}rx=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Xa(e.pendingLanes);n!==0&&(Ig(e,n|1),nn(e,nt()),!(Ie&6)&&(Qo=nt()+500,Ks()))}break;case 13:Ai(function(){var r=Or(t,1);if(r!==null){var s=qt();$n(r,t,1,s)}}),sy(t,1)}};Cg=function(t){if(t.tag===13){var e=Or(t,134217728);if(e!==null){var n=qt();$n(e,t,134217728,n)}sy(t,134217728)}};sx=function(t){if(t.tag===13){var e=Ss(t),n=Or(t,e);if(n!==null){var r=qt();$n(n,t,e,r)}sy(t,e)}};ix=function(){return Ne};ox=function(t,e){var n=Ne;try{return Ne=t,e()}finally{Ne=n}};Dp=function(t,e,n){switch(e){case"input":if(Cp(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=ah(r);if(!s)throw Error(H(90));V1(r),Cp(r,s)}}}break;case"textarea":F1(t,n);break;case"select":e=n.value,e!=null&&wo(t,!!n.multiple,e,!1)}};q1=Zg;K1=Ai;var mk={usingClientEntryPoint:!1,Events:[ac,lo,ah,H1,W1,Zg]},Wa={findFiberByHostInstance:ui,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},gk={bundleType:Wa.bundleType,version:Wa.version,rendererPackageName:Wa.rendererPackageName,rendererConfig:Wa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Br.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Y1(t),t===null?null:t.stateNode},findFiberByHostInstance:Wa.findFiberByHostInstance||fk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var cu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cu.isDisabled&&cu.supportsFiber)try{rh=cu.inject(gk),or=cu}catch{}}yn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mk;yn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!oy(e))throw Error(H(200));return hk(t,e,null,n)};yn.createRoot=function(t,e){if(!oy(t))throw Error(H(299));var n=!1,r="",s=AT;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=ry(t,1,!1,null,null,n,!1,r,s),t[Dr]=e.current,Ol(t.nodeType===8?t.parentNode:t),new iy(e)};yn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(H(188)):(t=Object.keys(t).join(","),Error(H(268,t)));return t=Y1(e),t=t===null?null:t.stateNode,t};yn.flushSync=function(t){return Ai(t)};yn.hydrate=function(t,e,n){if(!gh(e))throw Error(H(200));return yh(null,t,e,!0,n)};yn.hydrateRoot=function(t,e,n){if(!oy(t))throw Error(H(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=AT;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=bT(e,null,t,1,n??null,s,!1,i,o),t[Dr]=e.current,Ol(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new mh(e)};yn.render=function(t,e,n){if(!gh(e))throw Error(H(200));return yh(null,t,e,!1,n)};yn.unmountComponentAtNode=function(t){if(!gh(t))throw Error(H(40));return t._reactRootContainer?(Ai(function(){yh(null,null,t,!1,function(){t._reactRootContainer=null,t[Dr]=null})}),!0):!1};yn.unstable_batchedUpdates=Zg;yn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!gh(n))throw Error(H(200));if(t==null||t._reactInternals===void 0)throw Error(H(38));return yh(t,e,n,!1,r)};yn.version="18.3.1-next-f1338f8080-20240426";function PT(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(PT)}catch(t){console.error(t)}}PT(),P1.exports=yn;var $i=P1.exports;const RT=g1($i);var NT,Aw=$i;NT=Aw.createRoot,Aw.hydrateRoot;const yk=1,vk=1e6;let qf=0;function wk(){return qf=(qf+1)%Number.MAX_SAFE_INTEGER,qf.toString()}const Kf=new Map,Pw=t=>{if(Kf.has(t))return;const e=setTimeout(()=>{Kf.delete(t),vl({type:"REMOVE_TOAST",toastId:t})},vk);Kf.set(t,e)},_k=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,yk)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?Pw(n):t.toasts.forEach(r=>{Pw(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},Bu=[];let zu={toasts:[]};function vl(t){zu=_k(zu,t),Bu.forEach(e=>{e(zu)})}function Ek({...t}){const e=wk(),n=s=>vl({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>vl({type:"DISMISS_TOAST",toastId:e});return vl({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function cc(){const[t,e]=w.useState(zu);return w.useEffect(()=>(Bu.push(e),()=>{const n=Bu.indexOf(e);n>-1&&Bu.splice(n,1)}),[t]),{...t,toast:Ek,dismiss:n=>vl({type:"DISMISS_TOAST",toastId:n})}}function ie(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function xk(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function kT(...t){return e=>t.forEach(n=>xk(n,e))}function Ve(...t){return w.useCallback(kT(...t),t)}function Tk(t,e=[]){let n=[];function r(i,o){const a=w.createContext(o),c=n.length;n=[...n,o];function u(f){const{scope:d,children:y,...x}=f,g=(d==null?void 0:d[t][c])||a,T=w.useMemo(()=>x,Object.values(x));return m.jsx(g.Provider,{value:T,children:y})}function h(f,d){const y=(d==null?void 0:d[t][c])||a,x=w.useContext(y);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return u.displayName=i+"Provider",[u,h]}const s=()=>{const i=n.map(o=>w.createContext(o));return function(a){const c=(a==null?void 0:a[t])||i;return w.useMemo(()=>({[`__scope${t}`]:{...a,[t]:c}}),[a,c])}};return s.scopeName=t,[r,Sk(s,...e)]}function Sk(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...a,...f}},{});return w.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var Pi=w.forwardRef((t,e)=>{const{children:n,...r}=t,s=w.Children.toArray(n),i=s.find(Ik);if(i){const o=i.props.children,a=s.map(c=>c===i?w.Children.count(o)>1?w.Children.only(null):w.isValidElement(o)?o.props.children:null:c);return m.jsx(hm,{...r,ref:e,children:w.isValidElement(o)?w.cloneElement(o,void 0,a):null})}return m.jsx(hm,{...r,ref:e,children:n})});Pi.displayName="Slot";var hm=w.forwardRef((t,e)=>{const{children:n,...r}=t;if(w.isValidElement(n)){const s=bk(n);return w.cloneElement(n,{...Ck(r,n.props),ref:e?kT(e,s):s})}return w.Children.count(n)>1?w.Children.only(null):null});hm.displayName="SlotClone";var DT=({children:t})=>m.jsx(m.Fragment,{children:t});function Ik(t){return w.isValidElement(t)&&t.type===DT}function Ck(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{i(...a),s(...a)}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function bk(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function ay(t){const e=t+"CollectionProvider",[n,r]=Tk(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=y=>{const{scope:x,children:g}=y,T=W.useRef(null),E=W.useRef(new Map).current;return m.jsx(s,{scope:x,itemMap:E,collectionRef:T,children:g})};o.displayName=e;const a=t+"CollectionSlot",c=W.forwardRef((y,x)=>{const{scope:g,children:T}=y,E=i(a,g),_=Ve(x,E.collectionRef);return m.jsx(Pi,{ref:_,children:T})});c.displayName=a;const u=t+"CollectionItemSlot",h="data-radix-collection-item",f=W.forwardRef((y,x)=>{const{scope:g,children:T,...E}=y,_=W.useRef(null),S=Ve(x,_),N=i(u,g);return W.useEffect(()=>(N.itemMap.set(_,{ref:_,...E}),()=>void N.itemMap.delete(_))),m.jsx(Pi,{[h]:"",ref:S,children:T})});f.displayName=u;function d(y){const x=i(t+"CollectionConsumer",y);return W.useCallback(()=>{const T=x.collectionRef.current;if(!T)return[];const E=Array.from(T.querySelectorAll(`[${h}]`));return Array.from(x.itemMap.values()).sort((N,O)=>E.indexOf(N.ref.current)-E.indexOf(O.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:o,Slot:c,ItemSlot:f},d,r]}function Ak(t,e){const n=w.createContext(e),r=i=>{const{children:o,...a}=i,c=w.useMemo(()=>a,Object.values(a));return m.jsx(n.Provider,{value:c,children:o})};r.displayName=t+"Provider";function s(i){const o=w.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function uc(t,e=[]){let n=[];function r(i,o){const a=w.createContext(o),c=n.length;n=[...n,o];const u=f=>{var E;const{scope:d,children:y,...x}=f,g=((E=d==null?void 0:d[t])==null?void 0:E[c])||a,T=w.useMemo(()=>x,Object.values(x));return m.jsx(g.Provider,{value:T,children:y})};u.displayName=i+"Provider";function h(f,d){var g;const y=((g=d==null?void 0:d[t])==null?void 0:g[c])||a,x=w.useContext(y);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,h]}const s=()=>{const i=n.map(o=>w.createContext(o));return function(a){const c=(a==null?void 0:a[t])||i;return w.useMemo(()=>({[`__scope${t}`]:{...a,[t]:c}}),[a,c])}};return s.scopeName=t,[r,Pk(s,...e)]}function Pk(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...a,...f}},{});return w.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var Rk=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],pe=Rk.reduce((t,e)=>{const n=w.forwardRef((r,s)=>{const{asChild:i,...o}=r,a=i?Pi:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),m.jsx(a,{...o,ref:s})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function OT(t,e){t&&$i.flushSync(()=>t.dispatchEvent(e))}function rn(t){const e=w.useRef(t);return w.useEffect(()=>{e.current=t}),w.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function Nk(t,e=globalThis==null?void 0:globalThis.document){const n=rn(t);w.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var kk="DismissableLayer",fm="dismissableLayer.update",Dk="dismissableLayer.pointerDownOutside",Ok="dismissableLayer.focusOutside",Rw,MT=w.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),dc=w.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...c}=t,u=w.useContext(MT),[h,f]=w.useState(null),d=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,y]=w.useState({}),x=Ve(e,C=>f(C)),g=Array.from(u.layers),[T]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),E=g.indexOf(T),_=h?g.indexOf(h):-1,S=u.layersWithOutsidePointerEventsDisabled.size>0,N=_>=E,O=Lk(C=>{const I=C.target,A=[...u.branches].some(R=>R.contains(I));!N||A||(s==null||s(C),o==null||o(C),C.defaultPrevented||a==null||a())},d),L=Vk(C=>{const I=C.target;[...u.branches].some(R=>R.contains(I))||(i==null||i(C),o==null||o(C),C.defaultPrevented||a==null||a())},d);return Nk(C=>{_===u.layers.size-1&&(r==null||r(C),!C.defaultPrevented&&a&&(C.preventDefault(),a()))},d),w.useEffect(()=>{if(h)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Rw=d.body.style.pointerEvents,d.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(h)),u.layers.add(h),Nw(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(d.body.style.pointerEvents=Rw)}},[h,d,n,u]),w.useEffect(()=>()=>{h&&(u.layers.delete(h),u.layersWithOutsidePointerEventsDisabled.delete(h),Nw())},[h,u]),w.useEffect(()=>{const C=()=>y({});return document.addEventListener(fm,C),()=>document.removeEventListener(fm,C)},[]),m.jsx(pe.div,{...c,ref:x,style:{pointerEvents:S?N?"auto":"none":void 0,...t.style},onFocusCapture:ie(t.onFocusCapture,L.onFocusCapture),onBlurCapture:ie(t.onBlurCapture,L.onBlurCapture),onPointerDownCapture:ie(t.onPointerDownCapture,O.onPointerDownCapture)})});dc.displayName=kk;var Mk="DismissableLayerBranch",LT=w.forwardRef((t,e)=>{const n=w.useContext(MT),r=w.useRef(null),s=Ve(e,r);return w.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),m.jsx(pe.div,{...t,ref:s})});LT.displayName=Mk;function Lk(t,e=globalThis==null?void 0:globalThis.document){const n=rn(t),r=w.useRef(!1),s=w.useRef(()=>{});return w.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let c=function(){VT(Dk,n,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=c,e.addEventListener("click",s.current,{once:!0})):c()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function Vk(t,e=globalThis==null?void 0:globalThis.document){const n=rn(t),r=w.useRef(!1);return w.useEffect(()=>{const s=i=>{i.target&&!r.current&&VT(Ok,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Nw(){const t=new CustomEvent(fm);document.dispatchEvent(t)}function VT(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?OT(s,i):s.dispatchEvent(i)}var jk=dc,Fk=LT,Ft=globalThis!=null&&globalThis.document?w.useLayoutEffect:()=>{},Uk="Portal",vh=w.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=w.useState(!1);Ft(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?RT.createPortal(m.jsx(pe.div,{...r,ref:e}),o):null});vh.displayName=Uk;function $k(t,e){return w.useReducer((n,r)=>e[n][r]??n,t)}var Bi=t=>{const{present:e,children:n}=t,r=Bk(e),s=typeof n=="function"?n({present:r.isPresent}):w.Children.only(n),i=Ve(r.ref,zk(s));return typeof n=="function"||r.isPresent?w.cloneElement(s,{ref:i}):null};Bi.displayName="Presence";function Bk(t){const[e,n]=w.useState(),r=w.useRef({}),s=w.useRef(t),i=w.useRef("none"),o=t?"mounted":"unmounted",[a,c]=$k(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return w.useEffect(()=>{const u=uu(r.current);i.current=a==="mounted"?u:"none"},[a]),Ft(()=>{const u=r.current,h=s.current;if(h!==t){const d=i.current,y=uu(u);t?c("MOUNT"):y==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(h&&d!==y?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,c]),Ft(()=>{if(e){let u;const h=e.ownerDocument.defaultView??window,f=y=>{const g=uu(r.current).includes(y.animationName);if(y.target===e&&g&&(c("ANIMATION_END"),!s.current)){const T=e.style.animationFillMode;e.style.animationFillMode="forwards",u=h.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=T)})}},d=y=>{y.target===e&&(i.current=uu(r.current))};return e.addEventListener("animationstart",d),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{h.clearTimeout(u),e.removeEventListener("animationstart",d),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:w.useCallback(u=>{u&&(r.current=getComputedStyle(u)),n(u)},[])}}function uu(t){return(t==null?void 0:t.animationName)||"none"}function zk(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Yo({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,s]=Hk({defaultProp:e,onChange:n}),i=t!==void 0,o=i?t:r,a=rn(n),c=w.useCallback(u=>{if(i){const f=typeof u=="function"?u(t):u;f!==t&&a(f)}else s(u)},[i,t,s,a]);return[o,c]}function Hk({defaultProp:t,onChange:e}){const n=w.useState(t),[r]=n,s=w.useRef(r),i=rn(e);return w.useEffect(()=>{s.current!==r&&(i(r),s.current=r)},[r,s,i]),n}var Wk="VisuallyHidden",hc=w.forwardRef((t,e)=>m.jsx(pe.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));hc.displayName=Wk;var qk=hc,ly="ToastProvider",[cy,Kk,Gk]=ay("Toast"),[jT,y$]=uc("Toast",[Gk]),[Qk,wh]=jT(ly),FT=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[a,c]=w.useState(null),[u,h]=w.useState(0),f=w.useRef(!1),d=w.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${ly}\`. Expected non-empty \`string\`.`),m.jsx(cy.Provider,{scope:e,children:m.jsx(Qk,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:u,viewport:a,onViewportChange:c,onToastAdd:w.useCallback(()=>h(y=>y+1),[]),onToastRemove:w.useCallback(()=>h(y=>y-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:d,children:o})})};FT.displayName=ly;var UT="ToastViewport",Yk=["F8"],pm="toast.viewportPause",mm="toast.viewportResume",$T=w.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=Yk,label:s="Notifications ({hotkey})",...i}=t,o=wh(UT,n),a=Kk(n),c=w.useRef(null),u=w.useRef(null),h=w.useRef(null),f=w.useRef(null),d=Ve(e,f,o.onViewportChange),y=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),x=o.toastCount>0;w.useEffect(()=>{const T=E=>{var S;r.length!==0&&r.every(N=>E[N]||E.code===N)&&((S=f.current)==null||S.focus())};return document.addEventListener("keydown",T),()=>document.removeEventListener("keydown",T)},[r]),w.useEffect(()=>{const T=c.current,E=f.current;if(x&&T&&E){const _=()=>{if(!o.isClosePausedRef.current){const L=new CustomEvent(pm);E.dispatchEvent(L),o.isClosePausedRef.current=!0}},S=()=>{if(o.isClosePausedRef.current){const L=new CustomEvent(mm);E.dispatchEvent(L),o.isClosePausedRef.current=!1}},N=L=>{!T.contains(L.relatedTarget)&&S()},O=()=>{T.contains(document.activeElement)||S()};return T.addEventListener("focusin",_),T.addEventListener("focusout",N),T.addEventListener("pointermove",_),T.addEventListener("pointerleave",O),window.addEventListener("blur",_),window.addEventListener("focus",S),()=>{T.removeEventListener("focusin",_),T.removeEventListener("focusout",N),T.removeEventListener("pointermove",_),T.removeEventListener("pointerleave",O),window.removeEventListener("blur",_),window.removeEventListener("focus",S)}}},[x,o.isClosePausedRef]);const g=w.useCallback(({tabbingDirection:T})=>{const _=a().map(S=>{const N=S.ref.current,O=[N,...c2(N)];return T==="forwards"?O:O.reverse()});return(T==="forwards"?_.reverse():_).flat()},[a]);return w.useEffect(()=>{const T=f.current;if(T){const E=_=>{var O,L,C;const S=_.altKey||_.ctrlKey||_.metaKey;if(_.key==="Tab"&&!S){const I=document.activeElement,A=_.shiftKey;if(_.target===T&&A){(O=u.current)==null||O.focus();return}const D=g({tabbingDirection:A?"backwards":"forwards"}),P=D.findIndex(B=>B===I);Gf(D.slice(P+1))?_.preventDefault():A?(L=u.current)==null||L.focus():(C=h.current)==null||C.focus()}};return T.addEventListener("keydown",E),()=>T.removeEventListener("keydown",E)}},[a,g]),m.jsxs(Fk,{ref:c,role:"region","aria-label":s.replace("{hotkey}",y),tabIndex:-1,style:{pointerEvents:x?void 0:"none"},children:[x&&m.jsx(gm,{ref:u,onFocusFromOutsideViewport:()=>{const T=g({tabbingDirection:"forwards"});Gf(T)}}),m.jsx(cy.Slot,{scope:n,children:m.jsx(pe.ol,{tabIndex:-1,...i,ref:d})}),x&&m.jsx(gm,{ref:h,onFocusFromOutsideViewport:()=>{const T=g({tabbingDirection:"backwards"});Gf(T)}})]})});$T.displayName=UT;var BT="ToastFocusProxy",gm=w.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=wh(BT,n);return m.jsx(hc,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var u;const a=o.relatedTarget;!((u=i.viewport)!=null&&u.contains(a))&&r()}})});gm.displayName=BT;var _h="Toast",Xk="toast.swipeStart",Jk="toast.swipeMove",Zk="toast.swipeCancel",e2="toast.swipeEnd",zT=w.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=t,[a=!0,c]=Yo({prop:r,defaultProp:s,onChange:i});return m.jsx(Bi,{present:n||a,children:m.jsx(r2,{open:a,...o,ref:e,onClose:()=>c(!1),onPause:rn(t.onPause),onResume:rn(t.onResume),onSwipeStart:ie(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ie(t.onSwipeMove,u=>{const{x:h,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${h}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:ie(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ie(t.onSwipeEnd,u=>{const{x:h,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${h}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});zT.displayName=_h;var[t2,n2]=jT(_h,{onClose(){}}),r2=w.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:c,onResume:u,onSwipeStart:h,onSwipeMove:f,onSwipeCancel:d,onSwipeEnd:y,...x}=t,g=wh(_h,n),[T,E]=w.useState(null),_=Ve(e,B=>E(B)),S=w.useRef(null),N=w.useRef(null),O=s||g.duration,L=w.useRef(0),C=w.useRef(O),I=w.useRef(0),{onToastAdd:A,onToastRemove:R}=g,k=rn(()=>{var G;(T==null?void 0:T.contains(document.activeElement))&&((G=g.viewport)==null||G.focus()),o()}),D=w.useCallback(B=>{!B||B===1/0||(window.clearTimeout(I.current),L.current=new Date().getTime(),I.current=window.setTimeout(k,B))},[k]);w.useEffect(()=>{const B=g.viewport;if(B){const G=()=>{D(C.current),u==null||u()},K=()=>{const te=new Date().getTime()-L.current;C.current=C.current-te,window.clearTimeout(I.current),c==null||c()};return B.addEventListener(pm,K),B.addEventListener(mm,G),()=>{B.removeEventListener(pm,K),B.removeEventListener(mm,G)}}},[g.viewport,O,c,u,D]),w.useEffect(()=>{i&&!g.isClosePausedRef.current&&D(O)},[i,O,g.isClosePausedRef,D]),w.useEffect(()=>(A(),()=>R()),[A,R]);const P=w.useMemo(()=>T?YT(T):null,[T]);return g.viewport?m.jsxs(m.Fragment,{children:[P&&m.jsx(s2,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:P}),m.jsx(t2,{scope:n,onClose:k,children:$i.createPortal(m.jsx(cy.ItemSlot,{scope:n,children:m.jsx(jk,{asChild:!0,onEscapeKeyDown:ie(a,()=>{g.isFocusedToastEscapeKeyDownRef.current||k(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:m.jsx(pe.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":g.swipeDirection,...x,ref:_,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:ie(t.onKeyDown,B=>{B.key==="Escape"&&(a==null||a(B.nativeEvent),B.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,k()))}),onPointerDown:ie(t.onPointerDown,B=>{B.button===0&&(S.current={x:B.clientX,y:B.clientY})}),onPointerMove:ie(t.onPointerMove,B=>{if(!S.current)return;const G=B.clientX-S.current.x,K=B.clientY-S.current.y,te=!!N.current,V=["left","right"].includes(g.swipeDirection),z=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,Z=V?z(0,G):0,Q=V?0:z(0,K),ee=B.pointerType==="touch"?10:2,re={x:Z,y:Q},Ce={originalEvent:B,delta:re};te?(N.current=re,du(Jk,f,Ce,{discrete:!1})):kw(re,g.swipeDirection,ee)?(N.current=re,du(Xk,h,Ce,{discrete:!1}),B.target.setPointerCapture(B.pointerId)):(Math.abs(G)>ee||Math.abs(K)>ee)&&(S.current=null)}),onPointerUp:ie(t.onPointerUp,B=>{const G=N.current,K=B.target;if(K.hasPointerCapture(B.pointerId)&&K.releasePointerCapture(B.pointerId),N.current=null,S.current=null,G){const te=B.currentTarget,V={originalEvent:B,delta:G};kw(G,g.swipeDirection,g.swipeThreshold)?du(e2,y,V,{discrete:!0}):du(Zk,d,V,{discrete:!0}),te.addEventListener("click",z=>z.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),s2=t=>{const{__scopeToast:e,children:n,...r}=t,s=wh(_h,e),[i,o]=w.useState(!1),[a,c]=w.useState(!1);return a2(()=>o(!0)),w.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),a?null:m.jsx(vh,{asChild:!0,children:m.jsx(hc,{...r,children:i&&m.jsxs(m.Fragment,{children:[s.label," ",n]})})})},i2="ToastTitle",HT=w.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return m.jsx(pe.div,{...r,ref:e})});HT.displayName=i2;var o2="ToastDescription",WT=w.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return m.jsx(pe.div,{...r,ref:e})});WT.displayName=o2;var qT="ToastAction",KT=w.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?m.jsx(QT,{altText:n,asChild:!0,children:m.jsx(uy,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${qT}\`. Expected non-empty \`string\`.`),null)});KT.displayName=qT;var GT="ToastClose",uy=w.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=n2(GT,n);return m.jsx(QT,{asChild:!0,children:m.jsx(pe.button,{type:"button",...r,ref:e,onClick:ie(t.onClick,s.onClose)})})});uy.displayName=GT;var QT=w.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return m.jsx(pe.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function YT(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),l2(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...YT(r))}}),e}function du(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?OT(s,i):s.dispatchEvent(i)}var kw=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function a2(t=()=>{}){const e=rn(t);Ft(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function l2(t){return t.nodeType===t.ELEMENT_NODE}function c2(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Gf(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var u2=FT,XT=$T,JT=zT,ZT=HT,eS=WT,tS=KT,nS=uy;function rS(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=rS(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function sS(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=rS(t))&&(r&&(r+=" "),r+=e);return r}const Dw=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Ow=sS,fc=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return Ow(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(u=>{const h=n==null?void 0:n[u],f=i==null?void 0:i[u];if(h===null)return null;const d=Dw(h)||Dw(f);return s[u][d]}),a=n&&Object.entries(n).reduce((u,h)=>{let[f,d]=h;return d===void 0||(u[f]=d),u},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,h)=>{let{class:f,className:d,...y}=h;return Object.entries(y).every(x=>{let[g,T]=x;return Array.isArray(T)?T.includes({...i,...a}[g]):{...i,...a}[g]===T})?[...u,f,d]:u},[]);return Ow(t,o,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d2=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),iS=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var h2={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f2=w.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},c)=>w.createElement("svg",{ref:c,...h2,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:iS("lucide",s),...a},[...o.map(([u,h])=>w.createElement(u,h)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ze=(t,e)=>{const n=w.forwardRef(({className:r,...s},i)=>w.createElement(f2,{ref:i,iconNode:e,className:iS(`lucide-${d2(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Za=Ze("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p2=Ze("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oS=Ze("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m2=Ze("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g2=Ze("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mw=Ze("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lw=Ze("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y2=Ze("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v2=Ze("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vw=Ze("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qf=Ze("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w2=Ze("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jw=Ze("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _2=Ze("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fw=Ze("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E2=Ze("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x2=Ze("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T2=Ze("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S2=Ze("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I2=Ze("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aS=Ze("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C2=Ze("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),dy="-",b2=t=>{const e=P2(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(dy);return a[0]===""&&a.length!==1&&a.shift(),lS(a,e)||A2(o)},getConflictingClassGroupIds:(o,a)=>{const c=n[o]||[];return a&&r[o]?[...c,...r[o]]:c}}},lS=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?lS(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(dy);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},Uw=/^\[(.+)\]$/,A2=t=>{if(Uw.test(t)){const e=Uw.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},P2=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return N2(Object.entries(t.classGroups),n).forEach(([i,o])=>{ym(o,r,i,e)}),r},ym=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:$w(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(R2(s)){ym(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{ym(o,$w(e,i),n,r)})})},$w=(t,e)=>{let n=t;return e.split(dy).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},R2=t=>t.isThemeGetter,N2=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[n,s]}):t,k2=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},cS="!",D2=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=a=>{const c=[];let u=0,h=0,f;for(let T=0;T<a.length;T++){let E=a[T];if(u===0){if(E===s&&(r||a.slice(T,T+i)===e)){c.push(a.slice(h,T)),h=T+i;continue}if(E==="/"){f=T;continue}}E==="["?u++:E==="]"&&u--}const d=c.length===0?a:a.substring(h),y=d.startsWith(cS),x=y?d.substring(1):d,g=f&&f>h?f-h:void 0;return{modifiers:c,hasImportantModifier:y,baseClassName:x,maybePostfixModifierPosition:g}};return n?a=>n({className:a,parseClassName:o}):o},O2=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},M2=t=>({cache:k2(t.cacheSize),parseClassName:D2(t),...b2(t)}),L2=/\s+/,V2=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(L2);let a="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:h,hasImportantModifier:f,baseClassName:d,maybePostfixModifierPosition:y}=n(u);let x=!!y,g=r(x?d.substring(0,y):d);if(!g){if(!x){a=u+(a.length>0?" "+a:a);continue}if(g=r(d),!g){a=u+(a.length>0?" "+a:a);continue}x=!1}const T=O2(h).join(":"),E=f?T+cS:T,_=E+g;if(i.includes(_))continue;i.push(_);const S=s(g,x);for(let N=0;N<S.length;++N){const O=S[N];i.push(E+O)}a=u+(a.length>0?" "+a:a)}return a};function j2(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=uS(e))&&(r&&(r+=" "),r+=n);return r}const uS=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=uS(t[r]))&&(n&&(n+=" "),n+=e);return n};function F2(t,...e){let n,r,s,i=o;function o(c){const u=e.reduce((h,f)=>f(h),t());return n=M2(u),r=n.cache.get,s=n.cache.set,i=a,a(c)}function a(c){const u=r(c);if(u)return u;const h=V2(c,n);return s(c,h),h}return function(){return i(j2.apply(null,arguments))}}const Fe=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},dS=/^\[(?:([a-z-]+):)?(.+)\]$/i,U2=/^\d+\/\d+$/,$2=new Set(["px","full","screen"]),B2=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,z2=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,H2=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,W2=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,q2=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Er=t=>Io(t)||$2.has(t)||U2.test(t),Xr=t=>ua(t,"length",eD),Io=t=>!!t&&!Number.isNaN(Number(t)),Yf=t=>ua(t,"number",Io),qa=t=>!!t&&Number.isInteger(Number(t)),K2=t=>t.endsWith("%")&&Io(t.slice(0,-1)),he=t=>dS.test(t),Jr=t=>B2.test(t),G2=new Set(["length","size","percentage"]),Q2=t=>ua(t,G2,hS),Y2=t=>ua(t,"position",hS),X2=new Set(["image","url"]),J2=t=>ua(t,X2,nD),Z2=t=>ua(t,"",tD),Ka=()=>!0,ua=(t,e,n)=>{const r=dS.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},eD=t=>z2.test(t)&&!H2.test(t),hS=()=>!1,tD=t=>W2.test(t),nD=t=>q2.test(t),rD=()=>{const t=Fe("colors"),e=Fe("spacing"),n=Fe("blur"),r=Fe("brightness"),s=Fe("borderColor"),i=Fe("borderRadius"),o=Fe("borderSpacing"),a=Fe("borderWidth"),c=Fe("contrast"),u=Fe("grayscale"),h=Fe("hueRotate"),f=Fe("invert"),d=Fe("gap"),y=Fe("gradientColorStops"),x=Fe("gradientColorStopPositions"),g=Fe("inset"),T=Fe("margin"),E=Fe("opacity"),_=Fe("padding"),S=Fe("saturate"),N=Fe("scale"),O=Fe("sepia"),L=Fe("skew"),C=Fe("space"),I=Fe("translate"),A=()=>["auto","contain","none"],R=()=>["auto","hidden","clip","visible","scroll"],k=()=>["auto",he,e],D=()=>[he,e],P=()=>["",Er,Xr],B=()=>["auto",Io,he],G=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],K=()=>["solid","dashed","dotted","double","none"],te=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],V=()=>["start","end","center","between","around","evenly","stretch"],z=()=>["","0",he],Z=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Q=()=>[Io,he];return{cacheSize:500,separator:":",theme:{colors:[Ka],spacing:[Er,Xr],blur:["none","",Jr,he],brightness:Q(),borderColor:[t],borderRadius:["none","","full",Jr,he],borderSpacing:D(),borderWidth:P(),contrast:Q(),grayscale:z(),hueRotate:Q(),invert:z(),gap:D(),gradientColorStops:[t],gradientColorStopPositions:[K2,Xr],inset:k(),margin:k(),opacity:Q(),padding:D(),saturate:Q(),scale:Q(),sepia:z(),skew:Q(),space:D(),translate:D()},classGroups:{aspect:[{aspect:["auto","square","video",he]}],container:["container"],columns:[{columns:[Jr]}],"break-after":[{"break-after":Z()}],"break-before":[{"break-before":Z()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...G(),he]}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",qa,he]}],basis:[{basis:k()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",he]}],grow:[{grow:z()}],shrink:[{shrink:z()}],order:[{order:["first","last","none",qa,he]}],"grid-cols":[{"grid-cols":[Ka]}],"col-start-end":[{col:["auto",{span:["full",qa,he]},he]}],"col-start":[{"col-start":B()}],"col-end":[{"col-end":B()}],"grid-rows":[{"grid-rows":[Ka]}],"row-start-end":[{row:["auto",{span:[qa,he]},he]}],"row-start":[{"row-start":B()}],"row-end":[{"row-end":B()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",he]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",he]}],gap:[{gap:[d]}],"gap-x":[{"gap-x":[d]}],"gap-y":[{"gap-y":[d]}],"justify-content":[{justify:["normal",...V()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...V(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...V(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[_]}],px:[{px:[_]}],py:[{py:[_]}],ps:[{ps:[_]}],pe:[{pe:[_]}],pt:[{pt:[_]}],pr:[{pr:[_]}],pb:[{pb:[_]}],pl:[{pl:[_]}],m:[{m:[T]}],mx:[{mx:[T]}],my:[{my:[T]}],ms:[{ms:[T]}],me:[{me:[T]}],mt:[{mt:[T]}],mr:[{mr:[T]}],mb:[{mb:[T]}],ml:[{ml:[T]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",he,e]}],"min-w":[{"min-w":[he,e,"min","max","fit"]}],"max-w":[{"max-w":[he,e,"none","full","min","max","fit","prose",{screen:[Jr]},Jr]}],h:[{h:[he,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[he,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[he,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[he,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Jr,Xr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Yf]}],"font-family":[{font:[Ka]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",he]}],"line-clamp":[{"line-clamp":["none",Io,Yf]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Er,he]}],"list-image":[{"list-image":["none",he]}],"list-style-type":[{list:["none","disc","decimal",he]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[E]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[E]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...K(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Er,Xr]}],"underline-offset":[{"underline-offset":["auto",Er,he]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:D()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",he]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",he]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[E]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...G(),Y2]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Q2]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},J2]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[y]}],"gradient-via":[{via:[y]}],"gradient-to":[{to:[y]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[E]}],"border-style":[{border:[...K(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[E]}],"divide-style":[{divide:K()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...K()]}],"outline-offset":[{"outline-offset":[Er,he]}],"outline-w":[{outline:[Er,Xr]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:P()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[E]}],"ring-offset-w":[{"ring-offset":[Er,Xr]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Jr,Z2]}],"shadow-color":[{shadow:[Ka]}],opacity:[{opacity:[E]}],"mix-blend":[{"mix-blend":[...te(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":te()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Jr,he]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[f]}],saturate:[{saturate:[S]}],sepia:[{sepia:[O]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[E]}],"backdrop-saturate":[{"backdrop-saturate":[S]}],"backdrop-sepia":[{"backdrop-sepia":[O]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",he]}],duration:[{duration:Q()}],ease:[{ease:["linear","in","out","in-out",he]}],delay:[{delay:Q()}],animate:[{animate:["none","spin","ping","pulse","bounce",he]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[N]}],"scale-x":[{"scale-x":[N]}],"scale-y":[{"scale-y":[N]}],rotate:[{rotate:[qa,he]}],"translate-x":[{"translate-x":[I]}],"translate-y":[{"translate-y":[I]}],"skew-x":[{"skew-x":[L]}],"skew-y":[{"skew-y":[L]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",he]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",he]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":D()}],"scroll-mx":[{"scroll-mx":D()}],"scroll-my":[{"scroll-my":D()}],"scroll-ms":[{"scroll-ms":D()}],"scroll-me":[{"scroll-me":D()}],"scroll-mt":[{"scroll-mt":D()}],"scroll-mr":[{"scroll-mr":D()}],"scroll-mb":[{"scroll-mb":D()}],"scroll-ml":[{"scroll-ml":D()}],"scroll-p":[{"scroll-p":D()}],"scroll-px":[{"scroll-px":D()}],"scroll-py":[{"scroll-py":D()}],"scroll-ps":[{"scroll-ps":D()}],"scroll-pe":[{"scroll-pe":D()}],"scroll-pt":[{"scroll-pt":D()}],"scroll-pr":[{"scroll-pr":D()}],"scroll-pb":[{"scroll-pb":D()}],"scroll-pl":[{"scroll-pl":D()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",he]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Er,Xr,Yf]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},sD=F2(rD);function de(...t){return sD(sS(t))}const iD=u2,fS=w.forwardRef(({className:t,...e},n)=>m.jsx(XT,{ref:n,className:de("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));fS.displayName=XT.displayName;const oD=fc("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),pS=w.forwardRef(({className:t,variant:e,...n},r)=>m.jsx(JT,{ref:r,className:de(oD({variant:e}),t),...n}));pS.displayName=JT.displayName;const aD=w.forwardRef(({className:t,...e},n)=>m.jsx(tS,{ref:n,className:de("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));aD.displayName=tS.displayName;const mS=w.forwardRef(({className:t,...e},n)=>m.jsx(nS,{ref:n,className:de("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:m.jsx(aS,{className:"h-4 w-4"})}));mS.displayName=nS.displayName;const gS=w.forwardRef(({className:t,...e},n)=>m.jsx(ZT,{ref:n,className:de("text-sm font-semibold",t),...e}));gS.displayName=ZT.displayName;const yS=w.forwardRef(({className:t,...e},n)=>m.jsx(eS,{ref:n,className:de("text-sm opacity-90",t),...e}));yS.displayName=eS.displayName;function lD(){const{toasts:t}=cc();return m.jsxs(iD,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return m.jsxs(pS,{...i,children:[m.jsxs("div",{className:"grid gap-1",children:[n&&m.jsx(gS,{children:n}),r&&m.jsx(yS,{children:r})]}),s,m.jsx(mS,{})]},e)}),m.jsx(fS,{})]})}var Bw=["light","dark"],cD="(prefers-color-scheme: dark)",uD=w.createContext(void 0),dD={setTheme:t=>{},themes:[]},hD=()=>{var t;return(t=w.useContext(uD))!=null?t:dD};w.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:o,attrs:a,nonce:c})=>{let u=i==="system",h=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(x=>`'${x}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,f=s?Bw.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",d=(x,g=!1,T=!0)=>{let E=o?o[x]:x,_=g?x+"|| ''":`'${E}'`,S="";return s&&T&&!g&&Bw.includes(x)&&(S+=`d.style.colorScheme = '${x}';`),n==="class"?g||E?S+=`c.add(${_})`:S+="null":E&&(S+=`d[s](n,${_})`),S},y=t?`!function(){${h}${d(t)}}()`:r?`!function(){try{${h}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${u})){var t='${cD}',m=window.matchMedia(t);if(m.media!==t||m.matches){${d("dark")}}else{${d("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${d(o?"x[e]":"e",!0)}}${u?"":"else{"+d(i,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${h}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${d(o?"x[e]":"e",!0)}}else{${d(i,!1,!1)};}${f}}catch(t){}}();`;return w.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:y}})});var fD=t=>{switch(t){case"success":return gD;case"info":return vD;case"warning":return yD;case"error":return wD;default:return null}},pD=Array(12).fill(0),mD=({visible:t})=>W.createElement("div",{className:"sonner-loading-wrapper","data-visible":t},W.createElement("div",{className:"sonner-spinner"},pD.map((e,n)=>W.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),gD=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),yD=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),vD=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),wD=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),_D=()=>{let[t,e]=W.useState(document.hidden);return W.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},vm=1,ED=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;let{message:r,...s}=e,i=typeof(e==null?void 0:e.id)=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:vm++,o=this.toasts.find(c=>c.id===i),a=e.dismissible===void 0?!0:e.dismissible;return o?this.toasts=this.toasts.map(c=>c.id===i?(this.publish({...c,...e,id:i,title:r}),{...c,...e,id:i,dismissible:a,title:r}):c):this.addToast({title:r,...s,dismissible:a,id:i}),i},this.dismiss=e=>(e||this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),this.subscribers.forEach(n=>n({id:e,dismiss:!0})),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));let s=e instanceof Promise?e:e(),i=r!==void 0;return s.then(async o=>{if(TD(o)&&!o.ok){i=!1;let a=typeof n.error=="function"?await n.error(`HTTP error! status: ${o.status}`):n.error,c=typeof n.description=="function"?await n.description(`HTTP error! status: ${o.status}`):n.description;this.create({id:r,type:"error",message:a,description:c})}else if(n.success!==void 0){i=!1;let a=typeof n.success=="function"?await n.success(o):n.success,c=typeof n.description=="function"?await n.description(o):n.description;this.create({id:r,type:"success",message:a,description:c})}}).catch(async o=>{if(n.error!==void 0){i=!1;let a=typeof n.error=="function"?await n.error(o):n.error,c=typeof n.description=="function"?await n.description(o):n.description;this.create({id:r,type:"error",message:a,description:c})}}).finally(()=>{var o;i&&(this.dismiss(r),r=void 0),(o=n.finally)==null||o.call(n)}),r},this.custom=(e,n)=>{let r=(n==null?void 0:n.id)||vm++;return this.create({jsx:e(r),id:r,...n}),r},this.subscribers=[],this.toasts=[]}},ln=new ED,xD=(t,e)=>{let n=(e==null?void 0:e.id)||vm++;return ln.addToast({title:t,...e,id:n}),n},TD=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",SD=xD,ID=()=>ln.toasts;Object.assign(SD,{success:ln.success,info:ln.info,warning:ln.warning,error:ln.error,custom:ln.custom,message:ln.message,promise:ln.promise,dismiss:ln.dismiss,loading:ln.loading},{getHistory:ID});function CD(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}CD(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function hu(t){return t.label!==void 0}var bD=3,AD="32px",PD=4e3,RD=356,ND=14,kD=20,DD=200;function OD(...t){return t.filter(Boolean).join(" ")}var MD=t=>{var e,n,r,s,i,o,a,c,u,h;let{invert:f,toast:d,unstyled:y,interacting:x,setHeights:g,visibleToasts:T,heights:E,index:_,toasts:S,expanded:N,removeToast:O,defaultRichColors:L,closeButton:C,style:I,cancelButtonStyle:A,actionButtonStyle:R,className:k="",descriptionClassName:D="",duration:P,position:B,gap:G,loadingIcon:K,expandByDefault:te,classNames:V,icons:z,closeButtonAriaLabel:Z="Close toast",pauseWhenPageIsHidden:Q,cn:ee}=t,[re,Ce]=W.useState(!1),[Be,me]=W.useState(!1),[ne,Se]=W.useState(!1),[ze,ge]=W.useState(!1),[xe,ve]=W.useState(0),[ut,vt]=W.useState(0),wn=W.useRef(null),$t=W.useRef(null),gr=_===0,xa=_+1<=T,rt=d.type,Qn=d.dismissible!==!1,Pc=d.className||"",rf=d.descriptionClassName||"",Hr=W.useMemo(()=>E.findIndex(le=>le.toastId===d.id)||0,[E,d.id]),Ta=W.useMemo(()=>{var le;return(le=d.closeButton)!=null?le:C},[d.closeButton,C]),Sa=W.useMemo(()=>d.duration||P||PD,[d.duration,P]),st=W.useRef(0),Qe=W.useRef(0),ti=W.useRef(0),yr=W.useRef(null),[Ia,sf]=B.split("-"),Wr=W.useMemo(()=>E.reduce((le,ke,Re)=>Re>=Hr?le:le+ke.height,0),[E,Hr]),Ca=_D(),Rc=d.invert||f,ni=rt==="loading";Qe.current=W.useMemo(()=>Hr*G+Wr,[Hr,Wr]),W.useEffect(()=>{Ce(!0)},[]),W.useLayoutEffect(()=>{if(!re)return;let le=$t.current,ke=le.style.height;le.style.height="auto";let Re=le.getBoundingClientRect().height;le.style.height=ke,vt(Re),g(Ct=>Ct.find(Qt=>Qt.toastId===d.id)?Ct.map(Qt=>Qt.toastId===d.id?{...Qt,height:Re}:Qt):[{toastId:d.id,height:Re,position:d.position},...Ct])},[re,d.title,d.description,g,d.id]);let Yn=W.useCallback(()=>{me(!0),ve(Qe.current),g(le=>le.filter(ke=>ke.toastId!==d.id)),setTimeout(()=>{O(d)},DD)},[d,O,g,Qe]);W.useEffect(()=>{if(d.promise&&rt==="loading"||d.duration===1/0||d.type==="loading")return;let le,ke=Sa;return N||x||Q&&Ca?(()=>{if(ti.current<st.current){let Re=new Date().getTime()-st.current;ke=ke-Re}ti.current=new Date().getTime()})():ke!==1/0&&(st.current=new Date().getTime(),le=setTimeout(()=>{var Re;(Re=d.onAutoClose)==null||Re.call(d,d),Yn()},ke)),()=>clearTimeout(le)},[N,x,te,d,Sa,Yn,d.promise,rt,Q,Ca]),W.useEffect(()=>{let le=$t.current;if(le){let ke=le.getBoundingClientRect().height;return vt(ke),g(Re=>[{toastId:d.id,height:ke,position:d.position},...Re]),()=>g(Re=>Re.filter(Ct=>Ct.toastId!==d.id))}},[g,d.id]),W.useEffect(()=>{d.delete&&Yn()},[Yn,d.delete]);function of(){return z!=null&&z.loading?W.createElement("div",{className:"sonner-loader","data-visible":rt==="loading"},z.loading):K?W.createElement("div",{className:"sonner-loader","data-visible":rt==="loading"},K):W.createElement(mD,{visible:rt==="loading"})}return W.createElement("li",{"aria-live":d.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:$t,className:ee(k,Pc,V==null?void 0:V.toast,(e=d==null?void 0:d.classNames)==null?void 0:e.toast,V==null?void 0:V.default,V==null?void 0:V[rt],(n=d==null?void 0:d.classNames)==null?void 0:n[rt]),"data-sonner-toast":"","data-rich-colors":(r=d.richColors)!=null?r:L,"data-styled":!(d.jsx||d.unstyled||y),"data-mounted":re,"data-promise":!!d.promise,"data-removed":Be,"data-visible":xa,"data-y-position":Ia,"data-x-position":sf,"data-index":_,"data-front":gr,"data-swiping":ne,"data-dismissible":Qn,"data-type":rt,"data-invert":Rc,"data-swipe-out":ze,"data-expanded":!!(N||te&&re),style:{"--index":_,"--toasts-before":_,"--z-index":S.length-_,"--offset":`${Be?xe:Qe.current}px`,"--initial-height":te?"auto":`${ut}px`,...I,...d.style},onPointerDown:le=>{ni||!Qn||(wn.current=new Date,ve(Qe.current),le.target.setPointerCapture(le.pointerId),le.target.tagName!=="BUTTON"&&(Se(!0),yr.current={x:le.clientX,y:le.clientY}))},onPointerUp:()=>{var le,ke,Re,Ct;if(ze||!Qn)return;yr.current=null;let Qt=Number(((le=$t.current)==null?void 0:le.style.getPropertyValue("--swipe-amount").replace("px",""))||0),qr=new Date().getTime()-((ke=wn.current)==null?void 0:ke.getTime()),vr=Math.abs(Qt)/qr;if(Math.abs(Qt)>=kD||vr>.11){ve(Qe.current),(Re=d.onDismiss)==null||Re.call(d,d),Yn(),ge(!0);return}(Ct=$t.current)==null||Ct.style.setProperty("--swipe-amount","0px"),Se(!1)},onPointerMove:le=>{var ke;if(!yr.current||!Qn)return;let Re=le.clientY-yr.current.y,Ct=le.clientX-yr.current.x,Qt=(Ia==="top"?Math.min:Math.max)(0,Re),qr=le.pointerType==="touch"?10:2;Math.abs(Qt)>qr?(ke=$t.current)==null||ke.style.setProperty("--swipe-amount",`${Re}px`):Math.abs(Ct)>qr&&(yr.current=null)}},Ta&&!d.jsx?W.createElement("button",{"aria-label":Z,"data-disabled":ni,"data-close-button":!0,onClick:ni||!Qn?()=>{}:()=>{var le;Yn(),(le=d.onDismiss)==null||le.call(d,d)},className:ee(V==null?void 0:V.closeButton,(s=d==null?void 0:d.classNames)==null?void 0:s.closeButton)},W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},W.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),W.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,d.jsx||W.isValidElement(d.title)?d.jsx||d.title:W.createElement(W.Fragment,null,rt||d.icon||d.promise?W.createElement("div",{"data-icon":"",className:ee(V==null?void 0:V.icon,(i=d==null?void 0:d.classNames)==null?void 0:i.icon)},d.promise||d.type==="loading"&&!d.icon?d.icon||of():null,d.type!=="loading"?d.icon||(z==null?void 0:z[rt])||fD(rt):null):null,W.createElement("div",{"data-content":"",className:ee(V==null?void 0:V.content,(o=d==null?void 0:d.classNames)==null?void 0:o.content)},W.createElement("div",{"data-title":"",className:ee(V==null?void 0:V.title,(a=d==null?void 0:d.classNames)==null?void 0:a.title)},d.title),d.description?W.createElement("div",{"data-description":"",className:ee(D,rf,V==null?void 0:V.description,(c=d==null?void 0:d.classNames)==null?void 0:c.description)},d.description):null),W.isValidElement(d.cancel)?d.cancel:d.cancel&&hu(d.cancel)?W.createElement("button",{"data-button":!0,"data-cancel":!0,style:d.cancelButtonStyle||A,onClick:le=>{var ke,Re;hu(d.cancel)&&Qn&&((Re=(ke=d.cancel).onClick)==null||Re.call(ke,le),Yn())},className:ee(V==null?void 0:V.cancelButton,(u=d==null?void 0:d.classNames)==null?void 0:u.cancelButton)},d.cancel.label):null,W.isValidElement(d.action)?d.action:d.action&&hu(d.action)?W.createElement("button",{"data-button":!0,"data-action":!0,style:d.actionButtonStyle||R,onClick:le=>{var ke,Re;hu(d.action)&&(le.defaultPrevented||((Re=(ke=d.action).onClick)==null||Re.call(ke,le),Yn()))},className:ee(V==null?void 0:V.actionButton,(h=d==null?void 0:d.classNames)==null?void 0:h.actionButton)},d.action.label):null))};function zw(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}var LD=t=>{let{invert:e,position:n="bottom-right",hotkey:r=["altKey","KeyT"],expand:s,closeButton:i,className:o,offset:a,theme:c="light",richColors:u,duration:h,style:f,visibleToasts:d=bD,toastOptions:y,dir:x=zw(),gap:g=ND,loadingIcon:T,icons:E,containerAriaLabel:_="Notifications",pauseWhenPageIsHidden:S,cn:N=OD}=t,[O,L]=W.useState([]),C=W.useMemo(()=>Array.from(new Set([n].concat(O.filter(Q=>Q.position).map(Q=>Q.position)))),[O,n]),[I,A]=W.useState([]),[R,k]=W.useState(!1),[D,P]=W.useState(!1),[B,G]=W.useState(c!=="system"?c:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),K=W.useRef(null),te=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),V=W.useRef(null),z=W.useRef(!1),Z=W.useCallback(Q=>{var ee;(ee=O.find(re=>re.id===Q.id))!=null&&ee.delete||ln.dismiss(Q.id),L(re=>re.filter(({id:Ce})=>Ce!==Q.id))},[O]);return W.useEffect(()=>ln.subscribe(Q=>{if(Q.dismiss){L(ee=>ee.map(re=>re.id===Q.id?{...re,delete:!0}:re));return}setTimeout(()=>{RT.flushSync(()=>{L(ee=>{let re=ee.findIndex(Ce=>Ce.id===Q.id);return re!==-1?[...ee.slice(0,re),{...ee[re],...Q},...ee.slice(re+1)]:[Q,...ee]})})})}),[]),W.useEffect(()=>{if(c!=="system"){G(c);return}c==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?G("dark"):G("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:Q})=>{G(Q?"dark":"light")})},[c]),W.useEffect(()=>{O.length<=1&&k(!1)},[O]),W.useEffect(()=>{let Q=ee=>{var re,Ce;r.every(Be=>ee[Be]||ee.code===Be)&&(k(!0),(re=K.current)==null||re.focus()),ee.code==="Escape"&&(document.activeElement===K.current||(Ce=K.current)!=null&&Ce.contains(document.activeElement))&&k(!1)};return document.addEventListener("keydown",Q),()=>document.removeEventListener("keydown",Q)},[r]),W.useEffect(()=>{if(K.current)return()=>{V.current&&(V.current.focus({preventScroll:!0}),V.current=null,z.current=!1)}},[K.current]),O.length?W.createElement("section",{"aria-label":`${_} ${te}`,tabIndex:-1},C.map((Q,ee)=>{var re;let[Ce,Be]=Q.split("-");return W.createElement("ol",{key:Q,dir:x==="auto"?zw():x,tabIndex:-1,ref:K,className:o,"data-sonner-toaster":!0,"data-theme":B,"data-y-position":Ce,"data-x-position":Be,style:{"--front-toast-height":`${((re=I[0])==null?void 0:re.height)||0}px`,"--offset":typeof a=="number"?`${a}px`:a||AD,"--width":`${RD}px`,"--gap":`${g}px`,...f},onBlur:me=>{z.current&&!me.currentTarget.contains(me.relatedTarget)&&(z.current=!1,V.current&&(V.current.focus({preventScroll:!0}),V.current=null))},onFocus:me=>{me.target instanceof HTMLElement&&me.target.dataset.dismissible==="false"||z.current||(z.current=!0,V.current=me.relatedTarget)},onMouseEnter:()=>k(!0),onMouseMove:()=>k(!0),onMouseLeave:()=>{D||k(!1)},onPointerDown:me=>{me.target instanceof HTMLElement&&me.target.dataset.dismissible==="false"||P(!0)},onPointerUp:()=>P(!1)},O.filter(me=>!me.position&&ee===0||me.position===Q).map((me,ne)=>{var Se,ze;return W.createElement(MD,{key:me.id,icons:E,index:ne,toast:me,defaultRichColors:u,duration:(Se=y==null?void 0:y.duration)!=null?Se:h,className:y==null?void 0:y.className,descriptionClassName:y==null?void 0:y.descriptionClassName,invert:e,visibleToasts:d,closeButton:(ze=y==null?void 0:y.closeButton)!=null?ze:i,interacting:D,position:Q,style:y==null?void 0:y.style,unstyled:y==null?void 0:y.unstyled,classNames:y==null?void 0:y.classNames,cancelButtonStyle:y==null?void 0:y.cancelButtonStyle,actionButtonStyle:y==null?void 0:y.actionButtonStyle,removeToast:Z,toasts:O.filter(ge=>ge.position==me.position),heights:I.filter(ge=>ge.position==me.position),setHeights:A,expandByDefault:s,gap:g,loadingIcon:T,expanded:R,pauseWhenPageIsHidden:S,cn:N})}))})):null};const VD=({...t})=>{const{theme:e="system"}=hD();return m.jsx(LD,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var jD=b1.useId||(()=>{}),FD=0;function Cs(t){const[e,n]=w.useState(jD());return Ft(()=>{t||n(r=>r??String(FD++))},[t]),t||(e?`radix-${e}`:"")}const UD=["top","right","bottom","left"],Ms=Math.min,un=Math.max,bd=Math.round,fu=Math.floor,Ls=t=>({x:t,y:t}),$D={left:"right",right:"left",bottom:"top",top:"bottom"},BD={start:"end",end:"start"};function wm(t,e,n){return un(t,Ms(e,n))}function Lr(t,e){return typeof t=="function"?t(e):t}function Vr(t){return t.split("-")[0]}function da(t){return t.split("-")[1]}function hy(t){return t==="x"?"y":"x"}function fy(t){return t==="y"?"height":"width"}function Vs(t){return["top","bottom"].includes(Vr(t))?"y":"x"}function py(t){return hy(Vs(t))}function zD(t,e,n){n===void 0&&(n=!1);const r=da(t),s=py(t),i=fy(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=Ad(o)),[o,Ad(o)]}function HD(t){const e=Ad(t);return[_m(t),e,_m(e)]}function _m(t){return t.replace(/start|end/g,e=>BD[e])}function WD(t,e,n){const r=["left","right"],s=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?s:r:e?r:s;case"left":case"right":return e?i:o;default:return[]}}function qD(t,e,n,r){const s=da(t);let i=WD(Vr(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(_m)))),i}function Ad(t){return t.replace(/left|right|bottom|top/g,e=>$D[e])}function KD(t){return{top:0,right:0,bottom:0,left:0,...t}}function vS(t){return typeof t!="number"?KD(t):{top:t,right:t,bottom:t,left:t}}function Pd(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function Hw(t,e,n){let{reference:r,floating:s}=t;const i=Vs(e),o=py(e),a=fy(o),c=Vr(e),u=i==="y",h=r.x+r.width/2-s.width/2,f=r.y+r.height/2-s.height/2,d=r[a]/2-s[a]/2;let y;switch(c){case"top":y={x:h,y:r.y-s.height};break;case"bottom":y={x:h,y:r.y+r.height};break;case"right":y={x:r.x+r.width,y:f};break;case"left":y={x:r.x-s.width,y:f};break;default:y={x:r.x,y:r.y}}switch(da(e)){case"start":y[o]-=d*(n&&u?-1:1);break;case"end":y[o]+=d*(n&&u?-1:1);break}return y}const GD=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:h,y:f}=Hw(u,r,c),d=r,y={},x=0;for(let g=0;g<a.length;g++){const{name:T,fn:E}=a[g],{x:_,y:S,data:N,reset:O}=await E({x:h,y:f,initialPlacement:r,placement:d,strategy:s,middlewareData:y,rects:u,platform:o,elements:{reference:t,floating:e}});h=_??h,f=S??f,y={...y,[T]:{...y[T],...N}},O&&x<=50&&(x++,typeof O=="object"&&(O.placement&&(d=O.placement),O.rects&&(u=O.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):O.rects),{x:h,y:f}=Hw(u,d,c)),g=-1)}return{x:h,y:f,placement:d,strategy:s,middlewareData:y}};async function zl(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:c}=t,{boundary:u="clippingAncestors",rootBoundary:h="viewport",elementContext:f="floating",altBoundary:d=!1,padding:y=0}=Lr(e,t),x=vS(y),T=a[d?f==="floating"?"reference":"floating":f],E=Pd(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(T)))==null||n?T:T.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:u,rootBoundary:h,strategy:c})),_=f==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,S=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),N=await(i.isElement==null?void 0:i.isElement(S))?await(i.getScale==null?void 0:i.getScale(S))||{x:1,y:1}:{x:1,y:1},O=Pd(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:_,offsetParent:S,strategy:c}):_);return{top:(E.top-O.top+x.top)/N.y,bottom:(O.bottom-E.bottom+x.bottom)/N.y,left:(E.left-O.left+x.left)/N.x,right:(O.right-E.right+x.right)/N.x}}const QD=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:c}=e,{element:u,padding:h=0}=Lr(t,e)||{};if(u==null)return{};const f=vS(h),d={x:n,y:r},y=py(s),x=fy(y),g=await o.getDimensions(u),T=y==="y",E=T?"top":"left",_=T?"bottom":"right",S=T?"clientHeight":"clientWidth",N=i.reference[x]+i.reference[y]-d[y]-i.floating[x],O=d[y]-i.reference[y],L=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let C=L?L[S]:0;(!C||!await(o.isElement==null?void 0:o.isElement(L)))&&(C=a.floating[S]||i.floating[x]);const I=N/2-O/2,A=C/2-g[x]/2-1,R=Ms(f[E],A),k=Ms(f[_],A),D=R,P=C-g[x]-k,B=C/2-g[x]/2+I,G=wm(D,B,P),K=!c.arrow&&da(s)!=null&&B!==G&&i.reference[x]/2-(B<D?R:k)-g[x]/2<0,te=K?B<D?B-D:B-P:0;return{[y]:d[y]+te,data:{[y]:G,centerOffset:B-G-te,...K&&{alignmentOffset:te}},reset:K}}}),YD=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:c,elements:u}=e,{mainAxis:h=!0,crossAxis:f=!0,fallbackPlacements:d,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:g=!0,...T}=Lr(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const E=Vr(s),_=Vs(a),S=Vr(a)===a,N=await(c.isRTL==null?void 0:c.isRTL(u.floating)),O=d||(S||!g?[Ad(a)]:HD(a)),L=x!=="none";!d&&L&&O.push(...qD(a,g,x,N));const C=[a,...O],I=await zl(e,T),A=[];let R=((r=i.flip)==null?void 0:r.overflows)||[];if(h&&A.push(I[E]),f){const B=zD(s,o,N);A.push(I[B[0]],I[B[1]])}if(R=[...R,{placement:s,overflows:A}],!A.every(B=>B<=0)){var k,D;const B=(((k=i.flip)==null?void 0:k.index)||0)+1,G=C[B];if(G)return{data:{index:B,overflows:R},reset:{placement:G}};let K=(D=R.filter(te=>te.overflows[0]<=0).sort((te,V)=>te.overflows[1]-V.overflows[1])[0])==null?void 0:D.placement;if(!K)switch(y){case"bestFit":{var P;const te=(P=R.filter(V=>{if(L){const z=Vs(V.placement);return z===_||z==="y"}return!0}).map(V=>[V.placement,V.overflows.filter(z=>z>0).reduce((z,Z)=>z+Z,0)]).sort((V,z)=>V[1]-z[1])[0])==null?void 0:P[0];te&&(K=te);break}case"initialPlacement":K=a;break}if(s!==K)return{reset:{placement:K}}}return{}}}};function Ww(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function qw(t){return UD.some(e=>t[e]>=0)}const XD=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=Lr(t,e);switch(r){case"referenceHidden":{const i=await zl(e,{...s,elementContext:"reference"}),o=Ww(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:qw(o)}}}case"escaped":{const i=await zl(e,{...s,altBoundary:!0}),o=Ww(i,n.floating);return{data:{escapedOffsets:o,escaped:qw(o)}}}default:return{}}}}};async function JD(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=Vr(n),a=da(n),c=Vs(n)==="y",u=["left","top"].includes(o)?-1:1,h=i&&c?-1:1,f=Lr(e,t);let{mainAxis:d,crossAxis:y,alignmentAxis:x}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof x=="number"&&(y=a==="end"?x*-1:x),c?{x:y*h,y:d*u}:{x:d*u,y:y*h}}const ZD=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,c=await JD(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:i+c.y,data:{...c,placement:o}}}}},eO=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:T=>{let{x:E,y:_}=T;return{x:E,y:_}}},...c}=Lr(t,e),u={x:n,y:r},h=await zl(e,c),f=Vs(Vr(s)),d=hy(f);let y=u[d],x=u[f];if(i){const T=d==="y"?"top":"left",E=d==="y"?"bottom":"right",_=y+h[T],S=y-h[E];y=wm(_,y,S)}if(o){const T=f==="y"?"top":"left",E=f==="y"?"bottom":"right",_=x+h[T],S=x-h[E];x=wm(_,x,S)}const g=a.fn({...e,[d]:y,[f]:x});return{...g,data:{x:g.x-n,y:g.y-r,enabled:{[d]:i,[f]:o}}}}}},tO=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:c=!0,crossAxis:u=!0}=Lr(t,e),h={x:n,y:r},f=Vs(s),d=hy(f);let y=h[d],x=h[f];const g=Lr(a,e),T=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(c){const S=d==="y"?"height":"width",N=i.reference[d]-i.floating[S]+T.mainAxis,O=i.reference[d]+i.reference[S]-T.mainAxis;y<N?y=N:y>O&&(y=O)}if(u){var E,_;const S=d==="y"?"width":"height",N=["top","left"].includes(Vr(s)),O=i.reference[f]-i.floating[S]+(N&&((E=o.offset)==null?void 0:E[f])||0)+(N?0:T.crossAxis),L=i.reference[f]+i.reference[S]+(N?0:((_=o.offset)==null?void 0:_[f])||0)-(N?T.crossAxis:0);x<O?x=O:x>L&&(x=L)}return{[d]:y,[f]:x}}}},nO=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:c=()=>{},...u}=Lr(t,e),h=await zl(e,u),f=Vr(s),d=da(s),y=Vs(s)==="y",{width:x,height:g}=i.floating;let T,E;f==="top"||f==="bottom"?(T=f,E=d===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(E=f,T=d==="end"?"top":"bottom");const _=g-h.top-h.bottom,S=x-h.left-h.right,N=Ms(g-h[T],_),O=Ms(x-h[E],S),L=!e.middlewareData.shift;let C=N,I=O;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(I=S),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(C=_),L&&!d){const R=un(h.left,0),k=un(h.right,0),D=un(h.top,0),P=un(h.bottom,0);y?I=x-2*(R!==0||k!==0?R+k:un(h.left,h.right)):C=g-2*(D!==0||P!==0?D+P:un(h.top,h.bottom))}await c({...e,availableWidth:I,availableHeight:C});const A=await o.getDimensions(a.floating);return x!==A.width||g!==A.height?{reset:{rects:!0}}:{}}}};function Eh(){return typeof window<"u"}function ha(t){return wS(t)?(t.nodeName||"").toLowerCase():"#document"}function mn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function mr(t){var e;return(e=(wS(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function wS(t){return Eh()?t instanceof Node||t instanceof mn(t).Node:!1}function Wn(t){return Eh()?t instanceof Element||t instanceof mn(t).Element:!1}function fr(t){return Eh()?t instanceof HTMLElement||t instanceof mn(t).HTMLElement:!1}function Kw(t){return!Eh()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof mn(t).ShadowRoot}function pc(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=qn(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(s)}function rO(t){return["table","td","th"].includes(ha(t))}function xh(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function my(t){const e=gy(),n=Wn(t)?qn(t):t;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function sO(t){let e=js(t);for(;fr(e)&&!Xo(e);){if(my(e))return e;if(xh(e))return null;e=js(e)}return null}function gy(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Xo(t){return["html","body","#document"].includes(ha(t))}function qn(t){return mn(t).getComputedStyle(t)}function Th(t){return Wn(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function js(t){if(ha(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Kw(t)&&t.host||mr(t);return Kw(e)?e.host:e}function _S(t){const e=js(t);return Xo(e)?t.ownerDocument?t.ownerDocument.body:t.body:fr(e)&&pc(e)?e:_S(e)}function Hl(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=_S(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=mn(s);if(i){const a=Em(o);return e.concat(o,o.visualViewport||[],pc(s)?s:[],a&&n?Hl(a):[])}return e.concat(s,Hl(s,[],n))}function Em(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function ES(t){const e=qn(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=fr(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=bd(n)!==i||bd(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function yy(t){return Wn(t)?t:t.contextElement}function Co(t){const e=yy(t);if(!fr(e))return Ls(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=ES(e);let o=(i?bd(n.width):n.width)/r,a=(i?bd(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const iO=Ls(0);function xS(t){const e=mn(t);return!gy()||!e.visualViewport?iO:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function oO(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==mn(t)?!1:e}function Ri(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=yy(t);let o=Ls(1);e&&(r?Wn(r)&&(o=Co(r)):o=Co(t));const a=oO(i,n,r)?xS(i):Ls(0);let c=(s.left+a.x)/o.x,u=(s.top+a.y)/o.y,h=s.width/o.x,f=s.height/o.y;if(i){const d=mn(i),y=r&&Wn(r)?mn(r):r;let x=d,g=Em(x);for(;g&&r&&y!==x;){const T=Co(g),E=g.getBoundingClientRect(),_=qn(g),S=E.left+(g.clientLeft+parseFloat(_.paddingLeft))*T.x,N=E.top+(g.clientTop+parseFloat(_.paddingTop))*T.y;c*=T.x,u*=T.y,h*=T.x,f*=T.y,c+=S,u+=N,x=mn(g),g=Em(x)}}return Pd({width:h,height:f,x:c,y:u})}function aO(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=mr(r),a=e?xh(e.floating):!1;if(r===o||a&&i)return n;let c={scrollLeft:0,scrollTop:0},u=Ls(1);const h=Ls(0),f=fr(r);if((f||!f&&!i)&&((ha(r)!=="body"||pc(o))&&(c=Th(r)),fr(r))){const d=Ri(r);u=Co(r),h.x=d.x+r.clientLeft,h.y=d.y+r.clientTop}return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+h.x,y:n.y*u.y-c.scrollTop*u.y+h.y}}function lO(t){return Array.from(t.getClientRects())}function xm(t,e){const n=Th(t).scrollLeft;return e?e.left+n:Ri(mr(t)).left+n}function cO(t){const e=mr(t),n=Th(t),r=t.ownerDocument.body,s=un(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=un(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+xm(t);const a=-n.scrollTop;return qn(r).direction==="rtl"&&(o+=un(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function uO(t,e){const n=mn(t),r=mr(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,c=0;if(s){i=s.width,o=s.height;const u=gy();(!u||u&&e==="fixed")&&(a=s.offsetLeft,c=s.offsetTop)}return{width:i,height:o,x:a,y:c}}function dO(t,e){const n=Ri(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=fr(t)?Co(t):Ls(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,c=s*i.x,u=r*i.y;return{width:o,height:a,x:c,y:u}}function Gw(t,e,n){let r;if(e==="viewport")r=uO(t,n);else if(e==="document")r=cO(mr(t));else if(Wn(e))r=dO(e,n);else{const s=xS(t);r={...e,x:e.x-s.x,y:e.y-s.y}}return Pd(r)}function TS(t,e){const n=js(t);return n===e||!Wn(n)||Xo(n)?!1:qn(n).position==="fixed"||TS(n,e)}function hO(t,e){const n=e.get(t);if(n)return n;let r=Hl(t,[],!1).filter(a=>Wn(a)&&ha(a)!=="body"),s=null;const i=qn(t).position==="fixed";let o=i?js(t):t;for(;Wn(o)&&!Xo(o);){const a=qn(o),c=my(o);!c&&a.position==="fixed"&&(s=null),(i?!c&&!s:!c&&a.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||pc(o)&&!c&&TS(t,o))?r=r.filter(h=>h!==o):s=a,o=js(o)}return e.set(t,r),r}function fO(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?xh(e)?[]:hO(e,this._c):[].concat(n),r],a=o[0],c=o.reduce((u,h)=>{const f=Gw(e,h,s);return u.top=un(f.top,u.top),u.right=Ms(f.right,u.right),u.bottom=Ms(f.bottom,u.bottom),u.left=un(f.left,u.left),u},Gw(e,a,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function pO(t){const{width:e,height:n}=ES(t);return{width:e,height:n}}function mO(t,e,n){const r=fr(e),s=mr(e),i=n==="fixed",o=Ri(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const c=Ls(0);if(r||!r&&!i)if((ha(e)!=="body"||pc(s))&&(a=Th(e)),r){const y=Ri(e,!0,i,e);c.x=y.x+e.clientLeft,c.y=y.y+e.clientTop}else s&&(c.x=xm(s));let u=0,h=0;if(s&&!r&&!i){const y=s.getBoundingClientRect();h=y.top+a.scrollTop,u=y.left+a.scrollLeft-xm(s,y)}const f=o.left+a.scrollLeft-c.x-u,d=o.top+a.scrollTop-c.y-h;return{x:f,y:d,width:o.width,height:o.height}}function Xf(t){return qn(t).position==="static"}function Qw(t,e){if(!fr(t)||qn(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return mr(t)===n&&(n=n.ownerDocument.body),n}function SS(t,e){const n=mn(t);if(xh(t))return n;if(!fr(t)){let s=js(t);for(;s&&!Xo(s);){if(Wn(s)&&!Xf(s))return s;s=js(s)}return n}let r=Qw(t,e);for(;r&&rO(r)&&Xf(r);)r=Qw(r,e);return r&&Xo(r)&&Xf(r)&&!my(r)?n:r||sO(t)||n}const gO=async function(t){const e=this.getOffsetParent||SS,n=this.getDimensions,r=await n(t.floating);return{reference:mO(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function yO(t){return qn(t).direction==="rtl"}const vO={convertOffsetParentRelativeRectToViewportRelativeRect:aO,getDocumentElement:mr,getClippingRect:fO,getOffsetParent:SS,getElementRects:gO,getClientRects:lO,getDimensions:pO,getScale:Co,isElement:Wn,isRTL:yO};function wO(t,e){let n=null,r;const s=mr(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,c){a===void 0&&(a=!1),c===void 0&&(c=1),i();const{left:u,top:h,width:f,height:d}=t.getBoundingClientRect();if(a||e(),!f||!d)return;const y=fu(h),x=fu(s.clientWidth-(u+f)),g=fu(s.clientHeight-(h+d)),T=fu(u),_={rootMargin:-y+"px "+-x+"px "+-g+"px "+-T+"px",threshold:un(0,Ms(1,c))||1};let S=!0;function N(O){const L=O[0].intersectionRatio;if(L!==c){if(!S)return o();L?o(!1,L):r=setTimeout(()=>{o(!1,1e-7)},1e3)}S=!1}try{n=new IntersectionObserver(N,{..._,root:s.ownerDocument})}catch{n=new IntersectionObserver(N,_)}n.observe(t)}return o(!0),i}function _O(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=yy(t),h=s||i?[...u?Hl(u):[],...Hl(e)]:[];h.forEach(E=>{s&&E.addEventListener("scroll",n,{passive:!0}),i&&E.addEventListener("resize",n)});const f=u&&a?wO(u,n):null;let d=-1,y=null;o&&(y=new ResizeObserver(E=>{let[_]=E;_&&_.target===u&&y&&(y.unobserve(e),cancelAnimationFrame(d),d=requestAnimationFrame(()=>{var S;(S=y)==null||S.observe(e)})),n()}),u&&!c&&y.observe(u),y.observe(e));let x,g=c?Ri(t):null;c&&T();function T(){const E=Ri(t);g&&(E.x!==g.x||E.y!==g.y||E.width!==g.width||E.height!==g.height)&&n(),g=E,x=requestAnimationFrame(T)}return n(),()=>{var E;h.forEach(_=>{s&&_.removeEventListener("scroll",n),i&&_.removeEventListener("resize",n)}),f==null||f(),(E=y)==null||E.disconnect(),y=null,c&&cancelAnimationFrame(x)}}const EO=ZD,xO=eO,TO=YD,SO=nO,IO=XD,Yw=QD,CO=tO,bO=(t,e,n)=>{const r=new Map,s={platform:vO,...n},i={...s.platform,_c:r};return GD(t,e,{...s,platform:i})};var Hu=typeof document<"u"?w.useLayoutEffect:w.useEffect;function Rd(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Rd(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!Rd(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function IS(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function Xw(t,e){const n=IS(t);return Math.round(e*n)/n}function Jf(t){const e=w.useRef(t);return Hu(()=>{e.current=t}),e}function AO(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:c,open:u}=t,[h,f]=w.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[d,y]=w.useState(r);Rd(d,r)||y(r);const[x,g]=w.useState(null),[T,E]=w.useState(null),_=w.useCallback(V=>{V!==L.current&&(L.current=V,g(V))},[]),S=w.useCallback(V=>{V!==C.current&&(C.current=V,E(V))},[]),N=i||x,O=o||T,L=w.useRef(null),C=w.useRef(null),I=w.useRef(h),A=c!=null,R=Jf(c),k=Jf(s),D=Jf(u),P=w.useCallback(()=>{if(!L.current||!C.current)return;const V={placement:e,strategy:n,middleware:d};k.current&&(V.platform=k.current),bO(L.current,C.current,V).then(z=>{const Z={...z,isPositioned:D.current!==!1};B.current&&!Rd(I.current,Z)&&(I.current=Z,$i.flushSync(()=>{f(Z)}))})},[d,e,n,k,D]);Hu(()=>{u===!1&&I.current.isPositioned&&(I.current.isPositioned=!1,f(V=>({...V,isPositioned:!1})))},[u]);const B=w.useRef(!1);Hu(()=>(B.current=!0,()=>{B.current=!1}),[]),Hu(()=>{if(N&&(L.current=N),O&&(C.current=O),N&&O){if(R.current)return R.current(N,O,P);P()}},[N,O,P,R,A]);const G=w.useMemo(()=>({reference:L,floating:C,setReference:_,setFloating:S}),[_,S]),K=w.useMemo(()=>({reference:N,floating:O}),[N,O]),te=w.useMemo(()=>{const V={position:n,left:0,top:0};if(!K.floating)return V;const z=Xw(K.floating,h.x),Z=Xw(K.floating,h.y);return a?{...V,transform:"translate("+z+"px, "+Z+"px)",...IS(K.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:z,top:Z}},[n,a,K.floating,h.x,h.y]);return w.useMemo(()=>({...h,update:P,refs:G,elements:K,floatingStyles:te}),[h,P,G,K,te])}const PO=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?Yw({element:r.current,padding:s}).fn(n):{}:r?Yw({element:r,padding:s}).fn(n):{}}}},RO=(t,e)=>({...EO(t),options:[t,e]}),NO=(t,e)=>({...xO(t),options:[t,e]}),kO=(t,e)=>({...CO(t),options:[t,e]}),DO=(t,e)=>({...TO(t),options:[t,e]}),OO=(t,e)=>({...SO(t),options:[t,e]}),MO=(t,e)=>({...IO(t),options:[t,e]}),LO=(t,e)=>({...PO(t),options:[t,e]});var VO="Arrow",CS=w.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return m.jsx(pe.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:m.jsx("polygon",{points:"0,0 30,0 15,10"})})});CS.displayName=VO;var jO=CS;function FO(t,e=[]){let n=[];function r(i,o){const a=w.createContext(o),c=n.length;n=[...n,o];function u(f){const{scope:d,children:y,...x}=f,g=(d==null?void 0:d[t][c])||a,T=w.useMemo(()=>x,Object.values(x));return m.jsx(g.Provider,{value:T,children:y})}function h(f,d){const y=(d==null?void 0:d[t][c])||a,x=w.useContext(y);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return u.displayName=i+"Provider",[u,h]}const s=()=>{const i=n.map(o=>w.createContext(o));return function(a){const c=(a==null?void 0:a[t])||i;return w.useMemo(()=>({[`__scope${t}`]:{...a,[t]:c}}),[a,c])}};return s.scopeName=t,[r,UO(s,...e)]}function UO(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...a,...f}},{});return w.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function $O(t){const[e,n]=w.useState(void 0);return Ft(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,a=u.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var vy="Popper",[bS,Sh]=FO(vy),[BO,AS]=bS(vy),PS=t=>{const{__scopePopper:e,children:n}=t,[r,s]=w.useState(null);return m.jsx(BO,{scope:e,anchor:r,onAnchorChange:s,children:n})};PS.displayName=vy;var RS="PopperAnchor",NS=w.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=AS(RS,n),o=w.useRef(null),a=Ve(e,o);return w.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:m.jsx(pe.div,{...s,ref:a})});NS.displayName=RS;var wy="PopperContent",[zO,HO]=bS(wy),kS=w.forwardRef((t,e)=>{var ne,Se,ze,ge,xe,ve;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:h=0,sticky:f="partial",hideWhenDetached:d=!1,updatePositionStrategy:y="optimized",onPlaced:x,...g}=t,T=AS(wy,n),[E,_]=w.useState(null),S=Ve(e,ut=>_(ut)),[N,O]=w.useState(null),L=$O(N),C=(L==null?void 0:L.width)??0,I=(L==null?void 0:L.height)??0,A=r+(i!=="center"?"-"+i:""),R=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},k=Array.isArray(u)?u:[u],D=k.length>0,P={padding:R,boundary:k.filter(qO),altBoundary:D},{refs:B,floatingStyles:G,placement:K,isPositioned:te,middlewareData:V}=AO({strategy:"fixed",placement:A,whileElementsMounted:(...ut)=>_O(...ut,{animationFrame:y==="always"}),elements:{reference:T.anchor},middleware:[RO({mainAxis:s+I,alignmentAxis:o}),c&&NO({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?kO():void 0,...P}),c&&DO({...P}),OO({...P,apply:({elements:ut,rects:vt,availableWidth:wn,availableHeight:$t})=>{const{width:gr,height:xa}=vt.reference,rt=ut.floating.style;rt.setProperty("--radix-popper-available-width",`${wn}px`),rt.setProperty("--radix-popper-available-height",`${$t}px`),rt.setProperty("--radix-popper-anchor-width",`${gr}px`),rt.setProperty("--radix-popper-anchor-height",`${xa}px`)}}),N&&LO({element:N,padding:a}),KO({arrowWidth:C,arrowHeight:I}),d&&MO({strategy:"referenceHidden",...P})]}),[z,Z]=MS(K),Q=rn(x);Ft(()=>{te&&(Q==null||Q())},[te,Q]);const ee=(ne=V.arrow)==null?void 0:ne.x,re=(Se=V.arrow)==null?void 0:Se.y,Ce=((ze=V.arrow)==null?void 0:ze.centerOffset)!==0,[Be,me]=w.useState();return Ft(()=>{E&&me(window.getComputedStyle(E).zIndex)},[E]),m.jsx("div",{ref:B.setFloating,"data-radix-popper-content-wrapper":"",style:{...G,transform:te?G.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Be,"--radix-popper-transform-origin":[(ge=V.transformOrigin)==null?void 0:ge.x,(xe=V.transformOrigin)==null?void 0:xe.y].join(" "),...((ve=V.hide)==null?void 0:ve.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:m.jsx(zO,{scope:n,placedSide:z,onArrowChange:O,arrowX:ee,arrowY:re,shouldHideArrow:Ce,children:m.jsx(pe.div,{"data-side":z,"data-align":Z,...g,ref:S,style:{...g.style,animation:te?void 0:"none"}})})})});kS.displayName=wy;var DS="PopperArrow",WO={top:"bottom",right:"left",bottom:"top",left:"right"},OS=w.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=HO(DS,r),o=WO[i.placedSide];return m.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:m.jsx(jO,{...s,ref:n,style:{...s.style,display:"block"}})})});OS.displayName=DS;function qO(t){return t!==null}var KO=t=>({name:"transformOrigin",options:t,fn(e){var T,E,_;const{placement:n,rects:r,middlewareData:s}=e,o=((T=s.arrow)==null?void 0:T.centerOffset)!==0,a=o?0:t.arrowWidth,c=o?0:t.arrowHeight,[u,h]=MS(n),f={start:"0%",center:"50%",end:"100%"}[h],d=(((E=s.arrow)==null?void 0:E.x)??0)+a/2,y=(((_=s.arrow)==null?void 0:_.y)??0)+c/2;let x="",g="";return u==="bottom"?(x=o?f:`${d}px`,g=`${-c}px`):u==="top"?(x=o?f:`${d}px`,g=`${r.floating.height+c}px`):u==="right"?(x=`${-c}px`,g=o?f:`${y}px`):u==="left"&&(x=`${r.floating.width+c}px`,g=o?f:`${y}px`),{data:{x,y:g}}}});function MS(t){const[e,n="center"]=t.split("-");return[e,n]}var GO=PS,LS=NS,VS=kS,jS=OS,[Ih,w$]=uc("Tooltip",[Sh]),_y=Sh(),FS="TooltipProvider",QO=700,Jw="tooltip.open",[YO,US]=Ih(FS),$S=t=>{const{__scopeTooltip:e,delayDuration:n=QO,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,[o,a]=w.useState(!0),c=w.useRef(!1),u=w.useRef(0);return w.useEffect(()=>{const h=u.current;return()=>window.clearTimeout(h)},[]),m.jsx(YO,{scope:e,isOpenDelayed:o,delayDuration:n,onOpen:w.useCallback(()=>{window.clearTimeout(u.current),a(!1)},[]),onClose:w.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>a(!0),r)},[r]),isPointerInTransitRef:c,onPointerInTransitChange:w.useCallback(h=>{c.current=h},[]),disableHoverableContent:s,children:i})};$S.displayName=FS;var BS="Tooltip",[_$,Ch]=Ih(BS),Tm="TooltipTrigger",XO=w.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Ch(Tm,n),i=US(Tm,n),o=_y(n),a=w.useRef(null),c=Ve(e,a,s.onTriggerChange),u=w.useRef(!1),h=w.useRef(!1),f=w.useCallback(()=>u.current=!1,[]);return w.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),m.jsx(LS,{asChild:!0,...o,children:m.jsx(pe.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:c,onPointerMove:ie(t.onPointerMove,d=>{d.pointerType!=="touch"&&!h.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),h.current=!0)}),onPointerLeave:ie(t.onPointerLeave,()=>{s.onTriggerLeave(),h.current=!1}),onPointerDown:ie(t.onPointerDown,()=>{u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:ie(t.onFocus,()=>{u.current||s.onOpen()}),onBlur:ie(t.onBlur,s.onClose),onClick:ie(t.onClick,s.onClose)})})});XO.displayName=Tm;var JO="TooltipPortal",[E$,ZO]=Ih(JO,{forceMount:void 0}),Jo="TooltipContent",zS=w.forwardRef((t,e)=>{const n=ZO(Jo,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,o=Ch(Jo,t.__scopeTooltip);return m.jsx(Bi,{present:r||o.open,children:o.disableHoverableContent?m.jsx(HS,{side:s,...i,ref:e}):m.jsx(eM,{side:s,...i,ref:e})})}),eM=w.forwardRef((t,e)=>{const n=Ch(Jo,t.__scopeTooltip),r=US(Jo,t.__scopeTooltip),s=w.useRef(null),i=Ve(e,s),[o,a]=w.useState(null),{trigger:c,onClose:u}=n,h=s.current,{onPointerInTransitChange:f}=r,d=w.useCallback(()=>{a(null),f(!1)},[f]),y=w.useCallback((x,g)=>{const T=x.currentTarget,E={x:x.clientX,y:x.clientY},_=sM(E,T.getBoundingClientRect()),S=iM(E,_),N=oM(g.getBoundingClientRect()),O=lM([...S,...N]);a(O),f(!0)},[f]);return w.useEffect(()=>()=>d(),[d]),w.useEffect(()=>{if(c&&h){const x=T=>y(T,h),g=T=>y(T,c);return c.addEventListener("pointerleave",x),h.addEventListener("pointerleave",g),()=>{c.removeEventListener("pointerleave",x),h.removeEventListener("pointerleave",g)}}},[c,h,y,d]),w.useEffect(()=>{if(o){const x=g=>{const T=g.target,E={x:g.clientX,y:g.clientY},_=(c==null?void 0:c.contains(T))||(h==null?void 0:h.contains(T)),S=!aM(E,o);_?d():S&&(d(),u())};return document.addEventListener("pointermove",x),()=>document.removeEventListener("pointermove",x)}},[c,h,o,u,d]),m.jsx(HS,{...t,ref:i})}),[tM,nM]=Ih(BS,{isInside:!1}),HS=w.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=t,c=Ch(Jo,n),u=_y(n),{onClose:h}=c;return w.useEffect(()=>(document.addEventListener(Jw,h),()=>document.removeEventListener(Jw,h)),[h]),w.useEffect(()=>{if(c.trigger){const f=d=>{const y=d.target;y!=null&&y.contains(c.trigger)&&h()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,h]),m.jsx(dc,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:h,children:m.jsxs(VS,{"data-state":c.stateAttribute,...u,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[m.jsx(DT,{children:r}),m.jsx(tM,{scope:n,isInside:!0,children:m.jsx(qk,{id:c.contentId,role:"tooltip",children:s||r})})]})})});zS.displayName=Jo;var WS="TooltipArrow",rM=w.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=_y(n);return nM(WS,n).isInside?null:m.jsx(jS,{...s,...r,ref:e})});rM.displayName=WS;function sM(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function iM(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function oM(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function aM(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i].x,c=e[i].y,u=e[o].x,h=e[o].y;c>r!=h>r&&n<(u-a)*(r-c)/(h-c)+a&&(s=!s)}return s}function lM(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),cM(e)}function cM(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var uM=$S,qS=zS;const dM=uM,hM=w.forwardRef(({className:t,sideOffset:e=4,...n},r)=>m.jsx(qS,{ref:r,sideOffset:e,className:de("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));hM.displayName=qS.displayName;var bh=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Ah=typeof window>"u"||"Deno"in globalThis;function Mn(){}function fM(t,e){return typeof t=="function"?t(e):t}function pM(t){return typeof t=="number"&&t>=0&&t!==1/0}function mM(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Zw(t,e){return typeof t=="function"?t(e):t}function gM(t,e){return typeof t=="function"?t(e):t}function e_(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==Ey(o,e.options))return!1}else if(!ql(e.queryKey,o))return!1}if(n!=="all"){const c=e.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function t_(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(Wl(e.options.mutationKey)!==Wl(i))return!1}else if(!ql(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function Ey(t,e){return((e==null?void 0:e.queryKeyHashFn)||Wl)(t)}function Wl(t){return JSON.stringify(t,(e,n)=>Sm(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function ql(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!ql(t[n],e[n])):!1}function KS(t,e){if(t===e)return t;const n=n_(t)&&n_(e);if(n||Sm(t)&&Sm(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),o=i.length,a=n?[]:{};let c=0;for(let u=0;u<o;u++){const h=n?u:i[u];(!n&&r.includes(h)||n)&&t[h]===void 0&&e[h]===void 0?(a[h]=void 0,c++):(a[h]=KS(t[h],e[h]),a[h]===t[h]&&t[h]!==void 0&&c++)}return s===o&&c===s?t:a}return e}function n_(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Sm(t){if(!r_(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!r_(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function r_(t){return Object.prototype.toString.call(t)==="[object Object]"}function yM(t){return new Promise(e=>{setTimeout(e,t)})}function vM(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?KS(t,e):e}function wM(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function _M(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var xy=Symbol();function GS(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===xy?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var gi,cs,Oo,l1,EM=(l1=class extends bh{constructor(){super();Ae(this,gi);Ae(this,cs);Ae(this,Oo);fe(this,Oo,e=>{if(!Ah&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){$(this,cs)||this.setEventListener($(this,Oo))}onUnsubscribe(){var e;this.hasListeners()||((e=$(this,cs))==null||e.call(this),fe(this,cs,void 0))}setEventListener(e){var n;fe(this,Oo,e),(n=$(this,cs))==null||n.call(this),fe(this,cs,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){$(this,gi)!==e&&(fe(this,gi,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof $(this,gi)=="boolean"?$(this,gi):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},gi=new WeakMap,cs=new WeakMap,Oo=new WeakMap,l1),QS=new EM,Mo,us,Lo,c1,xM=(c1=class extends bh{constructor(){super();Ae(this,Mo,!0);Ae(this,us);Ae(this,Lo);fe(this,Lo,e=>{if(!Ah&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){$(this,us)||this.setEventListener($(this,Lo))}onUnsubscribe(){var e;this.hasListeners()||((e=$(this,us))==null||e.call(this),fe(this,us,void 0))}setEventListener(e){var n;fe(this,Lo,e),(n=$(this,us))==null||n.call(this),fe(this,us,e(this.setOnline.bind(this)))}setOnline(e){$(this,Mo)!==e&&(fe(this,Mo,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return $(this,Mo)}},Mo=new WeakMap,us=new WeakMap,Lo=new WeakMap,c1),Nd=new xM;function TM(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function SM(t){return Math.min(1e3*2**t,3e4)}function YS(t){return(t??"online")==="online"?Nd.isOnline():!0}var XS=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Zf(t){return t instanceof XS}function JS(t){let e=!1,n=0,r=!1,s;const i=TM(),o=g=>{var T;r||(d(new XS(g)),(T=t.abort)==null||T.call(t))},a=()=>{e=!0},c=()=>{e=!1},u=()=>QS.isFocused()&&(t.networkMode==="always"||Nd.isOnline())&&t.canRun(),h=()=>YS(t.networkMode)&&t.canRun(),f=g=>{var T;r||(r=!0,(T=t.onSuccess)==null||T.call(t,g),s==null||s(),i.resolve(g))},d=g=>{var T;r||(r=!0,(T=t.onError)==null||T.call(t,g),s==null||s(),i.reject(g))},y=()=>new Promise(g=>{var T;s=E=>{(r||u())&&g(E)},(T=t.onPause)==null||T.call(t)}).then(()=>{var g;s=void 0,r||(g=t.onContinue)==null||g.call(t)}),x=()=>{if(r)return;let g;const T=n===0?t.initialPromise:void 0;try{g=T??t.fn()}catch(E){g=Promise.reject(E)}Promise.resolve(g).then(f).catch(E=>{var L;if(r)return;const _=t.retry??(Ah?0:3),S=t.retryDelay??SM,N=typeof S=="function"?S(n,E):S,O=_===!0||typeof _=="number"&&n<_||typeof _=="function"&&_(n,E);if(e||!O){d(E);return}n++,(L=t.onFail)==null||L.call(t,n,E),yM(N).then(()=>u()?void 0:y()).then(()=>{e?d(E):x()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:a,continueRetry:c,canStart:h,start:()=>(h()?x():y().then(x),i)}}function IM(){let t=[],e=0,n=a=>{a()},r=a=>{a()},s=a=>setTimeout(a,0);const i=a=>{e?t.push(a):s(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&s(()=>{r(()=>{a.forEach(c=>{n(c)})})})};return{batch:a=>{let c;e++;try{c=a()}finally{e--,e||o()}return c},batchCalls:a=>(...c)=>{i(()=>{a(...c)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var Wt=IM(),yi,u1,ZS=(u1=class{constructor(){Ae(this,yi)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),pM(this.gcTime)&&fe(this,yi,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Ah?1/0:5*60*1e3))}clearGcTimeout(){$(this,yi)&&(clearTimeout($(this,yi)),fe(this,yi,void 0))}},yi=new WeakMap,u1),Vo,jo,_n,Dt,nc,vi,Ln,xr,d1,CM=(d1=class extends ZS{constructor(n){super();Ae(this,Ln);Ae(this,Vo);Ae(this,jo);Ae(this,_n);Ae(this,Dt);Ae(this,nc);Ae(this,vi);fe(this,vi,!1),fe(this,nc,n.defaultOptions),this.setOptions(n.options),this.observers=[],fe(this,_n,n.cache),this.queryKey=n.queryKey,this.queryHash=n.queryHash,fe(this,Vo,AM(this.options)),this.state=n.state??$(this,Vo),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=$(this,Dt))==null?void 0:n.promise}setOptions(n){this.options={...$(this,nc),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&$(this,_n).remove(this)}setData(n,r){const s=vM(this.state.data,n,this.options);return Pt(this,Ln,xr).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(n,r){Pt(this,Ln,xr).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var s,i;const r=(s=$(this,Dt))==null?void 0:s.promise;return(i=$(this,Dt))==null||i.cancel(n),r?r.then(Mn).catch(Mn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState($(this,Vo))}isActive(){return this.observers.some(n=>gM(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===xy||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(n=0){return this.state.isInvalidated||this.state.data===void 0||!mM(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(s=>s.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=$(this,Dt))==null||r.continue()}onOnline(){var r;const n=this.observers.find(s=>s.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=$(this,Dt))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),$(this,_n).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||($(this,Dt)&&($(this,vi)?$(this,Dt).cancel({revert:!0}):$(this,Dt).cancelRetry()),this.scheduleGc()),$(this,_n).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Pt(this,Ln,xr).call(this,{type:"invalidate"})}fetch(n,r){var u,h,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if($(this,Dt))return $(this,Dt).continueRetry(),$(this,Dt).promise}if(n&&this.setOptions(n),!this.options.queryFn){const d=this.observers.find(y=>y.options.queryFn);d&&this.setOptions(d.options)}const s=new AbortController,i=d=>{Object.defineProperty(d,"signal",{enumerable:!0,get:()=>(fe(this,vi,!0),s.signal)})},o=()=>{const d=GS(this.options,r),y={queryKey:this.queryKey,meta:this.meta};return i(y),fe(this,vi,!1),this.options.persister?this.options.persister(d,y,this):d(y)},a={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};i(a),(u=this.options.behavior)==null||u.onFetch(a,this),fe(this,jo,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((h=a.fetchOptions)==null?void 0:h.meta))&&Pt(this,Ln,xr).call(this,{type:"fetch",meta:(f=a.fetchOptions)==null?void 0:f.meta});const c=d=>{var y,x,g,T;Zf(d)&&d.silent||Pt(this,Ln,xr).call(this,{type:"error",error:d}),Zf(d)||((x=(y=$(this,_n).config).onError)==null||x.call(y,d,this),(T=(g=$(this,_n).config).onSettled)==null||T.call(g,this.state.data,d,this)),this.scheduleGc()};return fe(this,Dt,JS({initialPromise:r==null?void 0:r.initialPromise,fn:a.fetchFn,abort:s.abort.bind(s),onSuccess:d=>{var y,x,g,T;if(d===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(d)}catch(E){c(E);return}(x=(y=$(this,_n).config).onSuccess)==null||x.call(y,d,this),(T=(g=$(this,_n).config).onSettled)==null||T.call(g,d,this.state.error,this),this.scheduleGc()},onError:c,onFail:(d,y)=>{Pt(this,Ln,xr).call(this,{type:"failed",failureCount:d,error:y})},onPause:()=>{Pt(this,Ln,xr).call(this,{type:"pause"})},onContinue:()=>{Pt(this,Ln,xr).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),$(this,Dt).start()}},Vo=new WeakMap,jo=new WeakMap,_n=new WeakMap,Dt=new WeakMap,nc=new WeakMap,vi=new WeakMap,Ln=new WeakSet,xr=function(n){const r=s=>{switch(n.type){case"failed":return{...s,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...bM(s.data,this.options),fetchMeta:n.meta??null};case"success":return{...s,data:n.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=n.error;return Zf(i)&&i.revert&&$(this,jo)?{...$(this,jo),fetchStatus:"idle"}:{...s,error:i,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...n.state}}};this.state=r(this.state),Wt.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),$(this,_n).notify({query:this,type:"updated",action:n})})},d1);function bM(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:YS(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function AM(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var tr,h1,PM=(h1=class extends bh{constructor(e={}){super();Ae(this,tr);this.config=e,fe(this,tr,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??Ey(s,n);let o=this.get(i);return o||(o=new CM({cache:this,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){$(this,tr).has(e.queryHash)||($(this,tr).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=$(this,tr).get(e.queryHash);n&&(e.destroy(),n===e&&$(this,tr).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Wt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return $(this,tr).get(e)}getAll(){return[...$(this,tr).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>e_(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>e_(e,r)):n}notify(e){Wt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Wt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Wt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},tr=new WeakMap,h1),nr,zt,wi,rr,es,f1,RM=(f1=class extends ZS{constructor(n){super();Ae(this,rr);Ae(this,nr);Ae(this,zt);Ae(this,wi);this.mutationId=n.mutationId,fe(this,zt,n.mutationCache),fe(this,nr,[]),this.state=n.state||NM(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){$(this,nr).includes(n)||($(this,nr).push(n),this.clearGcTimeout(),$(this,zt).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){fe(this,nr,$(this,nr).filter(r=>r!==n)),this.scheduleGc(),$(this,zt).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){$(this,nr).length||(this.state.status==="pending"?this.scheduleGc():$(this,zt).remove(this))}continue(){var n;return((n=$(this,wi))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var i,o,a,c,u,h,f,d,y,x,g,T,E,_,S,N,O,L,C,I;fe(this,wi,JS({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(A,R)=>{Pt(this,rr,es).call(this,{type:"failed",failureCount:A,error:R})},onPause:()=>{Pt(this,rr,es).call(this,{type:"pause"})},onContinue:()=>{Pt(this,rr,es).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>$(this,zt).canRun(this)}));const r=this.state.status==="pending",s=!$(this,wi).canStart();try{if(!r){Pt(this,rr,es).call(this,{type:"pending",variables:n,isPaused:s}),await((o=(i=$(this,zt).config).onMutate)==null?void 0:o.call(i,n,this));const R=await((c=(a=this.options).onMutate)==null?void 0:c.call(a,n));R!==this.state.context&&Pt(this,rr,es).call(this,{type:"pending",context:R,variables:n,isPaused:s})}const A=await $(this,wi).start();return await((h=(u=$(this,zt).config).onSuccess)==null?void 0:h.call(u,A,n,this.state.context,this)),await((d=(f=this.options).onSuccess)==null?void 0:d.call(f,A,n,this.state.context)),await((x=(y=$(this,zt).config).onSettled)==null?void 0:x.call(y,A,null,this.state.variables,this.state.context,this)),await((T=(g=this.options).onSettled)==null?void 0:T.call(g,A,null,n,this.state.context)),Pt(this,rr,es).call(this,{type:"success",data:A}),A}catch(A){try{throw await((_=(E=$(this,zt).config).onError)==null?void 0:_.call(E,A,n,this.state.context,this)),await((N=(S=this.options).onError)==null?void 0:N.call(S,A,n,this.state.context)),await((L=(O=$(this,zt).config).onSettled)==null?void 0:L.call(O,void 0,A,this.state.variables,this.state.context,this)),await((I=(C=this.options).onSettled)==null?void 0:I.call(C,void 0,A,n,this.state.context)),A}finally{Pt(this,rr,es).call(this,{type:"error",error:A})}}finally{$(this,zt).runNext(this)}}},nr=new WeakMap,zt=new WeakMap,wi=new WeakMap,rr=new WeakSet,es=function(n){const r=s=>{switch(n.type){case"failed":return{...s,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...s,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:n.error,failureCount:s.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Wt.batch(()=>{$(this,nr).forEach(s=>{s.onMutationUpdate(n)}),$(this,zt).notify({mutation:this,type:"updated",action:n})})},f1);function NM(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var an,rc,p1,kM=(p1=class extends bh{constructor(e={}){super();Ae(this,an);Ae(this,rc);this.config=e,fe(this,an,new Map),fe(this,rc,Date.now())}build(e,n,r){const s=new RM({mutationCache:this,mutationId:++qc(this,rc)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){const n=pu(e),r=$(this,an).get(n)??[];r.push(e),$(this,an).set(n,r),this.notify({type:"added",mutation:e})}remove(e){var r;const n=pu(e);if($(this,an).has(n)){const s=(r=$(this,an).get(n))==null?void 0:r.filter(i=>i!==e);s&&(s.length===0?$(this,an).delete(n):$(this,an).set(n,s))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const n=(r=$(this,an).get(pu(e)))==null?void 0:r.find(s=>s.state.status==="pending");return!n||n===e}runNext(e){var r;const n=(r=$(this,an).get(pu(e)))==null?void 0:r.find(s=>s!==e&&s.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){Wt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...$(this,an).values()].flat()}find(e){const n={exact:!0,...e};return this.getAll().find(r=>t_(n,r))}findAll(e={}){return this.getAll().filter(n=>t_(e,n))}notify(e){Wt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Wt.batch(()=>Promise.all(e.map(n=>n.continue().catch(Mn))))}},an=new WeakMap,rc=new WeakMap,p1);function pu(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function s_(t){return{onFetch:(e,n)=>{var h,f,d,y,x;const r=e.options,s=(d=(f=(h=e.fetchOptions)==null?void 0:h.meta)==null?void 0:f.fetchMore)==null?void 0:d.direction,i=((y=e.state.data)==null?void 0:y.pages)||[],o=((x=e.state.data)==null?void 0:x.pageParams)||[];let a={pages:[],pageParams:[]},c=0;const u=async()=>{let g=!1;const T=S=>{Object.defineProperty(S,"signal",{enumerable:!0,get:()=>(e.signal.aborted?g=!0:e.signal.addEventListener("abort",()=>{g=!0}),e.signal)})},E=GS(e.options,e.fetchOptions),_=async(S,N,O)=>{if(g)return Promise.reject();if(N==null&&S.pages.length)return Promise.resolve(S);const L={queryKey:e.queryKey,pageParam:N,direction:O?"backward":"forward",meta:e.options.meta};T(L);const C=await E(L),{maxPages:I}=e.options,A=O?_M:wM;return{pages:A(S.pages,C,I),pageParams:A(S.pageParams,N,I)}};if(s&&i.length){const S=s==="backward",N=S?DM:i_,O={pages:i,pageParams:o},L=N(r,O);a=await _(O,L,S)}else{const S=t??i.length;do{const N=c===0?o[0]??r.initialPageParam:i_(r,a);if(c>0&&N==null)break;a=await _(a,N),c++}while(c<S)}return a};e.options.persister?e.fetchFn=()=>{var g,T;return(T=(g=e.options).persister)==null?void 0:T.call(g,u,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=u}}}function i_(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function DM(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Xe,ds,hs,Fo,Uo,fs,$o,Bo,m1,OM=(m1=class{constructor(t={}){Ae(this,Xe);Ae(this,ds);Ae(this,hs);Ae(this,Fo);Ae(this,Uo);Ae(this,fs);Ae(this,$o);Ae(this,Bo);fe(this,Xe,t.queryCache||new PM),fe(this,ds,t.mutationCache||new kM),fe(this,hs,t.defaultOptions||{}),fe(this,Fo,new Map),fe(this,Uo,new Map),fe(this,fs,0)}mount(){qc(this,fs)._++,$(this,fs)===1&&(fe(this,$o,QS.subscribe(async t=>{t&&(await this.resumePausedMutations(),$(this,Xe).onFocus())})),fe(this,Bo,Nd.subscribe(async t=>{t&&(await this.resumePausedMutations(),$(this,Xe).onOnline())})))}unmount(){var t,e;qc(this,fs)._--,$(this,fs)===0&&((t=$(this,$o))==null||t.call(this),fe(this,$o,void 0),(e=$(this,Bo))==null||e.call(this),fe(this,Bo,void 0))}isFetching(t){return $(this,Xe).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return $(this,ds).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=$(this,Xe).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),r=$(this,Xe).build(this,n);return t.revalidateIfStale&&r.isStaleByTime(Zw(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return $(this,Xe).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=$(this,Xe).get(r.queryHash),i=s==null?void 0:s.state.data,o=fM(e,i);if(o!==void 0)return $(this,Xe).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return Wt.batch(()=>$(this,Xe).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=$(this,Xe).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=$(this,Xe);Wt.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=$(this,Xe),r={type:"active",...t};return Wt.batch(()=>(n.findAll(t).forEach(s=>{s.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=Wt.batch(()=>$(this,Xe).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(Mn).catch(Mn)}invalidateQueries(t={},e={}){return Wt.batch(()=>{if($(this,Xe).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=Wt.batch(()=>$(this,Xe).findAll(t).filter(s=>!s.isDisabled()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(Mn)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(Mn)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=$(this,Xe).build(this,e);return n.isStaleByTime(Zw(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Mn).catch(Mn)}fetchInfiniteQuery(t){return t.behavior=s_(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Mn).catch(Mn)}ensureInfiniteQueryData(t){return t.behavior=s_(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Nd.isOnline()?$(this,ds).resumePausedMutations():Promise.resolve()}getQueryCache(){return $(this,Xe)}getMutationCache(){return $(this,ds)}getDefaultOptions(){return $(this,hs)}setDefaultOptions(t){fe(this,hs,t)}setQueryDefaults(t,e){$(this,Fo).set(Wl(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...$(this,Fo).values()];let n={};return e.forEach(r=>{ql(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){$(this,Uo).set(Wl(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...$(this,Uo).values()];let n={};return e.forEach(r=>{ql(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...$(this,hs).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Ey(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===xy&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...$(this,hs).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){$(this,Xe).clear(),$(this,ds).clear()}},Xe=new WeakMap,ds=new WeakMap,hs=new WeakMap,Fo=new WeakMap,Uo=new WeakMap,fs=new WeakMap,$o=new WeakMap,Bo=new WeakMap,m1),MM=w.createContext(void 0),LM=({client:t,children:e})=>(w.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),m.jsx(MM.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function kd(){return kd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kd.apply(this,arguments)}var gs;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(gs||(gs={}));const o_="popstate";function VM(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return Im("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:tI(s)}return FM(e,n,null,t)}function sn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function eI(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function jM(){return Math.random().toString(36).substr(2,8)}function a_(t,e){return{usr:t.state,key:t.key,idx:e}}function Im(t,e,n,r){return n===void 0&&(n=null),kd({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ph(e):e,{state:n,key:e&&e.key||r||jM()})}function tI(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Ph(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function FM(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=gs.Pop,c=null,u=h();u==null&&(u=0,o.replaceState(kd({},o.state,{idx:u}),""));function h(){return(o.state||{idx:null}).idx}function f(){a=gs.Pop;let T=h(),E=T==null?null:T-u;u=T,c&&c({action:a,location:g.location,delta:E})}function d(T,E){a=gs.Push;let _=Im(g.location,T,E);u=h()+1;let S=a_(_,u),N=g.createHref(_);try{o.pushState(S,"",N)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;s.location.assign(N)}i&&c&&c({action:a,location:g.location,delta:1})}function y(T,E){a=gs.Replace;let _=Im(g.location,T,E);u=h();let S=a_(_,u),N=g.createHref(_);o.replaceState(S,"",N),i&&c&&c({action:a,location:g.location,delta:0})}function x(T){let E=s.location.origin!=="null"?s.location.origin:s.location.href,_=typeof T=="string"?T:tI(T);return _=_.replace(/ $/,"%20"),sn(E,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,E)}let g={get action(){return a},get location(){return t(s,o)},listen(T){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(o_,f),c=T,()=>{s.removeEventListener(o_,f),c=null}},createHref(T){return e(s,T)},createURL:x,encodeLocation(T){let E=x(T);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:d,replace:y,go(T){return o.go(T)}};return g}var l_;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(l_||(l_={}));function UM(t,e,n){return n===void 0&&(n="/"),$M(t,e,n,!1)}function $M(t,e,n,r){let s=typeof e=="string"?Ph(e):e,i=sI(s.pathname||"/",n);if(i==null)return null;let o=nI(t);BM(o);let a=null;for(let c=0;a==null&&c<o.length;++c){let u=ZM(i);a=XM(o[c],u,r)}return a}function nI(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let c={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(sn(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=bo([r,c.relativePath]),h=n.concat(c);i.children&&i.children.length>0&&(sn(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),nI(i.children,e,h,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:QM(u,i.index),routesMeta:h})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let c of rI(i.path))s(i,o,c)}),e}function rI(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=rI(r.join("/")),a=[];return a.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&a.push(...o),a.map(c=>t.startsWith("/")&&c===""?"/":c)}function BM(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:YM(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const zM=/^:[\w-]+$/,HM=3,WM=2,qM=1,KM=10,GM=-2,c_=t=>t==="*";function QM(t,e){let n=t.split("/"),r=n.length;return n.some(c_)&&(r+=GM),e&&(r+=WM),n.filter(s=>!c_(s)).reduce((s,i)=>s+(zM.test(i)?HM:i===""?qM:KM),r)}function YM(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function XM(t,e,n){let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let c=r[a],u=a===r.length-1,h=i==="/"?e:e.slice(i.length)||"/",f=u_({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},h),d=c.route;if(!f&&u&&n&&!r[r.length-1].route.index&&(f=u_({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},h)),!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:bo([i,f.pathname]),pathnameBase:eL(bo([i,f.pathnameBase])),route:d}),f.pathnameBase!=="/"&&(i=bo([i,f.pathnameBase]))}return o}function u_(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=JM(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((u,h,f)=>{let{paramName:d,isOptional:y}=h;if(d==="*"){let g=a[f]||"";o=i.slice(0,i.length-g.length).replace(/(.)\/+$/,"$1")}const x=a[f];return y&&!x?u[d]=void 0:u[d]=(x||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:t}}function JM(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),eI(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,c)=>(r.push({paramName:a,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function ZM(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return eI(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function sI(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}const bo=t=>t.join("/").replace(/\/\/+/g,"/"),eL=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/");function tL(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const iI=["post","put","patch","delete"];new Set(iI);const nL=["get",...iI];new Set(nL);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Dd(){return Dd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Dd.apply(this,arguments)}const rL=w.createContext(null),sL=w.createContext(null),oI=w.createContext(null),Rh=w.createContext(null),Nh=w.createContext({outlet:null,matches:[],isDataRoute:!1}),aI=w.createContext(null);function Ty(){return w.useContext(Rh)!=null}function lI(){return Ty()||sn(!1),w.useContext(Rh).location}function iL(t,e){return oL(t,e)}function oL(t,e,n,r){Ty()||sn(!1);let{navigator:s}=w.useContext(oI),{matches:i}=w.useContext(Nh),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=lI(),h;if(e){var f;let T=typeof e=="string"?Ph(e):e;c==="/"||(f=T.pathname)!=null&&f.startsWith(c)||sn(!1),h=T}else h=u;let d=h.pathname||"/",y=d;if(c!=="/"){let T=c.replace(/^\//,"").split("/");y="/"+d.replace(/^\//,"").split("/").slice(T.length).join("/")}let x=UM(t,{pathname:y}),g=dL(x&&x.map(T=>Object.assign({},T,{params:Object.assign({},a,T.params),pathname:bo([c,s.encodeLocation?s.encodeLocation(T.pathname).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?c:bo([c,s.encodeLocation?s.encodeLocation(T.pathnameBase).pathname:T.pathnameBase])})),i,n,r);return e&&g?w.createElement(Rh.Provider,{value:{location:Dd({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:gs.Pop}},g):g}function aL(){let t=mL(),e=tL(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},e),n?w.createElement("pre",{style:s},n):null,null)}const lL=w.createElement(aL,null);class cL extends w.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?w.createElement(Nh.Provider,{value:this.props.routeContext},w.createElement(aI.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function uL(t){let{routeContext:e,match:n,children:r}=t,s=w.useContext(rL);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),w.createElement(Nh.Provider,{value:e},r)}function dL(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let h=o.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);h>=0||sn(!1),o=o.slice(0,Math.min(o.length,h+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<o.length;h++){let f=o[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=h),f.route.id){let{loaderData:d,errors:y}=n,x=f.route.loader&&d[f.route.id]===void 0&&(!y||y[f.route.id]===void 0);if(f.route.lazy||x){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((h,f,d)=>{let y,x=!1,g=null,T=null;n&&(y=a&&f.route.id?a[f.route.id]:void 0,g=f.route.errorElement||lL,c&&(u<0&&d===0?(x=!0,T=null):u===d&&(x=!0,T=f.route.hydrateFallbackElement||null)));let E=e.concat(o.slice(0,d+1)),_=()=>{let S;return y?S=g:x?S=T:f.route.Component?S=w.createElement(f.route.Component,null):f.route.element?S=f.route.element:S=h,w.createElement(uL,{match:f,routeContext:{outlet:h,matches:E,isDataRoute:n!=null},children:S})};return n&&(f.route.ErrorBoundary||f.route.errorElement||d===0)?w.createElement(cL,{location:n.location,revalidation:n.revalidation,component:g,error:y,children:_(),routeContext:{outlet:null,matches:E,isDataRoute:!0}}):_()},null)}var Cm=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Cm||{});function hL(t){let e=w.useContext(sL);return e||sn(!1),e}function fL(t){let e=w.useContext(Nh);return e||sn(!1),e}function pL(t){let e=fL(),n=e.matches[e.matches.length-1];return n.route.id||sn(!1),n.route.id}function mL(){var t;let e=w.useContext(aI),n=hL(Cm.UseRouteError),r=pL(Cm.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function bm(t){sn(!1)}function gL(t){let{basename:e="/",children:n=null,location:r,navigationType:s=gs.Pop,navigator:i,static:o=!1,future:a}=t;Ty()&&sn(!1);let c=e.replace(/^\/*/,"/"),u=w.useMemo(()=>({basename:c,navigator:i,static:o,future:Dd({v7_relativeSplatPath:!1},a)}),[c,a,i,o]);typeof r=="string"&&(r=Ph(r));let{pathname:h="/",search:f="",hash:d="",state:y=null,key:x="default"}=r,g=w.useMemo(()=>{let T=sI(h,c);return T==null?null:{location:{pathname:T,search:f,hash:d,state:y,key:x},navigationType:s}},[c,h,f,d,y,x,s]);return g==null?null:w.createElement(oI.Provider,{value:u},w.createElement(Rh.Provider,{children:n,value:g}))}function yL(t){let{children:e,location:n}=t;return iL(Am(e),n)}new Promise(()=>{});function Am(t,e){e===void 0&&(e=[]);let n=[];return w.Children.forEach(t,(r,s)=>{if(!w.isValidElement(r))return;let i=[...e,s];if(r.type===w.Fragment){n.push.apply(n,Am(r.props.children,i));return}r.type!==bm&&sn(!1),!r.props.index||!r.props.children||sn(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Am(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const vL="6";try{window.__reactRouterVersion=vL}catch{}const wL="startTransition",d_=b1[wL];function _L(t){let{basename:e,children:n,future:r,window:s}=t,i=w.useRef();i.current==null&&(i.current=VM({window:s,v5Compat:!0}));let o=i.current,[a,c]=w.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},h=w.useCallback(f=>{u&&d_?d_(()=>c(f)):c(f)},[c,u]);return w.useLayoutEffect(()=>o.listen(h),[o,h]),w.createElement(gL,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}var h_;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(h_||(h_={}));var f_;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(f_||(f_={}));const go=w.forwardRef(({className:t,...e},n)=>m.jsx("div",{ref:n,className:de("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));go.displayName="Card";const cI=w.forwardRef(({className:t,...e},n)=>m.jsx("div",{ref:n,className:de("flex flex-col space-y-1.5 p-6",t),...e}));cI.displayName="CardHeader";const uI=w.forwardRef(({className:t,...e},n)=>m.jsx("h3",{ref:n,className:de("text-2xl font-semibold leading-none tracking-tight",t),...e}));uI.displayName="CardTitle";const EL=w.forwardRef(({className:t,...e},n)=>m.jsx("p",{ref:n,className:de("text-sm text-muted-foreground",t),...e}));EL.displayName="CardDescription";const yo=w.forwardRef(({className:t,...e},n)=>m.jsx("div",{ref:n,className:de("p-6 pt-0",t),...e}));yo.displayName="CardContent";const xL=w.forwardRef(({className:t,...e},n)=>m.jsx("div",{ref:n,className:de("flex items-center p-6 pt-0",t),...e}));xL.displayName="CardFooter";const TL=fc("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),et=w.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?Pi:"button";return m.jsx(o,{className:de(TL({variant:e,size:n,className:t})),ref:i,...s})});et.displayName="Button";const SL=fc("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function p_({className:t,variant:e,...n}){return m.jsx("div",{className:de(SL({variant:e}),t),...n})}var ep="focusScope.autoFocusOnMount",tp="focusScope.autoFocusOnUnmount",m_={bubbles:!1,cancelable:!0},IL="FocusScope",Sy=w.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[a,c]=w.useState(null),u=rn(s),h=rn(i),f=w.useRef(null),d=Ve(e,g=>c(g)),y=w.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;w.useEffect(()=>{if(r){let g=function(S){if(y.paused||!a)return;const N=S.target;a.contains(N)?f.current=N:ts(f.current,{select:!0})},T=function(S){if(y.paused||!a)return;const N=S.relatedTarget;N!==null&&(a.contains(N)||ts(f.current,{select:!0}))},E=function(S){if(document.activeElement===document.body)for(const O of S)O.removedNodes.length>0&&ts(a)};document.addEventListener("focusin",g),document.addEventListener("focusout",T);const _=new MutationObserver(E);return a&&_.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",T),_.disconnect()}}},[r,a,y.paused]),w.useEffect(()=>{if(a){y_.add(y);const g=document.activeElement;if(!a.contains(g)){const E=new CustomEvent(ep,m_);a.addEventListener(ep,u),a.dispatchEvent(E),E.defaultPrevented||(CL(NL(dI(a)),{select:!0}),document.activeElement===g&&ts(a))}return()=>{a.removeEventListener(ep,u),setTimeout(()=>{const E=new CustomEvent(tp,m_);a.addEventListener(tp,h),a.dispatchEvent(E),E.defaultPrevented||ts(g??document.body,{select:!0}),a.removeEventListener(tp,h),y_.remove(y)},0)}}},[a,u,h,y]);const x=w.useCallback(g=>{if(!n&&!r||y.paused)return;const T=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,E=document.activeElement;if(T&&E){const _=g.currentTarget,[S,N]=bL(_);S&&N?!g.shiftKey&&E===N?(g.preventDefault(),n&&ts(S,{select:!0})):g.shiftKey&&E===S&&(g.preventDefault(),n&&ts(N,{select:!0})):E===_&&g.preventDefault()}},[n,r,y.paused]);return m.jsx(pe.div,{tabIndex:-1,...o,ref:d,onKeyDown:x})});Sy.displayName=IL;function CL(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(ts(r,{select:e}),document.activeElement!==n)return}function bL(t){const e=dI(t),n=g_(e,t),r=g_(e.reverse(),t);return[n,r]}function dI(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function g_(t,e){for(const n of t)if(!AL(n,{upTo:e}))return n}function AL(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function PL(t){return t instanceof HTMLInputElement&&"select"in t}function ts(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&PL(t)&&e&&t.select()}}var y_=RL();function RL(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=v_(t,e),t.unshift(e)},remove(e){var n;t=v_(t,e),(n=t[0])==null||n.resume()}}}function v_(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function NL(t){return t.filter(e=>e.tagName!=="A")}var np=0;function hI(){w.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??w_()),document.body.insertAdjacentElement("beforeend",t[1]??w_()),np++,()=>{np===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),np--}},[])}function w_(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var ir=function(){return ir=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},ir.apply(this,arguments)};function fI(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function kL(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}var Wu="right-scroll-bar-position",qu="width-before-scroll-bar",DL="with-scroll-bars-hidden",OL="--removed-body-scroll-bar-size";function rp(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function ML(t,e){var n=w.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var LL=typeof window<"u"?w.useLayoutEffect:w.useEffect,__=new WeakMap;function VL(t,e){var n=ML(null,function(r){return t.forEach(function(s){return rp(s,r)})});return LL(function(){var r=__.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(a){i.has(a)||rp(a,null)}),i.forEach(function(a){s.has(a)||rp(a,o)})}__.set(n,t)},[t]),n}function jL(t){return t}function FL(t,e){e===void 0&&(e=jL);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var c=function(){var h=o;o=[],h.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(h){o.push(h),u()},filter:function(h){return o=o.filter(h),n}}}};return s}function UL(t){t===void 0&&(t={});var e=FL(null);return e.options=ir({async:!0,ssr:!1},t),e}var pI=function(t){var e=t.sideCar,n=fI(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return w.createElement(r,ir({},n))};pI.isSideCarExport=!0;function $L(t,e){return t.useMedium(e),pI}var mI=UL(),sp=function(){},kh=w.forwardRef(function(t,e){var n=w.useRef(null),r=w.useState({onScrollCapture:sp,onWheelCapture:sp,onTouchMoveCapture:sp}),s=r[0],i=r[1],o=t.forwardProps,a=t.children,c=t.className,u=t.removeScrollBar,h=t.enabled,f=t.shards,d=t.sideCar,y=t.noIsolation,x=t.inert,g=t.allowPinchZoom,T=t.as,E=T===void 0?"div":T,_=t.gapMode,S=fI(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),N=d,O=VL([n,e]),L=ir(ir({},S),s);return w.createElement(w.Fragment,null,h&&w.createElement(N,{sideCar:mI,removeScrollBar:u,shards:f,noIsolation:y,inert:x,setCallbacks:i,allowPinchZoom:!!g,lockRef:n,gapMode:_}),o?w.cloneElement(w.Children.only(a),ir(ir({},L),{ref:O})):w.createElement(E,ir({},L,{className:c,ref:O}),a))});kh.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};kh.classNames={fullWidth:qu,zeroRight:Wu};var BL=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function zL(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=BL();return e&&t.setAttribute("nonce",e),t}function HL(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function WL(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var qL=function(){var t=0,e=null;return{add:function(n){t==0&&(e=zL())&&(HL(e,n),WL(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},KL=function(){var t=qL();return function(e,n){w.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},gI=function(){var t=KL(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},GL={left:0,top:0,right:0,gap:0},ip=function(t){return parseInt(t||"",10)||0},QL=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[ip(n),ip(r),ip(s)]},YL=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return GL;var e=QL(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},XL=gI(),Ao="data-scroll-locked",JL=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(DL,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Ao,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Wu,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(qu,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Wu," .").concat(Wu,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(qu," .").concat(qu,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Ao,`] {
    `).concat(OL,": ").concat(a,`px;
  }
`)},E_=function(){var t=parseInt(document.body.getAttribute(Ao)||"0",10);return isFinite(t)?t:0},ZL=function(){w.useEffect(function(){return document.body.setAttribute(Ao,(E_()+1).toString()),function(){var t=E_()-1;t<=0?document.body.removeAttribute(Ao):document.body.setAttribute(Ao,t.toString())}},[])},eV=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;ZL();var i=w.useMemo(function(){return YL(s)},[s]);return w.createElement(XL,{styles:JL(i,!e,s,n?"":"!important")})},Pm=!1;if(typeof window<"u")try{var mu=Object.defineProperty({},"passive",{get:function(){return Pm=!0,!0}});window.addEventListener("test",mu,mu),window.removeEventListener("test",mu,mu)}catch{Pm=!1}var Yi=Pm?{passive:!1}:!1,tV=function(t){return t.tagName==="TEXTAREA"},yI=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!tV(t)&&n[e]==="visible")},nV=function(t){return yI(t,"overflowY")},rV=function(t){return yI(t,"overflowX")},x_=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=vI(t,r);if(s){var i=wI(t,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},sV=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},iV=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},vI=function(t,e){return t==="v"?nV(e):rV(e)},wI=function(t,e){return t==="v"?sV(e):iV(e)},oV=function(t,e){return t==="h"&&e==="rtl"?-1:1},aV=function(t,e,n,r,s){var i=oV(t,window.getComputedStyle(e).direction),o=i*r,a=n.target,c=e.contains(a),u=!1,h=o>0,f=0,d=0;do{var y=wI(t,a),x=y[0],g=y[1],T=y[2],E=g-T-i*x;(x||E)&&vI(t,a)&&(f+=E,d+=x),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!c&&a!==document.body||c&&(e.contains(a)||e===a));return(h&&(Math.abs(f)<1||!s)||!h&&(Math.abs(d)<1||!s))&&(u=!0),u},gu=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},T_=function(t){return[t.deltaX,t.deltaY]},S_=function(t){return t&&"current"in t?t.current:t},lV=function(t,e){return t[0]===e[0]&&t[1]===e[1]},cV=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},uV=0,Xi=[];function dV(t){var e=w.useRef([]),n=w.useRef([0,0]),r=w.useRef(),s=w.useState(uV++)[0],i=w.useState(gI)[0],o=w.useRef(t);w.useEffect(function(){o.current=t},[t]),w.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var g=kL([t.lockRef.current],(t.shards||[]).map(S_),!0).filter(Boolean);return g.forEach(function(T){return T.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),g.forEach(function(T){return T.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=w.useCallback(function(g,T){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!o.current.allowPinchZoom;var E=gu(g),_=n.current,S="deltaX"in g?g.deltaX:_[0]-E[0],N="deltaY"in g?g.deltaY:_[1]-E[1],O,L=g.target,C=Math.abs(S)>Math.abs(N)?"h":"v";if("touches"in g&&C==="h"&&L.type==="range")return!1;var I=x_(C,L);if(!I)return!0;if(I?O=C:(O=C==="v"?"h":"v",I=x_(C,L)),!I)return!1;if(!r.current&&"changedTouches"in g&&(S||N)&&(r.current=O),!O)return!0;var A=r.current||O;return aV(A,T,g,A==="h"?S:N,!0)},[]),c=w.useCallback(function(g){var T=g;if(!(!Xi.length||Xi[Xi.length-1]!==i)){var E="deltaY"in T?T_(T):gu(T),_=e.current.filter(function(O){return O.name===T.type&&(O.target===T.target||T.target===O.shadowParent)&&lV(O.delta,E)})[0];if(_&&_.should){T.cancelable&&T.preventDefault();return}if(!_){var S=(o.current.shards||[]).map(S_).filter(Boolean).filter(function(O){return O.contains(T.target)}),N=S.length>0?a(T,S[0]):!o.current.noIsolation;N&&T.cancelable&&T.preventDefault()}}},[]),u=w.useCallback(function(g,T,E,_){var S={name:g,delta:T,target:E,should:_,shadowParent:hV(E)};e.current.push(S),setTimeout(function(){e.current=e.current.filter(function(N){return N!==S})},1)},[]),h=w.useCallback(function(g){n.current=gu(g),r.current=void 0},[]),f=w.useCallback(function(g){u(g.type,T_(g),g.target,a(g,t.lockRef.current))},[]),d=w.useCallback(function(g){u(g.type,gu(g),g.target,a(g,t.lockRef.current))},[]);w.useEffect(function(){return Xi.push(i),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:d}),document.addEventListener("wheel",c,Yi),document.addEventListener("touchmove",c,Yi),document.addEventListener("touchstart",h,Yi),function(){Xi=Xi.filter(function(g){return g!==i}),document.removeEventListener("wheel",c,Yi),document.removeEventListener("touchmove",c,Yi),document.removeEventListener("touchstart",h,Yi)}},[]);var y=t.removeScrollBar,x=t.inert;return w.createElement(w.Fragment,null,x?w.createElement(i,{styles:cV(s)}):null,y?w.createElement(eV,{gapMode:t.gapMode}):null)}function hV(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const fV=$L(mI,dV);var Iy=w.forwardRef(function(t,e){return w.createElement(kh,ir({},t,{ref:e,sideCar:fV}))});Iy.classNames=kh.classNames;var pV=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Ji=new WeakMap,yu=new WeakMap,vu={},op=0,_I=function(t){return t&&(t.host||_I(t.parentNode))},mV=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=_I(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},gV=function(t,e,n,r){var s=mV(e,Array.isArray(t)?t:[t]);vu[n]||(vu[n]=new WeakMap);var i=vu[n],o=[],a=new Set,c=new Set(s),u=function(f){!f||a.has(f)||(a.add(f),u(f.parentNode))};s.forEach(u);var h=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(d){if(a.has(d))h(d);else try{var y=d.getAttribute(r),x=y!==null&&y!=="false",g=(Ji.get(d)||0)+1,T=(i.get(d)||0)+1;Ji.set(d,g),i.set(d,T),o.push(d),g===1&&x&&yu.set(d,!0),T===1&&d.setAttribute(n,"true"),x||d.setAttribute(r,"true")}catch(E){console.error("aria-hidden: cannot operate on ",d,E)}})};return h(e),a.clear(),op++,function(){o.forEach(function(f){var d=Ji.get(f)-1,y=i.get(f)-1;Ji.set(f,d),i.set(f,y),d||(yu.has(f)||f.removeAttribute(r),yu.delete(f)),y||f.removeAttribute(n)}),op--,op||(Ji=new WeakMap,Ji=new WeakMap,yu=new WeakMap,vu={})}},EI=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=pV(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),gV(r,s,n,"aria-hidden")):function(){return null}},Cy="Dialog",[xI,S$]=uc(Cy),[yV,Gn]=xI(Cy),TI=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=t,a=w.useRef(null),c=w.useRef(null),[u=!1,h]=Yo({prop:r,defaultProp:s,onChange:i});return m.jsx(yV,{scope:e,triggerRef:a,contentRef:c,contentId:Cs(),titleId:Cs(),descriptionId:Cs(),open:u,onOpenChange:h,onOpenToggle:w.useCallback(()=>h(f=>!f),[h]),modal:o,children:n})};TI.displayName=Cy;var SI="DialogTrigger",II=w.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Gn(SI,n),i=Ve(e,s.triggerRef);return m.jsx(pe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Py(s.open),...r,ref:i,onClick:ie(t.onClick,s.onOpenToggle)})});II.displayName=SI;var by="DialogPortal",[vV,CI]=xI(by,{forceMount:void 0}),bI=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,i=Gn(by,e);return m.jsx(vV,{scope:e,forceMount:n,children:w.Children.map(r,o=>m.jsx(Bi,{present:n||i.open,children:m.jsx(vh,{asChild:!0,container:s,children:o})}))})};bI.displayName=by;var Od="DialogOverlay",AI=w.forwardRef((t,e)=>{const n=CI(Od,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=Gn(Od,t.__scopeDialog);return i.modal?m.jsx(Bi,{present:r||i.open,children:m.jsx(wV,{...s,ref:e})}):null});AI.displayName=Od;var wV=w.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Gn(Od,n);return m.jsx(Iy,{as:Pi,allowPinchZoom:!0,shards:[s.contentRef],children:m.jsx(pe.div,{"data-state":Py(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Ni="DialogContent",PI=w.forwardRef((t,e)=>{const n=CI(Ni,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=Gn(Ni,t.__scopeDialog);return m.jsx(Bi,{present:r||i.open,children:i.modal?m.jsx(_V,{...s,ref:e}):m.jsx(EV,{...s,ref:e})})});PI.displayName=Ni;var _V=w.forwardRef((t,e)=>{const n=Gn(Ni,t.__scopeDialog),r=w.useRef(null),s=Ve(e,n.contentRef,r);return w.useEffect(()=>{const i=r.current;if(i)return EI(i)},[]),m.jsx(RI,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ie(t.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:ie(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&i.preventDefault()}),onFocusOutside:ie(t.onFocusOutside,i=>i.preventDefault())})}),EV=w.forwardRef((t,e)=>{const n=Gn(Ni,t.__scopeDialog),r=w.useRef(!1),s=w.useRef(!1);return m.jsx(RI,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var c,u;(c=t.onInteractOutside)==null||c.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((u=n.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),RI=w.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=t,a=Gn(Ni,n),c=w.useRef(null),u=Ve(e,c);return hI(),m.jsxs(m.Fragment,{children:[m.jsx(Sy,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:m.jsx(dc,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":Py(a.open),...o,ref:u,onDismiss:()=>a.onOpenChange(!1)})}),m.jsxs(m.Fragment,{children:[m.jsx(xV,{titleId:a.titleId}),m.jsx(SV,{contentRef:c,descriptionId:a.descriptionId})]})]})}),Ay="DialogTitle",NI=w.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Gn(Ay,n);return m.jsx(pe.h2,{id:s.titleId,...r,ref:e})});NI.displayName=Ay;var kI="DialogDescription",DI=w.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Gn(kI,n);return m.jsx(pe.p,{id:s.descriptionId,...r,ref:e})});DI.displayName=kI;var OI="DialogClose",MI=w.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Gn(OI,n);return m.jsx(pe.button,{type:"button",...r,ref:e,onClick:ie(t.onClick,()=>s.onOpenChange(!1))})});MI.displayName=OI;function Py(t){return t?"open":"closed"}var LI="DialogTitleWarning",[I$,VI]=Ak(LI,{contentName:Ni,titleName:Ay,docsSlug:"dialog"}),xV=({titleId:t})=>{const e=VI(LI),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return w.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},TV="DialogDescriptionWarning",SV=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${VI(TV).contentName}}.`;return w.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},IV=TI,CV=II,bV=bI,jI=AI,FI=PI,UI=NI,$I=DI,AV=MI;const vo=IV,wu=CV,PV=bV,BI=w.forwardRef(({className:t,...e},n)=>m.jsx(jI,{ref:n,className:de("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));BI.displayName=jI.displayName;const fi=w.forwardRef(({className:t,children:e,...n},r)=>m.jsxs(PV,{children:[m.jsx(BI,{}),m.jsxs(FI,{ref:r,className:de("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,m.jsxs(AV,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[m.jsx(aS,{className:"h-4 w-4"}),m.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));fi.displayName=FI.displayName;const Ry=({className:t,...e})=>m.jsx("div",{className:de("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});Ry.displayName="DialogHeader";const Ny=w.forwardRef(({className:t,...e},n)=>m.jsx(UI,{ref:n,className:de("text-lg font-semibold leading-none tracking-tight",t),...e}));Ny.displayName=UI.displayName;const RV=w.forwardRef(({className:t,...e},n)=>m.jsx($I,{ref:n,className:de("text-sm text-muted-foreground",t),...e}));RV.displayName=$I.displayName;const NV=()=>{};var I_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zI=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},kV=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],c=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},HI={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,c=s+2<t.length,u=c?t[s+2]:0,h=i>>2,f=(i&3)<<4|a>>4;let d=(a&15)<<2|u>>6,y=u&63;c||(y=64,o||(d=64)),r.push(n[h],n[f],n[d],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(zI(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):kV(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const u=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||u==null||f==null)throw new DV;const d=i<<2|a>>4;if(r.push(d),u!==64){const y=a<<4&240|u>>2;if(r.push(y),f!==64){const x=u<<6&192|f;r.push(x)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class DV extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const OV=function(t){const e=zI(t);return HI.encodeByteArray(e,!0)},Md=function(t){return OV(t).replace(/\./g,"")},WI=function(t){try{return HI.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MV(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LV=()=>MV().__FIREBASE_DEFAULTS__,VV=()=>{if(typeof process>"u"||typeof I_>"u")return;const t=I_.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},jV=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&WI(t[1]);return e&&JSON.parse(e)},Dh=()=>{try{return NV()||LV()||VV()||jV()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},qI=t=>{var e,n;return(n=(e=Dh())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},FV=t=>{const e=qI(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},KI=()=>{var t;return(t=Dh())==null?void 0:t.config},GI=t=>{var e;return(e=Dh())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UV{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fa(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function QI(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $V(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Md(JSON.stringify(n)),Md(JSON.stringify(o)),""].join(".")}const wl={};function BV(){const t={prod:[],emulator:[]};for(const e of Object.keys(wl))wl[e]?t.emulator.push(e):t.prod.push(e);return t}function zV(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let C_=!1;function YI(t,e){if(typeof window>"u"||typeof document>"u"||!fa(window.location.host)||wl[t]===e||wl[t]||C_)return;wl[t]=e;function n(d){return`__firebase__banner__${d}`}const r="__firebase__banner",i=BV().prod.length>0;function o(){const d=document.getElementById(r);d&&d.remove()}function a(d){d.style.display="flex",d.style.background="#7faaf0",d.style.position="fixed",d.style.bottom="5px",d.style.left="5px",d.style.padding=".5em",d.style.borderRadius="5px",d.style.alignItems="center"}function c(d,y){d.setAttribute("width","24"),d.setAttribute("id",y),d.setAttribute("height","24"),d.setAttribute("viewBox","0 0 24 24"),d.setAttribute("fill","none"),d.style.marginLeft="-6px"}function u(){const d=document.createElement("span");return d.style.cursor="pointer",d.style.marginLeft="16px",d.style.fontSize="24px",d.innerHTML=" &times;",d.onclick=()=>{C_=!0,o()},d}function h(d,y){d.setAttribute("id",y),d.innerText="Learn more",d.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",d.setAttribute("target","__blank"),d.style.paddingLeft="5px",d.style.textDecoration="underline"}function f(){const d=zV(r),y=n("text"),x=document.getElementById(y)||document.createElement("span"),g=n("learnmore"),T=document.getElementById(g)||document.createElement("a"),E=n("preprendIcon"),_=document.getElementById(E)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(d.created){const S=d.element;a(S),h(T,g);const N=u();c(_,E),S.append(_,x,T,N),document.body.appendChild(S)}i?(x.innerText="Preview backend disconnected.",_.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(_.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,x.innerText="Preview backend running in this workspace."),x.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ut(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function HV(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ut())}function WV(){var e;const t=(e=Dh())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function qV(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function KV(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function GV(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function QV(){const t=Ut();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function YV(){return!WV()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function XV(){try{return typeof indexedDB=="object"}catch{return!1}}function JV(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)==null?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZV="FirebaseError";class zr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=ZV,Object.setPrototypeOf(this,zr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,mc.prototype.create)}}class mc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?e4(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new zr(s,a,r)}}function e4(t,e){return t.replace(t4,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const t4=/\{\$([^}]+)}/g;function n4(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ki(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(b_(i)&&b_(o)){if(!ki(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function b_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function el(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function tl(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function r4(t,e){const n=new s4(t,e);return n.subscribe.bind(n)}class s4{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");i4(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=ap),s.error===void 0&&(s.error=ap),s.complete===void 0&&(s.complete=ap);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function i4(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function ap(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pt(t){return t&&t._delegate?t._delegate:t}class Di{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ci="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o4{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new UV;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(l4(e))try{this.getOrInitializeService({instanceIdentifier:ci})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=ci){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ci){return this.instances.has(e)}getOptions(e=ci){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:a4(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ci){return this.component?this.component.multipleInstances?e:ci:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function a4(t){return t===ci?void 0:t}function l4(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c4{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new o4(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var we;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(we||(we={}));const u4={debug:we.DEBUG,verbose:we.VERBOSE,info:we.INFO,warn:we.WARN,error:we.ERROR,silent:we.SILENT},d4=we.INFO,h4={[we.DEBUG]:"log",[we.VERBOSE]:"log",[we.INFO]:"info",[we.WARN]:"warn",[we.ERROR]:"error"},f4=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=h4[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ky{constructor(e){this.name=e,this._logLevel=d4,this._logHandler=f4,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in we))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?u4[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,we.DEBUG,...e),this._logHandler(this,we.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,we.VERBOSE,...e),this._logHandler(this,we.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,we.INFO,...e),this._logHandler(this,we.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,we.WARN,...e),this._logHandler(this,we.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,we.ERROR,...e),this._logHandler(this,we.ERROR,...e)}}const p4=(t,e)=>e.some(n=>t instanceof n);let A_,P_;function m4(){return A_||(A_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function g4(){return P_||(P_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const XI=new WeakMap,Rm=new WeakMap,JI=new WeakMap,lp=new WeakMap,Dy=new WeakMap;function y4(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(bs(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&XI.set(n,t)}).catch(()=>{}),Dy.set(e,t),e}function v4(t){if(Rm.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Rm.set(t,e)}let Nm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Rm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||JI.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return bs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function w4(t){Nm=t(Nm)}function _4(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(cp(this),e,...n);return JI.set(r,e.sort?e.sort():[e]),bs(r)}:g4().includes(t)?function(...e){return t.apply(cp(this),e),bs(XI.get(this))}:function(...e){return bs(t.apply(cp(this),e))}}function E4(t){return typeof t=="function"?_4(t):(t instanceof IDBTransaction&&v4(t),p4(t,m4())?new Proxy(t,Nm):t)}function bs(t){if(t instanceof IDBRequest)return y4(t);if(lp.has(t))return lp.get(t);const e=E4(t);return e!==t&&(lp.set(t,e),Dy.set(e,t)),e}const cp=t=>Dy.get(t);function x4(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=bs(o);return r&&o.addEventListener("upgradeneeded",c=>{r(bs(o.result),c.oldVersion,c.newVersion,bs(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{i&&c.addEventListener("close",()=>i()),s&&c.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const T4=["get","getKey","getAll","getAllKeys","count"],S4=["put","add","delete","clear"],up=new Map;function R_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(up.get(e))return up.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=S4.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||T4.includes(n)))return;const i=async function(o,...a){const c=this.transaction(o,s?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),s&&c.done]))[0]};return up.set(e,i),i}w4(t=>({...t,get:(e,n,r)=>R_(e,n)||t.get(e,n,r),has:(e,n)=>!!R_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I4{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(C4(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function C4(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const km="@firebase/app",N_="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jr=new ky("@firebase/app"),b4="@firebase/app-compat",A4="@firebase/analytics-compat",P4="@firebase/analytics",R4="@firebase/app-check-compat",N4="@firebase/app-check",k4="@firebase/auth",D4="@firebase/auth-compat",O4="@firebase/database",M4="@firebase/data-connect",L4="@firebase/database-compat",V4="@firebase/functions",j4="@firebase/functions-compat",F4="@firebase/installations",U4="@firebase/installations-compat",$4="@firebase/messaging",B4="@firebase/messaging-compat",z4="@firebase/performance",H4="@firebase/performance-compat",W4="@firebase/remote-config",q4="@firebase/remote-config-compat",K4="@firebase/storage",G4="@firebase/storage-compat",Q4="@firebase/firestore",Y4="@firebase/ai",X4="@firebase/firestore-compat",J4="firebase",Z4="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dm="[DEFAULT]",ej={[km]:"fire-core",[b4]:"fire-core-compat",[P4]:"fire-analytics",[A4]:"fire-analytics-compat",[N4]:"fire-app-check",[R4]:"fire-app-check-compat",[k4]:"fire-auth",[D4]:"fire-auth-compat",[O4]:"fire-rtdb",[M4]:"fire-data-connect",[L4]:"fire-rtdb-compat",[V4]:"fire-fn",[j4]:"fire-fn-compat",[F4]:"fire-iid",[U4]:"fire-iid-compat",[$4]:"fire-fcm",[B4]:"fire-fcm-compat",[z4]:"fire-perf",[H4]:"fire-perf-compat",[W4]:"fire-rc",[q4]:"fire-rc-compat",[K4]:"fire-gcs",[G4]:"fire-gcs-compat",[Q4]:"fire-fst",[X4]:"fire-fst-compat",[Y4]:"fire-vertex","fire-js":"fire-js",[J4]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ld=new Map,tj=new Map,Om=new Map;function k_(t,e){try{t.container.addComponent(e)}catch(n){jr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Zo(t){const e=t.name;if(Om.has(e))return jr.debug(`There were multiple attempts to register component ${e}.`),!1;Om.set(e,t);for(const n of Ld.values())k_(n,t);for(const n of tj.values())k_(n,t);return!0}function Oy(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function dn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nj={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},As=new mc("app","Firebase",nj);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rj{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Di("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw As.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pa=Z4;function ZI(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Dm,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw As.create("bad-app-name",{appName:String(s)});if(n||(n=KI()),!n)throw As.create("no-options");const i=Ld.get(s);if(i){if(ki(n,i.options)&&ki(r,i.config))return i;throw As.create("duplicate-app",{appName:s})}const o=new c4(s);for(const c of Om.values())o.addComponent(c);const a=new rj(n,r,o);return Ld.set(s,a),a}function eC(t=Dm){const e=Ld.get(t);if(!e&&t===Dm&&KI())return ZI();if(!e)throw As.create("no-app",{appName:t});return e}function Ps(t,e,n){let r=ej[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const o=[`Unable to register library "${r}" with version "${e}":`];s&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&o.push("and"),i&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),jr.warn(o.join(" "));return}Zo(new Di(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sj="firebase-heartbeat-database",ij=1,Kl="firebase-heartbeat-store";let dp=null;function tC(){return dp||(dp=x4(sj,ij,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Kl)}catch(n){console.warn(n)}}}}).catch(t=>{throw As.create("idb-open",{originalErrorMessage:t.message})})),dp}async function oj(t){try{const n=(await tC()).transaction(Kl),r=await n.objectStore(Kl).get(nC(t));return await n.done,r}catch(e){if(e instanceof zr)jr.warn(e.message);else{const n=As.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});jr.warn(n.message)}}}async function D_(t,e){try{const r=(await tC()).transaction(Kl,"readwrite");await r.objectStore(Kl).put(e,nC(t)),await r.done}catch(n){if(n instanceof zr)jr.warn(n.message);else{const r=As.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});jr.warn(r.message)}}}function nC(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aj=1024,lj=30;class cj{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new dj(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=O_();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>lj){const o=hj(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){jr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=O_(),{heartbeatsToSend:r,unsentEntries:s}=uj(this._heartbeatsCache.heartbeats),i=Md(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return jr.warn(n),""}}}function O_(){return new Date().toISOString().substring(0,10)}function uj(t,e=aj){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),M_(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),M_(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class dj{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return XV()?JV().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await oj(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return D_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return D_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function M_(t){return Md(JSON.stringify({version:2,heartbeats:t})).length}function hj(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fj(t){Zo(new Di("platform-logger",e=>new I4(e),"PRIVATE")),Zo(new Di("heartbeat",e=>new cj(e),"PRIVATE")),Ps(km,N_,t),Ps(km,N_,"esm2020"),Ps("fire-js","")}fj("");var pj="firebase",mj="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ps(pj,mj,"app");function rC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const gj=rC,sC=new mc("auth","Firebase",rC());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vd=new ky("@firebase/auth");function yj(t,...e){Vd.logLevel<=we.WARN&&Vd.warn(`Auth (${pa}): ${t}`,...e)}function Ku(t,...e){Vd.logLevel<=we.ERROR&&Vd.error(`Auth (${pa}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pn(t,...e){throw Ly(t,...e)}function Bn(t,...e){return Ly(t,...e)}function My(t,e,n){const r={...gj(),[e]:n};return new mc("auth","Firebase",r).create(e,{appName:t.name})}function Nr(t){return My(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function vj(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Pn(t,"argument-error"),My(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ly(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return sC.create(t,...e)}function oe(t,e,...n){if(!t)throw Ly(e,...n)}function Ar(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Ku(e),new Error(e)}function Fr(t,e){t||Ar(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mm(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function wj(){return L_()==="http:"||L_()==="https:"}function L_(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _j(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(wj()||KV()||"connection"in navigator)?navigator.onLine:!0}function Ej(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Fr(n>e,"Short delay should be less than long delay!"),this.isMobile=HV()||GV()}get(){return _j()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vy(t,e){Fr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ar("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ar("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ar("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xj={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tj=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Sj=new yc(3e4,6e4);function Gs(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Qs(t,e,n,r,s={}){return oC(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=gc({key:t.config.apiKey,...o}).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const u={method:e,headers:c,...i};return qV()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&fa(t.emulatorConfig.host)&&(u.credentials="include"),iC.fetch()(await aC(t,t.config.apiHost,n,a),u)})}async function oC(t,e,n){t._canInitEmulator=!1;const r={...xj,...e};try{const s=new Cj(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw _u(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[c,u]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw _u(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw _u(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw _u(t,"user-disabled",o);const h=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw My(t,h,u);Pn(t,h)}}catch(s){if(s instanceof zr)throw s;Pn(t,"network-request-failed",{message:String(s)})}}async function vc(t,e,n,r,s={}){const i=await Qs(t,e,n,r,s);return"mfaPendingCredential"in i&&Pn(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function aC(t,e,n,r){const s=`${e}${n}?${r}`,i=t,o=i.config.emulator?Vy(t.config,s):`${t.config.apiScheme}://${s}`;return Tj.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}function Ij(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Cj{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Bn(this.auth,"network-request-failed")),Sj.get())})}}function _u(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Bn(t,e,r);return s.customData._tokenResponse=n,s}function V_(t){return t!==void 0&&t.enterprise!==void 0}class bj{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Ij(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Aj(t,e){return Qs(t,"GET","/v2/recaptchaConfig",Gs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pj(t,e){return Qs(t,"POST","/v1/accounts:delete",e)}async function jd(t,e){return Qs(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _l(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Rj(t,e=!1){const n=pt(t),r=await n.getIdToken(e),s=jy(r);oe(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:_l(hp(s.auth_time)),issuedAtTime:_l(hp(s.iat)),expirationTime:_l(hp(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function hp(t){return Number(t)*1e3}function jy(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Ku("JWT malformed, contained fewer than 3 sections"),null;try{const s=WI(n);return s?JSON.parse(s):(Ku("Failed to decode base64 JWT payload"),null)}catch(s){return Ku("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function j_(t){const e=jy(t);return oe(e,"internal-error"),oe(typeof e.exp<"u","internal-error"),oe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gl(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof zr&&Nj(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Nj({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kj{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=_l(this.lastLoginAt),this.creationTime=_l(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fd(t){var f;const e=t.auth,n=await t.getIdToken(),r=await Gl(t,jd(e,{idToken:n}));oe(r==null?void 0:r.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const i=(f=s.providerUserInfo)!=null&&f.length?lC(s.providerUserInfo):[],o=Oj(t.providerData,i),a=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(o!=null&&o.length),u=a?c:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new Lm(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,h)}async function Dj(t){const e=pt(t);await Fd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Oj(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function lC(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mj(t,e){const n=await oC(t,{},async()=>{const r=gc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await aC(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:a,body:r};return t.emulatorConfig&&fa(t.emulatorConfig.host)&&(c.credentials="include"),iC.fetch()(o,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Lj(t,e){return Qs(t,"POST","/v2/accounts:revokeToken",Gs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){oe(e.idToken,"internal-error"),oe(typeof e.idToken<"u","internal-error"),oe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):j_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){oe(e.length!==0,"internal-error");const n=j_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(oe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await Mj(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new Po;return r&&(oe(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(oe(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(oe(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Po,this.toJSON())}_performRefresh(){return Ar("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zr(t,e){oe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Fn{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new kj(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Lm(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Gl(this,this.stsTokenManager.getToken(this.auth,e));return oe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Rj(this,e)}reload(){return Dj(this)}_assign(e){this!==e&&(oe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Fn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Fd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(dn(this.auth.app))return Promise.reject(Nr(this.auth));const e=await this.getIdToken();return await Gl(this,Pj(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,i=n.phoneNumber??void 0,o=n.photoURL??void 0,a=n.tenantId??void 0,c=n._redirectEventId??void 0,u=n.createdAt??void 0,h=n.lastLoginAt??void 0,{uid:f,emailVerified:d,isAnonymous:y,providerData:x,stsTokenManager:g}=n;oe(f&&g,e,"internal-error");const T=Po.fromJSON(this.name,g);oe(typeof f=="string",e,"internal-error"),Zr(r,e.name),Zr(s,e.name),oe(typeof d=="boolean",e,"internal-error"),oe(typeof y=="boolean",e,"internal-error"),Zr(i,e.name),Zr(o,e.name),Zr(a,e.name),Zr(c,e.name),Zr(u,e.name),Zr(h,e.name);const E=new Fn({uid:f,auth:e,email:s,emailVerified:d,displayName:r,isAnonymous:y,photoURL:o,phoneNumber:i,tenantId:a,stsTokenManager:T,createdAt:u,lastLoginAt:h});return x&&Array.isArray(x)&&(E.providerData=x.map(_=>({..._}))),c&&(E._redirectEventId=c),E}static async _fromIdTokenResponse(e,n,r=!1){const s=new Po;s.updateFromServerResponse(n);const i=new Fn({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Fd(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];oe(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?lC(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new Po;a.updateFromIdToken(r);const c=new Fn({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new Lm(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(c,u),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F_=new Map;function Pr(t){Fr(t instanceof Function,"Expected a class definition");let e=F_.get(t);return e?(Fr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,F_.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}cC.type="NONE";const U_=cC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gu(t,e,n){return`firebase:${t}:${e}:${n}`}class Ro{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Gu(this.userKey,s.apiKey,i),this.fullPersistenceKey=Gu("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await jd(this.auth,{idToken:e}).catch(()=>{});return n?Fn._fromGetAccountInfoResponse(this.auth,n,e):null}return Fn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ro(Pr(U_),e,r);const s=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let i=s[0]||Pr(U_);const o=Gu(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const h=await u._get(o);if(h){let f;if(typeof h=="string"){const d=await jd(e,{idToken:h}).catch(()=>{});if(!d)break;f=await Fn._fromGetAccountInfoResponse(e,d,h)}else f=Fn._fromJSON(e,h);u!==i&&(a=f),i=u;break}}catch{}const c=s.filter(u=>u._shouldAllowMigration);return!i._shouldAllowMigration||!c.length?new Ro(i,e,r):(i=c[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==i)try{await u._remove(o)}catch{}})),new Ro(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $_(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(fC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(uC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(mC(e))return"Blackberry";if(gC(e))return"Webos";if(dC(e))return"Safari";if((e.includes("chrome/")||hC(e))&&!e.includes("edge/"))return"Chrome";if(pC(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function uC(t=Ut()){return/firefox\//i.test(t)}function dC(t=Ut()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function hC(t=Ut()){return/crios\//i.test(t)}function fC(t=Ut()){return/iemobile/i.test(t)}function pC(t=Ut()){return/android/i.test(t)}function mC(t=Ut()){return/blackberry/i.test(t)}function gC(t=Ut()){return/webos/i.test(t)}function Fy(t=Ut()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Vj(t=Ut()){var e;return Fy(t)&&!!((e=window.navigator)!=null&&e.standalone)}function jj(){return QV()&&document.documentMode===10}function yC(t=Ut()){return Fy(t)||pC(t)||gC(t)||mC(t)||/windows phone/i.test(t)||fC(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vC(t,e=[]){let n;switch(t){case"Browser":n=$_(Ut());break;case"Worker":n=`${$_(Ut())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${pa}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fj{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const c=e(i);o(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uj(t,e={}){return Qs(t,"GET","/v2/passwordPolicy",Gs(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $j=6;class Bj{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??$j,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zj{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new B_(this),this.idTokenSubscription=new B_(this),this.beforeStateQueue=new Fj(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=sC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Pr(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await Ro.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)==null?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await jd(this,{idToken:e}),r=await Fn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var i;if(dn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(i=this.redirectUser)==null?void 0:i._redirectEventId,a=r==null?void 0:r._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===a)&&(c!=null&&c.user)&&(r=c.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return oe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Fd(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Ej()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(dn(this.app))return Promise.reject(Nr(this));const n=e?pt(e):null;return n&&oe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&oe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return dn(this.app)?Promise.reject(Nr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return dn(this.app)?Promise.reject(Nr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Pr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Uj(this),n=new Bj(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new mc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Lj(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Pr(e)||this._popupRedirectResolver;oe(n,this,"argument-error"),this.redirectPersistenceManager=await Ro.create(this,[Pr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(oe(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,s);return()=>{o=!0,c()}}else{const c=e.addObserver(n);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=vC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(dn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&yj(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Ys(t){return pt(t)}class B_{constructor(e){this.auth=e,this.observer=null,this.addObserver=r4(n=>this.observer=n)}get next(){return oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Oh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Hj(t){Oh=t}function wC(t){return Oh.loadJS(t)}function Wj(){return Oh.recaptchaEnterpriseScript}function qj(){return Oh.gapiScript}function Kj(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class Gj{constructor(){this.enterprise=new Qj}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class Qj{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const Yj="recaptcha-enterprise",_C="NO_RECAPTCHA";class Xj{constructor(e){this.type=Yj,this.auth=Ys(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{Aj(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new bj(c);return i.tenantId==null?i._agentRecaptchaConfig=u:i._tenantRecaptchaConfigs[i.tenantId]=u,o(u.siteKey)}}).catch(c=>{a(c)})})}function s(i,o,a){const c=window.grecaptcha;V_(c)?c.enterprise.ready(()=>{c.enterprise.execute(i,{action:e}).then(u=>{o(u)}).catch(()=>{o(_C)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Gj().execute("siteKey",{action:"verify"}):new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&V_(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=Wj();c.length!==0&&(c+=a),wC(c).then(()=>{s(a,i,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function z_(t,e,n,r=!1,s=!1){const i=new Xj(t);let o;if(s)o=_C;else try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const a={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const c=a.phoneEnrollmentInfo.phoneNumber,u=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const c=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Vm(t,e,n,r,s){var i;if((i=t._getRecaptchaConfig())!=null&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await z_(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await z_(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jj(t,e){const n=Oy(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(ki(i,e??{}))return s;Pn(s,"already-initialized")}return n.initialize({options:e})}function Zj(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Pr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function eF(t,e,n){const r=Ys(t);oe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!!(n!=null&&n.disableWarnings),i=EC(e),{host:o,port:a}=tF(e),c=a===null?"":`:${a}`,u={url:`${i}//${o}${c}/`},h=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){oe(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),oe(ki(u,r.config.emulator)&&ki(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,fa(o)?(QI(`${i}//${o}${c}`),YI("Auth",!0)):nF()}function EC(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function tF(t){const e=EC(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:H_(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:H_(o)}}}function H_(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function nF(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uy{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ar("not implemented")}_getIdTokenResponse(e){return Ar("not implemented")}_linkToIdToken(e,n){return Ar("not implemented")}_getReauthenticationResolver(e){return Ar("not implemented")}}async function rF(t,e){return Qs(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sF(t,e){return vc(t,"POST","/v1/accounts:signInWithPassword",Gs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iF(t,e){return vc(t,"POST","/v1/accounts:signInWithEmailLink",Gs(t,e))}async function oF(t,e){return vc(t,"POST","/v1/accounts:signInWithEmailLink",Gs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql extends Uy{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new Ql(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Ql(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Vm(e,n,"signInWithPassword",sF);case"emailLink":return iF(e,{email:this._email,oobCode:this._password});default:Pn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Vm(e,r,"signUpPassword",rF);case"emailLink":return oF(e,{idToken:n,email:this._email,oobCode:this._password});default:Pn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function No(t,e){return vc(t,"POST","/v1/accounts:signInWithIdp",Gs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aF="http://localhost";class Oi extends Uy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Oi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Pn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...i}=n;if(!r||!s)return null;const o=new Oi(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return No(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,No(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,No(e,n)}buildRequest(){const e={requestUri:aF,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=gc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lF(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function cF(t){const e=el(tl(t)).link,n=e?el(tl(e)).deep_link_id:null,r=el(tl(t)).deep_link_id;return(r?el(tl(r)).link:null)||r||n||e||t}class $y{constructor(e){const n=el(tl(e)),r=n.apiKey??null,s=n.oobCode??null,i=lF(n.mode??null);oe(r&&s&&i,"argument-error"),this.apiKey=r,this.operation=i,this.code=s,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=cF(e);try{return new $y(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(){this.providerId=ma.PROVIDER_ID}static credential(e,n){return Ql._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=$y.parseLink(n);return oe(r,"argument-error"),Ql._fromEmailAndCode(e,r.code,r.tenantId)}}ma.PROVIDER_ID="password";ma.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ma.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class By{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc extends By{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os extends wc{constructor(){super("facebook.com")}static credential(e){return Oi._fromParams({providerId:os.PROVIDER_ID,signInMethod:os.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return os.credentialFromTaggedObject(e)}static credentialFromError(e){return os.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return os.credential(e.oauthAccessToken)}catch{return null}}}os.FACEBOOK_SIGN_IN_METHOD="facebook.com";os.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir extends wc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Oi._fromParams({providerId:Ir.PROVIDER_ID,signInMethod:Ir.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ir.credentialFromTaggedObject(e)}static credentialFromError(e){return Ir.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ir.credential(n,r)}catch{return null}}}Ir.GOOGLE_SIGN_IN_METHOD="google.com";Ir.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as extends wc{constructor(){super("github.com")}static credential(e){return Oi._fromParams({providerId:as.PROVIDER_ID,signInMethod:as.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return as.credentialFromTaggedObject(e)}static credentialFromError(e){return as.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return as.credential(e.oauthAccessToken)}catch{return null}}}as.GITHUB_SIGN_IN_METHOD="github.com";as.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls extends wc{constructor(){super("twitter.com")}static credential(e,n){return Oi._fromParams({providerId:ls.PROVIDER_ID,signInMethod:ls.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ls.credentialFromTaggedObject(e)}static credentialFromError(e){return ls.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ls.credential(n,r)}catch{return null}}}ls.TWITTER_SIGN_IN_METHOD="twitter.com";ls.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uF(t,e){return vc(t,"POST","/v1/accounts:signUp",Gs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await Fn._fromIdTokenResponse(e,r,s),o=W_(r);return new Mi({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=W_(r);return new Mi({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function W_(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ud extends zr{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Ud.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Ud(e,n,r,s)}}function xC(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Ud._fromErrorAndOperation(t,i,e,r):i})}async function dF(t,e,n=!1){const r=await Gl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Mi._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hF(t,e,n=!1){const{auth:r}=t;if(dn(r.app))return Promise.reject(Nr(r));const s="reauthenticate";try{const i=await Gl(t,xC(r,s,e,t),n);oe(i.idToken,r,"internal-error");const o=jy(i.idToken);oe(o,r,"internal-error");const{sub:a}=o;return oe(t.uid===a,r,"user-mismatch"),Mi._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Pn(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TC(t,e,n=!1){if(dn(t.app))return Promise.reject(Nr(t));const r="signIn",s=await xC(t,r,e),i=await Mi._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function fF(t,e){return TC(Ys(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SC(t){const e=Ys(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function pF(t,e,n){if(dn(t.app))return Promise.reject(Nr(t));const r=Ys(t),o=await Vm(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",uF).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&SC(t),c}),a=await Mi._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function mF(t,e,n){return dn(t.app)?Promise.reject(Nr(t)):fF(pt(t),ma.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&SC(t),r})}function gF(t,e,n,r){return pt(t).onIdTokenChanged(e,n,r)}function yF(t,e,n){return pt(t).beforeAuthStateChanged(e,n)}function vF(t,e,n,r){return pt(t).onAuthStateChanged(e,n,r)}function wF(t){return pt(t).signOut()}const $d="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IC{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem($d,"1"),this.storage.removeItem($d),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _F=1e3,EF=10;class CC extends IC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=yC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,c)=>{this.notifyListeners(o,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);jj()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,EF):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},_F)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}CC.type="LOCAL";const xF=CC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bC extends IC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}bC.type="SESSION";const AC=bC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TF(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new Mh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async u=>u(n.origin,i)),c=await TF(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Mh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zy(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SF{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,c)=>{const u=zy("",20);s.port1.start();const h=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(f){const d=f;if(d.data.eventId===u)switch(d.data.status){case"ack":clearTimeout(h),i=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(d.data.response);break;default:clearTimeout(h),clearTimeout(i),c(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lr(){return window}function IF(t){lr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PC(){return typeof lr().WorkerGlobalScope<"u"&&typeof lr().importScripts=="function"}async function CF(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function bF(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function AF(){return PC()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RC="firebaseLocalStorageDb",PF=1,Bd="firebaseLocalStorage",NC="fbase_key";class _c{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Lh(t,e){return t.transaction([Bd],e?"readwrite":"readonly").objectStore(Bd)}function RF(){const t=indexedDB.deleteDatabase(RC);return new _c(t).toPromise()}function jm(){const t=indexedDB.open(RC,PF);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Bd,{keyPath:NC})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Bd)?e(r):(r.close(),await RF(),e(await jm()))})})}async function q_(t,e,n){const r=Lh(t,!0).put({[NC]:e,value:n});return new _c(r).toPromise()}async function NF(t,e){const n=Lh(t,!1).get(e),r=await new _c(n).toPromise();return r===void 0?null:r.value}function K_(t,e){const n=Lh(t,!0).delete(e);return new _c(n).toPromise()}const kF=800,DF=3;class kC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await jm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>DF)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return PC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Mh._getInstance(AF()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await CF(),!this.activeServiceWorker)return;this.sender=new SF(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||bF()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await jm();return await q_(e,$d,"1"),await K_(e,$d),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>q_(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>NF(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>K_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=Lh(s,!1).getAll();return new _c(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),kF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}kC.type="LOCAL";const OF=kC;new yc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DC(t,e){return e?Pr(e):(oe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hy extends Uy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return No(e,this._buildIdpRequest())}_linkToIdToken(e,n){return No(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return No(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function MF(t){return TC(t.auth,new Hy(t),t.bypassAuthState)}function LF(t){const{auth:e,user:n}=t;return oe(n,e,"internal-error"),hF(n,new Hy(t),t.bypassAuthState)}async function VF(t){const{auth:e,user:n}=t;return oe(n,e,"internal-error"),dF(n,new Hy(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(c))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return MF;case"linkViaPopup":case"linkViaRedirect":return VF;case"reauthViaPopup":case"reauthViaRedirect":return LF;default:Pn(this.auth,"internal-error")}}resolve(e){Fr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Fr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jF=new yc(2e3,1e4);async function FF(t,e,n){if(dn(t.app))return Promise.reject(Bn(t,"operation-not-supported-in-this-environment"));const r=Ys(t);vj(t,e,By);const s=DC(r,n);return new pi(r,"signInViaPopup",e,s).executeNotNull()}class pi extends OC{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,pi.currentPopupAction&&pi.currentPopupAction.cancel(),pi.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return oe(e,this.auth,"internal-error"),e}async onExecution(){Fr(this.filter.length===1,"Popup operations only handle one event");const e=zy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Bn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Bn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,pi.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Bn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,jF.get())};e()}}pi.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UF="pendingRedirect",Qu=new Map;class $F extends OC{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Qu.get(this.auth._key());if(!e){try{const r=await BF(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Qu.set(this.auth._key(),e)}return this.bypassAuthState||Qu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function BF(t,e){const n=WF(e),r=HF(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function zF(t,e){Qu.set(t._key(),e)}function HF(t){return Pr(t._redirectPersistence)}function WF(t){return Gu(UF,t.config.apiKey,t.name)}async function qF(t,e,n=!1){if(dn(t.app))return Promise.reject(Nr(t));const r=Ys(t),s=DC(r,e),o=await new $F(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KF=10*60*1e3;class GF{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!QF(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!MC(e)){const s=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(Bn(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=KF&&this.cachedEventUids.clear(),this.cachedEventUids.has(G_(e))}saveEventToCache(e){this.cachedEventUids.add(G_(e)),this.lastProcessedEventTime=Date.now()}}function G_(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function MC({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function QF(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return MC(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YF(t,e={}){return Qs(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XF=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,JF=/^https?/;async function ZF(t){if(t.config.emulator)return;const{authorizedDomains:e}=await YF(t);for(const n of e)try{if(e3(n))return}catch{}Pn(t,"unauthorized-domain")}function e3(t){const e=Mm(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!JF.test(n))return!1;if(XF.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t3=new yc(3e4,6e4);function Q_(){const t=lr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function n3(t){return new Promise((e,n)=>{var s,i,o;function r(){Q_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Q_(),n(Bn(t,"network-request-failed"))},timeout:t3.get()})}if((i=(s=lr().gapi)==null?void 0:s.iframes)!=null&&i.Iframe)e(gapi.iframes.getContext());else if((o=lr().gapi)!=null&&o.load)r();else{const a=Kj("iframefcb");return lr()[a]=()=>{gapi.load?r():n(Bn(t,"network-request-failed"))},wC(`${qj()}?onload=${a}`).catch(c=>n(c))}}).catch(e=>{throw Yu=null,e})}let Yu=null;function r3(t){return Yu=Yu||n3(t),Yu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s3=new yc(5e3,15e3),i3="__/auth/iframe",o3="emulator/auth/iframe",a3={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},l3=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function c3(t){const e=t.config;oe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Vy(e,o3):`https://${t.config.authDomain}/${i3}`,r={apiKey:e.apiKey,appName:t.name,v:pa},s=l3.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${gc(r).slice(1)}`}async function u3(t){const e=await r3(t),n=lr().gapi;return oe(n,t,"internal-error"),e.open({where:document.body,url:c3(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:a3,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=Bn(t,"network-request-failed"),a=lr().setTimeout(()=>{i(o)},s3.get());function c(){lr().clearTimeout(a),s(r)}r.ping(c).then(c,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d3={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},h3=500,f3=600,p3="_blank",m3="http://localhost";class Y_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function g3(t,e,n,r=h3,s=f3){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const c={...d3,width:r.toString(),height:s.toString(),top:i,left:o},u=Ut().toLowerCase();n&&(a=hC(u)?p3:n),uC(u)&&(e=e||m3,c.scrollbars="yes");const h=Object.entries(c).reduce((d,[y,x])=>`${d}${y}=${x},`,"");if(Vj(u)&&a!=="_self")return y3(e||"",a),new Y_(null);const f=window.open(e||"",a,h);oe(f,t,"popup-blocked");try{f.focus()}catch{}return new Y_(f)}function y3(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v3="__/auth/handler",w3="emulator/auth/handler",_3=encodeURIComponent("fac");async function X_(t,e,n,r,s,i){oe(t.config.authDomain,t,"auth-domain-config-required"),oe(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:pa,eventId:s};if(e instanceof By){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",n4(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,f]of Object.entries({}))o[h]=f}if(e instanceof wc){const h=e.getScopes().filter(f=>f!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const c=await t._getAppCheckToken(),u=c?`#${_3}=${encodeURIComponent(c)}`:"";return`${E3(t)}?${gc(a).slice(1)}${u}`}function E3({config:t}){return t.emulator?Vy(t,w3):`https://${t.authDomain}/${v3}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fp="webStorageSupport";class x3{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=AC,this._completeRedirectFn=qF,this._overrideRedirectResult=zF}async _openPopup(e,n,r,s){var o;Fr((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const i=await X_(e,n,r,Mm(),s);return g3(e,i,zy())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await X_(e,n,r,Mm(),s);return IF(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(Fr(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await u3(e),r=new GF(e);return n.register("authEvent",s=>(oe(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(fp,{type:fp},s=>{var o;const i=(o=s==null?void 0:s[0])==null?void 0:o[fp];i!==void 0&&n(!!i),Pn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=ZF(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return yC()||dC()||Fy()}}const T3=x3;var J_="@firebase/auth",Z_="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S3{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I3(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function C3(t){Zo(new Di("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;oe(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:vC(t)},u=new zj(r,s,i,c);return Zj(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Zo(new Di("auth-internal",e=>{const n=Ys(e.getProvider("auth").getImmediate());return(r=>new S3(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ps(J_,Z_,I3(t)),Ps(J_,Z_,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b3=5*60,A3=GI("authIdTokenMaxAge")||b3;let eE=null;const P3=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>A3)return;const s=n==null?void 0:n.token;eE!==s&&(eE=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function R3(t=eC()){const e=Oy(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Jj(t,{popupRedirectResolver:T3,persistence:[OF,xF,AC]}),r=GI("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=P3(i.toString());yF(n,o,()=>o(n.currentUser)),gF(n,a=>o(a))}}const s=qI("auth");return s&&eF(n,`http://${s}`),n}function N3(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}Hj({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=Bn("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",N3().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});C3("Browser");var tE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Rs,LC;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,I){function A(){}A.prototype=I.prototype,C.D=I.prototype,C.prototype=new A,C.prototype.constructor=C,C.C=function(R,k,D){for(var P=Array(arguments.length-2),B=2;B<arguments.length;B++)P[B-2]=arguments[B];return I.prototype[k].apply(R,P)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(C,I,A){A||(A=0);var R=Array(16);if(typeof I=="string")for(var k=0;16>k;++k)R[k]=I.charCodeAt(A++)|I.charCodeAt(A++)<<8|I.charCodeAt(A++)<<16|I.charCodeAt(A++)<<24;else for(k=0;16>k;++k)R[k]=I[A++]|I[A++]<<8|I[A++]<<16|I[A++]<<24;I=C.g[0],A=C.g[1],k=C.g[2];var D=C.g[3],P=I+(D^A&(k^D))+R[0]+3614090360&4294967295;I=A+(P<<7&4294967295|P>>>25),P=D+(k^I&(A^k))+R[1]+3905402710&4294967295,D=I+(P<<12&4294967295|P>>>20),P=k+(A^D&(I^A))+R[2]+606105819&4294967295,k=D+(P<<17&4294967295|P>>>15),P=A+(I^k&(D^I))+R[3]+3250441966&4294967295,A=k+(P<<22&4294967295|P>>>10),P=I+(D^A&(k^D))+R[4]+4118548399&4294967295,I=A+(P<<7&4294967295|P>>>25),P=D+(k^I&(A^k))+R[5]+1200080426&4294967295,D=I+(P<<12&4294967295|P>>>20),P=k+(A^D&(I^A))+R[6]+2821735955&4294967295,k=D+(P<<17&4294967295|P>>>15),P=A+(I^k&(D^I))+R[7]+4249261313&4294967295,A=k+(P<<22&4294967295|P>>>10),P=I+(D^A&(k^D))+R[8]+1770035416&4294967295,I=A+(P<<7&4294967295|P>>>25),P=D+(k^I&(A^k))+R[9]+2336552879&4294967295,D=I+(P<<12&4294967295|P>>>20),P=k+(A^D&(I^A))+R[10]+4294925233&4294967295,k=D+(P<<17&4294967295|P>>>15),P=A+(I^k&(D^I))+R[11]+2304563134&4294967295,A=k+(P<<22&4294967295|P>>>10),P=I+(D^A&(k^D))+R[12]+1804603682&4294967295,I=A+(P<<7&4294967295|P>>>25),P=D+(k^I&(A^k))+R[13]+4254626195&4294967295,D=I+(P<<12&4294967295|P>>>20),P=k+(A^D&(I^A))+R[14]+2792965006&4294967295,k=D+(P<<17&4294967295|P>>>15),P=A+(I^k&(D^I))+R[15]+1236535329&4294967295,A=k+(P<<22&4294967295|P>>>10),P=I+(k^D&(A^k))+R[1]+4129170786&4294967295,I=A+(P<<5&4294967295|P>>>27),P=D+(A^k&(I^A))+R[6]+3225465664&4294967295,D=I+(P<<9&4294967295|P>>>23),P=k+(I^A&(D^I))+R[11]+643717713&4294967295,k=D+(P<<14&4294967295|P>>>18),P=A+(D^I&(k^D))+R[0]+3921069994&4294967295,A=k+(P<<20&4294967295|P>>>12),P=I+(k^D&(A^k))+R[5]+3593408605&4294967295,I=A+(P<<5&4294967295|P>>>27),P=D+(A^k&(I^A))+R[10]+38016083&4294967295,D=I+(P<<9&4294967295|P>>>23),P=k+(I^A&(D^I))+R[15]+3634488961&4294967295,k=D+(P<<14&4294967295|P>>>18),P=A+(D^I&(k^D))+R[4]+3889429448&4294967295,A=k+(P<<20&4294967295|P>>>12),P=I+(k^D&(A^k))+R[9]+568446438&4294967295,I=A+(P<<5&4294967295|P>>>27),P=D+(A^k&(I^A))+R[14]+3275163606&4294967295,D=I+(P<<9&4294967295|P>>>23),P=k+(I^A&(D^I))+R[3]+4107603335&4294967295,k=D+(P<<14&4294967295|P>>>18),P=A+(D^I&(k^D))+R[8]+1163531501&4294967295,A=k+(P<<20&4294967295|P>>>12),P=I+(k^D&(A^k))+R[13]+2850285829&4294967295,I=A+(P<<5&4294967295|P>>>27),P=D+(A^k&(I^A))+R[2]+4243563512&4294967295,D=I+(P<<9&4294967295|P>>>23),P=k+(I^A&(D^I))+R[7]+1735328473&4294967295,k=D+(P<<14&4294967295|P>>>18),P=A+(D^I&(k^D))+R[12]+2368359562&4294967295,A=k+(P<<20&4294967295|P>>>12),P=I+(A^k^D)+R[5]+4294588738&4294967295,I=A+(P<<4&4294967295|P>>>28),P=D+(I^A^k)+R[8]+2272392833&4294967295,D=I+(P<<11&4294967295|P>>>21),P=k+(D^I^A)+R[11]+1839030562&4294967295,k=D+(P<<16&4294967295|P>>>16),P=A+(k^D^I)+R[14]+4259657740&4294967295,A=k+(P<<23&4294967295|P>>>9),P=I+(A^k^D)+R[1]+2763975236&4294967295,I=A+(P<<4&4294967295|P>>>28),P=D+(I^A^k)+R[4]+1272893353&4294967295,D=I+(P<<11&4294967295|P>>>21),P=k+(D^I^A)+R[7]+4139469664&4294967295,k=D+(P<<16&4294967295|P>>>16),P=A+(k^D^I)+R[10]+3200236656&4294967295,A=k+(P<<23&4294967295|P>>>9),P=I+(A^k^D)+R[13]+681279174&4294967295,I=A+(P<<4&4294967295|P>>>28),P=D+(I^A^k)+R[0]+3936430074&4294967295,D=I+(P<<11&4294967295|P>>>21),P=k+(D^I^A)+R[3]+3572445317&4294967295,k=D+(P<<16&4294967295|P>>>16),P=A+(k^D^I)+R[6]+76029189&4294967295,A=k+(P<<23&4294967295|P>>>9),P=I+(A^k^D)+R[9]+3654602809&4294967295,I=A+(P<<4&4294967295|P>>>28),P=D+(I^A^k)+R[12]+3873151461&4294967295,D=I+(P<<11&4294967295|P>>>21),P=k+(D^I^A)+R[15]+530742520&4294967295,k=D+(P<<16&4294967295|P>>>16),P=A+(k^D^I)+R[2]+3299628645&4294967295,A=k+(P<<23&4294967295|P>>>9),P=I+(k^(A|~D))+R[0]+4096336452&4294967295,I=A+(P<<6&4294967295|P>>>26),P=D+(A^(I|~k))+R[7]+1126891415&4294967295,D=I+(P<<10&4294967295|P>>>22),P=k+(I^(D|~A))+R[14]+2878612391&4294967295,k=D+(P<<15&4294967295|P>>>17),P=A+(D^(k|~I))+R[5]+4237533241&4294967295,A=k+(P<<21&4294967295|P>>>11),P=I+(k^(A|~D))+R[12]+1700485571&4294967295,I=A+(P<<6&4294967295|P>>>26),P=D+(A^(I|~k))+R[3]+2399980690&4294967295,D=I+(P<<10&4294967295|P>>>22),P=k+(I^(D|~A))+R[10]+4293915773&4294967295,k=D+(P<<15&4294967295|P>>>17),P=A+(D^(k|~I))+R[1]+2240044497&4294967295,A=k+(P<<21&4294967295|P>>>11),P=I+(k^(A|~D))+R[8]+1873313359&4294967295,I=A+(P<<6&4294967295|P>>>26),P=D+(A^(I|~k))+R[15]+4264355552&4294967295,D=I+(P<<10&4294967295|P>>>22),P=k+(I^(D|~A))+R[6]+2734768916&4294967295,k=D+(P<<15&4294967295|P>>>17),P=A+(D^(k|~I))+R[13]+1309151649&4294967295,A=k+(P<<21&4294967295|P>>>11),P=I+(k^(A|~D))+R[4]+4149444226&4294967295,I=A+(P<<6&4294967295|P>>>26),P=D+(A^(I|~k))+R[11]+3174756917&4294967295,D=I+(P<<10&4294967295|P>>>22),P=k+(I^(D|~A))+R[2]+718787259&4294967295,k=D+(P<<15&4294967295|P>>>17),P=A+(D^(k|~I))+R[9]+3951481745&4294967295,C.g[0]=C.g[0]+I&4294967295,C.g[1]=C.g[1]+(k+(P<<21&4294967295|P>>>11))&4294967295,C.g[2]=C.g[2]+k&4294967295,C.g[3]=C.g[3]+D&4294967295}r.prototype.u=function(C,I){I===void 0&&(I=C.length);for(var A=I-this.blockSize,R=this.B,k=this.h,D=0;D<I;){if(k==0)for(;D<=A;)s(this,C,D),D+=this.blockSize;if(typeof C=="string"){for(;D<I;)if(R[k++]=C.charCodeAt(D++),k==this.blockSize){s(this,R),k=0;break}}else for(;D<I;)if(R[k++]=C[D++],k==this.blockSize){s(this,R),k=0;break}}this.h=k,this.o+=I},r.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var I=1;I<C.length-8;++I)C[I]=0;var A=8*this.o;for(I=C.length-8;I<C.length;++I)C[I]=A&255,A/=256;for(this.u(C),C=Array(16),I=A=0;4>I;++I)for(var R=0;32>R;R+=8)C[A++]=this.g[I]>>>R&255;return C};function i(C,I){var A=a;return Object.prototype.hasOwnProperty.call(A,C)?A[C]:A[C]=I(C)}function o(C,I){this.h=I;for(var A=[],R=!0,k=C.length-1;0<=k;k--){var D=C[k]|0;R&&D==I||(A[k]=D,R=!1)}this.g=A}var a={};function c(C){return-128<=C&&128>C?i(C,function(I){return new o([I|0],0>I?-1:0)}):new o([C|0],0>C?-1:0)}function u(C){if(isNaN(C)||!isFinite(C))return f;if(0>C)return T(u(-C));for(var I=[],A=1,R=0;C>=A;R++)I[R]=C/A|0,A*=4294967296;return new o(I,0)}function h(C,I){if(C.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(C.charAt(0)=="-")return T(h(C.substring(1),I));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=u(Math.pow(I,8)),R=f,k=0;k<C.length;k+=8){var D=Math.min(8,C.length-k),P=parseInt(C.substring(k,k+D),I);8>D?(D=u(Math.pow(I,D)),R=R.j(D).add(u(P))):(R=R.j(A),R=R.add(u(P)))}return R}var f=c(0),d=c(1),y=c(16777216);t=o.prototype,t.m=function(){if(g(this))return-T(this).m();for(var C=0,I=1,A=0;A<this.g.length;A++){var R=this.i(A);C+=(0<=R?R:4294967296+R)*I,I*=4294967296}return C},t.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(x(this))return"0";if(g(this))return"-"+T(this).toString(C);for(var I=u(Math.pow(C,6)),A=this,R="";;){var k=N(A,I).g;A=E(A,k.j(I));var D=((0<A.g.length?A.g[0]:A.h)>>>0).toString(C);if(A=k,x(A))return D+R;for(;6>D.length;)D="0"+D;R=D+R}},t.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function x(C){if(C.h!=0)return!1;for(var I=0;I<C.g.length;I++)if(C.g[I]!=0)return!1;return!0}function g(C){return C.h==-1}t.l=function(C){return C=E(this,C),g(C)?-1:x(C)?0:1};function T(C){for(var I=C.g.length,A=[],R=0;R<I;R++)A[R]=~C.g[R];return new o(A,~C.h).add(d)}t.abs=function(){return g(this)?T(this):this},t.add=function(C){for(var I=Math.max(this.g.length,C.g.length),A=[],R=0,k=0;k<=I;k++){var D=R+(this.i(k)&65535)+(C.i(k)&65535),P=(D>>>16)+(this.i(k)>>>16)+(C.i(k)>>>16);R=P>>>16,D&=65535,P&=65535,A[k]=P<<16|D}return new o(A,A[A.length-1]&-2147483648?-1:0)};function E(C,I){return C.add(T(I))}t.j=function(C){if(x(this)||x(C))return f;if(g(this))return g(C)?T(this).j(T(C)):T(T(this).j(C));if(g(C))return T(this.j(T(C)));if(0>this.l(y)&&0>C.l(y))return u(this.m()*C.m());for(var I=this.g.length+C.g.length,A=[],R=0;R<2*I;R++)A[R]=0;for(R=0;R<this.g.length;R++)for(var k=0;k<C.g.length;k++){var D=this.i(R)>>>16,P=this.i(R)&65535,B=C.i(k)>>>16,G=C.i(k)&65535;A[2*R+2*k]+=P*G,_(A,2*R+2*k),A[2*R+2*k+1]+=D*G,_(A,2*R+2*k+1),A[2*R+2*k+1]+=P*B,_(A,2*R+2*k+1),A[2*R+2*k+2]+=D*B,_(A,2*R+2*k+2)}for(R=0;R<I;R++)A[R]=A[2*R+1]<<16|A[2*R];for(R=I;R<2*I;R++)A[R]=0;return new o(A,0)};function _(C,I){for(;(C[I]&65535)!=C[I];)C[I+1]+=C[I]>>>16,C[I]&=65535,I++}function S(C,I){this.g=C,this.h=I}function N(C,I){if(x(I))throw Error("division by zero");if(x(C))return new S(f,f);if(g(C))return I=N(T(C),I),new S(T(I.g),T(I.h));if(g(I))return I=N(C,T(I)),new S(T(I.g),I.h);if(30<C.g.length){if(g(C)||g(I))throw Error("slowDivide_ only works with positive integers.");for(var A=d,R=I;0>=R.l(C);)A=O(A),R=O(R);var k=L(A,1),D=L(R,1);for(R=L(R,2),A=L(A,2);!x(R);){var P=D.add(R);0>=P.l(C)&&(k=k.add(A),D=P),R=L(R,1),A=L(A,1)}return I=E(C,k.j(I)),new S(k,I)}for(k=f;0<=C.l(I);){for(A=Math.max(1,Math.floor(C.m()/I.m())),R=Math.ceil(Math.log(A)/Math.LN2),R=48>=R?1:Math.pow(2,R-48),D=u(A),P=D.j(I);g(P)||0<P.l(C);)A-=R,D=u(A),P=D.j(I);x(D)&&(D=d),k=k.add(D),C=E(C,P)}return new S(k,C)}t.A=function(C){return N(this,C).h},t.and=function(C){for(var I=Math.max(this.g.length,C.g.length),A=[],R=0;R<I;R++)A[R]=this.i(R)&C.i(R);return new o(A,this.h&C.h)},t.or=function(C){for(var I=Math.max(this.g.length,C.g.length),A=[],R=0;R<I;R++)A[R]=this.i(R)|C.i(R);return new o(A,this.h|C.h)},t.xor=function(C){for(var I=Math.max(this.g.length,C.g.length),A=[],R=0;R<I;R++)A[R]=this.i(R)^C.i(R);return new o(A,this.h^C.h)};function O(C){for(var I=C.g.length+1,A=[],R=0;R<I;R++)A[R]=C.i(R)<<1|C.i(R-1)>>>31;return new o(A,C.h)}function L(C,I){var A=I>>5;I%=32;for(var R=C.g.length-A,k=[],D=0;D<R;D++)k[D]=0<I?C.i(D+A)>>>I|C.i(D+A+1)<<32-I:C.i(D+A);return new o(k,C.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,LC=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=h,Rs=o}).apply(typeof tE<"u"?tE:typeof self<"u"?self:typeof window<"u"?window:{});var Eu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var VC,nl,jC,Xu,Fm,FC,UC,$C;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,p,v){return l==Array.prototype||l==Object.prototype||(l[p]=v.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof Eu=="object"&&Eu];for(var p=0;p<l.length;++p){var v=l[p];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=n(this);function s(l,p){if(p)e:{var v=r;l=l.split(".");for(var b=0;b<l.length-1;b++){var M=l[b];if(!(M in v))break e;v=v[M]}l=l[l.length-1],b=v[l],p=p(b),p!=b&&p!=null&&e(v,l,{configurable:!0,writable:!0,value:p})}}function i(l,p){l instanceof String&&(l+="");var v=0,b=!1,M={next:function(){if(!b&&v<l.length){var j=v++;return{value:p(j,l[j]),done:!1}}return b=!0,{done:!0,value:void 0}}};return M[Symbol.iterator]=function(){return M},M}s("Array.prototype.values",function(l){return l||function(){return i(this,function(p,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function c(l){var p=typeof l;return p=p!="object"?p:l?Array.isArray(l)?"array":p:"null",p=="array"||p=="object"&&typeof l.length=="number"}function u(l){var p=typeof l;return p=="object"&&l!=null||p=="function"}function h(l,p,v){return l.call.apply(l.bind,arguments)}function f(l,p,v){if(!l)throw Error();if(2<arguments.length){var b=Array.prototype.slice.call(arguments,2);return function(){var M=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(M,b),l.apply(p,M)}}return function(){return l.apply(p,arguments)}}function d(l,p,v){return d=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:f,d.apply(null,arguments)}function y(l,p){var v=Array.prototype.slice.call(arguments,1);return function(){var b=v.slice();return b.push.apply(b,arguments),l.apply(this,b)}}function x(l,p){function v(){}v.prototype=p.prototype,l.aa=p.prototype,l.prototype=new v,l.prototype.constructor=l,l.Qb=function(b,M,j){for(var q=Array(arguments.length-2),Oe=2;Oe<arguments.length;Oe++)q[Oe-2]=arguments[Oe];return p.prototype[M].apply(b,q)}}function g(l){const p=l.length;if(0<p){const v=Array(p);for(let b=0;b<p;b++)v[b]=l[b];return v}return[]}function T(l,p){for(let v=1;v<arguments.length;v++){const b=arguments[v];if(c(b)){const M=l.length||0,j=b.length||0;l.length=M+j;for(let q=0;q<j;q++)l[M+q]=b[q]}else l.push(b)}}class E{constructor(p,v){this.i=p,this.j=v,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function _(l){return/^[\s\xa0]*$/.test(l)}function S(){var l=a.navigator;return l&&(l=l.userAgent)?l:""}function N(l){return N[" "](l),l}N[" "]=function(){};var O=S().indexOf("Gecko")!=-1&&!(S().toLowerCase().indexOf("webkit")!=-1&&S().indexOf("Edge")==-1)&&!(S().indexOf("Trident")!=-1||S().indexOf("MSIE")!=-1)&&S().indexOf("Edge")==-1;function L(l,p,v){for(const b in l)p.call(v,l[b],b,l)}function C(l,p){for(const v in l)p.call(void 0,l[v],v,l)}function I(l){const p={};for(const v in l)p[v]=l[v];return p}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(l,p){let v,b;for(let M=1;M<arguments.length;M++){b=arguments[M];for(v in b)l[v]=b[v];for(let j=0;j<A.length;j++)v=A[j],Object.prototype.hasOwnProperty.call(b,v)&&(l[v]=b[v])}}function k(l){var p=1;l=l.split(":");const v=[];for(;0<p&&l.length;)v.push(l.shift()),p--;return l.length&&v.push(l.join(":")),v}function D(l){a.setTimeout(()=>{throw l},0)}function P(){var l=z;let p=null;return l.g&&(p=l.g,l.g=l.g.next,l.g||(l.h=null),p.next=null),p}class B{constructor(){this.h=this.g=null}add(p,v){const b=G.get();b.set(p,v),this.h?this.h.next=b:this.g=b,this.h=b}}var G=new E(()=>new K,l=>l.reset());class K{constructor(){this.next=this.g=this.h=null}set(p,v){this.h=p,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let te,V=!1,z=new B,Z=()=>{const l=a.Promise.resolve(void 0);te=()=>{l.then(Q)}};var Q=()=>{for(var l;l=P();){try{l.h.call(l.g)}catch(v){D(v)}var p=G;p.j(l),100>p.h&&(p.h++,l.next=p.g,p.g=l)}V=!1};function ee(){this.s=this.s,this.C=this.C}ee.prototype.s=!1,ee.prototype.ma=function(){this.s||(this.s=!0,this.N())},ee.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function re(l,p){this.type=l,this.g=this.target=p,this.defaultPrevented=!1}re.prototype.h=function(){this.defaultPrevented=!0};var Ce=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var l=!1,p=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const v=()=>{};a.addEventListener("test",v,p),a.removeEventListener("test",v,p)}catch{}return l}();function Be(l,p){if(re.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var v=this.type=l.type,b=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=p,p=l.relatedTarget){if(O){e:{try{N(p.nodeName);var M=!0;break e}catch{}M=!1}M||(p=null)}}else v=="mouseover"?p=l.fromElement:v=="mouseout"&&(p=l.toElement);this.relatedTarget=p,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:me[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&Be.aa.h.call(this)}}x(Be,re);var me={2:"touch",3:"pen",4:"mouse"};Be.prototype.h=function(){Be.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var ne="closure_listenable_"+(1e6*Math.random()|0),Se=0;function ze(l,p,v,b,M){this.listener=l,this.proxy=null,this.src=p,this.type=v,this.capture=!!b,this.ha=M,this.key=++Se,this.da=this.fa=!1}function ge(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function xe(l){this.src=l,this.g={},this.h=0}xe.prototype.add=function(l,p,v,b,M){var j=l.toString();l=this.g[j],l||(l=this.g[j]=[],this.h++);var q=ut(l,p,b,M);return-1<q?(p=l[q],v||(p.fa=!1)):(p=new ze(p,this.src,j,!!b,M),p.fa=v,l.push(p)),p};function ve(l,p){var v=p.type;if(v in l.g){var b=l.g[v],M=Array.prototype.indexOf.call(b,p,void 0),j;(j=0<=M)&&Array.prototype.splice.call(b,M,1),j&&(ge(p),l.g[v].length==0&&(delete l.g[v],l.h--))}}function ut(l,p,v,b){for(var M=0;M<l.length;++M){var j=l[M];if(!j.da&&j.listener==p&&j.capture==!!v&&j.ha==b)return M}return-1}var vt="closure_lm_"+(1e6*Math.random()|0),wn={};function $t(l,p,v,b,M){if(Array.isArray(p)){for(var j=0;j<p.length;j++)$t(l,p[j],v,b,M);return null}return v=Sa(v),l&&l[ne]?l.K(p,v,u(b)?!!b.capture:!!b,M):gr(l,p,v,!1,b,M)}function gr(l,p,v,b,M,j){if(!p)throw Error("Invalid event type");var q=u(M)?!!M.capture:!!M,Oe=Hr(l);if(Oe||(l[vt]=Oe=new xe(l)),v=Oe.add(p,v,b,q,j),v.proxy)return v;if(b=xa(),v.proxy=b,b.src=l,b.listener=v,l.addEventListener)Ce||(M=q),M===void 0&&(M=!1),l.addEventListener(p.toString(),b,M);else if(l.attachEvent)l.attachEvent(Pc(p.toString()),b);else if(l.addListener&&l.removeListener)l.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return v}function xa(){function l(v){return p.call(l.src,l.listener,v)}const p=rf;return l}function rt(l,p,v,b,M){if(Array.isArray(p))for(var j=0;j<p.length;j++)rt(l,p[j],v,b,M);else b=u(b)?!!b.capture:!!b,v=Sa(v),l&&l[ne]?(l=l.i,p=String(p).toString(),p in l.g&&(j=l.g[p],v=ut(j,v,b,M),-1<v&&(ge(j[v]),Array.prototype.splice.call(j,v,1),j.length==0&&(delete l.g[p],l.h--)))):l&&(l=Hr(l))&&(p=l.g[p.toString()],l=-1,p&&(l=ut(p,v,b,M)),(v=-1<l?p[l]:null)&&Qn(v))}function Qn(l){if(typeof l!="number"&&l&&!l.da){var p=l.src;if(p&&p[ne])ve(p.i,l);else{var v=l.type,b=l.proxy;p.removeEventListener?p.removeEventListener(v,b,l.capture):p.detachEvent?p.detachEvent(Pc(v),b):p.addListener&&p.removeListener&&p.removeListener(b),(v=Hr(p))?(ve(v,l),v.h==0&&(v.src=null,p[vt]=null)):ge(l)}}}function Pc(l){return l in wn?wn[l]:wn[l]="on"+l}function rf(l,p){if(l.da)l=!0;else{p=new Be(p,this);var v=l.listener,b=l.ha||l.src;l.fa&&Qn(l),l=v.call(b,p)}return l}function Hr(l){return l=l[vt],l instanceof xe?l:null}var Ta="__closure_events_fn_"+(1e9*Math.random()>>>0);function Sa(l){return typeof l=="function"?l:(l[Ta]||(l[Ta]=function(p){return l.handleEvent(p)}),l[Ta])}function st(){ee.call(this),this.i=new xe(this),this.M=this,this.F=null}x(st,ee),st.prototype[ne]=!0,st.prototype.removeEventListener=function(l,p,v,b){rt(this,l,p,v,b)};function Qe(l,p){var v,b=l.F;if(b)for(v=[];b;b=b.F)v.push(b);if(l=l.M,b=p.type||p,typeof p=="string")p=new re(p,l);else if(p instanceof re)p.target=p.target||l;else{var M=p;p=new re(b,l),R(p,M)}if(M=!0,v)for(var j=v.length-1;0<=j;j--){var q=p.g=v[j];M=ti(q,b,!0,p)&&M}if(q=p.g=l,M=ti(q,b,!0,p)&&M,M=ti(q,b,!1,p)&&M,v)for(j=0;j<v.length;j++)q=p.g=v[j],M=ti(q,b,!1,p)&&M}st.prototype.N=function(){if(st.aa.N.call(this),this.i){var l=this.i,p;for(p in l.g){for(var v=l.g[p],b=0;b<v.length;b++)ge(v[b]);delete l.g[p],l.h--}}this.F=null},st.prototype.K=function(l,p,v,b){return this.i.add(String(l),p,!1,v,b)},st.prototype.L=function(l,p,v,b){return this.i.add(String(l),p,!0,v,b)};function ti(l,p,v,b){if(p=l.i.g[String(p)],!p)return!0;p=p.concat();for(var M=!0,j=0;j<p.length;++j){var q=p[j];if(q&&!q.da&&q.capture==v){var Oe=q.listener,wt=q.ha||q.src;q.fa&&ve(l.i,q),M=Oe.call(wt,b)!==!1&&M}}return M&&!b.defaultPrevented}function yr(l,p,v){if(typeof l=="function")v&&(l=d(l,v));else if(l&&typeof l.handleEvent=="function")l=d(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:a.setTimeout(l,p||0)}function Ia(l){l.g=yr(()=>{l.g=null,l.i&&(l.i=!1,Ia(l))},l.l);const p=l.h;l.h=null,l.m.apply(null,p)}class sf extends ee{constructor(p,v){super(),this.m=p,this.l=v,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:Ia(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Wr(l){ee.call(this),this.h=l,this.g={}}x(Wr,ee);var Ca=[];function Rc(l){L(l.g,function(p,v){this.g.hasOwnProperty(v)&&Qn(p)},l),l.g={}}Wr.prototype.N=function(){Wr.aa.N.call(this),Rc(this)},Wr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ni=a.JSON.stringify,Yn=a.JSON.parse,of=class{stringify(l){return a.JSON.stringify(l,void 0)}parse(l){return a.JSON.parse(l,void 0)}};function le(){}le.prototype.h=null;function ke(l){return l.h||(l.h=l.i())}function Re(){}var Ct={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Qt(){re.call(this,"d")}x(Qt,re);function qr(){re.call(this,"c")}x(qr,re);var vr={},Rv=null;function Nc(){return Rv=Rv||new st}vr.La="serverreachability";function Nv(l){re.call(this,vr.La,l)}x(Nv,re);function ba(l){const p=Nc();Qe(p,new Nv(p))}vr.STAT_EVENT="statevent";function kv(l,p){re.call(this,vr.STAT_EVENT,l),this.stat=p}x(kv,re);function Bt(l){const p=Nc();Qe(p,new kv(p,l))}vr.Ma="timingevent";function Dv(l,p){re.call(this,vr.Ma,l),this.size=p}x(Dv,re);function Aa(l,p){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){l()},p)}function Pa(){this.g=!0}Pa.prototype.xa=function(){this.g=!1};function _P(l,p,v,b,M,j){l.info(function(){if(l.g)if(j)for(var q="",Oe=j.split("&"),wt=0;wt<Oe.length;wt++){var be=Oe[wt].split("=");if(1<be.length){var bt=be[0];be=be[1];var At=bt.split("_");q=2<=At.length&&At[1]=="type"?q+(bt+"="+be+"&"):q+(bt+"=redacted&")}}else q=null;else q=j;return"XMLHTTP REQ ("+b+") [attempt "+M+"]: "+p+`
`+v+`
`+q})}function EP(l,p,v,b,M,j,q){l.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+M+"]: "+p+`
`+v+`
`+j+" "+q})}function Wi(l,p,v,b){l.info(function(){return"XMLHTTP TEXT ("+p+"): "+TP(l,v)+(b?" "+b:"")})}function xP(l,p){l.info(function(){return"TIMEOUT: "+p})}Pa.prototype.info=function(){};function TP(l,p){if(!l.g)return p;if(!p)return null;try{var v=JSON.parse(p);if(v){for(l=0;l<v.length;l++)if(Array.isArray(v[l])){var b=v[l];if(!(2>b.length)){var M=b[1];if(Array.isArray(M)&&!(1>M.length)){var j=M[0];if(j!="noop"&&j!="stop"&&j!="close")for(var q=1;q<M.length;q++)M[q]=""}}}}return ni(v)}catch{return p}}var kc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ov={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},af;function Dc(){}x(Dc,le),Dc.prototype.g=function(){return new XMLHttpRequest},Dc.prototype.i=function(){return{}},af=new Dc;function Kr(l,p,v,b){this.j=l,this.i=p,this.l=v,this.R=b||1,this.U=new Wr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Mv}function Mv(){this.i=null,this.g="",this.h=!1}var Lv={},lf={};function cf(l,p,v){l.L=1,l.v=Vc(wr(p)),l.m=v,l.P=!0,Vv(l,null)}function Vv(l,p){l.F=Date.now(),Oc(l),l.A=wr(l.v);var v=l.A,b=l.R;Array.isArray(b)||(b=[String(b)]),Xv(v.i,"t",b),l.C=0,v=l.j.J,l.h=new Mv,l.g=m0(l.j,v?p:null,!l.m),0<l.O&&(l.M=new sf(d(l.Y,l,l.g),l.O)),p=l.U,v=l.g,b=l.ca;var M="readystatechange";Array.isArray(M)||(M&&(Ca[0]=M.toString()),M=Ca);for(var j=0;j<M.length;j++){var q=$t(v,M[j],b||p.handleEvent,!1,p.h||p);if(!q)break;p.g[q.key]=q}p=l.H?I(l.H):{},l.m?(l.u||(l.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,p)):(l.u="GET",l.g.ea(l.A,l.u,null,p)),ba(),_P(l.i,l.u,l.A,l.l,l.R,l.m)}Kr.prototype.ca=function(l){l=l.target;const p=this.M;p&&_r(l)==3?p.j():this.Y(l)},Kr.prototype.Y=function(l){try{if(l==this.g)e:{const At=_r(this.g);var p=this.g.Ba();const Gi=this.g.Z();if(!(3>At)&&(At!=3||this.g&&(this.h.h||this.g.oa()||s0(this.g)))){this.J||At!=4||p==7||(p==8||0>=Gi?ba(3):ba(2)),uf(this);var v=this.g.Z();this.X=v;t:if(jv(this)){var b=s0(this.g);l="";var M=b.length,j=_r(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ri(this),Ra(this);var q="";break t}this.h.i=new a.TextDecoder}for(p=0;p<M;p++)this.h.h=!0,l+=this.h.i.decode(b[p],{stream:!(j&&p==M-1)});b.length=0,this.h.g+=l,this.C=0,q=this.h.g}else q=this.g.oa();if(this.o=v==200,EP(this.i,this.u,this.A,this.l,this.R,At,v),this.o){if(this.T&&!this.K){t:{if(this.g){var Oe,wt=this.g;if((Oe=wt.g?wt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_(Oe)){var be=Oe;break t}}be=null}if(v=be)Wi(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,df(this,v);else{this.o=!1,this.s=3,Bt(12),ri(this),Ra(this);break e}}if(this.P){v=!0;let Rn;for(;!this.J&&this.C<q.length;)if(Rn=SP(this,q),Rn==lf){At==4&&(this.s=4,Bt(14),v=!1),Wi(this.i,this.l,null,"[Incomplete Response]");break}else if(Rn==Lv){this.s=4,Bt(15),Wi(this.i,this.l,q,"[Invalid Chunk]"),v=!1;break}else Wi(this.i,this.l,Rn,null),df(this,Rn);if(jv(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),At!=4||q.length!=0||this.h.h||(this.s=1,Bt(16),v=!1),this.o=this.o&&v,!v)Wi(this.i,this.l,q,"[Invalid Chunked Response]"),ri(this),Ra(this);else if(0<q.length&&!this.W){this.W=!0;var bt=this.j;bt.g==this&&bt.ba&&!bt.M&&(bt.j.info("Great, no buffering proxy detected. Bytes received: "+q.length),yf(bt),bt.M=!0,Bt(11))}}else Wi(this.i,this.l,q,null),df(this,q);At==4&&ri(this),this.o&&!this.J&&(At==4?d0(this.j,this):(this.o=!1,Oc(this)))}else $P(this.g),v==400&&0<q.indexOf("Unknown SID")?(this.s=3,Bt(12)):(this.s=0,Bt(13)),ri(this),Ra(this)}}}catch{}finally{}};function jv(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function SP(l,p){var v=l.C,b=p.indexOf(`
`,v);return b==-1?lf:(v=Number(p.substring(v,b)),isNaN(v)?Lv:(b+=1,b+v>p.length?lf:(p=p.slice(b,b+v),l.C=b+v,p)))}Kr.prototype.cancel=function(){this.J=!0,ri(this)};function Oc(l){l.S=Date.now()+l.I,Fv(l,l.I)}function Fv(l,p){if(l.B!=null)throw Error("WatchDog timer not null");l.B=Aa(d(l.ba,l),p)}function uf(l){l.B&&(a.clearTimeout(l.B),l.B=null)}Kr.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(xP(this.i,this.A),this.L!=2&&(ba(),Bt(17)),ri(this),this.s=2,Ra(this)):Fv(this,this.S-l)};function Ra(l){l.j.G==0||l.J||d0(l.j,l)}function ri(l){uf(l);var p=l.M;p&&typeof p.ma=="function"&&p.ma(),l.M=null,Rc(l.U),l.g&&(p=l.g,l.g=null,p.abort(),p.ma())}function df(l,p){try{var v=l.j;if(v.G!=0&&(v.g==l||hf(v.h,l))){if(!l.K&&hf(v.h,l)&&v.G==3){try{var b=v.Da.g.parse(p)}catch{b=null}if(Array.isArray(b)&&b.length==3){var M=b;if(M[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<l.F)zc(v),$c(v);else break e;gf(v),Bt(18)}}else v.za=M[1],0<v.za-v.T&&37500>M[2]&&v.F&&v.v==0&&!v.C&&(v.C=Aa(d(v.Za,v),6e3));if(1>=Bv(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else ii(v,11)}else if((l.K||v.g==l)&&zc(v),!_(p))for(M=v.Da.g.parse(p),p=0;p<M.length;p++){let be=M[p];if(v.T=be[0],be=be[1],v.G==2)if(be[0]=="c"){v.K=be[1],v.ia=be[2];const bt=be[3];bt!=null&&(v.la=bt,v.j.info("VER="+v.la));const At=be[4];At!=null&&(v.Aa=At,v.j.info("SVER="+v.Aa));const Gi=be[5];Gi!=null&&typeof Gi=="number"&&0<Gi&&(b=1.5*Gi,v.L=b,v.j.info("backChannelRequestTimeoutMs_="+b)),b=v;const Rn=l.g;if(Rn){const Wc=Rn.g?Rn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Wc){var j=b.h;j.g||Wc.indexOf("spdy")==-1&&Wc.indexOf("quic")==-1&&Wc.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(ff(j,j.h),j.h=null))}if(b.D){const vf=Rn.g?Rn.g.getResponseHeader("X-HTTP-Session-Id"):null;vf&&(b.ya=vf,je(b.I,b.D,vf))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-l.F,v.j.info("Handshake RTT: "+v.R+"ms")),b=v;var q=l;if(b.qa=p0(b,b.J?b.ia:null,b.W),q.K){zv(b.h,q);var Oe=q,wt=b.L;wt&&(Oe.I=wt),Oe.B&&(uf(Oe),Oc(Oe)),b.g=q}else c0(b);0<v.i.length&&Bc(v)}else be[0]!="stop"&&be[0]!="close"||ii(v,7);else v.G==3&&(be[0]=="stop"||be[0]=="close"?be[0]=="stop"?ii(v,7):mf(v):be[0]!="noop"&&v.l&&v.l.ta(be),v.v=0)}}ba(4)}catch{}}var IP=class{constructor(l,p){this.g=l,this.map=p}};function Uv(l){this.l=l||10,a.PerformanceNavigationTiming?(l=a.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function $v(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function Bv(l){return l.h?1:l.g?l.g.size:0}function hf(l,p){return l.h?l.h==p:l.g?l.g.has(p):!1}function ff(l,p){l.g?l.g.add(p):l.h=p}function zv(l,p){l.h&&l.h==p?l.h=null:l.g&&l.g.has(p)&&l.g.delete(p)}Uv.prototype.cancel=function(){if(this.i=Hv(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function Hv(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let p=l.i;for(const v of l.g.values())p=p.concat(v.D);return p}return g(l.i)}function CP(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(c(l)){for(var p=[],v=l.length,b=0;b<v;b++)p.push(l[b]);return p}p=[],v=0;for(b in l)p[v++]=l[b];return p}function bP(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(c(l)||typeof l=="string"){var p=[];l=l.length;for(var v=0;v<l;v++)p.push(v);return p}p=[],v=0;for(const b in l)p[v++]=b;return p}}}function Wv(l,p){if(l.forEach&&typeof l.forEach=="function")l.forEach(p,void 0);else if(c(l)||typeof l=="string")Array.prototype.forEach.call(l,p,void 0);else for(var v=bP(l),b=CP(l),M=b.length,j=0;j<M;j++)p.call(void 0,b[j],v&&v[j],l)}var qv=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function AP(l,p){if(l){l=l.split("&");for(var v=0;v<l.length;v++){var b=l[v].indexOf("="),M=null;if(0<=b){var j=l[v].substring(0,b);M=l[v].substring(b+1)}else j=l[v];p(j,M?decodeURIComponent(M.replace(/\+/g," ")):"")}}}function si(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof si){this.h=l.h,Mc(this,l.j),this.o=l.o,this.g=l.g,Lc(this,l.s),this.l=l.l;var p=l.i,v=new Da;v.i=p.i,p.g&&(v.g=new Map(p.g),v.h=p.h),Kv(this,v),this.m=l.m}else l&&(p=String(l).match(qv))?(this.h=!1,Mc(this,p[1]||"",!0),this.o=Na(p[2]||""),this.g=Na(p[3]||"",!0),Lc(this,p[4]),this.l=Na(p[5]||"",!0),Kv(this,p[6]||"",!0),this.m=Na(p[7]||"")):(this.h=!1,this.i=new Da(null,this.h))}si.prototype.toString=function(){var l=[],p=this.j;p&&l.push(ka(p,Gv,!0),":");var v=this.g;return(v||p=="file")&&(l.push("//"),(p=this.o)&&l.push(ka(p,Gv,!0),"@"),l.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&l.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&l.push("/"),l.push(ka(v,v.charAt(0)=="/"?NP:RP,!0))),(v=this.i.toString())&&l.push("?",v),(v=this.m)&&l.push("#",ka(v,DP)),l.join("")};function wr(l){return new si(l)}function Mc(l,p,v){l.j=v?Na(p,!0):p,l.j&&(l.j=l.j.replace(/:$/,""))}function Lc(l,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);l.s=p}else l.s=null}function Kv(l,p,v){p instanceof Da?(l.i=p,OP(l.i,l.h)):(v||(p=ka(p,kP)),l.i=new Da(p,l.h))}function je(l,p,v){l.i.set(p,v)}function Vc(l){return je(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function Na(l,p){return l?p?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function ka(l,p,v){return typeof l=="string"?(l=encodeURI(l).replace(p,PP),v&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function PP(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var Gv=/[#\/\?@]/g,RP=/[#\?:]/g,NP=/[#\?]/g,kP=/[#\?@]/g,DP=/#/g;function Da(l,p){this.h=this.g=null,this.i=l||null,this.j=!!p}function Gr(l){l.g||(l.g=new Map,l.h=0,l.i&&AP(l.i,function(p,v){l.add(decodeURIComponent(p.replace(/\+/g," ")),v)}))}t=Da.prototype,t.add=function(l,p){Gr(this),this.i=null,l=qi(this,l);var v=this.g.get(l);return v||this.g.set(l,v=[]),v.push(p),this.h+=1,this};function Qv(l,p){Gr(l),p=qi(l,p),l.g.has(p)&&(l.i=null,l.h-=l.g.get(p).length,l.g.delete(p))}function Yv(l,p){return Gr(l),p=qi(l,p),l.g.has(p)}t.forEach=function(l,p){Gr(this),this.g.forEach(function(v,b){v.forEach(function(M){l.call(p,M,b,this)},this)},this)},t.na=function(){Gr(this);const l=Array.from(this.g.values()),p=Array.from(this.g.keys()),v=[];for(let b=0;b<p.length;b++){const M=l[b];for(let j=0;j<M.length;j++)v.push(p[b])}return v},t.V=function(l){Gr(this);let p=[];if(typeof l=="string")Yv(this,l)&&(p=p.concat(this.g.get(qi(this,l))));else{l=Array.from(this.g.values());for(let v=0;v<l.length;v++)p=p.concat(l[v])}return p},t.set=function(l,p){return Gr(this),this.i=null,l=qi(this,l),Yv(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[p]),this.h+=1,this},t.get=function(l,p){return l?(l=this.V(l),0<l.length?String(l[0]):p):p};function Xv(l,p,v){Qv(l,p),0<v.length&&(l.i=null,l.g.set(qi(l,p),g(v)),l.h+=v.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],p=Array.from(this.g.keys());for(var v=0;v<p.length;v++){var b=p[v];const j=encodeURIComponent(String(b)),q=this.V(b);for(b=0;b<q.length;b++){var M=j;q[b]!==""&&(M+="="+encodeURIComponent(String(q[b]))),l.push(M)}}return this.i=l.join("&")};function qi(l,p){return p=String(p),l.j&&(p=p.toLowerCase()),p}function OP(l,p){p&&!l.j&&(Gr(l),l.i=null,l.g.forEach(function(v,b){var M=b.toLowerCase();b!=M&&(Qv(this,b),Xv(this,M,v))},l)),l.j=p}function MP(l,p){const v=new Pa;if(a.Image){const b=new Image;b.onload=y(Qr,v,"TestLoadImage: loaded",!0,p,b),b.onerror=y(Qr,v,"TestLoadImage: error",!1,p,b),b.onabort=y(Qr,v,"TestLoadImage: abort",!1,p,b),b.ontimeout=y(Qr,v,"TestLoadImage: timeout",!1,p,b),a.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=l}else p(!1)}function LP(l,p){const v=new Pa,b=new AbortController,M=setTimeout(()=>{b.abort(),Qr(v,"TestPingServer: timeout",!1,p)},1e4);fetch(l,{signal:b.signal}).then(j=>{clearTimeout(M),j.ok?Qr(v,"TestPingServer: ok",!0,p):Qr(v,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(M),Qr(v,"TestPingServer: error",!1,p)})}function Qr(l,p,v,b,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),b(v)}catch{}}function VP(){this.g=new of}function jP(l,p,v){const b=v||"";try{Wv(l,function(M,j){let q=M;u(M)&&(q=ni(M)),p.push(b+j+"="+encodeURIComponent(q))})}catch(M){throw p.push(b+"type="+encodeURIComponent("_badmap")),M}}function jc(l){this.l=l.Ub||null,this.j=l.eb||!1}x(jc,le),jc.prototype.g=function(){return new Fc(this.l,this.j)},jc.prototype.i=function(l){return function(){return l}}({});function Fc(l,p){st.call(this),this.D=l,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}x(Fc,st),t=Fc.prototype,t.open=function(l,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=p,this.readyState=1,Ma(this)},t.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(p.body=l),(this.D||a).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Oa(this)),this.readyState=0},t.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,Ma(this)),this.g&&(this.readyState=3,Ma(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Jv(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function Jv(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}t.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var p=l.value?l.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!l.done}))&&(this.response=this.responseText+=p)}l.done?Oa(this):Ma(this),this.readyState==3&&Jv(this)}},t.Ra=function(l){this.g&&(this.response=this.responseText=l,Oa(this))},t.Qa=function(l){this.g&&(this.response=l,Oa(this))},t.ga=function(){this.g&&Oa(this)};function Oa(l){l.readyState=4,l.l=null,l.j=null,l.v=null,Ma(l)}t.setRequestHeader=function(l,p){this.u.append(l,p)},t.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],p=this.h.entries();for(var v=p.next();!v.done;)v=v.value,l.push(v[0]+": "+v[1]),v=p.next();return l.join(`\r
`)};function Ma(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(Fc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function Zv(l){let p="";return L(l,function(v,b){p+=b,p+=":",p+=v,p+=`\r
`}),p}function pf(l,p,v){e:{for(b in v){var b=!1;break e}b=!0}b||(v=Zv(v),typeof l=="string"?v!=null&&encodeURIComponent(String(v)):je(l,p,v))}function Ye(l){st.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}x(Ye,st);var FP=/^https?$/i,UP=["POST","PUT"];t=Ye.prototype,t.Ha=function(l){this.J=l},t.ea=function(l,p,v,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);p=p?p.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():af.g(),this.v=this.o?ke(this.o):ke(af),this.g.onreadystatechange=d(this.Ea,this);try{this.B=!0,this.g.open(p,String(l),!0),this.B=!1}catch(j){e0(this,j);return}if(l=v||"",v=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var M in b)v.set(M,b[M]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const j of b.keys())v.set(j,b.get(j));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(v.keys()).find(j=>j.toLowerCase()=="content-type"),M=a.FormData&&l instanceof a.FormData,!(0<=Array.prototype.indexOf.call(UP,p,void 0))||b||M||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,q]of v)this.g.setRequestHeader(j,q);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{r0(this),this.u=!0,this.g.send(l),this.u=!1}catch(j){e0(this,j)}};function e0(l,p){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=p,l.m=5,t0(l),Uc(l)}function t0(l){l.A||(l.A=!0,Qe(l,"complete"),Qe(l,"error"))}t.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,Qe(this,"complete"),Qe(this,"abort"),Uc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Uc(this,!0)),Ye.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?n0(this):this.bb())},t.bb=function(){n0(this)};function n0(l){if(l.h&&typeof o<"u"&&(!l.v[1]||_r(l)!=4||l.Z()!=2)){if(l.u&&_r(l)==4)yr(l.Ea,0,l);else if(Qe(l,"readystatechange"),_r(l)==4){l.h=!1;try{const q=l.Z();e:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var v;if(!(v=p)){var b;if(b=q===0){var M=String(l.D).match(qv)[1]||null;!M&&a.self&&a.self.location&&(M=a.self.location.protocol.slice(0,-1)),b=!FP.test(M?M.toLowerCase():"")}v=b}if(v)Qe(l,"complete"),Qe(l,"success");else{l.m=6;try{var j=2<_r(l)?l.g.statusText:""}catch{j=""}l.l=j+" ["+l.Z()+"]",t0(l)}}finally{Uc(l)}}}}function Uc(l,p){if(l.g){r0(l);const v=l.g,b=l.v[0]?()=>{}:null;l.g=null,l.v=null,p||Qe(l,"ready");try{v.onreadystatechange=b}catch{}}}function r0(l){l.I&&(a.clearTimeout(l.I),l.I=null)}t.isActive=function(){return!!this.g};function _r(l){return l.g?l.g.readyState:0}t.Z=function(){try{return 2<_r(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(l){if(this.g){var p=this.g.responseText;return l&&p.indexOf(l)==0&&(p=p.substring(l.length)),Yn(p)}};function s0(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function $P(l){const p={};l=(l.g&&2<=_r(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<l.length;b++){if(_(l[b]))continue;var v=k(l[b]);const M=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const j=p[M]||[];p[M]=j,j.push(v)}C(p,function(b){return b.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function La(l,p,v){return v&&v.internalChannelParams&&v.internalChannelParams[l]||p}function i0(l){this.Aa=0,this.i=[],this.j=new Pa,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=La("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=La("baseRetryDelayMs",5e3,l),this.cb=La("retryDelaySeedMs",1e4,l),this.Wa=La("forwardChannelMaxRetries",2,l),this.wa=La("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new Uv(l&&l.concurrentRequestLimit),this.Da=new VP,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=i0.prototype,t.la=8,t.G=1,t.connect=function(l,p,v,b){Bt(0),this.W=l,this.H=p||{},v&&b!==void 0&&(this.H.OSID=v,this.H.OAID=b),this.F=this.X,this.I=p0(this,null,this.W),Bc(this)};function mf(l){if(o0(l),l.G==3){var p=l.U++,v=wr(l.I);if(je(v,"SID",l.K),je(v,"RID",p),je(v,"TYPE","terminate"),Va(l,v),p=new Kr(l,l.j,p),p.L=2,p.v=Vc(wr(v)),v=!1,a.navigator&&a.navigator.sendBeacon)try{v=a.navigator.sendBeacon(p.v.toString(),"")}catch{}!v&&a.Image&&(new Image().src=p.v,v=!0),v||(p.g=m0(p.j,null),p.g.ea(p.v)),p.F=Date.now(),Oc(p)}f0(l)}function $c(l){l.g&&(yf(l),l.g.cancel(),l.g=null)}function o0(l){$c(l),l.u&&(a.clearTimeout(l.u),l.u=null),zc(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&a.clearTimeout(l.s),l.s=null)}function Bc(l){if(!$v(l.h)&&!l.s){l.s=!0;var p=l.Ga;te||Z(),V||(te(),V=!0),z.add(p,l),l.B=0}}function BP(l,p){return Bv(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=p.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=Aa(d(l.Ga,l,p),h0(l,l.B)),l.B++,!0)}t.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const M=new Kr(this,this.j,l);let j=this.o;if(this.S&&(j?(j=I(j),R(j,this.S)):j=this.S),this.m!==null||this.O||(M.H=j,j=null),this.P)e:{for(var p=0,v=0;v<this.i.length;v++){t:{var b=this.i[v];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(p+=b,4096<p){p=v;break e}if(p===4096||v===this.i.length-1){p=v+1;break e}}p=1e3}else p=1e3;p=l0(this,M,p),v=wr(this.I),je(v,"RID",l),je(v,"CVER",22),this.D&&je(v,"X-HTTP-Session-Id",this.D),Va(this,v),j&&(this.O?p="headers="+encodeURIComponent(String(Zv(j)))+"&"+p:this.m&&pf(v,this.m,j)),ff(this.h,M),this.Ua&&je(v,"TYPE","init"),this.P?(je(v,"$req",p),je(v,"SID","null"),M.T=!0,cf(M,v,null)):cf(M,v,p),this.G=2}}else this.G==3&&(l?a0(this,l):this.i.length==0||$v(this.h)||a0(this))};function a0(l,p){var v;p?v=p.l:v=l.U++;const b=wr(l.I);je(b,"SID",l.K),je(b,"RID",v),je(b,"AID",l.T),Va(l,b),l.m&&l.o&&pf(b,l.m,l.o),v=new Kr(l,l.j,v,l.B+1),l.m===null&&(v.H=l.o),p&&(l.i=p.D.concat(l.i)),p=l0(l,v,1e3),v.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),ff(l.h,v),cf(v,b,p)}function Va(l,p){l.H&&L(l.H,function(v,b){je(p,b,v)}),l.l&&Wv({},function(v,b){je(p,b,v)})}function l0(l,p,v){v=Math.min(l.i.length,v);var b=l.l?d(l.l.Na,l.l,l):null;e:{var M=l.i;let j=-1;for(;;){const q=["count="+v];j==-1?0<v?(j=M[0].g,q.push("ofs="+j)):j=0:q.push("ofs="+j);let Oe=!0;for(let wt=0;wt<v;wt++){let be=M[wt].g;const bt=M[wt].map;if(be-=j,0>be)j=Math.max(0,M[wt].g-100),Oe=!1;else try{jP(bt,q,"req"+be+"_")}catch{b&&b(bt)}}if(Oe){b=q.join("&");break e}}}return l=l.i.splice(0,v),p.D=l,b}function c0(l){if(!l.g&&!l.u){l.Y=1;var p=l.Fa;te||Z(),V||(te(),V=!0),z.add(p,l),l.v=0}}function gf(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=Aa(d(l.Fa,l),h0(l,l.v)),l.v++,!0)}t.Fa=function(){if(this.u=null,u0(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=Aa(d(this.ab,this),l)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Bt(10),$c(this),u0(this))};function yf(l){l.A!=null&&(a.clearTimeout(l.A),l.A=null)}function u0(l){l.g=new Kr(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var p=wr(l.qa);je(p,"RID","rpc"),je(p,"SID",l.K),je(p,"AID",l.T),je(p,"CI",l.F?"0":"1"),!l.F&&l.ja&&je(p,"TO",l.ja),je(p,"TYPE","xmlhttp"),Va(l,p),l.m&&l.o&&pf(p,l.m,l.o),l.L&&(l.g.I=l.L);var v=l.g;l=l.ia,v.L=1,v.v=Vc(wr(p)),v.m=null,v.P=!0,Vv(v,l)}t.Za=function(){this.C!=null&&(this.C=null,$c(this),gf(this),Bt(19))};function zc(l){l.C!=null&&(a.clearTimeout(l.C),l.C=null)}function d0(l,p){var v=null;if(l.g==p){zc(l),yf(l),l.g=null;var b=2}else if(hf(l.h,p))v=p.D,zv(l.h,p),b=1;else return;if(l.G!=0){if(p.o)if(b==1){v=p.m?p.m.length:0,p=Date.now()-p.F;var M=l.B;b=Nc(),Qe(b,new Dv(b,v)),Bc(l)}else c0(l);else if(M=p.s,M==3||M==0&&0<p.X||!(b==1&&BP(l,p)||b==2&&gf(l)))switch(v&&0<v.length&&(p=l.h,p.i=p.i.concat(v)),M){case 1:ii(l,5);break;case 4:ii(l,10);break;case 3:ii(l,6);break;default:ii(l,2)}}}function h0(l,p){let v=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(v*=2),v*p}function ii(l,p){if(l.j.info("Error code "+p),p==2){var v=d(l.fb,l),b=l.Xa;const M=!b;b=new si(b||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Mc(b,"https"),Vc(b),M?MP(b.toString(),v):LP(b.toString(),v)}else Bt(2);l.G=0,l.l&&l.l.sa(p),f0(l),o0(l)}t.fb=function(l){l?(this.j.info("Successfully pinged google.com"),Bt(2)):(this.j.info("Failed to ping google.com"),Bt(1))};function f0(l){if(l.G=0,l.ka=[],l.l){const p=Hv(l.h);(p.length!=0||l.i.length!=0)&&(T(l.ka,p),T(l.ka,l.i),l.h.i.length=0,g(l.i),l.i.length=0),l.l.ra()}}function p0(l,p,v){var b=v instanceof si?wr(v):new si(v);if(b.g!="")p&&(b.g=p+"."+b.g),Lc(b,b.s);else{var M=a.location;b=M.protocol,p=p?p+"."+M.hostname:M.hostname,M=+M.port;var j=new si(null);b&&Mc(j,b),p&&(j.g=p),M&&Lc(j,M),v&&(j.l=v),b=j}return v=l.D,p=l.ya,v&&p&&je(b,v,p),je(b,"VER",l.la),Va(l,b),b}function m0(l,p,v){if(p&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=l.Ca&&!l.pa?new Ye(new jc({eb:v})):new Ye(l.pa),p.Ha(l.J),p}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function g0(){}t=g0.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Hc(){}Hc.prototype.g=function(l,p){return new on(l,p)};function on(l,p){st.call(this),this.g=new i0(p),this.l=l,this.h=p&&p.messageUrlParams||null,l=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(l?l["X-WebChannel-Content-Type"]=p.messageContentType:l={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(l?l["X-WebChannel-Client-Profile"]=p.va:l={"X-WebChannel-Client-Profile":p.va}),this.g.S=l,(l=p&&p.Sb)&&!_(l)&&(this.g.m=l),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!_(p)&&(this.g.D=p,l=this.h,l!==null&&p in l&&(l=this.h,p in l&&delete l[p])),this.j=new Ki(this)}x(on,st),on.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},on.prototype.close=function(){mf(this.g)},on.prototype.o=function(l){var p=this.g;if(typeof l=="string"){var v={};v.__data__=l,l=v}else this.u&&(v={},v.__data__=ni(l),l=v);p.i.push(new IP(p.Ya++,l)),p.G==3&&Bc(p)},on.prototype.N=function(){this.g.l=null,delete this.j,mf(this.g),delete this.g,on.aa.N.call(this)};function y0(l){Qt.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var p=l.__sm__;if(p){e:{for(const v in p){l=v;break e}l=void 0}(this.i=l)&&(l=this.i,p=p!==null&&l in p?p[l]:void 0),this.data=p}else this.data=l}x(y0,Qt);function v0(){qr.call(this),this.status=1}x(v0,qr);function Ki(l){this.g=l}x(Ki,g0),Ki.prototype.ua=function(){Qe(this.g,"a")},Ki.prototype.ta=function(l){Qe(this.g,new y0(l))},Ki.prototype.sa=function(l){Qe(this.g,new v0)},Ki.prototype.ra=function(){Qe(this.g,"b")},Hc.prototype.createWebChannel=Hc.prototype.g,on.prototype.send=on.prototype.o,on.prototype.open=on.prototype.m,on.prototype.close=on.prototype.close,$C=function(){return new Hc},UC=function(){return Nc()},FC=vr,Fm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},kc.NO_ERROR=0,kc.TIMEOUT=8,kc.HTTP_ERROR=6,Xu=kc,Ov.COMPLETE="complete",jC=Ov,Re.EventType=Ct,Ct.OPEN="a",Ct.CLOSE="b",Ct.ERROR="c",Ct.MESSAGE="d",st.prototype.listen=st.prototype.K,nl=Re,Ye.prototype.listenOnce=Ye.prototype.L,Ye.prototype.getLastError=Ye.prototype.Ka,Ye.prototype.getLastErrorCode=Ye.prototype.Ba,Ye.prototype.getStatus=Ye.prototype.Z,Ye.prototype.getResponseJson=Ye.prototype.Oa,Ye.prototype.getResponseText=Ye.prototype.oa,Ye.prototype.send=Ye.prototype.ea,Ye.prototype.setWithCredentials=Ye.prototype.Ha,VC=Ye}).apply(typeof Eu<"u"?Eu:typeof self<"u"?self:typeof window<"u"?window:{});const nE="@firebase/firestore",rE="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Mt.UNAUTHENTICATED=new Mt(null),Mt.GOOGLE_CREDENTIALS=new Mt("google-credentials-uid"),Mt.FIRST_PARTY=new Mt("first-party-uid"),Mt.MOCK_USER=new Mt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ga="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Li=new ky("@firebase/firestore");function Zi(){return Li.logLevel}function Y(t,...e){if(Li.logLevel<=we.DEBUG){const n=e.map(Wy);Li.debug(`Firestore (${ga}): ${t}`,...n)}}function Ur(t,...e){if(Li.logLevel<=we.ERROR){const n=e.map(Wy);Li.error(`Firestore (${ga}): ${t}`,...n)}}function ea(t,...e){if(Li.logLevel<=we.WARN){const n=e.map(Wy);Li.warn(`Firestore (${ga}): ${t}`,...n)}}function Wy(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ae(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,BC(t,r,n)}function BC(t,e,n){let r=`FIRESTORE (${ga}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Ur(r),new Error(r)}function Pe(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||BC(e,s,r)}function ue(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class X extends zr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zC{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class k3{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Mt.UNAUTHENTICATED))}shutdown(){}}class D3{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class O3{constructor(e){this.t=e,this.currentUser=Mt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Pe(this.o===void 0,42304);let r=this.i;const s=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let i=new xi;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new xi,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const c=i;e.enqueueRetryable(async()=>{await c.promise,await s(this.currentUser)})},a=c=>{Y("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?a(c):(Y("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new xi)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Y("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Pe(typeof r.accessToken=="string",31837,{l:r}),new zC(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Pe(e===null||typeof e=="string",2055,{h:e}),new Mt(e)}}class M3{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Mt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class L3{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new M3(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Mt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class sE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class V3{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,dn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Pe(this.o===void 0,3512);const r=i=>{i.error!=null&&Y("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,Y("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{Y("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):Y("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new sE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Pe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new sE(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j3(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qy{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=j3(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function _e(t,e){return t<e?-1:t>e?1:0}function Um(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),i=e.charAt(r);if(s!==i)return pp(s)===pp(i)?_e(s,i):pp(s)?1:-1}return _e(t.length,e.length)}const F3=55296,U3=57343;function pp(t){const e=t.charCodeAt(0);return e>=F3&&e<=U3}function ta(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iE="__name__";class er{constructor(e,n,r){n===void 0?n=0:n>e.length&&ae(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&ae(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return er.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof er?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=er.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return _e(e.length,n.length)}static compareSegments(e,n){const r=er.isNumericId(e),s=er.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?er.extractNumericId(e).compare(er.extractNumericId(n)):Um(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Rs.fromString(e.substring(4,e.length-2))}}class Me extends er{construct(e,n,r){return new Me(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new X(F.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Me(n)}static emptyPath(){return new Me([])}}const $3=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class xt extends er{construct(e,n,r){return new xt(e,n,r)}static isValidIdentifier(e){return $3.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),xt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===iE}static keyField(){return new xt([iE])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new X(F.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new X(F.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[s+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new X(F.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new X(F.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new xt(n)}static emptyPath(){return new xt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(e){this.path=e}static fromPath(e){return new se(Me.fromString(e))}static fromName(e){return new se(Me.fromString(e).popFirst(5))}static empty(){return new se(Me.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Me.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Me.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new se(new Me(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HC(t,e,n){if(!n)throw new X(F.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function B3(t,e,n,r){if(e===!0&&r===!0)throw new X(F.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function oE(t){if(!se.isDocumentKey(t))throw new X(F.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function aE(t){if(se.isDocumentKey(t))throw new X(F.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function WC(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Vh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ae(12329,{type:typeof t})}function Ns(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new X(F.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Vh(t);throw new X(F.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lt(t,e){const n={typeString:t};return e&&(n.value=e),n}function Ec(t,e){if(!WC(t))throw new X(F.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(s&&typeof o!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&o!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new X(F.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lE=-62135596800,cE=1e6;class De{static now(){return De.fromMillis(Date.now())}static fromDate(e){return De.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*cE);return new De(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new X(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new X(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<lE)throw new X(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new X(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/cE}_compareTo(e){return this.seconds===e.seconds?_e(this.nanoseconds,e.nanoseconds):_e(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:De._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Ec(e,De._jsonSchema))return new De(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-lE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}De._jsonSchemaVersion="firestore/timestamp/1.0",De._jsonSchema={type:lt("string",De._jsonSchemaVersion),seconds:lt("number"),nanoseconds:lt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{static fromTimestamp(e){return new ce(e)}static min(){return new ce(new De(0,0))}static max(){return new ce(new De(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yl=-1;function z3(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=ce.fromTimestamp(r===1e9?new De(n+1,0):new De(n,r));return new Fs(s,se.empty(),e)}function H3(t){return new Fs(t.readTime,t.key,Yl)}class Fs{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Fs(ce.min(),se.empty(),Yl)}static max(){return new Fs(ce.max(),se.empty(),Yl)}}function W3(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=se.comparator(t.documentKey,e.documentKey),n!==0?n:_e(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class K3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ya(t){if(t.code!==F.FAILED_PRECONDITION||t.message!==q3)throw t;Y("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ae(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new U((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof U?n:U.resolve(n)}catch(n){return U.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):U.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):U.reject(n)}static resolve(e){return new U((n,r)=>{n(e)})}static reject(e){return new U((n,r)=>{r(e)})}static waitFor(e){return new U((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},c=>r(c))}),o=!0,i===s&&n()})}static or(e){let n=U.resolve(!1);for(const r of e)n=n.next(s=>s?U.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new U((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let c=0;c<i;c++){const u=c;n(e[u]).next(h=>{o[u]=h,++a,a===i&&r(o)},h=>s(h))}})}static doWhile(e,n){return new U((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function G3(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function va(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}jh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ky=-1;function Fh(t){return t==null}function zd(t){return t===0&&1/t==-1/0}function Q3(t){return typeof t=="number"&&Number.isInteger(t)&&!zd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qC="";function Y3(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=uE(e)),e=X3(t.get(n),e);return uE(e)}function X3(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case qC:n+="";break;default:n+=i}}return n}function uE(t){return t+qC+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dE(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Xs(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function KC(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(e,n){this.comparator=e,this.root=n||Et.EMPTY}insert(e,n){return new Ge(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Et.BLACK,null,null))}remove(e){return new Ge(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Et.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new xu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new xu(this.root,e,this.comparator,!1)}getReverseIterator(){return new xu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new xu(this.root,e,this.comparator,!0)}}class xu{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Et{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??Et.RED,this.left=s??Et.EMPTY,this.right=i??Et.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new Et(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Et.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Et.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Et.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Et.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ae(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ae(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ae(27949);return e+(this.isRed()?0:1)}}Et.EMPTY=null,Et.RED=!0,Et.BLACK=!1;Et.EMPTY=new class{constructor(){this.size=0}get key(){throw ae(57766)}get value(){throw ae(16141)}get color(){throw ae(16727)}get left(){throw ae(29726)}get right(){throw ae(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new Et(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e){this.comparator=e,this.data=new Ge(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new hE(this.data.getIterator())}getIteratorFrom(e){return new hE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof ft)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new ft(this.comparator);return n.data=e,n}}class hE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e){this.fields=e,e.sort(xt.comparator)}static empty(){return new fn([])}unionWith(e){let n=new ft(xt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new fn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ta(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new GC("Invalid base64 string: "+i):i}}(e);return new It(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new It(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return _e(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}It.EMPTY_BYTE_STRING=new It("");const J3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Us(t){if(Pe(!!t,39018),typeof t=="string"){let e=0;const n=J3.exec(t);if(Pe(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:tt(t.seconds),nanos:tt(t.nanos)}}function tt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function $s(t){return typeof t=="string"?It.fromBase64String(t):It.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QC="server_timestamp",YC="__type__",XC="__previous_value__",JC="__local_write_time__";function Gy(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[YC])==null?void 0:r.stringValue)===QC}function Uh(t){const e=t.mapValue.fields[XC];return Gy(e)?Uh(e):e}function Xl(t){const e=Us(t.mapValue.fields[JC].timestampValue);return new De(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z3{constructor(e,n,r,s,i,o,a,c,u,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=u,this.isUsingEmulator=h}}const Hd="(default)";class Jl{constructor(e,n){this.projectId=e,this.database=n||Hd}static empty(){return new Jl("","")}get isDefaultDatabase(){return this.database===Hd}isEqual(e){return e instanceof Jl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZC="__type__",eb="__max__",Tu={mapValue:{fields:{__type__:{stringValue:eb}}}},tb="__vector__",Wd="value";function Bs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Gy(t)?4:t5(t)?9007199254740991:e5(t)?10:11:ae(28295,{value:t})}function pr(t,e){if(t===e)return!0;const n=Bs(t);if(n!==Bs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Xl(t).isEqual(Xl(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Us(s.timestampValue),a=Us(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return $s(s.bytesValue).isEqual($s(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return tt(s.geoPointValue.latitude)===tt(i.geoPointValue.latitude)&&tt(s.geoPointValue.longitude)===tt(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return tt(s.integerValue)===tt(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=tt(s.doubleValue),a=tt(i.doubleValue);return o===a?zd(o)===zd(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return ta(t.arrayValue.values||[],e.arrayValue.values||[],pr);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(dE(o)!==dE(a))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(a[c]===void 0||!pr(o[c],a[c])))return!1;return!0}(t,e);default:return ae(52216,{left:t})}}function Zl(t,e){return(t.values||[]).find(n=>pr(n,e))!==void 0}function na(t,e){if(t===e)return 0;const n=Bs(t),r=Bs(e);if(n!==r)return _e(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return _e(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=tt(i.integerValue||i.doubleValue),c=tt(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return fE(t.timestampValue,e.timestampValue);case 4:return fE(Xl(t),Xl(e));case 5:return Um(t.stringValue,e.stringValue);case 6:return function(i,o){const a=$s(i),c=$s(o);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),c=o.split("/");for(let u=0;u<a.length&&u<c.length;u++){const h=_e(a[u],c[u]);if(h!==0)return h}return _e(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=_e(tt(i.latitude),tt(o.latitude));return a!==0?a:_e(tt(i.longitude),tt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return pE(t.arrayValue,e.arrayValue);case 10:return function(i,o){var d,y,x,g;const a=i.fields||{},c=o.fields||{},u=(d=a[Wd])==null?void 0:d.arrayValue,h=(y=c[Wd])==null?void 0:y.arrayValue,f=_e(((x=u==null?void 0:u.values)==null?void 0:x.length)||0,((g=h==null?void 0:h.values)==null?void 0:g.length)||0);return f!==0?f:pE(u,h)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===Tu.mapValue&&o===Tu.mapValue)return 0;if(i===Tu.mapValue)return 1;if(o===Tu.mapValue)return-1;const a=i.fields||{},c=Object.keys(a),u=o.fields||{},h=Object.keys(u);c.sort(),h.sort();for(let f=0;f<c.length&&f<h.length;++f){const d=Um(c[f],h[f]);if(d!==0)return d;const y=na(a[c[f]],u[h[f]]);if(y!==0)return y}return _e(c.length,h.length)}(t.mapValue,e.mapValue);default:throw ae(23264,{he:n})}}function fE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return _e(t,e);const n=Us(t),r=Us(e),s=_e(n.seconds,r.seconds);return s!==0?s:_e(n.nanos,r.nanos)}function pE(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=na(n[s],r[s]);if(i)return i}return _e(n.length,r.length)}function ra(t){return $m(t)}function $m(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Us(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return $s(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return se.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=$m(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${$m(n.fields[o])}`;return s+"}"}(t.mapValue):ae(61005,{value:t})}function Ju(t){switch(Bs(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Uh(t);return e?16+Ju(e):16;case 5:return 2*t.stringValue.length;case 6:return $s(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+Ju(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return Xs(r.fields,(i,o)=>{s+=i.length+Ju(o)}),s}(t.mapValue);default:throw ae(13486,{value:t})}}function mE(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Bm(t){return!!t&&"integerValue"in t}function Qy(t){return!!t&&"arrayValue"in t}function gE(t){return!!t&&"nullValue"in t}function yE(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Zu(t){return!!t&&"mapValue"in t}function e5(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[ZC])==null?void 0:r.stringValue)===tb}function El(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Xs(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=El(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=El(t.arrayValue.values[n]);return e}return{...t}}function t5(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===eb}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.value=e}static empty(){return new Jt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Zu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=El(n)}setAll(e){let n=xt.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const c=this.getFieldsMap(n);this.applyChanges(c,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=El(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Zu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return pr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Zu(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Xs(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new Jt(El(this.value))}}function nb(t){const e=[];return Xs(t.fields,(n,r)=>{const s=new xt([n]);if(Zu(r)){const i=nb(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new fn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Vt(e,0,ce.min(),ce.min(),ce.min(),Jt.empty(),0)}static newFoundDocument(e,n,r,s){return new Vt(e,1,n,ce.min(),r,s,0)}static newNoDocument(e,n){return new Vt(e,2,n,ce.min(),ce.min(),Jt.empty(),0)}static newUnknownDocument(e,n){return new Vt(e,3,n,ce.min(),ce.min(),Jt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Jt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Jt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Vt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Vt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qd{constructor(e,n){this.position=e,this.inclusive=n}}function vE(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=se.comparator(se.fromName(o.referenceValue),n.key):r=na(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function wE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!pr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kd{constructor(e,n="asc"){this.field=e,this.dir=n}}function n5(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rb{}class at extends rb{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new s5(e,n,r):n==="array-contains"?new a5(e,r):n==="in"?new l5(e,r):n==="not-in"?new c5(e,r):n==="array-contains-any"?new u5(e,r):new at(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new i5(e,r):new o5(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(na(n,this.value)):n!==null&&Bs(this.value)===Bs(n)&&this.matchesComparison(na(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ae(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Kn extends rb{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Kn(e,n)}matches(e){return sb(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function sb(t){return t.op==="and"}function ib(t){return r5(t)&&sb(t)}function r5(t){for(const e of t.filters)if(e instanceof Kn)return!1;return!0}function zm(t){if(t instanceof at)return t.field.canonicalString()+t.op.toString()+ra(t.value);if(ib(t))return t.filters.map(e=>zm(e)).join(",");{const e=t.filters.map(n=>zm(n)).join(",");return`${t.op}(${e})`}}function ob(t,e){return t instanceof at?function(r,s){return s instanceof at&&r.op===s.op&&r.field.isEqual(s.field)&&pr(r.value,s.value)}(t,e):t instanceof Kn?function(r,s){return s instanceof Kn&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&ob(o,s.filters[a]),!0):!1}(t,e):void ae(19439)}function ab(t){return t instanceof at?function(n){return`${n.field.canonicalString()} ${n.op} ${ra(n.value)}`}(t):t instanceof Kn?function(n){return n.op.toString()+" {"+n.getFilters().map(ab).join(" ,")+"}"}(t):"Filter"}class s5 extends at{constructor(e,n,r){super(e,n,r),this.key=se.fromName(r.referenceValue)}matches(e){const n=se.comparator(e.key,this.key);return this.matchesComparison(n)}}class i5 extends at{constructor(e,n){super(e,"in",n),this.keys=lb("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class o5 extends at{constructor(e,n){super(e,"not-in",n),this.keys=lb("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function lb(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>se.fromName(r.referenceValue))}class a5 extends at{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Qy(n)&&Zl(n.arrayValue,this.value)}}class l5 extends at{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Zl(this.value.arrayValue,n)}}class c5 extends at{constructor(e,n){super(e,"not-in",n)}matches(e){if(Zl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Zl(this.value.arrayValue,n)}}class u5 extends at{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Qy(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Zl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d5{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.Te=null}}function _E(t,e=null,n=[],r=[],s=null,i=null,o=null){return new d5(t,e,n,r,s,i,o)}function Yy(t){const e=ue(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>zm(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Fh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ra(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ra(r)).join(",")),e.Te=n}return e.Te}function Xy(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!n5(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!ob(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!wE(t.startAt,e.startAt)&&wE(t.endAt,e.endAt)}function Hm(t){return se.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=c,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function h5(t,e,n,r,s,i,o,a){return new xc(t,e,n,r,s,i,o,a)}function Jy(t){return new xc(t)}function EE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function cb(t){return t.collectionGroup!==null}function xl(t){const e=ue(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new ft(xt.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new Kd(i,r))}),n.has(xt.keyField().canonicalString())||e.Ie.push(new Kd(xt.keyField(),r))}return e.Ie}function cr(t){const e=ue(t);return e.Ee||(e.Ee=f5(e,xl(t))),e.Ee}function f5(t,e){if(t.limitType==="F")return _E(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Kd(s.field,i)});const n=t.endAt?new qd(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new qd(t.startAt.position,t.startAt.inclusive):null;return _E(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Wm(t,e){const n=t.filters.concat([e]);return new xc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function qm(t,e,n){return new xc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function $h(t,e){return Xy(cr(t),cr(e))&&t.limitType===e.limitType}function ub(t){return`${Yy(cr(t))}|lt:${t.limitType}`}function eo(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>ab(s)).join(", ")}]`),Fh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>ra(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>ra(s)).join(",")),`Target(${r})`}(cr(t))}; limitType=${t.limitType})`}function Bh(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):se.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of xl(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,c){const u=vE(o,a,c);return o.inclusive?u<=0:u<0}(r.startAt,xl(r),s)||r.endAt&&!function(o,a,c){const u=vE(o,a,c);return o.inclusive?u>=0:u>0}(r.endAt,xl(r),s))}(t,e)}function p5(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function db(t){return(e,n)=>{let r=!1;for(const s of xl(t)){const i=m5(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function m5(t,e,n){const r=t.field.isKeyField()?se.comparator(e.key,n.key):function(i,o,a){const c=o.data.field(i),u=a.data.field(i);return c!==null&&u!==null?na(c,u):ae(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ae(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Xs(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return KC(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g5=new Ge(se.comparator);function $r(){return g5}const hb=new Ge(se.comparator);function rl(...t){let e=hb;for(const n of t)e=e.insert(n.key,n);return e}function fb(t){let e=hb;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function mi(){return Tl()}function pb(){return Tl()}function Tl(){return new zi(t=>t.toString(),(t,e)=>t.isEqual(e))}const y5=new Ge(se.comparator),v5=new ft(se.comparator);function Ee(...t){let e=v5;for(const n of t)e=e.add(n);return e}const w5=new ft(_e);function _5(){return w5}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zy(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:zd(e)?"-0":e}}function mb(t){return{integerValue:""+t}}function E5(t,e){return Q3(e)?mb(e):Zy(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(){this._=void 0}}function x5(t,e,n){return t instanceof Gd?function(s,i){const o={fields:{[YC]:{stringValue:QC},[JC]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&Gy(i)&&(i=Uh(i)),i&&(o.fields[XC]=i),{mapValue:o}}(n,e):t instanceof ec?yb(t,e):t instanceof tc?vb(t,e):function(s,i){const o=gb(s,i),a=xE(o)+xE(s.Ae);return Bm(o)&&Bm(s.Ae)?mb(a):Zy(s.serializer,a)}(t,e)}function T5(t,e,n){return t instanceof ec?yb(t,e):t instanceof tc?vb(t,e):n}function gb(t,e){return t instanceof Qd?function(r){return Bm(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class Gd extends zh{}class ec extends zh{constructor(e){super(),this.elements=e}}function yb(t,e){const n=wb(e);for(const r of t.elements)n.some(s=>pr(s,r))||n.push(r);return{arrayValue:{values:n}}}class tc extends zh{constructor(e){super(),this.elements=e}}function vb(t,e){let n=wb(e);for(const r of t.elements)n=n.filter(s=>!pr(s,r));return{arrayValue:{values:n}}}class Qd extends zh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function xE(t){return tt(t.integerValue||t.doubleValue)}function wb(t){return Qy(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function S5(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof ec&&s instanceof ec||r instanceof tc&&s instanceof tc?ta(r.elements,s.elements,pr):r instanceof Qd&&s instanceof Qd?pr(r.Ae,s.Ae):r instanceof Gd&&s instanceof Gd}(t.transform,e.transform)}class I5{constructor(e,n){this.version=e,this.transformResults=n}}class zn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new zn}static exists(e){return new zn(void 0,e)}static updateTime(e){return new zn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ed(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Hh{}function _b(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new ev(t.key,zn.none()):new Tc(t.key,t.data,zn.none());{const n=t.data,r=Jt.empty();let s=new ft(xt.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new Js(t.key,r,new fn(s.toArray()),zn.none())}}function C5(t,e,n){t instanceof Tc?function(s,i,o){const a=s.value.clone(),c=SE(s.fieldTransforms,i,o.transformResults);a.setAll(c),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Js?function(s,i,o){if(!ed(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=SE(s.fieldTransforms,i,o.transformResults),c=i.data;c.setAll(Eb(s)),c.setAll(a),i.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Sl(t,e,n,r){return t instanceof Tc?function(i,o,a,c){if(!ed(i.precondition,o))return a;const u=i.value.clone(),h=IE(i.fieldTransforms,c,o);return u.setAll(h),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Js?function(i,o,a,c){if(!ed(i.precondition,o))return a;const u=IE(i.fieldTransforms,c,o),h=o.data;return h.setAll(Eb(i)),h.setAll(u),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(i,o,a){return ed(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function b5(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=gb(r.transform,s||null);i!=null&&(n===null&&(n=Jt.empty()),n.set(r.field,i))}return n||null}function TE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&ta(r,s,(i,o)=>S5(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Tc extends Hh{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Js extends Hh{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Eb(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function SE(t,e,n){const r=new Map;Pe(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,T5(o,a,n[s]))}return r}function IE(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,x5(i,o,e))}return r}class ev extends Hh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class A5 extends Hh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P5{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&C5(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Sl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Sl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=pb();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const c=_b(o,a);c!==null&&r.set(s.key,c),o.isValidDocument()||o.convertToNoDocument(ce.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ee())}isEqual(e){return this.batchId===e.batchId&&ta(this.mutations,e.mutations,(n,r)=>TE(n,r))&&ta(this.baseMutations,e.baseMutations,(n,r)=>TE(n,r))}}class tv{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Pe(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=function(){return y5}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new tv(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R5{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N5{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var it,Te;function k5(t){switch(t){case F.OK:return ae(64938);case F.CANCELLED:case F.UNKNOWN:case F.DEADLINE_EXCEEDED:case F.RESOURCE_EXHAUSTED:case F.INTERNAL:case F.UNAVAILABLE:case F.UNAUTHENTICATED:return!1;case F.INVALID_ARGUMENT:case F.NOT_FOUND:case F.ALREADY_EXISTS:case F.PERMISSION_DENIED:case F.FAILED_PRECONDITION:case F.ABORTED:case F.OUT_OF_RANGE:case F.UNIMPLEMENTED:case F.DATA_LOSS:return!0;default:return ae(15467,{code:t})}}function xb(t){if(t===void 0)return Ur("GRPC error has no .code"),F.UNKNOWN;switch(t){case it.OK:return F.OK;case it.CANCELLED:return F.CANCELLED;case it.UNKNOWN:return F.UNKNOWN;case it.DEADLINE_EXCEEDED:return F.DEADLINE_EXCEEDED;case it.RESOURCE_EXHAUSTED:return F.RESOURCE_EXHAUSTED;case it.INTERNAL:return F.INTERNAL;case it.UNAVAILABLE:return F.UNAVAILABLE;case it.UNAUTHENTICATED:return F.UNAUTHENTICATED;case it.INVALID_ARGUMENT:return F.INVALID_ARGUMENT;case it.NOT_FOUND:return F.NOT_FOUND;case it.ALREADY_EXISTS:return F.ALREADY_EXISTS;case it.PERMISSION_DENIED:return F.PERMISSION_DENIED;case it.FAILED_PRECONDITION:return F.FAILED_PRECONDITION;case it.ABORTED:return F.ABORTED;case it.OUT_OF_RANGE:return F.OUT_OF_RANGE;case it.UNIMPLEMENTED:return F.UNIMPLEMENTED;case it.DATA_LOSS:return F.DATA_LOSS;default:return ae(39323,{code:t})}}(Te=it||(it={}))[Te.OK=0]="OK",Te[Te.CANCELLED=1]="CANCELLED",Te[Te.UNKNOWN=2]="UNKNOWN",Te[Te.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Te[Te.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Te[Te.NOT_FOUND=5]="NOT_FOUND",Te[Te.ALREADY_EXISTS=6]="ALREADY_EXISTS",Te[Te.PERMISSION_DENIED=7]="PERMISSION_DENIED",Te[Te.UNAUTHENTICATED=16]="UNAUTHENTICATED",Te[Te.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Te[Te.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Te[Te.ABORTED=10]="ABORTED",Te[Te.OUT_OF_RANGE=11]="OUT_OF_RANGE",Te[Te.UNIMPLEMENTED=12]="UNIMPLEMENTED",Te[Te.INTERNAL=13]="INTERNAL",Te[Te.UNAVAILABLE=14]="UNAVAILABLE",Te[Te.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D5(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O5=new Rs([4294967295,4294967295],0);function CE(t){const e=D5().encode(t),n=new LC;return n.update(e),new Uint8Array(n.digest())}function bE(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Rs([n,r],0),new Rs([s,i],0)]}class nv{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new sl(`Invalid padding: ${n}`);if(r<0)throw new sl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new sl(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new sl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Rs.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(Rs.fromNumber(r)));return s.compare(O5)===1&&(s=new Rs([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=CE(e),[r,s]=bE(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);if(!this.we(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new nv(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.ge===0)return;const n=CE(e),[r,s]=bE(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class sl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Sc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Wh(ce.min(),s,new Ge(_e),$r(),Ee())}}class Sc{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Sc(r,n,Ee(),Ee(),Ee())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class td{constructor(e,n,r,s){this.be=e,this.removedTargetIds=n,this.key=r,this.De=s}}class Tb{constructor(e,n){this.targetId=e,this.Ce=n}}class Sb{constructor(e,n,r=It.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class AE{constructor(){this.ve=0,this.Fe=PE(),this.Me=It.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ee(),n=Ee(),r=Ee();return this.Fe.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:ae(38017,{changeType:i})}}),new Sc(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=PE()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Pe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class M5{constructor(e){this.Ge=e,this.ze=new Map,this.je=$r(),this.Je=Su(),this.He=Su(),this.Ye=new Ge(_e)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:ae(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,s)=>{this.rt(s)&&n(s)})}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const i=s.target;if(Hm(i))if(r===0){const o=new se(i.path);this.et(n,o,Vt.newNoDocument(o,ce.min()))}else Pe(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const a=this.ut(e),c=a?this.ct(a,e,o):1;if(c!==0){this.it(n);const u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,u)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=$s(r).toUint8Array()}catch(c){if(c instanceof GC)return ea("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new nv(o,s,i)}catch(c){return ea(c instanceof sl?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.ge===0?null:a}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Ge.ht(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.et(n,i,null),s++)}),s}Tt(e){const n=new Map;this.ze.forEach((i,o)=>{const a=this.ot(o);if(a){if(i.current&&Hm(a.target)){const c=new se(a.target.path);this.It(c).has(o)||this.Et(o,c)||this.et(o,c,Vt.newNoDocument(c,e))}i.Be&&(n.set(o,i.ke()),i.qe())}});let r=Ee();this.He.forEach((i,o)=>{let a=!0;o.forEachWhile(c=>{const u=this.ot(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.je.forEach((i,o)=>o.setReadTime(e));const s=new Wh(e,n,this.Ye,this.je,r);return this.je=$r(),this.Je=Su(),this.He=Su(),this.Ye=new Ge(_e),s}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new AE,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new ft(_e),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new ft(_e),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Y("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new AE),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Su(){return new Ge(se.comparator)}function PE(){return new Ge(se.comparator)}const L5={asc:"ASCENDING",desc:"DESCENDING"},V5={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},j5={and:"AND",or:"OR"};class F5{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Km(t,e){return t.useProto3Json||Fh(e)?e:{value:e}}function Yd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Ib(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function U5(t,e){return Yd(t,e.toTimestamp())}function ur(t){return Pe(!!t,49232),ce.fromTimestamp(function(n){const r=Us(n);return new De(r.seconds,r.nanos)}(t))}function rv(t,e){return Gm(t,e).canonicalString()}function Gm(t,e){const n=function(s){return new Me(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function Cb(t){const e=Me.fromString(t);return Pe(Nb(e),10190,{key:e.toString()}),e}function Qm(t,e){return rv(t.databaseId,e.path)}function mp(t,e){const n=Cb(e);if(n.get(1)!==t.databaseId.projectId)throw new X(F.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new X(F.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new se(Ab(n))}function bb(t,e){return rv(t.databaseId,e)}function $5(t){const e=Cb(t);return e.length===4?Me.emptyPath():Ab(e)}function Ym(t){return new Me(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Ab(t){return Pe(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function RE(t,e,n){return{name:Qm(t,e),fields:n.value.mapValue.fields}}function B5(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:ae(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(u,h){return u.useProto3Json?(Pe(h===void 0||typeof h=="string",58123),It.fromBase64String(h||"")):(Pe(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),It.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const h=u.code===void 0?F.UNKNOWN:xb(u.code);return new X(h,u.message||"")}(o);n=new Sb(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=mp(t,r.document.name),i=ur(r.document.updateTime),o=r.document.createTime?ur(r.document.createTime):ce.min(),a=new Jt({mapValue:{fields:r.document.fields}}),c=Vt.newFoundDocument(s,i,o,a),u=r.targetIds||[],h=r.removedTargetIds||[];n=new td(u,h,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=mp(t,r.document),i=r.readTime?ur(r.readTime):ce.min(),o=Vt.newNoDocument(s,i),a=r.removedTargetIds||[];n=new td([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=mp(t,r.document),i=r.removedTargetIds||[];n=new td([],i,s,null)}else{if(!("filter"in e))return ae(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new N5(s,i),a=r.targetId;n=new Tb(a,o)}}return n}function z5(t,e){let n;if(e instanceof Tc)n={update:RE(t,e.key,e.value)};else if(e instanceof ev)n={delete:Qm(t,e.key)};else if(e instanceof Js)n={update:RE(t,e.key,e.data),updateMask:J5(e.fieldMask)};else{if(!(e instanceof A5))return ae(16599,{Vt:e.type});n={verify:Qm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof Gd)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof ec)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof tc)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Qd)return{fieldPath:o.field.canonicalString(),increment:a.Ae};throw ae(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:U5(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:ae(27497)}(t,e.precondition)),n}function H5(t,e){return t&&t.length>0?(Pe(e!==void 0,14353),t.map(n=>function(s,i){let o=s.updateTime?ur(s.updateTime):ur(i);return o.isEqual(ce.min())&&(o=ur(i)),new I5(o,s.transformResults||[])}(n,e))):[]}function W5(t,e){return{documents:[bb(t,e.path)]}}function q5(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=bb(t,s);const i=function(u){if(u.length!==0)return Rb(Kn.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(u){if(u.length!==0)return u.map(h=>function(d){return{field:to(d.field),direction:Q5(d.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Km(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ft:n,parent:s}}function K5(t){let e=$5(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Pe(r===1,65062);const h=n.from[0];h.allDescendants?s=h.collectionId:e=e.child(h.collectionId)}let i=[];n.where&&(i=function(f){const d=Pb(f);return d instanceof Kn&&ib(d)?d.getFilters():[d]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(d=>function(x){return new Kd(no(x.field),function(T){switch(T){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(d))}(n.orderBy));let a=null;n.limit&&(a=function(f){let d;return d=typeof f=="object"?f.value:f,Fh(d)?null:d}(n.limit));let c=null;n.startAt&&(c=function(f){const d=!!f.before,y=f.values||[];return new qd(y,d)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const d=!f.before,y=f.values||[];return new qd(y,d)}(n.endAt)),h5(e,s,o,i,a,"F",c,u)}function G5(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ae(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Pb(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=no(n.unaryFilter.field);return at.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=no(n.unaryFilter.field);return at.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=no(n.unaryFilter.field);return at.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=no(n.unaryFilter.field);return at.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ae(61313);default:return ae(60726)}}(t):t.fieldFilter!==void 0?function(n){return at.create(no(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ae(58110);default:return ae(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Kn.create(n.compositeFilter.filters.map(r=>Pb(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return ae(1026)}}(n.compositeFilter.op))}(t):ae(30097,{filter:t})}function Q5(t){return L5[t]}function Y5(t){return V5[t]}function X5(t){return j5[t]}function to(t){return{fieldPath:t.canonicalString()}}function no(t){return xt.fromServerFormat(t.fieldPath)}function Rb(t){return t instanceof at?function(n){if(n.op==="=="){if(yE(n.value))return{unaryFilter:{field:to(n.field),op:"IS_NAN"}};if(gE(n.value))return{unaryFilter:{field:to(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(yE(n.value))return{unaryFilter:{field:to(n.field),op:"IS_NOT_NAN"}};if(gE(n.value))return{unaryFilter:{field:to(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:to(n.field),op:Y5(n.op),value:n.value}}}(t):t instanceof Kn?function(n){const r=n.getFilters().map(s=>Rb(s));return r.length===1?r[0]:{compositeFilter:{op:X5(n.op),filters:r}}}(t):ae(54877,{filter:t})}function J5(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Nb(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys{constructor(e,n,r,s,i=ce.min(),o=ce.min(),a=It.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new ys(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ys(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ys(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ys(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z5{constructor(e){this.yt=e}}function e6(t){const e=K5({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?qm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t6{constructor(){this.Cn=new n6}addToCollectionParentIndex(e,n){return this.Cn.add(n),U.resolve()}getCollectionParents(e,n){return U.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return U.resolve()}deleteFieldIndex(e,n){return U.resolve()}deleteAllFieldIndexes(e){return U.resolve()}createTargetIndexes(e,n){return U.resolve()}getDocumentsMatchingTarget(e,n){return U.resolve(null)}getIndexType(e,n){return U.resolve(0)}getFieldIndexes(e,n){return U.resolve([])}getNextCollectionGroupToUpdate(e){return U.resolve(null)}getMinOffset(e,n){return U.resolve(Fs.min())}getMinOffsetFromCollectionGroup(e,n){return U.resolve(Fs.min())}updateCollectionGroup(e,n,r){return U.resolve()}updateIndexEntries(e,n){return U.resolve()}}class n6{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new ft(Me.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new ft(Me.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},kb=41943040;class Yt{static withCacheSize(e){return new Yt(e,Yt.DEFAULT_COLLECTION_PERCENTILE,Yt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Yt.DEFAULT_COLLECTION_PERCENTILE=10,Yt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Yt.DEFAULT=new Yt(kb,Yt.DEFAULT_COLLECTION_PERCENTILE,Yt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Yt.DISABLED=new Yt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new sa(0)}static cr(){return new sa(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kE="LruGarbageCollector",r6=1048576;function DE([t,e],[n,r]){const s=_e(t,n);return s===0?_e(e,r):s}class s6{constructor(e){this.Ir=e,this.buffer=new ft(DE),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();DE(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class i6{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Y(kE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){va(n)?Y(kE,"Ignoring IndexedDB error during garbage collection: ",n):await ya(n)}await this.Vr(3e5)})}}class o6{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return U.resolve(jh.ce);const r=new s6(n);return this.mr.forEachTarget(e,s=>r.Ar(s.sequenceNumber)).next(()=>this.mr.pr(e,s=>r.Ar(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Y("LruGarbageCollector","Garbage collection skipped; disabled"),U.resolve(NE)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Y("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),NE):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,s,i,o,a,c,u;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(Y("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),s=this.params.maximumSequenceNumbersToCollect):s=f,o=Date.now(),this.nthSequenceNumber(e,s))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,n))).next(f=>(i=f,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(u=Date.now(),Zi()<=we.DEBUG&&Y("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${s} in `+(a-o)+`ms
	Removed ${i} targets in `+(c-a)+`ms
	Removed ${f} documents in `+(u-c)+`ms
Total Duration: ${u-h}ms`),U.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:f})))}}function a6(t,e){return new o6(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l6{constructor(){this.changes=new zi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Vt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?U.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c6{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u6{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Sl(r.mutation,s,fn.empty(),De.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ee()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ee()){const s=mi();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=rl();return i.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=mi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ee()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=$r();const o=Tl(),a=function(){return Tl()}();return n.forEach((c,u)=>{const h=r.get(u.key);s.has(u.key)&&(h===void 0||h.mutation instanceof Js)?i=i.insert(u.key,u):h!==void 0?(o.set(u.key,h.mutation.getFieldMask()),Sl(h.mutation,u,h.mutation.getFieldMask(),De.now())):o.set(u.key,fn.empty())}),this.recalculateAndSaveOverlays(e,i).next(c=>(c.forEach((u,h)=>o.set(u,h)),n.forEach((u,h)=>a.set(u,new c6(h,o.get(u)??null))),a))}recalculateAndSaveOverlays(e,n){const r=Tl();let s=new Ge((o,a)=>o-a),i=Ee();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(c=>{const u=n.get(c);if(u===null)return;let h=r.get(c)||fn.empty();h=a.applyToLocalView(u,h),r.set(c,h);const f=(s.get(a.batchId)||Ee()).add(c);s=s.insert(a.batchId,f)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),u=c.key,h=c.value,f=pb();h.forEach(d=>{if(!i.has(d)){const y=_b(n.get(d),r.get(d));y!==null&&f.set(d,y),i=i.add(d)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,f))}return U.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return se.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):cb(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):U.resolve(mi());let a=Yl,c=i;return o.next(u=>U.forEach(u,(h,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),i.get(h)?U.resolve():this.remoteDocumentCache.getEntry(e,h).next(d=>{c=c.insert(h,d)}))).next(()=>this.populateOverlays(e,u,i)).next(()=>this.computeViews(e,c,u,Ee())).next(h=>({batchId:a,changes:fb(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new se(n)).next(r=>{let s=rl();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=rl();return this.indexManager.getCollectionParents(e,i).next(a=>U.forEach(a,c=>{const u=function(f,d){return new xc(d,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,c.child(i));return this.getDocumentsMatchingCollectionQuery(e,u,r,s).next(h=>{h.forEach((f,d)=>{o=o.insert(f,d)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((c,u)=>{const h=u.getKey();o.get(h)===null&&(o=o.insert(h,Vt.newInvalidDocument(h)))});let a=rl();return o.forEach((c,u)=>{const h=i.get(c);h!==void 0&&Sl(h.mutation,u,fn.empty(),De.now()),Bh(n,u)&&(a=a.insert(c,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d6{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return U.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:ur(s.createTime)}}(n)),U.resolve()}getNamedQuery(e,n){return U.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(s){return{name:s.name,query:e6(s.bundledQuery),readTime:ur(s.readTime)}}(n)),U.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h6{constructor(){this.overlays=new Ge(se.comparator),this.qr=new Map}getOverlay(e,n){return U.resolve(this.overlays.get(n))}getOverlays(e,n){const r=mi();return U.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.St(e,n,i)}),U.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.qr.delete(r)),U.resolve()}getOverlaysForCollection(e,n,r){const s=mi(),i=n.length+1,o=new se(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const c=a.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===i&&c.largestBatchId>r&&s.set(c.getKey(),c)}return U.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Ge((u,h)=>u-h);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let h=i.get(u.largestBatchId);h===null&&(h=mi(),i=i.insert(u.largestBatchId,h)),h.set(u.getKey(),u)}}const a=mi(),c=i.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,h)=>a.set(u,h)),!(a.size()>=s)););return U.resolve(a)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new R5(n,r));let i=this.qr.get(n);i===void 0&&(i=Ee(),this.qr.set(n,i)),this.qr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f6{constructor(){this.sessionToken=It.EMPTY_BYTE_STRING}getSessionToken(e){return U.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,U.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sv{constructor(){this.Qr=new ft(mt.$r),this.Ur=new ft(mt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new mt(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new mt(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new se(new Me([])),r=new mt(n,e),s=new mt(n,e+1),i=[];return this.Ur.forEachInRange([r,s],o=>{this.Gr(o),i.push(o.key)}),i}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new se(new Me([])),r=new mt(n,e),s=new mt(n,e+1);let i=Ee();return this.Ur.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new mt(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class mt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return se.comparator(e.key,n.key)||_e(e.Yr,n.Yr)}static Kr(e,n){return _e(e.Yr,n.Yr)||se.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p6{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new ft(mt.$r)}checkEmpty(e){return U.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new P5(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.Zr=this.Zr.add(new mt(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return U.resolve(o)}lookupMutationBatch(e,n){return U.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ei(r),i=s<0?0:s;return U.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return U.resolve(this.mutationQueue.length===0?Ky:this.tr-1)}getAllMutationBatches(e){return U.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new mt(n,0),s=new mt(n,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([r,s],o=>{const a=this.Xr(o.Yr);i.push(a)}),U.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ft(_e);return n.forEach(s=>{const i=new mt(s,0),o=new mt(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,o],a=>{r=r.add(a.Yr)})}),U.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;se.isDocumentKey(i)||(i=i.child(""));const o=new mt(new se(i),0);let a=new ft(_e);return this.Zr.forEachWhile(c=>{const u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===s&&(a=a.add(c.Yr)),!0)},o),U.resolve(this.ti(a))}ti(e){const n=[];return e.forEach(r=>{const s=this.Xr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Pe(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return U.forEach(n.mutations,s=>{const i=new mt(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new mt(n,0),s=this.Zr.firstAfterOrEqual(r);return U.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,U.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m6{constructor(e){this.ri=e,this.docs=function(){return new Ge(se.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return U.resolve(r?r.document.mutableCopy():Vt.newInvalidDocument(n))}getEntries(e,n){let r=$r();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Vt.newInvalidDocument(s))}),U.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=$r();const o=n.path,a=new se(o.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:u,value:{document:h}}=c.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||W3(H3(h),r)<=0||(s.has(h.key)||Bh(n,h))&&(i=i.insert(h.key,h.mutableCopy()))}return U.resolve(i)}getAllFromCollectionGroup(e,n,r,s){ae(9500)}ii(e,n){return U.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new g6(this)}getSize(e){return U.resolve(this.size)}}class g6 extends l6{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)}),U.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y6{constructor(e){this.persistence=e,this.si=new zi(n=>Yy(n),Xy),this.lastRemoteSnapshotVersion=ce.min(),this.highestTargetId=0,this.oi=0,this._i=new sv,this.targetCount=0,this.ai=sa.ur()}forEachTarget(e,n){return this.si.forEach((r,s)=>n(s)),U.resolve()}getLastRemoteSnapshotVersion(e){return U.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return U.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),U.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),U.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new sa(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,U.resolve()}updateTargetData(e,n){return this.Pr(n),U.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,U.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.si.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.si.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),U.waitFor(i).next(()=>s)}getTargetCount(e){return U.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return U.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),U.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),U.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),U.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return U.resolve(r)}containsKey(e,n){return U.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Db{constructor(e,n){this.ui={},this.overlays={},this.ci=new jh(0),this.li=!1,this.li=!0,this.hi=new f6,this.referenceDelegate=e(this),this.Pi=new y6(this),this.indexManager=new t6,this.remoteDocumentCache=function(s){return new m6(s)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new Z5(n),this.Ii=new d6(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new h6,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new p6(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){Y("MemoryPersistence","Starting transaction:",e);const s=new v6(this.ci.next());return this.referenceDelegate.Ei(),r(s).next(i=>this.referenceDelegate.di(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ai(e,n){return U.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class v6 extends K3{constructor(e){super(),this.currentSequenceNumber=e}}class iv{constructor(e){this.persistence=e,this.Ri=new sv,this.Vi=null}static mi(e){return new iv(e)}get fi(){if(this.Vi)return this.Vi;throw ae(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),U.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),U.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),U.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(s=>this.fi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.fi.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return U.forEach(this.fi,r=>{const s=se.fromPath(r);return this.gi(e,s).next(i=>{i||n.removeEntry(s,ce.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return U.or([()=>U.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Xd{constructor(e,n){this.persistence=e,this.pi=new zi(r=>Y3(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=a6(this,n)}static mi(e,n){return new Xd(e,n)}Ei(){}di(e){return U.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return U.forEach(this.pi,(r,s)=>this.br(e,r,s).next(i=>i?U.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ii(e,o=>this.br(e,o,n).next(a=>{a||(r++,i.removeEntry(o,ce.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),U.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),U.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),U.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),U.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Ju(e.data.value)),n}br(e,n,r){return U.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return U.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ov{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=s}static As(e,n){let r=Ee(),s=Ee();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new ov(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w6{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _6{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return YV()?8:G3(Ut())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ys(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.ws(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new w6;return this.Ss(e,n,o).next(a=>{if(i.result=a,this.Vs)return this.bs(e,n,o,a.size)})}).next(()=>i.result)}bs(e,n,r,s){return r.documentReadCount<this.fs?(Zi()<=we.DEBUG&&Y("QueryEngine","SDK will not create cache indexes for query:",eo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),U.resolve()):(Zi()<=we.DEBUG&&Y("QueryEngine","Query:",eo(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(Zi()<=we.DEBUG&&Y("QueryEngine","The SDK decides to create cache indexes for query:",eo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,cr(n))):U.resolve())}ys(e,n){if(EE(n))return U.resolve(null);let r=cr(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=qm(n,null,"F"),r=cr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=Ee(...i);return this.ps.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{const u=this.Ds(n,a);return this.Cs(n,u,o,c.readTime)?this.ys(e,qm(n,null,"F")):this.vs(e,u,n,c)}))})))}ws(e,n,r,s){return EE(n)||s.isEqual(ce.min())?U.resolve(null):this.ps.getDocuments(e,r).next(i=>{const o=this.Ds(n,i);return this.Cs(n,o,r,s)?U.resolve(null):(Zi()<=we.DEBUG&&Y("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),eo(n)),this.vs(e,o,n,z3(s,Yl)).next(a=>a))})}Ds(e,n){let r=new ft(db(e));return n.forEach((s,i)=>{Bh(e,i)&&(r=r.add(i))}),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(e,n,r){return Zi()<=we.DEBUG&&Y("QueryEngine","Using full collection scan to execute query:",eo(n)),this.ps.getDocumentsMatchingQuery(e,n,Fs.min(),r)}vs(e,n,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const av="LocalStore",E6=3e8;class x6{constructor(e,n,r,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new Ge(_e),this.xs=new zi(i=>Yy(i),Xy),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new u6(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function T6(t,e,n,r){return new x6(t,e,n,r)}async function Ob(t,e){const n=ue(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let c=Ee();for(const u of s){o.push(u.batchId);for(const h of u.mutations)c=c.add(h.key)}for(const u of i){a.push(u.batchId);for(const h of u.mutations)c=c.add(h.key)}return n.localDocuments.getDocuments(r,c).next(u=>({Ls:u,removedBatchIds:o,addedBatchIds:a}))})})}function S6(t,e){const n=ue(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return function(a,c,u,h){const f=u.batch,d=f.keys();let y=U.resolve();return d.forEach(x=>{y=y.next(()=>h.getEntry(c,x)).next(g=>{const T=u.docVersions.get(x);Pe(T!==null,48541),g.version.compareTo(T)<0&&(f.applyToRemoteDocument(g,u),g.isValidDocument()&&(g.setReadTime(u.commitVersion),h.addEntry(g)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(c,f))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=Ee();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(c=c.add(a.batch.mutations[u].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function Mb(t){const e=ue(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function I6(t,e){const n=ue(t),r=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const a=[];e.targetChanges.forEach((h,f)=>{const d=s.get(f);if(!d)return;a.push(n.Pi.removeMatchingKeys(i,h.removedDocuments,f).next(()=>n.Pi.addMatchingKeys(i,h.addedDocuments,f)));let y=d.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(f)!==null?y=y.withResumeToken(It.EMPTY_BYTE_STRING,ce.min()).withLastLimboFreeSnapshotVersion(ce.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,r)),s=s.insert(f,y),function(g,T,E){return g.resumeToken.approximateByteSize()===0||T.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=E6?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0}(d,y,h)&&a.push(n.Pi.updateTargetData(i,y))});let c=$r(),u=Ee();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,h))}),a.push(C6(i,o,e.documentUpdates).next(h=>{c=h.ks,u=h.qs})),!r.isEqual(ce.min())){const h=n.Pi.getLastRemoteSnapshotVersion(i).next(f=>n.Pi.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(h)}return U.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,c,u)).next(()=>c)}).then(i=>(n.Ms=s,i))}function C6(t,e,n){let r=Ee(),s=Ee();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=$r();return n.forEach((a,c)=>{const u=i.get(a);c.isFoundDocument()!==u.isFoundDocument()&&(s=s.add(a)),c.isNoDocument()&&c.version.isEqual(ce.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):Y(av,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",c.version)}),{ks:o,qs:s}})}function b6(t,e){const n=ue(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Ky),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function A6(t,e){const n=ue(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Pi.getTargetData(r,e).next(i=>i?(s=i,U.resolve(s)):n.Pi.allocateTargetId(r).next(o=>(s=new ys(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function Xm(t,e,n){const r=ue(t),s=r.Ms.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!va(o))throw o;Y(av,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function OE(t,e,n){const r=ue(t);let s=ce.min(),i=Ee();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,u,h){const f=ue(c),d=f.xs.get(h);return d!==void 0?U.resolve(f.Ms.get(d)):f.Pi.getTargetData(u,h)}(r,o,cr(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,a.targetId).next(c=>{i=c})}).next(()=>r.Fs.getDocumentsMatchingQuery(o,e,n?s:ce.min(),n?i:Ee())).next(a=>(P6(r,p5(e),a),{documents:a,Qs:i})))}function P6(t,e,n){let r=t.Os.get(e)||ce.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Os.set(e,r)}class ME{constructor(){this.activeTargetIds=_5()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class R6{constructor(){this.Mo=new ME,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new ME,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N6{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LE="ConnectivityMonitor";class VE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Y(LE,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Y(LE,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Iu=null;function Jm(){return Iu===null?Iu=function(){return 268435456+Math.round(2147483648*Math.random())}():Iu++,"0x"+Iu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gp="RestConnection",k6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class D6{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===Hd?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,n,r,s,i){const o=Jm(),a=this.zo(e,n.toUriEncodedString());Y(gp,`Sending RPC '${e}' ${o}:`,a,r);const c={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(c,s,i);const{host:u}=new URL(a),h=fa(u);return this.Jo(e,a,c,r,h).then(f=>(Y(gp,`Received RPC '${e}' ${o}: `,f),f),f=>{throw ea(gp,`RPC '${e}' ${o} failed with error: `,f,"url: ",a,"request:",r),f})}Ho(e,n,r,s,i,o){return this.Go(e,n,r,s,i)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ga}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}zo(e,n){const r=k6[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O6{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kt="WebChannelConnection";class M6 extends D6{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,i){const o=Jm();return new Promise((a,c)=>{const u=new VC;u.setWithCredentials(!0),u.listenOnce(jC.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Xu.NO_ERROR:const f=u.getResponseJson();Y(kt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),a(f);break;case Xu.TIMEOUT:Y(kt,`RPC '${e}' ${o} timed out`),c(new X(F.DEADLINE_EXCEEDED,"Request time out"));break;case Xu.HTTP_ERROR:const d=u.getStatus();if(Y(kt,`RPC '${e}' ${o} failed with status:`,d,"response text:",u.getResponseText()),d>0){let y=u.getResponseJson();Array.isArray(y)&&(y=y[0]);const x=y==null?void 0:y.error;if(x&&x.status&&x.message){const g=function(E){const _=E.toLowerCase().replace(/_/g,"-");return Object.values(F).indexOf(_)>=0?_:F.UNKNOWN}(x.status);c(new X(g,x.message))}else c(new X(F.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new X(F.UNAVAILABLE,"Connection failed."));break;default:ae(9055,{l_:e,streamId:o,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{Y(kt,`RPC '${e}' ${o} completed.`)}});const h=JSON.stringify(s);Y(kt,`RPC '${e}' ${o} sending request:`,s),u.send(n,"POST",h,r,15)})}T_(e,n,r){const s=Jm(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=$C(),a=UC(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.jo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const h=i.join("");Y(kt,`Creating RPC '${e}' stream ${s}: ${h}`,c);const f=o.createWebChannel(h,c);this.I_(f);let d=!1,y=!1;const x=new O6({Yo:T=>{y?Y(kt,`Not sending because RPC '${e}' stream ${s} is closed:`,T):(d||(Y(kt,`Opening RPC '${e}' stream ${s} transport.`),f.open(),d=!0),Y(kt,`RPC '${e}' stream ${s} sending:`,T),f.send(T))},Zo:()=>f.close()}),g=(T,E,_)=>{T.listen(E,S=>{try{_(S)}catch(N){setTimeout(()=>{throw N},0)}})};return g(f,nl.EventType.OPEN,()=>{y||(Y(kt,`RPC '${e}' stream ${s} transport opened.`),x.o_())}),g(f,nl.EventType.CLOSE,()=>{y||(y=!0,Y(kt,`RPC '${e}' stream ${s} transport closed`),x.a_(),this.E_(f))}),g(f,nl.EventType.ERROR,T=>{y||(y=!0,ea(kt,`RPC '${e}' stream ${s} transport errored. Name:`,T.name,"Message:",T.message),x.a_(new X(F.UNAVAILABLE,"The operation could not be completed")))}),g(f,nl.EventType.MESSAGE,T=>{var E;if(!y){const _=T.data[0];Pe(!!_,16349);const S=_,N=(S==null?void 0:S.error)||((E=S[0])==null?void 0:E.error);if(N){Y(kt,`RPC '${e}' stream ${s} received error:`,N);const O=N.status;let L=function(A){const R=it[A];if(R!==void 0)return xb(R)}(O),C=N.message;L===void 0&&(L=F.INTERNAL,C="Unknown error status: "+O+" with message "+N.message),y=!0,x.a_(new X(L,C)),f.close()}else Y(kt,`RPC '${e}' stream ${s} received:`,_),x.u_(_)}}),g(a,FC.STAT_EVENT,T=>{T.stat===Fm.PROXY?Y(kt,`RPC '${e}' stream ${s} detected buffering proxy`):T.stat===Fm.NOPROXY&&Y(kt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{x.__()},0),x}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function yp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qh(t){return new F5(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lb{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=s,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&Y("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jE="PersistentStream";class Vb{constructor(e,n,r,s,i,o,a,c){this.Mi=e,this.S_=r,this.b_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Lb(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===F.RESOURCE_EXHAUSTED?(Ur(n.toString()),Ur("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===F.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.D_===n&&this.G_(r,s)},r=>{e(()=>{const s=new X(F.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(s=>{r(()=>this.z_(s))}),this.stream.onMessage(s=>{r(()=>++this.F_==1?this.J_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return Y(jE,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(Y(jE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class L6 extends Vb{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=B5(this.serializer,e),r=function(i){if(!("targetChange"in i))return ce.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?ce.min():o.readTime?ur(o.readTime):ce.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=Ym(this.serializer),n.addTarget=function(i,o){let a;const c=o.target;if(a=Hm(c)?{documents:W5(i,c)}:{query:q5(i,c).ft},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=Ib(i,o.resumeToken);const u=Km(i,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(ce.min())>0){a.readTime=Yd(i,o.snapshotVersion.toTimestamp());const u=Km(i,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=G5(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=Ym(this.serializer),n.removeTarget=e,this.q_(n)}}class V6 extends Vb{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Pe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Pe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Pe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=H5(e.writeResults,e.commitTime),r=ur(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Ym(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>z5(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j6{}class F6 extends j6{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new X(F.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Go(e,Gm(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new X(F.UNKNOWN,i.toString())})}Ho(e,n,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Ho(e,Gm(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new X(F.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class U6{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ur(n),this.aa=!1):Y("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vi="RemoteStore";class $6{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo(o=>{r.enqueueAndForget(async()=>{Hi(this)&&(Y(Vi,"Restarting streams for network reachability change."),await async function(c){const u=ue(c);u.Ea.add(4),await Ic(u),u.Ra.set("Unknown"),u.Ea.delete(4),await Kh(u)}(this))})}),this.Ra=new U6(r,s)}}async function Kh(t){if(Hi(t))for(const e of t.da)await e(!0)}async function Ic(t){for(const e of t.da)await e(!1)}function jb(t,e){const n=ue(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),dv(n)?uv(n):wa(n).O_()&&cv(n,e))}function lv(t,e){const n=ue(t),r=wa(n);n.Ia.delete(e),r.O_()&&Fb(n,e),n.Ia.size===0&&(r.O_()?r.L_():Hi(n)&&n.Ra.set("Unknown"))}function cv(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ce.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}wa(t).Y_(e)}function Fb(t,e){t.Va.Ue(e),wa(t).Z_(e)}function uv(t){t.Va=new M5({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),wa(t).start(),t.Ra.ua()}function dv(t){return Hi(t)&&!wa(t).x_()&&t.Ia.size>0}function Hi(t){return ue(t).Ea.size===0}function Ub(t){t.Va=void 0}async function B6(t){t.Ra.set("Online")}async function z6(t){t.Ia.forEach((e,n)=>{cv(t,e)})}async function H6(t,e){Ub(t),dv(t)?(t.Ra.ha(e),uv(t)):t.Ra.set("Unknown")}async function W6(t,e,n){if(t.Ra.set("Online"),e instanceof Sb&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.Ia.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.Ia.delete(a),s.Va.removeTarget(a))}(t,e)}catch(r){Y(Vi,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Jd(t,r)}else if(e instanceof td?t.Va.Ze(e):e instanceof Tb?t.Va.st(e):t.Va.tt(e),!n.isEqual(ce.min()))try{const r=await Mb(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.Va.Tt(o);return a.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){const h=i.Ia.get(u);h&&i.Ia.set(u,h.withResumeToken(c.resumeToken,o))}}),a.targetMismatches.forEach((c,u)=>{const h=i.Ia.get(c);if(!h)return;i.Ia.set(c,h.withResumeToken(It.EMPTY_BYTE_STRING,h.snapshotVersion)),Fb(i,c);const f=new ys(h.target,c,u,h.sequenceNumber);cv(i,f)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){Y(Vi,"Failed to raise snapshot:",r),await Jd(t,r)}}async function Jd(t,e,n){if(!va(e))throw e;t.Ea.add(1),await Ic(t),t.Ra.set("Offline"),n||(n=()=>Mb(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Y(Vi,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Kh(t)})}function $b(t,e){return e().catch(n=>Jd(t,n,e))}async function Gh(t){const e=ue(t),n=zs(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Ky;for(;q6(e);)try{const s=await b6(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,K6(e,s)}catch(s){await Jd(e,s)}Bb(e)&&zb(e)}function q6(t){return Hi(t)&&t.Ta.length<10}function K6(t,e){t.Ta.push(e);const n=zs(t);n.O_()&&n.X_&&n.ea(e.mutations)}function Bb(t){return Hi(t)&&!zs(t).x_()&&t.Ta.length>0}function zb(t){zs(t).start()}async function G6(t){zs(t).ra()}async function Q6(t){const e=zs(t);for(const n of t.Ta)e.ea(n.mutations)}async function Y6(t,e,n){const r=t.Ta.shift(),s=tv.from(r,e,n);await $b(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Gh(t)}async function X6(t,e){e&&zs(t).X_&&await async function(r,s){if(function(o){return k5(o)&&o!==F.ABORTED}(s.code)){const i=r.Ta.shift();zs(r).B_(),await $b(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await Gh(r)}}(t,e),Bb(t)&&zb(t)}async function FE(t,e){const n=ue(t);n.asyncQueue.verifyOperationInProgress(),Y(Vi,"RemoteStore received new credentials");const r=Hi(n);n.Ea.add(3),await Ic(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Kh(n)}async function J6(t,e){const n=ue(t);e?(n.Ea.delete(2),await Kh(n)):e||(n.Ea.add(2),await Ic(n),n.Ra.set("Unknown"))}function wa(t){return t.ma||(t.ma=function(n,r,s){const i=ue(n);return i.sa(),new L6(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:B6.bind(null,t),t_:z6.bind(null,t),r_:H6.bind(null,t),H_:W6.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),dv(t)?uv(t):t.Ra.set("Unknown")):(await t.ma.stop(),Ub(t))})),t.ma}function zs(t){return t.fa||(t.fa=function(n,r,s){const i=ue(n);return i.sa(),new V6(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:G6.bind(null,t),r_:X6.bind(null,t),ta:Q6.bind(null,t),na:Y6.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await Gh(t)):(await t.fa.stop(),t.Ta.length>0&&(Y(Vi,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hv{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new xi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new hv(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new X(F.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function fv(t,e){if(Ur("AsyncQueue",`${e}: ${t}`),va(t))return new X(F.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{static emptySet(e){return new ko(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||se.comparator(n.key,r.key):(n,r)=>se.comparator(n.key,r.key),this.keyedMap=rl(),this.sortedSet=new Ge(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ko)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new ko;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UE{constructor(){this.ga=new Ge(se.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ae(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class ia{constructor(e,n,r,s,i,o,a,c,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new ia(e,n,ko.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&$h(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z6{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class eU{constructor(){this.queries=$E(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=ue(n),i=s.queries;s.queries=$E(),i.forEach((o,a)=>{for(const c of a.Sa)c.onError(r)})})(this,new X(F.ABORTED,"Firestore shutting down"))}}function $E(){return new zi(t=>ub(t),$h)}async function tU(t,e){const n=ue(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.ba()&&e.Da()&&(r=2):(i=new Z6,r=e.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(s,!0);break;case 1:i.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=fv(o,`Initialization of query '${eo(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.Sa.push(e),e.va(n.onlineState),i.wa&&e.Fa(i.wa)&&pv(n)}async function nU(t,e){const n=ue(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.Sa.indexOf(e);o>=0&&(i.Sa.splice(o,1),i.Sa.length===0?s=e.Da()?0:1:!i.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function rU(t,e){const n=ue(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.Sa)a.Fa(s)&&(r=!0);o.wa=s}}r&&pv(n)}function sU(t,e,n){const r=ue(t),s=r.queries.get(e);if(s)for(const i of s.Sa)i.onError(n);r.queries.delete(e)}function pv(t){t.Ca.forEach(e=>{e.next()})}var Zm,BE;(BE=Zm||(Zm={})).Ma="default",BE.Cache="cache";class iU{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new ia(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=ia.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Zm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hb{constructor(e){this.key=e}}class Wb{constructor(e){this.key=e}}class oU{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ee(),this.mutatedKeys=Ee(),this.eu=db(e),this.tu=new ko(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new UE,s=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const c=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,u=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((h,f)=>{const d=s.get(h),y=Bh(this.query,f)?f:null,x=!!d&&this.mutatedKeys.has(d.key),g=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let T=!1;d&&y?d.data.isEqual(y.data)?x!==g&&(r.track({type:3,doc:y}),T=!0):this.su(d,y)||(r.track({type:2,doc:y}),T=!0,(c&&this.eu(y,c)>0||u&&this.eu(y,u)<0)&&(a=!0)):!d&&y?(r.track({type:0,doc:y}),T=!0):d&&!y&&(r.track({type:1,doc:d}),T=!0,(c||u)&&(a=!0)),T&&(y?(o=o.add(y),i=g?i.add(h):i.delete(h)):(o=o.delete(h),i=i.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),i=i.delete(h.key),r.track({type:1,doc:h})}return{tu:o,iu:r,Cs:a,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((h,f)=>function(y,x){const g=T=>{switch(T){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ae(20277,{Rt:T})}};return g(y)-g(x)}(h.type,f.type)||this.eu(h.doc,f.doc)),this.ou(r),s=s??!1;const a=n&&!s?this._u():[],c=this.Xa.size===0&&this.current&&!s?1:0,u=c!==this.Za;return this.Za=c,o.length!==0||u?{snapshot:new ia(this.query,e.tu,i,o,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new UE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ee(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new Wb(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new Hb(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=Ee();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return ia.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const mv="SyncEngine";class aU{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class lU{constructor(e){this.key=e,this.hu=!1}}class cU{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new zi(a=>ub(a),$h),this.Iu=new Map,this.Eu=new Set,this.du=new Ge(se.comparator),this.Au=new Map,this.Ru=new sv,this.Vu={},this.mu=new Map,this.fu=sa.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function uU(t,e,n=!0){const r=Xb(t);let s;const i=r.Tu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await qb(r,e,n,!0),s}async function dU(t,e){const n=Xb(t);await qb(n,e,!0,!1)}async function qb(t,e,n,r){const s=await A6(t.localStore,cr(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await hU(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&jb(t.remoteStore,s),a}async function hU(t,e,n,r,s){t.pu=(f,d,y)=>async function(g,T,E,_){let S=T.view.ru(E);S.Cs&&(S=await OE(g.localStore,T.query,!1).then(({documents:C})=>T.view.ru(C,S)));const N=_&&_.targetChanges.get(T.targetId),O=_&&_.targetMismatches.get(T.targetId)!=null,L=T.view.applyChanges(S,g.isPrimaryClient,N,O);return HE(g,T.targetId,L.au),L.snapshot}(t,f,d,y);const i=await OE(t.localStore,e,!0),o=new oU(e,i.Qs),a=o.ru(i.documents),c=Sc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),u=o.applyChanges(a,t.isPrimaryClient,c);HE(t,n,u.au);const h=new aU(e,n,o);return t.Tu.set(e,h),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),u.snapshot}async function fU(t,e,n){const r=ue(t),s=r.Tu.get(e),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter(o=>!$h(o,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Xm(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&lv(r.remoteStore,s.targetId),eg(r,s.targetId)}).catch(ya)):(eg(r,s.targetId),await Xm(r.localStore,s.targetId,!0))}async function pU(t,e){const n=ue(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),lv(n.remoteStore,r.targetId))}async function mU(t,e,n){const r=xU(t);try{const s=await function(o,a){const c=ue(o),u=De.now(),h=a.reduce((y,x)=>y.add(x.key),Ee());let f,d;return c.persistence.runTransaction("Locally write mutations","readwrite",y=>{let x=$r(),g=Ee();return c.Ns.getEntries(y,h).next(T=>{x=T,x.forEach((E,_)=>{_.isValidDocument()||(g=g.add(E))})}).next(()=>c.localDocuments.getOverlayedDocuments(y,x)).next(T=>{f=T;const E=[];for(const _ of a){const S=b5(_,f.get(_.key).overlayedDocument);S!=null&&E.push(new Js(_.key,S,nb(S.value.mapValue),zn.exists(!0)))}return c.mutationQueue.addMutationBatch(y,u,E,a)}).next(T=>{d=T;const E=T.applyToLocalDocumentSet(f,g);return c.documentOverlayCache.saveOverlays(y,T.batchId,E)})}).then(()=>({batchId:d.batchId,changes:fb(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,c){let u=o.Vu[o.currentUser.toKey()];u||(u=new Ge(_e)),u=u.insert(a,c),o.Vu[o.currentUser.toKey()]=u}(r,s.batchId,n),await Cc(r,s.changes),await Gh(r.remoteStore)}catch(s){const i=fv(s,"Failed to persist write");n.reject(i)}}async function Kb(t,e){const n=ue(t);try{const r=await I6(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Au.get(i);o&&(Pe(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.hu=!0:s.modifiedDocuments.size>0?Pe(o.hu,14607):s.removedDocuments.size>0&&(Pe(o.hu,42227),o.hu=!1))}),await Cc(n,r,e)}catch(r){await ya(r)}}function zE(t,e,n){const r=ue(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach((i,o)=>{const a=o.view.va(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const c=ue(o);c.onlineState=a;let u=!1;c.queries.forEach((h,f)=>{for(const d of f.Sa)d.va(a)&&(u=!0)}),u&&pv(c)}(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function gU(t,e,n){const r=ue(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),i=s&&s.key;if(i){let o=new Ge(se.comparator);o=o.insert(i,Vt.newNoDocument(i,ce.min()));const a=Ee().add(i),c=new Wh(ce.min(),new Map,new Ge(_e),o,a);await Kb(r,c),r.du=r.du.remove(i),r.Au.delete(e),gv(r)}else await Xm(r.localStore,e,!1).then(()=>eg(r,e,n)).catch(ya)}async function yU(t,e){const n=ue(t),r=e.batch.batchId;try{const s=await S6(n.localStore,e);Qb(n,r,null),Gb(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Cc(n,s)}catch(s){await ya(s)}}async function vU(t,e,n){const r=ue(t);try{const s=await function(o,a){const c=ue(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let h;return c.mutationQueue.lookupMutationBatch(u,a).next(f=>(Pe(f!==null,37113),h=f.keys(),c.mutationQueue.removeMutationBatch(u,f))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,h,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,h)).next(()=>c.localDocuments.getDocuments(u,h))})}(r.localStore,e);Qb(r,e,n),Gb(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Cc(r,s)}catch(s){await ya(s)}}function Gb(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function Qb(t,e,n){const r=ue(t);let s=r.Vu[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function eg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||Yb(t,r)})}function Yb(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(lv(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),gv(t))}function HE(t,e,n){for(const r of n)r instanceof Hb?(t.Ru.addReference(r.key,e),wU(t,r)):r instanceof Wb?(Y(mv,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||Yb(t,r.key)):ae(19791,{wu:r})}function wU(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(Y(mv,"New document in limbo: "+n),t.Eu.add(r),gv(t))}function gv(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new se(Me.fromString(e)),r=t.fu.next();t.Au.set(r,new lU(n)),t.du=t.du.insert(n,r),jb(t.remoteStore,new ys(cr(Jy(n.path)),r,"TargetPurposeLimboResolution",jh.ce))}}async function Cc(t,e,n){const r=ue(t),s=[],i=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((a,c)=>{o.push(r.pu(c,e,n).then(u=>{var h;if((u||n)&&r.isPrimaryClient){const f=u?!u.fromCache:(h=n==null?void 0:n.targetChanges.get(c.targetId))==null?void 0:h.current;r.sharedClientState.updateQueryState(c.targetId,f?"current":"not-current")}if(u){s.push(u);const f=ov.As(c.targetId,u);i.push(f)}}))}),await Promise.all(o),r.Pu.H_(s),await async function(c,u){const h=ue(c);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>U.forEach(u,d=>U.forEach(d.Es,y=>h.persistence.referenceDelegate.addReference(f,d.targetId,y)).next(()=>U.forEach(d.ds,y=>h.persistence.referenceDelegate.removeReference(f,d.targetId,y)))))}catch(f){if(!va(f))throw f;Y(av,"Failed to update sequence numbers: "+f)}for(const f of u){const d=f.targetId;if(!f.fromCache){const y=h.Ms.get(d),x=y.snapshotVersion,g=y.withLastLimboFreeSnapshotVersion(x);h.Ms=h.Ms.insert(d,g)}}}(r.localStore,i))}async function _U(t,e){const n=ue(t);if(!n.currentUser.isEqual(e)){Y(mv,"User change. New user:",e.toKey());const r=await Ob(n.localStore,e);n.currentUser=e,function(i,o){i.mu.forEach(a=>{a.forEach(c=>{c.reject(new X(F.CANCELLED,o))})}),i.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Cc(n,r.Ls)}}function EU(t,e){const n=ue(t),r=n.Au.get(e);if(r&&r.hu)return Ee().add(r.key);{let s=Ee();const i=n.Iu.get(e);if(!i)return s;for(const o of i){const a=n.Tu.get(o);s=s.unionWith(a.view.nu)}return s}}function Xb(t){const e=ue(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Kb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=EU.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=gU.bind(null,e),e.Pu.H_=rU.bind(null,e.eventManager),e.Pu.yu=sU.bind(null,e.eventManager),e}function xU(t){const e=ue(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=yU.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=vU.bind(null,e),e}class Zd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=qh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return T6(this.persistence,new _6,e.initialUser,this.serializer)}Cu(e){return new Db(iv.mi,this.serializer)}Du(e){return new R6}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Zd.provider={build:()=>new Zd};class TU extends Zd{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Pe(this.persistence.referenceDelegate instanceof Xd,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new i6(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Yt.withCacheSize(this.cacheSizeBytes):Yt.DEFAULT;return new Db(r=>Xd.mi(r,n),this.serializer)}}class tg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>zE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=_U.bind(null,this.syncEngine),await J6(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new eU}()}createDatastore(e){const n=qh(e.databaseInfo.databaseId),r=function(i){return new M6(i)}(e.databaseInfo);return function(i,o,a,c){return new F6(i,o,a,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new $6(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>zE(this.syncEngine,n,0),function(){return VE.v()?new VE:new N6}())}createSyncEngine(e,n){return function(s,i,o,a,c,u,h){const f=new cU(s,i,o,a,c,u);return h&&(f.gu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=ue(s);Y(Vi,"RemoteStore shutting down."),i.Ea.add(5),await Ic(i),i.Aa.shutdown(),i.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}tg.provider={build:()=>new tg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SU{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ur("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hs="FirestoreClient";class IU{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Mt.UNAUTHENTICATED,this.clientId=qy.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{Y(Hs,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(Y(Hs,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new xi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=fv(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function vp(t,e){t.asyncQueue.verifyOperationInProgress(),Y(Hs,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await Ob(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function WE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await CU(t);Y(Hs,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>FE(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>FE(e.remoteStore,s)),t._onlineComponents=e}async function CU(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Y(Hs,"Using user provided OfflineComponentProvider");try{await vp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===F.FAILED_PRECONDITION||s.code===F.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;ea("Error using user provided cache. Falling back to memory cache: "+n),await vp(t,new Zd)}}else Y(Hs,"Using default OfflineComponentProvider"),await vp(t,new TU(void 0));return t._offlineComponents}async function Jb(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Y(Hs,"Using user provided OnlineComponentProvider"),await WE(t,t._uninitializedComponentsProvider._online)):(Y(Hs,"Using default OnlineComponentProvider"),await WE(t,new tg))),t._onlineComponents}function bU(t){return Jb(t).then(e=>e.syncEngine)}async function qE(t){const e=await Jb(t),n=e.eventManager;return n.onListen=uU.bind(null,e.syncEngine),n.onUnlisten=fU.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=dU.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=pU.bind(null,e.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zb(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KE=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eA="firestore.googleapis.com",GE=!0;class QE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new X(F.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=eA,this.ssl=GE}else this.host=e.host,this.ssl=e.ssl??GE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=kb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<r6)throw new X(F.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}B3("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Zb(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new X(F.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new X(F.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new X(F.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Qh{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new QE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new X(F.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new X(F.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new QE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new k3;switch(r.type){case"firstParty":return new L3(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new X(F.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=KE.get(n);r&&(Y("ComponentProvider","Removing Datastore"),KE.delete(n),r.terminate())}(this),Promise.resolve()}}function AU(t,e,n,r={}){var u;t=Ns(t,Qh);const s=fa(e),i=t._getSettings(),o={...i,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${n}`;s&&(QI(`https://${a}`),YI("Firestore",!0)),i.host!==eA&&i.host!==a&&ea("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...i,host:a,ssl:s,emulatorOptions:r};if(!ki(c,o)&&(t._setSettings(c),r.mockUserToken)){let h,f;if(typeof r.mockUserToken=="string")h=r.mockUserToken,f=Mt.MOCK_USER;else{h=$V(r.mockUserToken,(u=t._app)==null?void 0:u.options.projectId);const d=r.mockUserToken.sub||r.mockUserToken.user_id;if(!d)throw new X(F.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Mt(d)}t._authCredentials=new D3(new zC(h,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new _a(this.firestore,e,this._query)}}class ct{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ks(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ct(this.firestore,e,this._key)}toJSON(){return{type:ct._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Ec(n,ct._jsonSchema))return new ct(e,r||null,new se(Me.fromString(n.referencePath)))}}ct._jsonSchemaVersion="firestore/documentReference/1.0",ct._jsonSchema={type:lt("string",ct._jsonSchemaVersion),referencePath:lt("string")};class ks extends _a{constructor(e,n,r){super(e,n,Jy(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ct(this.firestore,null,new se(e))}withConverter(e){return new ks(this.firestore,e,this._path)}}function YE(t,e,...n){if(t=pt(t),HC("collection","path",e),t instanceof Qh){const r=Me.fromString(e,...n);return aE(r),new ks(t,null,r)}{if(!(t instanceof ct||t instanceof ks))throw new X(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Me.fromString(e,...n));return aE(r),new ks(t.firestore,null,r)}}function ng(t,e,...n){if(t=pt(t),arguments.length===1&&(e=qy.newId()),HC("doc","path",e),t instanceof Qh){const r=Me.fromString(e,...n);return oE(r),new ct(t,null,new se(r))}{if(!(t instanceof ct||t instanceof ks))throw new X(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Me.fromString(e,...n));return oE(r),new ct(t.firestore,t instanceof ks?t.converter:null,new se(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XE="AsyncQueue";class JE{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Lb(this,"async_queue_retry"),this._c=()=>{const r=yp();r&&Y(XE,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=yp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=yp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new xi;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!va(e))throw e;Y(XE,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,Ur("INTERNAL UNHANDLED ERROR: ",ZE(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=hv.createAndSchedule(this,e,n,r,i=>this.hc(i));return this.tc.push(s),s}uc(){this.nc&&ae(47125,{Pc:ZE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function ZE(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e1(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1}(t,["next","error","complete"])}class oa extends Qh{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new JE,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new JE(e),this._firestoreClient=void 0,await e}}}function PU(t,e){const n=typeof t=="object"?t:eC(),r=typeof t=="string"?t:Hd,s=Oy(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=FV("firestore");i&&AU(s,...i)}return s}function tA(t){if(t._terminated)throw new X(F.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||RU(t),t._firestoreClient}function RU(t){var r,s,i;const e=t._freezeSettings(),n=function(a,c,u,h){return new Z3(a,c,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,Zb(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(s=e.localCache)!=null&&s._offlineComponentProvider&&((i=e.localCache)!=null&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new IU(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(a){const c=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Tn(It.fromBase64String(e))}catch(n){throw new X(F.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Tn(It.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Tn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Ec(e,Tn._jsonSchema))return Tn.fromBase64String(e.bytes)}}Tn._jsonSchemaVersion="firestore/bytes/1.0",Tn._jsonSchema={type:lt("string",Tn._jsonSchemaVersion),bytes:lt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new X(F.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new xt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yv{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new X(F.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new X(F.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return _e(this._lat,e._lat)||_e(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:dr._jsonSchemaVersion}}static fromJSON(e){if(Ec(e,dr._jsonSchema))return new dr(e.latitude,e.longitude)}}dr._jsonSchemaVersion="firestore/geoPoint/1.0",dr._jsonSchema={type:lt("string",dr._jsonSchemaVersion),latitude:lt("number"),longitude:lt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}toJSON(){return{type:hr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Ec(e,hr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new hr(e.vectorValues);throw new X(F.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}hr._jsonSchemaVersion="firestore/vectorValue/1.0",hr._jsonSchema={type:lt("string",hr._jsonSchemaVersion),vectorValues:lt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NU=/^__.*__$/;class kU{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Js(e,this.data,this.fieldMask,n,this.fieldTransforms):new Tc(e,this.data,n,this.fieldTransforms)}}class nA{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Js(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function rA(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ae(40011,{Ac:t})}}class vv{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new vv({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return eh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(rA(this.Ac)&&NU.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class DU{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||qh(e)}Cc(e,n,r,s=!1){return new vv({Ac:e,methodName:n,Dc:r,path:xt.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function wv(t){const e=t._freezeSettings(),n=qh(t._databaseId);return new DU(t._databaseId,!!e.ignoreUndefinedProperties,n)}function OU(t,e,n,r,s,i={}){const o=t.Cc(i.merge||i.mergeFields?2:0,e,n,s);_v("Data must be an object, but it was:",o,r);const a=sA(r,o);let c,u;if(i.merge)c=new fn(o.fieldMask),u=o.fieldTransforms;else if(i.mergeFields){const h=[];for(const f of i.mergeFields){const d=rg(e,f,n);if(!o.contains(d))throw new X(F.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);oA(h,d)||h.push(d)}c=new fn(h),u=o.fieldTransforms.filter(f=>c.covers(f.field))}else c=null,u=o.fieldTransforms;return new kU(new Jt(a),c,u)}class Xh extends yv{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Xh}}function MU(t,e,n,r){const s=t.Cc(1,e,n);_v("Data must be an object, but it was:",s,r);const i=[],o=Jt.empty();Xs(r,(c,u)=>{const h=Ev(e,c,n);u=pt(u);const f=s.yc(h);if(u instanceof Xh)i.push(h);else{const d=bc(u,f);d!=null&&(i.push(h),o.set(h,d))}});const a=new fn(i);return new nA(o,a,s.fieldTransforms)}function LU(t,e,n,r,s,i){const o=t.Cc(1,e,n),a=[rg(e,r,n)],c=[s];if(i.length%2!=0)throw new X(F.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<i.length;d+=2)a.push(rg(e,i[d])),c.push(i[d+1]);const u=[],h=Jt.empty();for(let d=a.length-1;d>=0;--d)if(!oA(u,a[d])){const y=a[d];let x=c[d];x=pt(x);const g=o.yc(y);if(x instanceof Xh)u.push(y);else{const T=bc(x,g);T!=null&&(u.push(y),h.set(y,T))}}const f=new fn(u);return new nA(h,f,o.fieldTransforms)}function VU(t,e,n,r=!1){return bc(n,t.Cc(r?4:3,e))}function bc(t,e){if(iA(t=pt(t)))return _v("Unsupported field value:",e,t),sA(t,e);if(t instanceof yv)return function(r,s){if(!rA(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let c=bc(a,s.wc(o));c==null&&(c={nullValue:"NULL_VALUE"}),i.push(c),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=pt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return E5(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=De.fromDate(r);return{timestampValue:Yd(s.serializer,i)}}if(r instanceof De){const i=new De(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Yd(s.serializer,i)}}if(r instanceof dr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Tn)return{bytesValue:Ib(s.serializer,r._byteString)};if(r instanceof ct){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:rv(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof hr)return function(o,a){return{mapValue:{fields:{[ZC]:{stringValue:tb},[Wd]:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw a.Sc("VectorValues must only contain numeric values.");return Zy(a.serializer,u)})}}}}}}(r,s);throw s.Sc(`Unsupported field value: ${Vh(r)}`)}(t,e)}function sA(t,e){const n={};return KC(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Xs(t,(r,s)=>{const i=bc(s,e.mc(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function iA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof De||t instanceof dr||t instanceof Tn||t instanceof ct||t instanceof yv||t instanceof hr)}function _v(t,e,n){if(!iA(n)||!WC(n)){const r=Vh(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function rg(t,e,n){if((e=pt(e))instanceof Yh)return e._internalPath;if(typeof e=="string")return Ev(t,e);throw eh("Field path arguments must be of type string or ",t,!1,void 0,n)}const jU=new RegExp("[~\\*/\\[\\]]");function Ev(t,e,n){if(e.search(jU)>=0)throw eh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Yh(...e.split("."))._internalPath}catch{throw eh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function eh(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(i||o)&&(c+=" (found",i&&(c+=` in field ${r}`),o&&(c+=` in document ${s}`),c+=")"),new X(F.INVALID_ARGUMENT,a+t+c)}function oA(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aA{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new ct(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new FU(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(xv("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class FU extends aA{data(){return super.data()}}function xv(t,e){return typeof e=="string"?Ev(t,e):e instanceof Yh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UU(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new X(F.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Tv{}class $U extends Tv{}function BU(t,e,...n){let r=[];e instanceof Tv&&r.push(e),r=r.concat(n),function(i){const o=i.filter(c=>c instanceof Sv).length,a=i.filter(c=>c instanceof Jh).length;if(o>1||o>0&&a>0)throw new X(F.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class Jh extends $U{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Jh(e,n,r)}_apply(e){const n=this._parse(e);return lA(e._query,n),new _a(e.firestore,e.converter,Wm(e._query,n))}_parse(e){const n=wv(e.firestore);return function(i,o,a,c,u,h,f){let d;if(u.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new X(F.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){n1(f,h);const x=[];for(const g of f)x.push(t1(c,i,g));d={arrayValue:{values:x}}}else d=t1(c,i,f)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||n1(f,h),d=VU(a,o,f,h==="in"||h==="not-in");return at.create(u,h,d)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function zU(t,e,n){const r=e,s=xv("where",t);return Jh._create(s,r,n)}class Sv extends Tv{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Sv(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Kn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const a=i.getFlattenedFilters();for(const c of a)lA(o,c),o=Wm(o,c)}(e._query,n),new _a(e.firestore,e.converter,Wm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function t1(t,e,n){if(typeof(n=pt(n))=="string"){if(n==="")throw new X(F.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!cb(e)&&n.indexOf("/")!==-1)throw new X(F.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Me.fromString(n));if(!se.isDocumentKey(r))throw new X(F.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return mE(t,new se(r))}if(n instanceof ct)return mE(t,n._key);throw new X(F.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Vh(n)}.`)}function n1(t,e){if(!Array.isArray(t)||t.length===0)throw new X(F.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function lA(t,e){const n=function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new X(F.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new X(F.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class HU{convertValue(e,n="none"){switch(Bs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return tt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes($s(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ae(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Xs(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var r,s,i;const n=(i=(s=(r=e.fields)==null?void 0:r[Wd].arrayValue)==null?void 0:s.values)==null?void 0:i.map(o=>tt(o.doubleValue));return new hr(n)}convertGeoPoint(e){return new dr(tt(e.latitude),tt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Uh(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Xl(e));default:return null}}convertTimestamp(e){const n=Us(e);return new De(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Me.fromString(e);Pe(Nb(r),9688,{name:e});const s=new Jl(r.get(1),r.get(3)),i=new se(r.popFirst(5));return s.isEqual(n)||Ur(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WU(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class il{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ti extends aA{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new nd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(xv("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new X(F.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Ti._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ti._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ti._jsonSchema={type:lt("string",Ti._jsonSchemaVersion),bundleSource:lt("string","DocumentSnapshot"),bundleName:lt("string"),bundle:lt("string")};class nd extends Ti{data(e={}){return super.data(e)}}class Do{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new il(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new nd(this._firestore,this._userDataWriter,r.key,r,new il(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new X(F.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const c=new nd(s._firestore,s._userDataWriter,a.doc.key,a.doc,new il(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const c=new nd(s._firestore,s._userDataWriter,a.doc.key,a.doc,new il(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let u=-1,h=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:qU(a.type),doc:c,oldIndex:u,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new X(F.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Do._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=qy.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach(i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function qU(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ae(61501,{type:t})}}Do._jsonSchemaVersion="firestore/querySnapshot/1.0",Do._jsonSchema={type:lt("string",Do._jsonSchemaVersion),bundleSource:lt("string","QuerySnapshot"),bundleName:lt("string"),bundle:lt("string")};class cA extends HU{constructor(e){super(),this.firestore=e}convertBytes(e){return new Tn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ct(this.firestore,null,n)}}function KU(t,e,n,...r){t=Ns(t,ct);const s=Ns(t.firestore,oa),i=wv(s);let o;return o=typeof(e=pt(e))=="string"||e instanceof Yh?LU(i,"updateDoc",t._key,e,n,r):MU(i,"updateDoc",t._key,e),Iv(s,[o.toMutation(t._key,zn.exists(!0))])}function GU(t){return Iv(Ns(t.firestore,oa),[new ev(t._key,zn.none())])}function QU(t,e){const n=Ns(t.firestore,oa),r=ng(t),s=WU(t.converter,e);return Iv(n,[OU(wv(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,zn.exists(!1))]).then(()=>r)}function YU(t,...e){var c,u,h;t=pt(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||e1(e[r])||(n=e[r++]);const s={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(e1(e[r])){const f=e[r];e[r]=(c=f.next)==null?void 0:c.bind(f),e[r+1]=(u=f.error)==null?void 0:u.bind(f),e[r+2]=(h=f.complete)==null?void 0:h.bind(f)}let i,o,a;if(t instanceof ct)o=Ns(t.firestore,oa),a=Jy(t._key.path),i={next:f=>{e[r]&&e[r](XU(o,t,f))},error:e[r+1],complete:e[r+2]};else{const f=Ns(t,_a);o=Ns(f.firestore,oa),a=f._query;const d=new cA(o);i={next:y=>{e[r]&&e[r](new Do(o,d,f,y))},error:e[r+1],complete:e[r+2]},UU(t._query)}return function(d,y,x,g){const T=new SU(g),E=new iU(y,T,x);return d.asyncQueue.enqueueAndForget(async()=>tU(await qE(d),E)),()=>{T.Nu(),d.asyncQueue.enqueueAndForget(async()=>nU(await qE(d),E))}}(tA(o),a,s,i)}function Iv(t,e){return function(r,s){const i=new xi;return r.asyncQueue.enqueueAndForget(async()=>mU(await bU(r),s,i)),i.promise}(tA(t),e)}function XU(t,e,n){const r=n.docs.get(e._key),s=new cA(t);return new Ti(t,s,e._key,r,new il(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(s){ga=s})(pa),Zo(new Di("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new oa(new O3(r.getProvider("auth-internal")),new V3(o,r.getProvider("app-check-internal")),function(u,h){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new X(F.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Jl(u.options.projectId,h)}(o,s),o);return i={useFetchStreams:n,...i},a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),Ps(nE,rE,e),Ps(nE,rE,"esm2020")})();const JU={apiKey:"AIzaSyCVBaG6P3S9MwqP_vzu53NIWEo_DiQ_Tm8",authDomain:"propone09.firebaseapp.com",projectId:"propone09",storageBucket:"propone09.firebasestorage.app",messagingSenderId:"1049069221043",appId:"1:1049069221043:web:c3037f3b4a77cb8658ecc6"},uA=ZI(JU),Ga=R3(uA),Cu=PU(uA);class ZU{constructor(){oi(this,"currentUser",null);oi(this,"authListeners",[]);oi(this,"googleProvider");this.googleProvider=new Ir,this.init()}init(){vF(Ga,e=>{this.currentUser=e,this.authListeners.forEach(n=>n(e))})}onAuthStateChange(e){return this.authListeners.push(e),e(this.currentUser),()=>{this.authListeners=this.authListeners.filter(n=>n!==e)}}getCurrentUser(){return this.currentUser}isAuthenticated(){return this.currentUser!==null}getUserProfile(){return this.currentUser?{email:this.currentUser.email,uid:this.currentUser.uid,authMethod:"email",canChangePassword:!0,createdAt:this.currentUser.metadata.creationTime}:null}async signIn(e,n){try{return{success:!0,user:(await mF(Ga,e,n)).user}}catch(r){return{success:!1,error:r.message||"Login failed"}}}async signUp(e,n){try{return{success:!0,user:(await pF(Ga,e,n)).user}}catch(r){return{success:!1,error:r.message||"Registration failed"}}}async signInWithGoogle(){try{return{success:!0,user:(await FF(Ga,this.googleProvider)).user}}catch(e){return{success:!1,error:e.message||"Google sign-in failed"}}}async signOut(){try{return await wF(Ga),{success:!0}}catch(e){return{success:!1,error:e.message||"Sign out failed"}}}}const Il=new ZU;class e9{constructor(){oi(this,"accounts",[]);oi(this,"listeners",[]);oi(this,"unsubscribe",null)}async loadAccounts(e){try{const n=BU(YE(Cu,"accounts"),zU("userId","==",e));return this.unsubscribe=YU(n,r=>{this.accounts=r.docs.map(s=>{var i,o;return{id:s.id,...s.data(),createdAt:((i=s.data().createdAt)==null?void 0:i.toDate())||new Date,updatedAt:((o=s.data().updatedAt)==null?void 0:o.toDate())||new Date}}),this.listeners.forEach(s=>s(this.accounts))}),{success:!0}}catch(n){return console.error("Error loading accounts:",n),{success:!1,error:n.message}}}onAccountsChange(e){return this.listeners.push(e),e(this.accounts),()=>{this.listeners=this.listeners.filter(n=>n!==e)}}getAllAccounts(){return this.accounts}getFilteredAccounts(e){return this.accounts.filter(n=>{const r=n.currentBalance-n.accountSize,s=n.accountSize*(n.maxDrawdown/100),i=r<-s;switch(e){case"active":return n.status==="active"&&!i;case"funded":return n.phase==="Funded"&&n.status==="active"&&!i;case"phase1":return n.phase==="Challenge Phase 1"&&n.status==="active"&&!i;case"phase2":return n.phase==="Challenge Phase 2"&&n.status==="active"&&!i;case"breached":return n.status==="breached"||n.status==="active"&&i;case"upgraded":return n.status==="upgraded";default:return!0}})}async addAccount(e,n){try{const r={...n,userId:e,createdAt:De.now(),updatedAt:De.now()};return{success:!0,id:(await QU(YE(Cu,"accounts"),r)).id}}catch(r){return console.error("Error adding account:",r),{success:!1,error:r.message}}}async updateAccount(e,n){try{const r=ng(Cu,"accounts",e);return await KU(r,{...n,updatedAt:De.now()}),{success:!0}}catch(r){return console.error("Error updating account:",r),{success:!1,error:r.message}}}async deleteAccount(e){try{return await GU(ng(Cu,"accounts",e)),{success:!0}}catch(n){return console.error("Error deleting account:",n),{success:!1,error:n.message}}}getSummaryStats(){const e={funded:{count:0,totalCapital:0,totalProfit:0,totalWithdrawals:0},challenge:{phase1Active:0,phase1Capital:0,phase2Active:0,phase2Capital:0},inactive:{totalPassed:0,phase1Breached:0,phase2Breached:0,fundedBreached:0}};return this.accounts.forEach(n=>{const r=n.currentBalance-n.accountSize,s=n.accountSize*(n.maxDrawdown/100),i=r<-s;if(n.status==="active"&&!i)if(n.phase==="Funded"){if(e.funded.count++,e.funded.totalCapital+=n.accountSize,r>0){const o=r*(n.profitShare||80)/100;e.funded.totalProfit+=o}}else n.phase==="Challenge Phase 1"?(e.challenge.phase1Active++,e.challenge.phase1Capital+=n.accountSize):n.phase==="Challenge Phase 2"&&(e.challenge.phase2Active++,e.challenge.phase2Capital+=n.accountSize);else n.status==="upgraded"?e.inactive.totalPassed++:(n.status==="breached"||n.status==="active"&&i)&&(n.phase==="Challenge Phase 1"?e.inactive.phase1Breached++:n.phase==="Challenge Phase 2"?e.inactive.phase2Breached++:n.phase==="Funded"&&e.inactive.fundedBreached++)}),e}calculateAccountHealth(e){const n=e.currentBalance-e.accountSize,r=e.accountSize*(e.maxDrawdown/100),s=n<-r,i=e.profitTargetAmount>0?n/e.profitTargetAmount*100:0,o=Math.abs(n/r)*100,a=e.profitTargetAmount>0&&n>=e.profitTargetAmount,c=-r,u=e.phase==="Funded"?e.accountSize*.2:e.profitTargetAmount,h=u-c,f=n-c,d=Math.max(0,Math.min(100,f/h*100));return{currentPnL:n,isMaxDrawdownBreached:s,profitPercentage:i,drawdownPercentage:o,isTargetReached:a,maxDrawdownAmount:r,progressPercent:d,leftLimit:c,rightLimit:u}}exportAccountsData(){return this.accounts.map(e=>({...e,createdAt:e.createdAt.toISOString(),updatedAt:e.updatedAt.toISOString()}))}async importAccountsData(e,n){try{const r=n.map(s=>{const{id:i,...o}=s;return this.addAccount(e,{...o,createdAt:new Date(o.createdAt),updatedAt:new Date(o.updatedAt)})});return await Promise.all(r),{success:!0}}catch(r){return console.error("Error importing accounts:",r),{success:!1,error:r.message}}}cleanup(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null),this.accounts=[],this.listeners=[]}}const Zn=new e9,Sn=w.forwardRef(({className:t,type:e,...n},r)=>m.jsx("input",{type:e,className:de("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));Sn.displayName="Input";var t9="Label",dA=w.forwardRef((t,e)=>m.jsx(pe.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));dA.displayName=t9;var hA=dA;const n9=fc("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Ot=w.forwardRef(({className:t,...e},n)=>m.jsx(hA,{ref:n,className:de(n9(),t),...e}));Ot.displayName=hA.displayName;function r9(t,e=[]){let n=[];function r(i,o){const a=w.createContext(o),c=n.length;n=[...n,o];function u(f){const{scope:d,children:y,...x}=f,g=(d==null?void 0:d[t][c])||a,T=w.useMemo(()=>x,Object.values(x));return m.jsx(g.Provider,{value:T,children:y})}function h(f,d){const y=(d==null?void 0:d[t][c])||a,x=w.useContext(y);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return u.displayName=i+"Provider",[u,h]}const s=()=>{const i=n.map(o=>w.createContext(o));return function(a){const c=(a==null?void 0:a[t])||i;return w.useMemo(()=>({[`__scope${t}`]:{...a,[t]:c}}),[a,c])}};return s.scopeName=t,[r,s9(s,...e)]}function s9(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...a,...f}},{});return w.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var i9=w.createContext(void 0);function Cv(t){const e=w.useContext(i9);return t||e||"ltr"}var wp="rovingFocusGroup.onEntryFocus",o9={bubbles:!1,cancelable:!0},Zh="RovingFocusGroup",[sg,fA,a9]=ay(Zh),[l9,pA]=r9(Zh,[a9]),[c9,u9]=l9(Zh),mA=w.forwardRef((t,e)=>m.jsx(sg.Provider,{scope:t.__scopeRovingFocusGroup,children:m.jsx(sg.Slot,{scope:t.__scopeRovingFocusGroup,children:m.jsx(d9,{...t,ref:e})})}));mA.displayName=Zh;var d9=w.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:h=!1,...f}=t,d=w.useRef(null),y=Ve(e,d),x=Cv(i),[g=null,T]=Yo({prop:o,defaultProp:a,onChange:c}),[E,_]=w.useState(!1),S=rn(u),N=fA(n),O=w.useRef(!1),[L,C]=w.useState(0);return w.useEffect(()=>{const I=d.current;if(I)return I.addEventListener(wp,S),()=>I.removeEventListener(wp,S)},[S]),m.jsx(c9,{scope:n,orientation:r,dir:x,loop:s,currentTabStopId:g,onItemFocus:w.useCallback(I=>T(I),[T]),onItemShiftTab:w.useCallback(()=>_(!0),[]),onFocusableItemAdd:w.useCallback(()=>C(I=>I+1),[]),onFocusableItemRemove:w.useCallback(()=>C(I=>I-1),[]),children:m.jsx(pe.div,{tabIndex:E||L===0?-1:0,"data-orientation":r,...f,ref:y,style:{outline:"none",...t.style},onMouseDown:ie(t.onMouseDown,()=>{O.current=!0}),onFocus:ie(t.onFocus,I=>{const A=!O.current;if(I.target===I.currentTarget&&A&&!E){const R=new CustomEvent(wp,o9);if(I.currentTarget.dispatchEvent(R),!R.defaultPrevented){const k=N().filter(K=>K.focusable),D=k.find(K=>K.active),P=k.find(K=>K.id===g),G=[D,P,...k].filter(Boolean).map(K=>K.ref.current);vA(G,h)}}O.current=!1}),onBlur:ie(t.onBlur,()=>_(!1))})})}),gA="RovingFocusGroupItem",yA=w.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,...o}=t,a=Cs(),c=i||a,u=u9(gA,n),h=u.currentTabStopId===c,f=fA(n),{onFocusableItemAdd:d,onFocusableItemRemove:y}=u;return w.useEffect(()=>{if(r)return d(),()=>y()},[r,d,y]),m.jsx(sg.ItemSlot,{scope:n,id:c,focusable:r,active:s,children:m.jsx(pe.span,{tabIndex:h?0:-1,"data-orientation":u.orientation,...o,ref:e,onMouseDown:ie(t.onMouseDown,x=>{r?u.onItemFocus(c):x.preventDefault()}),onFocus:ie(t.onFocus,()=>u.onItemFocus(c)),onKeyDown:ie(t.onKeyDown,x=>{if(x.key==="Tab"&&x.shiftKey){u.onItemShiftTab();return}if(x.target!==x.currentTarget)return;const g=p9(x,u.orientation,u.dir);if(g!==void 0){if(x.metaKey||x.ctrlKey||x.altKey||x.shiftKey)return;x.preventDefault();let E=f().filter(_=>_.focusable).map(_=>_.ref.current);if(g==="last")E.reverse();else if(g==="prev"||g==="next"){g==="prev"&&E.reverse();const _=E.indexOf(x.currentTarget);E=u.loop?m9(E,_+1):E.slice(_+1)}setTimeout(()=>vA(E))}})})})});yA.displayName=gA;var h9={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function f9(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function p9(t,e,n){const r=f9(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return h9[r]}function vA(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function m9(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var g9=mA,y9=yA,bv="Tabs",[v9,b$]=uc(bv,[pA]),wA=pA(),[w9,Av]=v9(bv),_A=w.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:a,activationMode:c="automatic",...u}=t,h=Cv(a),[f,d]=Yo({prop:r,onChange:s,defaultProp:i});return m.jsx(w9,{scope:n,baseId:Cs(),value:f,onValueChange:d,orientation:o,dir:h,activationMode:c,children:m.jsx(pe.div,{dir:h,"data-orientation":o,...u,ref:e})})});_A.displayName=bv;var EA="TabsList",xA=w.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...s}=t,i=Av(EA,n),o=wA(n);return m.jsx(g9,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:r,children:m.jsx(pe.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:e})})});xA.displayName=EA;var TA="TabsTrigger",SA=w.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...i}=t,o=Av(TA,n),a=wA(n),c=bA(o.baseId,r),u=AA(o.baseId,r),h=r===o.value;return m.jsx(y9,{asChild:!0,...a,focusable:!s,active:h,children:m.jsx(pe.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":u,"data-state":h?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...i,ref:e,onMouseDown:ie(t.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?o.onValueChange(r):f.preventDefault()}),onKeyDown:ie(t.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(r)}),onFocus:ie(t.onFocus,()=>{const f=o.activationMode!=="manual";!h&&!s&&f&&o.onValueChange(r)})})})});SA.displayName=TA;var IA="TabsContent",CA=w.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:s,children:i,...o}=t,a=Av(IA,n),c=bA(a.baseId,r),u=AA(a.baseId,r),h=r===a.value,f=w.useRef(h);return w.useEffect(()=>{const d=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(d)},[]),m.jsx(Bi,{present:s||h,children:({present:d})=>m.jsx(pe.div,{"data-state":h?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":c,hidden:!d,id:u,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:f.current?"0s":void 0},children:d&&i})})});CA.displayName=IA;function bA(t,e){return`${t}-trigger-${e}`}function AA(t,e){return`${t}-content-${e}`}var _9=_A,PA=xA,RA=SA,NA=CA;const E9=_9,kA=w.forwardRef(({className:t,...e},n)=>m.jsx(PA,{ref:n,className:de("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));kA.displayName=PA.displayName;const ig=w.forwardRef(({className:t,...e},n)=>m.jsx(RA,{ref:n,className:de("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));ig.displayName=RA.displayName;const og=w.forwardRef(({className:t,...e},n)=>m.jsx(NA,{ref:n,className:de("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));og.displayName=NA.displayName;const x9=fc("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),DA=w.forwardRef(({className:t,variant:e,...n},r)=>m.jsx("div",{ref:r,role:"alert",className:de(x9({variant:e}),t),...n}));DA.displayName="Alert";const T9=w.forwardRef(({className:t,...e},n)=>m.jsx("h5",{ref:n,className:de("mb-1 font-medium leading-none tracking-tight",t),...e}));T9.displayName="AlertTitle";const OA=w.forwardRef(({className:t,...e},n)=>m.jsx("div",{ref:n,className:de("text-sm [&_p]:leading-relaxed",t),...e}));OA.displayName="AlertDescription";function r1(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function S9(...t){return e=>{let n=!1;const r=t.map(s=>{const i=r1(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():r1(t[s],null)}}}}function I9(t){const e=C9(t),n=w.forwardRef((r,s)=>{const{children:i,...o}=r,a=w.Children.toArray(i),c=a.find(A9);if(c){const u=c.props.children,h=a.map(f=>f===c?w.Children.count(u)>1?w.Children.only(null):w.isValidElement(u)?u.props.children:null:f);return m.jsx(e,{...o,ref:s,children:w.isValidElement(u)?w.cloneElement(u,void 0,h):null})}return m.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}function C9(t){const e=w.forwardRef((n,r)=>{const{children:s,...i}=n;if(w.isValidElement(s)){const o=R9(s),a=P9(i,s.props);return s.type!==w.Fragment&&(a.ref=r?S9(r,o):o),w.cloneElement(s,a)}return w.Children.count(s)>1?w.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var b9=Symbol("radix.slottable");function A9(t){return w.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===b9}function P9(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const c=i(...a);return s(...a),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function R9(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var N9=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],k9=N9.reduce((t,e)=>{const n=I9(`Primitive.${e}`),r=w.forwardRef((s,i)=>{const{asChild:o,...a}=s,c=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),m.jsx(c,{...a,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{}),D9="Separator",s1="horizontal",O9=["horizontal","vertical"],MA=w.forwardRef((t,e)=>{const{decorative:n,orientation:r=s1,...s}=t,i=M9(r)?r:s1,a=n?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return m.jsx(k9.div,{"data-orientation":i,...a,...s,ref:e})});MA.displayName=D9;function M9(t){return O9.includes(t)}var LA=MA;const ag=w.forwardRef(({className:t,orientation:e="horizontal",decorative:n=!0,...r},s)=>m.jsx(LA,{ref:s,decorative:n,orientation:e,className:de("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...r}));ag.displayName=LA.displayName;const L9=({onLogin:t})=>{const[e,n]=w.useState(!1),[r,s]=w.useState(!1),[i,o]=w.useState(""),[a,c]=w.useState({email:"",password:"",confirmPassword:""}),{toast:u}=cc(),h=x=>{const{name:g,value:T}=x.target;c(E=>({...E,[g]:T})),o("")},f=async x=>{x.preventDefault(),n(!0),o("");try{const g=await Il.signIn(a.email,a.password);g.success?(u({title:"Welcome back!",description:"Successfully logged into PropOne v2"}),t()):o(g.error||"Login failed")}catch(g){o(g.message||"An unexpected error occurred")}finally{n(!1)}},d=async x=>{if(x.preventDefault(),n(!0),o(""),a.password!==a.confirmPassword){o("Passwords do not match"),n(!1);return}if(a.password.length<6){o("Password must be at least 6 characters long"),n(!1);return}try{const g=await Il.signUp(a.email,a.password);g.success?(u({title:"Account created!",description:"Welcome to PropOne v2"}),t()):o(g.error||"Registration failed")}catch(g){o(g.message||"An unexpected error occurred")}finally{n(!1)}},y=async()=>{n(!0),o("");try{const x=await Il.signInWithGoogle();x.success?(u({title:"Welcome!",description:"Successfully signed in with Google"}),t()):o(x.error||"Google sign-in failed")}catch(x){o(x.message||"An unexpected error occurred")}finally{n(!1)}};return m.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:m.jsxs("div",{className:"w-full max-w-md",children:[m.jsxs("div",{className:"text-center mb-8",children:[m.jsx("div",{className:"mx-auto w-16 h-16 rounded-xl bg-gradient-primary flex items-center justify-center mb-4",children:m.jsx(Za,{className:"w-8 h-8 text-white"})}),m.jsx("h1",{className:"text-3xl font-bold bg-gradient-primary bg-clip-text text-transparent",children:"PropOne v2"}),m.jsx("p",{className:"text-muted-foreground mt-2",children:"Professional Trading Dashboard"})]}),m.jsxs(go,{className:"bg-surface-1 border-border/50 shadow-lg",children:[m.jsx(cI,{className:"pb-4",children:m.jsx(uI,{className:"text-center text-xl",children:"Access Your Trading Dashboard"})}),m.jsxs(yo,{children:[m.jsxs(E9,{defaultValue:"signin",className:"w-full",children:[m.jsxs(kA,{className:"grid w-full grid-cols-2 mb-6",children:[m.jsx(ig,{value:"signin",children:"Sign In"}),m.jsx(ig,{value:"signup",children:"Sign Up"})]}),i&&m.jsx(DA,{variant:"destructive",className:"mb-6",children:m.jsx(OA,{children:i})}),m.jsx(og,{value:"signin",children:m.jsxs("form",{onSubmit:f,className:"space-y-4",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx(Ot,{htmlFor:"signin-email",children:"Email"}),m.jsxs("div",{className:"relative",children:[m.jsx(jw,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),m.jsx(Sn,{id:"signin-email",name:"email",type:"email",placeholder:"your@email.com",value:a.email,onChange:h,className:"pl-10",required:!0,disabled:e})]})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(Ot,{htmlFor:"signin-password",children:"Password"}),m.jsxs("div",{className:"relative",children:[m.jsx(Qf,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),m.jsx(Sn,{id:"signin-password",name:"password",type:r?"text":"password",placeholder:"Your password",value:a.password,onChange:h,className:"pl-10 pr-10",required:!0,disabled:e}),m.jsx(et,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>s(!r),disabled:e,children:r?m.jsx(Mw,{className:"h-4 w-4"}):m.jsx(Lw,{className:"h-4 w-4"})})]})]}),m.jsx(et,{type:"submit",className:"w-full bg-gradient-primary",disabled:e,children:e?m.jsxs(m.Fragment,{children:[m.jsx(Vw,{className:"mr-2 h-4 w-4 animate-spin"}),"Signing in..."]}):"Sign In"}),m.jsxs("div",{className:"relative my-4",children:[m.jsx(ag,{}),m.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:m.jsx("span",{className:"bg-surface-1 px-3 text-sm text-muted-foreground",children:"or continue with"})})]}),m.jsxs(et,{type:"button",variant:"outline",className:"w-full",onClick:y,disabled:e,children:[m.jsxs("svg",{className:"mr-2 h-4 w-4",viewBox:"0 0 24 24",children:[m.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),m.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),m.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),m.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continue with Google"]})]})}),m.jsx(og,{value:"signup",children:m.jsxs("form",{onSubmit:d,className:"space-y-4",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx(Ot,{htmlFor:"signup-email",children:"Email"}),m.jsxs("div",{className:"relative",children:[m.jsx(jw,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),m.jsx(Sn,{id:"signup-email",name:"email",type:"email",placeholder:"your@email.com",value:a.email,onChange:h,className:"pl-10",required:!0,disabled:e})]})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(Ot,{htmlFor:"signup-password",children:"Password"}),m.jsxs("div",{className:"relative",children:[m.jsx(Qf,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),m.jsx(Sn,{id:"signup-password",name:"password",type:r?"text":"password",placeholder:"Choose a password",value:a.password,onChange:h,className:"pl-10 pr-10",required:!0,disabled:e}),m.jsx(et,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>s(!r),disabled:e,children:r?m.jsx(Mw,{className:"h-4 w-4"}):m.jsx(Lw,{className:"h-4 w-4"})})]})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(Ot,{htmlFor:"confirm-password",children:"Confirm Password"}),m.jsxs("div",{className:"relative",children:[m.jsx(Qf,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),m.jsx(Sn,{id:"confirm-password",name:"confirmPassword",type:r?"text":"password",placeholder:"Confirm your password",value:a.confirmPassword,onChange:h,className:"pl-10",required:!0,disabled:e})]})]}),m.jsx(et,{type:"submit",className:"w-full bg-gradient-primary",disabled:e,children:e?m.jsxs(m.Fragment,{children:[m.jsx(Vw,{className:"mr-2 h-4 w-4 animate-spin"}),"Creating account..."]}):"Create Account"}),m.jsxs("div",{className:"relative my-4",children:[m.jsx(ag,{}),m.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:m.jsx("span",{className:"bg-surface-1 px-3 text-sm text-muted-foreground",children:"or continue with"})})]}),m.jsxs(et,{type:"button",variant:"outline",className:"w-full",onClick:y,disabled:e,children:[m.jsxs("svg",{className:"mr-2 h-4 w-4",viewBox:"0 0 24 24",children:[m.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),m.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),m.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continue with Google"]})]})})]}),m.jsx("div",{className:"mt-6 text-center",children:m.jsx("p",{className:"text-sm text-muted-foreground",children:"By continuing, you agree to PropOne's terms of service"})})]})]}),m.jsx("div",{className:"mt-6 text-center",children:m.jsx("p",{className:"text-sm text-muted-foreground",children:"Migrating from PropOne v1? Your existing data will be automatically synced."})})]})})};function i1(t,[e,n]){return Math.min(n,Math.max(e,t))}function V9(t){const e=w.useRef({value:t,previous:t});return w.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var j9=[" ","Enter","ArrowUp","ArrowDown"],F9=[" ","Enter"],Ac="Select",[ef,tf,U9]=ay(Ac),[Ea,A$]=uc(Ac,[U9,Sh]),nf=Sh(),[$9,Zs]=Ea(Ac),[B9,z9]=Ea(Ac),VA=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:i,value:o,defaultValue:a,onValueChange:c,dir:u,name:h,autoComplete:f,disabled:d,required:y,form:x}=t,g=nf(e),[T,E]=w.useState(null),[_,S]=w.useState(null),[N,O]=w.useState(!1),L=Cv(u),[C=!1,I]=Yo({prop:r,defaultProp:s,onChange:i}),[A,R]=Yo({prop:o,defaultProp:a,onChange:c}),k=w.useRef(null),D=T?x||!!T.closest("form"):!0,[P,B]=w.useState(new Set),G=Array.from(P).map(K=>K.props.value).join(";");return m.jsx(GO,{...g,children:m.jsxs($9,{required:y,scope:e,trigger:T,onTriggerChange:E,valueNode:_,onValueNodeChange:S,valueNodeHasChildren:N,onValueNodeHasChildrenChange:O,contentId:Cs(),value:A,onValueChange:R,open:C,onOpenChange:I,dir:L,triggerPointerDownPosRef:k,disabled:d,children:[m.jsx(ef.Provider,{scope:e,children:m.jsx(B9,{scope:t.__scopeSelect,onNativeOptionAdd:w.useCallback(K=>{B(te=>new Set(te).add(K))},[]),onNativeOptionRemove:w.useCallback(K=>{B(te=>{const V=new Set(te);return V.delete(K),V})},[]),children:n})}),D?m.jsxs(lP,{"aria-hidden":!0,required:y,tabIndex:-1,name:h,autoComplete:f,value:A,onChange:K=>R(K.target.value),disabled:d,form:x,children:[A===void 0?m.jsx("option",{value:""}):null,Array.from(P)]},G):null]})})};VA.displayName=Ac;var jA="SelectTrigger",FA=w.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,i=nf(n),o=Zs(jA,n),a=o.disabled||r,c=Ve(e,o.onTriggerChange),u=tf(n),h=w.useRef("touch"),[f,d,y]=cP(g=>{const T=u().filter(S=>!S.disabled),E=T.find(S=>S.value===o.value),_=uP(T,g,E);_!==void 0&&o.onValueChange(_.value)}),x=g=>{a||(o.onOpenChange(!0),y()),g&&(o.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return m.jsx(LS,{asChild:!0,...i,children:m.jsx(pe.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":aP(o.value)?"":void 0,...s,ref:c,onClick:ie(s.onClick,g=>{g.currentTarget.focus(),h.current!=="mouse"&&x(g)}),onPointerDown:ie(s.onPointerDown,g=>{h.current=g.pointerType;const T=g.target;T.hasPointerCapture(g.pointerId)&&T.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(x(g),g.preventDefault())}),onKeyDown:ie(s.onKeyDown,g=>{const T=f.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&d(g.key),!(T&&g.key===" ")&&j9.includes(g.key)&&(x(),g.preventDefault())})})})});FA.displayName=jA;var UA="SelectValue",$A=w.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:o="",...a}=t,c=Zs(UA,n),{onValueNodeHasChildrenChange:u}=c,h=i!==void 0,f=Ve(e,c.onValueNodeChange);return Ft(()=>{u(h)},[u,h]),m.jsx(pe.span,{...a,ref:f,style:{pointerEvents:"none"},children:aP(c.value)?m.jsx(m.Fragment,{children:o}):i})});$A.displayName=UA;var H9="SelectIcon",BA=w.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return m.jsx(pe.span,{"aria-hidden":!0,...s,ref:e,children:r||"▼"})});BA.displayName=H9;var W9="SelectPortal",zA=t=>m.jsx(vh,{asChild:!0,...t});zA.displayName=W9;var ji="SelectContent",HA=w.forwardRef((t,e)=>{const n=Zs(ji,t.__scopeSelect),[r,s]=w.useState();if(Ft(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?$i.createPortal(m.jsx(WA,{scope:t.__scopeSelect,children:m.jsx(ef.Slot,{scope:t.__scopeSelect,children:m.jsx("div",{children:t.children})})}),i):null}return m.jsx(qA,{...t,ref:e})});HA.displayName=ji;var Dn=10,[WA,ei]=Ea(ji),q9="SelectContentImpl",qA=w.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:a,sideOffset:c,align:u,alignOffset:h,arrowPadding:f,collisionBoundary:d,collisionPadding:y,sticky:x,hideWhenDetached:g,avoidCollisions:T,...E}=t,_=Zs(ji,n),[S,N]=w.useState(null),[O,L]=w.useState(null),C=Ve(e,ne=>N(ne)),[I,A]=w.useState(null),[R,k]=w.useState(null),D=tf(n),[P,B]=w.useState(!1),G=w.useRef(!1);w.useEffect(()=>{if(S)return EI(S)},[S]),hI();const K=w.useCallback(ne=>{const[Se,...ze]=D().map(ve=>ve.ref.current),[ge]=ze.slice(-1),xe=document.activeElement;for(const ve of ne)if(ve===xe||(ve==null||ve.scrollIntoView({block:"nearest"}),ve===Se&&O&&(O.scrollTop=0),ve===ge&&O&&(O.scrollTop=O.scrollHeight),ve==null||ve.focus(),document.activeElement!==xe))return},[D,O]),te=w.useCallback(()=>K([I,S]),[K,I,S]);w.useEffect(()=>{P&&te()},[P,te]);const{onOpenChange:V,triggerPointerDownPosRef:z}=_;w.useEffect(()=>{if(S){let ne={x:0,y:0};const Se=ge=>{var xe,ve;ne={x:Math.abs(Math.round(ge.pageX)-(((xe=z.current)==null?void 0:xe.x)??0)),y:Math.abs(Math.round(ge.pageY)-(((ve=z.current)==null?void 0:ve.y)??0))}},ze=ge=>{ne.x<=10&&ne.y<=10?ge.preventDefault():S.contains(ge.target)||V(!1),document.removeEventListener("pointermove",Se),z.current=null};return z.current!==null&&(document.addEventListener("pointermove",Se),document.addEventListener("pointerup",ze,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Se),document.removeEventListener("pointerup",ze,{capture:!0})}}},[S,V,z]),w.useEffect(()=>{const ne=()=>V(!1);return window.addEventListener("blur",ne),window.addEventListener("resize",ne),()=>{window.removeEventListener("blur",ne),window.removeEventListener("resize",ne)}},[V]);const[Z,Q]=cP(ne=>{const Se=D().filter(xe=>!xe.disabled),ze=Se.find(xe=>xe.ref.current===document.activeElement),ge=uP(Se,ne,ze);ge&&setTimeout(()=>ge.ref.current.focus())}),ee=w.useCallback((ne,Se,ze)=>{const ge=!G.current&&!ze;(_.value!==void 0&&_.value===Se||ge)&&(A(ne),ge&&(G.current=!0))},[_.value]),re=w.useCallback(()=>S==null?void 0:S.focus(),[S]),Ce=w.useCallback((ne,Se,ze)=>{const ge=!G.current&&!ze;(_.value!==void 0&&_.value===Se||ge)&&k(ne)},[_.value]),Be=r==="popper"?lg:KA,me=Be===lg?{side:a,sideOffset:c,align:u,alignOffset:h,arrowPadding:f,collisionBoundary:d,collisionPadding:y,sticky:x,hideWhenDetached:g,avoidCollisions:T}:{};return m.jsx(WA,{scope:n,content:S,viewport:O,onViewportChange:L,itemRefCallback:ee,selectedItem:I,onItemLeave:re,itemTextRefCallback:Ce,focusSelectedItem:te,selectedItemText:R,position:r,isPositioned:P,searchRef:Z,children:m.jsx(Iy,{as:Pi,allowPinchZoom:!0,children:m.jsx(Sy,{asChild:!0,trapped:_.open,onMountAutoFocus:ne=>{ne.preventDefault()},onUnmountAutoFocus:ie(s,ne=>{var Se;(Se=_.trigger)==null||Se.focus({preventScroll:!0}),ne.preventDefault()}),children:m.jsx(dc,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:ne=>ne.preventDefault(),onDismiss:()=>_.onOpenChange(!1),children:m.jsx(Be,{role:"listbox",id:_.contentId,"data-state":_.open?"open":"closed",dir:_.dir,onContextMenu:ne=>ne.preventDefault(),...E,...me,onPlaced:()=>B(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",...E.style},onKeyDown:ie(E.onKeyDown,ne=>{const Se=ne.ctrlKey||ne.altKey||ne.metaKey;if(ne.key==="Tab"&&ne.preventDefault(),!Se&&ne.key.length===1&&Q(ne.key),["ArrowUp","ArrowDown","Home","End"].includes(ne.key)){let ge=D().filter(xe=>!xe.disabled).map(xe=>xe.ref.current);if(["ArrowUp","End"].includes(ne.key)&&(ge=ge.slice().reverse()),["ArrowUp","ArrowDown"].includes(ne.key)){const xe=ne.target,ve=ge.indexOf(xe);ge=ge.slice(ve+1)}setTimeout(()=>K(ge)),ne.preventDefault()}})})})})})})});qA.displayName=q9;var K9="SelectItemAlignedPosition",KA=w.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,i=Zs(ji,n),o=ei(ji,n),[a,c]=w.useState(null),[u,h]=w.useState(null),f=Ve(e,C=>h(C)),d=tf(n),y=w.useRef(!1),x=w.useRef(!0),{viewport:g,selectedItem:T,selectedItemText:E,focusSelectedItem:_}=o,S=w.useCallback(()=>{if(i.trigger&&i.valueNode&&a&&u&&g&&T&&E){const C=i.trigger.getBoundingClientRect(),I=u.getBoundingClientRect(),A=i.valueNode.getBoundingClientRect(),R=E.getBoundingClientRect();if(i.dir!=="rtl"){const xe=R.left-I.left,ve=A.left-xe,ut=C.left-ve,vt=C.width+ut,wn=Math.max(vt,I.width),$t=window.innerWidth-Dn,gr=i1(ve,[Dn,Math.max(Dn,$t-wn)]);a.style.minWidth=vt+"px",a.style.left=gr+"px"}else{const xe=I.right-R.right,ve=window.innerWidth-A.right-xe,ut=window.innerWidth-C.right-ve,vt=C.width+ut,wn=Math.max(vt,I.width),$t=window.innerWidth-Dn,gr=i1(ve,[Dn,Math.max(Dn,$t-wn)]);a.style.minWidth=vt+"px",a.style.right=gr+"px"}const k=d(),D=window.innerHeight-Dn*2,P=g.scrollHeight,B=window.getComputedStyle(u),G=parseInt(B.borderTopWidth,10),K=parseInt(B.paddingTop,10),te=parseInt(B.borderBottomWidth,10),V=parseInt(B.paddingBottom,10),z=G+K+P+V+te,Z=Math.min(T.offsetHeight*5,z),Q=window.getComputedStyle(g),ee=parseInt(Q.paddingTop,10),re=parseInt(Q.paddingBottom,10),Ce=C.top+C.height/2-Dn,Be=D-Ce,me=T.offsetHeight/2,ne=T.offsetTop+me,Se=G+K+ne,ze=z-Se;if(Se<=Ce){const xe=k.length>0&&T===k[k.length-1].ref.current;a.style.bottom="0px";const ve=u.clientHeight-g.offsetTop-g.offsetHeight,ut=Math.max(Be,me+(xe?re:0)+ve+te),vt=Se+ut;a.style.height=vt+"px"}else{const xe=k.length>0&&T===k[0].ref.current;a.style.top="0px";const ut=Math.max(Ce,G+g.offsetTop+(xe?ee:0)+me)+ze;a.style.height=ut+"px",g.scrollTop=Se-Ce+g.offsetTop}a.style.margin=`${Dn}px 0`,a.style.minHeight=Z+"px",a.style.maxHeight=D+"px",r==null||r(),requestAnimationFrame(()=>y.current=!0)}},[d,i.trigger,i.valueNode,a,u,g,T,E,i.dir,r]);Ft(()=>S(),[S]);const[N,O]=w.useState();Ft(()=>{u&&O(window.getComputedStyle(u).zIndex)},[u]);const L=w.useCallback(C=>{C&&x.current===!0&&(S(),_==null||_(),x.current=!1)},[S,_]);return m.jsx(Q9,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:y,onScrollButtonChange:L,children:m.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:N},children:m.jsx(pe.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});KA.displayName=K9;var G9="SelectPopperPosition",lg=w.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=Dn,...i}=t,o=nf(n);return m.jsx(VS,{...o,...i,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});lg.displayName=G9;var[Q9,Pv]=Ea(ji,{}),cg="SelectViewport",GA=w.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,i=ei(cg,n),o=Pv(cg,n),a=Ve(e,i.onViewportChange),c=w.useRef(0);return m.jsxs(m.Fragment,{children:[m.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),m.jsx(ef.Slot,{scope:n,children:m.jsx(pe.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:ie(s.onScroll,u=>{const h=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:d}=o;if(d!=null&&d.current&&f){const y=Math.abs(c.current-h.scrollTop);if(y>0){const x=window.innerHeight-Dn*2,g=parseFloat(f.style.minHeight),T=parseFloat(f.style.height),E=Math.max(g,T);if(E<x){const _=E+y,S=Math.min(x,_),N=_-S;f.style.height=S+"px",f.style.bottom==="0px"&&(h.scrollTop=N>0?N:0,f.style.justifyContent="flex-end")}}}c.current=h.scrollTop})})})]})});GA.displayName=cg;var QA="SelectGroup",[Y9,X9]=Ea(QA),J9=w.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Cs();return m.jsx(Y9,{scope:n,id:s,children:m.jsx(pe.div,{role:"group","aria-labelledby":s,...r,ref:e})})});J9.displayName=QA;var YA="SelectLabel",XA=w.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=X9(YA,n);return m.jsx(pe.div,{id:s.id,...r,ref:e})});XA.displayName=YA;var th="SelectItem",[Z9,JA]=Ea(th),ZA=w.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...o}=t,a=Zs(th,n),c=ei(th,n),u=a.value===r,[h,f]=w.useState(i??""),[d,y]=w.useState(!1),x=Ve(e,_=>{var S;return(S=c.itemRefCallback)==null?void 0:S.call(c,_,r,s)}),g=Cs(),T=w.useRef("touch"),E=()=>{s||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return m.jsx(Z9,{scope:n,value:r,disabled:s,textId:g,isSelected:u,onItemTextChange:w.useCallback(_=>{f(S=>S||((_==null?void 0:_.textContent)??"").trim())},[]),children:m.jsx(ef.ItemSlot,{scope:n,value:r,disabled:s,textValue:h,children:m.jsx(pe.div,{role:"option","aria-labelledby":g,"data-highlighted":d?"":void 0,"aria-selected":u&&d,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:x,onFocus:ie(o.onFocus,()=>y(!0)),onBlur:ie(o.onBlur,()=>y(!1)),onClick:ie(o.onClick,()=>{T.current!=="mouse"&&E()}),onPointerUp:ie(o.onPointerUp,()=>{T.current==="mouse"&&E()}),onPointerDown:ie(o.onPointerDown,_=>{T.current=_.pointerType}),onPointerMove:ie(o.onPointerMove,_=>{var S;T.current=_.pointerType,s?(S=c.onItemLeave)==null||S.call(c):T.current==="mouse"&&_.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ie(o.onPointerLeave,_=>{var S;_.currentTarget===document.activeElement&&((S=c.onItemLeave)==null||S.call(c))}),onKeyDown:ie(o.onKeyDown,_=>{var N;((N=c.searchRef)==null?void 0:N.current)!==""&&_.key===" "||(F9.includes(_.key)&&E(),_.key===" "&&_.preventDefault())})})})})});ZA.displayName=th;var ol="SelectItemText",eP=w.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...i}=t,o=Zs(ol,n),a=ei(ol,n),c=JA(ol,n),u=z9(ol,n),[h,f]=w.useState(null),d=Ve(e,E=>f(E),c.onItemTextChange,E=>{var _;return(_=a.itemTextRefCallback)==null?void 0:_.call(a,E,c.value,c.disabled)}),y=h==null?void 0:h.textContent,x=w.useMemo(()=>m.jsx("option",{value:c.value,disabled:c.disabled,children:y},c.value),[c.disabled,c.value,y]),{onNativeOptionAdd:g,onNativeOptionRemove:T}=u;return Ft(()=>(g(x),()=>T(x)),[g,T,x]),m.jsxs(m.Fragment,{children:[m.jsx(pe.span,{id:c.textId,...i,ref:d}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?$i.createPortal(i.children,o.valueNode):null]})});eP.displayName=ol;var tP="SelectItemIndicator",nP=w.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return JA(tP,n).isSelected?m.jsx(pe.span,{"aria-hidden":!0,...r,ref:e}):null});nP.displayName=tP;var ug="SelectScrollUpButton",rP=w.forwardRef((t,e)=>{const n=ei(ug,t.__scopeSelect),r=Pv(ug,t.__scopeSelect),[s,i]=w.useState(!1),o=Ve(e,r.onScrollButtonChange);return Ft(()=>{if(n.viewport&&n.isPositioned){let a=function(){const u=c.scrollTop>0;i(u)};const c=n.viewport;return a(),c.addEventListener("scroll",a),()=>c.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?m.jsx(iP,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:c}=n;a&&c&&(a.scrollTop=a.scrollTop-c.offsetHeight)}}):null});rP.displayName=ug;var dg="SelectScrollDownButton",sP=w.forwardRef((t,e)=>{const n=ei(dg,t.__scopeSelect),r=Pv(dg,t.__scopeSelect),[s,i]=w.useState(!1),o=Ve(e,r.onScrollButtonChange);return Ft(()=>{if(n.viewport&&n.isPositioned){let a=function(){const u=c.scrollHeight-c.clientHeight,h=Math.ceil(c.scrollTop)<u;i(h)};const c=n.viewport;return a(),c.addEventListener("scroll",a),()=>c.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?m.jsx(iP,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:c}=n;a&&c&&(a.scrollTop=a.scrollTop+c.offsetHeight)}}):null});sP.displayName=dg;var iP=w.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,i=ei("SelectScrollButton",n),o=w.useRef(null),a=tf(n),c=w.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return w.useEffect(()=>()=>c(),[c]),Ft(()=>{var h;const u=a().find(f=>f.ref.current===document.activeElement);(h=u==null?void 0:u.ref.current)==null||h.scrollIntoView({block:"nearest"})},[a]),m.jsx(pe.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:ie(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:ie(s.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:ie(s.onPointerLeave,()=>{c()})})}),e$="SelectSeparator",oP=w.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return m.jsx(pe.div,{"aria-hidden":!0,...r,ref:e})});oP.displayName=e$;var hg="SelectArrow",t$=w.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=nf(n),i=Zs(hg,n),o=ei(hg,n);return i.open&&o.position==="popper"?m.jsx(jS,{...s,...r,ref:e}):null});t$.displayName=hg;function aP(t){return t===""||t===void 0}var lP=w.forwardRef((t,e)=>{const{value:n,...r}=t,s=w.useRef(null),i=Ve(e,s),o=V9(n);return w.useEffect(()=>{const a=s.current,c=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==n&&h){const f=new Event("change",{bubbles:!0});h.call(a,n),a.dispatchEvent(f)}},[o,n]),m.jsx(hc,{asChild:!0,children:m.jsx("select",{...r,ref:i,defaultValue:n})})});lP.displayName="BubbleSelect";function cP(t){const e=rn(t),n=w.useRef(""),r=w.useRef(0),s=w.useCallback(o=>{const a=n.current+o;e(a),function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(a)},[e]),i=w.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return w.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function uP(t,e,n){const s=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=n$(t,Math.max(i,0));s.length===1&&(o=o.filter(u=>u!==n));const c=o.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function n$(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var r$=VA,dP=FA,s$=$A,i$=BA,o$=zA,hP=HA,a$=GA,fP=XA,pP=ZA,l$=eP,c$=nP,mP=rP,gP=sP,yP=oP;const bu=r$,Au=s$,al=w.forwardRef(({className:t,children:e,...n},r)=>m.jsxs(dP,{ref:r,className:de("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,m.jsx(i$,{asChild:!0,children:m.jsx(oS,{className:"h-4 w-4 opacity-50"})})]}));al.displayName=dP.displayName;const vP=w.forwardRef(({className:t,...e},n)=>m.jsx(mP,{ref:n,className:de("flex cursor-default items-center justify-center py-1",t),...e,children:m.jsx(m2,{className:"h-4 w-4"})}));vP.displayName=mP.displayName;const wP=w.forwardRef(({className:t,...e},n)=>m.jsx(gP,{ref:n,className:de("flex cursor-default items-center justify-center py-1",t),...e,children:m.jsx(oS,{className:"h-4 w-4"})}));wP.displayName=gP.displayName;const ll=w.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>m.jsx(o$,{children:m.jsxs(hP,{ref:s,className:de("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[m.jsx(vP,{}),m.jsx(a$,{className:de("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),m.jsx(wP,{})]})}));ll.displayName=hP.displayName;const u$=w.forwardRef(({className:t,...e},n)=>m.jsx(fP,{ref:n,className:de("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));u$.displayName=fP.displayName;const kn=w.forwardRef(({className:t,children:e,...n},r)=>m.jsxs(pP,{ref:r,className:de("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[m.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:m.jsx(c$,{children:m.jsx(p2,{className:"h-4 w-4"})})}),m.jsx(l$,{children:e})]}));kn.displayName=pP.displayName;const d$=w.forwardRef(({className:t,...e},n)=>m.jsx(yP,{ref:n,className:de("-mx-1 my-1 h-px bg-muted",t),...e}));d$.displayName=yP.displayName;const Pu={FundingPips:{accountSizes:[1e4,25e3,5e4,1e5,2e5],dailyDrawdown:5,maxDrawdown:10,phase1Target:10,phase2Target:5,platform:"MT5"},"The5%ers":{accountSizes:[1e5],dailyDrawdown:5,maxDrawdown:10,phase1Target:8,phase2Target:5,platform:"MT5"},"Alpha Capital":{accountSizes:[25e3,5e4,1e5,2e5],dailyDrawdown:5,maxDrawdown:10,phase1Target:10,phase2Target:5,platform:"MT5"},FunderPro:{accountSizes:[1e4,25e3,5e4,1e5,2e5],dailyDrawdown:5,maxDrawdown:10,phase1Target:8,phase2Target:5,platform:"MT5"},ThinkCapital:{accountSizes:[25e3,5e4,1e5,2e5],dailyDrawdown:4,maxDrawdown:8,phase1Target:8,phase2Target:4,platform:"MT5"},BrightFunded:{accountSizes:[25e3,5e4,1e5,2e5],dailyDrawdown:4,maxDrawdown:8,phase1Target:8,phase2Target:4,platform:"MT5"},PipFarm:{accountSizes:[1e4,25e3,5e4,1e5],dailyDrawdown:5,maxDrawdown:10,phase1Target:10,phase2Target:5,platform:"MT5"},FundedNext:{accountSizes:[6e3,15e3,25e3,5e4,1e5,2e5],dailyDrawdown:5,maxDrawdown:8,phase1Target:7,phase2Target:5,platform:"MT5"},"Instant Funding":{accountSizes:[25e3,5e4,1e5,2e5],dailyDrawdown:5,maxDrawdown:10,phase1Target:10,phase2Target:5,platform:"MT5"},Other:{accountSizes:[5e3,1e4,25e3,5e4,1e5,2e5],dailyDrawdown:5,maxDrawdown:10,phase1Target:8,phase2Target:5,platform:"MT5"}},o1=({isOpen:t,onClose:e,userId:n})=>{var f;const[r,s]=w.useState({firmName:"",alias:"",accountSize:"",currentBalance:"",phase:"",profitTargetPercent:"",maxDrawdown:"",dailyDrawdown:"",platform:""}),[i,o]=w.useState(!1),{toast:a}=cc(),c=d=>{const y=Pu[d];y&&s(x=>({...x,firmName:d,maxDrawdown:y.maxDrawdown.toString(),dailyDrawdown:y.dailyDrawdown.toString(),platform:y.platform}))},u=d=>{const y=Pu[r.firmName];if(y&&d.includes("Challenge")){const x=d==="Challenge Phase 1"?y.phase1Target:y.phase2Target;s(g=>({...g,phase:d,profitTargetPercent:x.toString()}))}else s(x=>({...x,phase:d}))},h=async d=>{d.preventDefault(),o(!0);try{const y=parseFloat(r.accountSize),x=parseFloat(r.currentBalance),g=parseFloat(r.profitTargetPercent),T={firmName:r.firmName,alias:r.alias||void 0,accountSize:y,currentBalance:x,phase:r.phase,status:"active",maxDrawdown:parseFloat(r.maxDrawdown),dailyDrawdown:parseFloat(r.dailyDrawdown),profitTargetPercent:g,profitTargetAmount:y*g/100,profitShare:80,platform:r.platform,currency:"USD",region:"Global"},E=await Zn.addAccount(n,T);if(E.success)a({title:"Account added",description:`${r.firmName} account has been created successfully`}),e(),s({firmName:"",alias:"",accountSize:"",currentBalance:"",phase:"",profitTargetPercent:"",maxDrawdown:"",dailyDrawdown:"",platform:""});else throw new Error(E.error)}catch(y){a({title:"Error",description:y.message||"Failed to add account",variant:"destructive"})}finally{o(!1)}};return m.jsx(vo,{open:t,onOpenChange:e,children:m.jsxs(fi,{className:"sm:max-w-[500px] bg-surface-1 border-border/20 backdrop-blur-xl",children:[m.jsx(Ry,{children:m.jsx(Ny,{className:"text-2xl font-bold bg-gradient-primary bg-clip-text text-transparent",children:"Add New Account"})}),m.jsxs("form",{onSubmit:h,className:"space-y-6",children:[m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx(Ot,{htmlFor:"firmName",children:"Prop Firm"}),m.jsxs(bu,{value:r.firmName,onValueChange:c,children:[m.jsx(al,{className:"bg-surface-2/50 border-border/30",children:m.jsx(Au,{placeholder:"Select Prop Firm"})}),m.jsx(ll,{children:Object.keys(Pu).map(d=>m.jsx(kn,{value:d,children:d},d))})]})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(Ot,{htmlFor:"alias",children:"Alias (Optional)"}),m.jsx(Sn,{id:"alias",value:r.alias,onChange:d=>s(y=>({...y,alias:d.target.value})),placeholder:"e.g., Main, Backup, etc.",className:"bg-surface-2/50 border-border/30"})]})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx(Ot,{htmlFor:"accountSize",children:"Account Size"}),m.jsxs(bu,{value:r.accountSize,onValueChange:d=>s(y=>({...y,accountSize:d,currentBalance:d})),children:[m.jsx(al,{className:"bg-surface-2/50 border-border/30",children:m.jsx(Au,{placeholder:"Select Size"})}),m.jsx(ll,{children:r.firmName&&((f=Pu[r.firmName])==null?void 0:f.accountSizes.map(d=>m.jsxs(kn,{value:d.toString(),children:["$",d.toLocaleString()]},d)))})]})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(Ot,{htmlFor:"currentBalance",children:"Current Balance"}),m.jsx(Sn,{id:"currentBalance",type:"number",value:r.currentBalance,onChange:d=>s(y=>({...y,currentBalance:d.target.value})),placeholder:"100000",className:"bg-surface-2/50 border-border/30"})]})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(Ot,{htmlFor:"phase",children:"Phase"}),m.jsxs(bu,{value:r.phase,onValueChange:u,children:[m.jsx(al,{className:"bg-surface-2/50 border-border/30",children:m.jsx(Au,{placeholder:"Select Phase"})}),m.jsxs(ll,{children:[m.jsx(kn,{value:"Challenge Phase 1",children:"Challenge Phase 1"}),m.jsx(kn,{value:"Challenge Phase 2",children:"Challenge Phase 2"}),m.jsx(kn,{value:"Funded",children:"Funded"})]})]})]}),m.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx(Ot,{htmlFor:"profitTargetPercent",children:"Profit Target (%)"}),m.jsx(Sn,{id:"profitTargetPercent",type:"number",value:r.profitTargetPercent,onChange:d=>s(y=>({...y,profitTargetPercent:d.target.value})),placeholder:"8",className:"bg-surface-2/50 border-border/30"})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(Ot,{htmlFor:"maxDrawdown",children:"Max Drawdown (%)"}),m.jsx(Sn,{id:"maxDrawdown",type:"number",value:r.maxDrawdown,onChange:d=>s(y=>({...y,maxDrawdown:d.target.value})),placeholder:"10",className:"bg-surface-2/50 border-border/30"})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(Ot,{htmlFor:"dailyDrawdown",children:"Daily Drawdown (%)"}),m.jsx(Sn,{id:"dailyDrawdown",type:"number",value:r.dailyDrawdown,onChange:d=>s(y=>({...y,dailyDrawdown:d.target.value})),placeholder:"5",className:"bg-surface-2/50 border-border/30"})]})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(Ot,{htmlFor:"platform",children:"Platform"}),m.jsxs(bu,{value:r.platform,onValueChange:d=>s(y=>({...y,platform:d})),children:[m.jsx(al,{className:"bg-surface-2/50 border-border/30",children:m.jsx(Au,{placeholder:"Select Platform"})}),m.jsxs(ll,{children:[m.jsx(kn,{value:"MT5",children:"MetaTrader 5"}),m.jsx(kn,{value:"MT4",children:"MetaTrader 4"}),m.jsx(kn,{value:"cTrader",children:"cTrader"}),m.jsx(kn,{value:"NinjaTrader",children:"NinjaTrader"}),m.jsx(kn,{value:"TradeLocker",children:"TradeLocker"})]})]})]}),m.jsxs("div",{className:"flex gap-3 pt-4",children:[m.jsx(et,{type:"button",variant:"outline",onClick:e,className:"flex-1 bg-surface-2/50 border-border/30 hover:bg-surface-2",children:"Cancel"}),m.jsx(et,{type:"submit",disabled:i,className:"flex-1 bg-gradient-primary hover:opacity-90",children:i?"Adding...":"Add Account"})]})]})]})})},a1=({isOpen:t,onClose:e,account:n})=>{var d;const[r,s]=w.useState(((d=n==null?void 0:n.currentBalance)==null?void 0:d.toString())||""),[i,o]=w.useState(!1),{toast:a}=cc();if(!n)return null;const c=n.currentBalance,u=parseFloat(r)-c,h=u>0,f=async y=>{y.preventDefault(),o(!0);try{const x=parseFloat(r);if(isNaN(x)||x<0)throw new Error("Please enter a valid balance");await Zn.updateAccount(n.id,{currentBalance:x});const g=x-c;a({title:"Trade recorded",description:`Balance updated: ${g>=0?"+":""}$${g.toLocaleString()}`,variant:g>=0?"default":"destructive"}),e()}catch(x){a({title:"Error",description:x.message||"Failed to record trade",variant:"destructive"})}finally{o(!1)}};return m.jsx(vo,{open:t,onOpenChange:e,children:m.jsxs(fi,{className:"sm:max-w-[400px] bg-surface-1 border-border/20 backdrop-blur-xl",children:[m.jsxs(Ry,{children:[m.jsxs(Ny,{className:"text-xl font-bold flex items-center gap-2",children:[m.jsx("div",{className:"w-8 h-8 rounded-lg bg-primary/10 flex items-center justify-center",children:m.jsx("span",{className:"text-primary font-bold text-sm",children:n.firmName.split("").slice(0,2).join("")})}),"Record Trade"]}),m.jsxs("p",{className:"text-sm text-muted-foreground",children:[n.firmName," • ",n.alias&&`${n.alias} • `,"$",n.phase]})]}),m.jsxs("form",{onSubmit:f,className:"space-y-6",children:[m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"p-4 rounded-lg bg-surface-2/30 border border-border/20",children:[m.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Current Balance"}),m.jsxs("div",{className:"text-2xl font-bold",children:["$",c.toLocaleString()]})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(Ot,{htmlFor:"newBalance",children:"New Balance"}),m.jsx(Sn,{id:"newBalance",type:"number",value:r,onChange:y=>s(y.target.value),placeholder:"Enter new balance",className:"bg-surface-2/50 border-border/30 text-lg h-12",step:"0.01"})]}),r&&!isNaN(parseFloat(r))&&m.jsxs("div",{className:`p-4 rounded-lg border ${h?"bg-success/10 border-success/20":"bg-destructive/10 border-destructive/20"}`,children:[m.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[h?m.jsx(I2,{className:"w-5 h-5 text-success"}):m.jsx(S2,{className:"w-5 h-5 text-destructive"}),m.jsxs("span",{className:"font-medium",children:[h?"Profit":"Loss",": ",h?"+":"","$",u.toLocaleString()]})]}),m.jsxs("div",{className:"text-sm text-muted-foreground",children:["This will ",h?"increase":"decrease"," your account balance"]})]})]}),m.jsxs("div",{className:"flex gap-3",children:[m.jsx(et,{type:"button",variant:"outline",onClick:e,className:"flex-1 bg-surface-2/50 border-border/30 hover:bg-surface-2",children:"Cancel"}),m.jsx(et,{type:"submit",disabled:i||!r||isNaN(parseFloat(r)),className:"flex-1 bg-gradient-primary hover:opacity-90",children:i?"Recording...":"Record Trade"})]})]})]})})};function h$(){const[t,e]=w.useState(null),[n,r]=w.useState([]),[s,i]=w.useState({funded:{count:0,totalCapital:0,totalProfit:0,totalWithdrawals:0},challenge:{phase1Active:0,phase1Capital:0,phase2Active:0,phase2Capital:0},inactive:{totalPassed:0,phase1Breached:0,phase2Breached:0,fundedBreached:0}}),[o,a]=w.useState("active"),[c,u]=w.useState("compact"),[h,f]=w.useState(!1),[d,y]=w.useState(!0),[x,g]=w.useState(!1),[T,E]=w.useState(!1),[_,S]=w.useState(null),{toast:N}=cc();w.useEffect(()=>Il.onAuthStateChange(async B=>{e(B),y(!1),B?(await Zn.loadAccounts(B.uid)).success?Zn.onAccountsChange(K=>{r(K);const te=Zn.getSummaryStats();i(te)}):N({title:"Error",description:"Failed to load your account data",variant:"destructive"}):(r([]),i({funded:{count:0,totalCapital:0,totalProfit:0,totalWithdrawals:0},challenge:{phase1Active:0,phase1Capital:0,phase2Active:0,phase2Capital:0},inactive:{totalPassed:0,phase1Breached:0,phase2Breached:0,fundedBreached:0}}),Zn.cleanup())}),[N]),w.useEffect(()=>{const P=localStorage.getItem("propone-theme"),B=window.matchMedia("(prefers-color-scheme: dark)").matches,G=P==="dark"||!P&&B;f(G),G&&document.documentElement.classList.add("dark")},[]);const O=()=>{f(!h),document.documentElement.classList.toggle("dark"),localStorage.setItem("propone-theme",h?"light":"dark")},L=Zn.getFilteredAccounts(o),C=W.useMemo(()=>o!=="active"?L:[...L].sort((P,B)=>{const G={Funded:3,"Challenge Phase 2":2,"Challenge Phase 1":1},K=G[P.phase]||0,te=G[B.phase]||0;return K!==te?te-K:B.currentBalance-P.currentBalance}),[L,o]),I=Zn.getFilteredAccounts("active"),A=Zn.getFilteredAccounts("breached"),R=n.length,k=A.length,D=async()=>{await Il.signOut()};return d?m.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"w-16 h-16 rounded-xl bg-primary flex items-center justify-center mb-4",children:m.jsx(Za,{className:"w-8 h-8 text-primary-foreground"})}),m.jsx("p",{className:"text-muted-foreground",children:"Loading PropOne v2..."})]})}):t?m.jsxs("div",{className:"min-h-screen bg-background",children:[m.jsx("header",{className:"sticky top-0 z-50 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/80",children:m.jsxs("div",{className:"container flex h-14 items-center justify-between px-4",children:[m.jsxs("div",{className:"flex items-center space-x-3",children:[m.jsx("div",{className:"w-8 h-8 rounded-lg bg-primary flex items-center justify-center",children:m.jsx(Za,{className:"w-4 h-4 text-primary-foreground"})}),m.jsx("div",{children:m.jsx("h1",{className:"text-lg font-semibold",children:"PropOne v2"})})]}),m.jsxs("div",{className:"flex items-center space-x-2",children:[m.jsx(et,{variant:c==="detailed"?"default":"outline",size:"sm",onClick:()=>u("detailed"),children:m.jsx(v2,{className:"w-4 h-4"})}),m.jsx(et,{variant:c==="compact"?"default":"outline",size:"sm",onClick:()=>u("compact"),children:m.jsx(y2,{className:"w-4 h-4"})}),m.jsx(et,{variant:"outline",size:"sm",onClick:O,children:h?m.jsx(x2,{className:"w-4 h-4"}):m.jsx(_2,{className:"w-4 h-4"})}),m.jsxs(vo,{open:x,onOpenChange:g,children:[m.jsx(wu,{asChild:!0,children:m.jsxs(et,{size:"sm",children:[m.jsx(Fw,{className:"w-4 h-4 mr-1"}),"Add Account"]})}),m.jsx(fi,{children:m.jsx(o1,{isOpen:x,onClose:()=>g(!1),userId:(t==null?void 0:t.uid)||""})})]}),m.jsx(et,{variant:"outline",size:"sm",onClick:D,children:m.jsx(w2,{className:"w-4 h-4"})})]})]})}),m.jsx("div",{className:"border-b bg-gradient-to-r from-background to-muted/30",children:m.jsx("div",{className:"container px-4 py-6",children:m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[m.jsx(go,{className:"bg-gradient-to-br from-emerald-50 to-emerald-100 dark:from-emerald-950/50 dark:to-emerald-900/50 border-emerald-200 dark:border-emerald-800",children:m.jsxs(yo,{className:"p-4",children:[m.jsx("div",{className:"flex items-center justify-between mb-2",children:m.jsxs("div",{className:"flex items-center space-x-2",children:[m.jsx("div",{className:"w-8 h-8 rounded-lg bg-emerald-500 flex items-center justify-center",children:m.jsx(g2,{className:"w-4 h-4 text-white"})}),m.jsx("span",{className:"font-semibold text-emerald-700 dark:text-emerald-300",children:"Funded Accounts"})]})}),m.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-xs text-emerald-600 dark:text-emerald-400",children:"ACCOUNTS"}),m.jsx("p",{className:"font-bold text-lg text-emerald-700 dark:text-emerald-300",children:s.funded.count})]}),m.jsxs("div",{children:[m.jsx("p",{className:"text-xs text-emerald-600 dark:text-emerald-400",children:"TOTAL FUNDING"}),m.jsxs("p",{className:"font-bold text-lg text-emerald-700 dark:text-emerald-300",children:["$",s.funded.totalCapital.toLocaleString()]})]}),m.jsxs("div",{children:[m.jsx("p",{className:"text-xs text-emerald-600 dark:text-emerald-400",children:"YOUR SHARE"}),m.jsxs("p",{className:"font-bold text-lg text-emerald-700 dark:text-emerald-300",children:["$",(s.funded.totalProfit*.8).toLocaleString()]})]}),m.jsxs("div",{children:[m.jsx("p",{className:"text-xs text-emerald-600 dark:text-emerald-400",children:"EST. PAYOUT"}),m.jsxs("p",{className:"font-bold text-lg text-emerald-700 dark:text-emerald-300",children:["$",Math.max(0,s.funded.totalProfit*.8).toLocaleString()]})]})]})]})}),m.jsx(go,{className:"bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-950/50 dark:to-blue-900/50 border-blue-200 dark:border-blue-800",children:m.jsxs(yo,{className:"p-4",children:[m.jsx("div",{className:"flex items-center justify-between mb-2",children:m.jsxs("div",{className:"flex items-center space-x-2",children:[m.jsx("div",{className:"w-8 h-8 rounded-lg bg-blue-500 flex items-center justify-center",children:m.jsx(T2,{className:"w-4 h-4 text-white"})}),m.jsx("span",{className:"font-semibold text-blue-700 dark:text-blue-300",children:"Challenge Accounts"})]})}),m.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-xs text-blue-600 dark:text-blue-400",children:"PHASE 1"}),m.jsxs("p",{className:"font-bold text-lg text-blue-700 dark:text-blue-300",children:[s.challenge.phase1Active," accounts"]})]}),m.jsxs("div",{children:[m.jsx("p",{className:"text-xs text-blue-600 dark:text-blue-400",children:"EST FUNDED ACCOUNTS"}),m.jsx("p",{className:"font-bold text-lg text-blue-700 dark:text-blue-300",children:Math.round((s.challenge.phase1Active+s.challenge.phase2Active)*.2)})]}),m.jsxs("div",{children:[m.jsx("p",{className:"text-xs text-blue-600 dark:text-blue-400",children:"PHASE 2"}),m.jsxs("p",{className:"font-bold text-lg text-blue-700 dark:text-blue-300",children:[s.challenge.phase2Active," accounts"]})]}),m.jsxs("div",{children:[m.jsx("p",{className:"text-xs text-blue-600 dark:text-blue-400",children:"EST FUNDED DRAWDOWN"}),m.jsxs("p",{className:"font-bold text-lg text-blue-700 dark:text-blue-300",children:["$",(s.challenge.phase1Capital+s.challenge.phase2Capital).toLocaleString()]})]})]})]})}),m.jsx(go,{className:"bg-gradient-to-br from-purple-50 to-purple-100 dark:from-purple-950/50 dark:to-purple-900/50 border-purple-200 dark:border-purple-800",children:m.jsxs(yo,{className:"p-4",children:[m.jsx("div",{className:"flex items-center justify-between mb-2",children:m.jsxs("div",{className:"flex items-center space-x-2",children:[m.jsx("div",{className:"w-8 h-8 rounded-lg bg-purple-500 flex items-center justify-center",children:m.jsx(Za,{className:"w-4 h-4 text-white"})}),m.jsx("span",{className:"font-semibold text-purple-700 dark:text-purple-300",children:"Portfolio Overview"})]})}),m.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-xs text-purple-600 dark:text-purple-400",children:"P1 BREACHED"}),m.jsx("p",{className:"font-bold text-lg text-purple-700 dark:text-purple-300",children:s.inactive.phase1Breached})]}),m.jsxs("div",{children:[m.jsx("p",{className:"text-xs text-purple-600 dark:text-purple-400",children:"P2 BREACHED"}),m.jsx("p",{className:"font-bold text-lg text-purple-700 dark:text-purple-300",children:s.inactive.phase2Breached})]}),m.jsxs("div",{children:[m.jsx("p",{className:"text-xs text-purple-600 dark:text-purple-400",children:"FUNDED BREACHED"}),m.jsx("p",{className:"font-bold text-lg text-purple-700 dark:text-purple-300",children:s.inactive.fundedBreached})]}),m.jsxs("div",{children:[m.jsx("p",{className:"text-xs text-purple-600 dark:text-purple-400",children:"TOTAL PASSED"}),m.jsx("p",{className:"font-bold text-lg text-purple-700 dark:text-purple-300",children:s.inactive.totalPassed})]})]})]})})]})})}),m.jsx("div",{className:"border-b",children:m.jsx("div",{className:"container px-4 py-2",children:m.jsx("div",{className:"flex space-x-1 overflow-x-auto",children:[{key:"active",label:"Active",count:I.length},{key:"funded",label:"Funded",count:s.funded.count},{key:"phase1",label:"Phase 1",count:s.challenge.phase1Active},{key:"phase2",label:"Phase 2",count:s.challenge.phase2Active},{key:"breached",label:"Breached",count:k},{key:"all",label:"All",count:R}].map(P=>m.jsxs(et,{variant:o===P.key?"default":"ghost",size:"sm",onClick:()=>a(P.key),className:"whitespace-nowrap",children:[P.label," (",P.count,")"]},P.key))})})}),m.jsxs("main",{className:"container px-4 py-4",children:[m.jsx("div",{className:de("grid gap-3",c==="compact"?"grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 2xl:grid-cols-6":"grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4"),children:C.map((P,B)=>{const G=Zn.calculateAccountHealth(P),K=P.firmName.split(" ").map(te=>te[0]).join("").toUpperCase().slice(0,2);return m.jsx(go,{className:"group relative overflow-hidden hover:shadow-md transition-all duration-200",children:m.jsx(yo,{className:de("p-3",c==="compact"&&"p-2"),children:c==="detailed"?m.jsxs("div",{className:"space-y-3",children:[m.jsxs("div",{className:"flex items-start justify-between",children:[m.jsxs("div",{className:"flex items-center space-x-2 min-w-0 flex-1",children:[m.jsx("div",{className:"w-8 h-8 rounded-lg bg-primary flex items-center justify-center flex-shrink-0",children:m.jsx("span",{className:"text-xs font-bold text-primary-foreground",children:K})}),m.jsxs("div",{className:"min-w-0 flex-1",children:[m.jsx("h3",{className:"font-medium text-sm leading-tight",children:P.alias?`${P.alias}-${P.firmName}`:P.firmName}),m.jsx("p",{className:"text-xs text-muted-foreground",children:P.phase})]})]}),m.jsx(p_,{variant:"secondary",className:de("text-xs shrink-0",P.status==="active"&&!G.isMaxDrawdownBreached&&"bg-green-100 text-green-700 dark:bg-green-900/20 dark:text-green-400",G.isMaxDrawdownBreached&&"bg-red-100 text-red-700 dark:bg-red-900/20 dark:text-red-400"),children:G.isMaxDrawdownBreached?"BREACH":"ACTIVE"})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-muted-foreground",children:"Size"}),m.jsxs("p",{className:"font-medium",children:["$",(P.accountSize/1e3).toFixed(0),"K"]})]}),m.jsxs("div",{children:[m.jsx("p",{className:"text-muted-foreground",children:"Balance"}),m.jsxs("p",{className:"font-medium",children:["$",P.currentBalance.toLocaleString()]})]})]}),m.jsxs("div",{className:"space-y-1",children:[m.jsxs("div",{className:"flex justify-between items-center text-xs",children:[m.jsx("span",{className:"text-muted-foreground",children:"P&L"}),m.jsxs("span",{className:de("font-medium",G.currentPnL>=0?"text-green-600":"text-red-600"),children:[G.currentPnL>=0?"+":"","$",(G.currentPnL/1e3).toFixed(1),"K"]})]}),m.jsxs("div",{className:"space-y-1",children:[m.jsxs("div",{className:"flex justify-between items-center text-xs",children:[m.jsx("span",{className:"text-muted-foreground",children:"Progress"}),m.jsxs("span",{className:"text-xs font-medium",children:[G.progressPercent.toFixed(0),"%"]})]}),m.jsxs("div",{className:"relative w-full bg-red-200 rounded-full h-2",children:[m.jsx("div",{className:"absolute w-0.5 h-2 bg-gray-400 z-10",style:{left:`${(0-G.leftLimit)/(G.rightLimit-G.leftLimit)*100}%`}}),m.jsx("div",{className:de("h-2 rounded-full transition-all duration-300",G.currentPnL>=0?"bg-green-500":"bg-red-500"),style:{width:`${G.progressPercent}%`}}),m.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground mt-1",children:[m.jsx("span",{children:"SL"}),m.jsx("span",{children:"Start"}),m.jsx("span",{children:"TP"})]})]})]})]}),m.jsxs("div",{className:"flex space-x-1 pt-1",children:[m.jsxs(vo,{open:T,onOpenChange:E,children:[m.jsx(wu,{asChild:!0,children:m.jsxs(et,{size:"sm",className:"flex-1 h-7 text-xs",onClick:()=>S(P),children:[m.jsx(C2,{className:"w-3 h-3 mr-1"}),"Trade"]})}),m.jsx(fi,{children:m.jsx(a1,{isOpen:T,onClose:()=>E(!1),account:_})})]}),m.jsx(et,{variant:"outline",size:"sm",className:"h-7",children:m.jsx(E2,{className:"w-3 h-3"})})]})]}):m.jsxs("div",{className:"space-y-2",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center space-x-1 min-w-0 flex-1",children:[m.jsx("div",{className:"w-6 h-6 rounded bg-primary flex items-center justify-center flex-shrink-0",children:m.jsx("span",{className:"text-xs font-bold text-primary-foreground",children:K})}),m.jsx("div",{className:"min-w-0 flex-1",children:m.jsx("h3",{className:"text-xs font-medium truncate",children:P.alias?`${P.alias}-${P.firmName}`:P.firmName})})]}),m.jsx(p_,{variant:"secondary",className:"text-xs shrink-0",children:P.phase==="Challenge Phase 1"?"P1":P.phase==="Challenge Phase 2"?"P2":"F"})]}),m.jsxs("div",{className:"text-center",children:[m.jsx("p",{className:"text-xs text-muted-foreground",children:"Balance"}),m.jsxs("p",{className:"text-sm font-bold",children:["$",P.currentBalance.toLocaleString()]}),m.jsxs("p",{className:de("text-xs font-medium",G.currentPnL>=0?"text-green-600":"text-red-600"),children:[G.currentPnL>=0?"+":"","$",G.currentPnL.toLocaleString()]})]}),m.jsxs(vo,{open:T,onOpenChange:E,children:[m.jsx(wu,{asChild:!0,children:m.jsx(et,{size:"sm",className:"w-full h-6 text-xs",onClick:()=>S(P),children:"Trade"})}),m.jsx(fi,{children:m.jsx(a1,{isOpen:T,onClose:()=>E(!1),account:_})})]})]})})},P.id)})}),L.length===0&&m.jsxs("div",{className:"text-center py-8",children:[m.jsx("div",{className:"w-12 h-12 mx-auto mb-3 rounded-full bg-muted flex items-center justify-center",children:m.jsx(Za,{className:"w-6 h-6 text-muted-foreground"})}),m.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No accounts found"}),m.jsx("p",{className:"text-muted-foreground mb-4 text-sm",children:o==="all"?"Get started by adding your first trading account":`No ${o} accounts to display`}),m.jsxs(vo,{open:x,onOpenChange:g,children:[m.jsx(wu,{asChild:!0,children:m.jsxs(et,{children:[m.jsx(Fw,{className:"w-4 h-4 mr-2"}),"Add Account"]})}),m.jsx(fi,{children:m.jsx(o1,{isOpen:x,onClose:()=>g(!1),userId:(t==null?void 0:t.uid)||""})})]})]})]})]}):m.jsx(L9,{onLogin:()=>{}})}const f$=()=>{const t=lI();return w.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),m.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:m.jsxs("div",{className:"text-center",children:[m.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),m.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),m.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},p$=new OM,m$=()=>m.jsx(LM,{client:p$,children:m.jsxs(dM,{children:[m.jsx(lD,{}),m.jsx(VD,{}),m.jsx(_L,{children:m.jsxs(yL,{children:[m.jsx(bm,{path:"/",element:m.jsx(h$,{})}),m.jsx(bm,{path:"*",element:m.jsx(f$,{})})]})})]})});NT(document.getElementById("root")).render(m.jsx(m$,{}));
