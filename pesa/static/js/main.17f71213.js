/*! For license information please see main.17f71213.js.LICENSE.txt */
(()=>{var e={356:(e,t,n)=>{e.exports=n(9645).last},579:(e,t,n)=>{"use strict";e.exports=n(2799)},856:()=>{},870:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isObject=function(e){return null!==e&&("object"===typeof e||"function"===typeof e)}},1203:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(8420);t.isArrayLike=function(e){return null!=e&&"function"!==typeof e&&r.isLength(e.length)}},1293:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.debounce=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};"object"!==typeof n&&(n={});let r,a=null,i=null,o=null,s=0,l=null;const{leading:c=!1,trailing:u=!0,maxWait:d}=n,h="maxWait"in n,f=h?Math.max(Number(d)||0,t):0,p=t=>(null!==a&&(r=e.apply(i,a)),a=i=null,s=t,r),m=e=>(l=null,u&&null!==a?p(e):r),g=e=>{if(null===o)return!0;const n=e-o;return n>=t||n<0||h&&e-s>=f},y=()=>{const e=Date.now();if(g(e))return m(e);l=setTimeout(y,(e=>{const n=t-(null===o?0:e-o),r=f-(e-s);return h?Math.min(n,r):n})(e))},v=function(){const e=Date.now(),n=g(e);for(var u=arguments.length,d=new Array(u),f=0;f<u;f++)d[f]=arguments[f];if(a=d,i=this,o=e,n){if(null===l)return s=m=e,l=setTimeout(y,t),c&&null!==a?p(m):r;if(h)return clearTimeout(l),l=setTimeout(y,t),p(e)}var m;return null===l&&(l=setTimeout(y,t)),r};return v.cancel=()=>{null!==l&&clearTimeout(l),s=0,o=a=i=l=null},v.flush=()=>null===l?r:m(Date.now()),v}},1444:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.toPath=function(e){const t=[],n=e.length;if(0===n)return t;let r=0,a="",i="",o=!1;for(46===e.charCodeAt(0)&&(t.push(""),r++);r<n;){const s=e[r];i?"\\"===s&&r+1<n?(r++,a+=e[r]):s===i?i="":a+=s:o?'"'===s||"'"===s?i=s:"]"===s?(o=!1,t.push(a),a=""):a+=s:"["===s?(o=!0,a&&(t.push(a),a="")):"."===s?a&&(t.push(a),a=""):a+=s,r++}return a&&t.push(a),t}},1561:()=>{},2086:(e,t,n)=>{"use strict";e.exports=n(5082)},2104:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(1203),a=n(9921);t.isArrayLikeObject=function(e){return a.isObjectLike(e)&&r.isArrayLike(e)}},2132:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(8268),a=n(870),i=n(4803),o=n(9972);function s(e,t,n,r){if(t===e)return!0;switch(typeof t){case"object":return function(e,t,n,r){if(null==t)return!0;if(Array.isArray(t))return l(e,t,n,r);if(t instanceof Map)return function(e,t,n,r){if(0===t.size)return!0;if(!(e instanceof Map))return!1;for(const[a,i]of t.entries()){if(!1===n(e.get(a),i,a,e,t,r))return!1}return!0}(e,t,n,r);if(t instanceof Set)return c(e,t,n,r);const a=Object.keys(t);if(null==e)return 0===a.length;if(0===a.length)return!0;if(r&&r.has(t))return r.get(t)===e;r&&r.set(t,e);try{for(let o=0;o<a.length;o++){const s=a[o];if(!i.isPrimitive(e)&&!(s in e))return!1;if(void 0===t[s]&&void 0!==e[s])return!1;if(null===t[s]&&null!==e[s])return!1;if(!n(e[s],t[s],s,e,t,r))return!1}return!0}finally{r&&r.delete(t)}}(e,t,n,r);case"function":return Object.keys(t).length>0?s(e,{...t},n,r):o.eq(e,t);default:return a.isObject(e)?"string"!==typeof t||""===t:o.eq(e,t)}}function l(e,t,n,r){if(0===t.length)return!0;if(!Array.isArray(e))return!1;const a=new Set;for(let i=0;i<t.length;i++){const o=t[i];let s=!1;for(let l=0;l<e.length;l++){if(a.has(l))continue;let c=!1;if(n(e[l],o,i,e,t,r)&&(c=!0),c){a.add(l),s=!0;break}}if(!s)return!1}return!0}function c(e,t,n,r){return 0===t.size||e instanceof Set&&l([...e],[...t],n,r)}t.isMatchWith=function(e,t,n){return"function"!==typeof n?r.isMatch(e,t):s(e,t,function e(t,r,a,i,o,l){const c=n(t,r,a,i,o,l);return void 0!==c?Boolean(c):s(t,r,e,l)},new Map)},t.isSetMatch=c},2204:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(5316),a=n(7312),i=n(3799);t.sortBy=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];const s=n.length;return s>1&&i.isIterateeCall(e,n[0],n[1])?n=[]:s>2&&i.isIterateeCall(n[0],n[1],n[2])&&(n=[n[0]]),r.orderBy(e,a.flatten(n),["asc"])}},2330:(e,t,n)=>{"use strict";var r=n(5043);var a="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},i=r.useState,o=r.useEffect,s=r.useLayoutEffect,l=r.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!a(e,n)}catch(r){return!0}}var u="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=i({inst:{value:n,getSnapshot:t}}),a=r[0].inst,u=r[1];return s(function(){a.value=n,a.getSnapshot=t,c(a)&&u({inst:a})},[e,n,t]),o(function(){return c(a)&&u({inst:a}),e(function(){c(a)&&u({inst:a})})},[e]),l(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:u},2489:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isDeepKey=function(e){switch(typeof e){case"number":case"symbol":return!1;case"string":return e.includes(".")||e.includes("[")||e.includes("]")}}},2682:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isPlainObject=function(e){if("object"!==typeof e)return!1;if(null==e)return!1;if(null===Object.getPrototypeOf(e))return!0;if("[object Object]"!==Object.prototype.toString.call(e)){const t=e[Symbol.toStringTag];if(null==t)return!1;return!!Object.getOwnPropertyDescriptor(e,Symbol.toStringTag)?.writable&&e.toString()===`[object ${t}]`}let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}},2715:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(9599),a=n(7330),i=n(3808),o=n(8845);t.iteratee=function(e){if(null==e)return r.identity;switch(typeof e){case"function":return e;case"object":return Array.isArray(e)&&2===e.length?o.matchesProperty(e[0],e[1]):i.matches(e);case"string":case"symbol":case"number":return a.property(e)}}},2777:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isSymbol=function(e){return"symbol"===typeof e||e instanceof Symbol}},2799:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function a(e,t,r){var a=null;if(void 0!==r&&(a=""+r),void 0!==t.key&&(a=""+t.key),"key"in t)for(var i in r={},t)"key"!==i&&(r[i]=t[i]);else r=t;return t=r.ref,{$$typeof:n,type:e,key:a,ref:void 0!==t?t:null,props:r}}t.Fragment=r,t.jsx=a,t.jsxs=a},3272:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.toKey=function(e){return"string"===typeof e||"symbol"===typeof e?e:Object.is(e?.valueOf?.(),-0)?"-0":String(e)}},3757:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isTypedArray=function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}},3799:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(4704),a=n(1203),i=n(870),o=n(9972);t.isIterateeCall=function(e,t,n){return!!i.isObject(n)&&(!!("number"===typeof t&&a.isArrayLike(n)&&r.isIndex(t)&&t<n.length||"string"===typeof t&&t in n)&&o.eq(n[t],e))}},3808:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(8268),a=n(5261);t.matches=function(e){return e=a.cloneDeep(e),t=>r.isMatch(t,e)}},3821:(e,t,n)=>{e.exports=n(2204).sortBy},4208:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.uniqBy=function(e,t){const n=new Map;for(let r=0;r<e.length;r++){const a=e[r],i=t(a);n.has(i)||n.set(i,a)}return Array.from(n.values())}},4250:(e,t,n)=>{e.exports=n(8182).isEqual},4288:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function v(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var x=b.prototype=new v;x.constructor=b,m(x,y.prototype),x.isPureReactComponent=!0;var w=Array.isArray,k={H:null,A:null,T:null,S:null,V:null},S=Object.prototype.hasOwnProperty;function E(e,t,r,a,i,o){return r=o.ref,{$$typeof:n,type:e,key:t,ref:void 0!==r?r:null,props:o}}function N(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var j=/\/+/g;function _(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function T(){}function A(e,t,a,i,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l,c,u=!1;if(null===e)u=!0;else switch(s){case"bigint":case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0;break;case h:return A((u=e._init)(e._payload),t,a,i,o)}}if(u)return o=o(e),u=""===i?"."+_(e,0):i,w(o)?(a="",null!=u&&(a=u.replace(j,"$&/")+"/"),A(o,t,a,"",function(e){return e})):null!=o&&(N(o)&&(l=o,c=a+(null==o.key||e&&e.key===o.key?"":(""+o.key).replace(j,"$&/")+"/")+u,o=E(l.type,c,void 0,0,0,l.props)),t.push(o)),1;u=0;var d,p=""===i?".":i+":";if(w(e))for(var m=0;m<e.length;m++)u+=A(i=e[m],t,a,s=p+_(i,m),o);else if("function"===typeof(m=null===(d=e)||"object"!==typeof d?null:"function"===typeof(d=f&&d[f]||d["@@iterator"])?d:null))for(e=m.call(e),m=0;!(i=e.next()).done;)u+=A(i=i.value,t,a,s=p+_(i,m++),o);else if("object"===s){if("function"===typeof e.then)return A(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(T,T):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,a,i,o);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return u}function C(e,t,n){if(null==e)return e;var r=[],a=0;return A(e,r,"","",function(e){return t.call(n,e,a++)}),r}function O(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var I="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function P(){}t.Children={map:C,forEach:function(e,t,n){C(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return C(e,function(){t++}),t},toArray:function(e){return C(e,function(e){return e})||[]},only:function(e){if(!N(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=a,t.Profiler=o,t.PureComponent=b,t.StrictMode=i,t.Suspense=u,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return k.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var r=m({},e.props),a=e.key;if(null!=t)for(i in void 0!==t.ref&&void 0,void 0!==t.key&&(a=""+t.key),t)!S.call(t,i)||"key"===i||"__self"===i||"__source"===i||"ref"===i&&void 0===t.ref||(r[i]=t[i]);var i=arguments.length-2;if(1===i)r.children=n;else if(1<i){for(var o=Array(i),s=0;s<i;s++)o[s]=arguments[s+2];r.children=o}return E(e.type,a,void 0,0,0,r)},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:s,_context:e},e},t.createElement=function(e,t,n){var r,a={},i=null;if(null!=t)for(r in void 0!==t.key&&(i=""+t.key),t)S.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(a[r]=t[r]);var o=arguments.length-2;if(1===o)a.children=n;else if(1<o){for(var s=Array(o),l=0;l<o;l++)s[l]=arguments[l+2];a.children=s}if(e&&e.defaultProps)for(r in o=e.defaultProps)void 0===a[r]&&(a[r]=o[r]);return E(e,i,void 0,0,0,a)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=N,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:O}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=k.T,n={};k.T=n;try{var r=e(),a=k.S;null!==a&&a(n,r),"object"===typeof r&&null!==r&&"function"===typeof r.then&&r.then(P,I)}catch(i){I(i)}finally{k.T=t}},t.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},t.use=function(e){return k.H.use(e)},t.useActionState=function(e,t,n){return k.H.useActionState(e,t,n)},t.useCallback=function(e,t){return k.H.useCallback(e,t)},t.useContext=function(e){return k.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return k.H.useDeferredValue(e,t)},t.useEffect=function(e,t,n){var r=k.H;if("function"===typeof n)throw Error("useEffect CRUD overload is not enabled in this build of React.");return r.useEffect(e,t)},t.useId=function(){return k.H.useId()},t.useImperativeHandle=function(e,t,n){return k.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return k.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return k.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return k.H.useMemo(e,t)},t.useOptimistic=function(e,t){return k.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return k.H.useReducer(e,t,n)},t.useRef=function(e){return k.H.useRef(e)},t.useState=function(e){return k.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return k.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return k.H.useTransition()},t.version="19.1.0"},4332:(e,t,n)=>{e.exports=n(5053).uniqBy},4385:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isPlainObject=function(e){if(!e||"object"!==typeof e)return!1;const t=Object.getPrototypeOf(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t))&&"[object Object]"===Object.prototype.toString.call(e)}},4391:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(7004)},4704:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=/^(?:0|[1-9]\d*)$/;t.isIndex=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_SAFE_INTEGER;switch(typeof e){case"number":return Number.isInteger(e)&&e>=0&&e<t;case"symbol":return!1;case"string":return n.test(e)}}},4737:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.noop=function(){}},4803:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isPrimitive=function(e){return null==e||"object"!==typeof e&&"function"!==typeof e}},4879:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(6770);t.toFinite=function(e){if(!e)return 0===e?e:0;if((e=r.toNumber(e))===1/0||e===-1/0){return(e<0?-1:1)*Number.MAX_VALUE}return e===e?e:0}},5043:(e,t,n)=>{"use strict";e.exports=n(4288)},5053:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(4208),a=n(9599),i=n(2104),o=n(2715);t.uniqBy=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.identity;return i.isArrayLikeObject(e)?r.uniqBy(Array.from(e),o.iteratee(t)):[]}},5082:(e,t)=>{"use strict";var n=60103,r=60106,a=60107,i=60108,o=60114,s=60109,l=60110,c=60112,u=60113,d=60120,h=60115,f=60116,p=60121,m=60122,g=60117,y=60129,v=60131;if("function"===typeof Symbol&&Symbol.for){var b=Symbol.for;n=b("react.element"),r=b("react.portal"),a=b("react.fragment"),i=b("react.strict_mode"),o=b("react.profiler"),s=b("react.provider"),l=b("react.context"),c=b("react.forward_ref"),u=b("react.suspense"),d=b("react.suspense_list"),h=b("react.memo"),f=b("react.lazy"),p=b("react.block"),m=b("react.server.block"),g=b("react.fundamental"),y=b("react.debug_trace_mode"),v=b("react.legacy_hidden")}function x(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case a:case o:case i:case u:case d:return e;default:switch(e=e&&e.$$typeof){case l:case c:case f:case h:case s:return e;default:return t}}case r:return t}}}t.isFragment=function(e){return x(e)===a}},5261:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(6433);t.cloneDeep=function(e){return r.cloneDeepWithImpl(e,void 0,e,new Map,void 0)}},5303:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(2489),a=n(4704),i=n(6321),o=n(1444);t.has=function(e,t){let n;if(n=Array.isArray(t)?t:"string"===typeof t&&r.isDeepKey(t)&&null==e?.[t]?o.toPath(t):[t],0===n.length)return!1;let s=e;for(let r=0;r<n.length;r++){const e=n[r];if(null==s||!Object.hasOwn(s,e)){if(!((Array.isArray(s)||i.isArguments(s))&&a.isIndex(e)&&e<s.length))return!1}s=s[e]}return!0}},5316:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(9709),a=n(7043),i=n(1444);t.orderBy=function(e,t,n,o){if(null==e)return[];n=o?void 0:n,Array.isArray(e)||(e=Object.values(e)),Array.isArray(t)||(t=null==t?[null]:[t]),0===t.length&&(t=[null]),Array.isArray(n)||(n=null==n?[]:[n]),n=n.map(e=>String(e));const s=(e,t)=>{let n=e;for(let r=0;r<t.length&&null!=n;++r)n=n[t[r]];return n},l=t.map(e=>(Array.isArray(e)&&1===e.length&&(e=e[0]),null==e||"function"===typeof e||Array.isArray(e)||a.isKey(e)?e:{key:e,path:i.toPath(e)}));return e.map(e=>({original:e,criteria:l.map(t=>((e,t)=>null==t||null==e?t:"object"===typeof e&&"key"in e?Object.hasOwn(t,e.key)?t[e.key]:s(t,e.path):"function"===typeof e?e(t):Array.isArray(e)?s(t,e):"object"===typeof t?t[e]:t)(t,e))})).slice().sort((e,t)=>{for(let a=0;a<l.length;a++){const i=r.compareValues(e.criteria[a],t.criteria[a],n[a]);if(0!==i)return i}return 0}).map(e=>e.original)}},5414:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(1293);t.throttle=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{leading:a=!0,trailing:i=!0}=n;return r.debounce(e,t,{leading:a,maxWait:t,trailing:i})}},5508:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(6433),a=n(7599);t.cloneDeepWith=function(e,t){return r.cloneDeepWith(e,(n,i,o,s)=>{const l=t?.(n,i,o,s);if(null!=l)return l;if("object"===typeof e)switch(Object.prototype.toString.call(e)){case a.numberTag:case a.stringTag:case a.booleanTag:{const t=new e.constructor(e?.valueOf());return r.copyProperties(t,e),t}case a.argumentsTag:{const t={};return r.copyProperties(t,e),t.length=e.length,t[Symbol.iterator]=e[Symbol.iterator],t}default:return}})}},5896:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,a=e[r];if(!(0<i(a,t)))break e;e[r]=t,e[n]=a,n=r}}function r(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,a=e.length,o=a>>>1;r<o;){var s=2*(r+1)-1,l=e[s],c=s+1,u=e[c];if(0>i(l,n))c<a&&0>i(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[s]=n,r=s);else{if(!(c<a&&0>i(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,m=!1,g=!1,y=!1,v="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,x="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(u);null!==t;){if(null===t.callback)a(u);else{if(!(t.startTime<=e))break;a(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function k(e){if(g=!1,w(e),!m)if(null!==r(c))m=!0,E||(E=!0,S());else{var t=r(u);null!==t&&I(k,t.startTime-e)}}var S,E=!1,N=-1,j=5,_=-1;function T(){return!!y||!(t.unstable_now()-_<j)}function A(){if(y=!1,E){var e=t.unstable_now();_=e;var n=!0;try{e:{m=!1,g&&(g=!1,b(N),N=-1),p=!0;var i=f;try{t:{for(w(e),h=r(c);null!==h&&!(h.expirationTime>e&&T());){var o=h.callback;if("function"===typeof o){h.callback=null,f=h.priorityLevel;var s=o(h.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof s){h.callback=s,w(e),n=!0;break t}h===r(c)&&a(c),w(e)}else a(c);h=r(c)}if(null!==h)n=!0;else{var l=r(u);null!==l&&I(k,l.startTime-e),n=!1}}break e}finally{h=null,f=i,p=!1}n=void 0}}finally{n?S():E=!1}}}if("function"===typeof x)S=function(){x(A)};else if("undefined"!==typeof MessageChannel){var C=new MessageChannel,O=C.port2;C.port1.onmessage=A,S=function(){O.postMessage(null)}}else S=function(){v(A,0)};function I(e,n){N=v(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_requestPaint=function(){y=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,a,i){var o=t.unstable_now();switch("object"===typeof i&&null!==i?i="number"===typeof(i=i.delay)&&0<i?o+i:o:i=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:a,priorityLevel:e,startTime:i,expirationTime:s=i+s,sortIndex:-1},i>o?(e.sortIndex=i,n(u,e),null===r(c)&&e===r(u)&&(g?(b(N),N=-1):g=!0,I(k,i-o))):(e.sortIndex=s,n(c,e),m||p||(m=!0,E||(E=!0,S()))),e},t.unstable_shouldYield=T,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},5990:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.getTag=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}},6321:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(5990);t.isArguments=function(e){return null!==e&&"object"===typeof e&&"[object Arguments]"===r.getTag(e)}},6392:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.last=function(e){return e[e.length-1]}},6433:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(6443),a=n(5990),i=n(7599),o=n(4803),s=n(3757);function l(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Map,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0;const d=u?.(e,t,n,r);if(null!=d)return d;if(o.isPrimitive(e))return e;if(r.has(e))return r.get(e);if(Array.isArray(e)){const t=new Array(e.length);r.set(e,t);for(let a=0;a<e.length;a++)t[a]=l(e[a],a,n,r,u);return Object.hasOwn(e,"index")&&(t.index=e.index),Object.hasOwn(e,"input")&&(t.input=e.input),t}if(e instanceof Date)return new Date(e.getTime());if(e instanceof RegExp){const t=new RegExp(e.source,e.flags);return t.lastIndex=e.lastIndex,t}if(e instanceof Map){const t=new Map;r.set(e,t);for(const[a,i]of e)t.set(a,l(i,a,n,r,u));return t}if(e instanceof Set){const t=new Set;r.set(e,t);for(const a of e)t.add(l(a,void 0,n,r,u));return t}if("undefined"!==typeof Buffer&&Buffer.isBuffer(e))return e.subarray();if(s.isTypedArray(e)){const t=new(Object.getPrototypeOf(e).constructor)(e.length);r.set(e,t);for(let a=0;a<e.length;a++)t[a]=l(e[a],a,n,r,u);return t}if(e instanceof ArrayBuffer||"undefined"!==typeof SharedArrayBuffer&&e instanceof SharedArrayBuffer)return e.slice(0);if(e instanceof DataView){const t=new DataView(e.buffer.slice(0),e.byteOffset,e.byteLength);return r.set(e,t),c(t,e,n,r,u),t}if("undefined"!==typeof File&&e instanceof File){const t=new File([e],e.name,{type:e.type});return r.set(e,t),c(t,e,n,r,u),t}if(e instanceof Blob){const t=new Blob([e],{type:e.type});return r.set(e,t),c(t,e,n,r,u),t}if(e instanceof Error){const t=new e.constructor;return r.set(e,t),t.message=e.message,t.name=e.name,t.stack=e.stack,t.cause=e.cause,c(t,e,n,r,u),t}if("object"===typeof e&&function(e){switch(a.getTag(e)){case i.argumentsTag:case i.arrayTag:case i.arrayBufferTag:case i.dataViewTag:case i.booleanTag:case i.dateTag:case i.float32ArrayTag:case i.float64ArrayTag:case i.int8ArrayTag:case i.int16ArrayTag:case i.int32ArrayTag:case i.mapTag:case i.numberTag:case i.objectTag:case i.regexpTag:case i.setTag:case i.stringTag:case i.symbolTag:case i.uint8ArrayTag:case i.uint8ClampedArrayTag:case i.uint16ArrayTag:case i.uint32ArrayTag:return!0;default:return!1}}(e)){const t=Object.create(Object.getPrototypeOf(e));return r.set(e,t),c(t,e,n,r,u),t}return e}function c(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,a=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;const o=[...Object.keys(t),...r.getSymbols(t)];for(let r=0;r<o.length;r++){const s=o[r],c=Object.getOwnPropertyDescriptor(e,s);(null==c||c.writable)&&(e[s]=l(t[s],s,n,a,i))}}t.cloneDeepWith=function(e,t){return l(e,void 0,e,new Map,t)},t.cloneDeepWithImpl=l,t.copyProperties=c},6443:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.getSymbols=function(e){return Object.getOwnPropertySymbols(e).filter(t=>Object.prototype.propertyIsEnumerable.call(e,t))}},6672:(e,t,n)=>{"use strict";var r=n(5043);function a(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var o={d:{f:i,r:function(){throw Error(a(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},s=Symbol.for("react.portal");var l=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(a(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:s,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=l.T,n=o.p;try{if(l.T=null,o.p=2,e)return e()}finally{l.T=t,o.p=n,o.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,o.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&o.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin),a="string"===typeof t.integrity?t.integrity:void 0,i="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?o.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:r,integrity:a,fetchPriority:i}):"script"===n&&o.d.X(e,{crossOrigin:r,integrity:a,fetchPriority:i,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=c(t.as,t.crossOrigin);o.d.M(e,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&o.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin);o.d.L(e,n,{crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var n=c(t.as,t.crossOrigin);o.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else o.d.m(e)},t.requestFormReset=function(e){o.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return l.H.useFormState(e,t,n)},t.useFormStatus=function(){return l.H.useHostTransitionStatus()},t.version="19.1.0"},6770:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(2777);t.toNumber=function(e){return r.isSymbol(e)?NaN:Number(e)}},7004:(e,t,n)=>{"use strict";var r=n(8853),a=n(5043),i=n(7950);function o(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function l(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function c(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function u(e){if(l(e)!==e)throw Error(o(188))}function d(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=d(e)))return t;e=e.sibling}return null}var h=Object.assign,f=Symbol.for("react.element"),p=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),x=Symbol.for("react.consumer"),w=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),E=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),j=Symbol.for("react.lazy");Symbol.for("react.scope");var _=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var T=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var A=Symbol.iterator;function C(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=A&&e[A]||e["@@iterator"])?e:null}var O=Symbol.for("react.client.reference");function I(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===O?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case g:return"Fragment";case v:return"Profiler";case y:return"StrictMode";case S:return"Suspense";case E:return"SuspenseList";case _:return"Activity"}if("object"===typeof e)switch(e.$$typeof){case m:return"Portal";case w:return(e.displayName||"Context")+".Provider";case x:return(e._context.displayName||"Context")+".Consumer";case k:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case N:return null!==(t=e.displayName||null)?t:I(e.type)||"Memo";case j:t=e._payload,e=e._init;try{return I(e(t))}catch(n){}}return null}var P=Array.isArray,D=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,M=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,R={pending:!1,data:null,method:null,action:null},L=[],F=-1;function z(e){return{current:e}}function U(e){0>F||(e.current=L[F],L[F]=null,F--)}function V(e,t){F++,L[F]=e.current,e.current=t}var B=z(null),$=z(null),H=z(null),K=z(null);function q(e,t){switch(V(H,t),V($,e),V(B,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?ad(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=id(t=ad(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}U(B),V(B,e)}function W(){U(B),U($),U(H)}function G(e){null!==e.memoizedState&&V(K,e);var t=B.current,n=id(t,e.type);t!==n&&(V($,e),V(B,n))}function Y(e){$.current===e&&(U(B),U($)),K.current===e&&(U(K),Gd._currentValue=R)}var Q=Object.prototype.hasOwnProperty,X=r.unstable_scheduleCallback,J=r.unstable_cancelCallback,Z=r.unstable_shouldYield,ee=r.unstable_requestPaint,te=r.unstable_now,ne=r.unstable_getCurrentPriorityLevel,re=r.unstable_ImmediatePriority,ae=r.unstable_UserBlockingPriority,ie=r.unstable_NormalPriority,oe=r.unstable_LowPriority,se=r.unstable_IdlePriority,le=r.log,ce=r.unstable_setDisableYieldValue,ue=null,de=null;function he(e){if("function"===typeof le&&ce(e),de&&"function"===typeof de.setStrictMode)try{de.setStrictMode(ue,e)}catch(t){}}var fe=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(pe(e)/me|0)|0},pe=Math.log,me=Math.LN2;var ge=256,ye=4194304;function ve(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194048&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function be(e,t,n){var r=e.pendingLanes;if(0===r)return 0;var a=0,i=e.suspendedLanes,o=e.pingedLanes;e=e.warmLanes;var s=134217727&r;return 0!==s?0!==(r=s&~i)?a=ve(r):0!==(o&=s)?a=ve(o):n||0!==(n=s&~e)&&(a=ve(n)):0!==(s=r&~i)?a=ve(s):0!==o?a=ve(o):n||0!==(n=r&~e)&&(a=ve(n)),0===a?0:0!==t&&t!==a&&0===(t&i)&&((i=a&-a)>=(n=t&-t)||32===i&&0!==(4194048&n))?t:a}function xe(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function we(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ke(){var e=ge;return 0===(4194048&(ge<<=1))&&(ge=256),e}function Se(){var e=ye;return 0===(62914560&(ye<<=1))&&(ye=4194304),e}function Ee(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ne(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function je(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-fe(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|4194090&n}function _e(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-fe(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}function Te(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ae(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function Ce(){var e=M.p;return 0!==e?e:void 0===(e=window.event)?32:ch(e.type)}var Oe=Math.random().toString(36).slice(2),Ie="__reactFiber$"+Oe,Pe="__reactProps$"+Oe,De="__reactContainer$"+Oe,Me="__reactEvents$"+Oe,Re="__reactListeners$"+Oe,Le="__reactHandles$"+Oe,Fe="__reactResources$"+Oe,ze="__reactMarker$"+Oe;function Ue(e){delete e[Ie],delete e[Pe],delete e[Me],delete e[Re],delete e[Le]}function Ve(e){var t=e[Ie];if(t)return t;for(var n=e.parentNode;n;){if(t=n[De]||n[Ie]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=bd(e);null!==e;){if(n=e[Ie])return n;e=bd(e)}return t}n=(e=n).parentNode}return null}function Be(e){if(e=e[Ie]||e[De]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function $e(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(o(33))}function He(e){var t=e[Fe];return t||(t=e[Fe]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Ke(e){e[ze]=!0}var qe=new Set,We={};function Ge(e,t){Ye(e,t),Ye(e+"Capture",t)}function Ye(e,t){for(We[e]=t,e=0;e<t.length;e++)qe.add(t[e])}var Qe,Xe,Je=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ze={},et={};function tt(e,t,n){if(a=t,Q.call(et,a)||!Q.call(Ze,a)&&(Je.test(a)?et[a]=!0:(Ze[a]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var a}function nt(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function rt(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function at(e){if(void 0===Qe)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Qe=t&&t[1]||"",Xe=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+Qe+e+Xe}var it=!1;function ot(e,t){if(!e||it)return"";it=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(a){var r=a}Reflect.construct(e,[],n)}else{try{n.call()}catch(i){r=i}e.call(n.prototype)}}else{try{throw Error()}catch(o){r=o}(n=e())&&"function"===typeof n.catch&&n.catch(function(){})}}catch(s){if(s&&r&&"string"===typeof s.stack)return[s.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var a=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");a&&a.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=r.DetermineComponentFrameRoot(),o=i[0],s=i[1];if(o&&s){var l=o.split("\n"),c=s.split("\n");for(a=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;a<c.length&&!c[a].includes("DetermineComponentFrameRoot");)a++;if(r===l.length||a===c.length)for(r=l.length-1,a=c.length-1;1<=r&&0<=a&&l[r]!==c[a];)a--;for(;1<=r&&0<=a;r--,a--)if(l[r]!==c[a]){if(1!==r||1!==a)do{if(r--,0>--a||l[r]!==c[a]){var u="\n"+l[r].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=r&&0<=a);break}}}finally{it=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?at(n):""}function st(e){switch(e.tag){case 26:case 27:case 5:return at(e.type);case 16:return at("Lazy");case 13:return at("Suspense");case 19:return at("SuspenseList");case 0:case 15:return ot(e.type,!1);case 11:return ot(e.type.render,!1);case 1:return ot(e.type,!0);case 31:return at("Activity");default:return""}}function lt(e){try{var t="";do{t+=st(e),e=e.return}while(e);return t}catch(n){return"\nError generating stack: "+n.message+"\n"+n.stack}}function ct(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ut(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function dt(e){e._valueTracker||(e._valueTracker=function(e){var t=ut(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var a=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){r=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function ht(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ut(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function ft(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var pt=/[\n"\\]/g;function mt(e){return e.replace(pt,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function gt(e,t,n,r,a,i,o,s){e.name="",null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o?e.type=o:e.removeAttribute("type"),null!=t?"number"===o?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ct(t)):e.value!==""+ct(t)&&(e.value=""+ct(t)):"submit"!==o&&"reset"!==o||e.removeAttribute("value"),null!=t?vt(e,o,ct(t)):null!=n?vt(e,o,ct(n)):null!=r&&e.removeAttribute("value"),null==a&&null!=i&&(e.defaultChecked=!!i),null!=a&&(e.checked=a&&"function"!==typeof a&&"symbol"!==typeof a),null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s?e.name=""+ct(s):e.removeAttribute("name")}function yt(e,t,n,r,a,i,o,s){if(null!=i&&"function"!==typeof i&&"symbol"!==typeof i&&"boolean"!==typeof i&&(e.type=i),null!=t||null!=n){if(!("submit"!==i&&"reset"!==i||void 0!==t&&null!==t))return;n=null!=n?""+ct(n):"",t=null!=t?""+ct(t):n,s||t===e.value||(e.value=t),e.defaultValue=t}r="function"!==typeof(r=null!=r?r:a)&&"symbol"!==typeof r&&!!r,e.checked=s?e.checked:!!r,e.defaultChecked=!!r,null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o&&(e.name=o)}function vt(e,t,n){"number"===t&&ft(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function bt(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ct(n),t=null,a=0;a<e.length;a++){if(e[a].value===n)return e[a].selected=!0,void(r&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function xt(e,t,n){null==t||((t=""+ct(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+ct(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function wt(e,t,n,r){if(null==t){if(null!=r){if(null!=n)throw Error(o(92));if(P(r)){if(1<r.length)throw Error(o(93));r=r[0]}n=r}null==n&&(n=""),t=n}n=ct(t),e.defaultValue=n,(r=e.textContent)===n&&""!==r&&null!==r&&(e.value=r)}function kt(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var St=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Et(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"===typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!==typeof n||0===n||St.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Nt(e,t,n){if(null!=t&&"object"!==typeof t)throw Error(o(62));if(e=e.style,null!=n){for(var r in n)!n.hasOwnProperty(r)||null!=t&&t.hasOwnProperty(r)||(0===r.indexOf("--")?e.setProperty(r,""):"float"===r?e.cssFloat="":e[r]="");for(var a in t)r=t[a],t.hasOwnProperty(a)&&n[a]!==r&&Et(e,a,r)}else for(var i in t)t.hasOwnProperty(i)&&Et(e,i,t[i])}function jt(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _t=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Tt=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function At(e){return Tt.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Ct=null;function Ot(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var It=null,Pt=null;function Dt(e){var t=Be(e);if(t&&(e=t.stateNode)){var n=e[Pe]||null;e:switch(e=t.stateNode,t.type){case"input":if(gt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+mt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=r[Pe]||null;if(!a)throw Error(o(90));gt(r,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name)}}for(t=0;t<n.length;t++)(r=n[t]).form===e.form&&ht(r)}break e;case"textarea":xt(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&bt(e,!!n.multiple,t,!1)}}}var Mt=!1;function Rt(e,t,n){if(Mt)return e(t,n);Mt=!0;try{return e(t)}finally{if(Mt=!1,(null!==It||null!==Pt)&&(Vc(),It&&(t=It,e=Pt,Pt=It=null,Dt(t),e)))for(t=0;t<e.length;t++)Dt(e[t])}}function Lt(e,t){var n=e.stateNode;if(null===n)return null;var r=n[Pe]||null;if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Ft=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),zt=!1;if(Ft)try{var Ut={};Object.defineProperty(Ut,"passive",{get:function(){zt=!0}}),window.addEventListener("test",Ut,Ut),window.removeEventListener("test",Ut,Ut)}catch(Ph){zt=!1}var Vt=null,Bt=null,$t=null;function Ht(){if($t)return $t;var e,t,n=Bt,r=n.length,a="value"in Vt?Vt.value:Vt.textContent,i=a.length;for(e=0;e<r&&n[e]===a[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===a[i-t];t++);return $t=a.slice(e,1<t?1-t:void 0)}function Kt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function qt(){return!0}function Wt(){return!1}function Gt(e){function t(t,n,r,a,i){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=a,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(a):a[o]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?qt:Wt,this.isPropagationStopped=Wt,this}return h(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=qt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=qt)},persist:function(){},isPersistent:qt}),t}var Yt,Qt,Xt,Jt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zt=Gt(Jt),en=h({},Jt,{view:0,detail:0}),tn=Gt(en),nn=h({},en,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Xt&&(Xt&&"mousemove"===e.type?(Yt=e.screenX-Xt.screenX,Qt=e.screenY-Xt.screenY):Qt=Yt=0,Xt=e),Yt)},movementY:function(e){return"movementY"in e?e.movementY:Qt}}),rn=Gt(nn),an=Gt(h({},nn,{dataTransfer:0})),on=Gt(h({},en,{relatedTarget:0})),sn=Gt(h({},Jt,{animationName:0,elapsedTime:0,pseudoElement:0})),ln=Gt(h({},Jt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),cn=Gt(h({},Jt,{data:0})),un={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=hn[e])&&!!t[e]}function pn(){return fn}var mn=Gt(h({},en,{key:function(e){if(e.key){var t=un[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Kt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?dn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pn,charCode:function(e){return"keypress"===e.type?Kt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Kt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),gn=Gt(h({},nn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),yn=Gt(h({},en,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pn})),vn=Gt(h({},Jt,{propertyName:0,elapsedTime:0,pseudoElement:0})),bn=Gt(h({},nn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),xn=Gt(h({},Jt,{newState:0,oldState:0})),wn=[9,13,27,32],kn=Ft&&"CompositionEvent"in window,Sn=null;Ft&&"documentMode"in document&&(Sn=document.documentMode);var En=Ft&&"TextEvent"in window&&!Sn,Nn=Ft&&(!kn||Sn&&8<Sn&&11>=Sn),jn=String.fromCharCode(32),_n=!1;function Tn(e,t){switch(e){case"keyup":return-1!==wn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function An(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Cn=!1;var On={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function In(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!On[e.type]:"textarea"===t}function Pn(e,t,n,r){It?Pt?Pt.push(r):Pt=[r]:It=r,0<(t=Hu(t,"onChange")).length&&(n=new Zt("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Dn=null,Mn=null;function Rn(e){Ru(e,0)}function Ln(e){if(ht($e(e)))return e}function Fn(e,t){if("change"===e)return t}var zn=!1;if(Ft){var Un;if(Ft){var Vn="oninput"in document;if(!Vn){var Bn=document.createElement("div");Bn.setAttribute("oninput","return;"),Vn="function"===typeof Bn.oninput}Un=Vn}else Un=!1;zn=Un&&(!document.documentMode||9<document.documentMode)}function $n(){Dn&&(Dn.detachEvent("onpropertychange",Hn),Mn=Dn=null)}function Hn(e){if("value"===e.propertyName&&Ln(Mn)){var t=[];Pn(t,Mn,e,Ot(e)),Rt(Rn,t)}}function Kn(e,t,n){"focusin"===e?($n(),Mn=n,(Dn=t).attachEvent("onpropertychange",Hn)):"focusout"===e&&$n()}function qn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Ln(Mn)}function Wn(e,t){if("click"===e)return Ln(t)}function Gn(e,t){if("input"===e||"change"===e)return Ln(t)}var Yn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function Qn(e,t){if(Yn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!Q.call(t,a)||!Yn(e[a],t[a]))return!1}return!0}function Xn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Jn(e,t){var n,r=Xn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Xn(r)}}function Zn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Zn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function er(e){for(var t=ft((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=ft((e=t.contentWindow).document)}return t}function tr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var nr=Ft&&"documentMode"in document&&11>=document.documentMode,rr=null,ar=null,ir=null,or=!1;function sr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;or||null==rr||rr!==ft(r)||("selectionStart"in(r=rr)&&tr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},ir&&Qn(ir,r)||(ir=r,0<(r=Hu(ar,"onSelect")).length&&(t=new Zt("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=rr)))}function lr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var cr={animationend:lr("Animation","AnimationEnd"),animationiteration:lr("Animation","AnimationIteration"),animationstart:lr("Animation","AnimationStart"),transitionrun:lr("Transition","TransitionRun"),transitionstart:lr("Transition","TransitionStart"),transitioncancel:lr("Transition","TransitionCancel"),transitionend:lr("Transition","TransitionEnd")},ur={},dr={};function hr(e){if(ur[e])return ur[e];if(!cr[e])return e;var t,n=cr[e];for(t in n)if(n.hasOwnProperty(t)&&t in dr)return ur[e]=n[t];return e}Ft&&(dr=document.createElement("div").style,"AnimationEvent"in window||(delete cr.animationend.animation,delete cr.animationiteration.animation,delete cr.animationstart.animation),"TransitionEvent"in window||delete cr.transitionend.transition);var fr=hr("animationend"),pr=hr("animationiteration"),mr=hr("animationstart"),gr=hr("transitionrun"),yr=hr("transitionstart"),vr=hr("transitioncancel"),br=hr("transitionend"),xr=new Map,wr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function kr(e,t){xr.set(e,t),Ge(t,[e])}wr.push("scrollEnd");var Sr=new WeakMap;function Er(e,t){if("object"===typeof e&&null!==e){var n=Sr.get(e);return void 0!==n?n:(t={value:e,source:t,stack:lt(t)},Sr.set(e,t),t)}return{value:e,source:t,stack:lt(t)}}var Nr=[],jr=0,_r=0;function Tr(){for(var e=jr,t=_r=jr=0;t<e;){var n=Nr[t];Nr[t++]=null;var r=Nr[t];Nr[t++]=null;var a=Nr[t];Nr[t++]=null;var i=Nr[t];if(Nr[t++]=null,null!==r&&null!==a){var o=r.pending;null===o?a.next=a:(a.next=o.next,o.next=a),r.pending=a}0!==i&&Ir(n,a,i)}}function Ar(e,t,n,r){Nr[jr++]=e,Nr[jr++]=t,Nr[jr++]=n,Nr[jr++]=r,_r|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function Cr(e,t,n,r){return Ar(e,t,n,r),Pr(e)}function Or(e,t){return Ar(e,null,null,t),Pr(e)}function Ir(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var a=!1,i=e.return;null!==i;)i.childLanes|=n,null!==(r=i.alternate)&&(r.childLanes|=n),22===i.tag&&(null===(e=i.stateNode)||1&e._visibility||(a=!0)),e=i,i=i.return;return 3===e.tag?(i=e.stateNode,a&&null!==t&&(a=31-fe(n),null===(r=(e=i.hiddenUpdates)[a])?e[a]=[t]:r.push(t),t.lane=536870912|n),i):null}function Pr(e){if(50<Ic)throw Ic=0,Pc=null,Error(o(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Dr={};function Mr(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rr(e,t,n,r){return new Mr(e,t,n,r)}function Lr(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Fr(e,t){var n=e.alternate;return null===n?((n=Rr(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function zr(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Ur(e,t,n,r,a,i){var s=0;if(r=e,"function"===typeof e)Lr(e)&&(s=1);else if("string"===typeof e)s=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,n,B.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case _:return(e=Rr(31,n,t,a)).elementType=_,e.lanes=i,e;case g:return Vr(n.children,a,i,t);case y:s=8,a|=24;break;case v:return(e=Rr(12,n,t,2|a)).elementType=v,e.lanes=i,e;case S:return(e=Rr(13,n,t,a)).elementType=S,e.lanes=i,e;case E:return(e=Rr(19,n,t,a)).elementType=E,e.lanes=i,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case b:case w:s=10;break e;case x:s=9;break e;case k:s=11;break e;case N:s=14;break e;case j:s=16,r=null;break e}s=29,n=Error(o(130,null===e?"null":typeof e,"")),r=null}return(t=Rr(s,n,t,a)).elementType=e,t.type=r,t.lanes=i,t}function Vr(e,t,n,r){return(e=Rr(7,e,r,t)).lanes=n,e}function Br(e,t,n){return(e=Rr(6,e,null,t)).lanes=n,e}function $r(e,t,n){return(t=Rr(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Hr=[],Kr=0,qr=null,Wr=0,Gr=[],Yr=0,Qr=null,Xr=1,Jr="";function Zr(e,t){Hr[Kr++]=Wr,Hr[Kr++]=qr,qr=e,Wr=t}function ea(e,t,n){Gr[Yr++]=Xr,Gr[Yr++]=Jr,Gr[Yr++]=Qr,Qr=e;var r=Xr;e=Jr;var a=32-fe(r)-1;r&=~(1<<a),n+=1;var i=32-fe(t)+a;if(30<i){var o=a-a%5;i=(r&(1<<o)-1).toString(32),r>>=o,a-=o,Xr=1<<32-fe(t)+a|n<<a|r,Jr=i+e}else Xr=1<<i|n<<a|r,Jr=e}function ta(e){null!==e.return&&(Zr(e,1),ea(e,1,0))}function na(e){for(;e===qr;)qr=Hr[--Kr],Hr[Kr]=null,Wr=Hr[--Kr],Hr[Kr]=null;for(;e===Qr;)Qr=Gr[--Yr],Gr[Yr]=null,Jr=Gr[--Yr],Gr[Yr]=null,Xr=Gr[--Yr],Gr[Yr]=null}var ra=null,aa=null,ia=!1,oa=null,sa=!1,la=Error(o(519));function ca(e){throw ma(Er(Error(o(418,"")),e)),la}function ua(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[Ie]=e,t[Pe]=r,n){case"dialog":Lu("cancel",t),Lu("close",t);break;case"iframe":case"object":case"embed":Lu("load",t);break;case"video":case"audio":for(n=0;n<Du.length;n++)Lu(Du[n],t);break;case"source":Lu("error",t);break;case"img":case"image":case"link":Lu("error",t),Lu("load",t);break;case"details":Lu("toggle",t);break;case"input":Lu("invalid",t),yt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),dt(t);break;case"select":Lu("invalid",t);break;case"textarea":Lu("invalid",t),wt(t,r.value,r.defaultValue,r.children),dt(t)}"string"!==typeof(n=r.children)&&"number"!==typeof n&&"bigint"!==typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||Qu(t.textContent,n)?(null!=r.popover&&(Lu("beforetoggle",t),Lu("toggle",t)),null!=r.onScroll&&Lu("scroll",t),null!=r.onScrollEnd&&Lu("scrollend",t),null!=r.onClick&&(t.onclick=Xu),t=!0):t=!1,t||ca(e)}function da(e){for(ra=e.return;ra;)switch(ra.tag){case 5:case 13:return void(sa=!1);case 27:case 3:return void(sa=!0);default:ra=ra.return}}function ha(e){if(e!==ra)return!1;if(!ia)return da(e),ia=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||od(e.type,e.memoizedProps)),t=!t),t&&aa&&ca(e),da(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,n=0;e;){if(8===e.nodeType)if("/$"===(t=e.data)){if(0===n){aa=yd(e.nextSibling);break e}n--}else"$"!==t&&"$!"!==t&&"$?"!==t||n++;e=e.nextSibling}aa=null}}else 27===n?(n=aa,fd(e.type)?(e=vd,vd=null,aa=e):aa=n):aa=ra?yd(e.stateNode.nextSibling):null;return!0}function fa(){aa=ra=null,ia=!1}function pa(){var e=oa;return null!==e&&(null===bc?bc=e:bc.push.apply(bc,e),oa=null),e}function ma(e){null===oa?oa=[e]:oa.push(e)}var ga=z(null),ya=null,va=null;function ba(e,t,n){V(ga,t._currentValue),t._currentValue=n}function xa(e){e._currentValue=ga.current,U(ga)}function wa(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ka(e,t,n,r){var a=e.child;for(null!==a&&(a.return=e);null!==a;){var i=a.dependencies;if(null!==i){var s=a.child;i=i.firstContext;e:for(;null!==i;){var l=i;i=a;for(var c=0;c<t.length;c++)if(l.context===t[c]){i.lanes|=n,null!==(l=i.alternate)&&(l.lanes|=n),wa(i.return,n,e),r||(s=null);break e}i=l.next}}else if(18===a.tag){if(null===(s=a.return))throw Error(o(341));s.lanes|=n,null!==(i=s.alternate)&&(i.lanes|=n),wa(s,n,e),s=null}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===e){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}}function Sa(e,t,n,r){e=null;for(var a=t,i=!1;null!==a;){if(!i)if(0!==(524288&a.flags))i=!0;else if(0!==(262144&a.flags))break;if(10===a.tag){var s=a.alternate;if(null===s)throw Error(o(387));if(null!==(s=s.memoizedProps)){var l=a.type;Yn(a.pendingProps.value,s.value)||(null!==e?e.push(l):e=[l])}}else if(a===K.current){if(null===(s=a.alternate))throw Error(o(387));s.memoizedState.memoizedState!==a.memoizedState.memoizedState&&(null!==e?e.push(Gd):e=[Gd])}a=a.return}null!==e&&ka(t,e,n,r),t.flags|=262144}function Ea(e){for(e=e.firstContext;null!==e;){if(!Yn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Na(e){ya=e,va=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function ja(e){return Ta(ya,e)}function _a(e,t){return null===ya&&Na(e),Ta(e,t)}function Ta(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===va){if(null===e)throw Error(o(308));va=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else va=va.next=t;return n}var Aa="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},Ca=r.unstable_scheduleCallback,Oa=r.unstable_NormalPriority,Ia={$$typeof:w,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Pa(){return{controller:new Aa,data:new Map,refCount:0}}function Da(e){e.refCount--,0===e.refCount&&Ca(Oa,function(){e.controller.abort()})}var Ma=null,Ra=0,La=0,Fa=null;function za(){if(0===--Ra&&null!==Ma){null!==Fa&&(Fa.status="fulfilled");var e=Ma;Ma=null,La=0,Fa=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Ua=D.S;D.S=function(e,t){"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===Ma){var n=Ma=[];Ra=0,La=Au(),Fa={status:"pending",value:void 0,then:function(e){n.push(e)}}}Ra++,t.then(za,za)}(0,t),null!==Ua&&Ua(e,t)};var Va=z(null);function Ba(){var e=Va.current;return null!==e?e:rc.pooledCache}function $a(e,t){V(Va,null===t?Va.current:t.pool)}function Ha(){var e=Ba();return null===e?null:{parent:Ia._currentValue,pool:e}}var Ka=Error(o(460)),qa=Error(o(474)),Wa=Error(o(542)),Ga={then:function(){}};function Ya(e){return"fulfilled"===(e=e.status)||"rejected"===e}function Qa(){}function Xa(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(Qa,Qa),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw ei(e=t.reason),e;default:if("string"===typeof t.status)t.then(Qa,Qa);else{if(null!==(e=rc)&&100<e.shellSuspendCounter)throw Error(o(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw ei(e=t.reason),e}throw Ja=t,Ka}}var Ja=null;function Za(){if(null===Ja)throw Error(o(459));var e=Ja;return Ja=null,e}function ei(e){if(e===Ka||e===Wa)throw Error(o(483))}var ti=!1;function ni(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ri(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ai(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ii(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&nc)){var a=r.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),r.pending=t,t=Pr(e),Ir(e,null,n),t}return Ar(e,r,t,n),Pr(e)}function oi(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194048&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,_e(e,n)}}function si(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var a=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var o={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===i?a=i=o:i=i.next=o,n=n.next}while(null!==n);null===i?a=i=t:i=i.next=t}else a=i=t;return n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var li=!1;function ci(){if(li){if(null!==Fa)throw Fa}}function ui(e,t,n,r){li=!1;var a=e.updateQueue;ti=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,s=a.shared.pending;if(null!==s){a.shared.pending=null;var l=s,c=l.next;l.next=null,null===o?i=c:o.next=c,o=l;var u=e.alternate;null!==u&&((s=(u=u.updateQueue).lastBaseUpdate)!==o&&(null===s?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l))}if(null!==i){var d=a.baseState;for(o=0,u=c=l=null,s=i;;){var f=-536870913&s.lane,p=f!==s.lane;if(p?(ic&f)===f:(r&f)===f){0!==f&&f===La&&(li=!0),null!==u&&(u=u.next={lane:0,tag:s.tag,payload:s.payload,callback:null,next:null});e:{var m=e,g=s;f=t;var y=n;switch(g.tag){case 1:if("function"===typeof(m=g.payload)){d=m.call(y,d,f);break e}d=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null===(f="function"===typeof(m=g.payload)?m.call(y,d,f):m)||void 0===f)break e;d=h({},d,f);break e;case 2:ti=!0}}null!==(f=s.callback)&&(e.flags|=64,p&&(e.flags|=8192),null===(p=a.callbacks)?a.callbacks=[f]:p.push(f))}else p={lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===u?(c=u=p,l=d):u=u.next=p,o|=f;if(null===(s=s.next)){if(null===(s=a.shared.pending))break;s=(p=s).next,p.next=null,a.lastBaseUpdate=p,a.shared.pending=null}}null===u&&(l=d),a.baseState=l,a.firstBaseUpdate=c,a.lastBaseUpdate=u,null===i&&(a.shared.lanes=0),fc|=o,e.lanes=o,e.memoizedState=d}}function di(e,t){if("function"!==typeof e)throw Error(o(191,e));e.call(t)}function hi(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)di(n[e],t)}var fi=z(null),pi=z(0);function mi(e,t){V(pi,e=dc),V(fi,t),dc=e|t.baseLanes}function gi(){V(pi,dc),V(fi,fi.current)}function yi(){dc=pi.current,U(fi),U(pi)}var vi=0,bi=null,xi=null,wi=null,ki=!1,Si=!1,Ei=!1,Ni=0,ji=0,_i=null,Ti=0;function Ai(){throw Error(o(321))}function Ci(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Yn(e[n],t[n]))return!1;return!0}function Oi(e,t,n,r,a,i){return vi=i,bi=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,D.H=null===e||null===e.memoizedState?qo:Wo,Ei=!1,i=n(r,a),Ei=!1,Si&&(i=Pi(t,n,r,a)),Ii(e),i}function Ii(e){D.H=Ko;var t=null!==xi&&null!==xi.next;if(vi=0,wi=xi=bi=null,ki=!1,ji=0,_i=null,t)throw Error(o(300));null===e||_s||null!==(e=e.dependencies)&&Ea(e)&&(_s=!0)}function Pi(e,t,n,r){bi=e;var a=0;do{if(Si&&(_i=null),ji=0,Si=!1,25<=a)throw Error(o(301));if(a+=1,wi=xi=null,null!=e.updateQueue){var i=e.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,null!=i.memoCache&&(i.memoCache.index=0)}D.H=Go,i=t(n,r)}while(Si);return i}function Di(){var e=D.H,t=e.useState()[0];return t="function"===typeof t.then?Ui(t):t,e=e.useState()[0],(null!==xi?xi.memoizedState:null)!==e&&(bi.flags|=1024),t}function Mi(){var e=0!==Ni;return Ni=0,e}function Ri(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Li(e){if(ki){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}ki=!1}vi=0,wi=xi=bi=null,Si=!1,ji=Ni=0,_i=null}function Fi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===wi?bi.memoizedState=wi=e:wi=wi.next=e,wi}function zi(){if(null===xi){var e=bi.alternate;e=null!==e?e.memoizedState:null}else e=xi.next;var t=null===wi?bi.memoizedState:wi.next;if(null!==t)wi=t,xi=e;else{if(null===e){if(null===bi.alternate)throw Error(o(467));throw Error(o(310))}e={memoizedState:(xi=e).memoizedState,baseState:xi.baseState,baseQueue:xi.baseQueue,queue:xi.queue,next:null},null===wi?bi.memoizedState=wi=e:wi=wi.next=e}return wi}function Ui(e){var t=ji;return ji+=1,null===_i&&(_i=[]),e=Xa(_i,e,t),t=bi,null===(null===wi?t.memoizedState:wi.next)&&(t=t.alternate,D.H=null===t||null===t.memoizedState?qo:Wo),e}function Vi(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return Ui(e);if(e.$$typeof===w)return ja(e)}throw Error(o(438,String(e)))}function Bi(e){var t=null,n=bi.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=bi.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(t={data:r.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},bi.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=T;return t.index++,n}function $i(e,t){return"function"===typeof t?t(e):t}function Hi(e){return Ki(zi(),xi,e)}function Ki(e,t,n){var r=e.queue;if(null===r)throw Error(o(311));r.lastRenderedReducer=n;var a=e.baseQueue,i=r.pending;if(null!==i){if(null!==a){var s=a.next;a.next=i.next,i.next=s}t.baseQueue=a=i,r.pending=null}if(i=e.baseState,null===a)e.memoizedState=i;else{var l=s=null,c=null,u=t=a.next,d=!1;do{var h=-536870913&u.lane;if(h!==u.lane?(ic&h)===h:(vi&h)===h){var f=u.revertLane;if(0===f)null!==c&&(c=c.next={lane:0,revertLane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),h===La&&(d=!0);else{if((vi&f)===f){u=u.next,f===La&&(d=!0);continue}h={lane:0,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=h,s=i):c=c.next=h,bi.lanes|=f,fc|=f}h=u.action,Ei&&n(i,h),i=u.hasEagerState?u.eagerState:n(i,h)}else f={lane:h,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=f,s=i):c=c.next=f,bi.lanes|=h,fc|=h;u=u.next}while(null!==u&&u!==t);if(null===c?s=i:c.next=l,!Yn(i,e.memoizedState)&&(_s=!0,d&&null!==(n=Fa)))throw n;e.memoizedState=i,e.baseState=s,e.baseQueue=c,r.lastRenderedState=i}return null===a&&(r.lanes=0),[e.memoizedState,r.dispatch]}function qi(e){var t=zi(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,i=t.memoizedState;if(null!==a){n.pending=null;var s=a=a.next;do{i=e(i,s.action),s=s.next}while(s!==a);Yn(i,t.memoizedState)||(_s=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Wi(e,t,n){var r=bi,a=zi(),i=ia;if(i){if(void 0===n)throw Error(o(407));n=n()}else n=t();var s=!Yn((xi||a).memoizedState,n);if(s&&(a.memoizedState=n,_s=!0),a=a.queue,yo(2048,8,Qi.bind(null,r,a,e),[e]),a.getSnapshot!==t||s||null!==wi&&1&wi.memoizedState.tag){if(r.flags|=2048,po(9,{destroy:void 0,resource:void 0},Yi.bind(null,r,a,n,t),null),null===rc)throw Error(o(349));i||0!==(124&vi)||Gi(r,t,n)}return n}function Gi(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=bi.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},bi.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Yi(e,t,n,r){t.value=n,t.getSnapshot=r,Xi(t)&&Ji(e)}function Qi(e,t,n){return n(function(){Xi(t)&&Ji(e)})}function Xi(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Yn(e,n)}catch(r){return!0}}function Ji(e){var t=Or(e,2);null!==t&&Rc(t,e,2)}function Zi(e){var t=Fi();if("function"===typeof e){var n=e;if(e=n(),Ei){he(!0);try{n()}finally{he(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$i,lastRenderedState:e},t}function eo(e,t,n,r){return e.baseState=n,Ki(e,xi,"function"===typeof r?r:$i)}function to(e,t,n,r,a){if(Bo(e))throw Error(o(485));if(null!==(e=t.action)){var i={payload:a,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){i.listeners.push(e)}};null!==D.T?n(!0):i.isTransition=!1,r(i),null===(n=t.pending)?(i.next=t.pending=i,no(t,i)):(i.next=n.next,t.pending=n.next=i)}}function no(e,t){var n=t.action,r=t.payload,a=e.state;if(t.isTransition){var i=D.T,o={};D.T=o;try{var s=n(a,r),l=D.S;null!==l&&l(o,s),ro(e,t,s)}catch(c){io(e,t,c)}finally{D.T=i}}else try{ro(e,t,i=n(a,r))}catch(u){io(e,t,u)}}function ro(e,t,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then(function(n){ao(e,t,n)},function(n){return io(e,t,n)}):ao(e,t,n)}function ao(e,t,n){t.status="fulfilled",t.value=n,oo(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,no(e,n)))}function io(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,oo(t),t=t.next}while(t!==r)}e.action=null}function oo(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function so(e,t){return t}function lo(e,t){if(ia){var n=rc.formState;if(null!==n){e:{var r=bi;if(ia){if(aa){t:{for(var a=aa,i=sa;8!==a.nodeType;){if(!i){a=null;break t}if(null===(a=yd(a.nextSibling))){a=null;break t}}a="F!"===(i=a.data)||"F"===i?a:null}if(a){aa=yd(a.nextSibling),r="F!"===a.data;break e}}ca(r)}r=!1}r&&(t=n[0])}}return(n=Fi()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:so,lastRenderedState:t},n.queue=r,n=zo.bind(null,bi,r),r.dispatch=n,r=Zi(!1),i=Vo.bind(null,bi,!1,r.queue),a={state:t,dispatch:null,action:e,pending:null},(r=Fi()).queue=a,n=to.bind(null,bi,a,i,n),a.dispatch=n,r.memoizedState=e,[t,n,!1]}function co(e){return uo(zi(),xi,e)}function uo(e,t,n){if(t=Ki(e,t,so)[0],e=Hi($i)[0],"object"===typeof t&&null!==t&&"function"===typeof t.then)try{var r=Ui(t)}catch(o){if(o===Ka)throw Wa;throw o}else r=t;var a=(t=zi()).queue,i=a.dispatch;return n!==t.memoizedState&&(bi.flags|=2048,po(9,{destroy:void 0,resource:void 0},ho.bind(null,a,n),null)),[r,i,e]}function ho(e,t){e.action=t}function fo(e){var t=zi(),n=xi;if(null!==n)return uo(t,n,e);zi(),t=t.memoizedState;var r=(n=zi()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function po(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},null===(t=bi.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},bi.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function mo(){return zi().memoizedState}function go(e,t,n,r){var a=Fi();r=void 0===r?null:r,bi.flags|=e,a.memoizedState=po(1|t,{destroy:void 0,resource:void 0},n,r)}function yo(e,t,n,r){var a=zi();r=void 0===r?null:r;var i=a.memoizedState.inst;null!==xi&&null!==r&&Ci(r,xi.memoizedState.deps)?a.memoizedState=po(t,i,n,r):(bi.flags|=e,a.memoizedState=po(1|t,i,n,r))}function vo(e,t){go(8390656,8,e,t)}function bo(e,t){yo(2048,8,e,t)}function xo(e,t){return yo(4,2,e,t)}function wo(e,t){return yo(4,4,e,t)}function ko(e,t){if("function"===typeof t){e=e();var n=t(e);return function(){"function"===typeof n?n():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function So(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,yo(4,4,ko.bind(null,t,e),n)}function Eo(){}function No(e,t){var n=zi();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&Ci(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function jo(e,t){var n=zi();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&Ci(t,r[1]))return r[0];if(r=e(),Ei){he(!0);try{e()}finally{he(!1)}}return n.memoizedState=[r,t],r}function _o(e,t,n){return void 0===n||0!==(1073741824&vi)?e.memoizedState=t:(e.memoizedState=n,e=Mc(),bi.lanes|=e,fc|=e,n)}function To(e,t,n,r){return Yn(n,t)?n:null!==fi.current?(e=_o(e,n,r),Yn(e,t)||(_s=!0),e):0===(42&vi)?(_s=!0,e.memoizedState=n):(e=Mc(),bi.lanes|=e,fc|=e,t)}function Ao(e,t,n,r,a){var i=M.p;M.p=0!==i&&8>i?i:8;var o=D.T,s={};D.T=s,Vo(e,!1,t,n);try{var l=a(),c=D.S;if(null!==c&&c(s,l),null!==l&&"object"===typeof l&&"function"===typeof l.then)Uo(e,t,function(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)},function(e){for(r.status="rejected",r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)}),r}(l,r),Dc());else Uo(e,t,r,Dc())}catch(u){Uo(e,t,{then:function(){},status:"rejected",reason:u},Dc())}finally{M.p=i,D.T=o}}function Co(){}function Oo(e,t,n,r){if(5!==e.tag)throw Error(o(476));var a=Io(e).queue;Ao(e,a,t,R,null===n?Co:function(){return Po(e),n(r)})}function Io(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:R,baseState:R,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$i,lastRenderedState:R},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$i,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function Po(e){Uo(e,Io(e).next.queue,{},Dc())}function Do(){return ja(Gd)}function Mo(){return zi().memoizedState}function Ro(){return zi().memoizedState}function Lo(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Dc(),r=ii(t,e=ai(n),n);return null!==r&&(Rc(r,t,n),oi(r,t,n)),t={cache:Pa()},void(e.payload=t)}t=t.return}}function Fo(e,t,n){var r=Dc();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},Bo(e)?$o(t,n):null!==(n=Cr(e,t,n,r))&&(Rc(n,e,r),Ho(n,t,r))}function zo(e,t,n){Uo(e,t,n,Dc())}function Uo(e,t,n,r){var a={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(Bo(e))$o(t,a);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=i(o,n);if(a.hasEagerState=!0,a.eagerState=s,Yn(s,o))return Ar(e,t,a,0),null===rc&&Tr(),!1}catch(l){}if(null!==(n=Cr(e,t,a,r)))return Rc(n,e,r),Ho(n,t,r),!0}return!1}function Vo(e,t,n,r){if(r={lane:2,revertLane:Au(),action:r,hasEagerState:!1,eagerState:null,next:null},Bo(e)){if(t)throw Error(o(479))}else null!==(t=Cr(e,n,r,2))&&Rc(t,e,2)}function Bo(e){var t=e.alternate;return e===bi||null!==t&&t===bi}function $o(e,t){Si=ki=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ho(e,t,n){if(0!==(4194048&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,_e(e,n)}}var Ko={readContext:ja,use:Vi,useCallback:Ai,useContext:Ai,useEffect:Ai,useImperativeHandle:Ai,useLayoutEffect:Ai,useInsertionEffect:Ai,useMemo:Ai,useReducer:Ai,useRef:Ai,useState:Ai,useDebugValue:Ai,useDeferredValue:Ai,useTransition:Ai,useSyncExternalStore:Ai,useId:Ai,useHostTransitionStatus:Ai,useFormState:Ai,useActionState:Ai,useOptimistic:Ai,useMemoCache:Ai,useCacheRefresh:Ai},qo={readContext:ja,use:Vi,useCallback:function(e,t){return Fi().memoizedState=[e,void 0===t?null:t],e},useContext:ja,useEffect:vo,useImperativeHandle:function(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,go(4194308,4,ko.bind(null,t,e),n)},useLayoutEffect:function(e,t){return go(4194308,4,e,t)},useInsertionEffect:function(e,t){go(4,2,e,t)},useMemo:function(e,t){var n=Fi();t=void 0===t?null:t;var r=e();if(Ei){he(!0);try{e()}finally{he(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=Fi();if(void 0!==n){var a=n(t);if(Ei){he(!0);try{n(t)}finally{he(!1)}}}else a=t;return r.memoizedState=r.baseState=a,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:a},r.queue=e,e=e.dispatch=Fo.bind(null,bi,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Fi().memoizedState=e},useState:function(e){var t=(e=Zi(e)).queue,n=zo.bind(null,bi,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Eo,useDeferredValue:function(e,t){return _o(Fi(),e,t)},useTransition:function(){var e=Zi(!1);return e=Ao.bind(null,bi,e.queue,!0,!1),Fi().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=bi,a=Fi();if(ia){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===rc)throw Error(o(349));0!==(124&ic)||Gi(r,t,n)}a.memoizedState=n;var i={value:n,getSnapshot:t};return a.queue=i,vo(Qi.bind(null,r,i,e),[e]),r.flags|=2048,po(9,{destroy:void 0,resource:void 0},Yi.bind(null,r,i,n,t),null),n},useId:function(){var e=Fi(),t=rc.identifierPrefix;if(ia){var n=Jr;t="\xab"+t+"R"+(n=(Xr&~(1<<32-fe(Xr)-1)).toString(32)+n),0<(n=Ni++)&&(t+="H"+n.toString(32)),t+="\xbb"}else t="\xab"+t+"r"+(n=Ti++).toString(32)+"\xbb";return e.memoizedState=t},useHostTransitionStatus:Do,useFormState:lo,useActionState:lo,useOptimistic:function(e){var t=Fi();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Vo.bind(null,bi,!0,n),n.dispatch=t,[e,t]},useMemoCache:Bi,useCacheRefresh:function(){return Fi().memoizedState=Lo.bind(null,bi)}},Wo={readContext:ja,use:Vi,useCallback:No,useContext:ja,useEffect:bo,useImperativeHandle:So,useInsertionEffect:xo,useLayoutEffect:wo,useMemo:jo,useReducer:Hi,useRef:mo,useState:function(){return Hi($i)},useDebugValue:Eo,useDeferredValue:function(e,t){return To(zi(),xi.memoizedState,e,t)},useTransition:function(){var e=Hi($i)[0],t=zi().memoizedState;return["boolean"===typeof e?e:Ui(e),t]},useSyncExternalStore:Wi,useId:Mo,useHostTransitionStatus:Do,useFormState:co,useActionState:co,useOptimistic:function(e,t){return eo(zi(),0,e,t)},useMemoCache:Bi,useCacheRefresh:Ro},Go={readContext:ja,use:Vi,useCallback:No,useContext:ja,useEffect:bo,useImperativeHandle:So,useInsertionEffect:xo,useLayoutEffect:wo,useMemo:jo,useReducer:qi,useRef:mo,useState:function(){return qi($i)},useDebugValue:Eo,useDeferredValue:function(e,t){var n=zi();return null===xi?_o(n,e,t):To(n,xi.memoizedState,e,t)},useTransition:function(){var e=qi($i)[0],t=zi().memoizedState;return["boolean"===typeof e?e:Ui(e),t]},useSyncExternalStore:Wi,useId:Mo,useHostTransitionStatus:Do,useFormState:fo,useActionState:fo,useOptimistic:function(e,t){var n=zi();return null!==xi?eo(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Bi,useCacheRefresh:Ro},Yo=null,Qo=0;function Xo(e){var t=Qo;return Qo+=1,null===Yo&&(Yo=[]),Xa(Yo,e,t)}function Jo(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function Zo(e,t){if(t.$$typeof===f)throw Error(o(525));throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function es(e){return(0,e._init)(e._payload)}function ts(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function a(e,t){return(e=Fr(e,t)).index=0,e.sibling=null,e}function i(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=67108866,n):r:(t.flags|=67108866,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Br(n,e.mode,r)).return=e,t):((t=a(t,n)).return=e,t)}function c(e,t,n,r){var i=n.type;return i===g?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===i||"object"===typeof i&&null!==i&&i.$$typeof===j&&es(i)===t.type)?(Jo(t=a(t,n.props),n),t.return=e,t):(Jo(t=Ur(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=$r(n,e.mode,r)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function d(e,t,n,r,i){return null===t||7!==t.tag?((t=Vr(n,e.mode,r,i)).return=e,t):((t=a(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=Br(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case p:return Jo(n=Ur(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case m:return(t=$r(t,e.mode,n)).return=e,t;case j:return h(e,t=(0,t._init)(t._payload),n)}if(P(t)||C(t))return(t=Vr(t,e.mode,n,null)).return=e,t;if("function"===typeof t.then)return h(e,Xo(t),n);if(t.$$typeof===w)return h(e,_a(e,t),n);Zo(e,t)}return null}function f(e,t,n,r){var a=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==a?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case p:return n.key===a?c(e,t,n,r):null;case m:return n.key===a?u(e,t,n,r):null;case j:return f(e,t,n=(a=n._init)(n._payload),r)}if(P(n)||C(n))return null!==a?null:d(e,t,n,r,null);if("function"===typeof n.then)return f(e,t,Xo(n),r);if(n.$$typeof===w)return f(e,t,_a(e,n),r);Zo(e,n)}return null}function y(e,t,n,r,a){if("string"===typeof r&&""!==r||"number"===typeof r||"bigint"===typeof r)return l(t,e=e.get(n)||null,""+r,a);if("object"===typeof r&&null!==r){switch(r.$$typeof){case p:return c(t,e=e.get(null===r.key?n:r.key)||null,r,a);case m:return u(t,e=e.get(null===r.key?n:r.key)||null,r,a);case j:return y(e,t,n,r=(0,r._init)(r._payload),a)}if(P(r)||C(r))return d(t,e=e.get(n)||null,r,a,null);if("function"===typeof r.then)return y(e,t,n,Xo(r),a);if(r.$$typeof===w)return y(e,t,n,_a(t,r),a);Zo(t,r)}return null}function v(l,c,u,d){if("object"===typeof u&&null!==u&&u.type===g&&null===u.key&&(u=u.props.children),"object"===typeof u&&null!==u){switch(u.$$typeof){case p:e:{for(var b=u.key;null!==c;){if(c.key===b){if((b=u.type)===g){if(7===c.tag){n(l,c.sibling),(d=a(c,u.props.children)).return=l,l=d;break e}}else if(c.elementType===b||"object"===typeof b&&null!==b&&b.$$typeof===j&&es(b)===c.type){n(l,c.sibling),Jo(d=a(c,u.props),u),d.return=l,l=d;break e}n(l,c);break}t(l,c),c=c.sibling}u.type===g?((d=Vr(u.props.children,l.mode,d,u.key)).return=l,l=d):(Jo(d=Ur(u.type,u.key,u.props,null,l.mode,d),u),d.return=l,l=d)}return s(l);case m:e:{for(b=u.key;null!==c;){if(c.key===b){if(4===c.tag&&c.stateNode.containerInfo===u.containerInfo&&c.stateNode.implementation===u.implementation){n(l,c.sibling),(d=a(c,u.children||[])).return=l,l=d;break e}n(l,c);break}t(l,c),c=c.sibling}(d=$r(u,l.mode,d)).return=l,l=d}return s(l);case j:return v(l,c,u=(b=u._init)(u._payload),d)}if(P(u))return function(a,o,s,l){for(var c=null,u=null,d=o,p=o=0,m=null;null!==d&&p<s.length;p++){d.index>p?(m=d,d=null):m=d.sibling;var g=f(a,d,s[p],l);if(null===g){null===d&&(d=m);break}e&&d&&null===g.alternate&&t(a,d),o=i(g,o,p),null===u?c=g:u.sibling=g,u=g,d=m}if(p===s.length)return n(a,d),ia&&Zr(a,p),c;if(null===d){for(;p<s.length;p++)null!==(d=h(a,s[p],l))&&(o=i(d,o,p),null===u?c=d:u.sibling=d,u=d);return ia&&Zr(a,p),c}for(d=r(d);p<s.length;p++)null!==(m=y(d,a,p,s[p],l))&&(e&&null!==m.alternate&&d.delete(null===m.key?p:m.key),o=i(m,o,p),null===u?c=m:u.sibling=m,u=m);return e&&d.forEach(function(e){return t(a,e)}),ia&&Zr(a,p),c}(l,c,u,d);if(C(u)){if("function"!==typeof(b=C(u)))throw Error(o(150));return function(a,s,l,c){if(null==l)throw Error(o(151));for(var u=null,d=null,p=s,m=s=0,g=null,v=l.next();null!==p&&!v.done;m++,v=l.next()){p.index>m?(g=p,p=null):g=p.sibling;var b=f(a,p,v.value,c);if(null===b){null===p&&(p=g);break}e&&p&&null===b.alternate&&t(a,p),s=i(b,s,m),null===d?u=b:d.sibling=b,d=b,p=g}if(v.done)return n(a,p),ia&&Zr(a,m),u;if(null===p){for(;!v.done;m++,v=l.next())null!==(v=h(a,v.value,c))&&(s=i(v,s,m),null===d?u=v:d.sibling=v,d=v);return ia&&Zr(a,m),u}for(p=r(p);!v.done;m++,v=l.next())null!==(v=y(p,a,m,v.value,c))&&(e&&null!==v.alternate&&p.delete(null===v.key?m:v.key),s=i(v,s,m),null===d?u=v:d.sibling=v,d=v);return e&&p.forEach(function(e){return t(a,e)}),ia&&Zr(a,m),u}(l,c,u=b.call(u),d)}if("function"===typeof u.then)return v(l,c,Xo(u),d);if(u.$$typeof===w)return v(l,c,_a(l,u),d);Zo(l,u)}return"string"===typeof u&&""!==u||"number"===typeof u||"bigint"===typeof u?(u=""+u,null!==c&&6===c.tag?(n(l,c.sibling),(d=a(c,u)).return=l,l=d):(n(l,c),(d=Br(u,l.mode,d)).return=l,l=d),s(l)):n(l,c)}return function(e,t,n,r){try{Qo=0;var a=v(e,t,n,r);return Yo=null,a}catch(o){if(o===Ka||o===Wa)throw o;var i=Rr(29,o,null,e.mode);return i.lanes=r,i.return=e,i}}}var ns=ts(!0),rs=ts(!1),as=z(null),is=null;function os(e){var t=e.alternate;V(us,1&us.current),V(as,e),null===is&&(null===t||null!==fi.current||null!==t.memoizedState)&&(is=e)}function ss(e){if(22===e.tag){if(V(us,us.current),V(as,e),null===is){var t=e.alternate;null!==t&&null!==t.memoizedState&&(is=e)}}else ls()}function ls(){V(us,us.current),V(as,as.current)}function cs(e){U(as),is===e&&(is=null),U(us)}var us=z(0);function ds(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||gd(n)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function hs(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:h({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var fs={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Dc(),a=ai(r);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=ii(e,a,r))&&(Rc(t,e,r),oi(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Dc(),a=ai(r);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=ii(e,a,r))&&(Rc(t,e,r),oi(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Dc(),r=ai(n);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=ii(e,r,n))&&(Rc(t,e,n),oi(t,e,n))}};function ps(e,t,n,r,a,i,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,o):!t.prototype||!t.prototype.isPureReactComponent||(!Qn(n,r)||!Qn(a,i))}function ms(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&fs.enqueueReplaceState(t,t.state,null)}function gs(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var a in n===t&&(n=h({},n)),e)void 0===n[a]&&(n[a]=e[a]);return n}var ys="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function vs(e){ys(e)}function bs(e){console.error(e)}function xs(e){ys(e)}function ws(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function ks(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function Ss(e,t,n){return(n=ai(n)).tag=3,n.payload={element:null},n.callback=function(){ws(e,t)},n}function Es(e){return(e=ai(e)).tag=3,e}function Ns(e,t,n,r){var a=n.type.getDerivedStateFromError;if("function"===typeof a){var i=r.value;e.payload=function(){return a(i)},e.callback=function(){ks(t,n,r)}}var o=n.stateNode;null!==o&&"function"===typeof o.componentDidCatch&&(e.callback=function(){ks(t,n,r),"function"!==typeof a&&(null===Ec?Ec=new Set([this]):Ec.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var js=Error(o(461)),_s=!1;function Ts(e,t,n,r){t.child=null===e?rs(t,null,n,r):ns(t,e.child,n,r)}function As(e,t,n,r,a){n=n.render;var i=t.ref;if("ref"in r){var o={};for(var s in r)"ref"!==s&&(o[s]=r[s])}else o=r;return Na(t),r=Oi(e,t,n,o,i,a),s=Mi(),null===e||_s?(ia&&s&&ta(t),t.flags|=1,Ts(e,t,r,a),t.child):(Ri(e,t,a),Ys(e,t,a))}function Cs(e,t,n,r,a){if(null===e){var i=n.type;return"function"!==typeof i||Lr(i)||void 0!==i.defaultProps||null!==n.compare?((e=Ur(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,Os(e,t,i,r,a))}if(i=e.child,!Qs(e,a)){var o=i.memoizedProps;if((n=null!==(n=n.compare)?n:Qn)(o,r)&&e.ref===t.ref)return Ys(e,t,a)}return t.flags|=1,(e=Fr(i,r)).ref=t.ref,e.return=t,t.child=e}function Os(e,t,n,r,a){if(null!==e){var i=e.memoizedProps;if(Qn(i,r)&&e.ref===t.ref){if(_s=!1,t.pendingProps=r=i,!Qs(e,a))return t.lanes=e.lanes,Ys(e,t,a);0!==(131072&e.flags)&&(_s=!0)}}return Ms(e,t,n,r,a)}function Is(e,t,n){var r=t.pendingProps,a=r.children,i=null!==e?e.memoizedState:null;if("hidden"===r.mode){if(0!==(128&t.flags)){if(r=null!==i?i.baseLanes|n:n,null!==e){for(a=t.child=e.child,i=0;null!==a;)i=i|a.lanes|a.childLanes,a=a.sibling;t.childLanes=i&~r}else t.childLanes=0,t.child=null;return Ps(e,t,r,n)}if(0===(536870912&n))return t.lanes=t.childLanes=536870912,Ps(e,t,null!==i?i.baseLanes|n:n,n);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&$a(0,null!==i?i.cachePool:null),null!==i?mi(t,i):gi(),ss(t)}else null!==i?($a(0,i.cachePool),mi(t,i),ls(),t.memoizedState=null):(null!==e&&$a(0,null),gi(),ls());return Ts(e,t,a,n),t.child}function Ps(e,t,n,r){var a=Ba();return a=null===a?null:{parent:Ia._currentValue,pool:a},t.memoizedState={baseLanes:n,cachePool:a},null!==e&&$a(0,null),gi(),ss(t),null!==e&&Sa(e,t,r,!0),null}function Ds(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(o(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function Ms(e,t,n,r,a){return Na(t),n=Oi(e,t,n,r,void 0,a),r=Mi(),null===e||_s?(ia&&r&&ta(t),t.flags|=1,Ts(e,t,n,a),t.child):(Ri(e,t,a),Ys(e,t,a))}function Rs(e,t,n,r,a,i){return Na(t),t.updateQueue=null,n=Pi(t,r,n,a),Ii(e),r=Mi(),null===e||_s?(ia&&r&&ta(t),t.flags|=1,Ts(e,t,n,i),t.child):(Ri(e,t,i),Ys(e,t,i))}function Ls(e,t,n,r,a){if(Na(t),null===t.stateNode){var i=Dr,o=n.contextType;"object"===typeof o&&null!==o&&(i=ja(o)),i=new n(r,i),t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,i.updater=fs,t.stateNode=i,i._reactInternals=t,(i=t.stateNode).props=r,i.state=t.memoizedState,i.refs={},ni(t),o=n.contextType,i.context="object"===typeof o&&null!==o?ja(o):Dr,i.state=t.memoizedState,"function"===typeof(o=n.getDerivedStateFromProps)&&(hs(t,n,o,r),i.state=t.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(o=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),o!==i.state&&fs.enqueueReplaceState(i,i.state,null),ui(t,r,i,a),ci(),i.state=t.memoizedState),"function"===typeof i.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){i=t.stateNode;var s=t.memoizedProps,l=gs(n,s);i.props=l;var c=i.context,u=n.contextType;o=Dr,"object"===typeof u&&null!==u&&(o=ja(u));var d=n.getDerivedStateFromProps;u="function"===typeof d||"function"===typeof i.getSnapshotBeforeUpdate,s=t.pendingProps!==s,u||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(s||c!==o)&&ms(t,i,r,o),ti=!1;var h=t.memoizedState;i.state=h,ui(t,r,i,a),ci(),c=t.memoizedState,s||h!==c||ti?("function"===typeof d&&(hs(t,n,d,r),c=t.memoizedState),(l=ti||ps(t,n,l,r,h,c,o))?(u||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||("function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"===typeof i.componentDidMount&&(t.flags|=4194308)):("function"===typeof i.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),i.props=r,i.state=c,i.context=o,r=l):("function"===typeof i.componentDidMount&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,ri(e,t),u=gs(n,o=t.memoizedProps),i.props=u,d=t.pendingProps,h=i.context,c=n.contextType,l=Dr,"object"===typeof c&&null!==c&&(l=ja(c)),(c="function"===typeof(s=n.getDerivedStateFromProps)||"function"===typeof i.getSnapshotBeforeUpdate)||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(o!==d||h!==l)&&ms(t,i,r,l),ti=!1,h=t.memoizedState,i.state=h,ui(t,r,i,a),ci();var f=t.memoizedState;o!==d||h!==f||ti||null!==e&&null!==e.dependencies&&Ea(e.dependencies)?("function"===typeof s&&(hs(t,n,s,r),f=t.memoizedState),(u=ti||ps(t,n,u,r,h,f,l)||null!==e&&null!==e.dependencies&&Ea(e.dependencies))?(c||"function"!==typeof i.UNSAFE_componentWillUpdate&&"function"!==typeof i.componentWillUpdate||("function"===typeof i.componentWillUpdate&&i.componentWillUpdate(r,f,l),"function"===typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(r,f,l)),"function"===typeof i.componentDidUpdate&&(t.flags|=4),"function"===typeof i.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof i.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),i.props=r,i.state=f,i.context=l,r=u):("function"!==typeof i.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return i=r,Ds(e,t),r=0!==(128&t.flags),i||r?(i=t.stateNode,n=r&&"function"!==typeof n.getDerivedStateFromError?null:i.render(),t.flags|=1,null!==e&&r?(t.child=ns(t,e.child,null,a),t.child=ns(t,null,n,a)):Ts(e,t,n,a),t.memoizedState=i.state,e=t.child):e=Ys(e,t,a),e}function Fs(e,t,n,r){return fa(),t.flags|=256,Ts(e,t,n,r),t.child}var zs={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Us(e){return{baseLanes:e,cachePool:Ha()}}function Vs(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=gc),e}function Bs(e,t,n){var r,a=t.pendingProps,i=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&us.current)),r&&(i=!0,t.flags&=-129),r=0!==(32&t.flags),t.flags&=-33,null===e){if(ia){if(i?os(t):ls(),ia){var l,c=aa;if(l=c){e:{for(l=c,c=sa;8!==l.nodeType;){if(!c){c=null;break e}if(null===(l=yd(l.nextSibling))){c=null;break e}}c=l}null!==c?(t.memoizedState={dehydrated:c,treeContext:null!==Qr?{id:Xr,overflow:Jr}:null,retryLane:536870912,hydrationErrors:null},(l=Rr(18,null,null,0)).stateNode=c,l.return=t,t.child=l,ra=t,aa=null,l=!0):l=!1}l||ca(t)}if(null!==(c=t.memoizedState)&&null!==(c=c.dehydrated))return gd(c)?t.lanes=32:t.lanes=536870912,null;cs(t)}return c=a.children,a=a.fallback,i?(ls(),c=Hs({mode:"hidden",children:c},i=t.mode),a=Vr(a,i,n,null),c.return=t,a.return=t,c.sibling=a,t.child=c,(i=t.child).memoizedState=Us(n),i.childLanes=Vs(e,r,n),t.memoizedState=zs,a):(os(t),$s(t,c))}if(null!==(l=e.memoizedState)&&null!==(c=l.dehydrated)){if(s)256&t.flags?(os(t),t.flags&=-257,t=Ks(e,t,n)):null!==t.memoizedState?(ls(),t.child=e.child,t.flags|=128,t=null):(ls(),i=a.fallback,c=t.mode,a=Hs({mode:"visible",children:a.children},c),(i=Vr(i,c,n,null)).flags|=2,a.return=t,i.return=t,a.sibling=i,t.child=a,ns(t,e.child,null,n),(a=t.child).memoizedState=Us(n),a.childLanes=Vs(e,r,n),t.memoizedState=zs,t=i);else if(os(t),gd(c)){if(r=c.nextSibling&&c.nextSibling.dataset)var u=r.dgst;r=u,(a=Error(o(419))).stack="",a.digest=r,ma({value:a,source:null,stack:null}),t=Ks(e,t,n)}else if(_s||Sa(e,t,n,!1),r=0!==(n&e.childLanes),_s||r){if(null!==(r=rc)&&(0!==(a=0!==((a=0!==(42&(a=n&-n))?1:Te(a))&(r.suspendedLanes|n))?0:a)&&a!==l.retryLane))throw l.retryLane=a,Or(e,a),Rc(r,e,a),js;"$?"===c.data||Wc(),t=Ks(e,t,n)}else"$?"===c.data?(t.flags|=192,t.child=e.child,t=null):(e=l.treeContext,aa=yd(c.nextSibling),ra=t,ia=!0,oa=null,sa=!1,null!==e&&(Gr[Yr++]=Xr,Gr[Yr++]=Jr,Gr[Yr++]=Qr,Xr=e.id,Jr=e.overflow,Qr=t),(t=$s(t,a.children)).flags|=4096);return t}return i?(ls(),i=a.fallback,c=t.mode,u=(l=e.child).sibling,(a=Fr(l,{mode:"hidden",children:a.children})).subtreeFlags=65011712&l.subtreeFlags,null!==u?i=Fr(u,i):(i=Vr(i,c,n,null)).flags|=2,i.return=t,a.return=t,a.sibling=i,t.child=a,a=i,i=t.child,null===(c=e.child.memoizedState)?c=Us(n):(null!==(l=c.cachePool)?(u=Ia._currentValue,l=l.parent!==u?{parent:u,pool:u}:l):l=Ha(),c={baseLanes:c.baseLanes|n,cachePool:l}),i.memoizedState=c,i.childLanes=Vs(e,r,n),t.memoizedState=zs,a):(os(t),e=(n=e.child).sibling,(n=Fr(n,{mode:"visible",children:a.children})).return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function $s(e,t){return(t=Hs({mode:"visible",children:t},e.mode)).return=e,e.child=t}function Hs(e,t){return(e=Rr(22,e,null,t)).lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Ks(e,t,n){return ns(t,e.child,null,n),(e=$s(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function qs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),wa(e.return,t,n)}function Ws(e,t,n,r,a){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=a)}function Gs(e,t,n){var r=t.pendingProps,a=r.revealOrder,i=r.tail;if(Ts(e,t,r.children,n),0!==(2&(r=us.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&qs(e,n,t);else if(19===e.tag)qs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}switch(V(us,r),a){case"forwards":for(n=t.child,a=null;null!==n;)null!==(e=n.alternate)&&null===ds(e)&&(a=n),n=n.sibling;null===(n=a)?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),Ws(t,!1,a,n,i);break;case"backwards":for(n=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===ds(e)){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}Ws(t,!0,n,null,i);break;case"together":Ws(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ys(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),fc|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(Sa(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Fr(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Fr(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Qs(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Ea(e))}function Xs(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)_s=!0;else{if(!Qs(e,n)&&0===(128&t.flags))return _s=!1,function(e,t,n){switch(t.tag){case 3:q(t,t.stateNode.containerInfo),ba(0,Ia,e.memoizedState.cache),fa();break;case 27:case 5:G(t);break;case 4:q(t,t.stateNode.containerInfo);break;case 10:ba(0,t.type,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(os(t),t.flags|=128,null):0!==(n&t.child.childLanes)?Bs(e,t,n):(os(t),null!==(e=Ys(e,t,n))?e.sibling:null);os(t);break;case 19:var a=0!==(128&e.flags);if((r=0!==(n&t.childLanes))||(Sa(e,t,n,!1),r=0!==(n&t.childLanes)),a){if(r)return Gs(e,t,n);t.flags|=128}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),V(us,us.current),r)break;return null;case 22:case 23:return t.lanes=0,Is(e,t,n);case 24:ba(0,Ia,e.memoizedState.cache)}return Ys(e,t,n)}(e,t,n);_s=0!==(131072&e.flags)}else _s=!1,ia&&0!==(1048576&t.flags)&&ea(t,Wr,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var r=t.elementType,a=r._init;if(r=a(r._payload),t.type=r,"function"!==typeof r){if(void 0!==r&&null!==r){if((a=r.$$typeof)===k){t.tag=11,t=As(null,t,r,e,n);break e}if(a===N){t.tag=14,t=Cs(null,t,r,e,n);break e}}throw t=I(r)||r,Error(o(306,t,""))}Lr(r)?(e=gs(r,e),t.tag=1,t=Ls(null,t,r,e,n)):(t.tag=0,t=Ms(null,t,r,e,n))}return t;case 0:return Ms(e,t,t.type,t.pendingProps,n);case 1:return Ls(e,t,r=t.type,a=gs(r,t.pendingProps),n);case 3:e:{if(q(t,t.stateNode.containerInfo),null===e)throw Error(o(387));r=t.pendingProps;var i=t.memoizedState;a=i.element,ri(e,t),ui(t,r,null,n);var s=t.memoizedState;if(r=s.cache,ba(0,Ia,r),r!==i.cache&&ka(t,[Ia],n,!0),ci(),r=s.element,i.isDehydrated){if(i={element:r,isDehydrated:!1,cache:s.cache},t.updateQueue.baseState=i,t.memoizedState=i,256&t.flags){t=Fs(e,t,r,n);break e}if(r!==a){ma(a=Er(Error(o(424)),t)),t=Fs(e,t,r,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(aa=yd(e.firstChild),ra=t,ia=!0,oa=null,sa=!0,n=rs(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fa(),r===a){t=Ys(e,t,n);break e}Ts(e,t,r,n)}t=t.child}return t;case 26:return Ds(e,t),null===e?(n=Td(t.type,null,t.pendingProps,null))?t.memoizedState=n:ia||(n=t.type,e=t.pendingProps,(r=rd(H.current).createElement(n))[Ie]=t,r[Pe]=e,ed(r,n,e),Ke(r),t.stateNode=r):t.memoizedState=Td(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return G(t),null===e&&ia&&(r=t.stateNode=xd(t.type,t.pendingProps,H.current),ra=t,sa=!0,a=aa,fd(t.type)?(vd=a,aa=yd(r.firstChild)):aa=a),Ts(e,t,t.pendingProps.children,n),Ds(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&ia&&((a=r=aa)&&(null!==(r=function(e,t,n,r){for(;1===e.nodeType;){var a=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[ze])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(i=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(i!==a.rel||e.getAttribute("href")!==(null==a.href||""===a.href?null:a.href)||e.getAttribute("crossorigin")!==(null==a.crossOrigin?null:a.crossOrigin)||e.getAttribute("title")!==(null==a.title?null:a.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((i=e.getAttribute("src"))!==(null==a.src?null:a.src)||e.getAttribute("type")!==(null==a.type?null:a.type)||e.getAttribute("crossorigin")!==(null==a.crossOrigin?null:a.crossOrigin))&&i&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var i=null==a.name?null:""+a.name;if("hidden"===a.type&&e.getAttribute("name")===i)return e}if(null===(e=yd(e.nextSibling)))break}return null}(r,t.type,t.pendingProps,sa))?(t.stateNode=r,ra=t,aa=yd(r.firstChild),sa=!1,a=!0):a=!1),a||ca(t)),G(t),a=t.type,i=t.pendingProps,s=null!==e?e.memoizedProps:null,r=i.children,od(a,i)?r=null:null!==s&&od(a,s)&&(t.flags|=32),null!==t.memoizedState&&(a=Oi(e,t,Di,null,null,n),Gd._currentValue=a),Ds(e,t),Ts(e,t,r,n),t.child;case 6:return null===e&&ia&&((e=n=aa)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=yd(e.nextSibling)))return null}return e}(n,t.pendingProps,sa))?(t.stateNode=n,ra=t,aa=null,e=!0):e=!1),e||ca(t)),null;case 13:return Bs(e,t,n);case 4:return q(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ns(t,null,r,n):Ts(e,t,r,n),t.child;case 11:return As(e,t,t.type,t.pendingProps,n);case 7:return Ts(e,t,t.pendingProps,n),t.child;case 8:case 12:return Ts(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,ba(0,t.type,r.value),Ts(e,t,r.children,n),t.child;case 9:return a=t.type._context,r=t.pendingProps.children,Na(t),r=r(a=ja(a)),t.flags|=1,Ts(e,t,r,n),t.child;case 14:return Cs(e,t,t.type,t.pendingProps,n);case 15:return Os(e,t,t.type,t.pendingProps,n);case 19:return Gs(e,t,n);case 31:return r=t.pendingProps,n=t.mode,r={mode:r.mode,children:r.children},null===e?((n=Hs(r,n)).ref=t.ref,t.child=n,n.return=t,t=n):((n=Fr(e.child,r)).ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return Is(e,t,n);case 24:return Na(t),r=ja(Ia),null===e?(null===(a=Ba())&&(a=rc,i=Pa(),a.pooledCache=i,i.refCount++,null!==i&&(a.pooledCacheLanes|=n),a=i),t.memoizedState={parent:r,cache:a},ni(t),ba(0,Ia,a)):(0!==(e.lanes&n)&&(ri(e,t),ui(t,null,null,n),ci()),a=e.memoizedState,i=t.memoizedState,a.parent!==r?(a={parent:r,cache:r},t.memoizedState=a,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=a),ba(0,Ia,r)):(r=i.cache,ba(0,Ia,r),r!==a.cache&&ka(t,[Ia],n,!0))),Ts(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(o(156,t.tag))}function Js(e){e.flags|=4}function Zs(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!Vd(t)){if(null!==(t=as.current)&&((4194048&ic)===ic?null!==is:(62914560&ic)!==ic&&0===(536870912&ic)||t!==is))throw Ja=Ga,qa;e.flags|=8192}}function el(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Se():536870912,e.lanes|=t,yc|=t)}function tl(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function nl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=65011712&a.subtreeFlags,r|=65011712&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function rl(e,t,n){var r=t.pendingProps;switch(na(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return nl(t),null;case 3:return n=t.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),xa(Ia),W(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(ha(t)?Js(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,pa())),nl(t),null;case 26:return n=t.memoizedState,null===e?(Js(t),null!==n?(nl(t),Zs(t,n)):(nl(t),t.flags&=-16777217)):n?n!==e.memoizedState?(Js(t),nl(t),Zs(t,n)):(nl(t),t.flags&=-16777217):(e.memoizedProps!==r&&Js(t),nl(t),t.flags&=-16777217),null;case 27:Y(t),n=H.current;var a=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Js(t);else{if(!r){if(null===t.stateNode)throw Error(o(166));return nl(t),null}e=B.current,ha(t)?ua(t):(e=xd(a,r,n),t.stateNode=e,Js(t))}return nl(t),null;case 5:if(Y(t),n=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Js(t);else{if(!r){if(null===t.stateNode)throw Error(o(166));return nl(t),null}if(e=B.current,ha(t))ua(t);else{switch(a=rd(H.current),e){case 1:e=a.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=a.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=a.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=a.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":(e=a.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"===typeof r.is?a.createElement("select",{is:r.is}):a.createElement("select"),r.multiple?e.multiple=!0:r.size&&(e.size=r.size);break;default:e="string"===typeof r.is?a.createElement(n,{is:r.is}):a.createElement(n)}}e[Ie]=t,e[Pe]=r;e:for(a=t.child;null!==a;){if(5===a.tag||6===a.tag)e.appendChild(a.stateNode);else if(4!==a.tag&&27!==a.tag&&null!==a.child){a.child.return=a,a=a.child;continue}if(a===t)break e;for(;null===a.sibling;){if(null===a.return||a.return===t)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}t.stateNode=e;e:switch(ed(e,n,r),n){case"button":case"input":case"select":case"textarea":e=!!r.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Js(t)}}return nl(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==r&&Js(t);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(e=H.current,ha(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,null!==(a=ra))switch(a.tag){case 27:case 5:r=a.memoizedProps}e[Ie]=t,(e=!!(e.nodeValue===n||null!==r&&!0===r.suppressHydrationWarning||Qu(e.nodeValue,n)))||ca(t)}else(e=rd(e).createTextNode(r))[Ie]=t,t.stateNode=e}return nl(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(a=ha(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(o(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(o(317));a[Ie]=t}else fa(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;nl(t),a=!1}else a=pa(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=a),a=!0;if(!a)return 256&t.flags?(cs(t),t):(cs(t),null)}if(cs(t),0!==(128&t.flags))return t.lanes=n,t;if(n=null!==r,e=null!==e&&null!==e.memoizedState,n){a=null,null!==(r=t.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(a=r.alternate.memoizedState.cachePool.pool);var i=null;null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(i=r.memoizedState.cachePool.pool),i!==a&&(r.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),el(t,t.updateQueue),nl(t),null;case 4:return W(),null===e&&Uu(t.stateNode.containerInfo),nl(t),null;case 10:return xa(t.type),nl(t),null;case 19:if(U(us),null===(a=t.memoizedState))return nl(t),null;if(r=0!==(128&t.flags),null===(i=a.rendering))if(r)tl(a,!1);else{if(0!==hc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(i=ds(e))){for(t.flags|=128,tl(a,!1),e=i.updateQueue,t.updateQueue=e,el(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)zr(n,e),n=n.sibling;return V(us,1&us.current|2),t.child}e=e.sibling}null!==a.tail&&te()>kc&&(t.flags|=128,r=!0,tl(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ds(i))){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,el(t,e),tl(a,!0),null===a.tail&&"hidden"===a.tailMode&&!i.alternate&&!ia)return nl(t),null}else 2*te()-a.renderingStartTime>kc&&536870912!==n&&(t.flags|=128,r=!0,tl(a,!1),t.lanes=4194304);a.isBackwards?(i.sibling=t.child,t.child=i):(null!==(e=a.last)?e.sibling=i:t.child=i,a.last=i)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=te(),t.sibling=null,e=us.current,V(us,r?1&e|2:1&e),t):(nl(t),null);case 22:case 23:return cs(t),yi(),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?0!==(536870912&n)&&0===(128&t.flags)&&(nl(t),6&t.subtreeFlags&&(t.flags|=8192)):nl(t),null!==(n=t.updateQueue)&&el(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),r=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),null!==e&&U(Va),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),xa(Ia),nl(t),null;case 25:case 30:return null}throw Error(o(156,t.tag))}function al(e,t){switch(na(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return xa(Ia),W(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return Y(t),null;case 13:if(cs(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));fa()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return U(us),null;case 4:return W(),null;case 10:return xa(t.type),null;case 22:case 23:return cs(t),yi(),null!==e&&U(Va),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return xa(Ia),null;default:return null}}function il(e,t){switch(na(t),t.tag){case 3:xa(Ia),W();break;case 26:case 27:case 5:Y(t);break;case 4:W();break;case 13:cs(t);break;case 19:U(us);break;case 10:xa(t.type);break;case 22:case 23:cs(t),yi(),null!==e&&U(Va);break;case 24:xa(Ia)}}function ol(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var a=r.next;n=a;do{if((n.tag&e)===e){r=void 0;var i=n.create,o=n.inst;r=i(),o.destroy=r}n=n.next}while(n!==a)}}catch(s){uu(t,t.return,s)}}function sl(e,t,n){try{var r=t.updateQueue,a=null!==r?r.lastEffect:null;if(null!==a){var i=a.next;r=i;do{if((r.tag&e)===e){var o=r.inst,s=o.destroy;if(void 0!==s){o.destroy=void 0,a=t;var l=n,c=s;try{c()}catch(u){uu(a,l,u)}}}r=r.next}while(r!==i)}}catch(u){uu(t,t.return,u)}}function ll(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{hi(t,n)}catch(r){uu(e,e.return,r)}}}function cl(e,t,n){n.props=gs(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){uu(e,t,r)}}function ul(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;default:r=e.stateNode}"function"===typeof n?e.refCleanup=n(r):n.current=r}}catch(a){uu(e,t,a)}}function dl(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"===typeof r)try{r()}catch(a){uu(e,t,a)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(i){uu(e,t,i)}else n.current=null}function hl(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(a){uu(e,e.return,a)}}function fl(e,t,n){try{var r=e.stateNode;!function(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var a=null,i=null,s=null,l=null,c=null,u=null,d=null;for(p in n){var h=n[p];if(n.hasOwnProperty(p)&&null!=h)switch(p){case"checked":case"value":break;case"defaultValue":c=h;default:r.hasOwnProperty(p)||Ju(e,t,p,null,r,h)}}for(var f in r){var p=r[f];if(h=n[f],r.hasOwnProperty(f)&&(null!=p||null!=h))switch(f){case"type":i=p;break;case"name":a=p;break;case"checked":u=p;break;case"defaultChecked":d=p;break;case"value":s=p;break;case"defaultValue":l=p;break;case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(o(137,t));break;default:p!==h&&Ju(e,t,f,p,r,h)}}return void gt(e,s,l,c,u,d,i,a);case"select":for(i in p=s=l=f=null,n)if(c=n[i],n.hasOwnProperty(i)&&null!=c)switch(i){case"value":break;case"multiple":p=c;default:r.hasOwnProperty(i)||Ju(e,t,i,null,r,c)}for(a in r)if(i=r[a],c=n[a],r.hasOwnProperty(a)&&(null!=i||null!=c))switch(a){case"value":f=i;break;case"defaultValue":l=i;break;case"multiple":s=i;default:i!==c&&Ju(e,t,a,i,r,c)}return t=l,n=s,r=p,void(null!=f?bt(e,!!n,f,!1):!!r!==!!n&&(null!=t?bt(e,!!n,t,!0):bt(e,!!n,n?[]:"",!1)));case"textarea":for(l in p=f=null,n)if(a=n[l],n.hasOwnProperty(l)&&null!=a&&!r.hasOwnProperty(l))switch(l){case"value":case"children":break;default:Ju(e,t,l,null,r,a)}for(s in r)if(a=r[s],i=n[s],r.hasOwnProperty(s)&&(null!=a||null!=i))switch(s){case"value":f=a;break;case"defaultValue":p=a;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=a)throw Error(o(91));break;default:a!==i&&Ju(e,t,s,a,r,i)}return void xt(e,f,p);case"option":for(var m in n)if(f=n[m],n.hasOwnProperty(m)&&null!=f&&!r.hasOwnProperty(m))if("selected"===m)e.selected=!1;else Ju(e,t,m,null,r,f);for(c in r)if(f=r[c],p=n[c],r.hasOwnProperty(c)&&f!==p&&(null!=f||null!=p))if("selected"===c)e.selected=f&&"function"!==typeof f&&"symbol"!==typeof f;else Ju(e,t,c,f,r,p);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)f=n[g],n.hasOwnProperty(g)&&null!=f&&!r.hasOwnProperty(g)&&Ju(e,t,g,null,r,f);for(u in r)if(f=r[u],p=n[u],r.hasOwnProperty(u)&&f!==p&&(null!=f||null!=p))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(o(137,t));break;default:Ju(e,t,u,f,r,p)}return;default:if(jt(t)){for(var y in n)f=n[y],n.hasOwnProperty(y)&&void 0!==f&&!r.hasOwnProperty(y)&&Zu(e,t,y,void 0,r,f);for(d in r)f=r[d],p=n[d],!r.hasOwnProperty(d)||f===p||void 0===f&&void 0===p||Zu(e,t,d,f,r,p);return}}for(var v in n)f=n[v],n.hasOwnProperty(v)&&null!=f&&!r.hasOwnProperty(v)&&Ju(e,t,v,null,r,f);for(h in r)f=r[h],p=n[h],!r.hasOwnProperty(h)||f===p||null==f&&null==p||Ju(e,t,h,f,r,p)}(r,e.type,n,t),r[Pe]=t}catch(a){uu(e,e.return,a)}}function pl(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&fd(e.type)||4===e.tag}function ml(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||pl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&fd(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function gl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Xu));else if(4!==r&&(27===r&&fd(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(gl(e,t,n),e=e.sibling;null!==e;)gl(e,t,n),e=e.sibling}function yl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&(27===r&&fd(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(yl(e,t,n),e=e.sibling;null!==e;)yl(e,t,n),e=e.sibling}function vl(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,a=t.attributes;a.length;)t.removeAttributeNode(a[0]);ed(t,r,n),t[Ie]=e,t[Pe]=n}catch(i){uu(e,e.return,i)}}var bl=!1,xl=!1,wl=!1,kl="function"===typeof WeakSet?WeakSet:Set,Sl=null;function El(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Ll(e,n),4&r&&ol(5,n);break;case 1:if(Ll(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(o){uu(n,n.return,o)}else{var a=gs(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(a,t,e.__reactInternalSnapshotBeforeUpdate)}catch(s){uu(n,n.return,s)}}64&r&&ll(n),512&r&&ul(n,n.return);break;case 3:if(Ll(e,n),64&r&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{hi(e,t)}catch(o){uu(n,n.return,o)}}break;case 27:null===t&&4&r&&vl(n);case 26:case 5:Ll(e,n),null===t&&4&r&&hl(n),512&r&&ul(n,n.return);break;case 12:Ll(e,n);break;case 13:Ll(e,n),4&r&&Cl(e,n),64&r&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$?"!==e.data||"complete"===n.readyState)t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}(e,n=pu.bind(null,n))));break;case 22:if(!(r=null!==n.memoizedState||bl)){t=null!==t&&null!==t.memoizedState||xl,a=bl;var i=xl;bl=r,(xl=t)&&!i?zl(e,n,0!==(8772&n.subtreeFlags)):Ll(e,n),bl=a,xl=i}break;case 30:break;default:Ll(e,n)}}function Nl(e){var t=e.alternate;null!==t&&(e.alternate=null,Nl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&Ue(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var jl=null,_l=!1;function Tl(e,t,n){for(n=n.child;null!==n;)Al(e,t,n),n=n.sibling}function Al(e,t,n){if(de&&"function"===typeof de.onCommitFiberUnmount)try{de.onCommitFiberUnmount(ue,n)}catch(i){}switch(n.tag){case 26:xl||dl(n,t),Tl(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:xl||dl(n,t);var r=jl,a=_l;fd(n.type)&&(jl=n.stateNode,_l=!1),Tl(e,t,n),wd(n.stateNode),jl=r,_l=a;break;case 5:xl||dl(n,t);case 6:if(r=jl,a=_l,jl=null,Tl(e,t,n),_l=a,null!==(jl=r))if(_l)try{(9===jl.nodeType?jl.body:"HTML"===jl.nodeName?jl.ownerDocument.body:jl).removeChild(n.stateNode)}catch(o){uu(n,t,o)}else try{jl.removeChild(n.stateNode)}catch(o){uu(n,t,o)}break;case 18:null!==jl&&(_l?(pd(9===(e=jl).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),_h(e)):pd(jl,n.stateNode));break;case 4:r=jl,a=_l,jl=n.stateNode.containerInfo,_l=!0,Tl(e,t,n),jl=r,_l=a;break;case 0:case 11:case 14:case 15:xl||sl(2,n,t),xl||sl(4,n,t),Tl(e,t,n);break;case 1:xl||(dl(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount&&cl(n,t,r)),Tl(e,t,n);break;case 21:Tl(e,t,n);break;case 22:xl=(r=xl)||null!==n.memoizedState,Tl(e,t,n),xl=r;break;default:Tl(e,t,n)}}function Cl(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{_h(e)}catch(n){uu(t,t.return,n)}}function Ol(e,t){var n=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new kl),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new kl),t;default:throw Error(o(435,e.tag))}}(e);t.forEach(function(t){var r=mu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}function Il(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var a=n[r],i=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 27:if(fd(l.type)){jl=l.stateNode,_l=!1;break e}break;case 5:jl=l.stateNode,_l=!1;break e;case 3:case 4:jl=l.stateNode.containerInfo,_l=!0;break e}l=l.return}if(null===jl)throw Error(o(160));Al(i,s,a),jl=null,_l=!1,null!==(i=a.alternate)&&(i.return=null),a.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)Dl(t,e),t=t.sibling}var Pl=null;function Dl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Il(t,e),Ml(e),4&r&&(sl(3,e,e.return),ol(3,e),sl(5,e,e.return));break;case 1:Il(t,e),Ml(e),512&r&&(xl||null===n||dl(n,n.return)),64&r&&bl&&(null!==(e=e.updateQueue)&&(null!==(r=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?r:n.concat(r))));break;case 26:var a=Pl;if(Il(t,e),Ml(e),512&r&&(xl||null===n||dl(n,n.return)),4&r){var i=null!==n?n.memoizedState:null;if(r=e.memoizedState,null===n)if(null===r)if(null===e.stateNode){e:{r=e.type,n=e.memoizedProps,a=a.ownerDocument||a;t:switch(r){case"title":(!(i=a.getElementsByTagName("title")[0])||i[ze]||i[Ie]||"http://www.w3.org/2000/svg"===i.namespaceURI||i.hasAttribute("itemprop"))&&(i=a.createElement(r),a.head.insertBefore(i,a.querySelector("head > title"))),ed(i,r,n),i[Ie]=e,Ke(i),r=i;break e;case"link":var s=zd("link","href",a).get(r+(n.href||""));if(s)for(var l=0;l<s.length;l++)if((i=s[l]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&i.getAttribute("rel")===(null==n.rel?null:n.rel)&&i.getAttribute("title")===(null==n.title?null:n.title)&&i.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){s.splice(l,1);break t}ed(i=a.createElement(r),r,n),a.head.appendChild(i);break;case"meta":if(s=zd("meta","content",a).get(r+(n.content||"")))for(l=0;l<s.length;l++)if((i=s[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&i.getAttribute("name")===(null==n.name?null:n.name)&&i.getAttribute("property")===(null==n.property?null:n.property)&&i.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&i.getAttribute("charset")===(null==n.charSet?null:n.charSet)){s.splice(l,1);break t}ed(i=a.createElement(r),r,n),a.head.appendChild(i);break;default:throw Error(o(468,r))}i[Ie]=e,Ke(i),r=i}e.stateNode=r}else Ud(a,e.type,e.stateNode);else e.stateNode=Dd(a,r,e.memoizedProps);else i!==r?(null===i?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):i.count--,null===r?Ud(a,e.type,e.stateNode):Dd(a,r,e.memoizedProps)):null===r&&null!==e.stateNode&&fl(e,e.memoizedProps,n.memoizedProps)}break;case 27:Il(t,e),Ml(e),512&r&&(xl||null===n||dl(n,n.return)),null!==n&&4&r&&fl(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Il(t,e),Ml(e),512&r&&(xl||null===n||dl(n,n.return)),32&e.flags){a=e.stateNode;try{kt(a,"")}catch(p){uu(e,e.return,p)}}4&r&&null!=e.stateNode&&fl(e,a=e.memoizedProps,null!==n?n.memoizedProps:a),1024&r&&(wl=!0);break;case 6:if(Il(t,e),Ml(e),4&r){if(null===e.stateNode)throw Error(o(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(p){uu(e,e.return,p)}}break;case 3:if(Fd=null,a=Pl,Pl=Ed(t.containerInfo),Il(t,e),Pl=a,Ml(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{_h(t.containerInfo)}catch(p){uu(e,e.return,p)}wl&&(wl=!1,Rl(e));break;case 4:r=Pl,Pl=Ed(e.stateNode.containerInfo),Il(t,e),Ml(e),Pl=r;break;case 12:default:Il(t,e),Ml(e);break;case 13:Il(t,e),Ml(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==n&&null!==n.memoizedState)&&(wc=te()),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Ol(e,r)));break;case 22:a=null!==e.memoizedState;var c=null!==n&&null!==n.memoizedState,u=bl,d=xl;if(bl=u||a,xl=d||c,Il(t,e),xl=d,bl=u,Ml(e),8192&r)e:for(t=e.stateNode,t._visibility=a?-2&t._visibility:1|t._visibility,a&&(null===n||c||bl||xl||Fl(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){c=n=t;try{if(i=c.stateNode,a)"function"===typeof(s=i.style).setProperty?s.setProperty("display","none","important"):s.display="none";else{l=c.stateNode;var h=c.memoizedProps.style,f=void 0!==h&&null!==h&&h.hasOwnProperty("display")?h.display:null;l.style.display=null==f||"boolean"===typeof f?"":(""+f).trim()}}catch(p){uu(c,c.return,p)}}}else if(6===t.tag){if(null===n){c=t;try{c.stateNode.nodeValue=a?"":c.memoizedProps}catch(p){uu(c,c.return,p)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&r&&(null!==(r=e.updateQueue)&&(null!==(n=r.retryQueue)&&(r.retryQueue=null,Ol(e,n))));break;case 19:Il(t,e),Ml(e),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Ol(e,r)));case 30:case 21:}}function Ml(e){var t=e.flags;if(2&t){try{for(var n,r=e.return;null!==r;){if(pl(r)){n=r;break}r=r.return}if(null==n)throw Error(o(160));switch(n.tag){case 27:var a=n.stateNode;yl(e,ml(e),a);break;case 5:var i=n.stateNode;32&n.flags&&(kt(i,""),n.flags&=-33),yl(e,ml(e),i);break;case 3:case 4:var s=n.stateNode.containerInfo;gl(e,ml(e),s);break;default:throw Error(o(161))}}catch(l){uu(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Rl(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Rl(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Ll(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)El(e,t.alternate,t),t=t.sibling}function Fl(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:sl(4,t,t.return),Fl(t);break;case 1:dl(t,t.return);var n=t.stateNode;"function"===typeof n.componentWillUnmount&&cl(t,t.return,n),Fl(t);break;case 27:wd(t.stateNode);case 26:case 5:dl(t,t.return),Fl(t);break;case 22:null===t.memoizedState&&Fl(t);break;default:Fl(t)}e=e.sibling}}function zl(e,t,n){for(n=n&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,a=e,i=t,o=i.flags;switch(i.tag){case 0:case 11:case 15:zl(a,i,n),ol(4,i);break;case 1:if(zl(a,i,n),"function"===typeof(a=(r=i).stateNode).componentDidMount)try{a.componentDidMount()}catch(c){uu(r,r.return,c)}if(null!==(a=(r=i).updateQueue)){var s=r.stateNode;try{var l=a.shared.hiddenCallbacks;if(null!==l)for(a.shared.hiddenCallbacks=null,a=0;a<l.length;a++)di(l[a],s)}catch(c){uu(r,r.return,c)}}n&&64&o&&ll(i),ul(i,i.return);break;case 27:vl(i);case 26:case 5:zl(a,i,n),n&&null===r&&4&o&&hl(i),ul(i,i.return);break;case 12:zl(a,i,n);break;case 13:zl(a,i,n),n&&4&o&&Cl(a,i);break;case 22:null===i.memoizedState&&zl(a,i,n),ul(i,i.return);break;case 30:break;default:zl(a,i,n)}t=t.sibling}}function Ul(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Da(n))}function Vl(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Da(e))}function Bl(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)$l(e,t,n,r),t=t.sibling}function $l(e,t,n,r){var a=t.flags;switch(t.tag){case 0:case 11:case 15:Bl(e,t,n,r),2048&a&&ol(9,t);break;case 1:case 13:default:Bl(e,t,n,r);break;case 3:Bl(e,t,n,r),2048&a&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Da(e)));break;case 12:if(2048&a){Bl(e,t,n,r),e=t.stateNode;try{var i=t.memoizedProps,o=i.id,s=i.onPostCommit;"function"===typeof s&&s(o,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){uu(t,t.return,l)}}else Bl(e,t,n,r);break;case 23:break;case 22:i=t.stateNode,o=t.alternate,null!==t.memoizedState?2&i._visibility?Bl(e,t,n,r):Kl(e,t):2&i._visibility?Bl(e,t,n,r):(i._visibility|=2,Hl(e,t,n,r,0!==(10256&t.subtreeFlags))),2048&a&&Ul(o,t);break;case 24:Bl(e,t,n,r),2048&a&&Vl(t.alternate,t)}}function Hl(e,t,n,r,a){for(a=a&&0!==(10256&t.subtreeFlags),t=t.child;null!==t;){var i=e,o=t,s=n,l=r,c=o.flags;switch(o.tag){case 0:case 11:case 15:Hl(i,o,s,l,a),ol(8,o);break;case 23:break;case 22:var u=o.stateNode;null!==o.memoizedState?2&u._visibility?Hl(i,o,s,l,a):Kl(i,o):(u._visibility|=2,Hl(i,o,s,l,a)),a&&2048&c&&Ul(o.alternate,o);break;case 24:Hl(i,o,s,l,a),a&&2048&c&&Vl(o.alternate,o);break;default:Hl(i,o,s,l,a)}t=t.sibling}}function Kl(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,a=r.flags;switch(r.tag){case 22:Kl(n,r),2048&a&&Ul(r.alternate,r);break;case 24:Kl(n,r),2048&a&&Vl(r.alternate,r);break;default:Kl(n,r)}t=t.sibling}}var ql=8192;function Wl(e){if(e.subtreeFlags&ql)for(e=e.child;null!==e;)Gl(e),e=e.sibling}function Gl(e){switch(e.tag){case 26:Wl(e),e.flags&ql&&null!==e.memoizedState&&function(e,t,n){if(null===Bd)throw Error(o(475));var r=Bd;if("stylesheet"===t.type&&("string"!==typeof n.media||!1!==matchMedia(n.media).matches)&&0===(4&t.state.loading)){if(null===t.instance){var a=Ad(n.href),i=e.querySelector(Cd(a));if(i)return null!==(e=i._p)&&"object"===typeof e&&"function"===typeof e.then&&(r.count++,r=Hd.bind(r),e.then(r,r)),t.state.loading|=4,t.instance=i,void Ke(i);i=e.ownerDocument||e,n=Od(n),(a=kd.get(a))&&Rd(n,a),Ke(i=i.createElement("link"));var s=i;s._p=new Promise(function(e,t){s.onload=e,s.onerror=t}),ed(i,"link",n),t.instance=i}null===r.stylesheets&&(r.stylesheets=new Map),r.stylesheets.set(t,e),(e=t.state.preload)&&0===(3&t.state.loading)&&(r.count++,t=Hd.bind(r),e.addEventListener("load",t),e.addEventListener("error",t))}}(Pl,e.memoizedState,e.memoizedProps);break;case 5:default:Wl(e);break;case 3:case 4:var t=Pl;Pl=Ed(e.stateNode.containerInfo),Wl(e),Pl=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=ql,ql=16777216,Wl(e),ql=t):Wl(e))}}function Yl(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function Ql(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Sl=r,Zl(r,e)}Yl(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)Xl(e),e=e.sibling}function Xl(e){switch(e.tag){case 0:case 11:case 15:Ql(e),2048&e.flags&&sl(9,e,e.return);break;case 3:case 12:default:Ql(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,Jl(e)):Ql(e)}}function Jl(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Sl=r,Zl(r,e)}Yl(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:sl(8,t,t.return),Jl(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,Jl(t));break;default:Jl(t)}e=e.sibling}}function Zl(e,t){for(;null!==Sl;){var n=Sl;switch(n.tag){case 0:case 11:case 15:sl(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:Da(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,Sl=r;else e:for(n=e;null!==Sl;){var a=(r=Sl).sibling,i=r.return;if(Nl(r),r===n){Sl=null;break e}if(null!==a){a.return=i,Sl=a;break e}Sl=i}}}var ec={getCacheForType:function(e){var t=ja(Ia),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n}},tc="function"===typeof WeakMap?WeakMap:Map,nc=0,rc=null,ac=null,ic=0,oc=0,sc=null,lc=!1,cc=!1,uc=!1,dc=0,hc=0,fc=0,pc=0,mc=0,gc=0,yc=0,vc=null,bc=null,xc=!1,wc=0,kc=1/0,Sc=null,Ec=null,Nc=0,jc=null,_c=null,Tc=0,Ac=0,Cc=null,Oc=null,Ic=0,Pc=null;function Dc(){if(0!==(2&nc)&&0!==ic)return ic&-ic;if(null!==D.T){return 0!==La?La:Au()}return Ce()}function Mc(){0===gc&&(gc=0===(536870912&ic)||ia?ke():536870912);var e=as.current;return null!==e&&(e.flags|=32),gc}function Rc(e,t,n){(e!==rc||2!==oc&&9!==oc)&&null===e.cancelPendingCommit||($c(e,0),Uc(e,ic,gc,!1)),Ne(e,n),0!==(2&nc)&&e===rc||(e===rc&&(0===(2&nc)&&(pc|=n),4===hc&&Uc(e,ic,gc,!1)),ku(e))}function Lc(e,t,n){if(0!==(6&nc))throw Error(o(327));for(var r=!n&&0===(124&t)&&0===(t&e.expiredLanes)||xe(e,t),a=r?function(e,t){var n=nc;nc|=2;var r=Kc(),a=qc();rc!==e||ic!==t?(Sc=null,kc=te()+500,$c(e,t)):cc=xe(e,t);e:for(;;)try{if(0!==oc&&null!==ac){t=ac;var i=sc;t:switch(oc){case 1:oc=0,sc=null,Zc(e,t,i,1);break;case 2:case 9:if(Ya(i)){oc=0,sc=null,Jc(t);break}t=function(){2!==oc&&9!==oc||rc!==e||(oc=7),ku(e)},i.then(t,t);break e;case 3:oc=7;break e;case 4:oc=5;break e;case 7:Ya(i)?(oc=0,sc=null,Jc(t)):(oc=0,sc=null,Zc(e,t,i,7));break;case 5:var s=null;switch(ac.tag){case 26:s=ac.memoizedState;case 5:case 27:var l=ac;if(!s||Vd(s)){oc=0,sc=null;var c=l.sibling;if(null!==c)ac=c;else{var u=l.return;null!==u?(ac=u,eu(u)):ac=null}break t}}oc=0,sc=null,Zc(e,t,i,5);break;case 6:oc=0,sc=null,Zc(e,t,i,6);break;case 8:Bc(),hc=6;break e;default:throw Error(o(462))}}Qc();break}catch(d){Hc(e,d)}return va=ya=null,D.H=r,D.A=a,nc=n,null!==ac?0:(rc=null,ic=0,Tr(),hc)}(e,t):Gc(e,t,!0),i=r;;){if(0===a){cc&&!r&&Uc(e,t,0,!1);break}if(n=e.current.alternate,!i||zc(n)){if(2===a){if(i=t,e.errorRecoveryDisabledLanes&i)var s=0;else s=0!==(s=-536870913&e.pendingLanes)?s:536870912&s?536870912:0;if(0!==s){t=s;e:{var l=e;a=vc;var c=l.current.memoizedState.isDehydrated;if(c&&($c(l,s).flags|=256),2!==(s=Gc(l,s,!1))){if(uc&&!c){l.errorRecoveryDisabledLanes|=i,pc|=i,a=4;break e}i=bc,bc=a,null!==i&&(null===bc?bc=i:bc.push.apply(bc,i))}a=s}if(i=!1,2!==a)continue}}if(1===a){$c(e,0),Uc(e,t,0,!0);break}e:{switch(r=e,i=a){case 0:case 1:throw Error(o(345));case 4:if((4194048&t)!==t)break;case 6:Uc(r,t,gc,!lc);break e;case 2:bc=null;break;case 3:case 5:break;default:throw Error(o(329))}if((62914560&t)===t&&10<(a=wc+300-te())){if(Uc(r,t,gc,!lc),0!==be(r,0,!0))break e;r.timeoutHandle=ld(Fc.bind(null,r,n,bc,Sc,xc,t,gc,pc,yc,lc,i,2,-0,0),a)}else Fc(r,n,bc,Sc,xc,t,gc,pc,yc,lc,i,0,-0,0)}break}a=Gc(e,t,!1),i=!1}ku(e)}function Fc(e,t,n,r,a,i,s,l,c,u,d,h,f,p){if(e.timeoutHandle=-1,(8192&(h=t.subtreeFlags)||16785408===(16785408&h))&&(Bd={stylesheets:null,count:0,unsuspend:$d},Gl(t),null!==(h=function(){if(null===Bd)throw Error(o(475));var e=Bd;return e.stylesheets&&0===e.count&&qd(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&qd(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}())))return e.cancelPendingCommit=h(nu.bind(null,e,t,i,n,r,a,s,l,c,d,1,f,p)),void Uc(e,i,s,!u);nu(e,t,i,n,r,a,s,l,c)}function zc(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var r=0;r<n.length;r++){var a=n[r],i=a.getSnapshot;a=a.value;try{if(!Yn(i(),a))return!1}catch(o){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Uc(e,t,n,r){t&=~mc,t&=~pc,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var a=t;0<a;){var i=31-fe(a),o=1<<i;r[i]=-1,a&=~o}0!==n&&je(e,n,t)}function Vc(){return 0!==(6&nc)||(Su(0,!1),!1)}function Bc(){if(null!==ac){if(0===oc)var e=ac.return;else va=ya=null,Li(e=ac),Yo=null,Qo=0,e=ac;for(;null!==e;)il(e.alternate,e),e=e.return;ac=null}}function $c(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,cd(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Bc(),rc=e,ac=n=Fr(e.current,null),ic=t,oc=0,sc=null,lc=!1,cc=xe(e,t),uc=!1,yc=gc=mc=pc=fc=hc=0,bc=vc=null,xc=!1,0!==(8&t)&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var a=31-fe(r),i=1<<a;t|=e[a],r&=~i}return dc=t,Tr(),n}function Hc(e,t){bi=null,D.H=Ko,t===Ka||t===Wa?(t=Za(),oc=3):t===qa?(t=Za(),oc=4):oc=t===js?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,sc=t,null===ac&&(hc=1,ws(e,Er(t,e.current)))}function Kc(){var e=D.H;return D.H=Ko,null===e?Ko:e}function qc(){var e=D.A;return D.A=ec,e}function Wc(){hc=4,lc||(4194048&ic)!==ic&&null!==as.current||(cc=!0),0===(134217727&fc)&&0===(134217727&pc)||null===rc||Uc(rc,ic,gc,!1)}function Gc(e,t,n){var r=nc;nc|=2;var a=Kc(),i=qc();rc===e&&ic===t||(Sc=null,$c(e,t)),t=!1;var o=hc;e:for(;;)try{if(0!==oc&&null!==ac){var s=ac,l=sc;switch(oc){case 8:Bc(),o=6;break e;case 3:case 2:case 9:case 6:null===as.current&&(t=!0);var c=oc;if(oc=0,sc=null,Zc(e,s,l,c),n&&cc){o=0;break e}break;default:c=oc,oc=0,sc=null,Zc(e,s,l,c)}}Yc(),o=hc;break}catch(u){Hc(e,u)}return t&&e.shellSuspendCounter++,va=ya=null,nc=r,D.H=a,D.A=i,null===ac&&(rc=null,ic=0,Tr()),o}function Yc(){for(;null!==ac;)Xc(ac)}function Qc(){for(;null!==ac&&!Z();)Xc(ac)}function Xc(e){var t=Xs(e.alternate,e,dc);e.memoizedProps=e.pendingProps,null===t?eu(e):ac=t}function Jc(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Rs(n,t,t.pendingProps,t.type,void 0,ic);break;case 11:t=Rs(n,t,t.pendingProps,t.type.render,t.ref,ic);break;case 5:Li(t);default:il(n,t),t=Xs(n,t=ac=zr(t,dc),dc)}e.memoizedProps=e.pendingProps,null===t?eu(e):ac=t}function Zc(e,t,n,r){va=ya=null,Li(t),Yo=null,Qo=0;var a=t.return;try{if(function(e,t,n,r,a){if(n.flags|=32768,null!==r&&"object"===typeof r&&"function"===typeof r.then){if(null!==(t=n.alternate)&&Sa(t,n,a,!0),null!==(n=as.current)){switch(n.tag){case 13:return null===is?Wc():null===n.alternate&&0===hc&&(hc=3),n.flags&=-257,n.flags|=65536,n.lanes=a,r===Ga?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([r]):t.add(r),du(e,r,a)),!1;case 22:return n.flags|=65536,r===Ga?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([r]):n.add(r),du(e,r,a)),!1}throw Error(o(435,n.tag))}return du(e,r,a),Wc(),!1}if(ia)return null!==(t=as.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=a,r!==la&&ma(Er(e=Error(o(422),{cause:r}),n))):(r!==la&&ma(Er(t=Error(o(423),{cause:r}),n)),(e=e.current.alternate).flags|=65536,a&=-a,e.lanes|=a,r=Er(r,n),si(e,a=Ss(e.stateNode,r,a)),4!==hc&&(hc=2)),!1;var i=Error(o(520),{cause:r});if(i=Er(i,n),null===vc?vc=[i]:vc.push(i),4!==hc&&(hc=2),null===t)return!0;r=Er(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=a&-a,n.lanes|=e,si(n,e=Ss(n.stateNode,r,e)),!1;case 1:if(t=n.type,i=n.stateNode,0===(128&n.flags)&&("function"===typeof t.getDerivedStateFromError||null!==i&&"function"===typeof i.componentDidCatch&&(null===Ec||!Ec.has(i))))return n.flags|=65536,a&=-a,n.lanes|=a,Ns(a=Es(a),e,n,r),si(n,a),!1}n=n.return}while(null!==n);return!1}(e,a,t,n,ic))return hc=1,ws(e,Er(n,e.current)),void(ac=null)}catch(i){if(null!==a)throw ac=a,i;return hc=1,ws(e,Er(n,e.current)),void(ac=null)}32768&t.flags?(ia||1===r?e=!0:cc||0!==(536870912&ic)?e=!1:(lc=e=!0,(2===r||9===r||3===r||6===r)&&(null!==(r=as.current)&&13===r.tag&&(r.flags|=16384))),tu(t,e)):eu(t)}function eu(e){var t=e;do{if(0!==(32768&t.flags))return void tu(t,lc);e=t.return;var n=rl(t.alternate,t,dc);if(null!==n)return void(ac=n);if(null!==(t=t.sibling))return void(ac=t);ac=t=e}while(null!==t);0===hc&&(hc=5)}function tu(e,t){do{var n=al(e.alternate,e);if(null!==n)return n.flags&=32767,void(ac=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(ac=e);ac=e=n}while(null!==e);hc=6,ac=null}function nu(e,t,n,r,a,i,s,l,c){e.cancelPendingCommit=null;do{su()}while(0!==Nc);if(0!==(6&nc))throw Error(o(327));if(null!==t){if(t===e.current)throw Error(o(177));if(i=t.lanes|t.childLanes,function(e,t,n,r,a,i){var o=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var s=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(n=o&~n;0<n;){var u=31-fe(n),d=1<<u;s[u]=0,l[u]=-1;var h=c[u];if(null!==h)for(c[u]=null,u=0;u<h.length;u++){var f=h[u];null!==f&&(f.lane&=-536870913)}n&=~d}0!==r&&je(e,r,0),0!==i&&0===a&&0!==e.tag&&(e.suspendedLanes|=i&~(o&~t))}(e,n,i|=_r,s,l,c),e===rc&&(ac=rc=null,ic=0),_c=t,jc=e,Tc=n,Ac=i,Cc=a,Oc=r,0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?(e.callbackNode=null,e.callbackPriority=0,X(ie,function(){return lu(),null})):(e.callbackNode=null,e.callbackPriority=0),r=0!==(13878&t.flags),0!==(13878&t.subtreeFlags)||r){r=D.T,D.T=null,a=M.p,M.p=2,s=nc,nc|=4;try{!function(e,t){if(e=e.containerInfo,td=nh,tr(e=er(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var a=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch(g){n=null;break e}var s=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==a&&3!==h.nodeType||(l=s+a),h!==i||0!==r&&3!==h.nodeType||(c=s+r),3===h.nodeType&&(s+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===a&&(l=s),f===i&&++d===r&&(c=s),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(nd={focusedElem:e,selectionRange:n},nh=!1,Sl=t;null!==Sl;)if(e=(t=Sl).child,0!==(1024&t.subtreeFlags)&&null!==e)e.return=t,Sl=e;else for(;null!==Sl;){switch(i=(t=Sl).alternate,e=t.flags,t.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==i){e=void 0,n=t,a=i.memoizedProps,i=i.memoizedState,r=n.stateNode;try{var m=gs(n.type,a,(n.elementType,n.type));e=r.getSnapshotBeforeUpdate(m,i),r.__reactInternalSnapshotBeforeUpdate=e}catch(y){uu(n,n.return,y)}}break;case 3:if(0!==(1024&e))if(9===(n=(e=t.stateNode.containerInfo).nodeType))md(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":md(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(o(163))}if(null!==(e=t.sibling)){e.return=t.return,Sl=e;break}Sl=t.return}}(e,t)}finally{nc=s,M.p=a,D.T=r}}Nc=1,ru(),au(),iu()}}function ru(){if(1===Nc){Nc=0;var e=jc,t=_c,n=0!==(13878&t.flags);if(0!==(13878&t.subtreeFlags)||n){n=D.T,D.T=null;var r=M.p;M.p=2;var a=nc;nc|=4;try{Dl(t,e);var i=nd,o=er(e.containerInfo),s=i.focusedElem,l=i.selectionRange;if(o!==s&&s&&s.ownerDocument&&Zn(s.ownerDocument.documentElement,s)){if(null!==l&&tr(s)){var c=l.start,u=l.end;if(void 0===u&&(u=c),"selectionStart"in s)s.selectionStart=c,s.selectionEnd=Math.min(u,s.value.length);else{var d=s.ownerDocument||document,h=d&&d.defaultView||window;if(h.getSelection){var f=h.getSelection(),p=s.textContent.length,m=Math.min(l.start,p),g=void 0===l.end?m:Math.min(l.end,p);!f.extend&&m>g&&(o=g,g=m,m=o);var y=Jn(s,m),v=Jn(s,g);if(y&&v&&(1!==f.rangeCount||f.anchorNode!==y.node||f.anchorOffset!==y.offset||f.focusNode!==v.node||f.focusOffset!==v.offset)){var b=d.createRange();b.setStart(y.node,y.offset),f.removeAllRanges(),m>g?(f.addRange(b),f.extend(v.node,v.offset)):(b.setEnd(v.node,v.offset),f.addRange(b))}}}}for(d=[],f=s;f=f.parentNode;)1===f.nodeType&&d.push({element:f,left:f.scrollLeft,top:f.scrollTop});for("function"===typeof s.focus&&s.focus(),s=0;s<d.length;s++){var x=d[s];x.element.scrollLeft=x.left,x.element.scrollTop=x.top}}nh=!!td,nd=td=null}finally{nc=a,M.p=r,D.T=n}}e.current=t,Nc=2}}function au(){if(2===Nc){Nc=0;var e=jc,t=_c,n=0!==(8772&t.flags);if(0!==(8772&t.subtreeFlags)||n){n=D.T,D.T=null;var r=M.p;M.p=2;var a=nc;nc|=4;try{El(e,t.alternate,t)}finally{nc=a,M.p=r,D.T=n}}Nc=3}}function iu(){if(4===Nc||3===Nc){Nc=0,ee();var e=jc,t=_c,n=Tc,r=Oc;0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?Nc=5:(Nc=0,_c=jc=null,ou(e,e.pendingLanes));var a=e.pendingLanes;if(0===a&&(Ec=null),Ae(n),t=t.stateNode,de&&"function"===typeof de.onCommitFiberRoot)try{de.onCommitFiberRoot(ue,t,void 0,128===(128&t.current.flags))}catch(l){}if(null!==r){t=D.T,a=M.p,M.p=2,D.T=null;try{for(var i=e.onRecoverableError,o=0;o<r.length;o++){var s=r[o];i(s.value,{componentStack:s.stack})}}finally{D.T=t,M.p=a}}0!==(3&Tc)&&su(),ku(e),a=e.pendingLanes,0!==(4194090&n)&&0!==(42&a)?e===Pc?Ic++:(Ic=0,Pc=e):Ic=0,Su(0,!1)}}function ou(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Da(t)))}function su(e){return ru(),au(),iu(),lu()}function lu(){if(5!==Nc)return!1;var e=jc,t=Ac;Ac=0;var n=Ae(Tc),r=D.T,a=M.p;try{M.p=32>n?32:n,D.T=null,n=Cc,Cc=null;var i=jc,s=Tc;if(Nc=0,_c=jc=null,Tc=0,0!==(6&nc))throw Error(o(331));var l=nc;if(nc|=4,Xl(i.current),$l(i,i.current,s,n),nc=l,Su(0,!1),de&&"function"===typeof de.onPostCommitFiberRoot)try{de.onPostCommitFiberRoot(ue,i)}catch(c){}return!0}finally{M.p=a,D.T=r,ou(e,t)}}function cu(e,t,n){t=Er(n,t),null!==(e=ii(e,t=Ss(e.stateNode,t,2),2))&&(Ne(e,2),ku(e))}function uu(e,t,n){if(3===e.tag)cu(e,e,n);else for(;null!==t;){if(3===t.tag){cu(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ec||!Ec.has(r))){e=Er(n,e),null!==(r=ii(t,n=Es(2),2))&&(Ns(n,r,t,e),Ne(r,2),ku(r));break}}t=t.return}}function du(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new tc;var a=new Set;r.set(t,a)}else void 0===(a=r.get(t))&&(a=new Set,r.set(t,a));a.has(n)||(uc=!0,a.add(n),e=hu.bind(null,e,t,n),t.then(e,e))}function hu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,rc===e&&(ic&n)===n&&(4===hc||3===hc&&(62914560&ic)===ic&&300>te()-wc?0===(2&nc)&&$c(e,0):mc|=n,yc===ic&&(yc=0)),ku(e)}function fu(e,t){0===t&&(t=Se()),null!==(e=Or(e,t))&&(Ne(e,t),ku(e))}function pu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),fu(e,n)}function mu(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;null!==a&&(n=a.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(o(314))}null!==r&&r.delete(t),fu(e,n)}var gu=null,yu=null,vu=!1,bu=!1,xu=!1,wu=0;function ku(e){e!==yu&&null===e.next&&(null===yu?gu=yu=e:yu=yu.next=e),bu=!0,vu||(vu=!0,dd(function(){0!==(6&nc)?X(re,Eu):Nu()}))}function Su(e,t){if(!xu&&bu){xu=!0;do{for(var n=!1,r=gu;null!==r;){if(!t)if(0!==e){var a=r.pendingLanes;if(0===a)var i=0;else{var o=r.suspendedLanes,s=r.pingedLanes;i=(1<<31-fe(42|e)+1)-1,i=201326741&(i&=a&~(o&~s))?201326741&i|1:i?2|i:0}0!==i&&(n=!0,Tu(r,i))}else i=ic,0===(3&(i=be(r,r===rc?i:0,null!==r.cancelPendingCommit||-1!==r.timeoutHandle)))||xe(r,i)||(n=!0,Tu(r,i));r=r.next}}while(n);xu=!1}}function Eu(){Nu()}function Nu(){bu=vu=!1;var e=0;0!==wu&&(function(){var e=window.event;if(e&&"popstate"===e.type)return e!==sd&&(sd=e,!0);return sd=null,!1}()&&(e=wu),wu=0);for(var t=te(),n=null,r=gu;null!==r;){var a=r.next,i=ju(r,t);0===i?(r.next=null,null===n?gu=a:n.next=a,null===a&&(yu=n)):(n=r,(0!==e||0!==(3&i))&&(bu=!0)),r=a}Su(e,!1)}function ju(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,i=-62914561&e.pendingLanes;0<i;){var o=31-fe(i),s=1<<o,l=a[o];-1===l?0!==(s&n)&&0===(s&r)||(a[o]=we(s,t)):l<=t&&(e.expiredLanes|=s),i&=~s}if(n=ic,n=be(e,e===(t=rc)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),r=e.callbackNode,0===n||e===t&&(2===oc||9===oc)||null!==e.cancelPendingCommit)return null!==r&&null!==r&&J(r),e.callbackNode=null,e.callbackPriority=0;if(0===(3&n)||xe(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&J(r),Ae(n)){case 2:case 8:n=ae;break;case 32:default:n=ie;break;case 268435456:n=se}return r=_u.bind(null,e),n=X(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&J(r),e.callbackPriority=2,e.callbackNode=null,2}function _u(e,t){if(0!==Nc&&5!==Nc)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(su()&&e.callbackNode!==n)return null;var r=ic;return 0===(r=be(e,e===rc?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Lc(e,r,t),ju(e,te()),null!=e.callbackNode&&e.callbackNode===n?_u.bind(null,e):null)}function Tu(e,t){if(su())return null;Lc(e,t,!0)}function Au(){return 0===wu&&(wu=ke()),wu}function Cu(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:At(""+e)}function Ou(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Iu=0;Iu<wr.length;Iu++){var Pu=wr[Iu];kr(Pu.toLowerCase(),"on"+(Pu[0].toUpperCase()+Pu.slice(1)))}kr(fr,"onAnimationEnd"),kr(pr,"onAnimationIteration"),kr(mr,"onAnimationStart"),kr("dblclick","onDoubleClick"),kr("focusin","onFocus"),kr("focusout","onBlur"),kr(gr,"onTransitionRun"),kr(yr,"onTransitionStart"),kr(vr,"onTransitionCancel"),kr(br,"onTransitionEnd"),Ye("onMouseEnter",["mouseout","mouseover"]),Ye("onMouseLeave",["mouseout","mouseover"]),Ye("onPointerEnter",["pointerout","pointerover"]),Ye("onPointerLeave",["pointerout","pointerover"]),Ge("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ge("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ge("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ge("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ge("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ge("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Du="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mu=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Du));function Ru(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==i&&a.isPropagationStopped())break e;i=s,a.currentTarget=c;try{i(a)}catch(u){ys(u)}a.currentTarget=null,i=l}else for(o=0;o<r.length;o++){if(l=(s=r[o]).instance,c=s.currentTarget,s=s.listener,l!==i&&a.isPropagationStopped())break e;i=s,a.currentTarget=c;try{i(a)}catch(u){ys(u)}a.currentTarget=null,i=l}}}}function Lu(e,t){var n=t[Me];void 0===n&&(n=t[Me]=new Set);var r=e+"__bubble";n.has(r)||(Vu(t,e,2,!1),n.add(r))}function Fu(e,t,n){var r=0;t&&(r|=4),Vu(n,e,r,t)}var zu="_reactListening"+Math.random().toString(36).slice(2);function Uu(e){if(!e[zu]){e[zu]=!0,qe.forEach(function(t){"selectionchange"!==t&&(Mu.has(t)||Fu(t,!1,e),Fu(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zu]||(t[zu]=!0,Fu("selectionchange",!1,t))}}function Vu(e,t,n,r){switch(ch(t)){case 2:var a=rh;break;case 8:a=ah;break;default:a=ih}n=a.bind(null,t,n,e),a=void 0,!zt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),r?void 0!==a?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):void 0!==a?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function Bu(e,t,n,r,a){var i=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===a)break;if(4===o)for(o=r.return;null!==o;){var c=o.tag;if((3===c||4===c)&&o.stateNode.containerInfo===a)return;o=o.return}for(;null!==s;){if(null===(o=Ve(s)))return;if(5===(c=o.tag)||6===c||26===c||27===c){r=i=o;continue e}s=s.parentNode}}r=r.return}Rt(function(){var r=i,a=Ot(n),o=[];e:{var s=xr.get(e);if(void 0!==s){var c=Zt,u=e;switch(e){case"keypress":if(0===Kt(n))break e;case"keydown":case"keyup":c=mn;break;case"focusin":u="focus",c=on;break;case"focusout":u="blur",c=on;break;case"beforeblur":case"afterblur":c=on;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=rn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=an;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=yn;break;case fr:case pr:case mr:c=sn;break;case br:c=vn;break;case"scroll":case"scrollend":c=tn;break;case"wheel":c=bn;break;case"copy":case"cut":case"paste":c=ln;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=gn;break;case"toggle":case"beforetoggle":c=xn}var d=0!==(4&t),h=!d&&("scroll"===e||"scrollend"===e),f=d?null!==s?s+"Capture":null:s;d=[];for(var p,m=r;null!==m;){var g=m;if(p=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===p||null===f||null!=(g=Lt(m,f))&&d.push($u(m,g,p)),h)break;m=m.return}0<d.length&&(s=new c(s,u,null,n,a),o.push({event:s,listeners:d}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===Ct||!(u=n.relatedTarget||n.fromElement)||!Ve(u)&&!u[De])&&(c||s)&&(s=a.window===a?a:(s=a.ownerDocument)?s.defaultView||s.parentWindow:window,c?(c=r,null!==(u=(u=n.relatedTarget||n.toElement)?Ve(u):null)&&(h=l(u),d=u.tag,u!==h||5!==d&&27!==d&&6!==d)&&(u=null)):(c=null,u=r),c!==u)){if(d=rn,g="onMouseLeave",f="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(d=gn,g="onPointerLeave",f="onPointerEnter",m="pointer"),h=null==c?s:$e(c),p=null==u?s:$e(u),(s=new d(g,m+"leave",c,n,a)).target=h,s.relatedTarget=p,g=null,Ve(a)===r&&((d=new d(f,m+"enter",u,n,a)).target=p,d.relatedTarget=h,g=d),h=g,c&&u)e:{for(f=u,m=0,p=d=c;p;p=Ku(p))m++;for(p=0,g=f;g;g=Ku(g))p++;for(;0<m-p;)d=Ku(d),m--;for(;0<p-m;)f=Ku(f),p--;for(;m--;){if(d===f||null!==f&&d===f.alternate)break e;d=Ku(d),f=Ku(f)}d=null}else d=null;null!==c&&qu(o,s,c,d,!1),null!==u&&null!==h&&qu(o,h,u,d,!0)}if("select"===(c=(s=r?$e(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===c&&"file"===s.type)var y=Fn;else if(In(s))if(zn)y=Gn;else{y=qn;var v=Kn}else!(c=s.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==s.type&&"radio"!==s.type?r&&jt(r.elementType)&&(y=Fn):y=Wn;switch(y&&(y=y(e,r))?Pn(o,y,n,a):(v&&v(e,s,r),"focusout"===e&&r&&"number"===s.type&&null!=r.memoizedProps.value&&vt(s,"number",s.value)),v=r?$e(r):window,e){case"focusin":(In(v)||"true"===v.contentEditable)&&(rr=v,ar=r,ir=null);break;case"focusout":ir=ar=rr=null;break;case"mousedown":or=!0;break;case"contextmenu":case"mouseup":case"dragend":or=!1,sr(o,n,a);break;case"selectionchange":if(nr)break;case"keydown":case"keyup":sr(o,n,a)}var b;if(kn)e:{switch(e){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else Cn?Tn(e,n)&&(x="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(x="onCompositionStart");x&&(Nn&&"ko"!==n.locale&&(Cn||"onCompositionStart"!==x?"onCompositionEnd"===x&&Cn&&(b=Ht()):(Bt="value"in(Vt=a)?Vt.value:Vt.textContent,Cn=!0)),0<(v=Hu(r,x)).length&&(x=new cn(x,e,null,n,a),o.push({event:x,listeners:v}),b?x.data=b:null!==(b=An(n))&&(x.data=b))),(b=En?function(e,t){switch(e){case"compositionend":return An(t);case"keypress":return 32!==t.which?null:(_n=!0,jn);case"textInput":return(e=t.data)===jn&&_n?null:e;default:return null}}(e,n):function(e,t){if(Cn)return"compositionend"===e||!kn&&Tn(e,t)?(e=Ht(),$t=Bt=Vt=null,Cn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Nn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(x=Hu(r,"onBeforeInput")).length&&(v=new cn("onBeforeInput","beforeinput",null,n,a),o.push({event:v,listeners:x}),v.data=b)),function(e,t,n,r,a){if("submit"===t&&n&&n.stateNode===a){var i=Cu((a[Pe]||null).action),o=r.submitter;o&&null!==(t=(t=o[Pe]||null)?Cu(t.formAction):o.getAttribute("formAction"))&&(i=t,o=null);var s=new Zt("action","action",null,r,a);e.push({event:s,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==wu){var e=o?Ou(a,o):new FormData(a);Oo(n,{pending:!0,data:e,method:a.method,action:i},null,e)}}else"function"===typeof i&&(s.preventDefault(),e=o?Ou(a,o):new FormData(a),Oo(n,{pending:!0,data:e,method:a.method,action:i},i,e))},currentTarget:a}]})}}(o,e,r,n,a)}Ru(o,t)})}function $u(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Hu(e,t){for(var n=t+"Capture",r=[];null!==e;){var a=e,i=a.stateNode;if(5!==(a=a.tag)&&26!==a&&27!==a||null===i||(null!=(a=Lt(e,n))&&r.unshift($u(e,a,i)),null!=(a=Lt(e,t))&&r.push($u(e,a,i))),3===e.tag)return r;e=e.return}return[]}function Ku(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function qu(e,t,n,r,a){for(var i=t._reactName,o=[];null!==n&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(s=s.tag,null!==l&&l===r)break;5!==s&&26!==s&&27!==s||null===c||(l=c,a?null!=(c=Lt(n,i))&&o.unshift($u(n,c,l)):a||null!=(c=Lt(n,i))&&o.push($u(n,c,l))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Wu=/\r\n?/g,Gu=/\u0000|\uFFFD/g;function Yu(e){return("string"===typeof e?e:""+e).replace(Wu,"\n").replace(Gu,"")}function Qu(e,t){return t=Yu(t),Yu(e)===t}function Xu(){}function Ju(e,t,n,r,a,i){switch(n){case"children":"string"===typeof r?"body"===t||"textarea"===t&&""===r||kt(e,r):("number"===typeof r||"bigint"===typeof r)&&"body"!==t&&kt(e,""+r);break;case"className":nt(e,"class",r);break;case"tabIndex":nt(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":nt(e,n,r);break;case"style":Nt(e,r,i);break;case"data":if("object"!==t){nt(e,"data",r);break}case"src":case"href":if(""===r&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==r||"function"===typeof r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=At(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if("function"===typeof r){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof i&&("formAction"===n?("input"!==t&&Ju(e,t,"name",a.name,a,null),Ju(e,t,"formEncType",a.formEncType,a,null),Ju(e,t,"formMethod",a.formMethod,a,null),Ju(e,t,"formTarget",a.formTarget,a,null)):(Ju(e,t,"encType",a.encType,a,null),Ju(e,t,"method",a.method,a,null),Ju(e,t,"target",a.target,a,null))),null==r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=At(""+r),e.setAttribute(n,r);break;case"onClick":null!=r&&(e.onclick=Xu);break;case"onScroll":null!=r&&Lu("scroll",e);break;case"onScrollEnd":null!=r&&Lu("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(o(61));if(null!=(n=r.__html)){if(null!=a.children)throw Error(o(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"muted":e.muted=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==r||"function"===typeof r||"boolean"===typeof r||"symbol"===typeof r){e.removeAttribute("xlink:href");break}n=At(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===r?e.setAttribute(n,""):!1!==r&&null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!==typeof r&&"symbol"!==typeof r&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":null==r||"function"===typeof r||"symbol"===typeof r||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":Lu("beforetoggle",e),Lu("toggle",e),tt(e,"popover",r);break;case"xlinkActuate":rt(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":rt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":rt(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":rt(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":rt(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":rt(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":rt(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":rt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":rt(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":tt(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&tt(e,n=_t.get(n)||n,r)}}function Zu(e,t,n,r,a,i){switch(n){case"style":Nt(e,r,i);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(o(61));if(null!=(n=r.__html)){if(null!=a.children)throw Error(o(60));e.innerHTML=n}}break;case"children":"string"===typeof r?kt(e,r):("number"===typeof r||"bigint"===typeof r)&&kt(e,""+r);break;case"onScroll":null!=r&&Lu("scroll",e);break;case"onScrollEnd":null!=r&&Lu("scrollend",e);break;case"onClick":null!=r&&(e.onclick=Xu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:We.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(a=n.endsWith("Capture"),t=n.slice(2,a?n.length-7:void 0),"function"===typeof(i=null!=(i=e[Pe]||null)?i[n]:null)&&e.removeEventListener(t,i,a),"function"!==typeof r)?n in e?e[n]=r:!0===r?e.setAttribute(n,""):tt(e,n,r):("function"!==typeof i&&null!==i&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,a)))}}function ed(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Lu("error",e),Lu("load",e);var r,a=!1,i=!1;for(r in n)if(n.hasOwnProperty(r)){var s=n[r];if(null!=s)switch(r){case"src":a=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:Ju(e,t,r,s,n,null)}}return i&&Ju(e,t,"srcSet",n.srcSet,n,null),void(a&&Ju(e,t,"src",n.src,n,null));case"input":Lu("invalid",e);var l=r=s=i=null,c=null,u=null;for(a in n)if(n.hasOwnProperty(a)){var d=n[a];if(null!=d)switch(a){case"name":i=d;break;case"type":s=d;break;case"checked":c=d;break;case"defaultChecked":u=d;break;case"value":r=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(o(137,t));break;default:Ju(e,t,a,d,n,null)}}return yt(e,r,l,c,u,s,i,!1),void dt(e);case"select":for(i in Lu("invalid",e),a=s=r=null,n)if(n.hasOwnProperty(i)&&null!=(l=n[i]))switch(i){case"value":r=l;break;case"defaultValue":s=l;break;case"multiple":a=l;default:Ju(e,t,i,l,n,null)}return t=r,n=s,e.multiple=!!a,void(null!=t?bt(e,!!a,t,!1):null!=n&&bt(e,!!a,n,!0));case"textarea":for(s in Lu("invalid",e),r=i=a=null,n)if(n.hasOwnProperty(s)&&null!=(l=n[s]))switch(s){case"value":a=l;break;case"defaultValue":i=l;break;case"children":r=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(o(91));break;default:Ju(e,t,s,l,n,null)}return wt(e,a,i,r),void dt(e);case"option":for(c in n)if(n.hasOwnProperty(c)&&null!=(a=n[c]))if("selected"===c)e.selected=a&&"function"!==typeof a&&"symbol"!==typeof a;else Ju(e,t,c,a,n,null);return;case"dialog":Lu("beforetoggle",e),Lu("toggle",e),Lu("cancel",e),Lu("close",e);break;case"iframe":case"object":Lu("load",e);break;case"video":case"audio":for(a=0;a<Du.length;a++)Lu(Du[a],e);break;case"image":Lu("error",e),Lu("load",e);break;case"details":Lu("toggle",e);break;case"embed":case"source":case"link":Lu("error",e),Lu("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&null!=(a=n[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:Ju(e,t,u,a,n,null)}return;default:if(jt(t)){for(d in n)n.hasOwnProperty(d)&&(void 0!==(a=n[d])&&Zu(e,t,d,a,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(null!=(a=n[l])&&Ju(e,t,l,a,n,null))}var td=null,nd=null;function rd(e){return 9===e.nodeType?e:e.ownerDocument}function ad(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function id(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function od(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var sd=null;var ld="function"===typeof setTimeout?setTimeout:void 0,cd="function"===typeof clearTimeout?clearTimeout:void 0,ud="function"===typeof Promise?Promise:void 0,dd="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ud?function(e){return ud.resolve(null).then(e).catch(hd)}:ld;function hd(e){setTimeout(function(){throw e})}function fd(e){return"head"===e}function pd(e,t){var n=t,r=0,a=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0<r&&8>r){n=r;var o=e.ownerDocument;if(1&n&&wd(o.documentElement),2&n&&wd(o.body),4&n)for(wd(n=o.head),o=n.firstChild;o;){var s=o.nextSibling,l=o.nodeName;o[ze]||"SCRIPT"===l||"STYLE"===l||"LINK"===l&&"stylesheet"===o.rel.toLowerCase()||n.removeChild(o),o=s}}if(0===a)return e.removeChild(i),void _h(t);a--}else"$"===n||"$?"===n||"$!"===n?a++:r=n.charCodeAt(0)-48;else r=0;n=i}while(n);_h(t)}function md(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":md(n),Ue(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function gd(e){return"$!"===e.data||"$?"===e.data&&"complete"===e.ownerDocument.readyState}function yd(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"F!"===t||"F"===t)break;if("/$"===t)return null}}return e}var vd=null;function bd(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}function xd(e,t,n){switch(t=rd(n),e){case"html":if(!(e=t.documentElement))throw Error(o(452));return e;case"head":if(!(e=t.head))throw Error(o(453));return e;case"body":if(!(e=t.body))throw Error(o(454));return e;default:throw Error(o(451))}}function wd(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Ue(e)}var kd=new Map,Sd=new Set;function Ed(e){return"function"===typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Nd=M.d;M.d={f:function(){var e=Nd.f(),t=Vc();return e||t},r:function(e){var t=Be(e);null!==t&&5===t.tag&&"form"===t.type?Po(t):Nd.r(e)},D:function(e){Nd.D(e),_d("dns-prefetch",e,null)},C:function(e,t){Nd.C(e,t),_d("preconnect",e,t)},L:function(e,t,n){Nd.L(e,t,n);var r=jd;if(r&&e&&t){var a='link[rel="preload"][as="'+mt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(a+='[imagesrcset="'+mt(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(a+='[imagesizes="'+mt(n.imageSizes)+'"]')):a+='[href="'+mt(e)+'"]';var i=a;switch(t){case"style":i=Ad(e);break;case"script":i=Id(e)}kd.has(i)||(e=h({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),kd.set(i,e),null!==r.querySelector(a)||"style"===t&&r.querySelector(Cd(i))||"script"===t&&r.querySelector(Pd(i))||(ed(t=r.createElement("link"),"link",e),Ke(t),r.head.appendChild(t)))}},m:function(e,t){Nd.m(e,t);var n=jd;if(n&&e){var r=t&&"string"===typeof t.as?t.as:"script",a='link[rel="modulepreload"][as="'+mt(r)+'"][href="'+mt(e)+'"]',i=a;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=Id(e)}if(!kd.has(i)&&(e=h({rel:"modulepreload",href:e},t),kd.set(i,e),null===n.querySelector(a))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Pd(i)))return}ed(r=n.createElement("link"),"link",e),Ke(r),n.head.appendChild(r)}}},X:function(e,t){Nd.X(e,t);var n=jd;if(n&&e){var r=He(n).hoistableScripts,a=Id(e),i=r.get(a);i||((i=n.querySelector(Pd(a)))||(e=h({src:e,async:!0},t),(t=kd.get(a))&&Ld(e,t),Ke(i=n.createElement("script")),ed(i,"link",e),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},r.set(a,i))}},S:function(e,t,n){Nd.S(e,t,n);var r=jd;if(r&&e){var a=He(r).hoistableStyles,i=Ad(e);t=t||"default";var o=a.get(i);if(!o){var s={loading:0,preload:null};if(o=r.querySelector(Cd(i)))s.loading=5;else{e=h({rel:"stylesheet",href:e,"data-precedence":t},n),(n=kd.get(i))&&Rd(e,n);var l=o=r.createElement("link");Ke(l),ed(l,"link",e),l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),l.addEventListener("load",function(){s.loading|=1}),l.addEventListener("error",function(){s.loading|=2}),s.loading|=4,Md(o,t,r)}o={type:"stylesheet",instance:o,count:1,state:s},a.set(i,o)}}},M:function(e,t){Nd.M(e,t);var n=jd;if(n&&e){var r=He(n).hoistableScripts,a=Id(e),i=r.get(a);i||((i=n.querySelector(Pd(a)))||(e=h({src:e,async:!0,type:"module"},t),(t=kd.get(a))&&Ld(e,t),Ke(i=n.createElement("script")),ed(i,"link",e),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},r.set(a,i))}}};var jd="undefined"===typeof document?null:document;function _d(e,t,n){var r=jd;if(r&&"string"===typeof t&&t){var a=mt(t);a='link[rel="'+e+'"][href="'+a+'"]',"string"===typeof n&&(a+='[crossorigin="'+n+'"]'),Sd.has(a)||(Sd.add(a),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(a)&&(ed(t=r.createElement("link"),"link",e),Ke(t),r.head.appendChild(t)))}}function Td(e,t,n,r){var a,i,s,l,c=(c=H.current)?Ed(c):null;if(!c)throw Error(o(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(t=Ad(n.href),(r=(n=He(c).hoistableStyles).get(t))||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){e=Ad(n.href);var u=He(c).hoistableStyles,d=u.get(e);if(d||(c=c.ownerDocument||c,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,d),(u=c.querySelector(Cd(e)))&&!u._p&&(d.instance=u,d.state.loading=5),kd.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},kd.set(e,n),u||(a=c,i=e,s=n,l=d.state,a.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=a.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),ed(i,"link",s),Ke(i),a.head.appendChild(i))))),t&&null===r)throw Error(o(528,""));return d}if(t&&null!==r)throw Error(o(529,""));return null;case"script":return t=n.async,"string"===typeof(n=n.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=Id(n),(r=(n=He(c).hoistableScripts).get(t))||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,e))}}function Ad(e){return'href="'+mt(e)+'"'}function Cd(e){return'link[rel="stylesheet"]['+e+"]"}function Od(e){return h({},e,{"data-precedence":e.precedence,precedence:null})}function Id(e){return'[src="'+mt(e)+'"]'}function Pd(e){return"script[async]"+e}function Dd(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+mt(n.href)+'"]');if(r)return t.instance=r,Ke(r),r;var a=h({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return Ke(r=(e.ownerDocument||e).createElement("style")),ed(r,"style",a),Md(r,n.precedence,e),t.instance=r;case"stylesheet":a=Ad(n.href);var i=e.querySelector(Cd(a));if(i)return t.state.loading|=4,t.instance=i,Ke(i),i;r=Od(n),(a=kd.get(a))&&Rd(r,a),Ke(i=(e.ownerDocument||e).createElement("link"));var s=i;return s._p=new Promise(function(e,t){s.onload=e,s.onerror=t}),ed(i,"link",r),t.state.loading|=4,Md(i,n.precedence,e),t.instance=i;case"script":return i=Id(n.src),(a=e.querySelector(Pd(i)))?(t.instance=a,Ke(a),a):(r=n,(a=kd.get(i))&&Ld(r=h({},n),a),Ke(a=(e=e.ownerDocument||e).createElement("script")),ed(a,"link",r),e.head.appendChild(a),t.instance=a);case"void":return null;default:throw Error(o(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(r=t.instance,t.state.loading|=4,Md(r,n.precedence,e));return t.instance}function Md(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),a=r.length?r[r.length-1]:null,i=a,o=0;o<r.length;o++){var s=r[o];if(s.dataset.precedence===t)i=s;else if(i!==a)break}i?i.parentNode.insertBefore(e,i.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function Rd(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function Ld(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var Fd=null;function zd(e,t,n){if(null===Fd){var r=new Map,a=Fd=new Map;a.set(n,r)}else(r=(a=Fd).get(n))||(r=new Map,a.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),a=0;a<n.length;a++){var i=n[a];if(!(i[ze]||i[Ie]||"link"===e&&"stylesheet"===i.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==i.namespaceURI){var o=i.getAttribute(t)||"";o=e+o;var s=r.get(o);s?s.push(i):r.set(o,[i])}}return r}function Ud(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function Vd(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var Bd=null;function $d(){}function Hd(){if(this.count--,0===this.count)if(this.stylesheets)qd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var Kd=null;function qd(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,Kd=new Map,t.forEach(Wd,e),Kd=null,Hd.call(e))}function Wd(e,t){if(!(4&t.state.loading)){var n=Kd.get(e);if(n)var r=n.get(null);else{n=new Map,Kd.set(e,n);for(var a=e.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<a.length;i++){var o=a[i];"LINK"!==o.nodeName&&"not all"===o.getAttribute("media")||(n.set(o.dataset.precedence,o),r=o)}r&&n.set(null,r)}o=(a=t.instance).getAttribute("data-precedence"),(i=n.get(o)||r)===r&&n.set(null,a),n.set(o,a),this.count++,r=Hd.bind(this),a.addEventListener("load",r),a.addEventListener("error",r),i?i.parentNode.insertBefore(a,i.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(a,e.firstChild),t.state.loading|=4}}var Gd={$$typeof:w,Provider:null,Consumer:null,_currentValue:R,_currentValue2:R,_threadCount:0};function Yd(e,t,n,r,a,i,o,s){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ee(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ee(0),this.hiddenUpdates=Ee(null),this.identifierPrefix=r,this.onUncaughtError=a,this.onCaughtError=i,this.onRecoverableError=o,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=s,this.incompleteTransitions=new Map}function Qd(e,t,n,r,a,i,o,s,l,c,u,d){return e=new Yd(e,t,n,o,s,l,c,d),t=1,!0===i&&(t|=24),i=Rr(3,null,null,t),e.current=i,i.stateNode=e,(t=Pa()).refCount++,e.pooledCache=t,t.refCount++,i.memoizedState={element:r,isDehydrated:n,cache:t},ni(i),e}function Xd(e){return e?e=Dr:Dr}function Jd(e,t,n,r,a,i){a=Xd(a),null===r.context?r.context=a:r.pendingContext=a,(r=ai(t)).payload={element:n},null!==(i=void 0===i?null:i)&&(r.callback=i),null!==(n=ii(e,r,t))&&(Rc(n,0,t),oi(n,e,t))}function Zd(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function eh(e,t){Zd(e,t),(e=e.alternate)&&Zd(e,t)}function th(e){if(13===e.tag){var t=Or(e,67108864);null!==t&&Rc(t,0,67108864),eh(e,67108864)}}var nh=!0;function rh(e,t,n,r){var a=D.T;D.T=null;var i=M.p;try{M.p=2,ih(e,t,n,r)}finally{M.p=i,D.T=a}}function ah(e,t,n,r){var a=D.T;D.T=null;var i=M.p;try{M.p=8,ih(e,t,n,r)}finally{M.p=i,D.T=a}}function ih(e,t,n,r){if(nh){var a=oh(r);if(null===a)Bu(e,t,r,sh,n),vh(e,r);else if(function(e,t,n,r,a){switch(t){case"focusin":return dh=bh(dh,e,t,n,r,a),!0;case"dragenter":return hh=bh(hh,e,t,n,r,a),!0;case"mouseover":return fh=bh(fh,e,t,n,r,a),!0;case"pointerover":var i=a.pointerId;return ph.set(i,bh(ph.get(i)||null,e,t,n,r,a)),!0;case"gotpointercapture":return i=a.pointerId,mh.set(i,bh(mh.get(i)||null,e,t,n,r,a)),!0}return!1}(a,e,t,n,r))r.stopPropagation();else if(vh(e,r),4&t&&-1<yh.indexOf(e)){for(;null!==a;){var i=Be(a);if(null!==i)switch(i.tag){case 3:if((i=i.stateNode).current.memoizedState.isDehydrated){var o=ve(i.pendingLanes);if(0!==o){var s=i;for(s.pendingLanes|=2,s.entangledLanes|=2;o;){var l=1<<31-fe(o);s.entanglements[1]|=l,o&=~l}ku(i),0===(6&nc)&&(kc=te()+500,Su(0,!1))}}break;case 13:null!==(s=Or(i,2))&&Rc(s,0,2),Vc(),eh(i,2)}if(null===(i=oh(r))&&Bu(e,t,r,sh,n),i===a)break;a=i}null!==a&&r.stopPropagation()}else Bu(e,t,r,null,n)}}function oh(e){return lh(e=Ot(e))}var sh=null;function lh(e){if(sh=null,null!==(e=Ve(e))){var t=l(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=c(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return sh=e,null}function ch(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ne()){case re:return 2;case ae:return 8;case ie:case oe:return 32;case se:return 268435456;default:return 32}default:return 32}}var uh=!1,dh=null,hh=null,fh=null,ph=new Map,mh=new Map,gh=[],yh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function vh(e,t){switch(e){case"focusin":case"focusout":dh=null;break;case"dragenter":case"dragleave":hh=null;break;case"mouseover":case"mouseout":fh=null;break;case"pointerover":case"pointerout":ph.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":mh.delete(t.pointerId)}}function bh(e,t,n,r,a,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[a]},null!==t&&(null!==(t=Be(t))&&th(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function xh(e){var t=Ve(e.target);if(null!==t){var n=l(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=c(n)))return e.blockedOn=t,void function(e,t){var n=M.p;try{return M.p=e,t()}finally{M.p=n}}(e.priority,function(){if(13===n.tag){var e=Dc();e=Te(e);var t=Or(n,e);null!==t&&Rc(t,0,e),eh(n,e)}})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function wh(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=oh(e.nativeEvent);if(null!==n)return null!==(t=Be(n))&&th(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);Ct=r,n.target.dispatchEvent(r),Ct=null,t.shift()}return!0}function kh(e,t,n){wh(e)&&n.delete(t)}function Sh(){uh=!1,null!==dh&&wh(dh)&&(dh=null),null!==hh&&wh(hh)&&(hh=null),null!==fh&&wh(fh)&&(fh=null),ph.forEach(kh),mh.forEach(kh)}function Eh(e,t){e.blockedOn===t&&(e.blockedOn=null,uh||(uh=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Sh)))}var Nh=null;function jh(e){Nh!==e&&(Nh=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Nh===e&&(Nh=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],a=e[t+2];if("function"!==typeof r){if(null===lh(r||n))continue;break}var i=Be(n);null!==i&&(e.splice(t,3),t-=3,Oo(i,{pending:!0,data:a,method:n.method,action:r},r,a))}}))}function _h(e){function t(t){return Eh(t,e)}null!==dh&&Eh(dh,e),null!==hh&&Eh(hh,e),null!==fh&&Eh(fh,e),ph.forEach(t),mh.forEach(t);for(var n=0;n<gh.length;n++){var r=gh[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<gh.length&&null===(n=gh[0]).blockedOn;)xh(n),null===n.blockedOn&&gh.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var a=n[r],i=n[r+1],o=a[Pe]||null;if("function"===typeof i)o||jh(n);else if(o){var s=null;if(i&&i.hasAttribute("formAction")){if(a=i,o=i[Pe]||null)s=o.formAction;else if(null!==lh(a))continue}else s=o.action;"function"===typeof s?n[r+1]=s:(n.splice(r,3),r-=3),jh(n)}}}function Th(e){this._internalRoot=e}function Ah(e){this._internalRoot=e}Ah.prototype.render=Th.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Jd(t.current,Dc(),e,t,null,null)},Ah.prototype.unmount=Th.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;Jd(e.current,2,null,e,null,null),Vc(),t[De]=null}},Ah.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ce();e={blockedOn:null,target:e,priority:t};for(var n=0;n<gh.length&&0!==t&&t<gh[n].priority;n++);gh.splice(n,0,e),0===n&&xh(e)}};var Ch=a.version;if("19.1.0"!==Ch)throw Error(o(527,Ch,"19.1.0"));M.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=l(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(null===a)break;var i=a.alternate;if(null===i){if(null!==(r=a.return)){n=r;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===n)return u(a),e;if(i===r)return u(a),t;i=i.sibling}throw Error(o(188))}if(n.return!==r.return)n=a,r=i;else{for(var s=!1,c=a.child;c;){if(c===n){s=!0,n=a,r=i;break}if(c===r){s=!0,r=a,n=i;break}c=c.sibling}if(!s){for(c=i.child;c;){if(c===n){s=!0,n=i,r=a;break}if(c===r){s=!0,r=i,n=a;break}c=c.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?d(e):null)?null:e.stateNode};var Oh={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:D,reconcilerVersion:"19.1.0"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Ih=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ih.isDisabled&&Ih.supportsFiber)try{ue=Ih.inject(Oh),de=Ih}catch(Dh){}}t.createRoot=function(e,t){if(!s(e))throw Error(o(299));var n=!1,r="",a=vs,i=bs,l=xs;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onUncaughtError&&(a=t.onUncaughtError),void 0!==t.onCaughtError&&(i=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&t.unstable_transitionCallbacks),t=Qd(e,1,!1,null,0,n,r,a,i,l,0,null),e[De]=t.current,Uu(e),new Th(t)},t.hydrateRoot=function(e,t,n){if(!s(e))throw Error(o(299));var r=!1,a="",i=vs,l=bs,c=xs,u=null;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onUncaughtError&&(i=n.onUncaughtError),void 0!==n.onCaughtError&&(l=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.unstable_transitionCallbacks&&n.unstable_transitionCallbacks,void 0!==n.formState&&(u=n.formState)),(t=Qd(e,1,!0,t,0,r,a,i,l,c,0,u)).context=Xd(null),n=t.current,(a=ai(r=Te(r=Dc()))).callback=null,ii(n,a,r),n=r,t.current.lanes=n,Ne(t,n),ku(t),e[De]=t.current,Uu(e),new Ah(t)},t.version="19.1.0"},7043:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(2777),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,i=/^\w*$/;t.isKey=function(e,t){return!Array.isArray(e)&&(!("number"!==typeof e&&"boolean"!==typeof e&&null!=e&&!r.isSymbol(e))||("string"===typeof e&&(i.test(e)||!a.test(e))||null!=t&&Object.hasOwn(t,e)))}},7231:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(3799),a=n(4879);t.range=function(e,t,n){n&&"number"!==typeof n&&r.isIterateeCall(e,t,n)&&(t=n=void 0),e=a.toFinite(e),void 0===t?(t=e,e=0):t=a.toFinite(t),n=void 0===n?e<t?1:-1:a.toFinite(n);const i=Math.max(Math.ceil((t-e)/(n||1)),0),o=new Array(i);for(let r=0;r<i;r++)o[r]=e,e+=n;return o}},7237:(e,t,n)=>{"use strict";n(8365)},7260:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isUnsafeProperty=function(e){return"__proto__"===e}},7312:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.flatten=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;const n=[],r=Math.floor(t),a=(e,t)=>{for(let i=0;i<e.length;i++){const o=e[i];Array.isArray(o)&&t<r?a(o,t+1):n.push(o)}};return a(e,0),n}},7330:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(9323);t.property=function(e){return function(t){return r.get(t,e)}}},7599:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});t.argumentsTag="[object Arguments]",t.arrayBufferTag="[object ArrayBuffer]",t.arrayTag="[object Array]",t.bigInt64ArrayTag="[object BigInt64Array]",t.bigUint64ArrayTag="[object BigUint64Array]",t.booleanTag="[object Boolean]",t.dataViewTag="[object DataView]",t.dateTag="[object Date]",t.errorTag="[object Error]",t.float32ArrayTag="[object Float32Array]",t.float64ArrayTag="[object Float64Array]",t.functionTag="[object Function]",t.int16ArrayTag="[object Int16Array]",t.int32ArrayTag="[object Int32Array]",t.int8ArrayTag="[object Int8Array]",t.mapTag="[object Map]",t.numberTag="[object Number]",t.objectTag="[object Object]",t.regexpTag="[object RegExp]",t.setTag="[object Set]",t.stringTag="[object String]",t.symbolTag="[object Symbol]",t.uint16ArrayTag="[object Uint16Array]",t.uint32ArrayTag="[object Uint32Array]",t.uint8ArrayTag="[object Uint8Array]",t.uint8ClampedArrayTag="[object Uint8ClampedArray]"},7770:(e,t,n)=>{e.exports=n(9323).get},7820:(e,t,n)=>{e.exports=n(5414).throttle},7950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(6672)},8182:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(9330),a=n(4737);t.isEqual=function(e,t){return r.isEqualWith(e,t,a.noop)}},8210:function(e,t,n){var r;!function(){"use strict";var a,i=1e9,o={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},s=!0,l="[DecimalError] ",c=l+"Invalid argument: ",u=l+"Exponent out of range: ",d=Math.floor,h=Math.pow,f=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,p=1e7,m=9007199254740991,g=d(1286742750677284.5),y={};function v(e,t){var n,r,a,i,o,l,c,u,d=e.constructor,h=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),s?T(t,h):t;if(c=e.d,u=t.d,o=e.e,a=t.e,c=c.slice(),i=o-a){for(i<0?(r=c,i=-i,l=u.length):(r=u,a=o,l=c.length),i>(l=(o=Math.ceil(h/7))>l?o+1:l+1)&&(i=l,r.length=1),r.reverse();i--;)r.push(0);r.reverse()}for((l=c.length)-(i=u.length)<0&&(i=l,r=u,u=c,c=r),n=0;i;)n=(c[--i]=c[i]+u[i]+n)/p|0,c[i]%=p;for(n&&(c.unshift(n),++a),l=c.length;0==c[--l];)c.pop();return t.d=c,t.e=a,s?T(t,h):t}function b(e,t,n){if(e!==~~e||e<t||e>n)throw Error(c+e)}function x(e){var t,n,r,a=e.length-1,i="",o=e[0];if(a>0){for(i+=o,t=1;t<a;t++)(n=7-(r=e[t]+"").length)&&(i+=N(n)),i+=r;(n=7-(r=(o=e[t])+"").length)&&(i+=N(n))}else if(0===o)return"0";for(;o%10===0;)o/=10;return i+o}y.absoluteValue=y.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e},y.comparedTo=y.cmp=function(e){var t,n,r,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(t=0,n=(r=i.d.length)<(a=e.d.length)?r:a;t<n;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return r===a?0:r>a^i.s<0?1:-1},y.decimalPlaces=y.dp=function(){var e=this,t=e.d.length-1,n=7*(t-e.e);if(t=e.d[t])for(;t%10==0;t/=10)n--;return n<0?0:n},y.dividedBy=y.div=function(e){return w(this,new this.constructor(e))},y.dividedToIntegerBy=y.idiv=function(e){var t=this.constructor;return T(w(this,new t(e),0,1),t.precision)},y.equals=y.eq=function(e){return!this.cmp(e)},y.exponent=function(){return S(this)},y.greaterThan=y.gt=function(e){return this.cmp(e)>0},y.greaterThanOrEqualTo=y.gte=function(e){return this.cmp(e)>=0},y.isInteger=y.isint=function(){return this.e>this.d.length-2},y.isNegative=y.isneg=function(){return this.s<0},y.isPositive=y.ispos=function(){return this.s>0},y.isZero=function(){return 0===this.s},y.lessThan=y.lt=function(e){return this.cmp(e)<0},y.lessThanOrEqualTo=y.lte=function(e){return this.cmp(e)<1},y.logarithm=y.log=function(e){var t,n=this,r=n.constructor,i=r.precision,o=i+5;if(void 0===e)e=new r(10);else if((e=new r(e)).s<1||e.eq(a))throw Error(l+"NaN");if(n.s<1)throw Error(l+(n.s?"NaN":"-Infinity"));return n.eq(a)?new r(0):(s=!1,t=w(j(n,o),j(e,o),o),s=!0,T(t,i))},y.minus=y.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?A(t,e):v(t,(e.s=-e.s,e))},y.modulo=y.mod=function(e){var t,n=this,r=n.constructor,a=r.precision;if(!(e=new r(e)).s)throw Error(l+"NaN");return n.s?(s=!1,t=w(n,e,0,1).times(e),s=!0,n.minus(t)):T(new r(n),a)},y.naturalExponential=y.exp=function(){return k(this)},y.naturalLogarithm=y.ln=function(){return j(this)},y.negated=y.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e},y.plus=y.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?v(t,e):A(t,(e.s=-e.s,e))},y.precision=y.sd=function(e){var t,n,r,a=this;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(c+e);if(t=S(a)+1,n=7*(r=a.d.length-1)+1,r=a.d[r]){for(;r%10==0;r/=10)n--;for(r=a.d[0];r>=10;r/=10)n++}return e&&t>n?t:n},y.squareRoot=y.sqrt=function(){var e,t,n,r,a,i,o,c=this,u=c.constructor;if(c.s<1){if(!c.s)return new u(0);throw Error(l+"NaN")}for(e=S(c),s=!1,0==(a=Math.sqrt(+c))||a==1/0?(((t=x(c.d)).length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=d((e+1)/2)-(e<0||e%2),r=new u(t=a==1/0?"5e"+e:(t=a.toExponential()).slice(0,t.indexOf("e")+1)+e)):r=new u(a.toString()),a=o=(n=u.precision)+3;;)if(r=(i=r).plus(w(c,i,o+2)).times(.5),x(i.d).slice(0,o)===(t=x(r.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&"4999"==t){if(T(i,n+1,0),i.times(i).eq(c)){r=i;break}}else if("9999"!=t)break;o+=4}return s=!0,T(r,n)},y.times=y.mul=function(e){var t,n,r,a,i,o,l,c,u,d=this,h=d.constructor,f=d.d,m=(e=new h(e)).d;if(!d.s||!e.s)return new h(0);for(e.s*=d.s,n=d.e+e.e,(c=f.length)<(u=m.length)&&(i=f,f=m,m=i,o=c,c=u,u=o),i=[],r=o=c+u;r--;)i.push(0);for(r=u;--r>=0;){for(t=0,a=c+r;a>r;)l=i[a]+m[r]*f[a-r-1]+t,i[a--]=l%p|0,t=l/p|0;i[a]=(i[a]+t)%p|0}for(;!i[--o];)i.pop();return t?++n:i.shift(),e.d=i,e.e=n,s?T(e,h.precision):e},y.toDecimalPlaces=y.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),void 0===e?n:(b(e,0,i),void 0===t?t=r.rounding:b(t,0,8),T(n,e+S(n)+1,t))},y.toExponential=function(e,t){var n,r=this,a=r.constructor;return void 0===e?n=C(r,!0):(b(e,0,i),void 0===t?t=a.rounding:b(t,0,8),n=C(r=T(new a(r),e+1,t),!0,e+1)),n},y.toFixed=function(e,t){var n,r,a=this,o=a.constructor;return void 0===e?C(a):(b(e,0,i),void 0===t?t=o.rounding:b(t,0,8),n=C((r=T(new o(a),e+S(a)+1,t)).abs(),!1,e+S(r)+1),a.isneg()&&!a.isZero()?"-"+n:n)},y.toInteger=y.toint=function(){var e=this,t=e.constructor;return T(new t(e),S(e)+1,t.rounding)},y.toNumber=function(){return+this},y.toPower=y.pow=function(e){var t,n,r,i,o,c,u=this,h=u.constructor,f=+(e=new h(e));if(!e.s)return new h(a);if(!(u=new h(u)).s){if(e.s<1)throw Error(l+"Infinity");return u}if(u.eq(a))return u;if(r=h.precision,e.eq(a))return T(u,r);if(c=(t=e.e)>=(n=e.d.length-1),o=u.s,c){if((n=f<0?-f:f)<=m){for(i=new h(a),t=Math.ceil(r/7+4),s=!1;n%2&&O((i=i.times(u)).d,t),0!==(n=d(n/2));)O((u=u.times(u)).d,t);return s=!0,e.s<0?new h(a).div(i):T(i,r)}}else if(o<0)throw Error(l+"NaN");return o=o<0&&1&e.d[Math.max(t,n)]?-1:1,u.s=1,s=!1,i=e.times(j(u,r+12)),s=!0,(i=k(i)).s=o,i},y.toPrecision=function(e,t){var n,r,a=this,o=a.constructor;return void 0===e?r=C(a,(n=S(a))<=o.toExpNeg||n>=o.toExpPos):(b(e,1,i),void 0===t?t=o.rounding:b(t,0,8),r=C(a=T(new o(a),e,t),e<=(n=S(a))||n<=o.toExpNeg,e)),r},y.toSignificantDigits=y.tosd=function(e,t){var n=this.constructor;return void 0===e?(e=n.precision,t=n.rounding):(b(e,1,i),void 0===t?t=n.rounding:b(t,0,8)),T(new n(this),e,t)},y.toString=y.valueOf=y.val=y.toJSON=function(){var e=this,t=S(e),n=e.constructor;return C(e,t<=n.toExpNeg||t>=n.toExpPos)};var w=function(){function e(e,t){var n,r=0,a=e.length;for(e=e.slice();a--;)n=e[a]*t+r,e[a]=n%p|0,r=n/p|0;return r&&e.unshift(r),e}function t(e,t,n,r){var a,i;if(n!=r)i=n>r?1:-1;else for(a=i=0;a<n;a++)if(e[a]!=t[a]){i=e[a]>t[a]?1:-1;break}return i}function n(e,t,n){for(var r=0;n--;)e[n]-=r,r=e[n]<t[n]?1:0,e[n]=r*p+e[n]-t[n];for(;!e[0]&&e.length>1;)e.shift()}return function(r,a,i,o){var s,c,u,d,h,f,m,g,y,v,b,x,w,k,E,N,j,_,A=r.constructor,C=r.s==a.s?1:-1,O=r.d,I=a.d;if(!r.s)return new A(r);if(!a.s)throw Error(l+"Division by zero");for(c=r.e-a.e,j=I.length,E=O.length,g=(m=new A(C)).d=[],u=0;I[u]==(O[u]||0);)++u;if(I[u]>(O[u]||0)&&--c,(x=null==i?i=A.precision:o?i+(S(r)-S(a))+1:i)<0)return new A(0);if(x=x/7+2|0,u=0,1==j)for(d=0,I=I[0],x++;(u<E||d)&&x--;u++)w=d*p+(O[u]||0),g[u]=w/I|0,d=w%I|0;else{for((d=p/(I[0]+1)|0)>1&&(I=e(I,d),O=e(O,d),j=I.length,E=O.length),k=j,v=(y=O.slice(0,j)).length;v<j;)y[v++]=0;(_=I.slice()).unshift(0),N=I[0],I[1]>=p/2&&++N;do{d=0,(s=t(I,y,j,v))<0?(b=y[0],j!=v&&(b=b*p+(y[1]||0)),(d=b/N|0)>1?(d>=p&&(d=p-1),1==(s=t(h=e(I,d),y,f=h.length,v=y.length))&&(d--,n(h,j<f?_:I,f))):(0==d&&(s=d=1),h=I.slice()),(f=h.length)<v&&h.unshift(0),n(y,h,v),-1==s&&(s=t(I,y,j,v=y.length))<1&&(d++,n(y,j<v?_:I,v)),v=y.length):0===s&&(d++,y=[0]),g[u++]=d,s&&y[0]?y[v++]=O[k]||0:(y=[O[k]],v=1)}while((k++<E||void 0!==y[0])&&x--)}return g[0]||g.shift(),m.e=c,T(m,o?i+S(m)+1:i)}}();function k(e,t){var n,r,i,o,l,c=0,d=0,f=e.constructor,p=f.precision;if(S(e)>16)throw Error(u+S(e));if(!e.s)return new f(a);for(null==t?(s=!1,l=p):l=t,o=new f(.03125);e.abs().gte(.1);)e=e.times(o),d+=5;for(l+=Math.log(h(2,d))/Math.LN10*2+5|0,n=r=i=new f(a),f.precision=l;;){if(r=T(r.times(e),l),n=n.times(++c),x((o=i.plus(w(r,n,l))).d).slice(0,l)===x(i.d).slice(0,l)){for(;d--;)i=T(i.times(i),l);return f.precision=p,null==t?(s=!0,T(i,p)):i}i=o}}function S(e){for(var t=7*e.e,n=e.d[0];n>=10;n/=10)t++;return t}function E(e,t,n){if(t>e.LN10.sd())throw s=!0,n&&(e.precision=n),Error(l+"LN10 precision limit exceeded");return T(new e(e.LN10),t)}function N(e){for(var t="";e--;)t+="0";return t}function j(e,t){var n,r,i,o,c,u,d,h,f,p=1,m=e,g=m.d,y=m.constructor,v=y.precision;if(m.s<1)throw Error(l+(m.s?"NaN":"-Infinity"));if(m.eq(a))return new y(0);if(null==t?(s=!1,h=v):h=t,m.eq(10))return null==t&&(s=!0),E(y,h);if(h+=10,y.precision=h,r=(n=x(g)).charAt(0),o=S(m),!(Math.abs(o)<15e14))return d=E(y,h+2,v).times(o+""),m=j(new y(r+"."+n.slice(1)),h-10).plus(d),y.precision=v,null==t?(s=!0,T(m,v)):m;for(;r<7&&1!=r||1==r&&n.charAt(1)>3;)r=(n=x((m=m.times(e)).d)).charAt(0),p++;for(o=S(m),r>1?(m=new y("0."+n),o++):m=new y(r+"."+n.slice(1)),u=c=m=w(m.minus(a),m.plus(a),h),f=T(m.times(m),h),i=3;;){if(c=T(c.times(f),h),x((d=u.plus(w(c,new y(i),h))).d).slice(0,h)===x(u.d).slice(0,h))return u=u.times(2),0!==o&&(u=u.plus(E(y,h+2,v).times(o+""))),u=w(u,new y(p),h),y.precision=v,null==t?(s=!0,T(u,v)):u;u=d,i+=2}}function _(e,t){var n,r,a;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;48===t.charCodeAt(r);)++r;for(a=t.length;48===t.charCodeAt(a-1);)--a;if(t=t.slice(r,a)){if(a-=r,n=n-r-1,e.e=d(n/7),e.d=[],r=(n+1)%7,n<0&&(r+=7),r<a){for(r&&e.d.push(+t.slice(0,r)),a-=7;r<a;)e.d.push(+t.slice(r,r+=7));r=7-(t=t.slice(r)).length}else r-=a;for(;r--;)t+="0";if(e.d.push(+t),s&&(e.e>g||e.e<-g))throw Error(u+n)}else e.s=0,e.e=0,e.d=[0];return e}function T(e,t,n){var r,a,i,o,l,c,f,m,y=e.d;for(o=1,i=y[0];i>=10;i/=10)o++;if((r=t-o)<0)r+=7,a=t,f=y[m=0];else{if((m=Math.ceil((r+1)/7))>=(i=y.length))return e;for(f=i=y[m],o=1;i>=10;i/=10)o++;a=(r%=7)-7+o}if(void 0!==n&&(l=f/(i=h(10,o-a-1))%10|0,c=t<0||void 0!==y[m+1]||f%i,c=n<4?(l||c)&&(0==n||n==(e.s<0?3:2)):l>5||5==l&&(4==n||c||6==n&&(r>0?a>0?f/h(10,o-a):0:y[m-1])%10&1||n==(e.s<0?8:7))),t<1||!y[0])return c?(i=S(e),y.length=1,t=t-i-1,y[0]=h(10,(7-t%7)%7),e.e=d(-t/7)||0):(y.length=1,y[0]=e.e=e.s=0),e;if(0==r?(y.length=m,i=1,m--):(y.length=m+1,i=h(10,7-r),y[m]=a>0?(f/h(10,o-a)%h(10,a)|0)*i:0),c)for(;;){if(0==m){(y[0]+=i)==p&&(y[0]=1,++e.e);break}if(y[m]+=i,y[m]!=p)break;y[m--]=0,i=1}for(r=y.length;0===y[--r];)y.pop();if(s&&(e.e>g||e.e<-g))throw Error(u+S(e));return e}function A(e,t){var n,r,a,i,o,l,c,u,d,h,f=e.constructor,m=f.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new f(e),s?T(t,m):t;if(c=e.d,h=t.d,r=t.e,u=e.e,c=c.slice(),o=u-r){for((d=o<0)?(n=c,o=-o,l=h.length):(n=h,r=u,l=c.length),o>(a=Math.max(Math.ceil(m/7),l)+2)&&(o=a,n.length=1),n.reverse(),a=o;a--;)n.push(0);n.reverse()}else{for((d=(a=c.length)<(l=h.length))&&(l=a),a=0;a<l;a++)if(c[a]!=h[a]){d=c[a]<h[a];break}o=0}for(d&&(n=c,c=h,h=n,t.s=-t.s),l=c.length,a=h.length-l;a>0;--a)c[l++]=0;for(a=h.length;a>o;){if(c[--a]<h[a]){for(i=a;i&&0===c[--i];)c[i]=p-1;--c[i],c[a]+=p}c[a]-=h[a]}for(;0===c[--l];)c.pop();for(;0===c[0];c.shift())--r;return c[0]?(t.d=c,t.e=r,s?T(t,m):t):new f(0)}function C(e,t,n){var r,a=S(e),i=x(e.d),o=i.length;return t?(n&&(r=n-o)>0?i=i.charAt(0)+"."+i.slice(1)+N(r):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+N(-a-1)+i,n&&(r=n-o)>0&&(i+=N(r))):a>=o?(i+=N(a+1-o),n&&(r=n-a-1)>0&&(i=i+"."+N(r))):((r=a+1)<o&&(i=i.slice(0,r)+"."+i.slice(r)),n&&(r=n-o)>0&&(a+1===o&&(i+="."),i+=N(r))),e.s<0?"-"+i:i}function O(e,t){if(e.length>t)return e.length=t,!0}function I(e){if(!e||"object"!==typeof e)throw Error(l+"Object expected");var t,n,r,a=["precision",1,i,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if(void 0!==(r=e[n=a[t]])){if(!(d(r)===r&&r>=a[t+1]&&r<=a[t+2]))throw Error(c+n+": "+r);this[n]=r}if(void 0!==(r=e[n="LN10"])){if(r!=Math.LN10)throw Error(c+n+": "+r);this[n]=new this(r)}return this}o=function e(t){var n,r,a;function i(e){var t=this;if(!(t instanceof i))return new i(e);if(t.constructor=i,e instanceof i)return t.s=e.s,t.e=e.e,void(t.d=(e=e.d)?e.slice():e);if("number"===typeof e){if(0*e!==0)throw Error(c+e);if(e>0)t.s=1;else{if(!(e<0))return t.s=0,t.e=0,void(t.d=[0]);e=-e,t.s=-1}return e===~~e&&e<1e7?(t.e=0,void(t.d=[e])):_(t,e.toString())}if("string"!==typeof e)throw Error(c+e);if(45===e.charCodeAt(0)?(e=e.slice(1),t.s=-1):t.s=1,!f.test(e))throw Error(c+e);_(t,e)}if(i.prototype=y,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=e,i.config=i.set=I,void 0===t&&(t={}),t)for(a=["precision","rounding","toExpNeg","toExpPos","LN10"],n=0;n<a.length;)t.hasOwnProperty(r=a[n++])||(t[r]=this[r]);return i.config(t),i}(o),o.default=o.Decimal=o,a=new o(1),void 0===(r=function(){return o}.call(t,n,t,e))||(e.exports=r)}()},8268:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(2132);t.isMatch=function(e,t){return r.isMatchWith(e,t,()=>{})}},8346:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.toArray=function(e){return Array.isArray(e)?e:Array.from(e)}},8365:(e,t,n)=>{"use strict";var r=n(5043);var a="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},i=r.useSyncExternalStore,o=r.useRef,s=r.useEffect,l=r.useMemo,c=r.useDebugValue},8396:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(5508);t.cloneDeep=function(e){return r.cloneDeepWith(e)}},8420:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isLength=function(e){return Number.isSafeInteger(e)&&e>=0}},8443:(e,t,n)=>{"use strict";e.exports=n(9717)},8499:e=>{"use strict";var t=Object.prototype.hasOwnProperty,n="~";function r(){}function a(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function i(e,t,r,i,o){if("function"!==typeof r)throw new TypeError("The listener must be a function");var s=new a(r,i||e,o),l=n?n+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],s]:e._events[l].push(s):(e._events[l]=s,e._eventsCount++),e}function o(e,t){0===--e._eventsCount?e._events=new r:delete e._events[t]}function s(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),s.prototype.eventNames=function(){var e,r,a=[];if(0===this._eventsCount)return a;for(r in e=this._events)t.call(e,r)&&a.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?a.concat(Object.getOwnPropertySymbols(e)):a},s.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var a=0,i=r.length,o=new Array(i);a<i;a++)o[a]=r[a].fn;return o},s.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},s.prototype.emit=function(e,t,r,a,i,o){var s=n?n+e:e;if(!this._events[s])return!1;var l,c,u=this._events[s],d=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),d){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,r),!0;case 4:return u.fn.call(u.context,t,r,a),!0;case 5:return u.fn.call(u.context,t,r,a,i),!0;case 6:return u.fn.call(u.context,t,r,a,i,o),!0}for(c=1,l=new Array(d-1);c<d;c++)l[c-1]=arguments[c];u.fn.apply(u.context,l)}else{var h,f=u.length;for(c=0;c<f;c++)switch(u[c].once&&this.removeListener(e,u[c].fn,void 0,!0),d){case 1:u[c].fn.call(u[c].context);break;case 2:u[c].fn.call(u[c].context,t);break;case 3:u[c].fn.call(u[c].context,t,r);break;case 4:u[c].fn.call(u[c].context,t,r,a);break;default:if(!l)for(h=1,l=new Array(d-1);h<d;h++)l[h-1]=arguments[h];u[c].fn.apply(u[c].context,l)}}return!0},s.prototype.on=function(e,t,n){return i(this,e,t,n,!1)},s.prototype.once=function(e,t,n){return i(this,e,t,n,!0)},s.prototype.removeListener=function(e,t,r,a){var i=n?n+e:e;if(!this._events[i])return this;if(!t)return o(this,i),this;var s=this._events[i];if(s.fn)s.fn!==t||a&&!s.once||r&&s.context!==r||o(this,i);else{for(var l=0,c=[],u=s.length;l<u;l++)(s[l].fn!==t||a&&!s[l].once||r&&s[l].context!==r)&&c.push(s[l]);c.length?this._events[i]=1===c.length?c[0]:c:o(this,i)}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&o(this,t)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,e.exports=s},8845:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(8268),a=n(3272),i=n(8396),o=n(9323),s=n(5303);t.matchesProperty=function(e,t){switch(typeof e){case"object":Object.is(e?.valueOf(),-0)&&(e="-0");break;case"number":e=a.toKey(e)}return t=i.cloneDeep(t),function(n){const a=o.get(n,e);return void 0===a?s.has(n,e):void 0===t?void 0===a:r.isMatch(a,t)}}},8853:(e,t,n)=>{"use strict";e.exports=n(5896)},9323:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(7260),a=n(2489),i=n(3272),o=n(1444);t.get=function e(t,n,s){if(null==t)return s;switch(typeof n){case"string":{if(r.isUnsafeProperty(n))return s;const i=t[n];return void 0===i?a.isDeepKey(n)?e(t,o.toPath(n),s):s:i}case"number":case"symbol":{"number"===typeof n&&(n=i.toKey(n));const e=t[n];return void 0===e?s:e}default:{if(Array.isArray(n))return function(e,t,n){if(0===t.length)return n;let a=e;for(let i=0;i<t.length;i++){if(null==a)return n;if(r.isUnsafeProperty(t[i]))return n;a=a[t[i]]}if(void 0===a)return n;return a}(t,n,s);if(n=Object.is(n?.valueOf(),-0)?"-0":String(n),r.isUnsafeProperty(n))return s;const e=t[n];return void 0===e?s:e}}}},9330:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(4385),a=n(6443),i=n(5990),o=n(7599),s=n(9972);function l(e,t,n,r,a,i,o){const s=o(e,t,n,r,a,i);if(void 0!==s)return s;if(typeof e===typeof t)switch(typeof e){case"bigint":case"string":case"boolean":case"symbol":case"undefined":case"function":return e===t;case"number":return e===t||Object.is(e,t);case"object":return c(e,t,i,o)}return c(e,t,i,o)}function c(e,t,n,u){if(Object.is(e,t))return!0;let d=i.getTag(e),h=i.getTag(t);if(d===o.argumentsTag&&(d=o.objectTag),h===o.argumentsTag&&(h=o.objectTag),d!==h)return!1;switch(d){case o.stringTag:return e.toString()===t.toString();case o.numberTag:{const n=e.valueOf(),r=t.valueOf();return s.eq(n,r)}case o.booleanTag:case o.dateTag:case o.symbolTag:return Object.is(e.valueOf(),t.valueOf());case o.regexpTag:return e.source===t.source&&e.flags===t.flags;case o.functionTag:return e===t}const f=(n=n??new Map).get(e),p=n.get(t);if(null!=f&&null!=p)return f===t;n.set(e,t),n.set(t,e);try{switch(d){case o.mapTag:if(e.size!==t.size)return!1;for(const[r,a]of e.entries())if(!t.has(r)||!l(a,t.get(r),r,e,t,n,u))return!1;return!0;case o.setTag:{if(e.size!==t.size)return!1;const r=Array.from(e.values()),a=Array.from(t.values());for(let i=0;i<r.length;i++){const o=r[i],s=a.findIndex(r=>l(o,r,void 0,e,t,n,u));if(-1===s)return!1;a.splice(s,1)}return!0}case o.arrayTag:case o.uint8ArrayTag:case o.uint8ClampedArrayTag:case o.uint16ArrayTag:case o.uint32ArrayTag:case o.bigUint64ArrayTag:case o.int8ArrayTag:case o.int16ArrayTag:case o.int32ArrayTag:case o.bigInt64ArrayTag:case o.float32ArrayTag:case o.float64ArrayTag:if("undefined"!==typeof Buffer&&Buffer.isBuffer(e)!==Buffer.isBuffer(t))return!1;if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(!l(e[r],t[r],r,e,t,n,u))return!1;return!0;case o.arrayBufferTag:return e.byteLength===t.byteLength&&c(new Uint8Array(e),new Uint8Array(t),n,u);case o.dataViewTag:return e.byteLength===t.byteLength&&e.byteOffset===t.byteOffset&&c(new Uint8Array(e),new Uint8Array(t),n,u);case o.errorTag:return e.name===t.name&&e.message===t.message;case o.objectTag:{if(!(c(e.constructor,t.constructor,n,u)||r.isPlainObject(e)&&r.isPlainObject(t)))return!1;const i=[...Object.keys(e),...a.getSymbols(e)],o=[...Object.keys(t),...a.getSymbols(t)];if(i.length!==o.length)return!1;for(let r=0;r<i.length;r++){const a=i[r],o=e[a];if(!Object.hasOwn(t,a))return!1;if(!l(o,t[a],a,e,t,n,u))return!1}return!0}default:return!1}}finally{n.delete(e),n.delete(t)}}t.isEqualWith=function(e,t,n){return l(e,t,void 0,void 0,void 0,void 0,n)}},9397:(e,t,n)=>{e.exports=n(2682).isPlainObject},9461:(e,t,n)=>{"use strict";e.exports=n(2330)},9599:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.identity=function(e){return e}},9645:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(6392),a=n(8346),i=n(1203);t.last=function(e){if(i.isArrayLike(e))return r.last(a.toArray(e))}},9709:(e,t)=>{"use strict";function n(e){return"symbol"===typeof e?1:null===e?2:void 0===e?3:e!==e?4:0}Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});t.compareValues=(e,t,r)=>{if(e!==t){const a=n(e),i=n(t);if(a===i&&0===a){if(e<t)return"desc"===r?1:-1;if(e>t)return"desc"===r?-1:1}return"desc"===r?i-a:a-i}return 0}},9717:(e,t,n)=>{"use strict";var r=n(5043),a=n(9461);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},o=a.useSyncExternalStore,s=r.useRef,l=r.useEffect,c=r.useMemo,u=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,a){var d=s(null);if(null===d.current){var h={hasValue:!1,value:null};d.current=h}else h=d.current;d=c(function(){function e(e){if(!l){if(l=!0,o=e,e=r(e),void 0!==a&&h.hasValue){var t=h.value;if(a(t,e))return s=t}return s=e}if(t=s,i(o,e))return t;var n=r(e);return void 0!==a&&a(t,n)?(o=e,t):(o=e,s=n)}var o,s,l=!1,c=void 0===n?null:n;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]},[t,n,r,a]);var f=o(e,d[0],d[1]);return l(function(){h.hasValue=!0,h.value=f},[f]),u(f),f}},9859:(e,t,n)=>{e.exports=n(7231).range},9921:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isObjectLike=function(e){return"object"===typeof e&&null!==e}},9972:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.eq=function(e,t){return e===t||Number.isNaN(e)&&Number.isNaN(t)}}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var i=t[r]={exports:{}};return e[r].call(i.exports,i,i.exports,n),i.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";var e={};n.r(e),n.d(e,{scaleBand:()=>dS,scaleDiverging:()=>iT,scaleDivergingLog:()=>oT,scaleDivergingPow:()=>lT,scaleDivergingSqrt:()=>cT,scaleDivergingSymlog:()=>sT,scaleIdentity:()=>ZE,scaleImplicit:()=>cS,scaleLinear:()=>JE,scaleLog:()=>lN,scaleOrdinal:()=>uS,scalePoint:()=>fS,scalePow:()=>yN,scaleQuantile:()=>AN,scaleQuantize:()=>CN,scaleRadial:()=>xN,scaleSequential:()=>J_,scaleSequentialLog:()=>Z_,scaleSequentialPow:()=>tT,scaleSequentialQuantile:()=>rT,scaleSequentialSqrt:()=>nT,scaleSequentialSymlog:()=>eT,scaleSqrt:()=>vN,scaleSymlog:()=>hN,scaleThreshold:()=>ON,scaleTime:()=>G_,scaleUtc:()=>Y_,tickFormat:()=>QE});var t=n(5043),r=n(4391),a="popstate";function i(){return h(function(e,t){let{pathname:n,search:r,hash:a}=e.location;return c("",{pathname:n,search:r,hash:a},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:u(t)},null,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function o(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function s(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function l(e,t){return{usr:e.state,key:e.key,idx:t}}function c(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return{pathname:"string"===typeof e?e:e.pathname,search:"",hash:"",..."string"===typeof t?d(t):t,state:n,key:t&&t.key||r||Math.random().toString(36).substring(2,10)}}function u(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function d(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function h(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,u="POP",d=null,h=p();function p(){return(s.state||{idx:null}).idx}function m(){u="POP";let e=p(),t=null==e?null:e-h;h=e,d&&d({action:u,location:y.location,delta:t})}function g(e){return f(e)}null==h&&(h=0,s.replaceState({...s.state,idx:h},""));let y={get action(){return u},get location(){return e(i,s)},listen(e){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(a,m),d=e,()=>{i.removeEventListener(a,m),d=null}},createHref:e=>t(i,e),createURL:g,encodeLocation(e){let t=g(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){u="PUSH";let r=c(y.location,e,t);n&&n(r,e),h=p()+1;let a=l(r,h),f=y.createHref(r);try{s.pushState(a,"",f)}catch(m){if(m instanceof DOMException&&"DataCloneError"===m.name)throw m;i.location.assign(f)}o&&d&&d({action:u,location:y.location,delta:1})},replace:function(e,t){u="REPLACE";let r=c(y.location,e,t);n&&n(r,e),h=p();let a=l(r,h),i=y.createHref(r);s.replaceState(a,"",i),o&&d&&d({action:u,location:y.location,delta:0})},go:e=>s.go(e)};return y}function f(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n="http://localhost";"undefined"!==typeof window&&(n="null"!==window.location.origin?window.location.origin:window.location.href),o(n,"No window.location.(origin|href) available to create URL");let r="string"===typeof e?e:u(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}new WeakMap;function p(e,t){return m(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",!1)}function m(e,t,n,r){let a=C(("string"===typeof t?d(t):t).pathname||"/",n);if(null==a)return null;let i=g(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(i);let o=null;for(let s=0;null==o&&s<i.length;++s){let e=A(a);o=j(i[s],e,r)}return o}function g(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",a=(e,a,i)=>{let s={relativePath:void 0===i?e.path||"":i,caseSensitive:!0===e.caseSensitive,childrenIndex:a,route:e};s.relativePath.startsWith("/")&&(o(s.relativePath.startsWith(r),`Absolute route path "${s.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),s.relativePath=s.relativePath.slice(r.length));let l=M([r,s.relativePath]),c=n.concat(s);e.children&&e.children.length>0&&(o(!0!==e.index,`Index routes must not have child routes. Please remove all child routes from route path "${l}".`),g(e.children,t,c,l)),(null!=e.path||e.index)&&t.push({path:l,score:N(l,e.index),routesMeta:c})};return e.forEach((e,t)=>{if(""!==e.path&&e.path?.includes("?"))for(let n of y(e.path))a(e,t,n);else a(e,t)}),t}function y(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,a=n.endsWith("?"),i=n.replace(/\?$/,"");if(0===r.length)return a?[i,""]:[i];let o=y(r.join("/")),s=[];return s.push(...o.map(e=>""===e?i:[i,e].join("/"))),a&&s.push(...o),s.map(t=>e.startsWith("/")&&""===t?"/":t)}var v=/^:[\w-]+$/,b=3,x=2,w=1,k=10,S=-2,E=e=>"*"===e;function N(e,t){let n=e.split("/"),r=n.length;return n.some(E)&&(r+=S),t&&(r+=x),n.filter(e=>!E(e)).reduce((e,t)=>e+(v.test(t)?b:""===t?w:k),r)}function j(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{routesMeta:r}=e,a={},i="/",o=[];for(let s=0;s<r.length;++s){let e=r[s],l=s===r.length-1,c="/"===i?t:t.slice(i.length)||"/",u=_({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),d=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=_({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(a,u.params),o.push({params:a,pathname:M([i,u.pathname]),pathnameBase:R(M([i,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(i=M([i,u.pathnameBase]))}return o}function _(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=T(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),s=a.slice(1),l=r.reduce((e,t,n)=>{let{paramName:r,isOptional:a}=t;if("*"===r){let e=s[n]||"";o=i.slice(0,i.length-e.length).replace(/(.)\/+$/,"$1")}const l=s[n];return e[r]=a&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{});return{params:l,pathname:i,pathnameBase:o,pattern:e}}function T(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];s("*"===e||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),a+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":""!==e&&"/"!==e&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),r]}function A(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return s(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function C(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function O(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function I(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function P(e){let t=I(e);return t.map((e,n)=>n===t.length-1?e.pathname:e.pathnameBase)}function D(e,t,n){let r,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"string"===typeof e?r=d(e):(r={...e},o(!r.pathname||!r.pathname.includes("?"),O("?","pathname","search",r)),o(!r.pathname||!r.pathname.includes("#"),O("#","pathname","hash",r)),o(!r.search||!r.search.includes("#"),O("#","search","hash",r)));let i,s=""===e||""===r.pathname,l=s?"/":r.pathname;if(null==l)i=n;else{let e=t.length-1;if(!a&&l.startsWith("..")){let t=l.split("/");for(;".."===t[0];)t.shift(),e-=1;r.pathname=t.join("/")}i=e>=0?t[e]:"/"}let c=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",{pathname:n,search:r="",hash:a=""}="string"===typeof e?d(e):e,i=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:i,search:L(r),hash:F(a)}}(r,i),u=l&&"/"!==l&&l.endsWith("/"),h=(s||"."===l)&&n.endsWith("/");return c.pathname.endsWith("/")||!u&&!h||(c.pathname+="/"),c}var M=e=>e.join("/").replace(/\/\/+/g,"/"),R=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),L=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",F=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";function z(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var U=["POST","PUT","PATCH","DELETE"],V=(new Set(U),["GET",...U]);new Set(V),Symbol("ResetLoaderData");var B=t.createContext(null);B.displayName="DataRouter";var $=t.createContext(null);$.displayName="DataRouterState";var H=t.createContext(!1);var K=t.createContext({isTransitioning:!1});K.displayName="ViewTransition";var q=t.createContext(new Map);q.displayName="Fetchers";var W=t.createContext(null);W.displayName="Await";var G=t.createContext(null);G.displayName="Navigation";var Y=t.createContext(null);Y.displayName="Location";var Q=t.createContext({outlet:null,matches:[],isDataRoute:!1});Q.displayName="Route";var X=t.createContext(null);X.displayName="RouteError";function J(){return null!=t.useContext(Y)}function Z(){return o(J(),"useLocation() may be used only in the context of a <Router> component."),t.useContext(Y).location}var ee="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function te(e){t.useContext(G).static||t.useLayoutEffect(e)}function ne(){let{isDataRoute:e}=t.useContext(Q);return e?function(){let{router:e}=de("useNavigate"),n=fe("useNavigate"),r=t.useRef(!1);te(()=>{r.current=!0});let a=t.useCallback(async function(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};s(r.current,ee),r.current&&("number"===typeof t?e.navigate(t):await e.navigate(t,{fromRouteId:n,...a}))},[e,n]);return a}():function(){o(J(),"useNavigate() may be used only in the context of a <Router> component.");let e=t.useContext(B),{basename:n,navigator:r}=t.useContext(G),{matches:a}=t.useContext(Q),{pathname:i}=Z(),l=JSON.stringify(P(a)),c=t.useRef(!1);te(()=>{c.current=!0});let u=t.useCallback(function(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(s(c.current,ee),!c.current)return;if("number"===typeof t)return void r.go(t);let o=D(t,JSON.parse(l),i,"path"===a.relative);null==e&&"/"!==n&&(o.pathname="/"===o.pathname?n:M([n,o.pathname])),(a.replace?r.replace:r.push)(o,a.state,a)},[n,r,l,i,e]);return u}()}t.createContext(null);function re(e){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{matches:r}=t.useContext(Q),{pathname:a}=Z(),i=JSON.stringify(P(r));return t.useMemo(()=>D(e,JSON.parse(i),a,"path"===n),[e,i,a,n])}function ae(e,n,r,a){o(J(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=t.useContext(G),{matches:l}=t.useContext(Q),c=l[l.length-1],u=c?c.params:{},h=c?c.pathname:"/",f=c?c.pathnameBase:"/",m=c&&c.route;{let e=m&&m.path||"";ge(h,!m||e.endsWith("*")||e.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${e}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="${e}"> to <Route path="${"/"===e?"*":`${e}/*`}">.`)}let g,y=Z();if(n){let e="string"===typeof n?d(n):n;o("/"===f||e.pathname?.startsWith(f),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${e.pathname}" was given in the \`location\` prop.`),g=e}else g=y;let v=g.pathname||"/",b=v;if("/"!==f){let e=f.replace(/^\//,"").split("/");b="/"+v.replace(/^\//,"").split("/").slice(e.length).join("/")}let x=p(e,{pathname:b});s(m||null!=x,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),s(null==x||void 0!==x[x.length-1].route.element||void 0!==x[x.length-1].route.Component||void 0!==x[x.length-1].route.lazy,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let w=ce(x&&x.map(e=>Object.assign({},e,{params:Object.assign({},u,e.params),pathname:M([f,i.encodeLocation?i.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?f:M([f,i.encodeLocation?i.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),l,r,a);return n&&w?t.createElement(Y.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...g},navigationType:"POP"}},w):w}function ie(){let e=pe(),n=z(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:a},o={padding:"2px 4px",backgroundColor:a},s=null;return console.error("Error handled by React Router default ErrorBoundary:",e),s=t.createElement(t.Fragment,null,t.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),t.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",t.createElement("code",{style:o},"ErrorBoundary")," or"," ",t.createElement("code",{style:o},"errorElement")," prop on your route.")),t.createElement(t.Fragment,null,t.createElement("h2",null,"Unexpected Application Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},n),r?t.createElement("pre",{style:i},r):null,s)}var oe=t.createElement(ie,null),se=class extends t.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?t.createElement(Q.Provider,{value:this.props.routeContext},t.createElement(X.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function le(e){let{routeContext:n,match:r,children:a}=e,i=t.useContext(B);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),t.createElement(Q.Provider,{value:n},a)}function ce(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(null==e){if(!r)return null;if(r.errors)e=r.matches;else{if(0!==n.length||r.initialized||!(r.matches.length>0))return null;e=r.matches}}let a=e,i=r?.errors;if(null!=i){let e=a.findIndex(e=>e.route.id&&void 0!==i?.[e.route.id]);o(e>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(i).join(",")}`),a=a.slice(0,Math.min(a.length,e+1))}let s=!1,l=-1;if(r)for(let t=0;t<a.length;t++){let e=a[t];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(l=t),e.route.id){let{loaderData:t,errors:n}=r,i=e.route.loader&&!t.hasOwnProperty(e.route.id)&&(!n||void 0===n[e.route.id]);if(e.route.lazy||i){s=!0,a=l>=0?a.slice(0,l+1):[a[0]];break}}}return a.reduceRight((e,o,c)=>{let u,d=!1,h=null,f=null;r&&(u=i&&o.route.id?i[o.route.id]:void 0,h=o.route.errorElement||oe,s&&(l<0&&0===c?(ge("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),d=!0,f=null):l===c&&(d=!0,f=o.route.hydrateFallbackElement||null)));let p=n.concat(a.slice(0,c+1)),m=()=>{let n;return n=u?h:d?f:o.route.Component?t.createElement(o.route.Component,null):o.route.element?o.route.element:e,t.createElement(le,{match:o,routeContext:{outlet:e,matches:p,isDataRoute:null!=r},children:n})};return r&&(o.route.ErrorBoundary||o.route.errorElement||0===c)?t.createElement(se,{location:r.location,revalidation:r.revalidation,component:h,error:u,children:m(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):m()},null)}function ue(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function de(e){let n=t.useContext(B);return o(n,ue(e)),n}function he(e){let n=t.useContext($);return o(n,ue(e)),n}function fe(e){let n=function(e){let n=t.useContext(Q);return o(n,ue(e)),n}(e),r=n.matches[n.matches.length-1];return o(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function pe(){let e=t.useContext(X),n=he("useRouteError"),r=fe("useRouteError");return void 0!==e?e:n.errors?.[r]}var me={};function ge(e,t,n){t||me[e]||(me[e]=!0,s(!1,n))}var ye={};function ve(e,t){e||ye[t]||(ye[t]=!0,console.warn(t))}t.memo(function(e){let{routes:t,future:n,state:r}=e;return ae(t,void 0,r,n)});function be(e){let{to:n,replace:r,state:a,relative:i}=e;o(J(),"<Navigate> may be used only in the context of a <Router> component.");let{static:l}=t.useContext(G);s(!l,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=t.useContext(Q),{pathname:u}=Z(),d=ne(),h=D(n,P(c),u,"path"===i),f=JSON.stringify(h);return t.useEffect(()=>{d(JSON.parse(f),{replace:r,state:a,relative:i})},[d,f,i,r,a]),null}function xe(e){o(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function we(e){let{basename:n="/",children:r=null,location:a,navigationType:i="POP",navigator:l,static:c=!1}=e;o(!J(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=n.replace(/^\/*/,"/"),h=t.useMemo(()=>({basename:u,navigator:l,static:c,future:{}}),[u,l,c]);"string"===typeof a&&(a=d(a));let{pathname:f="/",search:p="",hash:m="",state:g=null,key:y="default"}=a,v=t.useMemo(()=>{let e=C(f,u);return null==e?null:{location:{pathname:e,search:p,hash:m,state:g,key:y},navigationType:i}},[u,f,p,m,g,y,i]);return s(null!=v,`<Router basename="${u}"> is not able to match the URL "${f}${p}${m}" because it does not start with the basename, so the <Router> won't render anything.`),null==v?null:t.createElement(G.Provider,{value:h},t.createElement(Y.Provider,{children:r,value:v}))}function ke(e){let{children:t,location:n}=e;return ae(Se(t),n)}t.Component;function Se(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=[];return t.Children.forEach(e,(e,a)=>{if(!t.isValidElement(e))return;let i=[...n,a];if(e.type===t.Fragment)return void r.push.apply(r,Se(e.props.children,i));o(e.type===xe,`[${"string"===typeof e.type?e.type:e.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),o(!e.props.index||!e.props.children,"An index route cannot have child routes.");let s={id:e.props.id||i.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,hydrateFallbackElement:e.props.hydrateFallbackElement,HydrateFallback:e.props.HydrateFallback,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:!0===e.props.hasErrorBoundary||null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(s.children=Se(e.props.children,i)),r.push(s)}),r}var Ee="get",Ne="application/x-www-form-urlencoded";function je(e){return null!=e&&"string"===typeof e.tagName}var _e=null;var Te=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ae(e){return null==e||Te.has(e)?e:(s(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ne}"`),null)}function Ce(e,t){let n,r,a,i,o;if(function(e){return je(e)&&"form"===e.tagName.toLowerCase()}(e)){let o=e.getAttribute("action");r=o?C(o,t):null,n=e.getAttribute("method")||Ee,a=Ae(e.getAttribute("enctype"))||Ne,i=new FormData(e)}else if(function(e){return je(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return je(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let o=e.form;if(null==o)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let s=e.getAttribute("formaction")||o.getAttribute("action");if(r=s?C(s,t):null,n=e.getAttribute("formmethod")||o.getAttribute("method")||Ee,a=Ae(e.getAttribute("formenctype"))||Ae(o.getAttribute("enctype"))||Ne,i=new FormData(o,e),!function(){if(null===_e)try{new FormData(document.createElement("form"),0),_e=!1}catch(e){_e=!0}return _e}()){let{name:t,type:n,value:r}=e;if("image"===n){let e=t?`${t}.`:"";i.append(`${e}x`,"0"),i.append(`${e}y`,"0")}else t&&i.append(t,r)}}else{if(je(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Ee,r=null,a=Ne,o=e}return i&&"text/plain"===a&&(o=i,i=void 0),{action:r,method:n.toLowerCase(),encType:a,formData:i,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");"undefined"!==typeof window?window:"undefined"!==typeof globalThis&&globalThis;function Oe(e){return{__html:e}}function Ie(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}Symbol("SingleFetchRedirect");function Pe(e,t,n){let r="string"===typeof e?new URL(e,"undefined"===typeof window?"server://singlefetch/":window.location.origin):e;return"/"===r.pathname?r.pathname=`_root.${n}`:t&&"/"===C(r.pathname,t)?r.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function De(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Me(e){return null!=e&&"string"===typeof e.page}function Re(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"===typeof e.imageSrcSet&&"string"===typeof e.imageSizes:"string"===typeof e.rel&&"string"===typeof e.href)}function Le(e,t,n,r,a,i){let o=(e,t)=>!n[t]||e.route.id!==n[t].route.id,s=(e,t)=>n[t].pathname!==e.pathname||n[t].route.path?.endsWith("*")&&n[t].params["*"]!==e.params["*"];return"assets"===i?t.filter((e,t)=>o(e,t)||s(e,t)):"data"===i?t.filter((t,i)=>{let l=r.routes[t.route.id];if(!l||!l.hasLoader)return!1;if(o(t,i)||s(t,i))return!0;if(t.route.shouldRevalidate){let r=t.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"===typeof r)return r}return!0}):[]}function Fe(e,t){let{includeHydrateFallback:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r=e.map(e=>{let r=t.routes[e.route.id];if(!r)return[];let a=[r.module];return r.clientActionModule&&(a=a.concat(r.clientActionModule)),r.clientLoaderModule&&(a=a.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(a=a.concat(r.hydrateFallbackModule)),r.imports&&(a=a.concat(r.imports)),a}).flat(1),[...new Set(r)];var r}function ze(e,t){let n=new Set,r=new Set(t);return e.reduce((e,a)=>{if(t&&!Me(a)&&"script"===a.as&&a.href&&r.has(a.href))return e;let i=JSON.stringify(function(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}(a));return n.has(i)||(n.add(i),e.push({key:i,link:a})),e},[])}function Ue(e,t){return"lazy"===e.mode&&!0===t}function Ve(){let e=t.useContext(B);return Ie(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function Be(){let e=t.useContext($);return Ie(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var $e=t.createContext(void 0);function He(){let e=t.useContext($e);return Ie(e,"You must render this element inside a <HydratedRouter> element"),e}function Ke(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function qe(e,t,n){if(n&&!Qe)return[e[0]];if(t){let n=e.findIndex(e=>void 0!==t[e.route.id]);return e.slice(0,n+1)}return e}$e.displayName="FrameworkContext";function We(e){let{page:n,...r}=e,{router:a}=Ve(),i=t.useMemo(()=>p(a.routes,n,a.basename),[a.routes,n,a.basename]);return i?t.createElement(Ye,{page:n,matches:i,...r}):null}function Ge(e){let{manifest:n,routeModules:r}=He(),[a,i]=t.useState([]);return t.useEffect(()=>{let t=!1;return async function(e,t,n){return ze((await Promise.all(e.map(async e=>{let r=t.routes[e.route.id];if(r){let e=await De(r,n);return e.links?e.links():[]}return[]}))).flat(1).filter(Re).filter(e=>"stylesheet"===e.rel||"preload"===e.rel).map(e=>"stylesheet"===e.rel?{...e,rel:"prefetch",as:"style"}:{...e,rel:"prefetch"}))}(e,n,r).then(e=>{t||i(e)}),()=>{t=!0}},[e,n,r]),a}function Ye(e){let{page:n,matches:r,...a}=e,i=Z(),{manifest:o,routeModules:s}=He(),{basename:l}=Ve(),{loaderData:c,matches:u}=Be(),d=t.useMemo(()=>Le(n,r,u,o,i,"data"),[n,r,u,o,i]),h=t.useMemo(()=>Le(n,r,u,o,i,"assets"),[n,r,u,o,i]),f=t.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let e=new Set,t=!1;if(r.forEach(n=>{let r=o.routes[n.route.id];r&&r.hasLoader&&(!d.some(e=>e.route.id===n.route.id)&&n.route.id in c&&s[n.route.id]?.shouldRevalidate||r.hasClientLoader?t=!0:e.add(n.route.id))}),0===e.size)return[];let a=Pe(n,l,"data");return t&&e.size>0&&a.searchParams.set("_routes",r.filter(t=>e.has(t.route.id)).map(e=>e.route.id).join(",")),[a.pathname+a.search]},[l,c,i,o,d,r,n,s]),p=t.useMemo(()=>Fe(h,o),[h,o]),m=Ge(h);return t.createElement(t.Fragment,null,f.map(e=>t.createElement("link",{key:e,rel:"prefetch",as:"fetch",href:e,...a})),p.map(e=>t.createElement("link",{key:e,rel:"modulepreload",href:e,...a})),m.map(e=>{let{key:n,link:r}=e;return t.createElement("link",{key:n,...r})}))}var Qe=!1;function Xe(e){let{manifest:n,serverHandoffString:r,isSpaMode:a,renderMeta:i,routeDiscovery:o,ssr:s}=He(),{router:l,static:c,staticContext:u}=Ve(),{matches:d}=Be(),h=t.useContext(H),f=Ue(o,s);i&&(i.didRenderScripts=!0);let m=qe(d,null,a);t.useEffect(()=>{0},[]);let g=t.useMemo(()=>{if(h)return null;let a=u?`window.__reactRouterContext = ${r};window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());`:" ",i=c?`${n.hmr?.runtime?`import ${JSON.stringify(n.hmr.runtime)};`:""}${f?"":`import ${JSON.stringify(n.url)}`};\n${m.map((e,t)=>{let r=`route${t}`,a=n.routes[e.route.id];Ie(a,`Route ${e.route.id} not found in manifest`);let{clientActionModule:i,clientLoaderModule:o,clientMiddlewareModule:s,hydrateFallbackModule:l,module:c}=a,u=[...i?[{module:i,varName:`${r}_clientAction`}]:[],...o?[{module:o,varName:`${r}_clientLoader`}]:[],...s?[{module:s,varName:`${r}_clientMiddleware`}]:[],...l?[{module:l,varName:`${r}_HydrateFallback`}]:[],{module:c,varName:`${r}_main`}];return 1===u.length?`import * as ${r} from ${JSON.stringify(c)};`:[u.map(e=>`import * as ${e.varName} from "${e.module}";`).join("\n"),`const ${r} = {${u.map(e=>`...${e.varName}`).join(",")}};`].join("\n")}).join("\n")}\n  ${f?`window.__reactRouterManifest = ${JSON.stringify(function(e,t){let{sri:n,...r}=e,a=new Set(t.state.matches.map(e=>e.route.id)),i=t.state.location.pathname.split("/").filter(Boolean),o=["/"];for(i.pop();i.length>0;)o.push(`/${i.join("/")}`),i.pop();o.forEach(e=>{let n=p(t.routes,e,t.basename);n&&n.forEach(e=>a.add(e.route.id))});let s=[...a].reduce((e,t)=>Object.assign(e,{[t]:r.routes[t]}),{});return{...r,routes:s,sri:!!n||void 0}}(n,l),null,2)};`:""}\n  window.__reactRouterRouteModules = {${m.map((e,t)=>`${JSON.stringify(e.route.id)}:route${t}`).join(",")}};\n\nimport(${JSON.stringify(n.entry.module)});`:" ";return t.createElement(t.Fragment,null,t.createElement("script",{...e,suppressHydrationWarning:!0,dangerouslySetInnerHTML:Oe(a),type:void 0}),t.createElement("script",{...e,suppressHydrationWarning:!0,dangerouslySetInnerHTML:Oe(i),type:"module",async:!0}))},[]),y=Qe||h?[]:function(e){return[...new Set(e)]}(n.entry.imports.concat(Fe(m,n,{includeHydrateFallback:!0}))),v="object"===typeof n.sri?n.sri:{};return ve(!h,"The <Scripts /> element is a no-op when using RSC and can be safely removed."),Qe||h?null:t.createElement(t.Fragment,null,"object"===typeof n.sri?t.createElement("script",{"rr-importmap":"",type:"importmap",suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:JSON.stringify({integrity:v})}}):null,f?null:t.createElement("link",{rel:"modulepreload",href:n.url,crossOrigin:e.crossOrigin,integrity:v[n.url],suppressHydrationWarning:!0}),t.createElement("link",{rel:"modulepreload",href:n.entry.module,crossOrigin:e.crossOrigin,integrity:v[n.entry.module],suppressHydrationWarning:!0}),y.map(n=>t.createElement("link",{key:n,rel:"modulepreload",href:n,crossOrigin:e.crossOrigin,integrity:v[n],suppressHydrationWarning:!0})),g)}function Je(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{t.forEach(t=>{"function"===typeof t?t(e):null!=t&&(t.current=e)})}}t.Component;function Ze(e){let{error:n,isOutsideRemixApp:r}=e;console.error(n);let a,i=t.createElement("script",{dangerouslySetInnerHTML:{__html:'\n        console.log(\n          "\ud83d\udcbf Hey developer \ud83d\udc4b. You can provide a way better UX than this when your app throws errors. Check out https://reactrouter.com/how-to/error-boundary for more information."\n        );\n      '}});if(z(n))return t.createElement(et,{title:"Unhandled Thrown Response!"},t.createElement("h1",{style:{fontSize:"24px"}},n.status," ",n.statusText),i);if(n instanceof Error)0;else{let e=null==n?"Unknown Error":"object"===typeof n&&"toString"in n?n.toString():JSON.stringify(n);new Error(e)}return t.createElement(et,{title:"Application Error!",isOutsideRemixApp:r},t.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),t.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},a.stack),i)}function et(e){let{title:n,renderScripts:r,isOutsideRemixApp:a,children:i}=e,{routeModules:o}=He();return o.root?.Layout&&!a?i:t.createElement("html",{lang:"en"},t.createElement("head",null,t.createElement("meta",{charSet:"utf-8"}),t.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),t.createElement("title",null,n)),t.createElement("body",null,t.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},i,r?t.createElement(Xe,null):null)))}var tt="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;try{tt&&(window.__reactRouterVersion="7.7.0")}catch(MH){}function nt(e){let{basename:n,children:r,window:a}=e,o=t.useRef();null==o.current&&(o.current=i({window:a,v5Compat:!0}));let s=o.current,[l,c]=t.useState({action:s.action,location:s.location}),u=t.useCallback(e=>{t.startTransition(()=>c(e))},[c]);return t.useLayoutEffect(()=>s.listen(u),[s,u]),t.createElement(we,{basename:n,children:r,location:l.location,navigationType:l.action,navigator:s})}var rt=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,at=t.forwardRef(function(e,n){let r,{onClick:a,discover:i="render",prefetch:l="none",relative:c,reloadDocument:d,replace:h,state:f,target:p,to:m,preventScrollReset:g,viewTransition:y,...v}=e,{basename:b}=t.useContext(G),x="string"===typeof m&&rt.test(m),w=!1;if("string"===typeof m&&x&&(r=m,tt))try{let e=new URL(window.location.href),t=m.startsWith("//")?new URL(e.protocol+m):new URL(m),n=C(t.pathname,b);t.origin===e.origin&&null!=n?m=n+t.search+t.hash:w=!0}catch(MH){s(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let k=function(e){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};o(J(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:a}=t.useContext(G),{hash:i,pathname:s,search:l}=re(e,{relative:n}),c=s;return"/"!==r&&(c="/"===s?r:M([r,s])),a.createHref({pathname:c,search:l,hash:i})}(m,{relative:c}),[S,E,N]=function(e,n){let r=t.useContext($e),[a,i]=t.useState(!1),[o,s]=t.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:h}=n,f=t.useRef(null);t.useEffect(()=>{if("render"===e&&s(!0),"viewport"===e){let e=new IntersectionObserver(e=>{e.forEach(e=>{s(e.isIntersecting)})},{threshold:.5});return f.current&&e.observe(f.current),()=>{e.disconnect()}}},[e]),t.useEffect(()=>{if(a){let e=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(e)}}},[a]);let p=()=>{i(!0)},m=()=>{i(!1),s(!1)};return r?"intent"!==e?[o,f,{}]:[o,f,{onFocus:Ke(l,p),onBlur:Ke(c,m),onMouseEnter:Ke(u,p),onMouseLeave:Ke(d,m),onTouchStart:Ke(h,p)}]:[!1,f,{}]}(l,v),j=function(e){let{target:n,replace:r,state:a,preventScrollReset:i,relative:o,viewTransition:s}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=ne(),c=Z(),d=re(e,{relative:o});return t.useCallback(t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==r?r:u(c)===u(d);l(e,{replace:n,state:a,preventScrollReset:i,relative:o,viewTransition:s})}},[c,l,d,r,a,n,e,i,o,s])}(m,{replace:h,state:f,target:p,preventScrollReset:g,relative:c,viewTransition:y});let _=t.createElement("a",{...v,...N,href:r||k,onClick:w||d?a:function(e){a&&a(e),e.defaultPrevented||j(e)},ref:Je(n,E),target:p,"data-discover":x||"render"!==i?void 0:"true"});return S&&!x?t.createElement(t.Fragment,null,_,t.createElement(We,{page:k})):_});at.displayName="Link";var it=t.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:a=!1,className:i="",end:s=!1,style:l,to:c,viewTransition:u,children:d,...h}=e,f=re(c,{relative:h.relative}),p=Z(),m=t.useContext($),{navigator:g,basename:y}=t.useContext(G),v=null!=m&&function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.useContext(K);o(null!=r,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=lt("useViewTransitionState"),i=re(e,{relative:n.relative});if(!r.isTransitioning)return!1;let s=C(r.currentLocation.pathname,a)||r.currentLocation.pathname,l=C(r.nextLocation.pathname,a)||r.nextLocation.pathname;return null!=_(i.pathname,l)||null!=_(i.pathname,s)}(f)&&!0===u,b=g.encodeLocation?g.encodeLocation(f).pathname:f.pathname,x=p.pathname,w=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;a||(x=x.toLowerCase(),w=w?w.toLowerCase():null,b=b.toLowerCase()),w&&y&&(w=C(w,y)||w);const k="/"!==b&&b.endsWith("/")?b.length-1:b.length;let S,E=x===b||!s&&x.startsWith(b)&&"/"===x.charAt(k),N=null!=w&&(w===b||!s&&w.startsWith(b)&&"/"===w.charAt(b.length)),j={isActive:E,isPending:N,isTransitioning:v},T=E?r:void 0;S="function"===typeof i?i(j):[i,E?"active":null,N?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let A="function"===typeof l?l(j):l;return t.createElement(at,{...h,"aria-current":T,className:S,ref:n,style:A,to:c,viewTransition:u},"function"===typeof d?d(j):d)});it.displayName="NavLink";var ot=t.forwardRef((e,n)=>{let{discover:r="render",fetcherKey:a,navigate:i,reloadDocument:s,replace:l,state:c,method:d=Ee,action:h,onSubmit:f,relative:p,preventScrollReset:m,viewTransition:g,...y}=e,v=dt(),b=function(e){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{basename:r}=t.useContext(G),a=t.useContext(Q);o(a,"useFormAction must be used inside a RouteContext");let[i]=a.matches.slice(-1),s={...re(e||".",{relative:n})},l=Z();if(null==e){s.search=l.search;let e=new URLSearchParams(s.search),t=e.getAll("index");if(t.some(e=>""===e)){e.delete("index"),t.filter(e=>e).forEach(t=>e.append("index",t));let n=e.toString();s.search=n?`?${n}`:""}}e&&"."!==e||!i.route.index||(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index");"/"!==r&&(s.pathname="/"===s.pathname?r:M([r,s.pathname]));return u(s)}(h,{relative:p}),x="get"===d.toLowerCase()?"get":"post",w="string"===typeof h&&rt.test(h);return t.createElement("form",{ref:n,method:x,action:b,onSubmit:s?f:e=>{if(f&&f(e),e.defaultPrevented)return;e.preventDefault();let t=e.nativeEvent.submitter,n=t?.getAttribute("formmethod")||d;v(t||e.currentTarget,{fetcherKey:a,method:n,navigate:i,replace:l,state:c,relative:p,preventScrollReset:m,viewTransition:g})},...y,"data-discover":w||"render"!==r?void 0:"true"})});function st(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function lt(e){let n=t.useContext(B);return o(n,st(e)),n}ot.displayName="Form";var ct=0,ut=()=>`__${String(++ct)}__`;function dt(){let{router:e}=lt("useSubmit"),{basename:n}=t.useContext(G),r=fe("useRouteId");return t.useCallback(async function(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{action:i,method:o,encType:s,formData:l,body:c}=Ce(t,n);if(!1===a.navigate){let t=a.fetcherKey||ut();await e.fetch(t,r,a.action||i,{preventScrollReset:a.preventScrollReset,formData:l,body:c,formMethod:a.method||o,formEncType:a.encType||s,flushSync:a.flushSync})}else await e.navigate(a.action||i,{preventScrollReset:a.preventScrollReset,formData:l,body:c,formMethod:a.method||o,formEncType:a.encType||s,replace:a.replace,state:a.state,fromRouteId:r,flushSync:a.flushSync,viewTransition:a.viewTransition})},[e,n,r])}const ht=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let a=e.charCodeAt(r);a<128?t[n++]=a:a<2048?(t[n++]=a>>6|192,t[n++]=63&a|128):55296===(64512&a)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(a=65536+((1023&a)<<10)+(1023&e.charCodeAt(++r)),t[n++]=a>>18|240,t[n++]=a>>12&63|128,t[n++]=a>>6&63|128,t[n++]=63&a|128):(t[n++]=a>>12|224,t[n++]=a>>6&63|128,t[n++]=63&a|128)}return t},ft={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<e.length;a+=3){const t=e[a],i=a+1<e.length,o=i?e[a+1]:0,s=a+2<e.length,l=s?e[a+2]:0,c=t>>2,u=(3&t)<<4|o>>4;let d=(15&o)<<2|l>>6,h=63&l;s||(h=64,i||(d=64)),r.push(n[c],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(ht(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const a=e[n++];if(a<128)t[r++]=String.fromCharCode(a);else if(a>191&&a<224){const i=e[n++];t[r++]=String.fromCharCode((31&a)<<6|63&i)}else if(a>239&&a<365){const i=((7&a)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(i>>10)),t[r++]=String.fromCharCode(56320+(1023&i))}else{const i=e[n++],o=e[n++];t[r++]=String.fromCharCode((15&a)<<12|(63&i)<<6|63&o)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<e.length;){const t=n[e.charAt(a++)],i=a<e.length?n[e.charAt(a)]:0;++a;const o=a<e.length?n[e.charAt(a)]:64;++a;const s=a<e.length?n[e.charAt(a)]:64;if(++a,null==t||null==i||null==o||null==s)throw new pt;const l=t<<2|i>>4;if(r.push(l),64!==o){const e=i<<4&240|o>>2;if(r.push(e),64!==s){const e=o<<6&192|s;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class pt extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const mt=function(e){return function(e){const t=ht(e);return ft.encodeByteArray(t,!0)}(e).replace(/\./g,"")},gt=function(e){try{return ft.decodeString(e,!0)}catch(MH){console.error("base64Decode failed: ",MH)}return null};function yt(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}const vt=()=>{try{return yt().__FIREBASE_DEFAULTS__||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"/pesa",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyARjanzH8bylb2FsQdz60yI2hs8ud-yqwc",REACT_APP_FIREBASE_APP_ID:"1:499758129287:web:d8764dc451a1e1c6941822",REACT_APP_FIREBASE_AUTH_DOMAIN:"budget-backend-09.firebaseapp.com",REACT_APP_FIREBASE_MEASUREMENT_ID:"G-HBS9QEKQZ8",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"499758129287",REACT_APP_FIREBASE_PROJECT_ID:"budget-backend-09",REACT_APP_FIREBASE_STORAGE_BUCKET:"budget-backend-09.firebasestorage.app"}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(MH){return}const t=e&&gt(e[1]);return t&&JSON.parse(t)})()}catch(MH){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${MH}`)}},bt=e=>vt()?.emulatorHosts?.[e],xt=()=>vt()?.config,wt=e=>vt()?.[`_${e}`];class kt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function St(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Et(e){return(await fetch(e,{credentials:"include"})).ok}const Nt={};let jt=!1;function _t(e,t){if("undefined"===typeof window||"undefined"===typeof document||!St(window.location.host)||Nt[e]===t||Nt[e]||jt)return;function n(e){return`__firebase__banner__${e}`}Nt[e]=t;const r="__firebase__banner",a=function(){const e={prod:[],emulator:[]};for(const t of Object.keys(Nt))Nt[t]?e.emulator.push(t):e.prod.push(t);return e}().prod.length>0;function i(){const e=document.createElement("span");return e.style.cursor="pointer",e.style.marginLeft="16px",e.style.fontSize="24px",e.innerHTML=" &times;",e.onclick=()=>{jt=!0,function(){const e=document.getElementById(r);e&&e.remove()}()},e}function o(){const e=function(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}(r),t=n("text"),o=document.getElementById(t)||document.createElement("span"),s=n("learnmore"),l=document.getElementById(s)||document.createElement("a"),c=n("preprendIcon"),u=document.getElementById(c)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(e.created){const t=e.element;!function(e){e.style.display="flex",e.style.background="#7faaf0",e.style.position="fixed",e.style.bottom="5px",e.style.left="5px",e.style.padding=".5em",e.style.borderRadius="5px",e.style.alignItems="center"}(t),function(e,t){e.setAttribute("id",t),e.innerText="Learn more",e.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",e.setAttribute("target","__blank"),e.style.paddingLeft="5px",e.style.textDecoration="underline"}(l,s);const n=i();!function(e,t){e.setAttribute("width","24"),e.setAttribute("id",t),e.setAttribute("height","24"),e.setAttribute("viewBox","0 0 24 24"),e.setAttribute("fill","none"),e.style.marginLeft="-6px"}(u,c),t.append(u,o,l,n),document.body.appendChild(t)}a?(o.innerText="Preview backend disconnected.",u.innerHTML='<g clip-path="url(#clip0_6013_33858)">\n<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6013_33858">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>'):(u.innerHTML='<g clip-path="url(#clip0_6083_34804)">\n<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6083_34804">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>',o.innerText="Preview backend running in this workspace."),o.setAttribute("id",t)}"loading"===document.readyState?window.addEventListener("DOMContentLoaded",o):o()}function Tt(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function At(){const e=vt()?.forceEnvironment;if("node"===e)return!0;if("browser"===e)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(MH){return!1}}function Ct(){return!At()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ot(){try{return"object"===typeof indexedDB}catch(MH){return!1}}class It extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,It.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Pt.prototype.create)}}class Pt{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n=`${this.service}/${e}`,r=this.errors[e],a=r?function(e,t){return e.replace(Dt,(e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`})}(r,t):"Error",i=`${this.serviceName}: ${a} (${n}).`;return new It(n,i,t)}}const Dt=/\{\$([^}]+)}/g;function Mt(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const a of n){if(!r.includes(a))return!1;const n=e[a],i=t[a];if(Rt(n)&&Rt(i)){if(!Mt(n,i))return!1}else if(n!==i)return!1}for(const a of r)if(!n.includes(a))return!1;return!0}function Rt(e){return null!==e&&"object"===typeof e}function Lt(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Ft(e){const t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function zt(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class Ut{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=Vt),void 0===r.error&&(r.error=Vt),void 0===r.complete&&(r.complete=Vt);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(MH){}}),this.observers.push(r),a}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(MH){"undefined"!==typeof console&&console.error&&console.error(MH)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Vt(){}function Bt(e){return e&&e._delegate?e._delegate:e}class $t{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ht="[DEFAULT]";class Kt{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new kt;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(MH){}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),n=e?.optional??!1;if(!this.isInitialized(t)&&!this.shouldAutoInitialize()){if(n)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:t})}catch(MH){if(n)return null;throw MH}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Ht})}catch(MH){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(MH){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ht;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ht;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ht;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[a,i]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(a)&&i.resolve(r)}return r}onInit(e,t){const n=this.normalizeInstanceIdentifier(t),r=this.onInitCallbacks.get(n)??new Set;r.add(e),this.onInitCallbacks.set(n,r);const a=this.instances.get(n);return a&&e(a,n),()=>{r.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const r of n)try{r(e,t)}catch{}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(a=t,a===Ht?void 0:a),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}var a;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ht;return this.component?this.component.multipleInstances?e:Ht:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class qt{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Kt(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const Wt=[];var Gt;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Gt||(Gt={}));const Yt={debug:Gt.DEBUG,verbose:Gt.VERBOSE,info:Gt.INFO,warn:Gt.WARN,error:Gt.ERROR,silent:Gt.SILENT},Qt=Gt.INFO,Xt={[Gt.DEBUG]:"log",[Gt.VERBOSE]:"log",[Gt.INFO]:"info",[Gt.WARN]:"warn",[Gt.ERROR]:"error"},Jt=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=Xt[t];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);for(var a=arguments.length,i=new Array(a>2?a-2:0),o=2;o<a;o++)i[o-2]=arguments[o];console[r](`[${n}]  ${e.name}:`,...i)};class Zt{constructor(e){this.name=e,this._logLevel=Qt,this._logHandler=Jt,this._userLogHandler=null,Wt.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Gt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?Yt[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Gt.DEBUG,...t),this._logHandler(this,Gt.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Gt.VERBOSE,...t),this._logHandler(this,Gt.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Gt.INFO,...t),this._logHandler(this,Gt.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Gt.WARN,...t),this._logHandler(this,Gt.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Gt.ERROR,...t),this._logHandler(this,Gt.ERROR,...t)}}let en,tn;const nn=new WeakMap,rn=new WeakMap,an=new WeakMap,on=new WeakMap,sn=new WeakMap;let ln={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return rn.get(e);if("objectStoreNames"===t)return e.objectStoreNames||an.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return dn(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function cn(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(tn||(tn=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(hn(this),n),dn(nn.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return dn(e.apply(hn(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];const i=e.call(hn(this),t,...r);return an.set(i,t.sort?t.sort():[t]),dn(i)}}function un(e){return"function"===typeof e?cn(e):(e instanceof IDBTransaction&&function(e){if(rn.has(e))return;const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",a),e.removeEventListener("error",i),e.removeEventListener("abort",i)},a=()=>{t(),r()},i=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",a),e.addEventListener("error",i),e.addEventListener("abort",i)});rn.set(e,t)}(e),((e,t)=>t.some(t=>e instanceof t))(e,en||(en=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,ln):e)}function dn(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",a),e.removeEventListener("error",i)},a=()=>{t(dn(e.result)),r()},i=()=>{n(e.error),r()};e.addEventListener("success",a),e.addEventListener("error",i)});return t.then(t=>{t instanceof IDBCursor&&nn.set(t,e)}).catch(()=>{}),sn.set(t,e),t}(e);if(on.has(e))return on.get(e);const t=un(e);return t!==e&&(on.set(e,t),sn.set(t,e)),t}const hn=e=>sn.get(e);const fn=["get","getKey","getAll","getAllKeys","count"],pn=["put","add","delete","clear"],mn=new Map;function gn(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(mn.get(t))return mn.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,a=pn.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!a&&!fn.includes(n))return;const i=async function(e){const t=this.transaction(e,a?"readwrite":"readonly");let i=t.store;for(var o=arguments.length,s=new Array(o>1?o-1:0),l=1;l<o;l++)s[l-1]=arguments[l];return r&&(i=i.index(s.shift())),(await Promise.all([i[n](...s),a&&t.done]))[0]};return mn.set(t,i),i}ln=(e=>({...e,get:(t,n,r)=>gn(t,n)||e.get(t,n,r),has:(t,n)=>!!gn(t,n)||e.has(t,n)}))(ln);class yn{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===t?.type}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null}).filter(e=>e).join(" ")}}const vn="@firebase/app",bn="0.14.0",xn=new Zt("@firebase/app"),wn="@firebase/app-compat",kn="@firebase/analytics-compat",Sn="@firebase/analytics",En="@firebase/app-check-compat",Nn="@firebase/app-check",jn="@firebase/auth",_n="@firebase/auth-compat",Tn="@firebase/database",An="@firebase/data-connect",Cn="@firebase/database-compat",On="@firebase/functions",In="@firebase/functions-compat",Pn="@firebase/installations",Dn="@firebase/installations-compat",Mn="@firebase/messaging",Rn="@firebase/messaging-compat",Ln="@firebase/performance",Fn="@firebase/performance-compat",zn="@firebase/remote-config",Un="@firebase/remote-config-compat",Vn="@firebase/storage",Bn="@firebase/storage-compat",$n="@firebase/firestore",Hn="@firebase/ai",Kn="@firebase/firestore-compat",qn="firebase",Wn="[DEFAULT]",Gn={[vn]:"fire-core",[wn]:"fire-core-compat",[Sn]:"fire-analytics",[kn]:"fire-analytics-compat",[Nn]:"fire-app-check",[En]:"fire-app-check-compat",[jn]:"fire-auth",[_n]:"fire-auth-compat",[Tn]:"fire-rtdb",[An]:"fire-data-connect",[Cn]:"fire-rtdb-compat",[On]:"fire-fn",[In]:"fire-fn-compat",[Pn]:"fire-iid",[Dn]:"fire-iid-compat",[Mn]:"fire-fcm",[Rn]:"fire-fcm-compat",[Ln]:"fire-perf",[Fn]:"fire-perf-compat",[zn]:"fire-rc",[Un]:"fire-rc-compat",[Vn]:"fire-gcs",[Bn]:"fire-gcs-compat",[$n]:"fire-fst",[Kn]:"fire-fst-compat",[Hn]:"fire-vertex","fire-js":"fire-js",[qn]:"fire-js-all"},Yn=new Map,Qn=new Map,Xn=new Map;function Jn(e,t){try{e.container.addComponent(t)}catch(MH){xn.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,MH)}}function Zn(e){const t=e.name;if(Xn.has(t))return xn.debug(`There were multiple attempts to register component ${t}.`),!1;Xn.set(t,e);for(const n of Yn.values())Jn(n,e);for(const n of Qn.values())Jn(n,e);return!0}function er(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function tr(e){return null!==e&&void 0!==e&&void 0!==e.settings}const nr=new Pt("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class rr{constructor(e,t,n){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new $t("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw nr.create("app-deleted",{appName:this._name})}}const ar="12.0.0";function ir(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r={name:Wn,automaticDataCollectionEnabled:!0,...t},a=r.name;if("string"!==typeof a||!a)throw nr.create("bad-app-name",{appName:String(a)});if(n||(n=xt()),!n)throw nr.create("no-options");const i=Yn.get(a);if(i){if(Mt(n,i.options)&&Mt(r,i.config))return i;throw nr.create("duplicate-app",{appName:a})}const o=new qt(a);for(const l of Xn.values())o.addComponent(l);const s=new rr(n,r,o);return Yn.set(a,s),s}function or(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wn;const t=Yn.get(e);if(!t&&e===Wn&&xt())return ir();if(!t)throw nr.create("no-app",{appName:e});return t}function sr(e,t,n){let r=Gn[e]??e;n&&(r+=`-${n}`);const a=r.match(/\s|\//),i=t.match(/\s|\//);if(a||i){const e=[`Unable to register library "${r}" with version "${t}":`];return a&&e.push(`library name "${r}" contains illegal characters (whitespace or "/")`),a&&i&&e.push("and"),i&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void xn.warn(e.join(" "))}Zn(new $t(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}const lr="firebase-heartbeat-store";let cr=null;function ur(){return cr||(cr=function(e,t){let{blocked:n,upgrade:r,blocking:a,terminated:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=indexedDB.open(e,t),s=dn(o);return r&&o.addEventListener("upgradeneeded",e=>{r(dn(o.result),e.oldVersion,e.newVersion,dn(o.transaction),e)}),n&&o.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),s.then(e=>{i&&e.addEventListener("close",()=>i()),a&&e.addEventListener("versionchange",e=>a(e.oldVersion,e.newVersion,e))}).catch(()=>{}),s}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(lr)}catch(MH){console.warn(MH)}}}).catch(e=>{throw nr.create("idb-open",{originalErrorMessage:e.message})})),cr}async function dr(e,t){try{const n=(await ur()).transaction(lr,"readwrite"),r=n.objectStore(lr);await r.put(t,hr(e)),await n.done}catch(MH){if(MH instanceof It)xn.warn(MH.message);else{const t=nr.create("idb-set",{originalErrorMessage:MH?.message});xn.warn(t.message)}}}function hr(e){return`${e.name}!${e.options.appId}`}class fr{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new mr(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){try{const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),t=pr();if(null==this._heartbeatsCache?.heartbeats&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==this._heartbeatsCache?.heartbeats))return;if(this._heartbeatsCache.lastSentHeartbeatDate===t||this._heartbeatsCache.heartbeats.some(e=>e.date===t))return;if(this._heartbeatsCache.heartbeats.push({date:t,agent:e}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(MH){xn.warn(MH)}}async getHeartbeatsHeader(){try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==this._heartbeatsCache?.heartbeats||0===this._heartbeatsCache.heartbeats.length)return"";const e=pr(),{heartbeatsToSend:t,unsentEntries:n}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const a of e){const e=n.find(e=>e.agent===a.agent);if(e){if(e.dates.push(a.date),gr(n)>t){e.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),gr(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),r=mt(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(MH){return xn.warn(MH),""}}}function pr(){return(new Date).toISOString().substring(0,10)}class mr{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!Ot()&&new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{t(a.error?.message||"")}}catch(n){t(n)}}).then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await ur()).transaction(lr),n=await t.objectStore(lr).get(hr(e));return await t.done,n}catch(MH){if(MH instanceof It)xn.warn(MH.message);else{const t=nr.create("idb-get",{originalErrorMessage:MH?.message});xn.warn(t.message)}}}(this.app);return e?.heartbeats?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const t=await this.read();return dr(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??t.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){if(await this._canUseIndexedDBPromise){const t=await this.read();return dr(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??t.lastSentHeartbeatDate,heartbeats:[...t.heartbeats,...e.heartbeats]})}}}function gr(e){return mt(JSON.stringify({version:2,heartbeats:e})).length}var yr;yr="",Zn(new $t("platform-logger",e=>new yn(e),"PRIVATE")),Zn(new $t("heartbeat",e=>new fr(e),"PRIVATE")),sr(vn,bn,yr),sr(vn,bn,"esm2020"),sr("fire-js","");sr("firebase","12.0.0","app");function vr(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const br=vr,xr=new Pt("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),wr=new Zt("@firebase/auth");function kr(e){if(wr.logLevel<=Gt.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];wr.error(`Auth (${ar}): ${e}`,...n)}}function Sr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Tr(e,...n)}function Er(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Tr(e,...n)}function Nr(e,t,n){const r={...br(),[t]:n};return new Pt("auth","Firebase",r).create(t,{appName:e.name})}function jr(e){return Nr(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function _r(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&Sr(e,"argument-error"),Nr(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Tr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return xr.create(e,...n)}function Ar(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];throw Tr(t,...r)}}function Cr(e){const t="INTERNAL ASSERTION FAILED: "+e;throw kr(t),new Error(t)}function Or(e,t){e||Cr(t)}function Ir(){return"undefined"!==typeof self&&self.location?.href||""}function Pr(){return"http:"===Dr()||"https:"===Dr()}function Dr(){return"undefined"!==typeof self&&self.location?.protocol||null}function Mr(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Pr()||function(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}class Rr{constructor(e,t){this.shortDelay=e,this.longDelay=t,Or(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Tt())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return Mr()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Lr(e,t){Or(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class Fr{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void Cr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void Cr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void Cr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const zr={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Ur=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Vr=new Rr(3e4,6e4);function Br(e,t){return e.tenantId&&!t.tenantId?{...t,tenantId:e.tenantId}:t}async function $r(e,t,n,r){return Hr(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},async()=>{let a={},i={};r&&("GET"===t?i=r:a={body:JSON.stringify(r)});const o=Lt({key:e.config.apiKey,...i}).slice(1),s=await e._getAdditionalHeaders();s["Content-Type"]="application/json",e.languageCode&&(s["X-Firebase-Locale"]=e.languageCode);const l={method:t,headers:s,...a};return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||(l.referrerPolicy="no-referrer"),e.emulatorConfig&&St(e.emulatorConfig.host)&&(l.credentials="include"),Fr.fetch()(await qr(e,e.config.apiHost,n,o),l)})}async function Hr(e,t,n){e._canInitEmulator=!1;const r={...zr,...t};try{const t=new Gr(e),a=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const i=await a.json();if("needConfirmation"in i)throw Yr(e,"account-exists-with-different-credential",i);if(a.ok&&!("errorMessage"in i))return i;{const t=a.ok?i.errorMessage:i.error.message,[n,o]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw Yr(e,"credential-already-in-use",i);if("EMAIL_EXISTS"===n)throw Yr(e,"email-already-in-use",i);if("USER_DISABLED"===n)throw Yr(e,"user-disabled",i);const s=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(o)throw Nr(e,s,o);Sr(e,s)}}catch(MH){if(MH instanceof It)throw MH;Sr(e,"network-request-failed",{message:String(MH)})}}async function Kr(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const i=await $r(e,t,n,r,a);return"mfaPendingCredential"in i&&Sr(e,"multi-factor-auth-required",{_serverResponse:i}),i}async function qr(e,t,n,r){const a=`${t}${n}?${r}`,i=e,o=i.config.emulator?Lr(e.config,a):`${e.config.apiScheme}://${a}`;if(Ur.includes(n)&&(await i._persistenceManagerAvailable,"COOKIE"===i._getPersistenceType())){return i._getPersistence()._getFinalTarget(o).toString()}return o}function Wr(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Gr{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(Er(this.auth,"network-request-failed")),Vr.get())})}}function Yr(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const a=Er(e,t,r);return a.customData._tokenResponse=n,a}function Qr(e){return void 0!==e&&void 0!==e.enterprise}class Xr{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Wr(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Jr(e,t){return $r(e,"GET","/v2/recaptchaConfig",Br(e,t))}async function Zr(e,t){return $r(e,"POST","/v1/accounts:lookup",t)}function ea(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(MH){}}function ta(e){return 1e3*Number(e)}function na(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return kr("JWT malformed, contained fewer than 3 sections"),null;try{const e=gt(n);return e?JSON.parse(e):(kr("Failed to decode base64 JWT payload"),null)}catch(MH){return kr("Caught error parsing JWT payload as JSON",MH?.toString()),null}}function ra(e){const t=na(e);return Ar(t,"internal-error"),Ar("undefined"!==typeof t.exp,"internal-error"),Ar("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function aa(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(MH){throw MH instanceof It&&function(e){let{code:t}=e;return"auth/user-disabled"===t||"auth/user-token-expired"===t}(MH)&&e.auth.currentUser===e&&await e.auth.signOut(),MH}}class ia{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(MH){return void("auth/network-request-failed"===MH?.code&&this.schedule(!0))}this.schedule()}}class oa{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=ea(this.lastLoginAt),this.creationTime=ea(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function sa(e){const t=e.auth,n=await e.getIdToken(),r=await aa(e,Zr(t,{idToken:n}));Ar(r?.users.length,t,"internal-error");const a=r.users[0];e._notifyReloadListener(a);const i=a.providerUserInfo?.length?la(a.providerUserInfo):[],o=function(e,t){const n=e.filter(e=>!t.some(t=>t.providerId===e.providerId));return[...n,...t]}(e.providerData,i),s=e.isAnonymous,l=!(e.email&&a.passwordHash)&&!o?.length,c=!!s&&l,u={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:o,metadata:new oa(a.createdAt,a.lastLoginAt),isAnonymous:c};Object.assign(e,u)}function la(e){return e.map(e=>{let{providerId:t,...n}=e;return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}class ca{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ar(e.idToken,"internal-error"),Ar("undefined"!==typeof e.idToken,"internal-error"),Ar("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):ra(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ar(0!==e.length,"internal-error");const t=ra(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(Ar(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:a}=await async function(e,t){const n=await Hr(e,{},async()=>{const n=Lt({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:a}=e.config,i=await qr(e,r,"/v1/token",`key=${a}`),o=await e._getAdditionalHeaders();o["Content-Type"]="application/x-www-form-urlencoded";const s={method:"POST",headers:o,body:n};return e.emulatorConfig&&St(e.emulatorConfig.host)&&(s.credentials="include"),Fr.fetch()(i,s)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(a))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:a}=t,i=new ca;return n&&(Ar("string"===typeof n,"internal-error",{appName:e}),i.refreshToken=n),r&&(Ar("string"===typeof r,"internal-error",{appName:e}),i.accessToken=r),a&&(Ar("number"===typeof a,"internal-error",{appName:e}),i.expirationTime=a),i}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ca,this.toJSON())}_performRefresh(){return Cr("not implemented")}}function ua(e,t){Ar("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class da{constructor(e){let{uid:t,auth:n,stsTokenManager:r,...a}=e;this.providerId="firebase",this.proactiveRefresh=new ia(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new oa(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await aa(this,this.stsTokenManager.getToken(this.auth,e));return Ar(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=Bt(e),r=await n.getIdToken(t),a=na(r);Ar(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const i="object"===typeof a.firebase?a.firebase:void 0,o=i?.sign_in_provider;return{claims:a,token:r,authTime:ea(ta(a.auth_time)),issuedAtTime:ea(ta(a.iat)),expirationTime:ea(ta(a.exp)),signInProvider:o||null,signInSecondFactor:i?.sign_in_second_factor||null}}(this,e)}reload(){return async function(e){const t=Bt(e);await sa(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(Ar(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>({...e})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new da({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Ar(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await sa(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(tr(this.auth.app))return Promise.reject(jr(this.auth));const e=await this.getIdToken();return await aa(this,async function(e,t){return $r(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const n=t.displayName??void 0,r=t.email??void 0,a=t.phoneNumber??void 0,i=t.photoURL??void 0,o=t.tenantId??void 0,s=t._redirectEventId??void 0,l=t.createdAt??void 0,c=t.lastLoginAt??void 0,{uid:u,emailVerified:d,isAnonymous:h,providerData:f,stsTokenManager:p}=t;Ar(u&&p,e,"internal-error");const m=ca.fromJSON(this.name,p);Ar("string"===typeof u,e,"internal-error"),ua(n,e.name),ua(r,e.name),Ar("boolean"===typeof d,e,"internal-error"),Ar("boolean"===typeof h,e,"internal-error"),ua(a,e.name),ua(i,e.name),ua(o,e.name),ua(s,e.name),ua(l,e.name),ua(c,e.name);const g=new da({uid:u,auth:e,email:r,emailVerified:d,displayName:n,isAnonymous:h,photoURL:i,phoneNumber:a,tenantId:o,stsTokenManager:m,createdAt:l,lastLoginAt:c});return f&&Array.isArray(f)&&(g.providerData=f.map(e=>({...e}))),s&&(g._redirectEventId=s),g}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new ca;r.updateFromServerResponse(t);const a=new da({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await sa(a),a}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];Ar(void 0!==r.localId,"internal-error");const a=void 0!==r.providerUserInfo?la(r.providerUserInfo):[],i=!(r.email&&r.passwordHash)&&!a?.length,o=new ca;o.updateFromIdToken(n);const s=new da({uid:r.localId,auth:e,stsTokenManager:o,isAnonymous:i}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:a,metadata:new oa(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!a?.length};return Object.assign(s,l),s}}const ha=new Map;function fa(e){Or(e instanceof Function,"Expected a class definition");let t=ha.get(e);return t?(Or(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,ha.set(e,t),t)}class pa{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}pa.type="NONE";const ma=pa;function ga(e,t,n){return`firebase:${e}:${t}:${n}`}class ya{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:a}=this.auth;this.fullUserKey=ga(this.userKey,r.apiKey,a),this.fullPersistenceKey=ga("persistence",r.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if("string"===typeof e){const t=await Zr(this.auth,{idToken:e}).catch(()=>{});return t?da._fromGetAccountInfoResponse(this.auth,t,e):null}return da._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new ya(fa(ma),e,n);const r=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e);let a=r[0]||fa(ma);const i=ga(n,e.config.apiKey,e.name);let o=null;for(const l of t)try{const t=await l._get(i);if(t){let n;if("string"===typeof t){const r=await Zr(e,{idToken:t}).catch(()=>{});if(!r)break;n=await da._fromGetAccountInfoResponse(e,r,t)}else n=da._fromJSON(e,t);l!==a&&(o=n),a=l;break}}catch{}const s=r.filter(e=>e._shouldAllowMigration);return a._shouldAllowMigration&&s.length?(a=s[0],o&&await a._set(i,o.toJSON()),await Promise.all(t.map(async e=>{if(e!==a)try{await e._remove(i)}catch{}})),new ya(a,e,n)):new ya(a,e,n)}}function va(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(ka(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(ba(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Ea(t))return"Blackberry";if(Na(t))return"Webos";if(xa(t))return"Safari";if((t.includes("chrome/")||wa(t))&&!t.includes("edge/"))return"Chrome";if(Sa(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===n?.length)return n[1]}return"Other"}function ba(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tt();return/firefox\//i.test(e)}function xa(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tt()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function wa(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tt();return/crios\//i.test(e)}function ka(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tt();return/iemobile/i.test(e)}function Sa(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tt();return/android/i.test(e)}function Ea(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tt();return/blackberry/i.test(e)}function Na(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tt();return/webos/i.test(e)}function ja(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tt();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function _a(){return function(){const e=Tt();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function Ta(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tt();return ja(e)||Sa(e)||Na(e)||Ea(e)||/windows phone/i.test(e)||ka(e)}function Aa(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=va(Tt());break;case"Worker":t=`${va(Tt())}-${e}`;break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return`${t}/JsCore/${ar}/${r}`}class Ca{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise((n,r)=>{try{n(e(t))}catch(MH){r(MH)}});n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(MH){t.reverse();for(const r of t)try{r()}catch(n){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:MH?.message})}}}class Oa{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??6,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),void 0!==t.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),void 0!==t.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),void 0!==t.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),void 0!==t.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}class Ia{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Da(this),this.idTokenSubscription=new Da(this),this.beforeStateQueue=new Ca(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=xr,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(e=>this._resolvePersistenceManagerAvailable=e)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=fa(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await ya.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(MH){}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await Zr(this,{idToken:e}),n=await da._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(tr(this.app)){const e=this.app.settings.authIdToken;return e?new Promise(t=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(e).then(t,t))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let n=t,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const t=this.redirectUser?._redirectEventId,a=n?._redirectEventId,i=await this.tryRedirectSignIn(e);t&&t!==a||!i?.user||(n=i.user,r=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(n)}catch(MH){n=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(MH))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return Ar(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(MH){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await sa(e)}catch(MH){if("auth/network-request-failed"!==MH?.code)return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(tr(this.app))return Promise.reject(jr(this));const t=e?Bt(e):null;return t&&Ar(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&Ar(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return tr(this.app)?Promise.reject(jr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return tr(this.app)?Promise.reject(jr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(fa(e))})}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return $r(e,"GET","/v2/passwordPolicy",Br(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new Oa(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Pt("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return $r(e,"POST","/v2/accounts:revokeToken",Br(e,t))}(this,t)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&fa(e)||this._popupRedirectResolver;Ar(t,this,"argument-error"),this.redirectPersistenceManager=await ya.create(this,[fa(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const a="function"===typeof t?t:t.next.bind(t);let i=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ar(o,this,"internal-error"),o.then(()=>{i||a(this.currentUser)}),"function"===typeof t){const a=e.addObserver(t,n,r);return()=>{i=!0,a()}}{const n=e.addObserver(t);return()=>{i=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ar(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Aa(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await(this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader());t&&(e["X-Firebase-Client"]=t);const n=await this._getAppCheckToken();return n&&(e["X-Firebase-AppCheck"]=n),e}async _getAppCheckToken(){if(tr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await(this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken());return e?.error&&function(e){if(wr.logLevel<=Gt.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];wr.warn(`Auth (${ar}): ${e}`,...n)}}(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Pa(e){return Bt(e)}class Da{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new Ut(e,t);return n.subscribe.bind(n)}(e=>this.observer=e)}get next(){return Ar(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Ma={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Ra(e){return Ma.loadJS(e)}function La(e){return`__${e}${Math.floor(1e6*Math.random())}`}class Fa{constructor(){this.enterprise=new za}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class za{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const Ua="NO_RECAPTCHA";class Va{constructor(e){this.type="recaptcha-enterprise",this.auth=Pa(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const a=window.grecaptcha;Qr(a)?a.enterprise.ready(()=>{a.enterprise.execute(t,{action:e}).then(e=>{n(e)}).catch(()=>{n(Ua)})}):r(Error("No reCAPTCHA enterprise script loaded."))}if(this.auth.settings.appVerificationDisabledForTesting){return(new Fa).execute("siteKey",{action:"verify"})}return new Promise((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,n)=>{Jr(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(r=>{if(void 0!==r.recaptchaKey){const n=new Xr(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))}).catch(e=>{n(e)})})})(this.auth).then(a=>{if(!t&&Qr(window.grecaptcha))n(a,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=Ma.recaptchaEnterpriseScript;0!==t.length&&(t+=a),Ra(t).then(()=>{n(a,e,r)}).catch(e=>{r(e)})}}).catch(e=>{r(e)})})}}async function Ba(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const i=new Va(e);let o;if(a)o=Ua;else try{o=await i.verify(n)}catch(l){o=await i.verify(n,!0)}const s={...t};if("mfaSmsEnrollment"===n||"mfaSmsSignIn"===n){if("phoneEnrollmentInfo"in s){const e=s.phoneEnrollmentInfo.phoneNumber,t=s.phoneEnrollmentInfo.recaptchaToken;Object.assign(s,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in s){const e=s.phoneSignInInfo.recaptchaToken;Object.assign(s,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return s}return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function $a(e,t,n,r,a){if("EMAIL_PASSWORD_PROVIDER"===a){if(e._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await Ba(e,t,n,"getOobCode"===n);return r(e,a)}return r(e,t).catch(async a=>{if("auth/missing-recaptcha-token"===a.code){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await Ba(e,t,n,"getOobCode"===n);return r(e,a)}return Promise.reject(a)})}if("PHONE_PROVIDER"===a){if(e._getRecaptchaConfig()?.isProviderEnabled("PHONE_PROVIDER")){const a=await Ba(e,t,n);return r(e,a).catch(async a=>{if("AUDIT"===e._getRecaptchaConfig()?.getProviderEnforcementState("PHONE_PROVIDER")&&("auth/missing-recaptcha-token"===a.code||"auth/invalid-app-credential"===a.code)){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);const a=await Ba(e,t,n,!1,!0);return r(e,a)}return Promise.reject(a)})}{const a=await Ba(e,t,n,!1,!0);return r(e,a)}}return Promise.reject(a+" provider is not supported.")}async function Ha(e){const t=Pa(e),n=await Jr(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new Xr(n);if(null==t.tenantId?t._agentRecaptchaConfig=r:t._tenantRecaptchaConfigs[t.tenantId]=r,r.isAnyProviderEnabled()){new Va(t).verify()}}function Ka(e,t,n){const r=Pa(e);Ar(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const a=!!n?.disableWarnings,i=qa(t),{host:o,port:s}=function(e){const t=qa(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const e=a[1];return{host:e,port:Wa(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Wa(t)}}}(t),l=null===s?"":`:${s}`,c={url:`${i}//${o}${l}/`},u=Object.freeze({host:o,port:s,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!r._canInitEmulator)return Ar(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),void Ar(Mt(c,r.config.emulator)&&Mt(u,r.emulatorConfig),r,"emulator-config-failed");r.config.emulator=c,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,St(o)?(Et(`${i}//${o}${l}`),_t("Auth",!0)):a||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function qa(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Wa(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Ga{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Cr("not implemented")}_getIdTokenResponse(e){return Cr("not implemented")}_linkToIdToken(e,t){return Cr("not implemented")}_getReauthenticationResolver(e){return Cr("not implemented")}}async function Ya(e,t){return $r(e,"POST","/v1/accounts:signUp",t)}async function Qa(e,t){return Kr(e,"POST","/v1/accounts:signInWithPassword",Br(e,t))}class Xa extends Ga{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Xa(e,t,"password")}static _fromEmailAndCode(e,t){return new Xa(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if(t?.email&&t?.password){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return $a(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Qa,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return Kr(e,"POST","/v1/accounts:signInWithEmailLink",Br(e,t))}(e,{email:this._email,oobCode:this._password});default:Sr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return $a(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Ya,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return Kr(e,"POST","/v1/accounts:signInWithEmailLink",Br(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:Sr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Ja(e,t){return Kr(e,"POST","/v1/accounts:signInWithIdp",Br(e,t))}class Za extends Ga{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Za(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Sr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r,...a}=t;if(!n||!r)return null;const i=new Za(n,r);return i.idToken=a.idToken||void 0,i.accessToken=a.accessToken||void 0,i.secret=a.secret,i.nonce=a.nonce,i.pendingToken=a.pendingToken||null,i}_getIdTokenResponse(e){return Ja(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Ja(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ja(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Lt(t)}return e}}async function ei(e,t){return $r(e,"POST","/v1/accounts:sendVerificationCode",Br(e,t))}const ti={USER_NOT_FOUND:"user-not-found"};class ni extends Ga{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new ni({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new ni({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return Kr(e,"POST","/v1/accounts:signInWithPhoneNumber",Br(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await Kr(e,"POST","/v1/accounts:signInWithPhoneNumber",Br(e,t));if(n.temporaryProof)throw Yr(e,"account-exists-with-different-credential",n);return n}(e,{idToken:t,...this._makeVerificationRequest()})}_getReauthenticationResolver(e){return async function(e,t){return Kr(e,"POST","/v1/accounts:signInWithPhoneNumber",Br(e,{...t,operation:"REAUTH"}),ti)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:a}=e;return n||t||r||a?new ni({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:a}):null}}class ri{constructor(e){const t=Ft(zt(e)),n=t.apiKey??null,r=t.oobCode??null,a=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(t.mode??null);Ar(n&&r&&a,"argument-error"),this.apiKey=n,this.operation=a,this.code=r,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=function(e){const t=Ft(zt(e)).link,n=t?Ft(zt(t)).deep_link_id:null,r=Ft(zt(e)).deep_link_id;return(r?Ft(zt(r)).link:null)||r||n||t||e}(e);try{return new ri(t)}catch{return null}}}class ai{constructor(){this.providerId=ai.PROVIDER_ID}static credential(e,t){return Xa._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=ri.parseLink(t);return Ar(n,"argument-error"),Xa._fromEmailAndCode(e,n.code,n.tenantId)}}ai.PROVIDER_ID="password",ai.EMAIL_PASSWORD_SIGN_IN_METHOD="password",ai.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class ii{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class oi extends ii{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class si extends oi{constructor(){super("facebook.com")}static credential(e){return Za._fromParams({providerId:si.PROVIDER_ID,signInMethod:si.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return si.credentialFromTaggedObject(e)}static credentialFromError(e){return si.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return si.credential(t.oauthAccessToken)}catch{return null}}}si.FACEBOOK_SIGN_IN_METHOD="facebook.com",si.PROVIDER_ID="facebook.com";class li extends oi{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Za._fromParams({providerId:li.PROVIDER_ID,signInMethod:li.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return li.credentialFromTaggedObject(e)}static credentialFromError(e){return li.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return li.credential(n,r)}catch{return null}}}li.GOOGLE_SIGN_IN_METHOD="google.com",li.PROVIDER_ID="google.com";class ci extends oi{constructor(){super("github.com")}static credential(e){return Za._fromParams({providerId:ci.PROVIDER_ID,signInMethod:ci.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ci.credentialFromTaggedObject(e)}static credentialFromError(e){return ci.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return ci.credential(t.oauthAccessToken)}catch{return null}}}ci.GITHUB_SIGN_IN_METHOD="github.com",ci.PROVIDER_ID="github.com";class ui extends oi{constructor(){super("twitter.com")}static credential(e,t){return Za._fromParams({providerId:ui.PROVIDER_ID,signInMethod:ui.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ui.credentialFromTaggedObject(e)}static credentialFromError(e){return ui.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return ui.credential(n,r)}catch{return null}}}ui.TWITTER_SIGN_IN_METHOD="twitter.com",ui.PROVIDER_ID="twitter.com";class di{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const a=await da._fromIdTokenResponse(e,n,r),i=hi(n);return new di({user:a,providerId:i,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=hi(n);return new di({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function hi(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class fi extends It{constructor(e,t,n,r){super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,fi.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new fi(e,t,n,r)}}function pi(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if("auth/multi-factor-auth-required"===n.code)throw fi._fromErrorAndOperation(e,n,t,r);throw n})}async function mi(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await aa(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return di._forOperation(e,"link",r)}async function gi(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if(tr(r.app))return Promise.reject(jr(r));const a="reauthenticate";try{const i=await aa(e,pi(r,a,t,e),n);Ar(i.idToken,r,"internal-error");const o=na(i.idToken);Ar(o,r,"internal-error");const{sub:s}=o;return Ar(e.uid===s,r,"user-mismatch"),di._forOperation(e,a,i)}catch(MH){throw"auth/user-not-found"===MH?.code&&Sr(r,"user-mismatch"),MH}}async function yi(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(tr(e.app))return Promise.reject(jr(e));const r="signIn",a=await pi(e,r,t),i=await di._fromIdTokenResponse(e,r,a);return n||await e._updateCurrentUser(i.user),i}async function vi(e,t){let{displayName:n,photoURL:r}=t;if(void 0===n&&void 0===r)return;const a=Bt(e),i={idToken:await a.getIdToken(),displayName:n,photoUrl:r,returnSecureToken:!0},o=await aa(a,async function(e,t){return $r(e,"POST","/v1/accounts:update",t)}(a.auth,i));a.displayName=o.displayName||null,a.photoURL=o.photoUrl||null;const s=a.providerData.find(e=>{let{providerId:t}=e;return"password"===t});s&&(s.displayName=a.displayName,s.photoURL=a.photoURL),await a._updateTokensIfNecessary(o)}function bi(e,t){return $r(e,"POST","/v2/accounts/mfaEnrollment:start",Br(e,t))}new WeakMap;const xi="__sak";class wi{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(xi,"1"),this.storage.removeItem(xi),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class ki extends wi{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Ta(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},a=this.storage.getItem(n);_a()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}ki.type="LOCAL";const Si=ki;function Ei(e){const t=e.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),n=RegExp(`${t}=([^;]+)`);return document.cookie.match(n)?.[1]??null}function Ni(e){return`${"http:"===window.location.protocol?"__dev_":"__HOST-"}FIREBASE_${e.split(":")[3]}`}class ji{constructor(){this.type="COOKIE",this.listenerUnsubscribes=new Map}_getFinalTarget(e){if(void 0===typeof window)return e;const t=new URL(`${window.location.origin}/__cookies__`);return t.searchParams.set("finalTarget",e),t}async _isAvailable(){return!("boolean"===typeof isSecureContext&&!isSecureContext)&&("undefined"!==typeof navigator&&"undefined"!==typeof document&&(navigator.cookieEnabled??!0))}async _set(e,t){}async _get(e){if(!this._isAvailable())return null;const t=Ni(e);if(window.cookieStore){const e=await window.cookieStore.get(t);return e?.value}return Ei(t)}async _remove(e){if(!this._isAvailable())return;if(!await this._get(e))return;const t=Ni(e);document.cookie=`${t}=;Max-Age=34560000;Partitioned;Secure;SameSite=Strict;Path=/;Priority=High`,await fetch("/__cookies__",{method:"DELETE"}).catch(()=>{})}_addListener(e,t){if(!this._isAvailable())return;const n=Ni(e);if(window.cookieStore){const e=e=>{const r=e.changed.find(e=>e.name===n);r&&t(r.value);e.deleted.find(e=>e.name===n)&&t(null)},r=()=>window.cookieStore.removeEventListener("change",e);return this.listenerUnsubscribes.set(t,r),window.cookieStore.addEventListener("change",e)}let r=Ei(n);const a=setInterval(()=>{const e=Ei(n);e!==r&&(t(e),r=e)},1e3);this.listenerUnsubscribes.set(t,()=>clearInterval(a))}_removeListener(e,t){const n=this.listenerUnsubscribes.get(t);n&&(n(),this.listenerUnsubscribes.delete(t))}}ji.type="COOKIE";class _i extends wi{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}_i.type="SESSION";const Ti=_i;class Ai{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;const n=new Ai(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:a}=t.data,i=this.handlersMap[r];if(!i?.size)return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const o=Array.from(i).map(async e=>e(t.origin,a)),s=await function(e){return Promise.all(e.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}(o);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:s})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function Ci(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Ai.receivers=[];class Oi{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let a,i;return new Promise((o,s)=>{const l=Ci("",20);r.port1.start();const c=setTimeout(()=>{s(new Error("unsupported_event"))},n);i={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),a=setTimeout(()=>{s(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),o(t.data.response);break;default:clearTimeout(c),clearTimeout(a),s(new Error("invalid_response"))}}},this.handlers.add(i),r.port1.addEventListener("message",i.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])}).finally(()=>{i&&this.removeMessageHandler(i)})}}function Ii(){return window}function Pi(){return"undefined"!==typeof Ii().WorkerGlobalScope&&"function"===typeof Ii().importScripts}const Di="firebaseLocalStorageDb",Mi="firebaseLocalStorage",Ri="fbase_key";class Li{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Fi(e,t){return e.transaction([Mi],t?"readwrite":"readonly").objectStore(Mi)}function zi(){const e=indexedDB.open(Di,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore(Mi,{keyPath:Ri})}catch(MH){n(MH)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains(Mi)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(Di);return new Li(e).toPromise()}(),t(await zi()))})})}async function Ui(e,t,n){const r=Fi(e,!0).put({[Ri]:t,value:n});return new Li(r).toPromise()}function Vi(e,t){const n=Fi(e,!0).delete(t);return new Li(n).toPromise()}class Bi{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await zi()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(MH){if(t++>3)throw MH;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Pi()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ai._getInstance(Pi()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await async function(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}(),!this.activeServiceWorker)return;this.sender=new Oi(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&(navigator?.serviceWorker?.controller||null)===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await zi();return await Ui(e,xi,"1"),await Vi(e,xi),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Ui(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(t=>async function(e,t){const n=Fi(e,!1).get(t),r=await new Li(n).toPromise();return void 0===r?null:r.value}(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Vi(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(e=>{const t=Fi(e,!1).getAll();return new Li(t).toPromise()});if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:a}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(a)&&(this.notifyListeners(r,a),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Bi.type="LOCAL";const $i=Bi;function Hi(e,t){return $r(e,"POST","/v2/accounts/mfaSignIn:start",Br(e,t))}La("rcb"),new Rr(3e4,6e4);const Ki="recaptcha";async function qi(e,t,n){if(!e._getRecaptchaConfig())try{await Ha(e)}catch(r){console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let r;if(r="string"===typeof t?{phoneNumber:t}:t,"session"in r){const t=r.session;if("phoneNumber"in r){Ar("enroll"===t.type,e,"internal-error");const a={idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:r.phoneNumber,clientType:"CLIENT_TYPE_WEB"}},i=$a(e,a,"mfaSmsEnrollment",async(e,t)=>{if(t.phoneEnrollmentInfo.captchaResponse===Ua){Ar(n?.type===Ki,e,"argument-error");return bi(e,await Wi(e,t,n))}return bi(e,t)},"PHONE_PROVIDER");return(await i.catch(e=>Promise.reject(e))).phoneSessionInfo.sessionInfo}{Ar("signin"===t.type,e,"internal-error");const a=r.multiFactorHint?.uid||r.multiFactorUid;Ar(a,e,"missing-multi-factor-info");const i={mfaPendingCredential:t.credential,mfaEnrollmentId:a,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}},o=$a(e,i,"mfaSmsSignIn",async(e,t)=>{if(t.phoneSignInInfo.captchaResponse===Ua){Ar(n?.type===Ki,e,"argument-error");return Hi(e,await Wi(e,t,n))}return Hi(e,t)},"PHONE_PROVIDER");return(await o.catch(e=>Promise.reject(e))).phoneResponseInfo.sessionInfo}}{const t={phoneNumber:r.phoneNumber,clientType:"CLIENT_TYPE_WEB"},a=$a(e,t,"sendVerificationCode",async(e,t)=>{if(t.captchaResponse===Ua){Ar(n?.type===Ki,e,"argument-error");return ei(e,await Wi(e,t,n))}return ei(e,t)},"PHONE_PROVIDER");return(await a.catch(e=>Promise.reject(e))).sessionInfo}}finally{n?._reset()}}async function Wi(e,t,n){Ar(n.type===Ki,e,"argument-error");const r=await n.verify();Ar("string"===typeof r,e,"argument-error");const a={...t};if("phoneEnrollmentInfo"in a){const e=a.phoneEnrollmentInfo.phoneNumber,t=a.phoneEnrollmentInfo.captchaResponse,n=a.phoneEnrollmentInfo.clientType,i=a.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:r,captchaResponse:t,clientType:n,recaptchaVersion:i}}),a}if("phoneSignInInfo"in a){const e=a.phoneSignInInfo.captchaResponse,t=a.phoneSignInInfo.clientType,n=a.phoneSignInInfo.recaptchaVersion;return Object.assign(a,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:e,clientType:t,recaptchaVersion:n}}),a}return Object.assign(a,{recaptchaToken:r}),a}class Gi{constructor(e){this.providerId=Gi.PROVIDER_ID,this.auth=Pa(e)}verifyPhoneNumber(e,t){return qi(this.auth,e,Bt(t))}static credential(e,t){return ni._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Gi.credentialFromTaggedObject(t)}static credentialFromError(e){return Gi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?ni._fromTokenResponse(n,r):null}}function Yi(e,t){return t?fa(t):(Ar(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Gi.PROVIDER_ID="phone",Gi.PHONE_SIGN_IN_METHOD="phone";class Qi extends Ga{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ja(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ja(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ja(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Xi(e){return yi(e.auth,new Qi(e),e.bypassAuthState)}function Ji(e){const{auth:t,user:n}=e;return Ar(n,t,"internal-error"),gi(n,new Qi(e),e.bypassAuthState)}async function Zi(e){const{auth:t,user:n}=e;return Ar(n,t,"internal-error"),mi(n,new Qi(e),e.bypassAuthState)}class eo{constructor(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(MH){this.reject(MH)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:a,error:i,type:o}=e;if(i)return void this.reject(i);const s={auth:this.auth,requestUri:t,sessionId:n,tenantId:a||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(s))}catch(MH){this.reject(MH)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Xi;case"linkViaPopup":case"linkViaRedirect":return Zi;case"reauthViaPopup":case"reauthViaRedirect":return Ji;default:Sr(this.auth,"internal-error")}}resolve(e){Or(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Or(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const to=new Rr(2e3,1e4);class no extends eo{constructor(e,t,n,r,a){super(e,t,r,a),this.provider=n,this.authWindow=null,this.pollId=null,no.currentPopupAction&&no.currentPopupAction.cancel(),no.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ar(e,this.auth,"internal-error"),e}async onExecution(){Or(1===this.filter.length,"Popup operations only handle one event");const e=Ci();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(Er(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Er(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,no.currentPopupAction=null}pollUserCancellation(){const e=()=>{this.authWindow?.window?.closed?this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Er(this.auth,"popup-closed-by-user"))},8e3):this.pollId=window.setTimeout(e,to.get())};e()}}no.currentPopupAction=null;const ro=new Map;class ao extends eo{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=ro.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=so(t),r=oo(e);if(!await r._isAvailable())return!1;const a="true"===await r._get(n);return await r._remove(n),a}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(MH){e=()=>Promise.reject(MH)}ro.set(this.auth._key(),e)}return this.bypassAuthState||ro.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function io(e,t){ro.set(e._key(),t)}function oo(e){return fa(e._redirectPersistence)}function so(e){return ga("pendingRedirect",e.config.apiKey,e.name)}async function lo(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(tr(e.app))return Promise.reject(jr(e));const r=Pa(e),a=Yi(r,t),i=new ao(r,a,n),o=await i.execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,t)),o}class co{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ho(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!ho(e)){const n=e.error.code?.split("auth/")[1]||"internal-error";t.onError(Er(this.auth,n))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(uo(e))}saveEventToCache(e){this.cachedEventUids.add(uo(e)),this.lastProcessedEventTime=Date.now()}}function uo(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function ho(e){let{type:t,error:n}=e;return"unknown"===t&&"auth/no-auth-event"===n?.code}const fo=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,po=/^https?/;async function mo(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return $r(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const n of t)try{if(go(n))return}catch{}Sr(e,"unauthorized-domain")}function go(e){const t=Ir(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const a=new URL(e);return""===a.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&a.hostname===r}if(!po.test(n))return!1;if(fo.test(e))return r===e;const a=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}const yo=new Rr(3e4,6e4);function vo(){const e=Ii().___jsl;if(e?.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function bo(e){return new Promise((t,n)=>{function r(){vo(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{vo(),n(Er(e,"network-request-failed"))},timeout:yo.get()})}if(Ii().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else{if(!Ii().gapi?.load){const t=La("iframefcb");return Ii()[t]=()=>{gapi.load?r():n(Er(e,"network-request-failed"))},Ra(`${Ma.gapiScript}?onload=${t}`).catch(e=>n(e))}r()}}).catch(e=>{throw xo=null,e})}let xo=null;const wo=new Rr(5e3,15e3),ko={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},So=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Eo(e){const t=e.config;Ar(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Lr(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,r={apiKey:t.apiKey,appName:e.name,v:ar},a=So.get(e.config.apiHost);a&&(r.eid=a);const i=e._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Lt(r).slice(1)}`}async function No(e){const t=await function(e){return xo=xo||bo(e),xo}(e),n=Ii().gapi;return Ar(n,e,"internal-error"),t.open({where:document.body,url:Eo(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ko,dontclear:!0},t=>new Promise(async(n,r)=>{await t.restyle({setHideOnLeave:!1});const a=Er(e,"network-request-failed"),i=Ii().setTimeout(()=>{r(a)},wo.get());function o(){Ii().clearTimeout(i),n(t)}t.ping(o).then(o,()=>{r(a)})}))}const jo={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class _o{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(MH){}}}function To(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const i=Math.max((window.screen.availHeight-a)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let s="";const l={...jo,width:r.toString(),height:a.toString(),top:i,left:o},c=Tt().toLowerCase();n&&(s=wa(c)?"_blank":n),ba(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce((e,t)=>{let[n,r]=t;return`${e}${n}=${r},`},"");if(function(){return ja(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tt())&&!!window.navigator?.standalone}(c)&&"_self"!==s)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",s),new _o(null);const d=window.open(t||"",s,u);Ar(d,e,"popup-blocked");try{d.focus()}catch(MH){}return new _o(d)}const Ao="__/auth/handler",Co="emulator/auth/handler",Oo=encodeURIComponent("fac");async function Io(e,t,n,r,a,i){Ar(e.config.authDomain,e,"auth-domain-config-required"),Ar(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:ar,eventId:a};if(t instanceof ii){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(i||{}))o[e]=t}if(t instanceof oi){const e=t.getScopes().filter(e=>""!==e);e.length>0&&(o.scopes=e.join(","))}e.tenantId&&(o.tid=e.tenantId);const s=o;for(const u of Object.keys(s))void 0===s[u]&&delete s[u];const l=await e._getAppCheckToken(),c=l?`#${Oo}=${encodeURIComponent(l)}`:"";return`${function(e){let{config:t}=e;if(!t.emulator)return`https://${t.authDomain}/${Ao}`;return Lr(t,Co)}(e)}?${Lt(s).slice(1)}${c}`}const Po="webStorageSupport";const Do=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ti,this._completeRedirectFn=lo,this._overrideRedirectResult=io}async _openPopup(e,t,n,r){Or(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");return To(e,await Io(e,t,n,Ir(),r),Ci())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){Ii().location.href=e}(await Io(e,t,n,Ir(),r)),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(Or(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await No(e),n=new co(e);return t.register("authEvent",t=>{Ar(t?.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Po,{type:Po},n=>{const r=n?.[0]?.[Po];void 0!==r&&t(!!r),Sr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=mo(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Ta()||xa()||ja()}};var Mo="@firebase/auth",Ro="1.11.0";class Lo{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{e(t?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ar(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Fo=wt("authIdTokenMaxAge")||300;let zo=null;var Uo;Ma={loadJS:e=>new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=Er("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",(document.getElementsByTagName("head")?.[0]??document).appendChild(r)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},Uo="Browser",Zn(new $t("auth",(e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:s}=r.options;Ar(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:s,clientPlatform:Uo,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Aa(Uo)},c=new Ia(r,a,i,l);return function(e,t){const n=t?.persistence||[],r=(Array.isArray(n)?n:[n]).map(fa);t?.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t?.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),Zn(new $t("auth-internal",e=>(e=>new Lo(e))(Pa(e.getProvider("auth").getImmediate())),"PRIVATE").setInstantiationMode("EXPLICIT")),sr(Mo,Ro,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(Uo)),sr(Mo,Ro,"esm2020");var Vo,Bo,$o="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Ho={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var a=0;16>a;++a)r[a]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(a=0;16>a;++a)r[a]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],a=e.g[2];var i=e.g[3],o=t+(i^n&(a^i))+r[0]+3614090360&4294967295;o=(n=(a=(i=(t=(n=(a=(i=(t=(n=(a=(i=(t=(n=(a=(i=(t=(n=(a=(i=(t=(n=(a=(i=(t=(n=(a=(i=(t=(n=(a=(i=(t=(n=(a=(i=(t=(n=(a=(i=(t=(n=(a=(i=(t=(n=(a=(i=(t=(n=(a=(i=(t=(n=(a=(i=(t=(n=(a=(i=(t=n+(o<<7&4294967295|o>>>25))+((o=i+(a^t&(n^a))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=a+(n^i&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^a&(i^t))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(i^n&(a^i))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=i+(a^t&(n^a))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=a+(n^i&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^a&(i^t))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(i^n&(a^i))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=i+(a^t&(n^a))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=a+(n^i&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^a&(i^t))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(i^n&(a^i))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=i+(a^t&(n^a))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=a+(n^i&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^a&(i^t))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^i&(n^a))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=i+(n^a&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=a+(t^n&(i^t))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(i^t&(a^i))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(a^i&(n^a))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=i+(n^a&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=a+(t^n&(i^t))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(i^t&(a^i))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(a^i&(n^a))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=i+(n^a&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=a+(t^n&(i^t))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(i^t&(a^i))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(a^i&(n^a))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=i+(n^a&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=a+(t^n&(i^t))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(i^t&(a^i))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(n^a^i)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=i+(t^n^a)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=a+(i^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(a^i^t)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^a^i)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=i+(t^n^a)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=a+(i^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(a^i^t)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^a^i)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=i+(t^n^a)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=a+(i^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(a^i^t)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^a^i)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=i+(t^n^a)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=a+(i^t^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(a^i^t)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(a^(n|~i))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=i+(n^(t|~a))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=a+(t^(i|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(i^(a|~t))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(a^(n|~i))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=i+(n^(t|~a))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=a+(t^(i|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(i^(a|~t))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(a^(n|~i))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=i+(n^(t|~a))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=a+(t^(i|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(i^(a|~t))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((i=(t=n+((o=t+(a^(n|~i))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=i+(n^(t|~a))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((a=i+((o=a+(t^(i|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(a+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+a&4294967295,e.g[3]=e.g[3]+i&4294967295}function r(e,t){this.h=t;for(var n=[],r=!0,a=e.length-1;0<=a;a--){var i=0|e[a];r&&i==t||(n[a]=i,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,r){for(var a=Array(arguments.length-2),i=2;i<arguments.length;i++)a[i-2]=arguments[i];return t.prototype[n].apply(e,a)}}(t,function(){this.blockSize=-1}),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var r=t-this.blockSize,a=this.B,i=this.h,o=0;o<t;){if(0==i)for(;o<=r;)n(this,e,o),o+=this.blockSize;if("string"===typeof e){for(;o<t;)if(a[i++]=e.charCodeAt(o++),i==this.blockSize){n(this,a),i=0;break}}else for(;o<t;)if(a[i++]=e[o++],i==this.blockSize){n(this,a),i=0;break}}this.h=i,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var a={};function i(e){return-128<=e&&128>e?function(e,t){var n=a;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,function(e){return new r([0|e],0>e?-1:0)}):new r([0|e],0>e?-1:0)}function o(e){if(isNaN(e)||!isFinite(e))return s;if(0>e)return h(o(-e));for(var t=[],n=1,a=0;e>=n;a++)t[a]=e/n|0,n*=4294967296;return new r(t,0)}var s=i(0),l=i(1),c=i(16777216);function u(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function d(e){return-1==e.h}function h(e){for(var t=e.g.length,n=[],a=0;a<t;a++)n[a]=~e.g[a];return new r(n,~e.h).add(l)}function f(e,t){return e.add(h(t))}function p(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function m(e,t){this.g=e,this.h=t}function g(e,t){if(u(t))throw Error("division by zero");if(u(e))return new m(s,s);if(d(e))return t=g(h(e),t),new m(h(t.g),h(t.h));if(d(t))return t=g(e,h(t)),new m(h(t.g),t.h);if(30<e.g.length){if(d(e)||d(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;0>=r.l(e);)n=y(n),r=y(r);var a=v(n,1),i=v(r,1);for(r=v(r,2),n=v(n,2);!u(r);){var c=i.add(r);0>=c.l(e)&&(a=a.add(n),i=c),r=v(r,1),n=v(n,1)}return t=f(e,a.j(t)),new m(a,t)}for(a=s;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),c=(i=o(n)).j(t);d(c)||0<c.l(e);)c=(i=o(n-=r)).j(t);u(i)&&(i=l),a=a.add(i),e=f(e,c)}return new m(a,e)}function y(e){for(var t=e.g.length+1,n=[],a=0;a<t;a++)n[a]=e.i(a)<<1|e.i(a-1)>>>31;return new r(n,e.h)}function v(e,t){var n=t>>5;t%=32;for(var a=e.g.length-n,i=[],o=0;o<a;o++)i[o]=0<t?e.i(o+n)>>>t|e.i(o+n+1)<<32-t:e.i(o+n);return new r(i,e.h)}(e=r.prototype).m=function(){if(d(this))return-h(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(0<=r?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(u(this))return"0";if(d(this))return"-"+h(this).toString(e);for(var t=o(Math.pow(e,6)),n=this,r="";;){var a=g(n,t).g,i=((0<(n=f(n,a.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(u(n=a))return i+r;for(;6>i.length;)i="0"+i;r=i+r}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return d(e=f(this,e))?-1:u(e)?0:1},e.abs=function(){return d(this)?h(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],a=0,i=0;i<=t;i++){var o=a+(65535&this.i(i))+(65535&e.i(i)),s=(o>>>16)+(this.i(i)>>>16)+(e.i(i)>>>16);a=s>>>16,o&=65535,s&=65535,n[i]=s<<16|o}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(u(this)||u(e))return s;if(d(this))return d(e)?h(this).j(h(e)):h(h(this).j(e));if(d(e))return h(this.j(h(e)));if(0>this.l(c)&&0>e.l(c))return o(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],a=0;a<2*t;a++)n[a]=0;for(a=0;a<this.g.length;a++)for(var i=0;i<e.g.length;i++){var l=this.i(a)>>>16,f=65535&this.i(a),m=e.i(i)>>>16,g=65535&e.i(i);n[2*a+2*i]+=f*g,p(n,2*a+2*i),n[2*a+2*i+1]+=l*g,p(n,2*a+2*i+1),n[2*a+2*i+1]+=f*m,p(n,2*a+2*i+1),n[2*a+2*i+2]+=l*m,p(n,2*a+2*i+2)}for(a=0;a<t;a++)n[a]=n[2*a+1]<<16|n[2*a];for(a=t;a<2*t;a++)n[a]=0;return new r(n,0)},e.A=function(e){return g(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],a=0;a<t;a++)n[a]=this.i(a)&e.i(a);return new r(n,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],a=0;a<t;a++)n[a]=this.i(a)|e.i(a);return new r(n,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],a=0;a<t;a++)n[a]=this.i(a)^e.i(a);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,Bo=Ho.Md5=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.A,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=o,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return h(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=o(Math.pow(n,8)),a=s,i=0;i<t.length;i+=8){var l=Math.min(8,t.length-i),c=parseInt(t.substring(i,i+l),n);8>l?(l=o(Math.pow(n,l)),a=a.j(l).add(o(c))):a=(a=a.j(r)).add(o(c))}return a},Vo=Ho.Integer=r}).apply("undefined"!==typeof $o?$o:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var Ko,qo,Wo,Go,Yo,Qo,Xo,Jo,Zo="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},es={};(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof Zo&&Zo];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,r){if(r)e:{var a=n;e=e.split(".");for(var i=0;i<e.length-1;i++){var o=e[i];if(!(o in a))break e;a=a[o]}(r=r(i=a[e=e[e.length-1]]))!=i&&null!=r&&t(a,e,{configurable:!0,writable:!0,value:r})}}("Array.prototype.values",function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,a={next:function(){if(!r&&n<e.length){var a=n++;return{value:t(a,e[a]),done:!1}}return r=!0,{done:!0,value:void 0}}};return a[Symbol.iterator]=function(){return a},a}(this,function(e,t){return t})}});var r=r||{},a=this||self;function i(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function o(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function s(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function c(e,t,n){return(c=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?s:l).apply(null,arguments)}function u(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function d(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,r){for(var a=Array(arguments.length-2),i=2;i<arguments.length;i++)a[i-2]=arguments[i];return t.prototype[n].apply(e,a)}}function h(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function f(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(i(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let a=0;a<r;a++)e[n+a]=t[a]}else e.push(t)}}function p(e){return/^[\s\xa0]*$/.test(e)}function m(){var e=a.navigator;return e&&(e=e.userAgent)?e:""}function g(e){return g[" "](e),e}g[" "]=function(){};var y=-1!=m().indexOf("Gecko")&&!(-1!=m().toLowerCase().indexOf("webkit")&&-1==m().indexOf("Edge"))&&!(-1!=m().indexOf("Trident")||-1!=m().indexOf("MSIE"))&&-1==m().indexOf("Edge");function v(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function b(e){const t={};for(const n in e)t[n]=e[n];return t}const x="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(e,t){let n,r;for(let a=1;a<arguments.length;a++){for(n in r=arguments[a],r)e[n]=r[n];for(let t=0;t<x.length;t++)n=x[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function k(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function S(e){a.setTimeout(()=>{throw e},0)}function E(){var e=A;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var N=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new j,e=>e.reset());class j{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let _,T=!1,A=new class{constructor(){this.h=this.g=null}add(e,t){const n=N.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},C=()=>{const e=a.Promise.resolve(void 0);_=()=>{e.then(O)}};var O=()=>{for(var e;e=E();){try{e.h.call(e.g)}catch(XU){S(XU)}var t=N;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}T=!1};function I(){this.s=this.s,this.C=this.C}function P(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}I.prototype.s=!1,I.prototype.ma=function(){this.s||(this.s=!0,this.N())},I.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},P.prototype.h=function(){this.defaultPrevented=!0};var D=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};a.addEventListener("test",e,t),a.removeEventListener("test",e,t)}catch(XU){}return e}();function M(e,t){if(P.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(y){e:{try{g(t.nodeName);var a=!0;break e}catch(i){}a=!1}a||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:R[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&M.aa.h.call(this)}}d(M,P);var R={2:"touch",3:"pen",4:"mouse"};M.prototype.h=function(){M.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var L="closure_listenable_"+(1e6*Math.random()|0),F=0;function z(e,t,n,r,a){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=a,this.key=++F,this.da=this.fa=!1}function U(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function V(e){this.src=e,this.g={},this.h=0}function B(e,t){var n=t.type;if(n in e.g){var r,a=e.g[n],i=Array.prototype.indexOf.call(a,t,void 0);(r=0<=i)&&Array.prototype.splice.call(a,i,1),r&&(U(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function $(e,t,n,r){for(var a=0;a<e.length;++a){var i=e[a];if(!i.da&&i.listener==t&&i.capture==!!n&&i.ha==r)return a}return-1}V.prototype.add=function(e,t,n,r,a){var i=e.toString();(e=this.g[i])||(e=this.g[i]=[],this.h++);var o=$(e,t,r,a);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new z(t,this.src,i,!!r,a)).fa=n,e.push(t)),t};var H="closure_lm_"+(1e6*Math.random()|0),K={};function q(e,t,n,r,a){if(r&&r.once)return G(e,t,n,r,a);if(Array.isArray(t)){for(var i=0;i<t.length;i++)q(e,t[i],n,r,a);return null}return n=te(n),e&&e[L]?e.K(t,n,o(r)?!!r.capture:!!r,a):W(e,t,n,!1,r,a)}function W(e,t,n,r,a,i){if(!t)throw Error("Invalid event type");var s=o(a)?!!a.capture:!!a,l=Z(e);if(l||(e[H]=l=new V(e)),(n=l.add(t,n,r,s,i)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=J;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)D||(a=s),void 0===a&&(a=!1),e.addEventListener(t.toString(),r,a);else if(e.attachEvent)e.attachEvent(X(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function G(e,t,n,r,a){if(Array.isArray(t)){for(var i=0;i<t.length;i++)G(e,t[i],n,r,a);return null}return n=te(n),e&&e[L]?e.L(t,n,o(r)?!!r.capture:!!r,a):W(e,t,n,!0,r,a)}function Y(e,t,n,r,a){if(Array.isArray(t))for(var i=0;i<t.length;i++)Y(e,t[i],n,r,a);else r=o(r)?!!r.capture:!!r,n=te(n),e&&e[L]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=$(i=e.g[t],n,r,a))&&(U(i[n]),Array.prototype.splice.call(i,n,1),0==i.length&&(delete e.g[t],e.h--)))):e&&(e=Z(e))&&(t=e.g[t.toString()],e=-1,t&&(e=$(t,n,r,a)),(n=-1<e?t[e]:null)&&Q(n))}function Q(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[L])B(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(X(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Z(t))?(B(n,e),0==n.h&&(n.src=null,t[H]=null)):U(e)}}}function X(e){return e in K?K[e]:K[e]="on"+e}function J(e,t){if(e.da)e=!0;else{t=new M(t,this);var n=e.listener,r=e.ha||e.src;e.fa&&Q(e),e=n.call(r,t)}return e}function Z(e){return(e=e[H])instanceof V?e:null}var ee="__closure_events_fn_"+(1e9*Math.random()>>>0);function te(e){return"function"===typeof e?e:(e[ee]||(e[ee]=function(t){return e.handleEvent(t)}),e[ee])}function ne(){I.call(this),this.i=new V(this),this.M=this,this.F=null}function re(e,t){var n,r=e.F;if(r)for(n=[];r;r=r.F)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new P(t,e);else if(t instanceof P)t.target=t.target||e;else{var a=t;w(t=new P(r,e),a)}if(a=!0,n)for(var i=n.length-1;0<=i;i--){var o=t.g=n[i];a=ae(o,r,!0,t)&&a}if(a=ae(o=t.g=e,r,!0,t)&&a,a=ae(o,r,!1,t)&&a,n)for(i=0;i<n.length;i++)a=ae(o=t.g=n[i],r,!1,t)&&a}function ae(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var a=!0,i=0;i<t.length;++i){var o=t[i];if(o&&!o.da&&o.capture==n){var s=o.listener,l=o.ha||o.src;o.fa&&B(e.i,o),a=!1!==s.call(l,r)&&a}}return a&&!r.defaultPrevented}function ie(e,t,n){if("function"===typeof e)n&&(e=c(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=c(e.handleEvent,e)}return 2147483647<Number(t)?-1:a.setTimeout(e,t||0)}function oe(e){e.g=ie(()=>{e.g=null,e.i&&(e.i=!1,oe(e))},e.l);const t=e.h;e.h=null,e.m.apply(null,t)}d(ne,I),ne.prototype[L]=!0,ne.prototype.removeEventListener=function(e,t,n,r){Y(this,e,t,n,r)},ne.prototype.N=function(){if(ne.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)U(n[r]);delete t.g[e],t.h--}}this.F=null},ne.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ne.prototype.L=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class se extends I{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:oe(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function le(e){I.call(this),this.h=e,this.g={}}d(le,I);var ce=[];function ue(e){v(e.g,function(e,t){this.g.hasOwnProperty(t)&&Q(e)},e),e.g={}}le.prototype.N=function(){le.aa.N.call(this),ue(this)},le.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var de=a.JSON.stringify,he=a.JSON.parse,fe=class{stringify(e){return a.JSON.stringify(e,void 0)}parse(e){return a.JSON.parse(e,void 0)}};function pe(){}function me(e){return e.h||(e.h=e.i())}function ge(){}pe.prototype.h=null;var ye={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ve(){P.call(this,"d")}function be(){P.call(this,"c")}d(ve,P),d(be,P);var xe={},we=null;function ke(){return we=we||new ne}function Se(e){P.call(this,xe.La,e)}function Ee(e){const t=ke();re(t,new Se(t))}function Ne(e,t){P.call(this,xe.STAT_EVENT,e),this.stat=t}function je(e){const t=ke();re(t,new Ne(t,e))}function _e(e,t){P.call(this,xe.Ma,e),this.size=t}function Te(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){e()},t)}function Ae(){this.g=!0}function Ce(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var a=r[1];if(Array.isArray(a)&&!(1>a.length)){var i=a[0];if("noop"!=i&&"stop"!=i&&"close"!=i)for(var o=1;o<a.length;o++)a[o]=""}}}return de(n)}catch(s){return t}}(e,n)+(r?" "+r:"")})}xe.La="serverreachability",d(Se,P),xe.STAT_EVENT="statevent",d(Ne,P),xe.Ma="timingevent",d(_e,P),Ae.prototype.xa=function(){this.g=!1},Ae.prototype.info=function(){};var Oe,Ie={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Pe={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function De(){}function Me(e,t,n,r){this.j=e,this.i=t,this.l=n,this.R=r||1,this.U=new le(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Re}function Re(){this.i=null,this.g="",this.h=!1}d(De,pe),De.prototype.g=function(){return new XMLHttpRequest},De.prototype.i=function(){return{}},Oe=new De;var Le={},Fe={};function ze(e,t,n){e.L=1,e.v=dt(ot(t)),e.m=n,e.P=!0,Ue(e,null)}function Ue(e,t){e.F=Date.now(),$e(e),e.A=ot(e.v);var n=e.A,r=e.R;Array.isArray(r)||(r=[String(r)]),Et(n.i,"t",r),e.C=0,n=e.j.J,e.h=new Re,e.g=hn(e.j,n?t:null,!e.m),0<e.O&&(e.M=new se(c(e.Y,e,e.g),e.O)),t=e.U,n=e.g,r=e.ca;var a="readystatechange";Array.isArray(a)||(a&&(ce[0]=a.toString()),a=ce);for(var i=0;i<a.length;i++){var o=q(n,a[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}t=e.H?b(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Ee(),function(e,t,n,r,a,i){e.info(function(){if(e.g)if(i)for(var o="",s=i.split("&"),l=0;l<s.length;l++){var c=s[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");o=2<=d.length&&"type"==d[1]?o+(u+"=")+c+"&":o+(u+"=redacted&")}}else o=null;else o=i;return"XMLHTTP REQ ("+r+") [attempt "+a+"]: "+t+"\n"+n+"\n"+o})}(e.i,e.u,e.A,e.l,e.R,e.m)}function Ve(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function Be(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Fe:(n=Number(t.substring(n,r)),isNaN(n)?Le:(r+=1)+n>t.length?Fe:(t=t.slice(r,r+n),e.C=r+n,t))}function $e(e){e.S=Date.now()+e.I,He(e,e.I)}function He(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Te(c(e.ba,e),t)}function Ke(e){e.B&&(a.clearTimeout(e.B),e.B=null)}function qe(e){0==e.j.G||e.J||sn(e.j,e)}function We(e){Ke(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,ue(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function Ge(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||Ze(n.h,e)))if(!e.K&&Ze(n.h,e)&&3==n.G){try{var r=n.Da.g.parse(t)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var a=r;if(0==a[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;on(n),Yt(n)}nn(n),je(18)}}else n.za=a[1],0<n.za-n.T&&37500>a[2]&&n.F&&0==n.v&&!n.C&&(n.C=Te(c(n.Za,n),6e3));if(1>=Je(n.h)&&n.ca){try{n.ca()}catch(u){}n.ca=void 0}}else cn(n,11)}else if((e.K||n.g==e)&&on(n),!p(t))for(a=n.Da.g.parse(t),t=0;t<a.length;t++){let c=a[t];if(n.T=c[0],c=c[1],2==n.G)if("c"==c[0]){n.K=c[1],n.ia=c[2];const t=c[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));const a=c[4];null!=a&&(n.Aa=a,n.j.info("SVER="+n.Aa));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var i=r.h;i.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(i.j=i.l,i.g=new Set,i.h&&(et(i,i.h),i.h=null))}if(r.D){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.ya=e,ut(r.I,r.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms"));var o=e;if((r=n).qa=dn(r,r.J?r.ia:null,r.W),o.K){tt(r.h,o);var s=o,l=r.L;l&&(s.I=l),s.B&&(Ke(s),$e(s)),r.g=o}else tn(r);0<n.i.length&&Xt(n)}else"stop"!=c[0]&&"close"!=c[0]||cn(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?cn(n,7):Gt(n):"noop"!=c[0]&&n.l&&n.l.ta(c),n.v=0)}Ee()}catch(u){}}Me.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==Ht(e)?t.j():this.Y(e)},Me.prototype.Y=function(e){try{if(e==this.g)e:{const h=Ht(this.g);var t=this.g.Ba();this.g.Z();if(!(3>h)&&(3!=h||this.g&&(this.h.h||this.g.oa()||Kt(this.g)))){this.J||4!=h||7==t||Ee(),Ke(this);var n=this.g.Z();this.X=n;t:if(Ve(this)){var r=Kt(this.g);e="";var i=r.length,o=4==Ht(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){We(this),qe(this);var s="";break t}this.h.i=new a.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:!(o&&t==i-1)});r.length=0,this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.oa();if(this.o=200==n,function(e,t,n,r,a,i,o){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+a+"]: "+t+"\n"+n+"\n"+i+" "+o})}(this.i,this.u,this.A,this.l,this.R,h,n),this.o){if(this.T&&!this.K){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!p(l)){var u=l;break t}}u=null}if(!(n=u)){this.o=!1,this.s=3,je(12),We(this),qe(this);break e}Ce(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ge(this,n)}if(this.P){let e;for(n=!0;!this.J&&this.C<s.length;){if(e=Be(this,s),e==Fe){4==h&&(this.s=4,je(14),n=!1),Ce(this.i,this.l,null,"[Incomplete Response]");break}if(e==Le){this.s=4,je(15),Ce(this.i,this.l,s,"[Invalid Chunk]"),n=!1;break}Ce(this.i,this.l,e,null),Ge(this,e)}if(Ve(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=h||0!=s.length||this.h.h||(this.s=1,je(16),n=!1),this.o=this.o&&n,n){if(0<s.length&&!this.W){this.W=!0;var d=this.j;d.g==this&&d.ba&&!d.M&&(d.j.info("Great, no buffering proxy detected. Bytes received: "+s.length),rn(d),d.M=!0,je(11))}}else Ce(this.i,this.l,s,"[Invalid Chunked Response]"),We(this),qe(this)}else Ce(this.i,this.l,s,null),Ge(this,s);4==h&&We(this),this.o&&!this.J&&(4==h?sn(this.j,this):(this.o=!1,$e(this)))}else(function(e){const t={};e=(e.g&&2<=Ht(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(p(e[r]))continue;var n=k(e[r]);const a=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const i=t[a]||[];t[a]=i,i.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,function(e){return e.join(", ")})})(this.g),400==n&&0<s.indexOf("Unknown SID")?(this.s=3,je(12)):(this.s=0,je(13)),We(this),qe(this)}}}catch(h){}},Me.prototype.cancel=function(){this.J=!0,We(this)},Me.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.i,this.A),2!=this.L&&(Ee(),je(17)),We(this),this.s=2,qe(this)):He(this,this.S-e)};var Ye=class{constructor(e,t){this.g=e,this.map=t}};function Qe(e){this.l=e||10,a.PerformanceNavigationTiming?e=0<(e=a.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Xe(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Je(e){return e.h?1:e.g?e.g.size:0}function Ze(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function et(e,t){e.g?e.g.add(t):e.h=t}function tt(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function nt(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return h(e.i)}function rt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(i(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(i(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(i(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),a=r.length,o=0;o<a;o++)t.call(void 0,r[o],n&&n[o],e)}Qe.prototype.cancel=function(){if(this.i=nt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var at=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function it(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof it){this.h=e.h,st(this,e.j),this.o=e.o,this.g=e.g,lt(this,e.s),this.l=e.l;var t=e.i,n=new xt;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),ct(this,n),this.m=e.m}else e&&(t=String(e).match(at))?(this.h=!1,st(this,t[1]||"",!0),this.o=ht(t[2]||""),this.g=ht(t[3]||"",!0),lt(this,t[4]),this.l=ht(t[5]||"",!0),ct(this,t[6]||"",!0),this.m=ht(t[7]||"")):(this.h=!1,this.i=new xt(null,this.h))}function ot(e){return new it(e)}function st(e,t,n){e.j=n?ht(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function lt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function ct(e,t,n){t instanceof xt?(e.i=t,function(e,t){t&&!e.j&&(wt(e),e.i=null,e.g.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(kt(this,t),Et(this,n,e))},e)),e.j=t}(e.i,e.h)):(n||(t=ft(t,vt)),e.i=new xt(t,e.h))}function ut(e,t,n){e.i.set(t,n)}function dt(e){return ut(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function ht(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ft(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,pt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function pt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}it.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ft(t,mt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(ft(t,mt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(ft(n,"/"==n.charAt(0)?yt:gt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",ft(n,bt)),e.join("")};var mt=/[#\/\?@]/g,gt=/[#\?:]/g,yt=/[#\?]/g,vt=/[#\?@]/g,bt=/#/g;function xt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function wt(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),a=null;if(0<=r){var i=e[n].substring(0,r);a=e[n].substring(r+1)}else i=e[n];t(i,a?decodeURIComponent(a.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function kt(e,t){wt(e),t=Nt(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function St(e,t){return wt(e),t=Nt(e,t),e.g.has(t)}function Et(e,t,n){kt(e,t),0<n.length&&(e.i=null,e.g.set(Nt(e,t),h(n)),e.h+=n.length)}function Nt(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function jt(e,t,n,r,a){try{a&&(a.onload=null,a.onerror=null,a.onabort=null,a.ontimeout=null),r(n)}catch(i){}}function _t(){this.g=new fe}function Tt(e,t,n){const r=n||"";try{rt(e,function(e,n){let a=e;o(e)&&(a=de(e)),t.push(r+n+"="+encodeURIComponent(a))})}catch(MH){throw t.push(r+"type="+encodeURIComponent("_badmap")),MH}}function At(e){this.l=e.Ub||null,this.j=e.eb||!1}function Ct(e,t){ne.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Ot(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function It(e){e.readyState=4,e.l=null,e.j=null,e.v=null,Pt(e)}function Pt(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Dt(e){let t="";return v(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}function Mt(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Dt(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):ut(e,t,n))}function Rt(e){ne.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=xt.prototype).add=function(e,t){wt(this),this.i=null,e=Nt(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){wt(this),this.g.forEach(function(n,r){n.forEach(function(n){e.call(t,n,r,this)},this)},this)},e.na=function(){wt(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const a=e[r];for(let e=0;e<a.length;e++)n.push(t[r])}return n},e.V=function(e){wt(this);let t=[];if("string"===typeof e)St(this,e)&&(t=t.concat(this.g.get(Nt(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},e.set=function(e,t){return wt(this),this.i=null,St(this,e=Nt(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const i=encodeURIComponent(String(r)),o=this.V(r);for(r=0;r<o.length;r++){var a=i;""!==o[r]&&(a+="="+encodeURIComponent(String(o[r]))),e.push(a)}}return this.i=e.join("&")},d(At,pe),At.prototype.g=function(){return new Ct(this.l,this.j)},At.prototype.i=function(e){return function(){return e}}({}),d(Ct,ne),(e=Ct.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,Pt(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||a).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,It(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Pt(this)),this.g&&(this.readyState=3,Pt(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if("undefined"!==typeof a.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ot(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?It(this):Pt(this),3==this.readyState&&Ot(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,It(this))},e.Qa=function(e){this.g&&(this.response=e,It(this))},e.ga=function(){this.g&&It(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Ct.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),d(Rt,ne);var Lt=/^https?$/i,Ft=["POST","PUT"];function zt(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,Ut(e),Bt(e)}function Ut(e){e.A||(e.A=!0,re(e,"complete"),re(e,"error"))}function Vt(e){if(e.h&&"undefined"!=typeof r&&(!e.v[1]||4!=Ht(e)||2!=e.Z()))if(e.u&&4==Ht(e))ie(e.Ea,0,e);else if(re(e,"readystatechange"),4==Ht(e)){e.h=!1;try{const r=e.Z();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var i;if(i=0===r){var o=String(e.D).match(at)[1]||null;!o&&a.self&&a.self.location&&(o=a.self.location.protocol.slice(0,-1)),i=!Lt.test(o?o.toLowerCase():"")}n=i}if(n)re(e,"complete"),re(e,"success");else{e.m=6;try{var s=2<Ht(e)?e.g.statusText:""}catch(l){s=""}e.l=s+" ["+e.Z()+"]",Ut(e)}}finally{Bt(e)}}}function Bt(e,t){if(e.g){$t(e);const n=e.g,r=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||re(e,"ready");try{n.onreadystatechange=r}catch(MH){}}}function $t(e){e.I&&(a.clearTimeout(e.I),e.I=null)}function Ht(e){return e.g?e.g.readyState:0}function Kt(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function qt(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Wt(e){this.Aa=0,this.i=[],this.j=new Ae,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=qt("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=qt("baseRetryDelayMs",5e3,e),this.cb=qt("retryDelaySeedMs",1e4,e),this.Wa=qt("forwardChannelMaxRetries",2,e),this.wa=qt("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new Qe(e&&e.concurrentRequestLimit),this.Da=new _t,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Gt(e){if(Qt(e),3==e.G){var t=e.U++,n=ot(e.I);if(ut(n,"SID",e.K),ut(n,"RID",t),ut(n,"TYPE","terminate"),Zt(e,n),(t=new Me(e,e.j,t)).L=2,t.v=dt(ot(n)),n=!1,a.navigator&&a.navigator.sendBeacon)try{n=a.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&a.Image&&((new Image).src=t.v,n=!0),n||(t.g=hn(t.j,null),t.g.ea(t.v)),t.F=Date.now(),$e(t)}un(e)}function Yt(e){e.g&&(rn(e),e.g.cancel(),e.g=null)}function Qt(e){Yt(e),e.u&&(a.clearTimeout(e.u),e.u=null),on(e),e.h.cancel(),e.s&&("number"===typeof e.s&&a.clearTimeout(e.s),e.s=null)}function Xt(e){if(!Xe(e.h)&&!e.s){e.s=!0;var t=e.Ga;_||C(),T||(_(),T=!0),A.add(t,e),e.B=0}}function Jt(e,t){var n;n=t?t.l:e.U++;const r=ot(e.I);ut(r,"SID",e.K),ut(r,"RID",n),ut(r,"AID",e.T),Zt(e,r),e.m&&e.o&&Mt(r,e.m,e.o),n=new Me(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=en(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),et(e.h,n),ze(n,r,t)}function Zt(e,t){e.H&&v(e.H,function(e,n){ut(t,n,e)}),e.l&&rt({},function(e,n){ut(t,n,e)})}function en(e,t,n){n=Math.min(e.i.length,n);var r=e.l?c(e.l.Na,e.l,e):null;e:{var a=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=a[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let o=!0;for(let s=0;s<n;s++){let n=a[s].g;const l=a[s].map;if(n-=t,0>n)t=Math.max(0,a[s].g-100),o=!1;else try{Tt(l,e,"req"+n+"_")}catch(i){r&&r(l)}}if(o){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function tn(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;_||C(),T||(_(),T=!0),A.add(t,e),e.v=0}}function nn(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=Te(c(e.Fa,e),ln(e,e.v)),e.v++,!0)}function rn(e){null!=e.A&&(a.clearTimeout(e.A),e.A=null)}function an(e){e.g=new Me(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=ot(e.qa);ut(t,"RID","rpc"),ut(t,"SID",e.K),ut(t,"AID",e.T),ut(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&ut(t,"TO",e.ja),ut(t,"TYPE","xmlhttp"),Zt(e,t),e.m&&e.o&&Mt(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=dt(ot(t)),n.m=null,n.P=!0,Ue(n,e)}function on(e){null!=e.C&&(a.clearTimeout(e.C),e.C=null)}function sn(e,t){var n=null;if(e.g==t){on(e),rn(e),e.g=null;var r=2}else{if(!Ze(e.h,t))return;n=t.D,tt(e.h,t),r=1}if(0!=e.G)if(t.o)if(1==r){n=t.m?t.m.length:0,t=Date.now()-t.F;var a=e.B;re(r=ke(),new _e(r,n)),Xt(e)}else tn(e);else if(3==(a=t.s)||0==a&&0<t.X||!(1==r&&function(e,t){return!(Je(e.h)>=e.h.j-(e.s?1:0))&&(e.s?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa))&&(e.s=Te(c(e.Ga,e,t),ln(e,e.B)),e.B++,!0))}(e,t)||2==r&&nn(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),a){case 1:cn(e,5);break;case 4:cn(e,10);break;case 3:cn(e,6);break;default:cn(e,2)}}function ln(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function cn(e,t){if(e.j.info("Error code "+t),2==t){var n=c(e.fb,e),r=e.Xa;const t=!r;r=new it(r||"//www.google.com/images/cleardot.gif"),a.location&&"http"==a.location.protocol||st(r,"https"),dt(r),t?function(e,t){const n=new Ae;if(a.Image){const r=new Image;r.onload=u(jt,n,"TestLoadImage: loaded",!0,t,r),r.onerror=u(jt,n,"TestLoadImage: error",!1,t,r),r.onabort=u(jt,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=u(jt,n,"TestLoadImage: timeout",!1,t,r),a.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new Ae;const n=new AbortController,r=setTimeout(()=>{n.abort(),jt(0,0,!1,t)},1e4);fetch(e,{signal:n.signal}).then(e=>{clearTimeout(r),e.ok?jt(0,0,!0,t):jt(0,0,!1,t)}).catch(()=>{clearTimeout(r),jt(0,0,!1,t)})}(r.toString(),n)}else je(2);e.G=0,e.l&&e.l.sa(t),un(e),Qt(e)}function un(e){if(e.G=0,e.ka=[],e.l){const t=nt(e.h);0==t.length&&0==e.i.length||(f(e.ka,t),f(e.ka,e.i),e.h.i.length=0,h(e.i),e.i.length=0),e.l.ra()}}function dn(e,t,n){var r=n instanceof it?ot(n):new it(n);if(""!=r.g)t&&(r.g=t+"."+r.g),lt(r,r.s);else{var i=a.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var o=new it(null);r&&st(o,r),t&&(o.g=t),i&&lt(o,i),n&&(o.l=n),r=o}return n=e.D,t=e.ya,n&&t&&ut(r,n,t),ut(r,"VER",e.la),Zt(e,r),r}function hn(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new Rt(new At({eb:n})):new Rt(e.pa)).Ha(e.J),t}function fn(){}function pn(){}function mn(e,t){ne.call(this),this.g=new Wt(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!p(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!p(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new vn(this)}function gn(e){ve.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function yn(){be.call(this),this.status=1}function vn(e){this.g=e}(e=Rt.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Oe.g(),this.v=this.o?me(this.o):me(Oe),this.g.onreadystatechange=c(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(o){return void zt(this,o)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find(e=>"content-type"==e.toLowerCase()),i=a.FormData&&e instanceof a.FormData,!(0<=Array.prototype.indexOf.call(Ft,t,void 0))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[a,s]of n)this.g.setRequestHeader(a,s);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{$t(this),this.u=!0,this.g.send(e),this.u=!1}catch(o){zt(this,o)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,re(this,"complete"),re(this,"abort"),Bt(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Bt(this,!0)),Rt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Vt(this):this.bb())},e.bb=function(){Vt(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<Ht(this)?this.g.status:-1}catch(eV){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(eV){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),he(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=Wt.prototype).la=8,e.G=1,e.connect=function(e,t,n,r){je(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=dn(this,null,this.W),Xt(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const a=new Me(this,this.j,e);let i=this.o;if(this.S&&(i?(i=b(i),w(i,this.S)):i=this.S),null!==this.m||this.O||(a.H=i,i=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=en(this,a,t),ut(n=ot(this.I),"RID",e),ut(n,"CVER",22),this.D&&ut(n,"X-HTTP-Session-Id",this.D),Zt(this,n),i&&(this.O?t="headers="+encodeURIComponent(String(Dt(i)))+"&"+t:this.m&&Mt(n,this.m,i)),et(this.h,a),this.Ua&&ut(n,"TYPE","init"),this.P?(ut(n,"$req",t),ut(n,"SID","null"),a.T=!0,ze(a,n,null)):ze(a,n,t),this.G=2}}else 3==this.G&&(e?Jt(this,e):0==this.i.length||Xe(this.h)||Jt(this))},e.Fa=function(){if(this.u=null,an(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=Te(c(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,je(10),Yt(this),an(this))},e.Za=function(){null!=this.C&&(this.C=null,Yt(this),nn(this),je(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),je(2)):(this.j.info("Failed to ping google.com"),je(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=fn.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},pn.prototype.g=function(e,t){return new mn(e,t)},d(mn,ne),mn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},mn.prototype.close=function(){Gt(this.g)},mn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=de(e),e=n);t.i.push(new Ye(t.Ya++,e)),3==t.G&&Xt(t)},mn.prototype.N=function(){this.g.l=null,delete this.j,Gt(this.g),delete this.g,mn.aa.N.call(this)},d(gn,ve),d(yn,be),d(vn,fn),vn.prototype.ua=function(){re(this.g,"a")},vn.prototype.ta=function(e){re(this.g,new gn(e))},vn.prototype.sa=function(e){re(this.g,new yn)},vn.prototype.ra=function(){re(this.g,"b")},pn.prototype.createWebChannel=pn.prototype.g,mn.prototype.send=mn.prototype.o,mn.prototype.open=mn.prototype.m,mn.prototype.close=mn.prototype.close,Jo=es.createWebChannelTransport=function(){return new pn},Xo=es.getStatEventTarget=function(){return ke()},Qo=es.Event=xe,Yo=es.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ie.NO_ERROR=0,Ie.TIMEOUT=8,Ie.HTTP_ERROR=6,Go=es.ErrorCode=Ie,Pe.COMPLETE="complete",Wo=es.EventType=Pe,ge.EventType=ye,ye.OPEN="a",ye.CLOSE="b",ye.ERROR="c",ye.MESSAGE="d",ne.prototype.listen=ne.prototype.K,qo=es.WebChannel=ge,es.FetchXmlHttpFactory=At,Rt.prototype.listenOnce=Rt.prototype.L,Rt.prototype.getLastError=Rt.prototype.Ka,Rt.prototype.getLastErrorCode=Rt.prototype.Ba,Rt.prototype.getStatus=Rt.prototype.Z,Rt.prototype.getResponseJson=Rt.prototype.Oa,Rt.prototype.getResponseText=Rt.prototype.oa,Rt.prototype.send=Rt.prototype.ea,Rt.prototype.setWithCredentials=Rt.prototype.Ha,Ko=es.XhrIo=Rt}).apply("undefined"!==typeof Zo?Zo:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const ts="@firebase/firestore",ns="4.9.0";class rs{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}rs.UNAUTHENTICATED=new rs(null),rs.GOOGLE_CREDENTIALS=new rs("google-credentials-uid"),rs.FIRST_PARTY=new rs("first-party-uid"),rs.MOCK_USER=new rs("mock-user");let as="12.0.0";const is=new Zt("@firebase/firestore");function os(){return is.logLevel}function ss(e){if(is.logLevel<=Gt.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const a=n.map(us);is.debug(`Firestore (${as}): ${e}`,...a)}}function ls(e){if(is.logLevel<=Gt.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const a=n.map(us);is.error(`Firestore (${as}): ${e}`,...a)}}function cs(e){if(is.logLevel<=Gt.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const a=n.map(us);is.warn(`Firestore (${as}): ${e}`,...a)}}function us(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function ds(e,t,n){let r="Unexpected state";"string"==typeof t?r=t:n=t,hs(e,r,n)}function hs(e,t,n){let r=`FIRESTORE (${as}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(void 0!==n)try{r+=" CONTEXT: "+JSON.stringify(n)}catch(e){r+=" CONTEXT: "+n}throw ls(r),new Error(r)}function fs(e,t,n,r){let a="Unexpected state";"string"==typeof n?a=n:r=n,e||hs(t,a,r)}function ps(e,t){return e}const ms={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class gs extends It{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ys{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class vs{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class bs{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(rs.UNAUTHENTICATED))}shutdown(){}}class xs{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class ws{constructor(e){this.t=e,this.currentUser=rs.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){fs(void 0===this.o,42304);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let a=new ys;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new ys,e.enqueueRetryable(()=>r(this.currentUser))};const i=()=>{const t=a;e.enqueueRetryable(async()=>{await t.promise,await r(this.currentUser)})},o=e=>{ss("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),i())};this.t.onInit(e=>o(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?o(e):(ss("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new ys)}},0),i()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(ss("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(fs("string"==typeof t.accessToken,31837,{l:t}),new vs(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return fs(null===e||"string"==typeof e,2055,{h:e}),new rs(e)}}class ks{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type="FirstParty",this.user=rs.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Ss{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new ks(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(rs.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Es{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Ns{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,tr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){fs(void 0===this.o,3512);const n=e=>{null!=e.error&&ss("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);const n=e.token!==this.m;return this.m=e.token,ss("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable(()=>n(t))};const r=e=>{ss("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(e=>r(e)),setTimeout(()=>{if(!this.appCheck){const e=this.V.getImmediate({optional:!0});e?r(e):ss("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Es(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?(fs("string"==typeof e.token,44558,{tokenResult:e}),this.m=e.token,new Es(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function js(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class _s{static newId(){const e=62*Math.floor(256/62);let t="";for(;t.length<20;){const n=js(40);for(let r=0;r<n.length;++r)t.length<20&&n[r]<e&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(n[r]%62))}return t}}function Ts(e,t){return e<t?-1:e>t?1:0}function As(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.charAt(r),a=t.charAt(r);if(n!==a)return Is(n)===Is(a)?Ts(n,a):Is(n)?1:-1}return Ts(e.length,t.length)}const Cs=55296,Os=57343;function Is(e){const t=e.charCodeAt(0);return t>=Cs&&t<=Os}function Ps(e,t,n){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}const Ds="__name__";class Ms{constructor(e,t,n){void 0===t?t=0:t>e.length&&ds(637,{offset:t,range:e.length}),void 0===n?n=e.length-t:n>e.length-t&&ds(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Ms.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ms?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=Ms.compareSegments(e.get(r),t.get(r));if(0!==n)return n}return Ts(e.length,t.length)}static compareSegments(e,t){const n=Ms.isNumericId(e),r=Ms.isNumericId(t);return n&&!r?-1:!n&&r?1:n&&r?Ms.extractNumericId(e).compare(Ms.extractNumericId(t)):As(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Vo.fromString(e.substring(4,e.length-2))}}class Rs extends Ms{construct(e,t,n){return new Rs(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const a of n){if(a.indexOf("//")>=0)throw new gs(ms.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);e.push(...a.split("/").filter(e=>e.length>0))}return new Rs(e)}static emptyPath(){return new Rs([])}}const Ls=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Fs extends Ms{construct(e,t,n){return new Fs(e,t,n)}static isValidIdentifier(e){return Ls.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Fs.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===Ds}static keyField(){return new Fs([Ds])}static fromServerFormat(e){const t=[];let n="",r=0;const a=()=>{if(0===n.length)throw new gs(ms.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let i=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new gs(ms.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new gs(ms.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(i=!i,r++):"."!==t||i?(n+=t,r++):(a(),r++)}if(a(),i)throw new gs(ms.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Fs(t)}static emptyPath(){return new Fs([])}}class zs{constructor(e){this.path=e}static fromPath(e){return new zs(Rs.fromString(e))}static fromName(e){return new zs(Rs.fromString(e).popFirst(5))}static empty(){return new zs(Rs.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Rs.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Rs.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new zs(new Rs(e.slice()))}}function Us(e,t,n){if(!n)throw new gs(ms.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function Vs(e){if(!zs.isDocumentKey(e))throw new gs(ms.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function Bs(e){if(zs.isDocumentKey(e))throw new gs(ms.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function $s(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}function Hs(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":ds(12329,{type:typeof e})}function Ks(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new gs(ms.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Hs(e);throw new gs(ms.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}function qs(e,t){const n={typeString:e};return t&&(n.value=t),n}function Ws(e,t){if(!$s(e))throw new gs(ms.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in t)if(t[r]){const a=t[r].typeString,i="value"in t[r]?{value:t[r].value}:void 0;if(!(r in e)){n=`JSON missing required field: '${r}'`;break}const o=e[r];if(a&&typeof o!==a){n=`JSON field '${r}' must be a ${a}.`;break}if(void 0!==i&&o!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new gs(ms.INVALID_ARGUMENT,n);return!0}const Gs=-62135596800,Ys=1e6;class Qs{static now(){return Qs.fromMillis(Date.now())}static fromDate(e){return Qs.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*Ys);return new Qs(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new gs(ms.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new gs(ms.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Gs)throw new gs(ms.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new gs(ms.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Ys}_compareTo(e){return this.seconds===e.seconds?Ts(this.nanoseconds,e.nanoseconds):Ts(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Qs._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Ws(e,Qs._jsonSchema))return new Qs(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Gs;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Qs._jsonSchemaVersion="firestore/timestamp/1.0",Qs._jsonSchema={type:qs("string",Qs._jsonSchemaVersion),seconds:qs("number"),nanoseconds:qs("number")};class Xs{static fromTimestamp(e){return new Xs(e)}static min(){return new Xs(new Qs(0,0))}static max(){return new Xs(new Qs(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Js=-1;class Zs{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}Zs.UNKNOWN_ID=-1;function el(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,a=Xs.fromTimestamp(1e9===r?new Qs(n+1,0):new Qs(n,r));return new nl(a,zs.empty(),t)}function tl(e){return new nl(e.readTime,e.key,Js)}class nl{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new nl(Xs.min(),zs.empty(),Js)}static max(){return new nl(Xs.max(),zs.empty(),Js)}}function rl(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=zs.comparator(e.documentKey,t.documentKey),0!==n?n:Ts(e.largestBatchId,t.largestBatchId))}const al="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class il{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}async function ol(e){if(e.code!==ms.FAILED_PRECONDITION||e.message!==al)throw e;ss("LocalStore","Unexpectedly lost primary lease")}class sl{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ds(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new sl((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof sl?t:sl.resolve(t)}catch(e){return sl.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):sl.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):sl.reject(t)}static resolve(e){return new sl((t,n)=>{t(e)})}static reject(e){return new sl((t,n)=>{n(e)})}static waitFor(e){return new sl((t,n)=>{let r=0,a=0,i=!1;e.forEach(e=>{++r,e.next(()=>{++a,i&&a===r&&t()},e=>n(e))}),i=!0,a===r&&t()})}static or(e){let t=sl.resolve(!1);for(const n of e)t=t.next(e=>e?sl.resolve(e):n());return t}static forEach(e,t){const n=[];return e.forEach((e,r)=>{n.push(t.call(this,e,r))}),this.waitFor(n)}static mapArray(e,t){return new sl((n,r)=>{const a=e.length,i=new Array(a);let o=0;for(let s=0;s<a;s++){const l=s;t(e[l]).next(e=>{i[l]=e,++o,o===a&&n(i)},e=>r(e))}})}static doWhile(e,t){return new sl((n,r)=>{const a=()=>{!0===e()?t().next(()=>{a()},r):n()};a()})}}function ll(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function cl(e){return"IndexedDbTransactionError"===e.name}class ul{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ae(e),this.ue=e=>t.writeSequenceNumber(e))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}ul.ce=-1;const dl=-1;function hl(e){return null==e}function fl(e){return 0===e&&1/e==-1/0}function pl(e){return"number"==typeof e&&Number.isInteger(e)&&!fl(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const ml="\x01";function gl(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=vl(t)),t=yl(e.get(n),t);return vl(t)}function yl(e,t){let n=t;const r=e.length;for(let a=0;a<r;a++){const t=e.charAt(a);switch(t){case"\0":n+="\x01\x10";break;case ml:n+="\x01\x11";break;default:n+=t}}return n}function vl(e){return e+ml+"\x01"}const bl="remoteDocuments",xl="owner",wl="mutationQueues",kl="mutations";const Sl="documentMutations",El="remoteDocumentsV14",Nl="remoteDocumentGlobal",jl="targets",_l="targetDocuments",Tl="targetGlobal",Al="collectionParents",Cl="clientMetadata",Ol="bundles",Il="namedQueries",Pl="indexConfiguration",Dl="indexState",Ml="indexEntries",Rl="documentOverlays",Ll="globals",Fl=[wl,kl,Sl,bl,jl,xl,Tl,_l,Cl,Nl,Al,Ol,Il],zl=[wl,kl,Sl,El,jl,xl,Tl,_l,Cl,Nl,Al,Ol,Il,Rl],Ul=zl,Vl=[...Ul,Pl,Dl,Ml];function Bl(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function $l(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Hl(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class Kl{constructor(e,t){this.comparator=e,this.root=t||Wl.EMPTY}insert(e,t){return new Kl(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Wl.BLACK,null,null))}remove(e){return new Kl(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Wl.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push(`${t}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ql(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ql(this.root,e,this.comparator,!1)}getReverseIterator(){return new ql(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ql(this.root,e,this.comparator,!0)}}class ql{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?n(e.key,t):1,t&&r&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(0===a){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Wl{constructor(e,t,n,r,a){this.key=e,this.value=t,this.color=null!=n?n:Wl.RED,this.left=null!=r?r:Wl.EMPTY,this.right=null!=a?a:Wl.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,a){return new Wl(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=a?a:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const a=n(e,r.key);return r=a<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===a?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Wl.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Wl.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Wl.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Wl.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ds(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ds(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ds(27949);return e+(this.isRed()?0:1)}}Wl.EMPTY=null,Wl.RED=!0,Wl.BLACK=!1,Wl.EMPTY=new class{constructor(){this.size=0}get key(){throw ds(57766)}get value(){throw ds(16141)}get color(){throw ds(16727)}get left(){throw ds(29726)}get right(){throw ds(36894)}copy(e,t,n,r,a){return this}insert(e,t,n){return new Wl(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Gl{constructor(e){this.comparator=e,this.data=new Kl(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Yl(this.data.getIterator())}getIteratorFrom(e){return new Yl(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof Gl))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Gl(this.comparator);return t.data=e,t}}class Yl{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Ql{constructor(e){this.fields=e,e.sort(Fs.comparator)}static empty(){return new Ql([])}unionWith(e){let t=new Gl(Fs.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Ql(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ps(this.fields,e.fields,(e,t)=>e.isEqual(t))}}class Xl extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Jl{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new Xl("Invalid base64 string: "+e):e}}(e);return new Jl(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Jl(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ts(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Jl.EMPTY_BYTE_STRING=new Jl("");const Zl=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ec(e){if(fs(!!e,39018),"string"==typeof e){let t=0;const n=Zl.exec(e);if(fs(!!n,46558,{timestamp:e}),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:tc(e.seconds),nanos:tc(e.nanos)}}function tc(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function nc(e){return"string"==typeof e?Jl.fromBase64String(e):Jl.fromUint8Array(e)}const rc="server_timestamp",ac="__type__",ic="__previous_value__",oc="__local_write_time__";function sc(e){const t=(e?.mapValue?.fields||{})[ac]?.stringValue;return t===rc}function lc(e){const t=e.mapValue.fields[ic];return sc(t)?lc(t):t}function cc(e){const t=ec(e.mapValue.fields[oc].timestampValue);return new Qs(t.seconds,t.nanos)}class uc{constructor(e,t,n,r,a,i,o,s,l,c){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=a,this.forceLongPolling=i,this.autoDetectLongPolling=o,this.longPollingOptions=s,this.useFetchStreams=l,this.isUsingEmulator=c}}const dc="(default)";class hc{constructor(e,t){this.projectId=e,this.database=t||dc}static empty(){return new hc("","")}get isDefaultDatabase(){return this.database===dc}isEqual(e){return e instanceof hc&&e.projectId===this.projectId&&e.database===this.database}}const fc="__type__",pc="__max__",mc={mapValue:{fields:{__type__:{stringValue:pc}}}},gc="__vector__",yc="value";function vc(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?sc(e)?4:Mc(e)?9007199254740991:Pc(e)?10:11:ds(28295,{value:e})}function bc(e,t){if(e===t)return!0;const n=vc(e);if(n!==vc(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return cc(e).isEqual(cc(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=ec(e.timestampValue),r=ec(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return nc(e.bytesValue).isEqual(nc(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return tc(e.geoPointValue.latitude)===tc(t.geoPointValue.latitude)&&tc(e.geoPointValue.longitude)===tc(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return tc(e.integerValue)===tc(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=tc(e.doubleValue),r=tc(t.doubleValue);return n===r?fl(n)===fl(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Ps(e.arrayValue.values||[],t.arrayValue.values||[],bc);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Bl(n)!==Bl(r))return!1;for(const a in n)if(n.hasOwnProperty(a)&&(void 0===r[a]||!bc(n[a],r[a])))return!1;return!0}(e,t);default:return ds(52216,{left:e})}}function xc(e,t){return void 0!==(e.values||[]).find(e=>bc(e,t))}function wc(e,t){if(e===t)return 0;const n=vc(e),r=vc(t);if(n!==r)return Ts(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ts(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=tc(e.integerValue||e.doubleValue),r=tc(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return kc(e.timestampValue,t.timestampValue);case 4:return kc(cc(e),cc(t));case 5:return As(e.stringValue,t.stringValue);case 6:return function(e,t){const n=nc(e),r=nc(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let a=0;a<n.length&&a<r.length;a++){const e=Ts(n[a],r[a]);if(0!==e)return e}return Ts(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Ts(tc(e.latitude),tc(t.latitude));return 0!==n?n:Ts(tc(e.longitude),tc(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return Sc(e.arrayValue,t.arrayValue);case 10:return function(e,t){const n=e.fields||{},r=t.fields||{},a=n[yc]?.arrayValue,i=r[yc]?.arrayValue,o=Ts(a?.values?.length||0,i?.values?.length||0);return 0!==o?o:Sc(a,i)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===mc.mapValue&&t===mc.mapValue)return 0;if(e===mc.mapValue)return 1;if(t===mc.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),a=t.fields||{},i=Object.keys(a);r.sort(),i.sort();for(let o=0;o<r.length&&o<i.length;++o){const e=As(r[o],i[o]);if(0!==e)return e;const t=wc(n[r[o]],a[i[o]]);if(0!==t)return t}return Ts(r.length,i.length)}(e.mapValue,t.mapValue);default:throw ds(23264,{he:n})}}function kc(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Ts(e,t);const n=ec(e),r=ec(t),a=Ts(n.seconds,r.seconds);return 0!==a?a:Ts(n.nanos,r.nanos)}function Sc(e,t){const n=e.values||[],r=t.values||[];for(let a=0;a<n.length&&a<r.length;++a){const e=wc(n[a],r[a]);if(e)return e}return Ts(n.length,r.length)}function Ec(e){return Nc(e)}function Nc(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=ec(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return nc(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return zs.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return`geo(${e.latitude},${e.longitude})`}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Nc(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const a of t)r?r=!1:n+=",",n+=`${a}:${Nc(e.fields[a])}`;return n+"}"}(e.mapValue):ds(61005,{value:e})}function jc(e){switch(vc(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=lc(e);return t?16+jc(t):16;case 5:return 2*e.stringValue.length;case 6:return nc(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(e){return(e.values||[]).reduce((e,t)=>e+jc(t),0)}(e.arrayValue);case 10:case 11:return function(e){let t=0;return $l(e.fields,(e,n)=>{t+=e.length+jc(n)}),t}(e.mapValue);default:throw ds(13486,{value:e})}}function _c(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function Tc(e){return!!e&&"integerValue"in e}function Ac(e){return!!e&&"arrayValue"in e}function Cc(e){return!!e&&"nullValue"in e}function Oc(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Ic(e){return!!e&&"mapValue"in e}function Pc(e){const t=(e?.mapValue?.fields||{})[fc]?.stringValue;return t===gc}function Dc(e){if(e.geoPointValue)return{geoPointValue:{...e.geoPointValue}};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:{...e.timestampValue}};if(e.mapValue){const t={mapValue:{fields:{}}};return $l(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=Dc(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Dc(e.arrayValue.values[n]);return t}return{...e}}function Mc(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===pc}class Rc{constructor(e){this.value=e}static empty(){return new Rc({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Ic(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Dc(t)}setAll(e){let t=Fs.emptyPath(),n={},r=[];e.forEach((e,a)=>{if(!t.isImmediateParentOf(a)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=a.popLast()}e?n[a.lastSegment()]=Dc(e):r.push(a.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,n,r)}delete(e){const t=this.field(e.popLast());Ic(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return bc(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Ic(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){$l(t,(t,n)=>e[t]=n);for(const r of n)delete e[r]}clone(){return new Rc(Dc(this.value))}}function Lc(e){const t=[];return $l(e.fields,(e,n)=>{const r=new Fs([e]);if(Ic(n)){const e=Lc(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)}),new Ql(t)}class Fc{constructor(e,t,n,r,a,i,o){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=a,this.data=i,this.documentState=o}static newInvalidDocument(e){return new Fc(e,0,Xs.min(),Xs.min(),Xs.min(),Rc.empty(),0)}static newFoundDocument(e,t,n,r){return new Fc(e,1,t,Xs.min(),n,r,0)}static newNoDocument(e,t){return new Fc(e,2,t,Xs.min(),Xs.min(),Rc.empty(),0)}static newUnknownDocument(e,t){return new Fc(e,3,t,Xs.min(),Xs.min(),Rc.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Xs.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Rc.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Rc.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Xs.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Fc&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Fc(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class zc{constructor(e,t){this.position=e,this.inclusive=t}}function Uc(e,t,n){let r=0;for(let a=0;a<e.position.length;a++){const i=t[a],o=e.position[a];if(r=i.field.isKeyField()?zs.comparator(zs.fromName(o.referenceValue),n.key):wc(o,n.data.field(i.field)),"desc"===i.dir&&(r*=-1),0!==r)break}return r}function Vc(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!bc(e.position[n],t.position[n]))return!1;return!0}class Bc{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function $c(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class Hc{}class Kc extends Hc{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new Zc(e,t,n):"array-contains"===t?new ru(e,n):"in"===t?new au(e,n):"not-in"===t?new iu(e,n):"array-contains-any"===t?new ou(e,n):new Kc(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new eu(e,n):new tu(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&void 0===t.nullValue&&this.matchesComparison(wc(t,this.value)):null!==t&&vc(this.value)===vc(t)&&this.matchesComparison(wc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ds(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class qc extends Hc{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new qc(e,t)}matches(e){return Wc(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.Pe||(this.Pe=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Wc(e){return"and"===e.op}function Gc(e){return Yc(e)&&Wc(e)}function Yc(e){for(const t of e.filters)if(t instanceof qc)return!1;return!0}function Qc(e){if(e instanceof Kc)return e.field.canonicalString()+e.op.toString()+Ec(e.value);if(Gc(e))return e.filters.map(e=>Qc(e)).join(",");{const t=e.filters.map(e=>Qc(e)).join(",");return`${e.op}(${t})`}}function Xc(e,t){return e instanceof Kc?function(e,t){return t instanceof Kc&&e.op===t.op&&e.field.isEqual(t.field)&&bc(e.value,t.value)}(e,t):e instanceof qc?function(e,t){return t instanceof qc&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((e,n,r)=>e&&Xc(n,t.filters[r]),!0)}(e,t):void ds(19439)}function Jc(e){return e instanceof Kc?function(e){return`${e.field.canonicalString()} ${e.op} ${Ec(e.value)}`}(e):e instanceof qc?function(e){return e.op.toString()+" {"+e.getFilters().map(Jc).join(" ,")+"}"}(e):"Filter"}class Zc extends Kc{constructor(e,t,n){super(e,t,n),this.key=zs.fromName(n.referenceValue)}matches(e){const t=zs.comparator(e.key,this.key);return this.matchesComparison(t)}}class eu extends Kc{constructor(e,t){super(e,"in",t),this.keys=nu("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class tu extends Kc{constructor(e,t){super(e,"not-in",t),this.keys=nu("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function nu(e,t){return(t.arrayValue?.values||[]).map(e=>zs.fromName(e.referenceValue))}class ru extends Kc{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Ac(t)&&xc(t.arrayValue,this.value)}}class au extends Kc{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&xc(this.value.arrayValue,t)}}class iu extends Kc{constructor(e,t){super(e,"not-in",t)}matches(e){if(xc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&void 0===t.nullValue&&!xc(this.value.arrayValue,t)}}class ou extends Kc{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Ac(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>xc(this.value.arrayValue,e))}}class su{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=a,this.startAt=i,this.endAt=o,this.Te=null}}function lu(e){return new su(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function cu(e){const t=ps(e);if(null===t.Te){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(e=>Qc(e)).join(","),e+="|ob:",e+=t.orderBy.map(e=>function(e){return e.field.canonicalString()+e.dir}(e)).join(","),hl(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(e=>Ec(e)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(e=>Ec(e)).join(",")),t.Te=e}return t.Te}function uu(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!$c(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Xc(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Vc(e.startAt,t.startAt)&&Vc(e.endAt,t.endAt)}function du(e){return zs.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class hu{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=a,this.limitType=i,this.startAt=o,this.endAt=s,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function fu(e,t,n,r,a,i,o,s){return new hu(e,t,n,r,a,i,o,s)}function pu(e){return new hu(e)}function mu(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function gu(e){return null!==e.collectionGroup}function yu(e){const t=ps(e);if(null===t.Ie){t.Ie=[];const e=new Set;for(const a of t.explicitOrderBy)t.Ie.push(a),e.add(a.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new Gl(Fs.comparator);return e.filters.forEach(e=>{e.getFlattenedFilters().forEach(e=>{e.isInequality()&&(t=t.add(e.field))})}),t}(t);r.forEach(r=>{e.has(r.canonicalString())||r.isKeyField()||t.Ie.push(new Bc(r,n))}),e.has(Fs.keyField().canonicalString())||t.Ie.push(new Bc(Fs.keyField(),n))}return t.Ie}function vu(e){const t=ps(e);return t.Ee||(t.Ee=bu(t,yu(e))),t.Ee}function bu(e,t){if("F"===e.limitType)return lu(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(e=>{const t="desc"===e.dir?"asc":"desc";return new Bc(e.field,t)});const n=e.endAt?new zc(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new zc(e.startAt.position,e.startAt.inclusive):null;return lu(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function xu(e,t){const n=e.filters.concat([t]);return new hu(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function wu(e,t,n){return new hu(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function ku(e,t){return uu(vu(e),vu(t))&&e.limitType===t.limitType}function Su(e){return`${cu(vu(e))}|lt:${e.limitType}`}function Eu(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(e=>Jc(e)).join(", ")}]`),hl(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e)).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(e=>Ec(e)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(e=>Ec(e)).join(",")),`Target(${t})`}(vu(e))}; limitType=${e.limitType})`}function Nu(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):zs.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of yu(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=Uc(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,yu(e),t))&&!(e.endAt&&!function(e,t,n){const r=Uc(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,yu(e),t))}(e,t)}function ju(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function _u(e){return(t,n)=>{let r=!1;for(const a of yu(e)){const e=Tu(a,t,n);if(0!==e)return e;r=r||a.field.isKeyField()}return 0}}function Tu(e,t,n){const r=e.field.isKeyField()?zs.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),a=n.data.field(e);return null!==r&&null!==a?wc(r,a):ds(42886)}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return ds(19790,{direction:e.dir})}}class Au{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,a]of n)if(this.equalsFn(r,e))return a}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return void(r[a]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){$l(this.inner,(t,n)=>{for(const[r,a]of n)e(r,a)})}isEmpty(){return Hl(this.inner)}size(){return this.innerSize}}const Cu=new Kl(zs.comparator);function Ou(){return Cu}const Iu=new Kl(zs.comparator);function Pu(){let e=Iu;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const a of n)e=e.insert(a.key,a);return e}function Du(e){let t=Iu;return e.forEach((e,n)=>t=t.insert(e,n.overlayedDocument)),t}function Mu(){return Lu()}function Ru(){return Lu()}function Lu(){return new Au(e=>e.toString(),(e,t)=>e.isEqual(t))}const Fu=new Kl(zs.comparator),zu=new Gl(zs.comparator);function Uu(){let e=zu;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const a of n)e=e.add(a);return e}const Vu=new Gl(Ts);function Bu(){return Vu}function $u(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:fl(t)?"-0":t}}function Hu(e){return{integerValue:""+e}}function Ku(e,t){return pl(t)?Hu(t):$u(e,t)}class qu{constructor(){this._=void 0}}function Wu(e,t,n){return e instanceof Qu?function(e,t){const n={fields:{[ac]:{stringValue:rc},[oc]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&sc(t)&&(t=lc(t)),t&&(n.fields[ic]=t),{mapValue:n}}(n,t):e instanceof Xu?Ju(e,t):e instanceof Zu?ed(e,t):function(e,t){const n=Yu(e,t),r=nd(n)+nd(e.Ae);return Tc(n)&&Tc(e.Ae)?Hu(r):$u(e.serializer,r)}(e,t)}function Gu(e,t,n){return e instanceof Xu?Ju(e,t):e instanceof Zu?ed(e,t):n}function Yu(e,t){return e instanceof td?function(e){return Tc(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class Qu extends qu{}class Xu extends qu{constructor(e){super(),this.elements=e}}function Ju(e,t){const n=rd(t);for(const r of e.elements)n.some(e=>bc(e,r))||n.push(r);return{arrayValue:{values:n}}}class Zu extends qu{constructor(e){super(),this.elements=e}}function ed(e,t){let n=rd(t);for(const r of e.elements)n=n.filter(e=>!bc(e,r));return{arrayValue:{values:n}}}class td extends qu{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function nd(e){return tc(e.integerValue||e.doubleValue)}function rd(e){return Ac(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class ad{constructor(e,t){this.field=e,this.transform=t}}class id{constructor(e,t){this.version=e,this.transformResults=t}}class od{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new od}static exists(e){return new od(void 0,e)}static updateTime(e){return new od(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function sd(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class ld{}function cd(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new bd(e.key,od.none()):new pd(e.key,e.data,od.none());{const n=e.data,r=Rc.empty();let a=new Gl(Fs.comparator);for(let e of t.fields)if(!a.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),a=a.add(e)}return new md(e.key,r,new Ql(a.toArray()),od.none())}}function ud(e,t,n){e instanceof pd?function(e,t,n){const r=e.value.clone(),a=yd(e.fieldTransforms,t,n.transformResults);r.setAll(a),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof md?function(e,t,n){if(!sd(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=yd(e.fieldTransforms,t,n.transformResults),a=t.data;a.setAll(gd(e)),a.setAll(r),t.convertToFoundDocument(n.version,a).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function dd(e,t,n,r){return e instanceof pd?function(e,t,n,r){if(!sd(e.precondition,t))return n;const a=e.value.clone(),i=vd(e.fieldTransforms,r,t);return a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null}(e,t,n,r):e instanceof md?function(e,t,n,r){if(!sd(e.precondition,t))return n;const a=vd(e.fieldTransforms,r,t),i=t.data;return i.setAll(gd(e)),i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>e.field))}(e,t,n,r):function(e,t,n){return sd(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function hd(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),a=Yu(r.transform,e||null);null!=a&&(null===n&&(n=Rc.empty()),n.set(r.field,a))}return n||null}function fd(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Ps(e,t,(e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Xu&&t instanceof Xu||e instanceof Zu&&t instanceof Zu?Ps(e.elements,t.elements,bc):e instanceof td&&t instanceof td?bc(e.Ae,t.Ae):e instanceof Qu&&t instanceof Qu}(e.transform,t.transform)}(e,t))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class pd extends ld{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class md extends ld{constructor(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function gd(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function yd(e,t,n){const r=new Map;fs(e.length===n.length,32656,{Re:n.length,Ve:e.length});for(let a=0;a<n.length;a++){const i=e[a],o=i.transform,s=t.data.field(i.field);r.set(i.field,Gu(o,s,n[a]))}return r}function vd(e,t,n){const r=new Map;for(const a of e){const e=a.transform,i=n.data.field(a.field);r.set(a.field,Wu(e,i,t))}return r}class bd extends ld{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class xd extends ld{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class wd{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&ud(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=dd(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=dd(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=Ru();return this.mutations.forEach(r=>{const a=e.get(r.key),i=a.overlayedDocument;let o=this.applyToLocalView(i,a.mutatedFields);o=t.has(r.key)?null:o;const s=cd(i,o);null!==s&&n.set(r.key,s),i.isValidDocument()||i.convertToNoDocument(Xs.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Uu())}isEqual(e){return this.batchId===e.batchId&&Ps(this.mutations,e.mutations,(e,t)=>fd(e,t))&&Ps(this.baseMutations,e.baseMutations,(e,t)=>fd(e,t))}}class kd{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){fs(e.mutations.length===n.length,58842,{me:e.mutations.length,fe:n.length});let r=Fu;const a=e.mutations;for(let i=0;i<a.length;i++)r=r.insert(a[i].key,n[i].version);return new kd(e,t,n,r)}}class Sd{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Ed{constructor(e,t){this.count=e,this.unchangedNames=t}}var Nd,jd;function _d(e){switch(e){case ms.OK:return ds(64938);case ms.CANCELLED:case ms.UNKNOWN:case ms.DEADLINE_EXCEEDED:case ms.RESOURCE_EXHAUSTED:case ms.INTERNAL:case ms.UNAVAILABLE:case ms.UNAUTHENTICATED:return!1;case ms.INVALID_ARGUMENT:case ms.NOT_FOUND:case ms.ALREADY_EXISTS:case ms.PERMISSION_DENIED:case ms.FAILED_PRECONDITION:case ms.ABORTED:case ms.OUT_OF_RANGE:case ms.UNIMPLEMENTED:case ms.DATA_LOSS:return!0;default:return ds(15467,{code:e})}}function Td(e){if(void 0===e)return ls("GRPC error has no .code"),ms.UNKNOWN;switch(e){case Nd.OK:return ms.OK;case Nd.CANCELLED:return ms.CANCELLED;case Nd.UNKNOWN:return ms.UNKNOWN;case Nd.DEADLINE_EXCEEDED:return ms.DEADLINE_EXCEEDED;case Nd.RESOURCE_EXHAUSTED:return ms.RESOURCE_EXHAUSTED;case Nd.INTERNAL:return ms.INTERNAL;case Nd.UNAVAILABLE:return ms.UNAVAILABLE;case Nd.UNAUTHENTICATED:return ms.UNAUTHENTICATED;case Nd.INVALID_ARGUMENT:return ms.INVALID_ARGUMENT;case Nd.NOT_FOUND:return ms.NOT_FOUND;case Nd.ALREADY_EXISTS:return ms.ALREADY_EXISTS;case Nd.PERMISSION_DENIED:return ms.PERMISSION_DENIED;case Nd.FAILED_PRECONDITION:return ms.FAILED_PRECONDITION;case Nd.ABORTED:return ms.ABORTED;case Nd.OUT_OF_RANGE:return ms.OUT_OF_RANGE;case Nd.UNIMPLEMENTED:return ms.UNIMPLEMENTED;case Nd.DATA_LOSS:return ms.DATA_LOSS;default:return ds(39323,{code:e})}}(jd=Nd||(Nd={}))[jd.OK=0]="OK",jd[jd.CANCELLED=1]="CANCELLED",jd[jd.UNKNOWN=2]="UNKNOWN",jd[jd.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",jd[jd.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",jd[jd.NOT_FOUND=5]="NOT_FOUND",jd[jd.ALREADY_EXISTS=6]="ALREADY_EXISTS",jd[jd.PERMISSION_DENIED=7]="PERMISSION_DENIED",jd[jd.UNAUTHENTICATED=16]="UNAUTHENTICATED",jd[jd.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",jd[jd.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",jd[jd.ABORTED=10]="ABORTED",jd[jd.OUT_OF_RANGE=11]="OUT_OF_RANGE",jd[jd.UNIMPLEMENTED=12]="UNIMPLEMENTED",jd[jd.INTERNAL=13]="INTERNAL",jd[jd.UNAVAILABLE=14]="UNAVAILABLE",jd[jd.DATA_LOSS=15]="DATA_LOSS";let Ad=null;function Cd(){return new TextEncoder}const Od=new Vo([4294967295,4294967295],0);function Id(e){const t=Cd().encode(e),n=new Bo;return n.update(t),new Uint8Array(n.digest())}function Pd(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),a=t.getUint32(8,!0),i=t.getUint32(12,!0);return[new Vo([n,r],0),new Vo([a,i],0)]}class Dd{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Md(`Invalid padding: ${t}`);if(n<0)throw new Md(`Invalid hash count: ${n}`);if(e.length>0&&0===this.hashCount)throw new Md(`Invalid hash count: ${n}`);if(0===e.length&&0!==t)throw new Md(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Vo.fromNumber(this.ge)}ye(e,t,n){let r=e.add(t.multiply(Vo.fromNumber(n)));return 1===r.compare(Od)&&(r=new Vo([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.ge)return!1;const t=Id(e),[n,r]=Pd(t);for(let a=0;a<this.hashCount;a++){const e=this.ye(n,r,a);if(!this.we(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),i=new Dd(a,r,t);return n.forEach(e=>i.insert(e)),i}insert(e){if(0===this.ge)return;const t=Id(e),[n,r]=Pd(t);for(let a=0;a<this.hashCount;a++){const e=this.ye(n,r,a);this.Se(e)}}Se(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Md extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Rd{constructor(e,t,n,r,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,Ld.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Rd(Xs.min(),r,new Kl(Ts),Ou(),Uu())}}class Ld{constructor(e,t,n,r,a){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Ld(n,t,Uu(),Uu(),Uu())}}class Fd{constructor(e,t,n,r){this.be=e,this.removedTargetIds=t,this.key=n,this.De=r}}class zd{constructor(e,t){this.targetId=e,this.Ce=t}}class Ud{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Jl.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class Vd{constructor(){this.ve=0,this.Fe=Hd(),this.Me=Jl.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return 0!==this.ve}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Uu(),t=Uu(),n=Uu();return this.Fe.forEach((r,a)=>{switch(a){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:ds(38017,{changeType:a})}}),new Ld(this.Me,this.xe,e,t,n)}qe(){this.Oe=!1,this.Fe=Hd()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,fs(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Bd{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ou(),this.Je=$d(),this.He=$d(),this.Ye=new Kl(Ts)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,t=>{const n=this.nt(t);switch(e.state){case 0:this.rt(t)&&n.Le(e.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(e.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(n.We(),n.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),n.Le(e.resumeToken));break;default:ds(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach((e,n)=>{this.rt(n)&&t(n)})}st(e){const t=e.targetId,n=e.Ce.count,r=this.ot(t);if(r){const a=r.target;if(du(a))if(0===n){const e=new zs(a.path);this.et(t,e,Fc.newNoDocument(e,Xs.min()))}else fs(1===n,20013,{expectedCount:n});else{const r=this._t(t);if(r!==n){const n=this.ut(e),a=n?this.ct(n,e,r):1;if(0!==a){this.it(t);const e=2===a?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,e)}Ad?.lt(function(e,t,n,r,a){const i={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},o=t.unchangedNames;return o&&(i.bloomFilter={applied:0===a,hashCount:o?.hashCount??0,bitmapLength:o?.bits?.bitmap?.length??0,padding:o?.bits?.padding??0,mightContain:e=>r?.mightContain(e)??!1}),i}(r,e.Ce,this.Ge.ht(),n,a))}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:a=0}=t;let i,o;try{i=nc(n).toUint8Array()}catch(e){if(e instanceof Xl)return cs("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{o=new Dd(i,r,a)}catch(e){return cs(e instanceof Md?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===o.ge?null:o}ct(e,t,n){return t.Ce.count===n-this.Pt(e,t.targetId)?0:2}Pt(e,t){const n=this.Ge.getRemoteKeysForTarget(t);let r=0;return n.forEach(n=>{const a=this.Ge.ht(),i=`projects/${a.projectId}/databases/${a.database}/documents/${n.path.canonicalString()}`;e.mightContain(i)||(this.et(t,n,null),r++)}),r}Tt(e){const t=new Map;this.ze.forEach((n,r)=>{const a=this.ot(r);if(a){if(n.current&&du(a.target)){const t=new zs(a.target.path);this.It(t).has(r)||this.Et(r,t)||this.et(r,t,Fc.newNoDocument(t,e))}n.Be&&(t.set(r,n.ke()),n.qe())}});let n=Uu();this.He.forEach((e,t)=>{let r=!0;t.forEachWhile(e=>{const t=this.ot(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)}),r&&(n=n.add(e))}),this.je.forEach((t,n)=>n.setReadTime(e));const r=new Rd(e,t,this.Ye,this.je,n);return this.je=Ou(),this.Je=$d(),this.He=$d(),this.Ye=new Kl(Ts),r}Xe(e,t){if(!this.rt(e))return;const n=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,n),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,n){if(!this.rt(e))return;const r=this.nt(e);this.Et(e,t)?r.Qe(t,1):r.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),n&&(this.je=this.je.insert(t,n))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new Vd,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Gl(Ts),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Gl(Ts),this.Je=this.Je.insert(e,t)),t}rt(e){const t=null!==this.ot(e);return t||ss("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Vd),this.Ge.getRemoteKeysForTarget(e).forEach(t=>{this.et(e,t,null)})}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function $d(){return new Kl(zs.comparator)}function Hd(){return new Kl(zs.comparator)}const Kd={asc:"ASCENDING",desc:"DESCENDING"},qd={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Wd={and:"AND",or:"OR"};class Gd{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Yd(e,t){return e.useProto3Json||hl(t)?t:{value:t}}function Qd(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Xd(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Jd(e,t){return Qd(e,t.toTimestamp())}function Zd(e){return fs(!!e,49232),Xs.fromTimestamp(function(e){const t=ec(e);return new Qs(t.seconds,t.nanos)}(e))}function eh(e,t){return th(e,t).canonicalString()}function th(e,t){const n=function(e){return new Rs(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function nh(e){const t=Rs.fromString(e);return fs(kh(t),10190,{key:t.toString()}),t}function rh(e,t){return eh(e.databaseId,t.path)}function ah(e,t){const n=nh(t);if(n.get(1)!==e.databaseId.projectId)throw new gs(ms.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new gs(ms.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new zs(lh(n))}function ih(e,t){return eh(e.databaseId,t)}function oh(e){const t=nh(e);return 4===t.length?Rs.emptyPath():lh(t)}function sh(e){return new Rs(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function lh(e){return fs(e.length>4&&"documents"===e.get(4),29091,{key:e.toString()}),e.popFirst(5)}function ch(e,t,n){return{name:rh(e,t),fields:n.value.mapValue.fields}}function uh(e,t){let n;if(t instanceof pd)n={update:ch(e,t.key,t.value)};else if(t instanceof bd)n={delete:rh(e,t.key)};else if(t instanceof md)n={update:ch(e,t.key,t.data),updateMask:wh(t.fieldMask)};else{if(!(t instanceof xd))return ds(16599,{Vt:t.type});n={verify:rh(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(e=>function(e,t){const n=t.transform;if(n instanceof Qu)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Xu)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Zu)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof td)return{fieldPath:t.field.canonicalString(),increment:n.Ae};throw ds(20930,{transform:t.transform})}(0,e))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Jd(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:ds(27497)}(e,t.precondition)),n}function dh(e,t){return{documents:[ih(e,t.path)]}}function hh(e,t){const n={structuredQuery:{}},r=t.path;let a;null!==t.collectionGroup?(a=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(a=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=ih(e,a);const i=function(e){if(0!==e.length)return xh(qc.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);const o=function(e){if(0!==e.length)return e.map(e=>function(e){return{field:vh(e.field),direction:mh(e.dir)}}(e))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);const s=Yd(e,t.limit);return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{ft:n,parent:a}}function fh(e){let t=oh(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let a=null;if(r>0){fs(1===r,65062);const e=n.from[0];e.allDescendants?a=e.collectionId:t=t.child(e.collectionId)}let i=[];n.where&&(i=function(e){const t=ph(e);return t instanceof qc&&Gc(t)?t.getFilters():[t]}(n.where));let o=[];n.orderBy&&(o=function(e){return e.map(e=>function(e){return new Bc(bh(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))}(n.orderBy));let s=null;n.limit&&(s=function(e){let t;return t="object"==typeof e?e.value:e,hl(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new zc(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new zc(n,t)}(n.endAt)),fu(t,a,o,i,s,"F",l,c)}function ph(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=bh(e.unaryFilter.field);return Kc.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=bh(e.unaryFilter.field);return Kc.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=bh(e.unaryFilter.field);return Kc.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=bh(e.unaryFilter.field);return Kc.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ds(61313);default:return ds(60726)}}(e):void 0!==e.fieldFilter?function(e){return Kc.create(bh(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ds(58110);default:return ds(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return qc.create(e.compositeFilter.filters.map(e=>ph(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return ds(1026)}}(e.compositeFilter.op))}(e):ds(30097,{filter:e})}function mh(e){return Kd[e]}function gh(e){return qd[e]}function yh(e){return Wd[e]}function vh(e){return{fieldPath:e.canonicalString()}}function bh(e){return Fs.fromServerFormat(e.fieldPath)}function xh(e){return e instanceof Kc?function(e){if("=="===e.op){if(Oc(e.value))return{unaryFilter:{field:vh(e.field),op:"IS_NAN"}};if(Cc(e.value))return{unaryFilter:{field:vh(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Oc(e.value))return{unaryFilter:{field:vh(e.field),op:"IS_NOT_NAN"}};if(Cc(e.value))return{unaryFilter:{field:vh(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:vh(e.field),op:gh(e.op),value:e.value}}}(e):e instanceof qc?function(e){const t=e.getFilters().map(e=>xh(e));return 1===t.length?t[0]:{compositeFilter:{op:yh(e.op),filters:t}}}(e):ds(54877,{filter:e})}function wh(e){const t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function kh(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class Sh{constructor(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Xs.min(),i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Xs.min(),o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Jl.EMPTY_BYTE_STRING,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=i,this.resumeToken=o,this.expectedCount=s}withSequenceNumber(e){return new Sh(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Sh(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Sh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Sh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Eh{constructor(e){this.yt=e}}function Nh(e){const t=fh({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?wu(t,t.limit,"L"):t}class jh{constructor(){}Dt(e,t){this.Ct(e,t),t.vt()}Ct(e,t){if("nullValue"in e)this.Ft(t,5);else if("booleanValue"in e)this.Ft(t,10),t.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(t,15),t.Mt(tc(e.integerValue));else if("doubleValue"in e){const n=tc(e.doubleValue);isNaN(n)?this.Ft(t,13):(this.Ft(t,15),fl(n)?t.Mt(0):t.Mt(n))}else if("timestampValue"in e){let n=e.timestampValue;this.Ft(t,20),"string"==typeof n&&(n=ec(n)),t.xt(`${n.seconds||""}`),t.Mt(n.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,t),this.Nt(t);else if("bytesValue"in e)this.Ft(t,30),t.Bt(nc(e.bytesValue)),this.Nt(t);else if("referenceValue"in e)this.Lt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Ft(t,45),t.Mt(n.latitude||0),t.Mt(n.longitude||0)}else"mapValue"in e?Mc(e)?this.Ft(t,Number.MAX_SAFE_INTEGER):Pc(e)?this.kt(e.mapValue,t):(this.qt(e.mapValue,t),this.Nt(t)):"arrayValue"in e?(this.Qt(e.arrayValue,t),this.Nt(t)):ds(19022,{$t:e})}Ot(e,t){this.Ft(t,25),this.Ut(e,t)}Ut(e,t){t.xt(e)}qt(e,t){const n=e.fields||{};this.Ft(t,55);for(const r of Object.keys(n))this.Ot(r,t),this.Ct(n[r],t)}kt(e,t){const n=e.fields||{};this.Ft(t,53);const r=yc,a=n[r].arrayValue?.values?.length||0;this.Ft(t,15),t.Mt(tc(a)),this.Ot(r,t),this.Ct(n[r],t)}Qt(e,t){const n=e.values||[];this.Ft(t,50);for(const r of n)this.Ct(r,t)}Lt(e,t){this.Ft(t,37),zs.fromName(e).path.forEach(e=>{this.Ft(t,60),this.Ut(e,t)})}Ft(e,t){e.Mt(t)}Nt(e){e.Mt(2)}}jh.Kt=new jh;class _h{constructor(){this.Cn=new Th}addToCollectionParentIndex(e,t){return this.Cn.add(t),sl.resolve()}getCollectionParents(e,t){return sl.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return sl.resolve()}deleteFieldIndex(e,t){return sl.resolve()}deleteAllFieldIndexes(e){return sl.resolve()}createTargetIndexes(e,t){return sl.resolve()}getDocumentsMatchingTarget(e,t){return sl.resolve(null)}getIndexType(e,t){return sl.resolve(0)}getFieldIndexes(e,t){return sl.resolve([])}getNextCollectionGroupToUpdate(e){return sl.resolve(null)}getMinOffset(e,t){return sl.resolve(nl.min())}getMinOffsetFromCollectionGroup(e,t){return sl.resolve(nl.min())}updateCollectionGroup(e,t,n){return sl.resolve()}updateIndexEntries(e,t){return sl.resolve()}}class Th{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Gl(Rs.comparator),a=!r.has(n);return this.index[t]=r.add(n),a}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new Gl(Rs.comparator)).toArray()}}new Uint8Array(0);const Ah={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Ch=41943040;class Oh{static withCacheSize(e){return new Oh(e,Oh.DEFAULT_COLLECTION_PERCENTILE,Oh.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}Oh.DEFAULT_COLLECTION_PERCENTILE=10,Oh.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Oh.DEFAULT=new Oh(Ch,Oh.DEFAULT_COLLECTION_PERCENTILE,Oh.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Oh.DISABLED=new Oh(-1,0,0);class Ih{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Ih(0)}static cr(){return new Ih(-1)}}const Ph="LruGarbageCollector",Dh=1048576;function Mh(e,t){let[n,r]=e,[a,i]=t;const o=Ts(n,a);return 0===o?Ts(r,i):o}class Rh{constructor(e){this.Ir=e,this.buffer=new Gl(Mh),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();Mh(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Lh{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Rr=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return null!==this.Rr}Vr(e){ss(Ph,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){cl(e)?ss(Ph,"Ignoring IndexedDB error during garbage collection: ",e):await ol(e)}await this.Vr(3e5)})}}class Fh{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next(e=>Math.floor(t/100*e))}nthSequenceNumber(e,t){if(0===t)return sl.resolve(ul.ce);const n=new Rh(t);return this.mr.forEachTarget(e,e=>n.Ar(e.sequenceNumber)).next(()=>this.mr.pr(e,e=>n.Ar(e))).next(()=>n.maxValue)}removeTargets(e,t,n){return this.mr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(ss("LruGarbageCollector","Garbage collection skipped; disabled"),sl.resolve(Ah)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(ss("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Ah):this.yr(e,t))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let n,r,a,i,o,s,l;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(t=>(t>this.params.maximumSequenceNumbersToCollect?(ss("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${t}`),r=this.params.maximumSequenceNumbersToCollect):r=t,i=Date.now(),this.nthSequenceNumber(e,r))).next(r=>(n=r,o=Date.now(),this.removeTargets(e,n,t))).next(t=>(a=t,s=Date.now(),this.removeOrphanedDocuments(e,n))).next(e=>(l=Date.now(),os()<=Gt.DEBUG&&ss("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${i-c}ms\n\tDetermined least recently used ${r} in `+(o-i)+"ms\n"+`\tRemoved ${a} targets in `+(s-o)+"ms\n"+`\tRemoved ${e} documents in `+(l-s)+"ms\n"+`Total Duration: ${l-c}ms`),sl.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:a,documentsRemoved:e})))}}function zh(e,t){return new Fh(e,t)}class Uh{constructor(){this.changes=new Au(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Fc.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?sl.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Vh{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Bh{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(n=r,this.remoteDocumentCache.getEntry(e,t))).next(e=>(null!==n&&dd(n.mutation,e,Ql.empty(),Qs.now()),e))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.getLocalViewOfDocuments(e,t,Uu()).next(()=>t))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Uu();const r=Mu();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,n).next(e=>{let t=Pu();return e.forEach((e,n)=>{t=t.insert(e,n.overlayedDocument)}),t}))}getOverlayedDocuments(e,t){const n=Mu();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,Uu()))}populateOverlays(e,t,n){const r=[];return n.forEach(e=>{t.has(e)||r.push(e)}),this.documentOverlayCache.getOverlays(e,r).next(e=>{e.forEach((e,n)=>{t.set(e,n)})})}computeViews(e,t,n,r){let a=Ou();const i=Lu(),o=Lu();return t.forEach((e,t)=>{const o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof md)?a=a.insert(t.key,t):void 0!==o?(i.set(t.key,o.mutation.getFieldMask()),dd(o.mutation,t,o.mutation.getFieldMask(),Qs.now())):i.set(t.key,Ql.empty())}),this.recalculateAndSaveOverlays(e,a).next(e=>(e.forEach((e,t)=>i.set(e,t)),t.forEach((e,t)=>o.set(e,new Vh(t,i.get(e)??null))),o))}recalculateAndSaveOverlays(e,t){const n=Lu();let r=new Kl((e,t)=>e-t),a=Uu();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>{for(const a of e)a.keys().forEach(e=>{const i=t.get(e);if(null===i)return;let o=n.get(e)||Ql.empty();o=a.applyToLocalView(i,o),n.set(e,o);const s=(r.get(a.batchId)||Uu()).add(e);r=r.insert(a.batchId,s)})}).next(()=>{const i=[],o=r.getReverseIterator();for(;o.hasNext();){const r=o.getNext(),s=r.key,l=r.value,c=Ru();l.forEach(e=>{if(!a.has(e)){const r=cd(t.get(e),n.get(e));null!==r&&c.set(e,r),a=a.add(e)}}),i.push(this.documentOverlayCache.saveOverlays(e,s,c))}return sl.waitFor(i)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return zs.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):gu(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next(a=>{const i=r-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):sl.resolve(Mu());let o=Js,s=a;return i.next(t=>sl.forEach(t,(t,n)=>(o<n.largestBatchId&&(o=n.largestBatchId),a.get(t)?sl.resolve():this.remoteDocumentCache.getEntry(e,t).next(e=>{s=s.insert(t,e)}))).next(()=>this.populateOverlays(e,t,a)).next(()=>this.computeViews(e,s,t,Uu())).next(e=>({batchId:o,changes:Du(e)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new zs(t)).next(e=>{let t=Pu();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const a=t.collectionGroup;let i=Pu();return this.indexManager.getCollectionParents(e,a).next(o=>sl.forEach(o,o=>{const s=function(e,t){return new hu(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(a));return this.getDocumentsMatchingCollectionQuery(e,s,n,r).next(e=>{e.forEach((e,t)=>{i=i.insert(e,t)})})}).next(()=>i))}getDocumentsMatchingCollectionQuery(e,t,n,r){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(i=>(a=i,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,a,r))).next(e=>{a.forEach((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,Fc.newInvalidDocument(r)))});let n=Pu();return e.forEach((e,r)=>{const i=a.get(e);void 0!==i&&dd(i.mutation,r,Ql.empty(),Qs.now()),Nu(t,r)&&(n=n.insert(e,r))}),n})}}class $h{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return sl.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:Zd(e.createTime)}}(t)),sl.resolve()}getNamedQuery(e,t){return sl.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,function(e){return{name:e.name,query:Nh(e.bundledQuery),readTime:Zd(e.readTime)}}(t)),sl.resolve()}}class Hh{constructor(){this.overlays=new Kl(zs.comparator),this.qr=new Map}getOverlay(e,t){return sl.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Mu();return sl.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((n,r)=>{this.St(e,t,r)}),sl.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.qr.get(n);return void 0!==r&&(r.forEach(e=>this.overlays=this.overlays.remove(e)),this.qr.delete(n)),sl.resolve()}getOverlaysForCollection(e,t,n){const r=Mu(),a=t.length+1,i=new zs(t.child("")),o=this.overlays.getIteratorFrom(i);for(;o.hasNext();){const e=o.getNext().value,i=e.getKey();if(!t.isPrefixOf(i.path))break;i.path.length===a&&e.largestBatchId>n&&r.set(e.getKey(),e)}return sl.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let a=new Kl((e,t)=>e-t);const i=this.overlays.getIterator();for(;i.hasNext();){const e=i.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=a.get(e.largestBatchId);null===t&&(t=Mu(),a=a.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const o=Mu(),s=a.getIterator();for(;s.hasNext()&&(s.getNext().value.forEach((e,t)=>o.set(e,t)),!(o.size()>=r)););return sl.resolve(o)}St(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.qr.get(r.largestBatchId).delete(n.key);this.qr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Sd(t,n));let a=this.qr.get(t);void 0===a&&(a=Uu(),this.qr.set(t,a)),this.qr.set(t,a.add(n.key))}}class Kh{constructor(){this.sessionToken=Jl.EMPTY_BYTE_STRING}getSessionToken(e){return sl.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,sl.resolve()}}class qh{constructor(){this.Qr=new Gl(Wh.$r),this.Ur=new Gl(Wh.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const n=new Wh(e,t);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.Gr(new Wh(e,t))}zr(e,t){e.forEach(e=>this.removeReference(e,t))}jr(e){const t=new zs(new Rs([])),n=new Wh(t,e),r=new Wh(t,e+1),a=[];return this.Ur.forEachInRange([n,r],e=>{this.Gr(e),a.push(e.key)}),a}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new zs(new Rs([])),n=new Wh(t,e),r=new Wh(t,e+1);let a=Uu();return this.Ur.forEachInRange([n,r],e=>{a=a.add(e.key)}),a}containsKey(e){const t=new Wh(e,0),n=this.Qr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class Wh{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return zs.comparator(e.key,t.key)||Ts(e.Yr,t.Yr)}static Kr(e,t){return Ts(e.Yr,t.Yr)||zs.comparator(e.key,t.key)}}class Gh{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Gl(Wh.$r)}checkEmpty(e){return sl.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const i=new wd(a,t,n,r);this.mutationQueue.push(i);for(const o of r)this.Zr=this.Zr.add(new Wh(o.key,a)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return sl.resolve(i)}lookupMutationBatch(e,t){return sl.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.ei(n),a=r<0?0:r;return sl.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return sl.resolve(0===this.mutationQueue.length?dl:this.tr-1)}getAllMutationBatches(e){return sl.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Wh(t,0),r=new Wh(t,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([n,r],e=>{const t=this.Xr(e.Yr);a.push(t)}),sl.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Gl(Ts);return t.forEach(e=>{const t=new Wh(e,0),r=new Wh(e,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([t,r],e=>{n=n.add(e.Yr)})}),sl.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let a=n;zs.isDocumentKey(a)||(a=a.child(""));const i=new Wh(new zs(a),0);let o=new Gl(Ts);return this.Zr.forEachWhile(e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.Yr)),!0)},i),sl.resolve(this.ti(o))}ti(e){const t=[];return e.forEach(e=>{const n=this.Xr(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){fs(0===this.ni(t.batchId,"removed"),55003),this.mutationQueue.shift();let n=this.Zr;return sl.forEach(t.mutations,r=>{const a=new Wh(r.key,t.batchId);return n=n.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Zr=n})}ir(e){}containsKey(e,t){const n=new Wh(t,0),r=this.Zr.firstAfterOrEqual(n);return sl.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,sl.resolve()}ni(e,t){return this.ei(e)}ei(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Yh{constructor(e){this.ri=e,this.docs=new Kl(zs.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),a=r?r.size:0,i=this.ri(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:i}),this.size+=i-a,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return sl.resolve(n?n.document.mutableCopy():Fc.newInvalidDocument(t))}getEntries(e,t){let n=Ou();return t.forEach(e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():Fc.newInvalidDocument(e))}),sl.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let a=Ou();const i=t.path,o=new zs(i.child("__id-9223372036854775808__")),s=this.docs.getIteratorFrom(o);for(;s.hasNext();){const{key:e,value:{document:o}}=s.getNext();if(!i.isPrefixOf(e.path))break;e.path.length>i.length+1||rl(tl(o),n)<=0||(r.has(o.key)||Nu(t,o))&&(a=a.insert(o.key,o.mutableCopy()))}return sl.resolve(a)}getAllFromCollectionGroup(e,t,n,r){ds(9500)}ii(e,t){return sl.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new Qh(this)}getSize(e){return sl.resolve(this.size)}}class Qh extends Uh{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?t.push(this.Nr.addEntry(e,r)):this.Nr.removeEntry(n)}),sl.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}class Xh{constructor(e){this.persistence=e,this.si=new Au(e=>cu(e),uu),this.lastRemoteSnapshotVersion=Xs.min(),this.highestTargetId=0,this.oi=0,this._i=new qh,this.targetCount=0,this.ai=Ih.ur()}forEachTarget(e,t){return this.si.forEach((e,n)=>t(n)),sl.resolve()}getLastRemoteSnapshotVersion(e){return sl.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return sl.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),sl.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.oi&&(this.oi=t),sl.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new Ih(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,sl.resolve()}updateTargetData(e,t){return this.Pr(t),sl.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,sl.resolve()}removeTargets(e,t,n){let r=0;const a=[];return this.si.forEach((i,o)=>{o.sequenceNumber<=t&&null===n.get(o.targetId)&&(this.si.delete(i),a.push(this.removeMatchingKeysForTargetId(e,o.targetId)),r++)}),sl.waitFor(a).next(()=>r)}getTargetCount(e){return sl.resolve(this.targetCount)}getTargetData(e,t){const n=this.si.get(t)||null;return sl.resolve(n)}addMatchingKeys(e,t,n){return this._i.Wr(t,n),sl.resolve()}removeMatchingKeys(e,t,n){this._i.zr(t,n);const r=this.persistence.referenceDelegate,a=[];return r&&t.forEach(t=>{a.push(r.markPotentiallyOrphaned(e,t))}),sl.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),sl.resolve()}getMatchingKeysForTargetId(e,t){const n=this._i.Hr(t);return sl.resolve(n)}containsKey(e,t){return sl.resolve(this._i.containsKey(t))}}class Jh{constructor(e,t){this.ui={},this.overlays={},this.ci=new ul(0),this.li=!1,this.li=!0,this.hi=new Kh,this.referenceDelegate=e(this),this.Pi=new Xh(this),this.indexManager=new _h,this.remoteDocumentCache=function(e){return new Yh(e)}(e=>this.referenceDelegate.Ti(e)),this.serializer=new Eh(t),this.Ii=new $h(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Hh,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ui[e.toKey()];return n||(n=new Gh(t,this.referenceDelegate),this.ui[e.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,n){ss("MemoryPersistence","Starting transaction:",e);const r=new Zh(this.ci.next());return this.referenceDelegate.Ei(),n(r).next(e=>this.referenceDelegate.di(r).next(()=>e)).toPromise().then(e=>(r.raiseOnCommittedEvent(),e))}Ai(e,t){return sl.or(Object.values(this.ui).map(n=>()=>n.containsKey(e,t)))}}class Zh extends il{constructor(e){super(),this.currentSequenceNumber=e}}class ef{constructor(e){this.persistence=e,this.Ri=new qh,this.Vi=null}static mi(e){return new ef(e)}get fi(){if(this.Vi)return this.Vi;throw ds(60996)}addReference(e,t,n){return this.Ri.addReference(n,t),this.fi.delete(n.toString()),sl.resolve()}removeReference(e,t,n){return this.Ri.removeReference(n,t),this.fi.add(n.toString()),sl.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),sl.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach(e=>this.fi.add(e.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.fi.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return sl.forEach(this.fi,n=>{const r=zs.fromPath(n);return this.gi(e,r).next(e=>{e||t.removeEntry(r,Xs.min())})}).next(()=>(this.Vi=null,t.apply(e)))}updateLimboDocument(e,t){return this.gi(e,t).next(e=>{e?this.fi.delete(t.toString()):this.fi.add(t.toString())})}Ti(e){return 0}gi(e,t){return sl.or([()=>sl.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class tf{constructor(e,t){this.persistence=e,this.pi=new Au(e=>gl(e.path),(e,t)=>e.isEqual(t)),this.garbageCollector=zh(this,t)}static mi(e,t){return new tf(e,t)}Ei(){}di(e){return sl.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(e=>t.next(t=>e+t))}wr(e){let t=0;return this.pr(e,e=>{t++}).next(()=>t)}pr(e,t){return sl.forEach(this.pi,(n,r)=>this.br(e,n,r).next(e=>e?sl.resolve():t(r)))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const r=this.persistence.getRemoteDocumentCache(),a=r.newChangeBuffer();return r.ii(e,r=>this.br(e,r,t).next(e=>{e||(n++,a.removeEntry(r,Xs.min()))})).next(()=>a.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),sl.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),sl.resolve()}removeReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),sl.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),sl.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=jc(e.data.value)),t}br(e,t,n){return sl.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const e=this.pi.get(t);return sl.resolve(void 0!==e&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class nf{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Es=n,this.ds=r}static As(e,t){let n=Uu(),r=Uu();for(const a of t.docChanges)switch(a.type){case 0:n=n.add(a.doc.key);break;case 1:r=r.add(a.doc.key)}return new nf(e,t.fromCache,n,r)}}class rf{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class af{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=Ct()?8:ll(Tt())>0?6:4}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,n,r){const a={result:null};return this.ys(e,t).next(e=>{a.result=e}).next(()=>{if(!a.result)return this.ws(e,t,r,n).next(e=>{a.result=e})}).next(()=>{if(a.result)return;const n=new rf;return this.Ss(e,t,n).next(r=>{if(a.result=r,this.Vs)return this.bs(e,t,n,r.size)})}).next(()=>a.result)}bs(e,t,n,r){return n.documentReadCount<this.fs?(os()<=Gt.DEBUG&&ss("QueryEngine","SDK will not create cache indexes for query:",Eu(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),sl.resolve()):(os()<=Gt.DEBUG&&ss("QueryEngine","Query:",Eu(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.gs*r?(os()<=Gt.DEBUG&&ss("QueryEngine","The SDK decides to create cache indexes for query:",Eu(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,vu(t))):sl.resolve())}ys(e,t){if(mu(t))return sl.resolve(null);let n=vu(t);return this.indexManager.getIndexType(e,n).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=wu(t,null,"F"),n=vu(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(r=>{const a=Uu(...r);return this.ps.getDocuments(e,a).next(r=>this.indexManager.getMinOffset(e,n).next(n=>{const i=this.Ds(t,r);return this.Cs(t,i,a,n.readTime)?this.ys(e,wu(t,null,"F")):this.vs(e,i,t,n)}))})))}ws(e,t,n,r){return mu(t)||r.isEqual(Xs.min())?sl.resolve(null):this.ps.getDocuments(e,n).next(a=>{const i=this.Ds(t,a);return this.Cs(t,i,n,r)?sl.resolve(null):(os()<=Gt.DEBUG&&ss("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Eu(t)),this.vs(e,i,t,el(r,Js)).next(e=>e))})}Ds(e,t){let n=new Gl(_u(e));return t.forEach((t,r)=>{Nu(e,r)&&(n=n.add(r))}),n}Cs(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const a="F"===e.limitType?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(r)>0)}Ss(e,t,n){return os()<=Gt.DEBUG&&ss("QueryEngine","Using full collection scan to execute query:",Eu(t)),this.ps.getDocumentsMatchingQuery(e,t,nl.min(),n)}vs(e,t,n,r){return this.ps.getDocumentsMatchingQuery(e,n,r).next(e=>(t.forEach(t=>{e=e.insert(t.key,t)}),e))}}const of="LocalStore";class sf{constructor(e,t,n,r){this.persistence=e,this.Fs=t,this.serializer=r,this.Ms=new Kl(Ts),this.xs=new Au(e=>cu(e),uu),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(n)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Bh(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ms))}}function lf(e,t,n,r){return new sf(e,t,n,r)}async function cf(e,t){const n=ps(e);return await n.persistence.runTransaction("Handle user change","readonly",e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next(a=>(r=a,n.Bs(t),n.mutationQueue.getAllMutationBatches(e))).next(t=>{const a=[],i=[];let o=Uu();for(const e of r){a.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}for(const e of t){i.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}return n.localDocuments.getDocuments(e,o).next(e=>({Ls:e,removedBatchIds:a,addedBatchIds:i}))})})}function uf(e){const t=ps(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Pi.getLastRemoteSnapshotVersion(e))}function df(e,t,n){let r=Uu(),a=Uu();return n.forEach(e=>r=r.add(e)),t.getEntries(e,r).next(e=>{let r=Ou();return n.forEach((n,i)=>{const o=e.get(n);i.isFoundDocument()!==o.isFoundDocument()&&(a=a.add(n)),i.isNoDocument()&&i.version.isEqual(Xs.min())?(t.removeEntry(n,i.readTime),r=r.insert(n,i)):!o.isValidDocument()||i.version.compareTo(o.version)>0||0===i.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(i),r=r.insert(n,i)):ss(of,"Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",i.version)}),{ks:r,qs:a}})}function hf(e,t){const n=ps(e);return n.persistence.runTransaction("Get next mutation batch","readonly",e=>(void 0===t&&(t=dl),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)))}function ff(e,t){const n=ps(e);return n.persistence.runTransaction("Allocate target","readwrite",e=>{let r;return n.Pi.getTargetData(e,t).next(a=>a?(r=a,sl.resolve(r)):n.Pi.allocateTargetId(e).next(a=>(r=new Sh(t,a,"TargetPurposeListen",e.currentSequenceNumber),n.Pi.addTargetData(e,r).next(()=>r))))}).then(e=>{const r=n.Ms.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(e.targetId,e),n.xs.set(t,e.targetId)),e})}async function pf(e,t,n){const r=ps(e),a=r.Ms.get(t),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,e=>r.persistence.referenceDelegate.removeTarget(e,a))}catch(e){if(!cl(e))throw e;ss(of,`Failed to update sequence numbers for target ${t}: ${e}`)}r.Ms=r.Ms.remove(t),r.xs.delete(a.target)}function mf(e,t,n){const r=ps(e);let a=Xs.min(),i=Uu();return r.persistence.runTransaction("Execute query","readwrite",e=>function(e,t,n){const r=ps(e),a=r.xs.get(n);return void 0!==a?sl.resolve(r.Ms.get(a)):r.Pi.getTargetData(t,n)}(r,e,vu(t)).next(t=>{if(t)return a=t.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(e,t.targetId).next(e=>{i=e})}).next(()=>r.Fs.getDocumentsMatchingQuery(e,t,n?a:Xs.min(),n?i:Uu())).next(e=>(gf(r,ju(t),e),{documents:e,Qs:i})))}function gf(e,t,n){let r=e.Os.get(t)||Xs.min();n.forEach((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)}),e.Os.set(t,r)}class yf{constructor(){this.activeTargetIds=Bu()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class vf{constructor(){this.Mo=new yf,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,n){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new yf,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class bf{Oo(e){}shutdown(){}}const xf="ConnectivityMonitor";class wf{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ss(xf,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ss(xf,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let kf=null;function Sf(){return null===kf?kf=268435456+Math.round(2147483648*Math.random()):kf++,"0x"+kf.toString(16)}const Ef="RestConnection",Nf={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class jf{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${n}/databases/${r}`,this.Wo=this.databaseId.database===dc?`project_id=${n}`:`project_id=${n}&database_id=${r}`}Go(e,t,n,r,a){const i=Sf(),o=this.zo(e,t.toUriEncodedString());ss(Ef,`Sending RPC '${e}' ${i}:`,o,n);const s={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(s,r,a);const{host:l}=new URL(o),c=St(l);return this.Jo(e,o,s,n,c).then(t=>(ss(Ef,`Received RPC '${e}' ${i}: `,t),t),t=>{throw cs(Ef,`RPC '${e}' ${i} failed with error: `,t,"url: ",o,"request:",n),t})}Ho(e,t,n,r,a,i){return this.Go(e,t,n,r,a)}jo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+as,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,n)=>e[n]=t),n&&n.headers.forEach((t,n)=>e[n]=t)}zo(e,t){const n=Nf[e];return`${this.Uo}/v1/${t}:${n}`}terminate(){}}class _f{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Tf="WebChannelConnection";class Af extends jf{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,n,r,a){const i=Sf();return new Promise((a,o)=>{const s=new Ko;s.setWithCredentials(!0),s.listenOnce(Wo.COMPLETE,()=>{try{switch(s.getLastErrorCode()){case Go.NO_ERROR:const t=s.getResponseJson();ss(Tf,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(t)),a(t);break;case Go.TIMEOUT:ss(Tf,`RPC '${e}' ${i} timed out`),o(new gs(ms.DEADLINE_EXCEEDED,"Request time out"));break;case Go.HTTP_ERROR:const n=s.getStatus();if(ss(Tf,`RPC '${e}' ${i} failed with status:`,n,"response text:",s.getResponseText()),n>0){let e=s.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=e?.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(ms).indexOf(t)>=0?t:ms.UNKNOWN}(t.status);o(new gs(e,t.message))}else o(new gs(ms.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new gs(ms.UNAVAILABLE,"Connection failed."));break;default:ds(9055,{l_:e,streamId:i,h_:s.getLastErrorCode(),P_:s.getLastError()})}}finally{ss(Tf,`RPC '${e}' ${i} completed.`)}});const l=JSON.stringify(r);ss(Tf,`RPC '${e}' ${i} sending request:`,r),s.send(t,"POST",l,n,15)})}T_(e,t,n){const r=Sf(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=Jo(),o=Xo(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(s.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(s.useFetchStreams=!0),this.jo(s.initMessageHeaders,t,n),s.encodeInitMessageHeaders=!0;const c=a.join("");ss(Tf,`Creating RPC '${e}' stream ${r}: ${c}`,s);const u=i.createWebChannel(c,s);this.I_(u);let d=!1,h=!1;const f=new _f({Yo:t=>{h?ss(Tf,`Not sending because RPC '${e}' stream ${r} is closed:`,t):(d||(ss(Tf,`Opening RPC '${e}' stream ${r} transport.`),u.open(),d=!0),ss(Tf,`RPC '${e}' stream ${r} sending:`,t),u.send(t))},Zo:()=>u.close()}),p=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(e){setTimeout(()=>{throw e},0)}})};return p(u,qo.EventType.OPEN,()=>{h||(ss(Tf,`RPC '${e}' stream ${r} transport opened.`),f.o_())}),p(u,qo.EventType.CLOSE,()=>{h||(h=!0,ss(Tf,`RPC '${e}' stream ${r} transport closed`),f.a_(),this.E_(u))}),p(u,qo.EventType.ERROR,t=>{h||(h=!0,cs(Tf,`RPC '${e}' stream ${r} transport errored. Name:`,t.name,"Message:",t.message),f.a_(new gs(ms.UNAVAILABLE,"The operation could not be completed")))}),p(u,qo.EventType.MESSAGE,t=>{if(!h){const n=t.data[0];fs(!!n,16349);const a=n,i=a?.error||a[0]?.error;if(i){ss(Tf,`RPC '${e}' stream ${r} received error:`,i);const t=i.status;let n=function(e){const t=Nd[e];if(void 0!==t)return Td(t)}(t),a=i.message;void 0===n&&(n=ms.INTERNAL,a="Unknown error status: "+t+" with message "+i.message),h=!0,f.a_(new gs(n,a)),u.close()}else ss(Tf,`RPC '${e}' stream ${r} received:`,n),f.u_(n)}}),p(o,Qo.STAT_EVENT,t=>{t.stat===Yo.PROXY?ss(Tf,`RPC '${e}' stream ${r} detected buffering proxy`):t.stat===Yo.NOPROXY&&ss(Tf,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{f.__()},0),f}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(t=>t===e)}}function Cf(){return"undefined"!=typeof document?document:null}function Of(e){return new Gd(e,!0)}class If{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.Mi=e,this.timerId=t,this.d_=n,this.A_=r,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),r=Math.max(0,t-n);r>0&&ss("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,r,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){null!==this.m_&&(this.m_.skipDelay(),this.m_=null)}cancel(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const Pf="PersistentStream";class Df{constructor(e,t,n,r,a,i,o,s){this.Mi=e,this.S_=n,this.b_=r,this.connection=a,this.authCredentialsProvider=i,this.appCheckCredentialsProvider=o,this.listener=s,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new If(e,t)}x_(){return 1===this.state||5===this.state||this.O_()}O_(){return 2===this.state||3===this.state}start(){this.F_=0,4!==this.state?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&null===this.C_&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,4!==e?this.M_.reset():t&&t.code===ms.RESOURCE_EXHAUSTED?(ls(t.toString()),ls("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===ms.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(e=>{let[n,r]=e;this.D_===t&&this.G_(n,r)},t=>{e(()=>{const e=new gs(ms.UNKNOWN,"Fetching auth token failed: "+t.message);return this.z_(e)})})}G_(e,t){const n=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo(()=>{n(()=>this.listener.Xo())}),this.stream.t_(()=>{n(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(e=>{n(()=>this.z_(e))}),this.stream.onMessage(e=>{n(()=>1==++this.F_?this.J_(e):this.onNext(e))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return ss(Pf,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget(()=>this.D_===e?t():(ss(Pf,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Mf extends Df{constructor(e,t,n,r,a,i){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,i),this.serializer=a}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:ds(39313,{state:e})}(t.targetChange.targetChangeType||"NO_CHANGE"),a=t.targetChange.targetIds||[],i=function(e,t){return e.useProto3Json?(fs(void 0===t||"string"==typeof t,58123),Jl.fromBase64String(t||"")):(fs(void 0===t||t instanceof Buffer||t instanceof Uint8Array,16193),Jl.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,s=o&&function(e){const t=void 0===e.code?ms.UNKNOWN:Td(e.code);return new gs(t,e.message||"")}(o);n=new Ud(r,a,i,s||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const a=ah(e,r.document.name),i=Zd(r.document.updateTime),o=r.document.createTime?Zd(r.document.createTime):Xs.min(),s=new Rc({mapValue:{fields:r.document.fields}}),l=Fc.newFoundDocument(a,i,o,s),c=r.targetIds||[],u=r.removedTargetIds||[];n=new Fd(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const a=ah(e,r.document),i=r.readTime?Zd(r.readTime):Xs.min(),o=Fc.newNoDocument(a,i),s=r.removedTargetIds||[];n=new Fd([],s,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const a=ah(e,r.document),i=r.removedTargetIds||[];n=new Fd([],i,a,null)}else{if(!("filter"in t))return ds(11601,{Rt:t});{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:a}=e,i=new Ed(r,a),o=e.targetId;n=new zd(o,i)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Xs.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?Xs.min():t.readTime?Zd(t.readTime):Xs.min()}(e);return this.listener.H_(t,n)}Y_(e){const t={};t.database=sh(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=du(r)?{documents:dh(e,r)}:{query:hh(e,r).ft},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=Xd(e,t.resumeToken);const r=Yd(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(Xs.min())>0){n.readTime=Qd(e,t.snapshotVersion.toTimestamp());const r=Yd(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ds(28987,{purpose:e})}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.q_(t)}Z_(e){const t={};t.database=sh(this.serializer),t.removeTarget=e,this.q_(t)}}class Rf extends Df{constructor(e,t,n,r,a,i){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,i),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return fs(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,fs(!e.writeResults||0===e.writeResults.length,55816),this.listener.ta()}onNext(e){fs(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=function(e,t){return e&&e.length>0?(fs(void 0!==t,14353),e.map(e=>function(e,t){let n=e.updateTime?Zd(e.updateTime):Zd(t);return n.isEqual(Xs.min())&&(n=Zd(t)),new id(n,e.transformResults||[])}(e,t))):[]}(e.writeResults,e.commitTime),n=Zd(e.commitTime);return this.listener.na(n,t)}ra(){const e={};e.database=sh(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map(e=>uh(this.serializer,e))};this.q_(t)}}class Lf{}class Ff extends Lf{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new gs(ms.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,n,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(a=>{let[i,o]=a;return this.connection.Go(e,th(t,n),r,i,o)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===ms.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new gs(ms.UNKNOWN,e.toString())})}Ho(e,t,n,r,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(i=>{let[o,s]=i;return this.connection.Ho(e,th(t,n),r,o,s,a)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===ms.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new gs(ms.UNKNOWN,e.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class zf{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){0===this.oa&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){"Online"===this.state?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,"Online"===e&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ls(t),this.aa=!1):ss("OnlineStateTracker",t)}Pa(){null!==this._a&&(this._a.cancel(),this._a=null)}}const Uf="RemoteStore";class Vf{constructor(e,t,n,r,a){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo(e=>{n.enqueueAndForget(async()=>{Qf(this)&&(ss(Uf,"Restarting streams for network reachability change."),await async function(e){const t=ps(e);t.Ea.add(4),await $f(t),t.Ra.set("Unknown"),t.Ea.delete(4),await Bf(t)}(this))})}),this.Ra=new zf(n,r)}}async function Bf(e){if(Qf(e))for(const t of e.da)await t(!0)}async function $f(e){for(const t of e.da)await t(!1)}function Hf(e,t){const n=ps(e);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),Yf(n)?Gf(n):mp(n).O_()&&qf(n,t))}function Kf(e,t){const n=ps(e),r=mp(n);n.Ia.delete(t),r.O_()&&Wf(n,t),0===n.Ia.size&&(r.O_()?r.L_():Qf(n)&&n.Ra.set("Unknown"))}function qf(e,t){if(e.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Xs.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}mp(e).Y_(t)}function Wf(e,t){e.Va.Ue(t),mp(e).Z_(t)}function Gf(e){e.Va=new Bd({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),mp(e).start(),e.Ra.ua()}function Yf(e){return Qf(e)&&!mp(e).x_()&&e.Ia.size>0}function Qf(e){return 0===ps(e).Ea.size}function Xf(e){e.Va=void 0}async function Jf(e){e.Ra.set("Online")}async function Zf(e){e.Ia.forEach((t,n)=>{qf(e,t)})}async function ep(e,t){Xf(e),Yf(e)?(e.Ra.ha(t),Gf(e)):e.Ra.set("Unknown")}async function tp(e,t,n){if(e.Ra.set("Online"),t instanceof Ud&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.Ia.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Ia.delete(r),e.Va.removeTarget(r))}(e,t)}catch(n){ss(Uf,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await np(e,n)}else if(t instanceof Fd?e.Va.Ze(t):t instanceof zd?e.Va.st(t):e.Va.tt(t),!n.isEqual(Xs.min()))try{const t=await uf(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Va.Tt(t);return n.targetChanges.forEach((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const a=e.Ia.get(r);a&&e.Ia.set(r,a.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach((t,n)=>{const r=e.Ia.get(t);if(!r)return;e.Ia.set(t,r.withResumeToken(Jl.EMPTY_BYTE_STRING,r.snapshotVersion)),Wf(e,t);const a=new Sh(r.target,t,n,r.sequenceNumber);qf(e,a)}),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){ss(Uf,"Failed to raise snapshot:",t),await np(e,t)}}async function np(e,t,n){if(!cl(t))throw t;e.Ea.add(1),await $f(e),e.Ra.set("Offline"),n||(n=()=>uf(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{ss(Uf,"Retrying IndexedDB access"),await n(),e.Ea.delete(1),await Bf(e)})}function rp(e,t){return t().catch(n=>np(e,n,t))}async function ap(e){const t=ps(e),n=gp(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:dl;for(;ip(t);)try{const e=await hf(t.localStore,r);if(null===e){0===t.Ta.length&&n.L_();break}r=e.batchId,op(t,e)}catch(e){await np(t,e)}sp(t)&&lp(t)}function ip(e){return Qf(e)&&e.Ta.length<10}function op(e,t){e.Ta.push(t);const n=gp(e);n.O_()&&n.X_&&n.ea(t.mutations)}function sp(e){return Qf(e)&&!gp(e).x_()&&e.Ta.length>0}function lp(e){gp(e).start()}async function cp(e){gp(e).ra()}async function up(e){const t=gp(e);for(const n of e.Ta)t.ea(n.mutations)}async function dp(e,t,n){const r=e.Ta.shift(),a=kd.from(r,t,n);await rp(e,()=>e.remoteSyncer.applySuccessfulWrite(a)),await ap(e)}async function hp(e,t){t&&gp(e).X_&&await async function(e,t){if(function(e){return _d(e)&&e!==ms.ABORTED}(t.code)){const n=e.Ta.shift();gp(e).B_(),await rp(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t)),await ap(e)}}(e,t),sp(e)&&lp(e)}async function fp(e,t){const n=ps(e);n.asyncQueue.verifyOperationInProgress(),ss(Uf,"RemoteStore received new credentials");const r=Qf(n);n.Ea.add(3),await $f(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await Bf(n)}async function pp(e,t){const n=ps(e);t?(n.Ea.delete(2),await Bf(n)):t||(n.Ea.add(2),await $f(n),n.Ra.set("Unknown"))}function mp(e){return e.ma||(e.ma=function(e,t,n){const r=ps(e);return r.sa(),new Mf(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Xo:Jf.bind(null,e),t_:Zf.bind(null,e),r_:ep.bind(null,e),H_:tp.bind(null,e)}),e.da.push(async t=>{t?(e.ma.B_(),Yf(e)?Gf(e):e.Ra.set("Unknown")):(await e.ma.stop(),Xf(e))})),e.ma}function gp(e){return e.fa||(e.fa=function(e,t,n){const r=ps(e);return r.sa(),new Rf(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Xo:()=>Promise.resolve(),t_:cp.bind(null,e),r_:hp.bind(null,e),ta:up.bind(null,e),na:dp.bind(null,e)}),e.da.push(async t=>{t?(e.fa.B_(),await ap(e)):(await e.fa.stop(),e.Ta.length>0&&(ss(Uf,`Stopping write stream with ${e.Ta.length} pending writes`),e.Ta=[]))})),e.fa}class yp{constructor(e,t,n,r,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=a,this.deferred=new ys,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,a){const i=Date.now()+n,o=new yp(e,t,i,r,a);return o.start(n),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new gs(ms.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function vp(e,t){if(ls("AsyncQueue",`${t}: ${e}`),cl(e))return new gs(ms.UNAVAILABLE,`${t}: ${e}`);throw e}class bp{static emptySet(e){return new bp(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||zs.comparator(t.key,n.key):(e,t)=>zs.comparator(e.key,t.key),this.keyedMap=Pu(),this.sortedSet=new Kl(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof bp))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new bp;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class xp{constructor(){this.ga=new Kl(zs.comparator)}track(e){const t=e.doc.key,n=this.ga.get(t);n?0!==e.type&&3===n.type?this.ga=this.ga.insert(t,e):3===e.type&&1!==n.type?this.ga=this.ga.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.ga=this.ga.remove(t):1===e.type&&2===n.type?this.ga=this.ga.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):ds(63341,{Rt:e,pa:n}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal((t,n)=>{e.push(n)}),e}}class wp{constructor(e,t,n,r,a,i,o,s,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=a,this.fromCache=i,this.syncStateChanged=o,this.excludesMetadataChanges=s,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,a){const i=[];return t.forEach(e=>{i.push({type:0,doc:e})}),new wp(e,t,bp.emptySet(t),i,n,r,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ku(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class kp{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class Sp{constructor(){this.queries=Ep(),this.onlineState="Unknown",this.Ca=new Set}terminate(){!function(e,t){const n=ps(e),r=n.queries;n.queries=Ep(),r.forEach((e,n)=>{for(const r of n.Sa)r.onError(t)})}(this,new gs(ms.ABORTED,"Firestore shutting down"))}}function Ep(){return new Au(e=>Su(e),ku)}async function Np(e,t){const n=ps(e);let r=3;const a=t.query;let i=n.queries.get(a);i?!i.ba()&&t.Da()&&(r=2):(i=new kp,r=t.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(a,!0);break;case 1:i.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(e){const n=vp(e,`Initialization of query '${Eu(t.query)}' failed`);return void t.onError(n)}n.queries.set(a,i),i.Sa.push(t),t.va(n.onlineState),i.wa&&t.Fa(i.wa)&&Ap(n)}async function jp(e,t){const n=ps(e),r=t.query;let a=3;const i=n.queries.get(r);if(i){const e=i.Sa.indexOf(t);e>=0&&(i.Sa.splice(e,1),0===i.Sa.length?a=t.Da()?0:1:!i.ba()&&t.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function _p(e,t){const n=ps(e);let r=!1;for(const a of t){const e=a.query,t=n.queries.get(e);if(t){for(const e of t.Sa)e.Fa(a)&&(r=!0);t.wa=a}}r&&Ap(n)}function Tp(e,t,n){const r=ps(e),a=r.queries.get(t);if(a)for(const i of a.Sa)i.onError(n);r.queries.delete(t)}function Ap(e){e.Ca.forEach(e=>{e.next()})}var Cp,Op;(Op=Cp||(Cp={})).Ma="default",Op.Cache="cache";class Ip{constructor(e,t,n){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new wp(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache)return!0;if(!this.Da())return!0;const n="Offline"!==t;return(!this.options.qa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}ka(e){e=wp.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Cp.Cache}}class Pp{constructor(e){this.key=e}}class Dp{constructor(e){this.key=e}}class Mp{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Uu(),this.mutatedKeys=Uu(),this.eu=_u(e),this.tu=new bp(this.eu)}get nu(){return this.Ya}ru(e,t){const n=t?t.iu:new xp,r=t?t.tu:this.tu;let a=t?t.mutatedKeys:this.mutatedKeys,i=r,o=!1;const s="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((e,t)=>{const c=r.get(e),u=Nu(this.query,t)?t:null,d=!!c&&this.mutatedKeys.has(c.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?d!==h&&(n.track({type:3,doc:u}),f=!0):this.su(c,u)||(n.track({type:2,doc:u}),f=!0,(s&&this.eu(u,s)>0||l&&this.eu(u,l)<0)&&(o=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(s||l)&&(o=!0)),f&&(u?(i=i.add(u),a=h?a.add(e):a.delete(e)):(i=i.delete(e),a=a.delete(e)))}),null!==this.query.limit)for(;i.size>this.query.limit;){const e="F"===this.query.limitType?i.last():i.first();i=i.delete(e.key),a=a.delete(e.key),n.track({type:1,doc:e})}return{tu:i,iu:n,Cs:o,mutatedKeys:a}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const i=e.iu.ya();i.sort((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ds(20277,{Rt:e})}};return n(e)-n(t)}(e.type,t.type)||this.eu(e.doc,t.doc)),this.ou(n),r=r??!1;const o=t&&!r?this._u():[],s=0===this.Xa.size&&this.current&&!r?1:0,l=s!==this.Za;return this.Za=s,0!==i.length||l?{snapshot:new wp(this.query,e.tu,a,i,e.mutatedKeys,0===s,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:o}:{au:o}}va(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({tu:this.tu,iu:new xp,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(e=>this.Ya=this.Ya.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this.Ya=this.Ya.delete(e)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Uu(),this.tu.forEach(e=>{this.uu(e.key)&&(this.Xa=this.Xa.add(e.key))});const t=[];return e.forEach(e=>{this.Xa.has(e)||t.push(new Dp(e))}),this.Xa.forEach(n=>{e.has(n)||t.push(new Pp(n))}),t}cu(e){this.Ya=e.Qs,this.Xa=Uu();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return wp.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,0===this.Za,this.hasCachedResults)}}const Rp="SyncEngine";class Lp{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class Fp{constructor(e){this.key=e,this.hu=!1}}class zp{constructor(e,t,n,r,a,i){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=a,this.maxConcurrentLimboResolutions=i,this.Pu={},this.Tu=new Au(e=>Su(e),ku),this.Iu=new Map,this.Eu=new Set,this.du=new Kl(zs.comparator),this.Au=new Map,this.Ru=new qh,this.Vu={},this.mu=new Map,this.fu=Ih.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return!0===this.gu}}async function Up(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=sm(e);let a;const i=r.Tu.get(t);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),a=i.view.lu()):a=await Bp(r,t,n,!0),a}async function Vp(e,t){const n=sm(e);await Bp(n,t,!0,!1)}async function Bp(e,t,n,r){const a=await ff(e.localStore,vu(t)),i=a.targetId,o=e.sharedClientState.addLocalQueryTarget(i,n);let s;return r&&(s=await $p(e,t,i,"current"===o,a.resumeToken)),e.isPrimaryClient&&n&&Hf(e.remoteStore,a),s}async function $p(e,t,n,r,a){e.pu=(t,n,r)=>async function(e,t,n,r){let a=t.view.ru(n);a.Cs&&(a=await mf(e.localStore,t.query,!1).then(e=>{let{documents:n}=e;return t.view.ru(n,a)}));const i=r&&r.targetChanges.get(t.targetId),o=r&&null!=r.targetMismatches.get(t.targetId),s=t.view.applyChanges(a,e.isPrimaryClient,i,o);return tm(e,t.targetId,s.au),s.snapshot}(e,t,n,r);const i=await mf(e.localStore,t,!0),o=new Mp(t,i.Qs),s=o.ru(i.documents),l=Ld.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,a),c=o.applyChanges(s,e.isPrimaryClient,l);tm(e,n,c.au);const u=new Lp(t,n,o);return e.Tu.set(t,u),e.Iu.has(n)?e.Iu.get(n).push(t):e.Iu.set(n,[t]),c.snapshot}async function Hp(e,t,n){const r=ps(e),a=r.Tu.get(t),i=r.Iu.get(a.targetId);if(i.length>1)return r.Iu.set(a.targetId,i.filter(e=>!ku(e,t))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await pf(r.localStore,a.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(a.targetId),n&&Kf(r.remoteStore,a.targetId),Zp(r,a.targetId)}).catch(ol)):(Zp(r,a.targetId),await pf(r.localStore,a.targetId,!0))}async function Kp(e,t){const n=ps(e),r=n.Tu.get(t),a=n.Iu.get(r.targetId);n.isPrimaryClient&&1===a.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Kf(n.remoteStore,r.targetId))}async function qp(e,t){const n=ps(e);try{const e=await function(e,t){const n=ps(e),r=t.snapshotVersion;let a=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{const i=n.Ns.newChangeBuffer({trackRemovals:!0});a=n.Ms;const o=[];t.targetChanges.forEach((i,s)=>{const l=a.get(s);if(!l)return;o.push(n.Pi.removeMatchingKeys(e,i.removedDocuments,s).next(()=>n.Pi.addMatchingKeys(e,i.addedDocuments,s)));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(s)?c=c.withResumeToken(Jl.EMPTY_BYTE_STRING,Xs.min()).withLastLimboFreeSnapshotVersion(Xs.min()):i.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(i.resumeToken,r)),a=a.insert(s,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(l,c,i)&&o.push(n.Pi.updateTargetData(e,c))});let s=Ou(),l=Uu();if(t.documentUpdates.forEach(r=>{t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))}),o.push(df(e,i,t.documentUpdates).next(e=>{s=e.ks,l=e.qs})),!r.isEqual(Xs.min())){const t=n.Pi.getLastRemoteSnapshotVersion(e).next(t=>n.Pi.setTargetsMetadata(e,e.currentSequenceNumber,r));o.push(t)}return sl.waitFor(o).next(()=>i.apply(e)).next(()=>n.localDocuments.getLocalViewOfDocuments(e,s,l)).next(()=>s)}).then(e=>(n.Ms=a,e))}(n.localStore,t);t.targetChanges.forEach((e,t)=>{const r=n.Au.get(t);r&&(fs(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1,22616),e.addedDocuments.size>0?r.hu=!0:e.modifiedDocuments.size>0?fs(r.hu,14607):e.removedDocuments.size>0&&(fs(r.hu,42227),r.hu=!1))}),await am(n,e,t)}catch(e){await ol(e)}}function Wp(e,t,n){const r=ps(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.Tu.forEach((n,r)=>{const a=r.view.va(t);a.snapshot&&e.push(a.snapshot)}),function(e,t){const n=ps(e);n.onlineState=t;let r=!1;n.queries.forEach((e,n)=>{for(const a of n.Sa)a.va(t)&&(r=!0)}),r&&Ap(n)}(r.eventManager,t),e.length&&r.Pu.H_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Gp(e,t,n){const r=ps(e);r.sharedClientState.updateQueryState(t,"rejected",n);const a=r.Au.get(t),i=a&&a.key;if(i){let e=new Kl(zs.comparator);e=e.insert(i,Fc.newNoDocument(i,Xs.min()));const n=Uu().add(i),a=new Rd(Xs.min(),new Map,new Kl(Ts),e,n);await qp(r,a),r.du=r.du.remove(i),r.Au.delete(t),rm(r)}else await pf(r.localStore,t,!1).then(()=>Zp(r,t,n)).catch(ol)}async function Yp(e,t){const n=ps(e),r=t.batch.batchId;try{const e=await function(e,t){const n=ps(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{const r=t.batch.keys(),a=n.Ns.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const a=n.batch,i=a.keys();let o=sl.resolve();return i.forEach(e=>{o=o.next(()=>r.getEntry(t,e)).next(t=>{const i=n.docVersions.get(e);fs(null!==i,48541),t.version.compareTo(i)<0&&(a.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))})}),o.next(()=>e.mutationQueue.removeMutationBatch(t,a))}(n,e,t,a).next(()=>a.apply(e)).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=Uu();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))).next(()=>n.localDocuments.getDocuments(e,r))})}(n.localStore,t);Jp(n,r,null),Xp(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await am(n,e)}catch(e){await ol(e)}}async function Qp(e,t,n){const r=ps(e);try{const e=await function(e,t){const n=ps(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next(t=>(fs(null!==t,37113),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t))).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)).next(()=>n.localDocuments.getDocuments(e,r))})}(r.localStore,t);Jp(r,t,n),Xp(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await am(r,e)}catch(n){await ol(n)}}function Xp(e,t){(e.mu.get(t)||[]).forEach(e=>{e.resolve()}),e.mu.delete(t)}function Jp(e,t,n){const r=ps(e);let a=r.Vu[r.currentUser.toKey()];if(a){const e=a.get(t);e&&(n?e.reject(n):e.resolve(),a=a.remove(t)),r.Vu[r.currentUser.toKey()]=a}}function Zp(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Iu.get(t))e.Tu.delete(r),n&&e.Pu.yu(r,n);e.Iu.delete(t),e.isPrimaryClient&&e.Ru.jr(t).forEach(t=>{e.Ru.containsKey(t)||em(e,t)})}function em(e,t){e.Eu.delete(t.path.canonicalString());const n=e.du.get(t);null!==n&&(Kf(e.remoteStore,n),e.du=e.du.remove(t),e.Au.delete(n),rm(e))}function tm(e,t,n){for(const r of n)r instanceof Pp?(e.Ru.addReference(r.key,t),nm(e,r)):r instanceof Dp?(ss(Rp,"Document no longer in limbo: "+r.key),e.Ru.removeReference(r.key,t),e.Ru.containsKey(r.key)||em(e,r.key)):ds(19791,{wu:r})}function nm(e,t){const n=t.key,r=n.path.canonicalString();e.du.get(n)||e.Eu.has(r)||(ss(Rp,"New document in limbo: "+n),e.Eu.add(r),rm(e))}function rm(e){for(;e.Eu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const n=new zs(Rs.fromString(t)),r=e.fu.next();e.Au.set(r,new Fp(n)),e.du=e.du.insert(n,r),Hf(e.remoteStore,new Sh(vu(pu(n.path)),r,"TargetPurposeLimboResolution",ul.ce))}}async function am(e,t,n){const r=ps(e),a=[],i=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((e,s)=>{o.push(r.pu(s,t,n).then(e=>{if((e||n)&&r.isPrimaryClient){const t=e?!e.fromCache:n?.targetChanges.get(s.targetId)?.current;r.sharedClientState.updateQueryState(s.targetId,t?"current":"not-current")}if(e){a.push(e);const t=nf.As(s.targetId,e);i.push(t)}}))}),await Promise.all(o),r.Pu.H_(a),await async function(e,t){const n=ps(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>sl.forEach(t,t=>sl.forEach(t.Es,r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r)).next(()=>sl.forEach(t.ds,r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))}catch(e){if(!cl(e))throw e;ss(of,"Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.Ms.get(e),r=t.snapshotVersion,a=t.withLastLimboFreeSnapshotVersion(r);n.Ms=n.Ms.insert(e,a)}}}(r.localStore,i))}async function im(e,t){const n=ps(e);if(!n.currentUser.isEqual(t)){ss(Rp,"User change. New user:",t.toKey());const e=await cf(n.localStore,t);n.currentUser=t,function(e,t){e.mu.forEach(e=>{e.forEach(e=>{e.reject(new gs(ms.CANCELLED,t))})}),e.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await am(n,e.Ls)}}function om(e,t){const n=ps(e),r=n.Au.get(t);if(r&&r.hu)return Uu().add(r.key);{let e=Uu();const r=n.Iu.get(t);if(!r)return e;for(const t of r){const r=n.Tu.get(t);e=e.unionWith(r.view.nu)}return e}}function sm(e){const t=ps(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=qp.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=om.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Gp.bind(null,t),t.Pu.H_=_p.bind(null,t.eventManager),t.Pu.yu=Tp.bind(null,t.eventManager),t}function lm(e){const t=ps(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Yp.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Qp.bind(null,t),t}class cm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Of(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return lf(this.persistence,new af,e.initialUser,this.serializer)}Cu(e){return new Jh(ef.mi,this.serializer)}Du(e){return new vf}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}cm.provider={build:()=>new cm};class um extends cm{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){fs(this.persistence.referenceDelegate instanceof tf,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new Lh(n,e.asyncQueue,t)}Cu(e){const t=void 0!==this.cacheSizeBytes?Oh.withCacheSize(this.cacheSizeBytes):Oh.DEFAULT;return new Jh(e=>tf.mi(e,t),this.serializer)}}class dm{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Wp(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=im.bind(null,this.syncEngine),await pp(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Sp}createDatastore(e){const t=Of(e.databaseInfo.databaseId),n=function(e){return new Af(e)}(e.databaseInfo);return function(e,t,n,r){return new Ff(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,a){return new Vf(e,t,n,r,a)}(this.localStore,this.datastore,e.asyncQueue,e=>Wp(this.syncEngine,e,0),wf.v()?new wf:new bf)}createSyncEngine(e,t){return function(e,t,n,r,a,i,o){const s=new zp(e,t,n,r,a,i);return o&&(s.gu=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await async function(e){const t=ps(e);ss(Uf,"RemoteStore shutting down."),t.Ea.add(5),await $f(t),t.Aa.shutdown(),t.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}dm.provider={build:()=>new dm};class hm{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ls("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout(()=>{this.muted||e(t)},0)}}const fm="FirestoreClient";class pm{constructor(e,t,n,r,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=rs.UNAUTHENTICATED,this.clientId=_s.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(n,async e=>{ss(fm,"Received user=",e.uid),await this.authCredentialListener(e),this.user=e}),this.appCheckCredentials.start(n,e=>(ss(fm,"Received new app check token=",e),this.appCheckCredentialListener(e,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ys;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=vp(t,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function mm(e,t){e.asyncQueue.verifyOperationInProgress(),ss(fm,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async e=>{r.isEqual(e)||(await cf(t.localStore,e),r=e)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function gm(e,t){e.asyncQueue.verifyOperationInProgress();const n=await ym(e);ss(fm,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(e=>fp(t.remoteStore,e)),e.setAppCheckTokenChangeListener((e,n)=>fp(t.remoteStore,n)),e._onlineComponents=t}async function ym(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){ss(fm,"Using user provided OfflineComponentProvider");try{await mm(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(e){return"FirebaseError"===e.name?e.code===ms.FAILED_PRECONDITION||e.code===ms.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;cs("Error using user provided cache. Falling back to memory cache: "+n),await mm(e,new cm)}}else ss(fm,"Using default OfflineComponentProvider"),await mm(e,new um(void 0));return e._offlineComponents}async function vm(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(ss(fm,"Using user provided OnlineComponentProvider"),await gm(e,e._uninitializedComponentsProvider._online)):(ss(fm,"Using default OnlineComponentProvider"),await gm(e,new dm))),e._onlineComponents}function bm(e){return vm(e).then(e=>e.syncEngine)}async function xm(e){const t=await vm(e),n=t.eventManager;return n.onListen=Up.bind(null,t.syncEngine),n.onUnlisten=Hp.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=Vp.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=Kp.bind(null,t.syncEngine),n}function wm(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new ys;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,a){const i=new hm({next:n=>{i.Nu(),t.enqueueAndForget(()=>jp(e,o)),n.fromCache&&"server"===r.source?a.reject(new gs(ms.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):a.resolve(n)},error:e=>a.reject(e)}),o=new Ip(n,i,{includeMetadataChanges:!0,qa:!0});return Np(e,o)}(await xm(e),e.asyncQueue,t,n,r)),r.promise}function km(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const Sm=new Map,Em="firestore.googleapis.com",Nm=!0;class jm{constructor(e){if(void 0===e.host){if(void 0!==e.ssl)throw new gs(ms.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Em,this.ssl=Nm}else this.host=e.host,this.ssl=e.ssl??Nm;if(this.isUsingEmulator=void 0!==e.emulatorOptions,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=Ch;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<Dh)throw new gs(ms.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new gs(ms.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=km(e.experimentalLongPollingOptions??{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new gs(ms.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new gs(ms.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new gs(ms.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class _m{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new jm({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new gs(ms.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new gs(ms.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new jm(e),this._emulatorOptions=e.emulatorOptions||{},void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new bs;switch(e.type){case"firstParty":return new Ss(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new gs(ms.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Sm.get(e);t&&(ss("ComponentProvider","Removing Datastore"),Sm.delete(e),t.terminate())}(this),Promise.resolve()}}function Tm(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e=Ks(e,_m);const a=St(t),i=e._getSettings(),o={...i,emulatorOptions:e._getEmulatorOptions()},s=`${t}:${n}`;a&&(Et(`https://${s}`),_t("Firestore",!0)),i.host!==Em&&i.host!==s&&cs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...i,host:s,ssl:a,emulatorOptions:r};if(!Mt(l,o)&&(e._setSettings(l),r.mockUserToken)){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=rs.MOCK_USER;else{t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,a=e.sub||e.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const i={iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...e};return[mt(JSON.stringify({alg:"none",type:"JWT"})),mt(JSON.stringify(i)),""].join(".")}(r.mockUserToken,e._app?.options.projectId);const a=r.mockUserToken.sub||r.mockUserToken.user_id;if(!a)throw new gs(ms.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new rs(a)}e._authCredentials=new xs(new vs(t,n))}}class Am{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Am(this.firestore,e,this._query)}}class Cm{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Om(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Cm(this.firestore,e,this._key)}toJSON(){return{type:Cm._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,n){if(Ws(t,Cm._jsonSchema))return new Cm(e,n||null,new zs(Rs.fromString(t.referencePath)))}}Cm._jsonSchemaVersion="firestore/documentReference/1.0",Cm._jsonSchema={type:qs("string",Cm._jsonSchemaVersion),referencePath:qs("string")};class Om extends Am{constructor(e,t,n){super(e,t,pu(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Cm(this.firestore,null,new zs(e))}withConverter(e){return new Om(this.firestore,e,this._path)}}function Im(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];if(e=Bt(e),Us("collection","path",t),e instanceof _m){const n=Rs.fromString(t,...r);return Bs(n),new Om(e,null,n)}{if(!(e instanceof Cm||e instanceof Om))throw new gs(ms.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Rs.fromString(t,...r));return Bs(n),new Om(e.firestore,null,n)}}function Pm(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];if(e=Bt(e),1===arguments.length&&(t=_s.newId()),Us("doc","path",t),e instanceof _m){const n=Rs.fromString(t,...r);return Vs(n),new Cm(e,null,new zs(n))}{if(!(e instanceof Cm||e instanceof Om))throw new gs(ms.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Rs.fromString(t,...r));return Vs(n),new Cm(e.firestore,e instanceof Om?e.converter:null,new zs(n))}}const Dm="AsyncQueue";class Mm{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new If(this,"async_queue_retry"),this._c=()=>{const e=Cf();e&&ss(Dm,"Visibility state changed to "+e.visibilityState),this.M_.w_()},this.ac=e;const t=Cf();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Cf();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const t=new ys;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(0!==this.Xu.length){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(MH){if(!cl(MH))throw MH;ss(Dm,"Operation failed with retryable error: "+MH)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const t=this.ac.then(()=>(this.rc=!0,e().catch(e=>{throw this.nc=e,this.rc=!1,ls("INTERNAL UNHANDLED ERROR: ",Rm(e)),e}).then(e=>(this.rc=!1,e))));return this.ac=t,t}enqueueAfterDelay(e,t,n){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const r=yp.createAndSchedule(this,e,t,n,e=>this.hc(e));return this.tc.push(r),r}uc(){this.nc&&ds(47125,{Pc:Rm(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do{e=this.ac,await e}while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const t of this.tc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function Rm(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}function Lm(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"==typeof n[r])return!0;return!1}(e,["next","error","complete"])}class Fm extends _m{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new Mm,this._persistenceKey=r?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Mm(e),this._firestoreClient=void 0,await e}}}function zm(e){if(e._terminated)throw new gs(ms.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||Um(e),e._firestoreClient}function Um(e){const t=e._freezeSettings(),n=function(e,t,n,r){return new uc(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,km(r.experimentalLongPollingOptions),r.useFetchStreams,r.isUsingEmulator)}(e._databaseId,e._app?.options.appId||"",e._persistenceKey,t);e._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(e._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),e._firestoreClient=new pm(e._authCredentials,e._appCheckCredentials,e._queue,n,e._componentsProvider&&function(e){const t=e?._online.build();return{_offline:e?._offline.build(t),_online:t}}(e._componentsProvider))}class Vm{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Vm(Jl.fromBase64String(e))}catch(e){throw new gs(ms.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new Vm(Jl.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Vm._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Ws(e,Vm._jsonSchema))return Vm.fromBase64String(e.bytes)}}Vm._jsonSchemaVersion="firestore/bytes/1.0",Vm._jsonSchema={type:qs("string",Vm._jsonSchemaVersion),bytes:qs("string")};class Bm{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new gs(ms.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Fs(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class $m{constructor(e){this._methodName=e}}class Hm{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new gs(ms.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new gs(ms.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ts(this._lat,e._lat)||Ts(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Hm._jsonSchemaVersion}}static fromJSON(e){if(Ws(e,Hm._jsonSchema))return new Hm(e.latitude,e.longitude)}}Hm._jsonSchemaVersion="firestore/geoPoint/1.0",Hm._jsonSchema={type:qs("string",Hm._jsonSchemaVersion),latitude:qs("number"),longitude:qs("number")};class Km{constructor(e){this._values=(e||[]).map(e=>e)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Km._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Ws(e,Km._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(e=>"number"==typeof e))return new Km(e.vectorValues);throw new gs(ms.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Km._jsonSchemaVersion="firestore/vectorValue/1.0",Km._jsonSchema={type:qs("string",Km._jsonSchemaVersion),vectorValues:qs("object")};const qm=/^__.*__$/;class Wm{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new md(e,this.data,this.fieldMask,t,this.fieldTransforms):new pd(e,this.data,t,this.fieldTransforms)}}class Gm{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new md(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Ym(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ds(40011,{Ac:e})}}class Qm{constructor(e,t,n,r,a,i){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===a&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=i||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Qm({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),n=this.Vc({path:t,fc:!1});return n.gc(e),n}yc(e){const t=this.path?.child(e),n=this.Vc({path:t,fc:!1});return n.Rc(),n}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return hg(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(0===e.length)throw this.Sc("Document fields must not be empty");if(Ym(this.Ac)&&qm.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class Xm{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Of(e)}Cc(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Qm({Ac:e,methodName:t,Dc:n,path:Fs.emptyPath(),fc:!1,bc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Jm(e){const t=e._freezeSettings(),n=Of(e._databaseId);return new Xm(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Zm(e,t,n,r,a){let i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const o=e.Cc(i.merge||i.mergeFields?2:0,t,n,a);lg("Data must be an object, but it was:",o,r);const s=og(r,o);let l,c;if(i.merge)l=new Ql(o.fieldMask),c=o.fieldTransforms;else if(i.mergeFields){const e=[];for(const r of i.mergeFields){const a=cg(t,r,n);if(!o.contains(a))throw new gs(ms.INVALID_ARGUMENT,`Field '${a}' is specified in your field mask but missing from your input data.`);fg(e,a)||e.push(a)}l=new Ql(e),c=o.fieldTransforms.filter(e=>l.covers(e.field))}else l=null,c=o.fieldTransforms;return new Wm(new Rc(s),l,c)}class eg extends $m{_toFieldTransform(e){if(2!==e.Ac)throw 1===e.Ac?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof eg}}class tg extends $m{constructor(e,t){super(e),this.Fc=t}_toFieldTransform(e){const t=new td(e.serializer,Ku(e.serializer,this.Fc));return new ad(e.path,t)}isEqual(e){return e instanceof tg&&this.Fc===e.Fc}}function ng(e,t,n,r){const a=e.Cc(1,t,n);lg("Data must be an object, but it was:",a,r);const i=[],o=Rc.empty();$l(r,(e,r)=>{const s=dg(t,e,n);r=Bt(r);const l=a.yc(s);if(r instanceof eg)i.push(s);else{const e=ig(r,l);null!=e&&(i.push(s),o.set(s,e))}});const s=new Ql(i);return new Gm(o,s,a.fieldTransforms)}function rg(e,t,n,r,a,i){const o=e.Cc(1,t,n),s=[cg(t,r,n)],l=[a];if(i.length%2!=0)throw new gs(ms.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<i.length;h+=2)s.push(cg(t,i[h])),l.push(i[h+1]);const c=[],u=Rc.empty();for(let h=s.length-1;h>=0;--h)if(!fg(c,s[h])){const e=s[h];let t=l[h];t=Bt(t);const n=o.yc(e);if(t instanceof eg)c.push(e);else{const r=ig(t,n);null!=r&&(c.push(e),u.set(e,r))}}const d=new Ql(c);return new Gm(u,d,o.fieldTransforms)}function ag(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return ig(n,e.Cc(r?4:3,t))}function ig(e,t){if(sg(e=Bt(e)))return lg("Unsupported field value:",t,e),og(e,t);if(e instanceof $m)return function(e,t){if(!Ym(t.Ac))throw t.Sc(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.Sc(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.fc&&4!==t.Ac)throw t.Sc("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const a of e){let e=ig(a,t.wc(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=Bt(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Ku(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=Qs.fromDate(e);return{timestampValue:Qd(t.serializer,n)}}if(e instanceof Qs){const n=new Qs(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Qd(t.serializer,n)}}if(e instanceof Hm)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Vm)return{bytesValue:Xd(t.serializer,e._byteString)};if(e instanceof Cm){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Sc(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:eh(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof Km)return function(e,t){return{mapValue:{fields:{[fc]:{stringValue:gc},[yc]:{arrayValue:{values:e.toArray().map(e=>{if("number"!=typeof e)throw t.Sc("VectorValues must only contain numeric values.");return $u(t.serializer,e)})}}}}}}(e,t);throw t.Sc(`Unsupported field value: ${Hs(e)}`)}(e,t)}function og(e,t){const n={};return Hl(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):$l(e,(e,r)=>{const a=ig(r,t.mc(e));null!=a&&(n[e]=a)}),{mapValue:{fields:n}}}function sg(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Qs||e instanceof Hm||e instanceof Vm||e instanceof Cm||e instanceof $m||e instanceof Km)}function lg(e,t,n){if(!sg(n)||!$s(n)){const r=Hs(n);throw"an object"===r?t.Sc(e+" a custom object"):t.Sc(e+" "+r)}}function cg(e,t,n){if((t=Bt(t))instanceof Bm)return t._internalPath;if("string"==typeof t)return dg(e,t);throw hg("Field path arguments must be of type string or ",e,!1,void 0,n)}const ug=new RegExp("[~\\*/\\[\\]]");function dg(e,t,n){if(t.search(ug)>=0)throw hg(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Bm(...t.split("."))._internalPath}catch(Ay){throw hg(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function hg(e,t,n,r,a){const i=r&&!r.isEmpty(),o=void 0!==a;let s=`Function ${t}() called with invalid data`;n&&(s+=" (via `toFirestore()`)"),s+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${a}`),l+=")"),new gs(ms.INVALID_ARGUMENT,s+e+l)}function fg(e,t){return e.some(e=>e.isEqual(t))}class pg{constructor(e,t,n,r,a){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Cm(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new mg(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(gg("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class mg extends pg{data(){return super.data()}}function gg(e,t){return"string"==typeof t?dg(e,t):t instanceof Bm?t._internalPath:t._delegate._internalPath}function yg(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new gs(ms.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class vg{}class bg extends vg{}function xg(e,t){let n=[];for(var r=arguments.length,a=new Array(r>2?r-2:0),i=2;i<r;i++)a[i-2]=arguments[i];t instanceof vg&&n.push(t),n=n.concat(a),function(e){const t=e.filter(e=>e instanceof Sg).length,n=e.filter(e=>e instanceof wg).length;if(t>1||t>0&&n>0)throw new gs(ms.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const o of n)e=o._apply(e);return e}class wg extends bg{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new wg(e,t,n)}_apply(e){const t=this._parse(e);return Tg(e._query,t),new Am(e.firestore,e.converter,xu(e._query,t))}_parse(e){const t=Jm(e.firestore),n=function(e,t,n,r,a,i,o){let s;if(a.isKeyField()){if("array-contains"===i||"array-contains-any"===i)throw new gs(ms.INVALID_ARGUMENT,`Invalid Query. You can't perform '${i}' queries on documentId().`);if("in"===i||"not-in"===i){_g(o,i);const t=[];for(const n of o)t.push(jg(r,e,n));s={arrayValue:{values:t}}}else s=jg(r,e,o)}else"in"!==i&&"not-in"!==i&&"array-contains-any"!==i||_g(o,i),s=ag(n,t,o,"in"===i||"not-in"===i);return Kc.create(a,i,s)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}function kg(e,t,n){const r=t,a=gg("where",e);return wg._create(a,r,n)}class Sg extends vg{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Sg(e,t)}_parse(e){const t=this._queryConstraints.map(t=>t._parse(e)).filter(e=>e.getFilters().length>0);return 1===t.length?t[0]:qc.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const a of r)Tg(n,a),n=xu(n,a)}(e._query,t),new Am(e.firestore,e.converter,xu(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Eg extends bg{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Eg(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new gs(ms.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new gs(ms.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Bc(t,n)}(e._query,this._field,this._direction);return new Am(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new hu(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}function Ng(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=gg("orderBy",e);return Eg._create(n,t)}function jg(e,t,n){if("string"==typeof(n=Bt(n))){if(""===n)throw new gs(ms.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!gu(t)&&-1!==n.indexOf("/"))throw new gs(ms.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(Rs.fromString(n));if(!zs.isDocumentKey(r))throw new gs(ms.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return _c(e,new zs(r))}if(n instanceof Cm)return _c(e,n._key);throw new gs(ms.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Hs(n)}.`)}function _g(e,t){if(!Array.isArray(e)||0===e.length)throw new gs(ms.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function Tg(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new gs(ms.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new gs(ms.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class Ag{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(vc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return tc(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(nc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ds(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return $l(e,(e,r)=>{n[e]=this.convertValue(r,t)}),n}convertVectorValue(e){const t=e.fields?.[yc].arrayValue?.values?.map(e=>tc(e.doubleValue));return new Km(t)}convertGeoPoint(e){return new Hm(tc(e.latitude),tc(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=lc(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(cc(e));default:return null}}convertTimestamp(e){const t=ec(e);return new Qs(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Rs.fromString(e);fs(kh(n),9688,{name:e});const r=new hc(n.get(1),n.get(3)),a=new zs(n.popFirst(5));return r.isEqual(t)||ls(`Document ${a} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}function Cg(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class Og{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ig extends pg{constructor(e,t,n,r,a,i){super(e,t,n,r,i),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new Pg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(gg("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new gs(ms.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Ig._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),e&&e.isValidDocument()&&e.isFoundDocument()?(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t):t}}Ig._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ig._jsonSchema={type:qs("string",Ig._jsonSchemaVersion),bundleSource:qs("string","DocumentSnapshot"),bundleName:qs("string"),bundle:qs("string")};class Pg extends Ig{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class Dg{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Og(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new Pg(this._firestore,this._userDataWriter,n.key,n,new Og(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new gs(ms.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>{const r=new Pg(e._firestore,e._userDataWriter,n.doc.key,n.doc,new Og(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}})}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{const r=new Pg(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Og(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let a=-1,i=-1;return 0!==t.type&&(a=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),i=n.indexOf(t.doc.key)),{type:Mg(t.type),doc:r,oldIndex:a,newIndex:i}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new gs(ms.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Dg._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=_s.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],n=[],r=[];return this.docs.forEach(e=>{null!==e._document&&(t.push(e._document),n.push(this._userDataWriter.convertObjectMap(e._document.data.value.mapValue.fields,"previous")),r.push(e.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Mg(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ds(61501,{type:e})}}Dg._jsonSchemaVersion="firestore/querySnapshot/1.0",Dg._jsonSchema={type:qs("string",Dg._jsonSchemaVersion),bundleSource:qs("string","QuerySnapshot"),bundleName:qs("string"),bundle:qs("string")};class Rg extends Ag{constructor(e){super(),this.firestore=e}convertBytes(e){return new Vm(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Cm(this.firestore,null,t)}}function Lg(e){e=Ks(e,Am);const t=Ks(e.firestore,Fm),n=zm(t),r=new Rg(t);return yg(e._query),wm(n,e._query).then(n=>new Dg(t,r,e,n))}function Fg(e,t,n){e=Ks(e,Cm);const r=Ks(e.firestore,Fm),a=Jm(r);let i;for(var o=arguments.length,s=new Array(o>3?o-3:0),l=3;l<o;l++)s[l-3]=arguments[l];return i="string"==typeof(t=Bt(t))||t instanceof Bm?rg(a,"updateDoc",e._key,t,n,s):ng(a,"updateDoc",e._key,t),Ug(r,[i.toMutation(e._key,od.exists(!0))])}function zg(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e=Bt(e);let a={includeMetadataChanges:!1,source:"default"},i=0;"object"!=typeof n[i]||Lm(n[i])||(a=n[i++]);const o={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(Lm(n[i])){const e=n[i];n[i]=e.next?.bind(e),n[i+1]=e.error?.bind(e),n[i+2]=e.complete?.bind(e)}let s,l,c;if(e instanceof Cm)l=Ks(e.firestore,Fm),c=pu(e._key.path),s={next:t=>{n[i]&&n[i](Vg(l,e,t))},error:n[i+1],complete:n[i+2]};else{const t=Ks(e,Am);l=Ks(t.firestore,Fm),c=t._query;const r=new Rg(l);s={next:e=>{n[i]&&n[i](new Dg(l,r,t,e))},error:n[i+1],complete:n[i+2]},yg(e._query)}return function(e,t,n,r){const a=new hm(r),i=new Ip(t,a,n);return e.asyncQueue.enqueueAndForget(async()=>Np(await xm(e),i)),()=>{a.Nu(),e.asyncQueue.enqueueAndForget(async()=>jp(await xm(e),i))}}(zm(l),c,o,s)}function Ug(e,t){return function(e,t){const n=new ys;return e.asyncQueue.enqueueAndForget(async()=>async function(e,t,n){const r=lm(e);try{const e=await function(e,t){const n=ps(e),r=Qs.now(),a=t.reduce((e,t)=>e.add(t.key),Uu());let i,o;return n.persistence.runTransaction("Locally write mutations","readwrite",e=>{let s=Ou(),l=Uu();return n.Ns.getEntries(e,a).next(e=>{s=e,s.forEach((e,t)=>{t.isValidDocument()||(l=l.add(e))})}).next(()=>n.localDocuments.getOverlayedDocuments(e,s)).next(a=>{i=a;const o=[];for(const e of t){const t=hd(e,i.get(e.key).overlayedDocument);null!=t&&o.push(new md(e.key,t,Lc(t.value.mapValue),od.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,o,t)}).next(t=>{o=t;const r=t.applyToLocalDocumentSet(i,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)})}).then(()=>({batchId:o.batchId,changes:Du(i)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Vu[e.currentUser.toKey()];r||(r=new Kl(Ts)),r=r.insert(t,n),e.Vu[e.currentUser.toKey()]=r}(r,e.batchId,n),await am(r,e.changes),await ap(r.remoteStore)}catch(e){const t=vp(e,"Failed to persist write");n.reject(t)}}(await bm(e),t,n)),n.promise}(zm(e),t)}function Vg(e,t,n){const r=n.docs.get(t._key),a=new Rg(e);return new Ig(e,a,t._key,r,new Og(n.hasPendingWrites,n.fromCache),t.converter)}class Bg{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Jm(e)}set(e,t,n){this._verifyNotCommitted();const r=$g(e,this._firestore),a=Cg(r.converter,t,n),i=Zm(this._dataReader,"WriteBatch.set",r._key,a,null!==r.converter,n);return this._mutations.push(i.toMutation(r._key,od.none())),this}update(e,t,n){this._verifyNotCommitted();const r=$g(e,this._firestore);let a;for(var i=arguments.length,o=new Array(i>3?i-3:0),s=3;s<i;s++)o[s-3]=arguments[s];return a="string"==typeof(t=Bt(t))||t instanceof Bm?rg(this._dataReader,"WriteBatch.update",r._key,t,n,o):ng(this._dataReader,"WriteBatch.update",r._key,t),this._mutations.push(a.toMutation(r._key,od.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=$g(e,this._firestore);return this._mutations=this._mutations.concat(new bd(t._key,od.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new gs(ms.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function $g(e,t){if((e=Bt(e)).firestore!==t)throw new gs(ms.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}function Hg(e){return new tg("increment",e)}function Kg(e){return zm(e=Ks(e,Fm)),new Bg(e,t=>Ug(e,t))}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){as=e}(ar),Zn(new $t("firestore",(e,n)=>{let{instanceIdentifier:r,options:a}=n;const i=e.getProvider("app").getImmediate(),o=new Fm(new ws(e.getProvider("auth-internal")),new Ns(i,e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new gs(ms.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new hc(e.options.projectId,t)}(i,r),i);return a={useFetchStreams:t,...a},o._setSettings(a),o},"PUBLIC").setMultipleInstances(!0)),sr(ts,ns,e),sr(ts,ns,"esm2020")}();const qg=ir({apiKey:"AIzaSyARjanzH8bylb2FsQdz60yI2hs8ud-yqwc",authDomain:"budget-backend-09.firebaseapp.com",projectId:"budget-backend-09",storageBucket:"budget-backend-09.firebasestorage.app",messagingSenderId:"499758129287",appId:"1:499758129287:web:d8764dc451a1e1c6941822",measurementId:"G-HBS9QEKQZ8"}),Wg=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:or();const t=er(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=er(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(Mt(n.getOptions(),t??{}))return e;Sr(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:Do,persistence:[$i,Si,Ti]}),r=wt("authTokenSyncURL");if(r&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(r,location.origin);if(location.origin===e.origin){const t=(a=e.toString(),async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>Fo)return;const r=t?.token;zo!==r&&(zo=r,await fetch(a,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))});!function(e,t,n){Bt(e).beforeAuthStateChanged(t,n)}(n,t,()=>t(n.currentUser)),function(e,t,n,r){Bt(e).onIdTokenChanged(t,n,r)}(n,e=>t(e))}}var a;const i=bt("auth");return i&&Ka(n,`http://${i}`),n}(qg),Gg=new li,Yg=function(e,t){const n="object"==typeof e?e:or(),r="string"==typeof e?e:t||dc,a=er(n,"firestore").getImmediate({identifier:r});if(!a._initialized){const e=(e=>{const t=bt(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]})("firestore");e&&Tm(a,...e)}return a}(qg);var Qg=n(579);const Xg=(0,t.createContext)();function Jg(){return(0,t.useContext)(Xg)}function Zg(e){let{children:n}=e;const[r,a]=(0,t.useState)(null),[i,o]=(0,t.useState)(!0);(0,t.useEffect)(()=>{const e=function(e,t,n,r){return Bt(e).onAuthStateChanged(t,n,r)}(Wg,e=>{a(e),o(!1)});return e},[]);const s={currentUser:r,loginWithGoogle:async()=>{try{const e=await async function(e,t,n){if(tr(e.app))return Promise.reject(Er(e,"operation-not-supported-in-this-environment"));const r=Pa(e);_r(e,t,ii);const a=Yi(r,n);return new no(r,"signInViaPopup",t,a).executeNotNull()}(Wg,Gg);return e.user}catch(e){throw console.error("Login error:",e),e}},logout:async()=>{try{await function(e){return Bt(e).signOut()}(Wg)}catch(e){throw console.error("Logout error:",e),e}},loading:i};return(0,Qg.jsx)(Xg.Provider,{value:s,children:n})}const ey=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ty=e=>{const t=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,n)=>n?n.toUpperCase():t.toLowerCase()))(e);return t.charAt(0).toUpperCase()+t.slice(1)},ny=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((e,t,n)=>Boolean(e)&&""!==e.trim()&&n.indexOf(e)===t).join(" ").trim()},ry=e=>{for(const t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};var ay={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const iy=(0,t.forwardRef)((e,n)=>{let{color:r="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:s="",children:l,iconNode:c,...u}=e;return(0,t.createElement)("svg",{ref:n,...ay,width:a,height:a,stroke:r,strokeWidth:o?24*Number(i)/Number(a):i,className:ny("lucide",s),...!l&&!ry(u)&&{"aria-hidden":"true"},...u},[...c.map(e=>{let[n,r]=e;return(0,t.createElement)(n,r)}),...Array.isArray(l)?l:[l]])}),oy=(e,n)=>{const r=(0,t.forwardRef)((r,a)=>{let{className:i,...o}=r;return(0,t.createElement)(iy,{ref:a,iconNode:n,className:ny(`lucide-${ey(ty(e))}`,`lucide-${e}`,i),...o})});return r.displayName=ty(e),r},sy=oy("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);const ly=function(){const{loginWithGoogle:e}=Jg(),[n,r]=(0,t.useState)(!1),[a,i]=(0,t.useState)("");return(0,Qg.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 to-orange-100 flex items-center justify-center p-4",children:(0,Qg.jsxs)("div",{className:"max-w-md w-full",children:[(0,Qg.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[(0,Qg.jsxs)("div",{className:"text-center mb-8",children:[(0,Qg.jsx)("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-orange-500 rounded-2xl mb-4",children:(0,Qg.jsx)(sy,{className:"w-8 h-8 text-white"})}),(0,Qg.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Welcome to Pesa"}),(0,Qg.jsx)("p",{className:"text-gray-600",children:"Your personal finance manager"})]}),a&&(0,Qg.jsx)("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg text-red-700 text-sm",children:a}),(0,Qg.jsx)("button",{onClick:async()=>{try{i(""),r(!0),await e()}catch(a){i("Failed to log in. Please try again."),console.error(a)}finally{r(!1)}},disabled:n,className:"w-full flex items-center justify-center gap-3 bg-white border border-gray-300 rounded-lg px-6 py-3 text-gray-700 font-medium hover:bg-gray-50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:n?(0,Qg.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-gray-700"}):(0,Qg.jsxs)(Qg.Fragment,{children:[(0,Qg.jsxs)("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[(0,Qg.jsx)("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),(0,Qg.jsx)("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),(0,Qg.jsx)("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),(0,Qg.jsx)("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continue with Google"]})}),(0,Qg.jsxs)("div",{className:"mt-8 text-center text-sm text-gray-600",children:[(0,Qg.jsx)("p",{children:"By continuing, you agree to Pesa's"}),(0,Qg.jsxs)("p",{children:[(0,Qg.jsx)("button",{className:"text-orange-500 hover:underline",children:"Terms of Service"})," and ",(0,Qg.jsx)("button",{className:"text-orange-500 hover:underline",children:"Privacy Policy"})]})]})]}),(0,Qg.jsx)("div",{className:"mt-8 text-center text-sm text-gray-600",children:(0,Qg.jsx)("p",{children:"Track expenses \u2022 Manage accounts \u2022 Analyze spending"})})]})})},cy=oy("house",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]),uy=oy("wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]),dy=oy("credit-card",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),hy=oy("chart-no-axes-column-increasing",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]),fy=oy("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),py=oy("settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),my=oy("moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]),gy=oy("sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),yy=oy("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),vy=oy("activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]),by=oy("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]]);const xy=function(e){var n;let{theme:r,toggleTheme:a}=e;const{currentUser:i,logout:o}=Jg(),s=ne(),[l,c]=t.useState(!1),u=[{id:"overview",path:"/",label:"Overview",icon:cy},{id:"accounts",path:"/accounts",label:"Accounts",icon:uy},{id:"transactions",path:"/transactions",label:"Transactions",icon:dy},{id:"analytics",path:"/analytics",label:"Analytics",icon:hy},{id:"subscriptions",path:"/subscriptions",label:"Subscriptions",icon:fy},{id:"settings",path:"/settings",label:"Settings",icon:py}];return t.useEffect(()=>{const e=e=>{l&&c(!1)};return document.addEventListener("click",e),()=>document.removeEventListener("click",e)},[l]),(0,Qg.jsx)("nav",{className:"bg-white dark:bg-gray-900/95 backdrop-blur border-b border-gray-200 dark:border-gray-800 sticky top-0 z-50",children:(0,Qg.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,Qg.jsxs)("div",{className:"flex justify-between items-center h-16",children:[(0,Qg.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Qg.jsx)("div",{className:"w-8 h-8 bg-orange-500 rounded-lg flex items-center justify-center",children:(0,Qg.jsx)(sy,{className:"w-5 h-5 text-white"})}),(0,Qg.jsx)("span",{className:"text-xl font-semibold dark:text-white",children:"Pesa"})]}),(0,Qg.jsx)("div",{className:"hidden md:flex absolute left-1/2 transform -translate-x-1/2",children:(0,Qg.jsx)("div",{className:"flex space-x-1",children:u.map(e=>(0,Qg.jsx)(it,{to:e.path,className:e=>{let{isActive:t}=e;return"px-4 py-2 rounded-lg text-sm font-medium transition-colors "+(t?"bg-gray-900 text-white dark:bg-gray-800":"text-gray-600 hover:text-gray-900 dark:text-gray-400 dark:hover:text-white")},children:e.label},e.id))})}),(0,Qg.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Qg.jsx)("button",{onClick:a,className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",children:"light"===r?(0,Qg.jsx)(my,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"}):(0,Qg.jsx)(gy,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})}),(0,Qg.jsxs)("div",{className:"relative",children:[(0,Qg.jsxs)("button",{onClick:e=>{e.stopPropagation(),c(!l)},className:"flex items-center space-x-3 hover:bg-gray-50 dark:hover:bg-gray-800 rounded-lg p-2 transition-colors",children:[(0,Qg.jsx)("div",{className:"w-10 h-10 bg-gray-300 dark:bg-gray-700 rounded-full flex items-center justify-center",children:(0,Qg.jsx)("span",{className:"text-gray-600 dark:text-gray-300 font-medium",children:(null===i||void 0===i||null===(n=i.displayName)||void 0===n?void 0:n.charAt(0))||"U"})}),(0,Qg.jsx)("div",{className:"hidden md:block text-left",children:(0,Qg.jsx)("p",{className:"text-sm font-medium dark:text-white",children:null!==i&&void 0!==i&&i.displayName?i.displayName:"User"})}),(0,Qg.jsx)(yy,{className:"w-4 h-4 text-gray-500 dark:text-gray-400"})]}),l&&(0,Qg.jsxs)("div",{className:"absolute right-0 mt-2 w-48 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 py-1",children:[(0,Qg.jsxs)("button",{onClick:()=>{c(!1),s("/activity")},className:"w-full text-left px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center space-x-2",children:[(0,Qg.jsx)(vy,{className:"w-4 h-4"}),(0,Qg.jsx)("span",{children:"Activity"})]}),(0,Qg.jsx)("div",{className:"border-t border-gray-200 dark:border-gray-700 my-1"}),(0,Qg.jsxs)("button",{onClick:async()=>{try{await o(),s("/login")}catch(e){console.error("Logout error:",e)}},className:"w-full text-left px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center space-x-2",children:[(0,Qg.jsx)(by,{className:"w-4 h-4"}),(0,Qg.jsx)("span",{children:"Sign out"})]})]})]})]})]})})})},wy=oy("arrow-down-right",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]),ky=oy("arrow-up-right",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]),Sy=oy("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]),Ey=oy("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]),Ny=oy("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),jy=oy("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),_y=oy("trending-down",[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]]),Ty=oy("ellipsis-vertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);function Ay(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=Ay(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Cy(){for(var e,t,n=0,r="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=Ay(e))&&(r&&(r+=" "),r+=t);return r}var Oy=n(7820),Iy=n.n(Oy),Py=n(7770),Dy=n.n(Py),My=e=>0===e?0:e>0?1:-1,Ry=e=>"number"==typeof e&&e!=+e,Ly=e=>"string"===typeof e&&e.indexOf("%")===e.length-1,Fy=e=>("number"===typeof e||e instanceof Number)&&!Ry(e),zy=e=>Fy(e)||"string"===typeof e,Uy=0,Vy=e=>{var t=++Uy;return"".concat(e||"").concat(t)},By=function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!Fy(e)&&"string"!==typeof e)return r;if(Ly(e)){if(null==t)return r;var i=e.indexOf("%");n=t*parseFloat(e.slice(0,i))/100}else n=+e;return Ry(n)&&(n=r),a&&null!=t&&n>t&&(n=t),n},$y=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++){if(n[e[r]])return!0;n[e[r]]=!0}return!1},Hy=(e,t)=>Fy(e)&&Fy(t)?n=>e+n*(t-e):()=>t;function Ky(e,t,n){return Fy(e)&&Fy(t)?e+n*(t-e):t}function qy(e,t,n){if(e&&e.length)return e.find(e=>e&&("function"===typeof t?t(e):Dy()(e,t))===n)}var Wy=e=>null===e||"undefined"===typeof e,Gy=e=>Wy(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),Yy=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a]};function Qy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Xy(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qy(Object(n),!0).forEach(function(t){Jy(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qy(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Jy(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Zy=(0,t.forwardRef)((e,n)=>{var{aspect:r,initialDimension:a={width:-1,height:-1},width:i="100%",height:o="100%",minWidth:s=0,minHeight:l,maxHeight:c,children:u,debounce:d=0,id:h,className:f,onResize:p,style:m={}}=e,g=(0,t.useRef)(null),y=(0,t.useRef)();y.current=p,(0,t.useImperativeHandle)(n,()=>g.current);var[v,b]=(0,t.useState)({containerWidth:a.width,containerHeight:a.height}),x=(0,t.useCallback)((e,t)=>{b(n=>{var r=Math.round(e),a=Math.round(t);return n.containerWidth===r&&n.containerHeight===a?n:{containerWidth:r,containerHeight:a}})},[]);(0,t.useEffect)(()=>{var e=e=>{var t,{width:n,height:r}=e[0].contentRect;x(n,r),null===(t=y.current)||void 0===t||t.call(y,n,r)};d>0&&(e=Iy()(e,d,{trailing:!0,leading:!1}));var t=new ResizeObserver(e),{width:n,height:r}=g.current.getBoundingClientRect();return x(n,r),t.observe(g.current),()=>{t.disconnect()}},[x,d]);var w=(0,t.useMemo)(()=>{var{containerWidth:e,containerHeight:n}=v;if(e<0||n<0)return null;Yy(Ly(i)||Ly(o),"The width(%s) and height(%s) are both fixed numbers,\n       maybe you don't need to use a ResponsiveContainer.",i,o),Yy(!r||r>0,"The aspect(%s) must be greater than zero.",r);var a=Ly(i)?e:i,d=Ly(o)?n:o;return r&&r>0&&(a?d=a/r:d&&(a=d*r),c&&d>c&&(d=c)),Yy(a>0||d>0,"The width(%s) and height(%s) of chart should be greater than 0,\n       please check the style of container, or the props width(%s) and height(%s),\n       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the\n       height and width.",a,d,i,o,s,l,r),t.Children.map(u,e=>(0,t.cloneElement)(e,{width:a,height:d,style:Xy({width:a,height:d},e.props.style)}))},[r,u,o,c,l,s,v,i]);return t.createElement("div",{id:h?"".concat(h):void 0,className:Cy("recharts-responsive-container",f),style:Xy(Xy({},m),{},{width:i,height:o,minWidth:s,minHeight:l,maxHeight:c}),ref:g},t.createElement("div",{style:{width:0,height:0,overflow:"visible"}},w))});function ev(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var tv=(()=>"function"===typeof Symbol&&Symbol.observable||"@@observable")(),nv=()=>Math.random().toString(36).substring(7).split("").join("."),rv={INIT:`@@redux/INIT${nv()}`,REPLACE:`@@redux/REPLACE${nv()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${nv()}`};function av(e){if("object"!==typeof e||null===e)return!1;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||null===Object.getPrototypeOf(e)}function iv(e,t,n){if("function"!==typeof e)throw new Error(ev(2));if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(ev(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(ev(1));return n(iv)(e,t)}let r=e,a=t,i=new Map,o=i,s=0,l=!1;function c(){o===i&&(o=new Map,i.forEach((e,t)=>{o.set(t,e)}))}function u(){if(l)throw new Error(ev(3));return a}function d(e){if("function"!==typeof e)throw new Error(ev(4));if(l)throw new Error(ev(5));let t=!0;c();const n=s++;return o.set(n,e),function(){if(t){if(l)throw new Error(ev(6));t=!1,c(),o.delete(n),i=null}}}function h(e){if(!av(e))throw new Error(ev(7));if("undefined"===typeof e.type)throw new Error(ev(8));if("string"!==typeof e.type)throw new Error(ev(17));if(l)throw new Error(ev(9));try{l=!0,a=r(a,e)}finally{l=!1}return(i=o).forEach(e=>{e()}),e}h({type:rv.INIT});return{dispatch:h,subscribe:d,getState:u,replaceReducer:function(e){if("function"!==typeof e)throw new Error(ev(10));r=e,h({type:rv.REPLACE})},[tv]:function(){const e=d;return{subscribe(t){if("object"!==typeof t||null===t)throw new Error(ev(11));function n(){const e=t;e.next&&e.next(u())}n();return{unsubscribe:e(n)}},[tv](){return this}}}}}function ov(e){const t=Object.keys(e),n={};for(let i=0;i<t.length;i++){const r=t[i];0,"function"===typeof e[r]&&(n[r]=e[r])}const r=Object.keys(n);let a;try{!function(e){Object.keys(e).forEach(t=>{const n=e[t];if("undefined"===typeof n(void 0,{type:rv.INIT}))throw new Error(ev(12));if("undefined"===typeof n(void 0,{type:rv.PROBE_UNKNOWN_ACTION()}))throw new Error(ev(13))})}(n)}catch(MH){a=MH}return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(a)throw a;let i=!1;const o={};for(let a=0;a<r.length;a++){const s=r[a],l=n[s],c=e[s],u=l(c,t);if("undefined"===typeof u){t&&t.type;throw new Error(ev(14))}o[s]=u,i=i||u!==c}return i=i||r.length!==Object.keys(e).length,i?o:e}}function sv(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?e=>e:1===t.length?t[0]:t.reduce((e,t)=>function(){return e(t(...arguments))})}function lv(e){return av(e)&&"type"in e&&"string"===typeof e.type}function cv(e){return t=>{let{dispatch:n,getState:r}=t;return t=>a=>"function"===typeof a?a(n,r,e):t(a)}}var uv=cv(),dv=cv,hv=Symbol.for("immer-nothing"),fv=Symbol.for("immer-draftable"),pv=Symbol.for("immer-state");function mv(e){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var gv=Object.getPrototypeOf;function yv(e){return!!e&&!!e[pv]}function vv(e){return!!e&&(xv(e)||Array.isArray(e)||!!e[fv]||!!e.constructor?.[fv]||Nv(e)||jv(e))}var bv=Object.prototype.constructor.toString();function xv(e){if(!e||"object"!==typeof e)return!1;const t=gv(e);if(null===t)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===bv}function wv(e,t){0===kv(e)?Reflect.ownKeys(e).forEach(n=>{t(n,e[n],e)}):e.forEach((n,r)=>t(r,n,e))}function kv(e){const t=e[pv];return t?t.type_:Array.isArray(e)?1:Nv(e)?2:jv(e)?3:0}function Sv(e,t){return 2===kv(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Ev(e,t,n){const r=kv(e);2===r?e.set(t,n):3===r?e.add(n):e[t]=n}function Nv(e){return e instanceof Map}function jv(e){return e instanceof Set}function _v(e){return e.copy_||e.base_}function Tv(e,t){if(Nv(e))return new Map(e);if(jv(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=xv(e);if(!0===t||"class_only"===t&&!n){const t=Object.getOwnPropertyDescriptors(e);delete t[pv];let n=Reflect.ownKeys(t);for(let r=0;r<n.length;r++){const a=n[r],i=t[a];!1===i.writable&&(i.writable=!0,i.configurable=!0),(i.get||i.set)&&(t[a]={configurable:!0,writable:!0,enumerable:i.enumerable,value:e[a]})}return Object.create(gv(e),t)}{const t=gv(e);if(null!==t&&n)return{...e};const r=Object.create(t);return Object.assign(r,e)}}function Av(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Ov(e)||yv(e)||!vv(e)||(kv(e)>1&&(e.set=e.add=e.clear=e.delete=Cv),Object.freeze(e),t&&Object.entries(e).forEach(e=>{let[t,n]=e;return Av(n,!0)})),e}function Cv(){mv(2)}function Ov(e){return Object.isFrozen(e)}var Iv,Pv={};function Dv(e){const t=Pv[e];return t||mv(0),t}function Mv(){return Iv}function Rv(e,t){t&&(Dv("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Lv(e){Fv(e),e.drafts_.forEach(Uv),e.drafts_=null}function Fv(e){e===Iv&&(Iv=e.parent_)}function zv(e){return Iv={drafts_:[],parent_:Iv,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Uv(e){const t=e[pv];0===t.type_||1===t.type_?t.revoke_():t.revoked_=!0}function Vv(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return void 0!==e&&e!==n?(n[pv].modified_&&(Lv(t),mv(4)),vv(e)&&(e=Bv(t,e),t.parent_||Hv(t,e)),t.patches_&&Dv("Patches").generateReplacementPatches_(n[pv].base_,e,t.patches_,t.inversePatches_)):e=Bv(t,n,[]),Lv(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==hv?e:void 0}function Bv(e,t,n){if(Ov(t))return t;const r=t[pv];if(!r)return wv(t,(a,i)=>$v(e,r,t,a,i,n)),t;if(r.scope_!==e)return t;if(!r.modified_)return Hv(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const t=r.copy_;let a=t,i=!1;3===r.type_&&(a=new Set(t),t.clear(),i=!0),wv(a,(a,o)=>$v(e,r,t,a,o,n,i)),Hv(e,t,!1),n&&e.patches_&&Dv("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function $v(e,t,n,r,a,i,o){if(yv(a)){const o=Bv(e,a,i&&t&&3!==t.type_&&!Sv(t.assigned_,r)?i.concat(r):void 0);if(Ev(n,r,o),!yv(o))return;e.canAutoFreeze_=!1}else o&&n.add(a);if(vv(a)&&!Ov(a)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;Bv(e,a),t&&t.scope_.parent_||"symbol"===typeof r||!Object.prototype.propertyIsEnumerable.call(n,r)||Hv(e,a)}}function Hv(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Av(t,n)}var Kv={get(e,t){if(t===pv)return e;const n=_v(e);if(!Sv(n,t))return function(e,t,n){const r=Gv(t,n);return r?"value"in r?r.value:r.get?.call(e.draft_):void 0}(e,n,t);const r=n[t];return e.finalized_||!vv(r)?r:r===Wv(e.base_,t)?(Qv(e),e.copy_[t]=Xv(r,e)):r},has:(e,t)=>t in _v(e),ownKeys:e=>Reflect.ownKeys(_v(e)),set(e,t,n){const r=Gv(_v(e),t);if(r?.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const r=Wv(_v(e),t),a=r?.[pv];if(a&&a.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(function(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}(n,r)&&(void 0!==n||Sv(e.base_,t)))return!0;Qv(e),Yv(e)}return e.copy_[t]===n&&(void 0!==n||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty:(e,t)=>(void 0!==Wv(e.base_,t)||t in e.base_?(e.assigned_[t]=!1,Qv(e),Yv(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0),getOwnPropertyDescriptor(e,t){const n=_v(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.type_||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty(){mv(11)},getPrototypeOf:e=>gv(e.base_),setPrototypeOf(){mv(12)}},qv={};function Wv(e,t){const n=e[pv];return(n?_v(n):e)[t]}function Gv(e,t){if(!(t in e))return;let n=gv(e);for(;n;){const e=Object.getOwnPropertyDescriptor(n,t);if(e)return e;n=gv(n)}}function Yv(e){e.modified_||(e.modified_=!0,e.parent_&&Yv(e.parent_))}function Qv(e){e.copy_||(e.copy_=Tv(e.base_,e.scope_.immer_.useStrictShallowCopy_))}wv(Kv,(e,t)=>{qv[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),qv.deleteProperty=function(e,t){return qv.set.call(this,e,t,void 0)},qv.set=function(e,t,n){return Kv.set.call(this,e[0],t,n,e[0])};function Xv(e,t){const n=Nv(e)?Dv("MapSet").proxyMap_(e,t):jv(e)?Dv("MapSet").proxySet_(e,t):function(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:Mv(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=r,i=Kv;n&&(a=[r],i=qv);const{revoke:o,proxy:s}=Proxy.revocable(a,i);return r.draft_=s,r.revoke_=o,s}(e,t);return(t?t.scope_:Mv()).drafts_.push(n),n}function Jv(e){return yv(e)||mv(10),Zv(e)}function Zv(e){if(!vv(e)||Ov(e))return e;const t=e[pv];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=Tv(e,t.scope_.immer_.useStrictShallowCopy_)}else n=Tv(e,!0);return wv(n,(e,t)=>{Ev(n,e,Zv(t))}),t&&(t.finalized_=!1),n}var eb=new class{constructor(e){var t=this;this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,n)=>{if("function"===typeof e&&"function"!==typeof t){const n=t;t=e;const r=this;return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n;for(var a=arguments.length,i=new Array(a>1?a-1:0),o=1;o<a;o++)i[o-1]=arguments[o];return r.produce(e,e=>t.call(this,e,...i))}}let r;if("function"!==typeof t&&mv(6),void 0!==n&&"function"!==typeof n&&mv(7),vv(e)){const a=zv(this),i=Xv(e,void 0);let o=!0;try{r=t(i),o=!1}finally{o?Lv(a):Fv(a)}return Rv(a,n),Vv(r,a)}if(!e||"object"!==typeof e){if(r=t(e),void 0===r&&(r=e),r===hv&&(r=void 0),this.autoFreeze_&&Av(r,!0),n){const t=[],a=[];Dv("Patches").generateReplacementPatches_(e,r,t,a),n(t,a)}return r}mv(1)},this.produceWithPatches=(e,n)=>{if("function"===typeof e)return function(n){for(var r=arguments.length,a=new Array(r>1?r-1:0),i=1;i<r;i++)a[i-1]=arguments[i];return t.produceWithPatches(n,t=>e(t,...a))};let r,a;const i=this.produce(e,n,(e,t)=>{r=e,a=t});return[i,r,a]},"boolean"===typeof e?.autoFreeze&&this.setAutoFreeze(e.autoFreeze),"boolean"===typeof e?.useStrictShallowCopy&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){vv(e)||mv(8),yv(e)&&(e=Jv(e));const t=zv(this),n=Xv(e,void 0);return n[pv].isManual_=!0,Fv(t),n}finishDraft(e,t){const n=e&&e[pv];n&&n.isManual_||mv(9);const{scope_:r}=n;return Rv(r,t),Vv(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));const r=Dv("Patches").applyPatches_;return yv(e)?r(e,t):this.produce(e,e=>r(e,t))}},tb=eb.produce;eb.produceWithPatches.bind(eb),eb.setAutoFreeze.bind(eb),eb.setUseStrictShallowCopy.bind(eb),eb.applyPatches.bind(eb),eb.createDraft.bind(eb),eb.finishDraft.bind(eb);var nb="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"===typeof arguments[0]?sv:sv.apply(null,arguments)};"undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;function rb(e,t){function n(){if(t){let n=t(...arguments);if(!n)throw new Error(Xb(0));return{type:e,payload:n.payload,..."meta"in n&&{meta:n.meta},..."error"in n&&{error:n.error}}}return{type:e,payload:arguments.length<=0?void 0:arguments[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=t=>lv(t)&&t.type===e,n}var ab=class e extends Array{constructor(){super(...arguments),Object.setPrototypeOf(this,e.prototype)}static get[Symbol.species](){return e}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return super.concat.apply(this,t)}prepend(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return 1===n.length&&Array.isArray(n[0])?new e(...n[0].concat(this)):new e(...n.concat(this))}};function ib(e){return vv(e)?tb(e,()=>{}):e}function ob(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}var sb="RTK_autoBatch",lb=e=>t=>{setTimeout(t,e)},cb=e=>function(t){const{autoBatch:n=!0}=t??{};let r=new ab(e);return n&&r.push(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{type:"raf"};return t=>function(){const n=t(...arguments);let r=!0,a=!1,i=!1;const o=new Set,s="tick"===e.type?queueMicrotask:"raf"===e.type?"undefined"!==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame:lb(10):"callback"===e.type?e.queueNotification:lb(e.timeout),l=()=>{i=!1,a&&(a=!1,o.forEach(e=>e()))};return Object.assign({},n,{subscribe(e){const t=n.subscribe(()=>r&&e());return o.add(e),()=>{t(),o.delete(e)}},dispatch(e){try{return r=!e?.meta?.[sb],a=!r,a&&(i||(i=!0,s(l))),n.dispatch(e)}finally{r=!0}}})}}("object"===typeof n?n:void 0)),r};function ub(e){const t=function(e){const{thunk:t=!0,immutableCheck:n=!0,serializableCheck:r=!0,actionCreatorCheck:a=!0}=e??{};let i=new ab;return t&&(function(e){return"boolean"===typeof e}(t)?i.push(uv):i.push(dv(t.extraArgument))),i},{reducer:n,middleware:r,devTools:a=!0,duplicateMiddlewareCheck:i=!0,preloadedState:o,enhancers:s}=e||{};let l,c;if("function"===typeof n)l=n;else{if(!av(n))throw new Error(Xb(1));l=ov(n)}c="function"===typeof r?r(t):t();let u=sv;a&&(u=nb({trace:!1,..."object"===typeof a&&a}));const d=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>(n,r)=>{const a=e(n,r);let i=()=>{throw new Error(ev(15))};const o={getState:a.getState,dispatch:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return i(e,...n)}},s=t.map(e=>e(o));return i=sv(...s)(a.dispatch),{...a,dispatch:i}}}(...c),h=cb(d);return iv(l,o,u(..."function"===typeof s?s(h):h()))}function db(e){const t={},n=[];let r;const a={addCase(e,n){const r="string"===typeof e?e:e.type;if(!r)throw new Error(Xb(28));if(r in t)throw new Error(Xb(29));return t[r]=n,a},addMatcher:(e,t)=>(n.push({matcher:e,reducer:t}),a),addDefaultCase:e=>(r=e,a)};return e(a),[t,n,r]}var hb=function(){let e="",t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21;for(;t--;)e+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return e};var fb=Symbol.for("rtk-slice-createasyncthunk");function pb(e,t){return`${e}/${t}`}function mb(){let{creators:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=e?.asyncThunk?.[fb];return function(e){const{name:n,reducerPath:r=n}=e;if(!n)throw new Error(Xb(11));const a=("function"===typeof e.reducers?e.reducers(function(){function e(e,t){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...t}}return e.withTypes=()=>e,{reducer:e=>Object.assign({[e.name](){return e(...arguments)}}[e.name],{_reducerDefinitionType:"reducer"}),preparedReducer:(e,t)=>({_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}),asyncThunk:e}}()):e.reducers)||{},i=Object.keys(a),o={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},s={addCase(e,t){const n="string"===typeof e?e:e.type;if(!n)throw new Error(Xb(12));if(n in o.sliceCaseReducersByType)throw new Error(Xb(13));return o.sliceCaseReducersByType[n]=t,s},addMatcher:(e,t)=>(o.sliceMatchers.push({matcher:e,reducer:t}),s),exposeAction:(e,t)=>(o.actionCreators[e]=t,s),exposeCaseReducer:(e,t)=>(o.sliceCaseReducersByName[e]=t,s)};function l(){const[t={},n=[],r]="function"===typeof e.extraReducers?db(e.extraReducers):[e.extraReducers],a={...t,...o.sliceCaseReducersByType};return function(e,t){let n,[r,a,i]=db(t);if(function(e){return"function"===typeof e}(e))n=()=>ib(e());else{const t=ib(e);n=()=>t}function o(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n(),t=arguments.length>1?arguments[1]:void 0,o=[r[t.type],...a.filter(e=>{let{matcher:n}=e;return n(t)}).map(e=>{let{reducer:t}=e;return t})];return 0===o.filter(e=>!!e).length&&(o=[i]),o.reduce((e,n)=>{if(n){if(yv(e)){const r=n(e,t);return void 0===r?e:r}if(vv(e))return tb(e,e=>n(e,t));{const r=n(e,t);if(void 0===r){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return r}}return e},e)}return o.getInitialState=n,o}(e.initialState,e=>{for(let t in a)e.addCase(t,a[t]);for(let t of o.sliceMatchers)e.addMatcher(t.matcher,t.reducer);for(let t of n)e.addMatcher(t.matcher,t.reducer);r&&e.addDefaultCase(r)})}i.forEach(r=>{const i=a[r],o={reducerName:r,type:pb(n,r),createNotation:"function"===typeof e.reducers};!function(e){return"asyncThunk"===e._reducerDefinitionType}(i)?function(e,t,n){let r,a,{type:i,reducerName:o,createNotation:s}=e;if("reducer"in t){if(s&&!function(e){return"reducerWithPrepare"===e._reducerDefinitionType}(t))throw new Error(Xb(17));r=t.reducer,a=t.prepare}else r=t;n.addCase(i,r).exposeCaseReducer(o,r).exposeAction(o,a?rb(i,a):rb(i))}(o,i,s):function(e,t,n,r){let{type:a,reducerName:i}=e;if(!r)throw new Error(Xb(18));const{payloadCreator:o,fulfilled:s,pending:l,rejected:c,settled:u,options:d}=t,h=r(a,o,d);n.exposeAction(i,h),s&&n.addCase(h.fulfilled,s);l&&n.addCase(h.pending,l);c&&n.addCase(h.rejected,c);u&&n.addMatcher(h.settled,u);n.exposeCaseReducer(i,{fulfilled:s||vb,pending:l||vb,rejected:c||vb,settled:u||vb})}(o,i,s,t)});const c=e=>e,u=new Map,d=new WeakMap;let h;function f(e,t){return h||(h=l()),h(e,t)}function p(){return h||(h=l()),h.getInitialState()}function m(t){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function r(e){let a=e[t];return"undefined"===typeof a&&n&&(a=ob(d,r,p)),a}function a(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c;const r=ob(u,n,()=>new WeakMap);return ob(r,t,()=>{const r={};for(const[a,i]of Object.entries(e.selectors??{}))r[a]=gb(i,t,()=>ob(d,t,p),n);return r})}return{reducerPath:t,getSelectors:a,get selectors(){return a(r)},selectSlice:r}}const g={name:n,reducer:f,actions:o.actionCreators,caseReducers:o.sliceCaseReducersByName,getInitialState:p,...m(r),injectInto(e){let{reducerPath:t,...n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const a=t??r;return e.inject({reducerPath:a,reducer:f},n),{...g,...m(a,!0)}}};return g}}function gb(e,t,n,r){function a(a){let i=t(a);"undefined"===typeof i&&r&&(i=n());for(var o=arguments.length,s=new Array(o>1?o-1:0),l=1;l<o;l++)s[l-1]=arguments[l];return e(i,...s)}return a.unwrapped=e,a}var yb=mb();function vb(){}var bb="listener",xb="completed",wb="cancelled",kb=`task-${wb}`,Sb=`task-${xb}`,Eb=`${bb}-${wb}`,Nb=`${bb}-${xb}`,jb=class{constructor(e){this.code=e,this.message=`task ${wb} (reason: ${e})`}name="TaskAbortError";message},_b=(e,t)=>{if("function"!==typeof e)throw new TypeError(Xb(32))},Tb=()=>{},Ab=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Tb;return e.catch(t),e},Cb=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Ob=(e,t)=>{const n=e.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},Ib=e=>{if(e.aborted){const{reason:t}=e;throw new jb(t)}};function Pb(e,t){let n=Tb;return new Promise((r,a)=>{const i=()=>a(new jb(e.reason));e.aborted?i():(n=Cb(e,i),t.finally(()=>n()).then(r,a))}).finally(()=>{n=Tb})}var Db=e=>t=>Ab(Pb(e,t).then(t=>(Ib(e),t))),Mb=e=>{const t=Db(e);return e=>t(new Promise(t=>setTimeout(t,e)))},{assign:Rb}=Object,Lb={},Fb="listenerMiddleware",zb=(e,t)=>(n,r)=>{_b(n);const a=new AbortController;var i;i=a,Cb(e,()=>Ob(i,e.reason));const o=(async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof jb?"cancelled":"rejected",error:n}}finally{t?.()}})(async()=>{Ib(e),Ib(a.signal);const t=await n({pause:Db(a.signal),delay:Mb(a.signal),signal:a.signal});return Ib(a.signal),t},()=>Ob(a,Sb));return r?.autoJoin&&t.push(o.catch(Tb)),{result:Db(e)(o),cancel(){Ob(a,kb)}}},Ub=(e,t)=>(n,r)=>Ab((async(n,r)=>{Ib(t);let a=()=>{};const i=[new Promise((t,r)=>{let i=e({predicate:n,effect:(e,n)=>{n.unsubscribe(),t([e,n.getState(),n.getOriginalState()])}});a=()=>{i(),r()}})];null!=r&&i.push(new Promise(e=>setTimeout(e,r,null)));try{const e=await Pb(t,Promise.race(i));return Ib(t),e}finally{a()}})(n,r)),Vb=e=>{let{type:t,actionCreator:n,matcher:r,predicate:a,effect:i}=e;if(t)a=rb(t).match;else if(n)t=n.type,a=n.match;else if(r)a=r;else if(!a)throw new Error(Xb(21));return _b(i),{predicate:a,type:t,effect:i}},Bb=Rb(e=>{const{type:t,predicate:n,effect:r}=Vb(e);return{id:hb(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Xb(22))}}},{withTypes:()=>Bb}),$b=(e,t)=>{const{type:n,effect:r,predicate:a}=Vb(t);return Array.from(e.values()).find(e=>("string"===typeof n?e.type===n:e.predicate===a)&&e.effect===r)},Hb=e=>{e.pending.forEach(e=>{Ob(e,Eb)})},Kb=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},qb=Rb(rb(`${Fb}/add`),{withTypes:()=>qb}),Wb=rb(`${Fb}/removeAll`),Gb=Rb(rb(`${Fb}/remove`),{withTypes:()=>Gb}),Yb=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];console.error(`${Fb}/error`,...t)},Qb=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=new Map,{extra:n,onError:r=Yb}=e;_b(r);const a=e=>(e=>(e.unsubscribe=()=>t.delete(e.id),t.set(e.id,e),t=>{e.unsubscribe(),t?.cancelActive&&Hb(e)}))($b(t,e)??Bb(e));Rb(a,{withTypes:()=>a});const i=e=>{const n=$b(t,e);return n&&(n.unsubscribe(),e.cancelActive&&Hb(n)),!!n};Rb(i,{withTypes:()=>i});const o=async(e,i,o,s)=>{const l=new AbortController,c=Ub(a,l.signal),u=[];try{e.pending.add(l),await Promise.resolve(e.effect(i,Rb({},o,{getOriginalState:s,condition:(e,t)=>c(e,t).then(Boolean),take:c,delay:Mb(l.signal),pause:Db(l.signal),extra:n,signal:l.signal,fork:zb(l.signal,u),unsubscribe:e.unsubscribe,subscribe:()=>{t.set(e.id,e)},cancelActiveListeners:()=>{e.pending.forEach((e,t,n)=>{e!==l&&(Ob(e,Eb),n.delete(e))})},cancel:()=>{Ob(l,Eb),e.pending.delete(l)},throwIfCancelled:()=>{Ib(l.signal)}})))}catch(d){d instanceof jb||Kb(r,d,{raisedBy:"effect"})}finally{await Promise.all(u),Ob(l,Nb),e.pending.delete(l)}},s=(e=>()=>{e.forEach(Hb),e.clear()})(t);return{middleware:e=>n=>l=>{if(!lv(l))return n(l);if(qb.match(l))return a(l.payload);if(Wb.match(l))return void s();if(Gb.match(l))return i(l.payload);let c=e.getState();const u=()=>{if(c===Lb)throw new Error(Xb(23));return c};let d;try{if(d=n(l),t.size>0){const n=e.getState(),a=Array.from(t.values());for(const t of a){let a=!1;try{a=t.predicate(l,n,c)}catch(h){a=!1,Kb(r,h,{raisedBy:"predicate"})}a&&o(t,l,e,u)}}}finally{c=Lb}return d},startListening:a,stopListening:i,clearListeners:s}};Symbol.for("rtk-state-proxy-original");function Xb(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}function Jb(e,t){if(t){var n=Number.parseInt(t,10);if(!Ry(n))return null===e||void 0===e?void 0:e[n]}}var Zb=yb({name:"options",initialState:{chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},reducers:{createEventEmitter:e=>{null==e.eventEmitter&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),ex=Zb.reducer,{createEventEmitter:tx}=Zb.actions;n(7237);function nx(e){e()}var rx={notify(){},get:()=>[]};function ax(e,t){let n,r=rx,a=0,i=!1;function o(){c.onStateChange&&c.onStateChange()}function s(){a++,n||(n=t?t.addNestedSub(o):e.subscribe(o),r=function(){let e=null,t=null;return{clear(){e=null,t=null},notify(){nx(()=>{let t=e;for(;t;)t.callback(),t=t.next})},get(){const t=[];let n=e;for(;n;)t.push(n),n=n.next;return t},subscribe(n){let r=!0;const a=t={callback:n,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){r&&null!==e&&(r=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}())}function l(){a--,n&&0===a&&(n(),n=void 0,r.clear(),r=rx)}const c={addNestedSub:function(e){s();const t=r.subscribe(e);let n=!1;return()=>{n||(n=!0,t(),l())}},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:o,isSubscribed:function(){return i},trySubscribe:function(){i||(i=!0,s())},tryUnsubscribe:function(){i&&(i=!1,l())},getListeners:()=>r};return c}var ix=(()=>!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement))(),ox=(()=>"undefined"!==typeof navigator&&"ReactNative"===navigator.product)(),sx=(()=>ix||ox?t.useLayoutEffect:t.useEffect)();Object.defineProperty,Object.getOwnPropertyNames,Object.getOwnPropertySymbols,Object.getOwnPropertyDescriptor,Object.getPrototypeOf,Object.prototype;var lx=Symbol.for("react-redux-context"),cx="undefined"!==typeof globalThis?globalThis:{};function ux(){if(!t.createContext)return{};const e=cx[lx]??=new Map;let n=e.get(t.createContext);return n||(n=t.createContext(null),e.set(t.createContext,n)),n}var dx=ux();var hx=function(e){const{children:n,context:r,serverState:a,store:i}=e,o=t.useMemo(()=>{const e=ax(i);return{store:i,subscription:e,getServerState:a?()=>a:void 0}},[i,a]),s=t.useMemo(()=>i.getState(),[i]);sx(()=>{const{subscription:e}=o;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),s!==i.getState()&&e.notifyNestedSubs(),()=>{e.tryUnsubscribe(),e.onStateChange=void 0}},[o,s]);const l=r||dx;return t.createElement(l.Provider,{value:o},n)};var fx=Symbol.for("immer-nothing"),px=Symbol.for("immer-draftable"),mx=Symbol.for("immer-state");function gx(e){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var yx=Object.getPrototypeOf;function vx(e){return!!e&&!!e[mx]}function bx(e){return!!e&&(wx(e)||Array.isArray(e)||!!e[px]||!!e.constructor?.[px]||jx(e)||_x(e))}var xx=Object.prototype.constructor.toString();function wx(e){if(!e||"object"!==typeof e)return!1;const t=yx(e);if(null===t)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===xx}function kx(e,t){0===Sx(e)?Reflect.ownKeys(e).forEach(n=>{t(n,e[n],e)}):e.forEach((n,r)=>t(r,n,e))}function Sx(e){const t=e[mx];return t?t.type_:Array.isArray(e)?1:jx(e)?2:_x(e)?3:0}function Ex(e,t){return 2===Sx(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Nx(e,t,n){const r=Sx(e);2===r?e.set(t,n):3===r?e.add(n):e[t]=n}function jx(e){return e instanceof Map}function _x(e){return e instanceof Set}function Tx(e){return e.copy_||e.base_}function Ax(e,t){if(jx(e))return new Map(e);if(_x(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=wx(e);if(!0===t||"class_only"===t&&!n){const t=Object.getOwnPropertyDescriptors(e);delete t[mx];let n=Reflect.ownKeys(t);for(let r=0;r<n.length;r++){const a=n[r],i=t[a];!1===i.writable&&(i.writable=!0,i.configurable=!0),(i.get||i.set)&&(t[a]={configurable:!0,writable:!0,enumerable:i.enumerable,value:e[a]})}return Object.create(yx(e),t)}{const t=yx(e);if(null!==t&&n)return{...e};const r=Object.create(t);return Object.assign(r,e)}}function Cx(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Ix(e)||vx(e)||!bx(e)||(Sx(e)>1&&(e.set=e.add=e.clear=e.delete=Ox),Object.freeze(e),t&&Object.entries(e).forEach(e=>{let[t,n]=e;return Cx(n,!0)})),e}function Ox(){gx(2)}function Ix(e){return Object.isFrozen(e)}var Px,Dx={};function Mx(e){const t=Dx[e];return t||gx(0),t}function Rx(){return Px}function Lx(e,t){t&&(Mx("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Fx(e){zx(e),e.drafts_.forEach(Vx),e.drafts_=null}function zx(e){e===Px&&(Px=e.parent_)}function Ux(e){return Px={drafts_:[],parent_:Px,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Vx(e){const t=e[mx];0===t.type_||1===t.type_?t.revoke_():t.revoked_=!0}function Bx(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return void 0!==e&&e!==n?(n[mx].modified_&&(Fx(t),gx(4)),bx(e)&&(e=$x(t,e),t.parent_||Kx(t,e)),t.patches_&&Mx("Patches").generateReplacementPatches_(n[mx].base_,e,t.patches_,t.inversePatches_)):e=$x(t,n,[]),Fx(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==fx?e:void 0}function $x(e,t,n){if(Ix(t))return t;const r=t[mx];if(!r)return kx(t,(a,i)=>Hx(e,r,t,a,i,n)),t;if(r.scope_!==e)return t;if(!r.modified_)return Kx(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const t=r.copy_;let a=t,i=!1;3===r.type_&&(a=new Set(t),t.clear(),i=!0),kx(a,(a,o)=>Hx(e,r,t,a,o,n,i)),Kx(e,t,!1),n&&e.patches_&&Mx("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function Hx(e,t,n,r,a,i,o){if(vx(a)){const o=$x(e,a,i&&t&&3!==t.type_&&!Ex(t.assigned_,r)?i.concat(r):void 0);if(Nx(n,r,o),!vx(o))return;e.canAutoFreeze_=!1}else o&&n.add(a);if(bx(a)&&!Ix(a)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;$x(e,a),t&&t.scope_.parent_||"symbol"===typeof r||!Object.prototype.propertyIsEnumerable.call(n,r)||Kx(e,a)}}function Kx(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Cx(t,n)}var qx={get(e,t){if(t===mx)return e;const n=Tx(e);if(!Ex(n,t))return function(e,t,n){const r=Yx(t,n);return r?"value"in r?r.value:r.get?.call(e.draft_):void 0}(e,n,t);const r=n[t];return e.finalized_||!bx(r)?r:r===Gx(e.base_,t)?(Xx(e),e.copy_[t]=Jx(r,e)):r},has:(e,t)=>t in Tx(e),ownKeys:e=>Reflect.ownKeys(Tx(e)),set(e,t,n){const r=Yx(Tx(e),t);if(r?.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const r=Gx(Tx(e),t),a=r?.[mx];if(a&&a.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(function(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}(n,r)&&(void 0!==n||Ex(e.base_,t)))return!0;Xx(e),Qx(e)}return e.copy_[t]===n&&(void 0!==n||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty:(e,t)=>(void 0!==Gx(e.base_,t)||t in e.base_?(e.assigned_[t]=!1,Xx(e),Qx(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0),getOwnPropertyDescriptor(e,t){const n=Tx(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.type_||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty(){gx(11)},getPrototypeOf:e=>yx(e.base_),setPrototypeOf(){gx(12)}},Wx={};function Gx(e,t){const n=e[mx];return(n?Tx(n):e)[t]}function Yx(e,t){if(!(t in e))return;let n=yx(e);for(;n;){const e=Object.getOwnPropertyDescriptor(n,t);if(e)return e;n=yx(n)}}function Qx(e){e.modified_||(e.modified_=!0,e.parent_&&Qx(e.parent_))}function Xx(e){e.copy_||(e.copy_=Ax(e.base_,e.scope_.immer_.useStrictShallowCopy_))}kx(qx,(e,t)=>{Wx[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),Wx.deleteProperty=function(e,t){return Wx.set.call(this,e,t,void 0)},Wx.set=function(e,t,n){return qx.set.call(this,e[0],t,n,e[0])};function Jx(e,t){const n=jx(e)?Mx("MapSet").proxyMap_(e,t):_x(e)?Mx("MapSet").proxySet_(e,t):function(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:Rx(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=r,i=qx;n&&(a=[r],i=Wx);const{revoke:o,proxy:s}=Proxy.revocable(a,i);return r.draft_=s,r.revoke_=o,s}(e,t);return(t?t.scope_:Rx()).drafts_.push(n),n}function Zx(e){if(!bx(e)||Ix(e))return e;const t=e[mx];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=Ax(e,t.scope_.immer_.useStrictShallowCopy_)}else n=Ax(e,!0);return kx(n,(e,t)=>{Nx(n,e,Zx(t))}),t&&(t.finalized_=!1),n}var ew=new class{constructor(e){var t=this;this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,n)=>{if("function"===typeof e&&"function"!==typeof t){const n=t;t=e;const r=this;return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n;for(var a=arguments.length,i=new Array(a>1?a-1:0),o=1;o<a;o++)i[o-1]=arguments[o];return r.produce(e,e=>t.call(this,e,...i))}}let r;if("function"!==typeof t&&gx(6),void 0!==n&&"function"!==typeof n&&gx(7),bx(e)){const a=Ux(this),i=Jx(e,void 0);let o=!0;try{r=t(i),o=!1}finally{o?Fx(a):zx(a)}return Lx(a,n),Bx(r,a)}if(!e||"object"!==typeof e){if(r=t(e),void 0===r&&(r=e),r===fx&&(r=void 0),this.autoFreeze_&&Cx(r,!0),n){const t=[],a=[];Mx("Patches").generateReplacementPatches_(e,r,t,a),n(t,a)}return r}gx(1)},this.produceWithPatches=(e,n)=>{if("function"===typeof e)return function(n){for(var r=arguments.length,a=new Array(r>1?r-1:0),i=1;i<r;i++)a[i-1]=arguments[i];return t.produceWithPatches(n,t=>e(t,...a))};let r,a;const i=this.produce(e,n,(e,t)=>{r=e,a=t});return[i,r,a]},"boolean"===typeof e?.autoFreeze&&this.setAutoFreeze(e.autoFreeze),"boolean"===typeof e?.useStrictShallowCopy&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){bx(e)||gx(8),vx(e)&&(e=function(e){vx(e)||gx(10);return Zx(e)}(e));const t=Ux(this),n=Jx(e,void 0);return n[mx].isManual_=!0,zx(t),n}finishDraft(e,t){const n=e&&e[mx];n&&n.isManual_||gx(9);const{scope_:r}=n;return Lx(r,t),Bx(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));const r=Mx("Patches").applyPatches_;return vx(e)?r(e,t):this.produce(e,e=>r(e,t))}};ew.produce,ew.produceWithPatches.bind(ew),ew.setAutoFreeze.bind(ew),ew.setUseStrictShallowCopy.bind(ew),ew.applyPatches.bind(ew),ew.createDraft.bind(ew),ew.finishDraft.bind(ew);var tw={active:!1,index:null,dataKey:void 0,coordinate:void 0},nw=yb({name:"tooltip",initialState:{itemInteraction:{click:tw,hover:tw},axisInteraction:{click:tw,hover:tw},keyboardInteraction:tw,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},reducers:{addTooltipEntrySettings(e,t){e.tooltipItemPayloads.push(t.payload)},removeTooltipEntrySettings(e,t){var n=Jv(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:rw,removeTooltipEntrySettings:aw,setTooltipSettingsState:iw,setActiveMouseOverItemIndex:ow,mouseLeaveItem:sw,mouseLeaveChart:lw,setActiveClickItemIndex:cw,setMouseOverAxisIndex:uw,setMouseClickAxisIndex:dw,setSyncInteraction:hw,setKeyboardInteraction:fw}=nw.actions,pw=nw.reducer,mw=yb({name:"chartData",initialState:{chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},reducers:{setChartData(e,t){if(e.chartData=t.payload,null==t.payload)return e.dataStartIndex=0,void(e.dataEndIndex=0);t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;null!=n&&(e.dataStartIndex=n),null!=r&&(e.dataEndIndex=r)}}}),{setChartData:gw,setDataStartEndIndexes:yw,setComputedData:vw}=mw.actions,bw=mw.reducer,xw=yb({name:"chartLayout",initialState:{layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){e.margin.top=t.payload.top,e.margin.right=t.payload.right,e.margin.bottom=t.payload.bottom,e.margin.left=t.payload.left},setScale(e,t){e.scale=t.payload}}}),{setMargin:ww,setLayout:kw,setChartSize:Sw,setScale:Ew}=xw.actions,Nw=xw.reducer;function jw(e){if("function"!==typeof e)throw new TypeError(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expected a function, instead received "+typeof e)}var _w=e=>Array.isArray(e)?e:[e];function Tw(e){const t=Array.isArray(e[0])?e[0]:e;return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expected all items to be functions, instead received the following types: ";if(!e.every(e=>"function"===typeof e)){const n=e.map(e=>"function"===typeof e?`function ${e.name||"unnamed"}()`:typeof e).join(", ");throw new TypeError(`${t}[${n}]`)}}(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}Symbol(),Object.getPrototypeOf({});var Aw="undefined"!==typeof WeakRef?WeakRef:class{constructor(e){this.value=e}deref(){return this.value}};function Cw(){return{s:0,v:void 0,o:null,p:null}}function Ow(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={s:0,v:void 0,o:null,p:null};const{resultEqualityCheck:r}=t;let a,i=0;function o(){let t=n;const{length:o}=arguments;for(let e=0,n=o;e<n;e++){const n=arguments[e];if("function"===typeof n||"object"===typeof n&&null!==n){let e=t.o;null===e&&(t.o=e=new WeakMap);const r=e.get(n);void 0===r?(t=Cw(),e.set(n,t)):t=r}else{let e=t.p;null===e&&(t.p=e=new Map);const r=e.get(n);void 0===r?(t=Cw(),e.set(n,t)):t=r}}const s=t;let l;if(1===t.s)l=t.v;else if(l=e.apply(null,arguments),i++,r){const e=a?.deref?.()??a;null!=e&&r(e,l)&&(l=e,0!==i&&i--);a="object"===typeof l&&null!==l||"function"===typeof l?new Aw(l):l}return s.s=1,s.v=l,l}return o.clearCache=()=>{n={s:0,v:void 0,o:null,p:null},o.resetResultsCount()},o.resultsCount=()=>i,o.resetResultsCount=()=>{i=0},o}function Iw(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const a="function"===typeof e?{memoize:e,memoizeOptions:n}:e,i=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];let r,i=0,o=0,s={},l=t.pop();"object"===typeof l&&(s=l,l=t.pop()),jw(l,`createSelector expects an output function after the inputs, but received: [${typeof l}]`);const c={...a,...s},{memoize:u,memoizeOptions:d=[],argsMemoize:h=Ow,argsMemoizeOptions:f=[],devModeChecks:p={}}=c,m=_w(d),g=_w(f),y=Tw(t),v=u(function(){return i++,l.apply(null,arguments)},...m);const b=h(function(){o++;const e=function(e,t){const n=[],{length:r}=e;for(let a=0;a<r;a++)n.push(e[a].apply(null,t));return n}(y,arguments);return r=v.apply(null,e),r},...g);return Object.assign(b,{resultFunc:l,memoizedResultFunc:v,dependencies:y,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>r,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:u,argsMemoize:h})};return Object.assign(i,{withTypes:()=>i}),i}var Pw=Iw(Ow),Dw=Object.assign(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Pw;!function(e){if("object"!==typeof e)throw new TypeError(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expected an object, instead received "+typeof e)}(e,"createStructuredSelector expects first argument to be an object where each property is a selector, instead received a "+typeof e);const n=Object.keys(e),r=t(n.map(t=>e[t]),function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.reduce((e,t,r)=>(e[n[r]]=t,e),{})});return r},{withTypes:()=>Dw}),Mw=n(8443),Rw=(0,t.createContext)(null),Lw=e=>e,Fw=()=>{var e=(0,t.useContext)(Rw);return e?e.store.dispatch:Lw},zw=()=>{},Uw=()=>zw,Vw=(e,t)=>e===t;function Bw(e){var n=(0,t.useContext)(Rw);return(0,Mw.useSyncExternalStoreWithSelector)(n?n.subscription.addNestedSub:Uw,n?n.store.getState:zw,n?n.store.getState:zw,n?e:zw,Vw)}var $w=n(3821),Hw=n.n($w),Kw=e=>e.legend.settings,qw=Pw([e=>e.legend.payload,Kw],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?Hw()(r,n):r});function Ww(e,t){if((a=e.length)>1)for(var n,r,a,i=1,o=e[t[0]],s=o.length;i<a;++i)for(r=o,o=e[t[i]],n=0;n<s;++n)o[n][1]+=o[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]}Array.prototype.slice;function Gw(e){return"object"===typeof e&&"length"in e?e:Array.from(e)}function Yw(e){return function(){return e}}function Qw(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function Xw(e,t){return e[t]}function Jw(e){const t=[];return t.key=e,t}function Zw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ek(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Zw(Object(n),!0).forEach(function(t){tk(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zw(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function tk(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var nk=Math.PI/180,rk=e=>180*e/Math.PI,ak=(e,t,n,r)=>({x:e+Math.cos(-nk*r)*n,y:t+Math.sin(-nk*r)*n}),ik=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{top:0,right:0,bottom:0,left:0,width:0,height:0,brushBottom:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(t-(n.top||0)-(n.bottom||0)))/2},ok=(e,t)=>{var{x:n,y:r}=e,{cx:a,cy:i}=t,o=((e,t)=>{var{x:n,y:r}=e,{x:a,y:i}=t;return Math.sqrt((n-a)**2+(r-i)**2)})({x:n,y:r},{x:a,y:i});if(o<=0)return{radius:o,angle:0};var s=(n-a)/o,l=Math.acos(s);return r>i&&(l=2*Math.PI-l),{radius:o,angle:rk(l),angleInRadian:l}},sk=(e,t)=>{var{startAngle:n,endAngle:r}=t,a=Math.floor(n/360),i=Math.floor(r/360);return e+360*Math.min(a,i)},lk=(e,t)=>{var{x:n,y:r}=e,{radius:a,angle:i}=ok({x:n,y:r},t),{innerRadius:o,outerRadius:s}=t;if(a<o||a>s)return null;if(0===a)return null;var l,{startAngle:c,endAngle:u}=(e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),a=Math.floor(n/360),i=Math.min(r,a);return{startAngle:t-360*i,endAngle:n-360*i}})(t),d=i;if(c<=u){for(;d>u;)d-=360;for(;d<c;)d+=360;l=d>=c&&d<=u}else{for(;d>c;)d-=360;for(;d<u;)d+=360;l=d>=u&&d<=c}return l?ek(ek({},t),{},{radius:a,angle:sk(d,t)}):null};function ck(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function uk(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ck(Object(n),!0).forEach(function(t){dk(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ck(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function dk(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hk(e,t,n){return Wy(e)||Wy(t)?n:zy(t)?Dy()(e,t,n):"function"===typeof t?t(e):n}var fk=(e,t)=>"horizontal"===e&&"xAxis"===t||"vertical"===e&&"yAxis"===t||"centric"===e&&"angleAxis"===t||"radial"===e&&"radiusAxis"===t,pk=(e,t,n,r)=>{if(r)return e.map(e=>e.coordinate);var a,i,o=e.map(e=>(e.coordinate===t&&(a=!0),e.coordinate===n&&(i=!0),e.coordinate));return a||o.push(t),i||o.push(n),o},mk=(e,t,n)=>{if(!e)return null;var{duplicateDomain:r,type:a,range:i,scale:o,realScaleType:s,isCategorical:l,categoricalDomain:c,tickCount:u,ticks:d,niceTicks:h,axisType:f}=e;if(!o)return null;var p="scaleBand"===s&&o.bandwidth?o.bandwidth()/2:2,m=(t||n)&&"category"===a&&o.bandwidth?o.bandwidth()/p:0;return m="angleAxis"===f&&i&&i.length>=2?2*My(i[0]-i[1])*m:m,t&&(d||h)?(d||h||[]).map((e,t)=>{var n=r?r.indexOf(e):e;return{coordinate:o(n)+m,value:e,offset:m,index:t}}).filter(e=>!Ry(e.coordinate)):l&&c?c.map((e,t)=>({coordinate:o(e)+m,value:e,index:t,offset:m})):o.ticks&&!n&&null!=u?o.ticks(u).map((e,t)=>({coordinate:o(e)+m,value:e,offset:m,index:t})):o.domain().map((e,t)=>({coordinate:o(e)+m,value:r?r[e]:e,index:t,offset:m}))},gk=1e-4,yk={sign:e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var a=0,i=0,o=0;o<t;++o){var s=Ry(e[o][n][1])?e[o][n][0]:e[o][n][1];s>=0?(e[o][n][0]=a,e[o][n][1]=a+s,a=e[o][n][1]):(e[o][n][0]=i,e[o][n][1]=i+s,i=e[o][n][1])}},expand:function(e,t){if((r=e.length)>0){for(var n,r,a,i=0,o=e[0].length;i<o;++i){for(a=n=0;n<r;++n)a+=e[n][i][1]||0;if(a)for(n=0;n<r;++n)e[n][i][1]/=a}Ww(e,t)}},none:Ww,silhouette:function(e,t){if((n=e.length)>0){for(var n,r=0,a=e[t[0]],i=a.length;r<i;++r){for(var o=0,s=0;o<n;++o)s+=e[o][r][1]||0;a[r][1]+=a[r][0]=-s/2}Ww(e,t)}},wiggle:function(e,t){if((a=e.length)>0&&(r=(n=e[t[0]]).length)>0){for(var n,r,a,i=0,o=1;o<r;++o){for(var s=0,l=0,c=0;s<a;++s){for(var u=e[t[s]],d=u[o][1]||0,h=(d-(u[o-1][1]||0))/2,f=0;f<s;++f){var p=e[t[f]];h+=(p[o][1]||0)-(p[o-1][1]||0)}l+=d,c+=h*d}n[o-1][1]+=n[o-1][0]=i,l&&(i-=c/l)}n[o-1][1]+=n[o-1][0]=i,Ww(e,t)}},positive:e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var a=0,i=0;i<t;++i){var o=Ry(e[i][n][1])?e[i][n][0]:e[i][n][1];o>=0?(e[i][n][0]=a,e[i][n][1]=a+o,a=e[i][n][1]):(e[i][n][0]=0,e[i][n][1]=0)}}},vk=(e,t,n)=>{var r=yk[n],a=function(){var e=Yw([]),t=Qw,n=Ww,r=Xw;function a(a){var i,o,s=Array.from(e.apply(this,arguments),Jw),l=s.length,c=-1;for(const e of a)for(i=0,++c;i<l;++i)(s[i][c]=[0,+r(e,s[i].key,c,a)]).data=e;for(i=0,o=Gw(t(s));i<l;++i)s[o[i]].index=i;return n(s,o),s}return a.keys=function(t){return arguments.length?(e="function"===typeof t?t:Yw(Array.from(t)),a):e},a.value=function(e){return arguments.length?(r="function"===typeof e?e:Yw(+e),a):r},a.order=function(e){return arguments.length?(t=null==e?Qw:"function"===typeof e?e:Yw(Array.from(e)),a):t},a.offset=function(e){return arguments.length?(n=null==e?Ww:e,a):n},a}().keys(t).value((e,t)=>+hk(e,t,0)).order(Qw).offset(r);return a(e)};function bk(e){return null==e?void 0:String(e)}function xk(e){var{axis:t,ticks:n,bandSize:r,entry:a,index:i,dataKey:o}=e;if("category"===t.type){if(!t.allowDuplicatedCategory&&t.dataKey&&!Wy(a[t.dataKey])){var s=qy(n,"value",a[t.dataKey]);if(s)return s.coordinate+r/2}return n[i]?n[i].coordinate+r/2:null}var l=hk(a,Wy(o)?t.dataKey:o);return Wy(l)?null:t.scale(l)}var wk=e=>{var{axis:t,ticks:n,offset:r,bandSize:a,entry:i,index:o}=e;if("category"===t.type)return n[o]?n[o].coordinate+r:null;var s=hk(i,t.dataKey,t.scale.domain()[o]);return Wy(s)?null:t.scale(s)-a/2+r},kk=(e,t,n)=>{var r;if(null!=e)return r=Object.keys(e).reduce((r,a)=>{var i=e[a],{stackedData:o}=i,s=o.reduce((e,r)=>{var a=(e=>{var t=e.flat(2).filter(Fy);return[Math.min(...t),Math.max(...t)]})(r.slice(t,n+1));return[Math.min(e[0],a[0]),Math.max(e[1],a[1])]},[1/0,-1/0]);return[Math.min(s[0],r[0]),Math.max(s[1],r[1])]},[1/0,-1/0]),[r[0]===1/0?0:r[0],r[1]===-1/0?0:r[1]]},Sk=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Ek=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Nk=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var a=Hw()(t,e=>e.coordinate),i=1/0,o=1,s=a.length;o<s;o++){var l=a[o],c=a[o-1];i=Math.min((l.coordinate||0)-(c.coordinate||0),i)}return i===1/0?0:i}return n?void 0:0};function jk(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:a,name:i}=e;return uk(uk({},t),{},{dataKey:n,payload:r,value:a,name:i})}function _k(e,t){return e?String(e):"string"===typeof t?t:void 0}var Tk=e=>e.layout.width,Ak=e=>e.layout.height,Ck=e=>e.layout.scale,Ok=e=>e.layout.margin,Ik=Pw(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Pk=Pw(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),Dk="data-recharts-item-index",Mk="data-recharts-item-data-key";function Rk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Lk(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Rk(Object(n),!0).forEach(function(t){Fk(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rk(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Fk(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var zk=Pw([Tk,Ak,Ok,e=>e.brush.height,Ik,Pk,Kw,e=>e.legend.size],(e,t,n,r,a,i,o,s)=>{var l=i.reduce((e,t)=>{var{orientation:n}=t;if(!t.mirror&&!t.hide){var r="number"===typeof t.width?t.width:60;return Lk(Lk({},e),{},{[n]:e[n]+r})}return e},{left:n.left||0,right:n.right||0}),c=a.reduce((e,t)=>{var{orientation:n}=t;return t.mirror||t.hide?e:Lk(Lk({},e),{},{[n]:Dy()(e,"".concat(n))+t.height})},{top:n.top||0,bottom:n.bottom||0}),u=Lk(Lk({},c),l),d=u.bottom;u.bottom+=r,u=((e,t,n)=>{if(t&&n){var{width:r,height:a}=n,{align:i,verticalAlign:o,layout:s}=t;if(("vertical"===s||"horizontal"===s&&"middle"===o)&&"center"!==i&&Fy(e[i]))return uk(uk({},e),{},{[i]:e[i]+(r||0)});if(("horizontal"===s||"vertical"===s&&"center"===i)&&"middle"!==o&&Fy(e[o]))return uk(uk({},e),{},{[o]:e[o]+(a||0)})}return e})(u,o,s);var h=e-u.left-u.right,f=t-u.top-u.bottom;return Lk(Lk({brushBottom:d},u),{},{width:Math.max(h,0),height:Math.max(f,0)})}),Uk=Pw(zk,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),Vk=Pw(Tk,Ak,(e,t)=>({x:0,y:0,width:e,height:t})),Bk=(0,t.createContext)(null),$k=()=>null!=(0,t.useContext)(Bk),Hk=e=>e.brush,Kk=Pw([Hk,zk,Ok],(e,t,n)=>({height:e.height,x:Fy(e.x)?e.x:t.left,y:Fy(e.y)?e.y:t.top+t.height+t.brushBottom-((null===n||void 0===n?void 0:n.bottom)||0),width:Fy(e.width)?e.width:t.width})),qk=()=>{var e,t=$k(),n=Bw(Uk),r=Bw(Kk),a=null===(e=Bw(Hk))||void 0===e?void 0:e.padding;return t&&r&&a?{width:r.width-a.left-a.right,height:r.height-a.top-a.bottom,x:a.left,y:a.top}:n},Wk={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},Gk=()=>{var e;return null!==(e=Bw(zk))&&void 0!==e?e:Wk},Yk=()=>Bw(Tk),Qk=()=>Bw(Ak),Xk={top:0,right:0,bottom:0,left:0},Jk=e=>e.layout.layoutType,Zk=()=>Bw(Jk),eS=n(9859),tS=n.n(eS);function nS(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function rS(e,t){switch(arguments.length){case 0:break;case 1:"function"===typeof e?this.interpolator(e):this.range(e);break;default:this.domain(e),"function"===typeof t?this.interpolator(t):this.range(t)}return this}class aS extends Map{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:lS;if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=e)for(const[n,r]of e)this.set(n,r)}get(e){return super.get(iS(this,e))}has(e){return super.has(iS(this,e))}set(e,t){return super.set(oS(this,e),t)}delete(e){return super.delete(sS(this,e))}}Set;function iS(e,t){let{_intern:n,_key:r}=e;const a=r(t);return n.has(a)?n.get(a):t}function oS(e,t){let{_intern:n,_key:r}=e;const a=r(t);return n.has(a)?n.get(a):(n.set(a,t),t)}function sS(e,t){let{_intern:n,_key:r}=e;const a=r(t);return n.has(a)&&(t=n.get(a),n.delete(a)),t}function lS(e){return null!==e&&"object"===typeof e?e.valueOf():e}const cS=Symbol("implicit");function uS(){var e=new aS,t=[],n=[],r=cS;function a(a){let i=e.get(a);if(void 0===i){if(r!==cS)return r;e.set(a,i=t.push(a)-1)}return n[i%n.length]}return a.domain=function(n){if(!arguments.length)return t.slice();t=[],e=new aS;for(const r of n)e.has(r)||e.set(r,t.push(r)-1);return a},a.range=function(e){return arguments.length?(n=Array.from(e),a):n.slice()},a.unknown=function(e){return arguments.length?(r=e,a):r},a.copy=function(){return uS(t,n).unknown(r)},nS.apply(a,arguments),a}function dS(){var e,t,n=uS().unknown(void 0),r=n.domain,a=n.range,i=0,o=1,s=!1,l=0,c=0,u=.5;function d(){var n=r().length,d=o<i,h=d?o:i,f=d?i:o;e=(f-h)/Math.max(1,n-l+2*c),s&&(e=Math.floor(e)),h+=(f-h-e*(n-l))*u,t=e*(1-l),s&&(h=Math.round(h),t=Math.round(t));var p=function(e,t,n){e=+e,t=+t,n=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+n;for(var r=-1,a=0|Math.max(0,Math.ceil((t-e)/n)),i=new Array(a);++r<a;)i[r]=e+r*n;return i}(n).map(function(t){return h+e*t});return a(d?p.reverse():p)}return delete n.unknown,n.domain=function(e){return arguments.length?(r(e),d()):r()},n.range=function(e){return arguments.length?([i,o]=e,i=+i,o=+o,d()):[i,o]},n.rangeRound=function(e){return[i,o]=e,i=+i,o=+o,s=!0,d()},n.bandwidth=function(){return t},n.step=function(){return e},n.round=function(e){return arguments.length?(s=!!e,d()):s},n.padding=function(e){return arguments.length?(l=Math.min(1,c=+e),d()):l},n.paddingInner=function(e){return arguments.length?(l=Math.min(1,e),d()):l},n.paddingOuter=function(e){return arguments.length?(c=+e,d()):c},n.align=function(e){return arguments.length?(u=Math.max(0,Math.min(1,e)),d()):u},n.copy=function(){return dS(r(),[i,o]).round(s).paddingInner(l).paddingOuter(c).align(u)},nS.apply(d(),arguments)}function hS(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return hS(t())},e}function fS(){return hS(dS.apply(null,arguments).paddingInner(1))}const pS=Math.sqrt(50),mS=Math.sqrt(10),gS=Math.sqrt(2);function yS(e,t,n){const r=(t-e)/Math.max(0,n),a=Math.floor(Math.log10(r)),i=r/Math.pow(10,a),o=i>=pS?10:i>=mS?5:i>=gS?2:1;let s,l,c;return a<0?(c=Math.pow(10,-a)/o,s=Math.round(e*c),l=Math.round(t*c),s/c<e&&++s,l/c>t&&--l,c=-c):(c=Math.pow(10,a)*o,s=Math.round(e/c),l=Math.round(t/c),s*c<e&&++s,l*c>t&&--l),l<s&&.5<=n&&n<2?yS(e,t,2*n):[s,l,c]}function vS(e,t,n){if(!((n=+n)>0))return[];if((e=+e)===(t=+t))return[e];const r=t<e,[a,i,o]=r?yS(t,e,n):yS(e,t,n);if(!(i>=a))return[];const s=i-a+1,l=new Array(s);if(r)if(o<0)for(let c=0;c<s;++c)l[c]=(i-c)/-o;else for(let c=0;c<s;++c)l[c]=(i-c)*o;else if(o<0)for(let c=0;c<s;++c)l[c]=(a+c)/-o;else for(let c=0;c<s;++c)l[c]=(a+c)*o;return l}function bS(e,t,n){return yS(e=+e,t=+t,n=+n)[2]}function xS(e,t,n){n=+n;const r=(t=+t)<(e=+e),a=r?bS(t,e,n):bS(e,t,n);return(r?-1:1)*(a<0?1/-a:a)}function wS(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function kS(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function SS(e){let t,n,r;function a(e,r){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(a<i){if(0!==t(r,r))return i;do{const t=a+i>>>1;n(e[t],r)<0?a=t+1:i=t}while(a<i)}return a}return 2!==e.length?(t=wS,n=(t,n)=>wS(e(t),n),r=(t,n)=>e(t)-n):(t=e===wS||e===kS?e:ES,n=e,r=e),{left:a,center:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const i=a(e,t,n,(arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length)-1);return i>n&&r(e[i-1],t)>-r(e[i],t)?i-1:i},right:function(e,r){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(a<i){if(0!==t(r,r))return i;do{const t=a+i>>>1;n(e[t],r)<=0?a=t+1:i=t}while(a<i)}return a}}}function ES(){return 0}function NS(e){return null===e?NaN:+e}const jS=SS(wS),_S=jS.right,TS=(jS.left,SS(NS).center,_S);function AS(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function CS(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function OS(){}var IS=.7,PS=1/IS,DS="\\s*([+-]?\\d+)\\s*",MS="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",RS="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",LS=/^#([0-9a-f]{3,8})$/,FS=new RegExp(`^rgb\\(${DS},${DS},${DS}\\)$`),zS=new RegExp(`^rgb\\(${RS},${RS},${RS}\\)$`),US=new RegExp(`^rgba\\(${DS},${DS},${DS},${MS}\\)$`),VS=new RegExp(`^rgba\\(${RS},${RS},${RS},${MS}\\)$`),BS=new RegExp(`^hsl\\(${MS},${RS},${RS}\\)$`),$S=new RegExp(`^hsla\\(${MS},${RS},${RS},${MS}\\)$`),HS={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function KS(){return this.rgb().formatHex()}function qS(){return this.rgb().formatRgb()}function WS(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=LS.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?GS(t):3===n?new XS(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?YS(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?YS(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=FS.exec(e))?new XS(t[1],t[2],t[3],1):(t=zS.exec(e))?new XS(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=US.exec(e))?YS(t[1],t[2],t[3],t[4]):(t=VS.exec(e))?YS(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=BS.exec(e))?rE(t[1],t[2]/100,t[3]/100,1):(t=$S.exec(e))?rE(t[1],t[2]/100,t[3]/100,t[4]):HS.hasOwnProperty(e)?GS(HS[e]):"transparent"===e?new XS(NaN,NaN,NaN,0):null}function GS(e){return new XS(e>>16&255,e>>8&255,255&e,1)}function YS(e,t,n,r){return r<=0&&(e=t=n=NaN),new XS(e,t,n,r)}function QS(e,t,n,r){return 1===arguments.length?((a=e)instanceof OS||(a=WS(a)),a?new XS((a=a.rgb()).r,a.g,a.b,a.opacity):new XS):new XS(e,t,n,null==r?1:r);var a}function XS(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function JS(){return`#${nE(this.r)}${nE(this.g)}${nE(this.b)}`}function ZS(){const e=eE(this.opacity);return`${1===e?"rgb(":"rgba("}${tE(this.r)}, ${tE(this.g)}, ${tE(this.b)}${1===e?")":`, ${e})`}`}function eE(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function tE(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function nE(e){return((e=tE(e))<16?"0":"")+e.toString(16)}function rE(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new iE(e,t,n,r)}function aE(e){if(e instanceof iE)return new iE(e.h,e.s,e.l,e.opacity);if(e instanceof OS||(e=WS(e)),!e)return new iE;if(e instanceof iE)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,a=Math.min(t,n,r),i=Math.max(t,n,r),o=NaN,s=i-a,l=(i+a)/2;return s?(o=t===i?(n-r)/s+6*(n<r):n===i?(r-t)/s+2:(t-n)/s+4,s/=l<.5?i+a:2-i-a,o*=60):s=l>0&&l<1?0:o,new iE(o,s,l,e.opacity)}function iE(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function oE(e){return(e=(e||0)%360)<0?e+360:e}function sE(e){return Math.max(0,Math.min(1,e||0))}function lE(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function cE(e,t,n,r,a){var i=e*e,o=i*e;return((1-3*e+3*i-o)*t+(4-6*i+3*o)*n+(1+3*e+3*i-3*o)*r+o*a)/6}AS(OS,WS,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:KS,formatHex:KS,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return aE(this).formatHsl()},formatRgb:qS,toString:qS}),AS(XS,QS,CS(OS,{brighter(e){return e=null==e?PS:Math.pow(PS,e),new XS(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?IS:Math.pow(IS,e),new XS(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new XS(tE(this.r),tE(this.g),tE(this.b),eE(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:JS,formatHex:JS,formatHex8:function(){return`#${nE(this.r)}${nE(this.g)}${nE(this.b)}${nE(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:ZS,toString:ZS})),AS(iE,function(e,t,n,r){return 1===arguments.length?aE(e):new iE(e,t,n,null==r?1:r)},CS(OS,{brighter(e){return e=null==e?PS:Math.pow(PS,e),new iE(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?IS:Math.pow(IS,e),new iE(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,a=2*n-r;return new XS(lE(e>=240?e-240:e+120,a,r),lE(e,a,r),lE(e<120?e+240:e-120,a,r),this.opacity)},clamp(){return new iE(oE(this.h),sE(this.s),sE(this.l),eE(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=eE(this.opacity);return`${1===e?"hsl(":"hsla("}${oE(this.h)}, ${100*sE(this.s)}%, ${100*sE(this.l)}%${1===e?")":`, ${e})`}`}}));const uE=e=>()=>e;function dE(e,t){return function(n){return e+n*t}}function hE(e){return 1===(e=+e)?fE:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):uE(isNaN(t)?n:t)}}function fE(e,t){var n=t-e;return n?dE(e,n):uE(isNaN(e)?t:e)}const pE=function e(t){var n=hE(t);function r(e,t){var r=n((e=QS(e)).r,(t=QS(t)).r),a=n(e.g,t.g),i=n(e.b,t.b),o=fE(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=a(t),e.b=i(t),e.opacity=o(t),e+""}}return r.gamma=e,r}(1);function mE(e){return function(t){var n,r,a=t.length,i=new Array(a),o=new Array(a),s=new Array(a);for(n=0;n<a;++n)r=QS(t[n]),i[n]=r.r||0,o[n]=r.g||0,s[n]=r.b||0;return i=e(i),o=e(o),s=e(s),r.opacity=1,function(e){return r.r=i(e),r.g=o(e),r.b=s(e),r+""}}}mE(function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),a=e[r],i=e[r+1],o=r>0?e[r-1]:2*a-i,s=r<t-1?e[r+2]:2*i-a;return cE((n-r/t)*t,o,a,i,s)}}),mE(function(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),a=e[(r+t-1)%t],i=e[r%t],o=e[(r+1)%t],s=e[(r+2)%t];return cE((n-r/t)*t,a,i,o,s)}});function gE(e,t){var n,r=t?t.length:0,a=e?Math.min(r,e.length):0,i=new Array(a),o=new Array(r);for(n=0;n<a;++n)i[n]=EE(e[n],t[n]);for(;n<r;++n)o[n]=t[n];return function(e){for(n=0;n<a;++n)o[n]=i[n](e);return o}}function yE(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function vE(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function bE(e,t){var n,r={},a={};for(n in null!==e&&"object"===typeof e||(e={}),null!==t&&"object"===typeof t||(t={}),t)n in e?r[n]=EE(e[n],t[n]):a[n]=t[n];return function(e){for(n in r)a[n]=r[n](e);return a}}var xE=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,wE=new RegExp(xE.source,"g");function kE(e,t){var n,r,a,i=xE.lastIndex=wE.lastIndex=0,o=-1,s=[],l=[];for(e+="",t+="";(n=xE.exec(e))&&(r=wE.exec(t));)(a=r.index)>i&&(a=t.slice(i,a),s[o]?s[o]+=a:s[++o]=a),(n=n[0])===(r=r[0])?s[o]?s[o]+=r:s[++o]=r:(s[++o]=null,l.push({i:o,x:vE(n,r)})),i=wE.lastIndex;return i<t.length&&(a=t.slice(i),s[o]?s[o]+=a:s[++o]=a),s.length<2?l[0]?function(e){return function(t){return e(t)+""}}(l[0].x):function(e){return function(){return e}}(t):(t=l.length,function(e){for(var n,r=0;r<t;++r)s[(n=l[r]).i]=n.x(e);return s.join("")})}function SE(e,t){t||(t=[]);var n,r=e?Math.min(t.length,e.length):0,a=t.slice();return function(i){for(n=0;n<r;++n)a[n]=e[n]*(1-i)+t[n]*i;return a}}function EE(e,t){var n,r=typeof t;return null==t||"boolean"===r?uE(t):("number"===r?vE:"string"===r?(n=WS(t))?(t=n,pE):kE:t instanceof WS?pE:t instanceof Date?yE:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}(t)?SE:Array.isArray(t)?gE:"function"!==typeof t.valueOf&&"function"!==typeof t.toString||isNaN(t)?bE:vE)(e,t)}function NE(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function jE(e){return+e}var _E=[0,1];function TE(e){return e}function AE(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:function(e){return function(){return e}}(isNaN(t)?NaN:.5)}function CE(e,t,n){var r=e[0],a=e[1],i=t[0],o=t[1];return a<r?(r=AE(a,r),i=n(o,i)):(r=AE(r,a),i=n(i,o)),function(e){return i(r(e))}}function OE(e,t,n){var r=Math.min(e.length,t.length)-1,a=new Array(r),i=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)a[o]=AE(e[o],e[o+1]),i[o]=n(t[o],t[o+1]);return function(t){var n=TS(e,t,1,r)-1;return i[n](a[n](t))}}function IE(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function PE(){var e,t,n,r,a,i,o=_E,s=_E,l=EE,c=TE;function u(){var e=Math.min(o.length,s.length);return c!==TE&&(c=function(e,t){var n;return e>t&&(n=e,e=t,t=n),function(n){return Math.max(e,Math.min(t,n))}}(o[0],o[e-1])),r=e>2?OE:CE,a=i=null,d}function d(t){return null==t||isNaN(t=+t)?n:(a||(a=r(o.map(e),s,l)))(e(c(t)))}return d.invert=function(n){return c(t((i||(i=r(s,o.map(e),vE)))(n)))},d.domain=function(e){return arguments.length?(o=Array.from(e,jE),u()):o.slice()},d.range=function(e){return arguments.length?(s=Array.from(e),u()):s.slice()},d.rangeRound=function(e){return s=Array.from(e),l=NE,u()},d.clamp=function(e){return arguments.length?(c=!!e||TE,u()):c!==TE},d.interpolate=function(e){return arguments.length?(l=e,u()):l},d.unknown=function(e){return arguments.length?(n=e,d):n},function(n,r){return e=n,t=r,u()}}function DE(){return PE()(TE,TE)}var ME,RE=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function LE(e){if(!(t=RE.exec(e)))throw new Error("invalid format: "+e);var t;return new FE({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function FE(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function zE(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function UE(e){return(e=zE(Math.abs(e)))?e[1]:NaN}function VE(e,t){var n=zE(e,t);if(!n)return e+"";var r=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+new Array(a-r.length+2).join("0")}LE.prototype=FE.prototype,FE.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const BE={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>VE(100*e,t),r:VE,s:function(e,t){var n=zE(e,t);if(!n)return e+"";var r=n[0],a=n[1],i=a-(ME=3*Math.max(-8,Math.min(8,Math.floor(a/3))))+1,o=r.length;return i===o?r:i>o?r+new Array(i-o+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+zE(e,Math.max(0,t+i-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function $E(e){return e}var HE,KE,qE,WE=Array.prototype.map,GE=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function YE(e){var t,n,r=void 0===e.grouping||void 0===e.thousands?$E:(t=WE.call(e.grouping,Number),n=e.thousands+"",function(e,r){for(var a=e.length,i=[],o=0,s=t[0],l=0;a>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),i.push(e.substring(a-=s,a+s)),!((l+=s+1)>r));)s=t[o=(o+1)%t.length];return i.reverse().join(n)}),a=void 0===e.currency?"":e.currency[0]+"",i=void 0===e.currency?"":e.currency[1]+"",o=void 0===e.decimal?".":e.decimal+"",s=void 0===e.numerals?$E:function(e){return function(t){return t.replace(/[0-9]/g,function(t){return e[+t]})}}(WE.call(e.numerals,String)),l=void 0===e.percent?"%":e.percent+"",c=void 0===e.minus?"\u2212":e.minus+"",u=void 0===e.nan?"NaN":e.nan+"";function d(e){var t=(e=LE(e)).fill,n=e.align,d=e.sign,h=e.symbol,f=e.zero,p=e.width,m=e.comma,g=e.precision,y=e.trim,v=e.type;"n"===v?(m=!0,v="g"):BE[v]||(void 0===g&&(g=12),y=!0,v="g"),(f||"0"===t&&"="===n)&&(f=!0,t="0",n="=");var b="$"===h?a:"#"===h&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",x="$"===h?i:/[%p]/.test(v)?l:"",w=BE[v],k=/[defgprs%]/.test(v);function S(e){var a,i,l,h=b,S=x;if("c"===v)S=w(e)+S,e="";else{var E=(e=+e)<0||1/e<0;if(e=isNaN(e)?u:w(Math.abs(e),g),y&&(e=function(e){e:for(var t,n=e.length,r=1,a=-1;r<n;++r)switch(e[r]){case".":a=t=r;break;case"0":0===a&&(a=r),t=r;break;default:if(!+e[r])break e;a>0&&(a=0)}return a>0?e.slice(0,a)+e.slice(t+1):e}(e)),E&&0===+e&&"+"!==d&&(E=!1),h=(E?"("===d?d:c:"-"===d||"("===d?"":d)+h,S=("s"===v?GE[8+ME/3]:"")+S+(E&&"("===d?")":""),k)for(a=-1,i=e.length;++a<i;)if(48>(l=e.charCodeAt(a))||l>57){S=(46===l?o+e.slice(a+1):e.slice(a))+S,e=e.slice(0,a);break}}m&&!f&&(e=r(e,1/0));var N=h.length+e.length+S.length,j=N<p?new Array(p-N+1).join(t):"";switch(m&&f&&(e=r(j+e,j.length?p-S.length:1/0),j=""),n){case"<":e=h+e+S+j;break;case"=":e=h+j+e+S;break;case"^":e=j.slice(0,N=j.length>>1)+h+e+S+j.slice(N);break;default:e=j+h+e+S}return s(e)}return g=void 0===g?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),S.toString=function(){return e+""},S}return{format:d,formatPrefix:function(e,t){var n=d(((e=LE(e)).type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor(UE(t)/3))),a=Math.pow(10,-r),i=GE[8+r/3];return function(e){return n(a*e)+i}}}}function QE(e,t,n,r){var a,i=xS(e,t,n);switch((r=LE(null==r?",f":r)).type){case"s":var o=Math.max(Math.abs(e),Math.abs(t));return null!=r.precision||isNaN(a=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(UE(t)/3)))-UE(Math.abs(e)))}(i,o))||(r.precision=a),qE(r,o);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(a=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,UE(t)-UE(e))+1}(i,Math.max(Math.abs(e),Math.abs(t))))||(r.precision=a-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(a=function(e){return Math.max(0,-UE(Math.abs(e)))}(i))||(r.precision=a-2*("%"===r.type))}return KE(r)}function XE(e){var t=e.domain;return e.ticks=function(e){var n=t();return vS(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var r=t();return QE(r[0],r[r.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var r,a,i=t(),o=0,s=i.length-1,l=i[o],c=i[s],u=10;for(c<l&&(a=l,l=c,c=a,a=o,o=s,s=a);u-- >0;){if((a=bS(l,c,n))===r)return i[o]=l,i[s]=c,t(i);if(a>0)l=Math.floor(l/a)*a,c=Math.ceil(c/a)*a;else{if(!(a<0))break;l=Math.ceil(l*a)/a,c=Math.floor(c*a)/a}r=a}return e},e}function JE(){var e=DE();return e.copy=function(){return IE(e,JE())},nS.apply(e,arguments),XE(e)}function ZE(e){var t;function n(e){return null==e||isNaN(e=+e)?t:e}return n.invert=n,n.domain=n.range=function(t){return arguments.length?(e=Array.from(t,jE),n):e.slice()},n.unknown=function(e){return arguments.length?(t=e,n):t},n.copy=function(){return ZE(e).unknown(t)},e=arguments.length?Array.from(e,jE):[0,1],XE(n)}function eN(e,t){var n,r=0,a=(e=e.slice()).length-1,i=e[r],o=e[a];return o<i&&(n=r,r=a,a=n,n=i,i=o,o=n),e[r]=t.floor(i),e[a]=t.ceil(o),e}function tN(e){return Math.log(e)}function nN(e){return Math.exp(e)}function rN(e){return-Math.log(-e)}function aN(e){return-Math.exp(-e)}function iN(e){return isFinite(e)?+("1e"+e):e<0?0:e}function oN(e){return(t,n)=>-e(-t,n)}function sN(e){const t=e(tN,nN),n=t.domain;let r,a,i=10;function o(){return r=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}(i),a=function(e){return 10===e?iN:e===Math.E?Math.exp:t=>Math.pow(e,t)}(i),n()[0]<0?(r=oN(r),a=oN(a),e(rN,aN)):e(tN,nN),t}return t.base=function(e){return arguments.length?(i=+e,o()):i},t.domain=function(e){return arguments.length?(n(e),o()):n()},t.ticks=e=>{const t=n();let o=t[0],s=t[t.length-1];const l=s<o;l&&([o,s]=[s,o]);let c,u,d=r(o),h=r(s);const f=null==e?10:+e;let p=[];if(!(i%1)&&h-d<f){if(d=Math.floor(d),h=Math.ceil(h),o>0){for(;d<=h;++d)for(c=1;c<i;++c)if(u=d<0?c/a(-d):c*a(d),!(u<o)){if(u>s)break;p.push(u)}}else for(;d<=h;++d)for(c=i-1;c>=1;--c)if(u=d>0?c/a(-d):c*a(d),!(u<o)){if(u>s)break;p.push(u)}2*p.length<f&&(p=vS(o,s,f))}else p=vS(d,h,Math.min(h-d,f)).map(a);return l?p.reverse():p},t.tickFormat=(e,n)=>{if(null==e&&(e=10),null==n&&(n=10===i?"s":","),"function"!==typeof n&&(i%1||null!=(n=LE(n)).precision||(n.trim=!0),n=KE(n)),e===1/0)return n;const o=Math.max(1,i*e/t.ticks().length);return e=>{let t=e/a(Math.round(r(e)));return t*i<i-.5&&(t*=i),t<=o?n(e):""}},t.nice=()=>n(eN(n(),{floor:e=>a(Math.floor(r(e))),ceil:e=>a(Math.ceil(r(e)))})),t}function lN(){const e=sN(PE()).domain([1,10]);return e.copy=()=>IE(e,lN()).base(e.base()),nS.apply(e,arguments),e}function cN(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function uN(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function dN(e){var t=1,n=e(cN(t),uN(t));return n.constant=function(n){return arguments.length?e(cN(t=+n),uN(t)):t},XE(n)}function hN(){var e=dN(PE());return e.copy=function(){return IE(e,hN()).constant(e.constant())},nS.apply(e,arguments)}function fN(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function pN(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function mN(e){return e<0?-e*e:e*e}function gN(e){var t=e(TE,TE),n=1;return t.exponent=function(t){return arguments.length?1===(n=+t)?e(TE,TE):.5===n?e(pN,mN):e(fN(n),fN(1/n)):n},XE(t)}function yN(){var e=gN(PE());return e.copy=function(){return IE(e,yN()).exponent(e.exponent())},nS.apply(e,arguments),e}function vN(){return yN.apply(null,arguments).exponent(.5)}function bN(e){return Math.sign(e)*e*e}function xN(){var e,t=DE(),n=[0,1],r=!1;function a(n){var a=function(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}(t(n));return isNaN(a)?e:r?Math.round(a):a}return a.invert=function(e){return t.invert(bN(e))},a.domain=function(e){return arguments.length?(t.domain(e),a):t.domain()},a.range=function(e){return arguments.length?(t.range((n=Array.from(e,jE)).map(bN)),a):n.slice()},a.rangeRound=function(e){return a.range(e).round(!0)},a.round=function(e){return arguments.length?(r=!!e,a):r},a.clamp=function(e){return arguments.length?(t.clamp(e),a):t.clamp()},a.unknown=function(t){return arguments.length?(e=t,a):e},a.copy=function(){return xN(t.domain(),n).round(r).clamp(t.clamp()).unknown(e)},nS.apply(a,arguments),XE(a)}function wN(e,t){let n;if(void 0===t)for(const r of e)null!=r&&(n<r||void 0===n&&r>=r)&&(n=r);else{let r=-1;for(let a of e)null!=(a=t(a,++r,e))&&(n<a||void 0===n&&a>=a)&&(n=a)}return n}function kN(e,t){let n;if(void 0===t)for(const r of e)null!=r&&(n>r||void 0===n&&r>=r)&&(n=r);else{let r=-1;for(let a of e)null!=(a=t(a,++r,e))&&(n>a||void 0===n&&a>=a)&&(n=a)}return n}function SN(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wS;if(e===wS)return EN;if("function"!==typeof e)throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||0===r?r:(0===e(n,n))-(0===e(t,t))}}function EN(e,t){return(null==e||!(e>=e))-(null==t||!(t>=t))||(e<t?-1:e>t?1:0)}function NN(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0,a=arguments.length>4?arguments[4]:void 0;if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(a=void 0===a?EN:SN(a);r>n;){if(r-n>600){const i=r-n+1,o=t-n+1,s=Math.log(i),l=.5*Math.exp(2*s/3),c=.5*Math.sqrt(s*l*(i-l)/i)*(o-i/2<0?-1:1);NN(e,t,Math.max(n,Math.floor(t-o*l/i+c)),Math.min(r,Math.floor(t+(i-o)*l/i+c)),a)}const i=e[t];let o=n,s=r;for(jN(e,n,t),a(e[r],i)>0&&jN(e,n,r);o<s;){for(jN(e,o,s),++o,--s;a(e[o],i)<0;)++o;for(;a(e[s],i)>0;)--s}0===a(e[n],i)?jN(e,n,s):(++s,jN(e,s,r)),s<=t&&(n=s+1),t<=s&&(r=s-1)}return e}function jN(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function _N(e,t,n){if(e=Float64Array.from(function*(e,t){if(void 0===t)for(let n of e)null!=n&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)null!=(r=t(r,++n,e))&&(r=+r)>=r&&(yield r)}}(e,n)),(r=e.length)&&!isNaN(t=+t)){if(t<=0||r<2)return kN(e);if(t>=1)return wN(e);var r,a=(r-1)*t,i=Math.floor(a),o=wN(NN(e,i).subarray(0,i+1));return o+(kN(e.subarray(i+1))-o)*(a-i)}}function TN(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:NS;if((r=e.length)&&!isNaN(t=+t)){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,a=(r-1)*t,i=Math.floor(a),o=+n(e[i],i,e);return o+(+n(e[i+1],i+1,e)-o)*(a-i)}}function AN(){var e,t=[],n=[],r=[];function a(){var e=0,a=Math.max(1,n.length);for(r=new Array(a-1);++e<a;)r[e-1]=TN(t,e/a);return i}function i(t){return null==t||isNaN(t=+t)?e:n[TS(r,t)]}return i.invertExtent=function(e){var a=n.indexOf(e);return a<0?[NaN,NaN]:[a>0?r[a-1]:t[0],a<r.length?r[a]:t[t.length-1]]},i.domain=function(e){if(!arguments.length)return t.slice();t=[];for(let n of e)null==n||isNaN(n=+n)||t.push(n);return t.sort(wS),a()},i.range=function(e){return arguments.length?(n=Array.from(e),a()):n.slice()},i.unknown=function(t){return arguments.length?(e=t,i):e},i.quantiles=function(){return r.slice()},i.copy=function(){return AN().domain(t).range(n).unknown(e)},nS.apply(i,arguments)}function CN(){var e,t=0,n=1,r=1,a=[.5],i=[0,1];function o(t){return null!=t&&t<=t?i[TS(a,t,0,r)]:e}function s(){var e=-1;for(a=new Array(r);++e<r;)a[e]=((e+1)*n-(e-r)*t)/(r+1);return o}return o.domain=function(e){return arguments.length?([t,n]=e,t=+t,n=+n,s()):[t,n]},o.range=function(e){return arguments.length?(r=(i=Array.from(e)).length-1,s()):i.slice()},o.invertExtent=function(e){var o=i.indexOf(e);return o<0?[NaN,NaN]:o<1?[t,a[0]]:o>=r?[a[r-1],n]:[a[o-1],a[o]]},o.unknown=function(t){return arguments.length?(e=t,o):o},o.thresholds=function(){return a.slice()},o.copy=function(){return CN().domain([t,n]).range(i).unknown(e)},nS.apply(XE(o),arguments)}function ON(){var e,t=[.5],n=[0,1],r=1;function a(a){return null!=a&&a<=a?n[TS(t,a,0,r)]:e}return a.domain=function(e){return arguments.length?(t=Array.from(e),r=Math.min(t.length,n.length-1),a):t.slice()},a.range=function(e){return arguments.length?(n=Array.from(e),r=Math.min(t.length,n.length-1),a):n.slice()},a.invertExtent=function(e){var r=n.indexOf(e);return[t[r-1],t[r]]},a.unknown=function(t){return arguments.length?(e=t,a):e},a.copy=function(){return ON().domain(t).range(n).unknown(e)},nS.apply(a,arguments)}HE=YE({thousands:",",grouping:[3],currency:["$",""]}),KE=HE.format,qE=HE.formatPrefix;const IN=1e3,PN=6e4,DN=36e5,MN=864e5,RN=6048e5,LN=2592e6,FN=31536e6,zN=new Date,UN=new Date;function VN(e,t,n,r){function a(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return a.floor=t=>(e(t=new Date(+t)),t),a.ceil=n=>(e(n=new Date(n-1)),t(n,1),e(n),n),a.round=e=>{const t=a(e),n=a.ceil(e);return e-t<n-e?t:n},a.offset=(e,n)=>(t(e=new Date(+e),null==n?1:Math.floor(n)),e),a.range=(n,r,i)=>{const o=[];if(n=a.ceil(n),i=null==i?1:Math.floor(i),!(n<r)||!(i>0))return o;let s;do{o.push(s=new Date(+n)),t(n,i),e(n)}while(s<n&&n<r);return o},a.filter=n=>VN(t=>{if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)},(e,r)=>{if(e>=e)if(r<0)for(;++r<=0;)for(;t(e,-1),!n(e););else for(;--r>=0;)for(;t(e,1),!n(e););}),n&&(a.count=(t,r)=>(zN.setTime(+t),UN.setTime(+r),e(zN),e(UN),Math.floor(n(zN,UN))),a.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?a.filter(r?t=>r(t)%e===0:t=>a.count(0,t)%e===0):a:null)),a}const BN=VN(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);BN.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?VN(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):BN:null);BN.range;const $N=VN(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*IN)},(e,t)=>(t-e)/IN,e=>e.getUTCSeconds()),HN=($N.range,VN(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*IN)},(e,t)=>{e.setTime(+e+t*PN)},(e,t)=>(t-e)/PN,e=>e.getMinutes())),KN=(HN.range,VN(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*PN)},(e,t)=>(t-e)/PN,e=>e.getUTCMinutes())),qN=(KN.range,VN(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*IN-e.getMinutes()*PN)},(e,t)=>{e.setTime(+e+t*DN)},(e,t)=>(t-e)/DN,e=>e.getHours())),WN=(qN.range,VN(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*DN)},(e,t)=>(t-e)/DN,e=>e.getUTCHours())),GN=(WN.range,VN(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*PN)/MN,e=>e.getDate()-1)),YN=(GN.range,VN(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/MN,e=>e.getUTCDate()-1)),QN=(YN.range,VN(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/MN,e=>Math.floor(e/MN)));QN.range;function XN(e){return VN(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(e,t)=>{e.setDate(e.getDate()+7*t)},(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*PN)/RN)}const JN=XN(0),ZN=XN(1),ej=XN(2),tj=XN(3),nj=XN(4),rj=XN(5),aj=XN(6);JN.range,ZN.range,ej.range,tj.range,nj.range,rj.range,aj.range;function ij(e){return VN(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+7*t)},(e,t)=>(t-e)/RN)}const oj=ij(0),sj=ij(1),lj=ij(2),cj=ij(3),uj=ij(4),dj=ij(5),hj=ij(6),fj=(oj.range,sj.range,lj.range,cj.range,uj.range,dj.range,hj.range,VN(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear()),e=>e.getMonth())),pj=(fj.range,VN(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear()),e=>e.getUTCMonth())),mj=(pj.range,VN(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear()));mj.every=e=>isFinite(e=Math.floor(e))&&e>0?VN(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)}):null;mj.range;const gj=VN(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());gj.every=e=>isFinite(e=Math.floor(e))&&e>0?VN(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)}):null;gj.range;function yj(e,t,n,r,a,i){const o=[[$N,1,IN],[$N,5,5e3],[$N,15,15e3],[$N,30,3e4],[i,1,PN],[i,5,3e5],[i,15,9e5],[i,30,18e5],[a,1,DN],[a,3,108e5],[a,6,216e5],[a,12,432e5],[r,1,MN],[r,2,1728e5],[n,1,RN],[t,1,LN],[t,3,7776e6],[e,1,FN]];function s(t,n,r){const a=Math.abs(n-t)/r,i=SS(e=>{let[,,t]=e;return t}).right(o,a);if(i===o.length)return e.every(xS(t/FN,n/FN,r));if(0===i)return BN.every(Math.max(xS(t,n,r),1));const[s,l]=o[a/o[i-1][2]<o[i][2]/a?i-1:i];return s.every(l)}return[function(e,t,n){const r=t<e;r&&([e,t]=[t,e]);const a=n&&"function"===typeof n.range?n:s(e,t,n),i=a?a.range(e,+t+1):[];return r?i.reverse():i},s]}const[vj,bj]=yj(gj,pj,oj,QN,WN,KN),[xj,wj]=yj(mj,fj,JN,GN,qN,HN);function kj(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Sj(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Ej(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}var Nj,jj,_j,Tj={"-":"",_:" ",0:"0"},Aj=/^\s*\d+/,Cj=/^%/,Oj=/[\\^$*+?|[\]().{}]/g;function Ij(e,t,n){var r=e<0?"-":"",a=(r?-e:e)+"",i=a.length;return r+(i<n?new Array(n-i+1).join(t)+a:a)}function Pj(e){return e.replace(Oj,"\\$&")}function Dj(e){return new RegExp("^(?:"+e.map(Pj).join("|")+")","i")}function Mj(e){return new Map(e.map((e,t)=>[e.toLowerCase(),t]))}function Rj(e,t,n){var r=Aj.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function Lj(e,t,n){var r=Aj.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function Fj(e,t,n){var r=Aj.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function zj(e,t,n){var r=Aj.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function Uj(e,t,n){var r=Aj.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function Vj(e,t,n){var r=Aj.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function Bj(e,t,n){var r=Aj.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function $j(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Hj(e,t,n){var r=Aj.exec(t.slice(n,n+1));return r?(e.q=3*r[0]-3,n+r[0].length):-1}function Kj(e,t,n){var r=Aj.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function qj(e,t,n){var r=Aj.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function Wj(e,t,n){var r=Aj.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function Gj(e,t,n){var r=Aj.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function Yj(e,t,n){var r=Aj.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function Qj(e,t,n){var r=Aj.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function Xj(e,t,n){var r=Aj.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function Jj(e,t,n){var r=Aj.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Zj(e,t,n){var r=Cj.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function e_(e,t,n){var r=Aj.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function t_(e,t,n){var r=Aj.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function n_(e,t){return Ij(e.getDate(),t,2)}function r_(e,t){return Ij(e.getHours(),t,2)}function a_(e,t){return Ij(e.getHours()%12||12,t,2)}function i_(e,t){return Ij(1+GN.count(mj(e),e),t,3)}function o_(e,t){return Ij(e.getMilliseconds(),t,3)}function s_(e,t){return o_(e,t)+"000"}function l_(e,t){return Ij(e.getMonth()+1,t,2)}function c_(e,t){return Ij(e.getMinutes(),t,2)}function u_(e,t){return Ij(e.getSeconds(),t,2)}function d_(e){var t=e.getDay();return 0===t?7:t}function h_(e,t){return Ij(JN.count(mj(e)-1,e),t,2)}function f_(e){var t=e.getDay();return t>=4||0===t?nj(e):nj.ceil(e)}function p_(e,t){return e=f_(e),Ij(nj.count(mj(e),e)+(4===mj(e).getDay()),t,2)}function m_(e){return e.getDay()}function g_(e,t){return Ij(ZN.count(mj(e)-1,e),t,2)}function y_(e,t){return Ij(e.getFullYear()%100,t,2)}function v_(e,t){return Ij((e=f_(e)).getFullYear()%100,t,2)}function b_(e,t){return Ij(e.getFullYear()%1e4,t,4)}function x_(e,t){var n=e.getDay();return Ij((e=n>=4||0===n?nj(e):nj.ceil(e)).getFullYear()%1e4,t,4)}function w_(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Ij(t/60|0,"0",2)+Ij(t%60,"0",2)}function k_(e,t){return Ij(e.getUTCDate(),t,2)}function S_(e,t){return Ij(e.getUTCHours(),t,2)}function E_(e,t){return Ij(e.getUTCHours()%12||12,t,2)}function N_(e,t){return Ij(1+YN.count(gj(e),e),t,3)}function j_(e,t){return Ij(e.getUTCMilliseconds(),t,3)}function __(e,t){return j_(e,t)+"000"}function T_(e,t){return Ij(e.getUTCMonth()+1,t,2)}function A_(e,t){return Ij(e.getUTCMinutes(),t,2)}function C_(e,t){return Ij(e.getUTCSeconds(),t,2)}function O_(e){var t=e.getUTCDay();return 0===t?7:t}function I_(e,t){return Ij(oj.count(gj(e)-1,e),t,2)}function P_(e){var t=e.getUTCDay();return t>=4||0===t?uj(e):uj.ceil(e)}function D_(e,t){return e=P_(e),Ij(uj.count(gj(e),e)+(4===gj(e).getUTCDay()),t,2)}function M_(e){return e.getUTCDay()}function R_(e,t){return Ij(sj.count(gj(e)-1,e),t,2)}function L_(e,t){return Ij(e.getUTCFullYear()%100,t,2)}function F_(e,t){return Ij((e=P_(e)).getUTCFullYear()%100,t,2)}function z_(e,t){return Ij(e.getUTCFullYear()%1e4,t,4)}function U_(e,t){var n=e.getUTCDay();return Ij((e=n>=4||0===n?uj(e):uj.ceil(e)).getUTCFullYear()%1e4,t,4)}function V_(){return"+0000"}function B_(){return"%"}function $_(e){return+e}function H_(e){return Math.floor(+e/1e3)}function K_(e){return new Date(e)}function q_(e){return e instanceof Date?+e:+new Date(+e)}function W_(e,t,n,r,a,i,o,s,l,c){var u=DE(),d=u.invert,h=u.domain,f=c(".%L"),p=c(":%S"),m=c("%I:%M"),g=c("%I %p"),y=c("%a %d"),v=c("%b %d"),b=c("%B"),x=c("%Y");function w(e){return(l(e)<e?f:s(e)<e?p:o(e)<e?m:i(e)<e?g:r(e)<e?a(e)<e?y:v:n(e)<e?b:x)(e)}return u.invert=function(e){return new Date(d(e))},u.domain=function(e){return arguments.length?h(Array.from(e,q_)):h().map(K_)},u.ticks=function(t){var n=h();return e(n[0],n[n.length-1],null==t?10:t)},u.tickFormat=function(e,t){return null==t?w:c(t)},u.nice=function(e){var n=h();return e&&"function"===typeof e.range||(e=t(n[0],n[n.length-1],null==e?10:e)),e?h(eN(n,e)):u},u.copy=function(){return IE(u,W_(e,t,n,r,a,i,o,s,l,c))},u}function G_(){return nS.apply(W_(xj,wj,mj,fj,JN,GN,qN,HN,$N,jj).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Y_(){return nS.apply(W_(vj,bj,gj,pj,oj,YN,WN,KN,$N,_j).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Q_(){var e,t,n,r,a,i=0,o=1,s=TE,l=!1;function c(t){return null==t||isNaN(t=+t)?a:s(0===n?.5:(t=(r(t)-e)*n,l?Math.max(0,Math.min(1,t)):t))}function u(e){return function(t){var n,r;return arguments.length?([n,r]=t,s=e(n,r),c):[s(0),s(1)]}}return c.domain=function(a){return arguments.length?([i,o]=a,e=r(i=+i),t=r(o=+o),n=e===t?0:1/(t-e),c):[i,o]},c.clamp=function(e){return arguments.length?(l=!!e,c):l},c.interpolator=function(e){return arguments.length?(s=e,c):s},c.range=u(EE),c.rangeRound=u(NE),c.unknown=function(e){return arguments.length?(a=e,c):a},function(a){return r=a,e=a(i),t=a(o),n=e===t?0:1/(t-e),c}}function X_(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function J_(){var e=XE(Q_()(TE));return e.copy=function(){return X_(e,J_())},rS.apply(e,arguments)}function Z_(){var e=sN(Q_()).domain([1,10]);return e.copy=function(){return X_(e,Z_()).base(e.base())},rS.apply(e,arguments)}function eT(){var e=dN(Q_());return e.copy=function(){return X_(e,eT()).constant(e.constant())},rS.apply(e,arguments)}function tT(){var e=gN(Q_());return e.copy=function(){return X_(e,tT()).exponent(e.exponent())},rS.apply(e,arguments)}function nT(){return tT.apply(null,arguments).exponent(.5)}function rT(){var e=[],t=TE;function n(n){if(null!=n&&!isNaN(n=+n))return t((TS(e,n,1)-1)/(e.length-1))}return n.domain=function(t){if(!arguments.length)return e.slice();e=[];for(let n of t)null==n||isNaN(n=+n)||e.push(n);return e.sort(wS),n},n.interpolator=function(e){return arguments.length?(t=e,n):t},n.range=function(){return e.map((n,r)=>t(r/(e.length-1)))},n.quantiles=function(t){return Array.from({length:t+1},(n,r)=>_N(e,r/t))},n.copy=function(){return rT(t).domain(e)},rS.apply(n,arguments)}function aT(){var e,t,n,r,a,i,o,s=0,l=.5,c=1,u=1,d=TE,h=!1;function f(e){return isNaN(e=+e)?o:(e=.5+((e=+i(e))-t)*(u*e<u*t?r:a),d(h?Math.max(0,Math.min(1,e)):e))}function p(e){return function(t){var n,r,a;return arguments.length?([n,r,a]=t,d=function(e,t){void 0===t&&(t=e,e=EE);for(var n=0,r=t.length-1,a=t[0],i=new Array(r<0?0:r);n<r;)i[n]=e(a,a=t[++n]);return function(e){var t=Math.max(0,Math.min(r-1,Math.floor(e*=r)));return i[t](e-t)}}(e,[n,r,a]),f):[d(0),d(.5),d(1)]}}return f.domain=function(o){return arguments.length?([s,l,c]=o,e=i(s=+s),t=i(l=+l),n=i(c=+c),r=e===t?0:.5/(t-e),a=t===n?0:.5/(n-t),u=t<e?-1:1,f):[s,l,c]},f.clamp=function(e){return arguments.length?(h=!!e,f):h},f.interpolator=function(e){return arguments.length?(d=e,f):d},f.range=p(EE),f.rangeRound=p(NE),f.unknown=function(e){return arguments.length?(o=e,f):o},function(o){return i=o,e=o(s),t=o(l),n=o(c),r=e===t?0:.5/(t-e),a=t===n?0:.5/(n-t),u=t<e?-1:1,f}}function iT(){var e=XE(aT()(TE));return e.copy=function(){return X_(e,iT())},rS.apply(e,arguments)}function oT(){var e=sN(aT()).domain([.1,1,10]);return e.copy=function(){return X_(e,oT()).base(e.base())},rS.apply(e,arguments)}function sT(){var e=dN(aT());return e.copy=function(){return X_(e,sT()).constant(e.constant())},rS.apply(e,arguments)}function lT(){var e=gN(aT());return e.copy=function(){return X_(e,lT()).exponent(e.exponent())},rS.apply(e,arguments)}function cT(){return lT.apply(null,arguments).exponent(.5)}!function(e){Nj=function(e){var t=e.dateTime,n=e.date,r=e.time,a=e.periods,i=e.days,o=e.shortDays,s=e.months,l=e.shortMonths,c=Dj(a),u=Mj(a),d=Dj(i),h=Mj(i),f=Dj(o),p=Mj(o),m=Dj(s),g=Mj(s),y=Dj(l),v=Mj(l),b={a:function(e){return o[e.getDay()]},A:function(e){return i[e.getDay()]},b:function(e){return l[e.getMonth()]},B:function(e){return s[e.getMonth()]},c:null,d:n_,e:n_,f:s_,g:v_,G:x_,H:r_,I:a_,j:i_,L:o_,m:l_,M:c_,p:function(e){return a[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:$_,s:H_,S:u_,u:d_,U:h_,V:p_,w:m_,W:g_,x:null,X:null,y:y_,Y:b_,Z:w_,"%":B_},x={a:function(e){return o[e.getUTCDay()]},A:function(e){return i[e.getUTCDay()]},b:function(e){return l[e.getUTCMonth()]},B:function(e){return s[e.getUTCMonth()]},c:null,d:k_,e:k_,f:__,g:F_,G:U_,H:S_,I:E_,j:N_,L:j_,m:T_,M:A_,p:function(e){return a[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:$_,s:H_,S:C_,u:O_,U:I_,V:D_,w:M_,W:R_,x:null,X:null,y:L_,Y:z_,Z:V_,"%":B_},w={a:function(e,t,n){var r=f.exec(t.slice(n));return r?(e.w=p.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(e,t,n){var r=d.exec(t.slice(n));return r?(e.w=h.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(e,t,n){var r=y.exec(t.slice(n));return r?(e.m=v.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(e,t,n){var r=m.exec(t.slice(n));return r?(e.m=g.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(e,n,r){return E(e,t,n,r)},d:qj,e:qj,f:Jj,g:Bj,G:Vj,H:Gj,I:Gj,j:Wj,L:Xj,m:Kj,M:Yj,p:function(e,t,n){var r=c.exec(t.slice(n));return r?(e.p=u.get(r[0].toLowerCase()),n+r[0].length):-1},q:Hj,Q:e_,s:t_,S:Qj,u:Lj,U:Fj,V:zj,w:Rj,W:Uj,x:function(e,t,r){return E(e,n,t,r)},X:function(e,t,n){return E(e,r,t,n)},y:Bj,Y:Vj,Z:$j,"%":Zj};function k(e,t){return function(n){var r,a,i,o=[],s=-1,l=0,c=e.length;for(n instanceof Date||(n=new Date(+n));++s<c;)37===e.charCodeAt(s)&&(o.push(e.slice(l,s)),null!=(a=Tj[r=e.charAt(++s)])?r=e.charAt(++s):a="e"===r?" ":"0",(i=t[r])&&(r=i(n,a)),o.push(r),l=s+1);return o.push(e.slice(l,s)),o.join("")}}function S(e,t){return function(n){var r,a,i=Ej(1900,void 0,1);if(E(i,e,n+="",0)!=n.length)return null;if("Q"in i)return new Date(i.Q);if("s"in i)return new Date(1e3*i.s+("L"in i?i.L:0));if(t&&!("Z"in i)&&(i.Z=0),"p"in i&&(i.H=i.H%12+12*i.p),void 0===i.m&&(i.m="q"in i?i.q:0),"V"in i){if(i.V<1||i.V>53)return null;"w"in i||(i.w=1),"Z"in i?(a=(r=Sj(Ej(i.y,0,1))).getUTCDay(),r=a>4||0===a?sj.ceil(r):sj(r),r=YN.offset(r,7*(i.V-1)),i.y=r.getUTCFullYear(),i.m=r.getUTCMonth(),i.d=r.getUTCDate()+(i.w+6)%7):(a=(r=kj(Ej(i.y,0,1))).getDay(),r=a>4||0===a?ZN.ceil(r):ZN(r),r=GN.offset(r,7*(i.V-1)),i.y=r.getFullYear(),i.m=r.getMonth(),i.d=r.getDate()+(i.w+6)%7)}else("W"in i||"U"in i)&&("w"in i||(i.w="u"in i?i.u%7:"W"in i?1:0),a="Z"in i?Sj(Ej(i.y,0,1)).getUTCDay():kj(Ej(i.y,0,1)).getDay(),i.m=0,i.d="W"in i?(i.w+6)%7+7*i.W-(a+5)%7:i.w+7*i.U-(a+6)%7);return"Z"in i?(i.H+=i.Z/100|0,i.M+=i.Z%100,Sj(i)):kj(i)}}function E(e,t,n,r){for(var a,i,o=0,s=t.length,l=n.length;o<s;){if(r>=l)return-1;if(37===(a=t.charCodeAt(o++))){if(a=t.charAt(o++),!(i=w[a in Tj?t.charAt(o++):a])||(r=i(e,n,r))<0)return-1}else if(a!=n.charCodeAt(r++))return-1}return r}return b.x=k(n,b),b.X=k(r,b),b.c=k(t,b),x.x=k(n,x),x.X=k(r,x),x.c=k(t,x),{format:function(e){var t=k(e+="",b);return t.toString=function(){return e},t},parse:function(e){var t=S(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=k(e+="",x);return t.toString=function(){return e},t},utcParse:function(e){var t=S(e+="",!0);return t.toString=function(){return e},t}}}(e),jj=Nj.format,Nj.parse,_j=Nj.utcFormat,Nj.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var uT=e=>e.chartData,dT=Pw([uT],e=>{var t=null!=e.chartData?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),hT=(e,t,n,r)=>r?dT(e):uT(e);function fT(e){return Number.isFinite(e)}function pT(e){return"number"===typeof e&&e>0&&Number.isFinite(e)}function mT(e){if(Array.isArray(e)&&2===e.length){var[t,n]=e;if(fT(t)&&fT(n))return!0}return!1}function gT(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}var yT=n(8210),vT=n.n(yT),bT=e=>e,xT={"@@functional/placeholder":!0},wT=e=>e===xT,kT=e=>function t(){return 0===arguments.length||1===arguments.length&&wT(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},ST=(e,t)=>1===e?t:kT(function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];var i=r.filter(e=>e!==xT).length;return i>=e?t(...r):ST(e-i,kT(function(){for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];var i=r.map(e=>wT(e)?n.shift():e);return t(...i,...n)}))}),ET=e=>ST(e.length,e),NT=(e,t)=>{for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},jT=ET((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(e=>t[e]).map(e)),_T=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),TT=e=>{var t=null,n=null;return function(){for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return t&&a.every((e,n)=>{var r;return e===(null===(r=t)||void 0===r?void 0:r[n])})?n:(t=a,n=e(...a))}};function AT(e){return 0===e?1:Math.floor(new(vT())(e).abs().log(10).toNumber())+1}function CT(e,t,n){for(var r=new(vT())(e),a=0,i=[];r.lt(t)&&a<1e5;)i.push(r.toNumber()),r=r.add(n),a++;return i}ET((e,t,n)=>{var r=+e;return r+n*(+t-r)}),ET((e,t,n)=>{var r=t-+e;return(n-e)/(r=r||1/0)}),ET((e,t,n)=>{var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))});var OT=e=>{var[t,n]=e,[r,a]=[t,n];return t>n&&([r,a]=[n,t]),[r,a]},IT=(e,t,n)=>{if(e.lte(0))return new(vT())(0);var r=AT(e.toNumber()),a=new(vT())(10).pow(r),i=e.div(a),o=1!==r?.05:.1,s=new(vT())(Math.ceil(i.div(o).toNumber())).add(n).mul(o).mul(a);return t?new(vT())(s.toNumber()):new(vT())(Math.ceil(s.toNumber()))},PT=(e,t,n)=>{var r=new(vT())(1),a=new(vT())(e);if(!a.isint()&&n){var i=Math.abs(e);i<1?(r=new(vT())(10).pow(AT(e)-1),a=new(vT())(Math.floor(a.div(r).toNumber())).mul(r)):i>1&&(a=new(vT())(Math.floor(e)))}else 0===e?a=new(vT())(Math.floor((t-1)/2)):n||(a=new(vT())(Math.floor(e)));var o=Math.floor((t-1)/2);return function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!t.length)return bT;var r=t.reverse(),a=r[0],i=r.slice(1);return function(){return i.reduce((e,t)=>t(e),a(...arguments))}}(jT(e=>a.add(new(vT())(e-o).mul(r)).toNumber()),NT)(0,t)},DT=function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new(vT())(0),tickMin:new(vT())(0),tickMax:new(vT())(0)};var i,o=IT(new(vT())(t).sub(e).div(n-1),r,a);i=e<=0&&t>=0?new(vT())(0):(i=new(vT())(e).add(t).div(2)).sub(new(vT())(i).mod(o));var s=Math.ceil(i.sub(e).div(o).toNumber()),l=Math.ceil(new(vT())(t).sub(i).div(o).toNumber()),c=s+l+1;return c>n?DT(e,t,n,r,a+1):(c<n&&(l=t>0?l+(n-c):l,s=t>0?s:s+(n-c)),{step:o,tickMin:i.sub(new(vT())(s).mul(o)),tickMax:i.add(new(vT())(l).mul(o))})};var MT=TT(function(e){var[t,n]=e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=Math.max(r,2),[o,s]=OT([t,n]);if(o===-1/0||s===1/0){var l=s===1/0?[o,...NT(0,r-1).map(()=>1/0)]:[...NT(0,r-1).map(()=>-1/0),s];return t>n?_T(l):l}if(o===s)return PT(o,r,a);var{step:c,tickMin:u,tickMax:d}=DT(o,s,i,a,0),h=CT(u,d.add(new(vT())(.1).mul(c)),c);return t>n?_T(h):h}),RT=TT(function(e,t){var[n,r]=e,a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],[i,o]=OT([n,r]);if(i===-1/0||o===1/0)return[n,r];if(i===o)return[i];var s=Math.max(t,2),l=IT(new(vT())(o).sub(i).div(s-1),a,0),c=[...CT(new(vT())(i),new(vT())(o),l),o];return!1===a&&(c=c.map(e=>Math.round(e))),n>r?_T(c):c}),LT=e=>e.rootProps.maxBarSize,FT=e=>e.rootProps.barCategoryGap,zT=e=>e.rootProps.stackOffset,UT=e=>e.options.chartName,VT=e=>e.rootProps.syncId,BT=e=>e.rootProps.syncMethod,$T=e=>e.options.eventEmitter,HT=0,KT="auto",qT=!0,WT=!1,GT=!0,YT=0,QT="auto",XT=!0,JT=5,ZT=(e,t)=>{if(e&&t)return null!==e&&void 0!==e&&e.reversed?[t[1],t[0]]:t},eA={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:HT,includeHidden:!1,name:void 0,reversed:!1,scale:KT,tick:qT,tickCount:void 0,ticks:void 0,type:"category",unit:void 0},tA={allowDataOverflow:WT,allowDecimals:!1,allowDuplicatedCategory:GT,dataKey:void 0,domain:void 0,id:YT,includeHidden:!1,name:void 0,reversed:!1,scale:QT,tick:XT,tickCount:JT,ticks:void 0,type:"number",unit:void 0},nA={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,dataKey:void 0,domain:void 0,id:HT,includeHidden:!1,name:void 0,reversed:!1,scale:KT,tick:qT,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},rA={allowDataOverflow:WT,allowDecimals:!1,allowDuplicatedCategory:GT,dataKey:void 0,domain:void 0,id:YT,includeHidden:!1,name:void 0,reversed:!1,scale:QT,tick:XT,tickCount:JT,ticks:void 0,type:"category",unit:void 0},aA=(e,t)=>null!=e.polarAxis.angleAxis[t]?e.polarAxis.angleAxis[t]:"radial"===e.layout.layoutType?nA:eA,iA=(e,t)=>null!=e.polarAxis.radiusAxis[t]?e.polarAxis.radiusAxis[t]:"radial"===e.layout.layoutType?rA:tA,oA=e=>e.polarOptions,sA=Pw([Tk,Ak,zk],ik),lA=Pw([oA,sA],(e,t)=>{if(null!=e)return By(e.innerRadius,t,0)}),cA=Pw([oA,sA],(e,t)=>{if(null!=e)return By(e.outerRadius,t,.8*t)}),uA=Pw([oA],e=>{if(null==e)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]}),dA=(Pw([aA,uA],ZT),Pw([sA,lA,cA],(e,t,n)=>{if(null!=e&&null!=t&&null!=n)return[t,n]})),hA=(Pw([iA,dA],ZT),Pw([Jk,oA,lA,cA,Tk,Ak],(e,t,n,r,a,i)=>{if(("centric"===e||"radial"===e)&&null!=t&&null!=n&&null!=r){var{cx:o,cy:s,startAngle:l,endAngle:c}=t;return{cx:By(o,a,a/2),cy:By(s,i,i/2),innerRadius:n,outerRadius:r,startAngle:l,endAngle:c,clockWise:!1}}})),fA=(e,t)=>t,pA=(e,t,n)=>n;function mA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function gA(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mA(Object(n),!0).forEach(function(t){yA(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mA(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function yA(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var vA=[0,"auto"],bA={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},xA=(e,t)=>{var n=e.cartesianAxis.xAxis[t];return null==n?bA:n},wA={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:vA,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:60},kA=(e,t)=>{var n=e.cartesianAxis.yAxis[t];return null==n?wA:n},SA={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},EA=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return null==n?SA:n},NA=(e,t,n)=>{switch(t){case"xAxis":return xA(e,n);case"yAxis":return kA(e,n);case"zAxis":return EA(e,n);case"angleAxis":return aA(e,n);case"radiusAxis":return iA(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},jA=(e,t,n)=>{switch(t){case"xAxis":return xA(e,n);case"yAxis":return kA(e,n);case"angleAxis":return aA(e,n);case"radiusAxis":return iA(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},_A=e=>e.graphicalItems.countOfBars>0;function TA(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var AA=e=>e.graphicalItems.cartesianItems,CA=Pw([fA,pA],TA),OA=(e,t,n)=>e.filter(n).filter(e=>!0===(null===t||void 0===t?void 0:t.includeHidden)||!e.hide),IA=Pw([AA,NA,CA],OA),PA=e=>e.filter(e=>void 0===e.stackId),DA=Pw([IA],PA),MA=e=>e.map(e=>e.data).filter(Boolean).flat(1),RA=Pw([IA],MA),LA=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:a}=t;return e.length>0?e:n.slice(r,a+1)},FA=Pw([RA,hT],LA),zA=(e,t,n)=>null!=(null===t||void 0===t?void 0:t.dataKey)?e.map(e=>({value:hk(e,t.dataKey)})):n.length>0?n.map(e=>e.dataKey).flatMap(t=>e.map(e=>({value:hk(e,t)}))):e.map(e=>({value:e})),UA=Pw([FA,NA,IA],zA);function VA(e,t){switch(e){case"xAxis":return"x"===t.direction;case"yAxis":return"y"===t.direction;default:return!1}}function BA(e){return e.filter(e=>zy(e)||e instanceof Date).map(Number).filter(e=>!1===Ry(e))}function $A(e,t,n){return!n||"number"!==typeof t||Ry(t)?[]:n.length?BA(n.flatMap(n=>{var r,a,i=hk(e,n.dataKey);if(Array.isArray(i)?[r,a]=i:r=a=i,fT(r)&&fT(a))return[t-r,t+a]})):[]}var HA=(e,t,n)=>{var r=t.reduce((e,t)=>(null==t.stackId||(null==e[t.stackId]&&(e[t.stackId]=[]),e[t.stackId].push(t)),e),{});return Object.fromEntries(Object.entries(r).map(t=>{var[r,a]=t,i=a.map(e=>e.dataKey);return[r,{stackedData:vk(e,i,n),graphicalItems:a}]}))},KA=Pw([FA,IA,zT],HA),qA=(e,t,n)=>{var{dataStartIndex:r,dataEndIndex:a}=t;if("zAxis"!==n){var i=kk(e,r,a);if(null==i||0!==i[0]||0!==i[1])return i}},WA=Pw([KA,uT,fA],qA),GA=(e,t,n,r)=>n.length>0?e.flatMap(e=>n.flatMap(n=>{var a,i,o=null===(a=n.errorBars)||void 0===a?void 0:a.filter(e=>VA(r,e)),s=hk(e,null!==(i=t.dataKey)&&void 0!==i?i:n.dataKey);return{value:s,errorDomain:$A(e,s,o)}})).filter(Boolean):null!=(null===t||void 0===t?void 0:t.dataKey)?e.map(e=>({value:hk(e,t.dataKey),errorDomain:[]})):e.map(e=>({value:e,errorDomain:[]})),YA=Pw(FA,NA,DA,fA,GA);function QA(e){var{value:t}=e;if(zy(t)||t instanceof Date)return t}var XA=e=>{var t;if(null==e||!("domain"in e))return vA;if(null!=e.domain)return e.domain;if(null!=e.ticks){if("number"===e.type){var n=BA(e.ticks);return[Math.min(...n),Math.max(...n)]}if("category"===e.type)return e.ticks.map(String)}return null!==(t=null===e||void 0===e?void 0:e.domain)&&void 0!==t?t:vA},JA=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.filter(Boolean);if(0!==r.length){var a=r.flat();return[Math.min(...a),Math.max(...a)]}},ZA=e=>e.referenceElements.dots,eC=(e,t,n)=>e.filter(e=>"extendDomain"===e.ifOverflow).filter(e=>"xAxis"===t?e.xAxisId===n:e.yAxisId===n),tC=Pw([ZA,fA,pA],eC),nC=e=>e.referenceElements.areas,rC=Pw([nC,fA,pA],eC),aC=e=>e.referenceElements.lines,iC=Pw([aC,fA,pA],eC),oC=(e,t)=>{var n=BA(e.map(e=>"xAxis"===t?e.x:e.y));if(0!==n.length)return[Math.min(...n),Math.max(...n)]},sC=Pw(tC,fA,oC),lC=(e,t)=>{var n=BA(e.flatMap(e=>["xAxis"===t?e.x1:e.y1,"xAxis"===t?e.x2:e.y2]));if(0!==n.length)return[Math.min(...n),Math.max(...n)]},cC=Pw([rC,fA],lC),uC=(e,t)=>{var n=BA(e.map(e=>"xAxis"===t?e.x:e.y));if(0!==n.length)return[Math.min(...n),Math.max(...n)]},dC=Pw(iC,fA,uC),hC=Pw(sC,dC,cC,(e,t,n)=>JA(e,n,t)),fC=Pw([NA],XA),pC=(e,t,n,r,a)=>{var i=function(e,t){if(t&&"function"!==typeof e&&Array.isArray(e)&&2===e.length){var n,r,[a,i]=e;if(fT(a))n=a;else if("function"===typeof a)return;if(fT(i))r=i;else if("function"===typeof i)return;var o=[n,r];if(mT(o))return o}}(t,e.allowDataOverflow);return null!=i?i:function(e,t,n){if(n||null!=t){if("function"===typeof e&&null!=t)try{var r=e(t,n);if(mT(r))return gT(r,t,n)}catch(f){}if(Array.isArray(e)&&2===e.length){var a,i,[o,s]=e;if("auto"===o)null!=t&&(a=Math.min(...t));else if(Fy(o))a=o;else if("function"===typeof o)try{null!=t&&(a=o(null===t||void 0===t?void 0:t[0]))}catch(p){}else if("string"===typeof o&&Sk.test(o)){var l=Sk.exec(o);if(null==l||null==t)a=void 0;else{var c=+l[1];a=t[0]-c}}else a=null===t||void 0===t?void 0:t[0];if("auto"===s)null!=t&&(i=Math.max(...t));else if(Fy(s))i=s;else if("function"===typeof s)try{null!=t&&(i=s(null===t||void 0===t?void 0:t[1]))}catch(m){}else if("string"===typeof s&&Ek.test(s)){var u=Ek.exec(s);if(null==u||null==t)i=void 0;else{var d=+u[1];i=t[1]+d}}else i=null===t||void 0===t?void 0:t[1];var h=[a,i];if(mT(h))return null==t?h:gT(h,t,n)}}}(t,JA(n,a,(e=>{var t=BA(e.flatMap(e=>[e.value,e.errorDomain]).flat(1));if(0!==t.length)return[Math.min(...t),Math.max(...t)]})(r)),e.allowDataOverflow)},mC=Pw([NA,fC,WA,YA,hC],pC),gC=[0,1],yC=(e,t,n,r,a,i,o)=>{if(null!=e&&null!=n&&0!==n.length){var{dataKey:s,type:l}=e,c=fk(t,i);return c&&null==s?tS()(0,n.length):"category"===l?((e,t,n)=>{var r=e.map(QA).filter(e=>null!=e);return n&&(null==t.dataKey||t.allowDuplicatedCategory&&$y(r))?tS()(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))})(r,e,c):"expand"===a?gC:o}},vC=Pw([NA,Jk,FA,UA,zT,fA,mC],yC),bC=(t,n,r,a,i)=>{if(null!=t){var{scale:o,type:s}=t;if("auto"===o)return"radial"===n&&"radiusAxis"===i?"band":"radial"===n&&"angleAxis"===i?"linear":"category"===s&&a&&(a.indexOf("LineChart")>=0||a.indexOf("AreaChart")>=0||a.indexOf("ComposedChart")>=0&&!r)?"point":"category"===s?"band":"linear";if("string"===typeof o){var l="scale".concat(Gy(o));return l in e?l:"point"}}},xC=Pw([NA,Jk,_A,UT,fA],bC);function wC(t,n,r,a){if(null!=r&&null!=a){if("function"===typeof t.scale)return t.scale.copy().domain(r).range(a);var i=function(t){if(null!=t){if(t in e)return e[t]();var n="scale".concat(Gy(t));return n in e?e[n]():void 0}}(n);if(null!=i){var o=i.domain(r).range(a);return(e=>{var t=e.domain();if(t&&!(t.length<=2)){var n=t.length,r=e.range(),a=Math.min(r[0],r[1])-gk,i=Math.max(r[0],r[1])+gk,o=e(t[0]),s=e(t[n-1]);(o<a||o>i||s<a||s>i)&&e.domain([t[0],t[n-1]])}})(o),o}}}var kC=(e,t,n)=>{var r=XA(t);if("auto"===n||"linear"===n)return null!=t&&t.tickCount&&Array.isArray(r)&&("auto"===r[0]||"auto"===r[1])&&mT(e)?MT(e,t.tickCount,t.allowDecimals):null!=t&&t.tickCount&&"number"===t.type&&mT(e)?RT(e,t.tickCount,t.allowDecimals):void 0},SC=Pw([vC,jA,xC],kC),EC=(e,t,n,r)=>{if("angleAxis"!==r&&"number"===(null===e||void 0===e?void 0:e.type)&&mT(t)&&Array.isArray(n)&&n.length>0){var a=t[0],i=n[0],o=t[1],s=n[n.length-1];return[Math.min(a,i),Math.max(o,s)]}return t},NC=Pw([NA,vC,SC,fA],EC),jC=Pw(UA,NA,(e,t)=>{if(t&&"number"===t.type){var n=1/0,r=Array.from(BA(e.map(e=>e.value))).sort((e,t)=>e-t);if(r.length<2)return 1/0;var a=r[r.length-1]-r[0];if(0===a)return 1/0;for(var i=0;i<r.length-1;i++){var o=r[i+1]-r[i];n=Math.min(n,o)}return n/a}}),_C=Pw(jC,Jk,FT,zk,(e,t,n,r)=>r,(e,t,n,r,a)=>{if(!fT(e))return 0;var i="vertical"===t?r.height:r.width;if("gap"===a)return e*i/2;if("no-gap"===a){var o=By(n,e*i),s=e*i/2;return s-o-(s-o)/i*o}return 0}),TC=Pw(xA,(e,t)=>{var n=xA(e,t);return null==n||"string"!==typeof n.padding?0:_C(e,"xAxis",t,n.padding)},(e,t)=>{var n,r;if(null==e)return{left:0,right:0};var{padding:a}=e;return"string"===typeof a?{left:t,right:t}:{left:(null!==(n=a.left)&&void 0!==n?n:0)+t,right:(null!==(r=a.right)&&void 0!==r?r:0)+t}}),AC=Pw(kA,(e,t)=>{var n=kA(e,t);return null==n||"string"!==typeof n.padding?0:_C(e,"yAxis",t,n.padding)},(e,t)=>{var n,r;if(null==e)return{top:0,bottom:0};var{padding:a}=e;return"string"===typeof a?{top:t,bottom:t}:{top:(null!==(n=a.top)&&void 0!==n?n:0)+t,bottom:(null!==(r=a.bottom)&&void 0!==r?r:0)+t}}),CC=Pw([zk,TC,Kk,Hk,(e,t,n)=>n],(e,t,n,r,a)=>{var{padding:i}=r;return a?[i.left,n.width-i.right]:[e.left+t.left,e.left+e.width-t.right]}),OC=Pw([zk,Jk,AC,Kk,Hk,(e,t,n)=>n],(e,t,n,r,a,i)=>{var{padding:o}=a;return i?[r.height-o.bottom,o.top]:"horizontal"===t?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),IC=(e,t,n,r)=>{var a;switch(t){case"xAxis":return CC(e,n,r);case"yAxis":return OC(e,n,r);case"zAxis":return null===(a=EA(e,n))||void 0===a?void 0:a.range;case"angleAxis":return uA(e);case"radiusAxis":return dA(e,n);default:return}},PC=Pw([NA,IC],ZT),DC=Pw([NA,xC,NC,PC],wC);Pw(IA,fA,(e,t)=>e.flatMap(e=>{var t;return null!==(t=e.errorBars)&&void 0!==t?t:[]}).filter(e=>VA(t,e)));function MC(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var RC=(e,t)=>t,LC=(e,t,n)=>n,FC=Pw(Ik,RC,LC,(e,t,n)=>e.filter(e=>e.orientation===t).filter(e=>e.mirror===n).sort(MC)),zC=Pw(Pk,RC,LC,(e,t,n)=>e.filter(e=>e.orientation===t).filter(e=>e.mirror===n).sort(MC)),UC=(e,t)=>({width:e.width,height:t.height}),VC=Pw(zk,xA,UC),BC=Pw(Ak,zk,FC,RC,LC,(e,t,n,r,a)=>{var i,o={};return n.forEach(n=>{var s=UC(t,n);null==i&&(i=((e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}})(t,r,e));var l="top"===r&&!a||"bottom"===r&&a;o[n.id]=i-Number(l)*s.height,i+=(l?-1:1)*s.height}),o}),$C=Pw(Tk,zk,zC,RC,LC,(e,t,n,r,a)=>{var i,o={};return n.forEach(n=>{var s=((e,t)=>({width:"number"===typeof t.width?t.width:60,height:e.height}))(t,n);null==i&&(i=((e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}})(t,r,e));var l="left"===r&&!a||"right"===r&&a;o[n.id]=i-Number(l)*s.width,i+=(l?-1:1)*s.width}),o}),HC=Pw(zk,kA,(e,t)=>({width:"number"===typeof t.width?t.width:60,height:e.height})),KC=(e,t,n)=>{switch(t){case"xAxis":return VC(e,n).width;case"yAxis":return HC(e,n).height;default:return}},qC=(e,t,n,r)=>{if(null!=n){var{allowDuplicatedCategory:a,type:i,dataKey:o}=n,s=fk(e,r),l=t.map(e=>e.value);return o&&s&&"category"===i&&a&&$y(l)?l:void 0}},WC=Pw([Jk,UA,NA,fA],qC),GC=(e,t,n,r)=>{if(null!=n&&null!=n.dataKey){var{type:a,scale:i}=n;return!fk(e,r)||"number"!==a&&"auto"===i?void 0:t.map(e=>e.value)}},YC=Pw([Jk,UA,jA,fA],GC),QC=Pw([Jk,(e,t,n)=>{switch(t){case"xAxis":return xA(e,n);case"yAxis":return kA(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},xC,DC,WC,YC,IC,SC,fA],(e,t,n,r,a,i,o,s,l)=>{if(null==t)return null;var c=fk(e,l);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:l,categoricalDomain:i,duplicateDomain:a,isCategorical:c,niceTicks:s,range:o,realScaleType:n,scale:r}}),XC=Pw([Jk,jA,xC,DC,SC,IC,WC,YC,fA],(e,t,n,r,a,i,o,s,l)=>{if(null!=t&&null!=r){var c=fk(e,l),{type:u,ticks:d,tickCount:h}=t,f="scaleBand"===n&&"function"===typeof r.bandwidth?r.bandwidth()/2:2,p="category"===u&&r.bandwidth?r.bandwidth()/f:0;p="angleAxis"===l&&null!=i&&i.length>=2?2*My(i[0]-i[1])*p:p;var m=d||a;return m?m.map((e,t)=>{var n=o?o.indexOf(e):e;return{index:t,coordinate:r(n)+p,value:e,offset:p}}).filter(e=>!Ry(e.coordinate)):c&&s?s.map((e,t)=>({coordinate:r(e)+p,value:e,index:t,offset:p})):r.ticks?r.ticks(h).map(e=>({coordinate:r(e)+p,value:e,offset:p})):r.domain().map((e,t)=>({coordinate:r(e)+p,value:o?o[e]:e,index:t,offset:p}))}}),JC=Pw([Jk,jA,DC,IC,WC,YC,fA],(e,t,n,r,a,i,o)=>{if(null!=t&&null!=n&&null!=r&&r[0]!==r[1]){var s=fk(e,o),{tickCount:l}=t,c=0;return c="angleAxis"===o&&(null===r||void 0===r?void 0:r.length)>=2?2*My(r[0]-r[1])*c:c,s&&i?i.map((e,t)=>({coordinate:n(e)+c,value:e,index:t,offset:c})):n.ticks?n.ticks(l).map(e=>({coordinate:n(e)+c,value:e,offset:c})):n.domain().map((e,t)=>({coordinate:n(e)+c,value:a?a[e]:e,index:t,offset:c}))}}),ZC=Pw(NA,DC,(e,t)=>{if(null!=e&&null!=t)return gA(gA({},e),{},{scale:t})}),eO=Pw([NA,xC,vC,PC],wC),tO=(Pw((e,t,n)=>EA(e,n),eO,(e,t)=>{if(null!=e&&null!=t)return gA(gA({},e),{},{scale:t})}),Pw([Jk,Ik,Pk],(e,t,n)=>{switch(e){case"horizontal":return t.some(e=>e.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(e=>e.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}})),nO=e=>e.options.defaultTooltipEventType,rO=e=>e.options.validateTooltipEventTypes;function aO(e,t,n){if(null==e)return t;var r=e?"axis":"item";return null==n?t:n.includes(r)?r:t}function iO(e,t){return aO(t,nO(e),rO(e))}var oO=(e,t)=>{var n,r=Number(t);if(!Ry(r)&&null!=t)return r>=0?null===e||void 0===e||null===(n=e[r])||void 0===n?void 0:n.value:void 0};function sO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function lO(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sO(Object(n),!0).forEach(function(t){cO(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sO(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function cO(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var uO=(e,t,n,r)=>{if(null==t)return tw;var a=function(e,t,n){return"axis"===t?"click"===n?e.axisInteraction.click:e.axisInteraction.hover:"click"===n?e.itemInteraction.click:e.itemInteraction.hover}(e,t,n);if(null==a)return tw;if(a.active)return a;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&null!=e.syncInteraction.index)return e.syncInteraction;var i=!0===e.settings.active;if(null!=a.index){if(i)return lO(lO({},a),{},{active:!0})}else if(null!=r)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return lO(lO({},tw),{},{coordinate:a.coordinate})},dO=(e,t)=>{var n=null===e||void 0===e?void 0:e.index;if(null==n)return null;var r=Number(n);if(!fT(r))return n;var a=1/0;return t.length>0&&(a=t.length-1),String(Math.max(0,Math.min(r,a)))},hO=(e,t,n,r,a,i,o,s)=>{if(null!=i&&null!=s){var l=o[0],c=null==l?void 0:s(l.positions,i);if(null!=c)return c;var u=null===a||void 0===a?void 0:a[Number(i)];if(u)return"horizontal"===n?{x:u.coordinate,y:(r.top+t)/2}:{x:(r.left+e)/2,y:u.coordinate}}},fO=(e,t,n,r)=>{return"axis"===t?e.tooltipItemPayloads:0===e.tooltipItemPayloads.length?[]:null==(a="hover"===n?e.itemInteraction.hover.dataKey:e.itemInteraction.click.dataKey)&&null!=r?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(e=>{var t;return(null===(t=e.settings)||void 0===t?void 0:t.dataKey)===a});var a},pO=e=>e.options.tooltipPayloadSearcher,mO=e=>e.tooltip;function gO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function yO(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gO(Object(n),!0).forEach(function(t){vO(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gO(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function vO(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var bO=(e,t,n,r,a,i,o)=>{if(null!=t&&null!=i){var{chartData:s,computedData:l,dataStartIndex:c,dataEndIndex:u}=n;return e.reduce((e,n)=>{var d,h,f,p,m,g,{dataDefinedOnItem:y,settings:v}=n,b=function(e,t){return null!=e?e:t}(y,s),x=(h=b,f=c,p=u,Array.isArray(h)&&h&&f+p!==0?h.slice(f,p+1):h),w=null!==(d=null===v||void 0===v?void 0:v.dataKey)&&void 0!==d?d:null===r||void 0===r?void 0:r.dataKey,k=null===v||void 0===v?void 0:v.nameKey;(m=null!==r&&void 0!==r&&r.dataKey&&Array.isArray(x)&&!Array.isArray(x[0])&&"axis"===o?qy(x,r.dataKey,a):i(x,t,l,k),Array.isArray(m))?m.forEach(t=>{var n=yO(yO({},v),{},{name:t.name,unit:t.unit,color:void 0,fill:void 0});e.push(jk({tooltipEntrySettings:n,dataKey:t.dataKey,payload:t.payload,value:hk(t.payload,t.dataKey),name:t.name}))}):e.push(jk({tooltipEntrySettings:v,dataKey:w,payload:m,value:hk(m,w),name:null!==(g=hk(m,k))&&void 0!==g?g:null===v||void 0===v?void 0:v.name}));return e},[])}},xO=e=>{var t=Jk(e);return"horizontal"===t?"xAxis":"vertical"===t?"yAxis":"centric"===t?"angleAxis":"radiusAxis"},wO=e=>e.tooltip.settings.axisId,kO=e=>{var t=xO(e),n=wO(e);return jA(e,t,n)},SO=Pw([kO,Jk,_A,UT,xO],bC),EO=Pw([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),NO=Pw([xO,wO],TA),jO=Pw([EO,kO,NO],OA),_O=Pw([jO],MA),TO=Pw([_O,uT],LA),AO=Pw([TO,kO,jO],zA),CO=Pw([kO],XA),OO=Pw([TO,jO,zT],HA),IO=Pw([OO,uT,xO],qA),PO=Pw([jO],PA),DO=Pw([TO,kO,PO,xO],GA),MO=Pw([ZA,xO,wO],eC),RO=Pw([MO,xO],oC),LO=Pw([nC,xO,wO],eC),FO=Pw([LO,xO],lC),zO=Pw([aC,xO,wO],eC),UO=Pw([zO,xO],uC),VO=Pw([RO,UO,FO],JA),BO=Pw([kO,CO,IO,DO,VO],pC),$O=Pw([kO,Jk,TO,AO,zT,xO,BO],yC),HO=Pw([$O,kO,SO],kC),KO=Pw([kO,$O,HO,xO],EC),qO=e=>{var t=xO(e),n=wO(e);return IC(e,t,n,!1)},WO=Pw([kO,qO],ZT),GO=Pw([kO,SO,KO,WO],wC),YO=Pw([Jk,AO,kO,xO],qC),QO=Pw([Jk,AO,kO,xO],GC),XO=Pw([Jk,kO,SO,GO,qO,YO,QO,xO],(e,t,n,r,a,i,o,s)=>{if(t){var{type:l}=t,c=fk(e,s);if(r){var u="scaleBand"===n&&r.bandwidth?r.bandwidth()/2:2,d="category"===l&&r.bandwidth?r.bandwidth()/u:0;return d="angleAxis"===s&&null!=a&&(null===a||void 0===a?void 0:a.length)>=2?2*My(a[0]-a[1])*d:d,c&&o?o.map((e,t)=>({coordinate:r(e)+d,value:e,index:t,offset:d})):r.domain().map((e,t)=>({coordinate:r(e)+d,value:i?i[e]:e,index:t,offset:d}))}}}),JO=Pw([nO,rO,e=>e.tooltip.settings],(e,t,n)=>aO(n.shared,e,t)),ZO=e=>e.tooltip.settings.trigger,eI=e=>e.tooltip.settings.defaultIndex,tI=Pw([mO,JO,ZO,eI],uO),nI=Pw([tI,TO],dO),rI=Pw([XO,nI],oO),aI=Pw([tI],e=>{if(e)return e.dataKey}),iI=Pw([mO,JO,ZO,eI],fO),oI=Pw([Tk,Ak,Jk,zk,XO,eI,iI,pO],hO),sI=Pw([tI,oI],(e,t)=>null!==e&&void 0!==e&&e.coordinate?e.coordinate:t),lI=Pw([tI],e=>e.active),cI=Pw([iI,nI,uT,kO,rI,pO,JO],bO),uI=Pw([cI],e=>{if(null!=e){var t=e.map(e=>e.payload).filter(e=>null!=e);return Array.from(new Set(t))}}),dI=()=>Bw(UT),hI=(e,t)=>t,fI=(e,t,n)=>n,pI=(e,t,n,r)=>r,mI=Pw(XO,e=>Hw()(e,e=>e.coordinate)),gI=Pw([mO,hI,fI,pI],uO),yI=Pw([gI,TO],dO),vI=Pw([mO,hI,fI,pI],fO),bI=Pw([Tk,Ak,Jk,zk,XO,pI,vI,pO],hO),xI=Pw([gI,bI],(e,t)=>{var n;return null!==(n=e.coordinate)&&void 0!==n?n:t}),wI=Pw(XO,yI,oO),kI=Pw([vI,yI,uT,kO,wI,pO,hI],bO),SI=Pw([gI],e=>({isActive:e.active,activeIndex:e.index})),EI=Pw([(e,t)=>t,Jk,hA,xO,WO,XO,mI,zk],(e,t,n,r,a,i,o,s)=>{if(e&&t&&r&&a&&i){var l=function(e,t,n,r,a){return"horizontal"===n||"vertical"===n?e>=a.left&&e<=a.left+a.width&&t>=a.top&&t<=a.top+a.height?{x:e,y:t}:null:r?lk({x:e,y:t},r):null}(e.chartX,e.chartY,t,n,s);if(l){var c=((e,t)=>"horizontal"===t?e.x:"vertical"===t?e.y:"centric"===t?e.angle:e.radius)(l,t),u=((e,t,n,r,a)=>{var i,o=-1,s=null!==(i=null===t||void 0===t?void 0:t.length)&&void 0!==i?i:0;if(s<=1||null==e)return 0;if("angleAxis"===r&&null!=a&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var l=0;l<s;l++){var c=l>0?n[l-1].coordinate:n[s-1].coordinate,u=n[l].coordinate,d=l>=s-1?n[0].coordinate:n[l+1].coordinate,h=void 0;if(My(u-c)!==My(d-u)){var f=[];if(My(d-u)===My(a[1]-a[0])){h=d;var p=u+a[1]-a[0];f[0]=Math.min(p,(p+c)/2),f[1]=Math.max(p,(p+c)/2)}else{h=c;var m=d+a[1]-a[0];f[0]=Math.min(u,(m+u)/2),f[1]=Math.max(u,(m+u)/2)}var g=[Math.min(u,(h+u)/2),Math.max(u,(h+u)/2)];if(e>g[0]&&e<=g[1]||e>=f[0]&&e<=f[1]){({index:o}=n[l]);break}}else{var y=Math.min(c,d),v=Math.max(c,d);if(e>(y+u)/2&&e<=(v+u)/2){({index:o}=n[l]);break}}}else if(t)for(var b=0;b<s;b++)if(0===b&&e<=(t[b].coordinate+t[b+1].coordinate)/2||b>0&&b<s-1&&e>(t[b].coordinate+t[b-1].coordinate)/2&&e<=(t[b].coordinate+t[b+1].coordinate)/2||b===s-1&&e>(t[b].coordinate+t[b-1].coordinate)/2){({index:o}=t[b]);break}return o})(c,o,i,r,a),d=((e,t,n,r)=>{var a=t.find(e=>e&&e.index===n);if(a){if("horizontal"===e)return{x:a.coordinate,y:r.y};if("vertical"===e)return{x:r.x,y:a.coordinate};if("centric"===e){var i=a.coordinate,{radius:o}=r;return uk(uk(uk({},r),ak(r.cx,r.cy,o,i)),{},{angle:i,radius:o})}var s=a.coordinate,{angle:l}=r;return uk(uk(uk({},r),ak(r.cx,r.cy,s,l)),{},{angle:l,radius:s})}return{x:0,y:0}})(t,i,u,l);return{activeIndex:String(u),activeCoordinate:d}}}}),NI=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},jI=rb("mouseClick"),_I=Qb();_I.startListening({actionCreator:jI,effect:(e,t)=>{var n=e.payload,r=EI(t.getState(),NI(n));null!=(null===r||void 0===r?void 0:r.activeIndex)&&t.dispatch(dw({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var TI=rb("mouseMove"),AI=Qb();function CI(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":t}function OI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function II(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?OI(Object(n),!0).forEach(function(t){PI(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OI(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function PI(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}AI.startListening({actionCreator:TI,effect:(e,t)=>{var n=e.payload,r=t.getState(),a=iO(r,r.tooltip.settings.shared),i=EI(r,NI(n));"axis"===a&&(null!=(null===i||void 0===i?void 0:i.activeIndex)?t.dispatch(uw({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate})):t.dispatch(lw()))}});var DI=yb({name:"cartesianAxis",initialState:{xAxis:{},yAxis:{},zAxis:{}},reducers:{addXAxis(e,t){e.xAxis[t.payload.id]=t.payload},removeXAxis(e,t){delete e.xAxis[t.payload.id]},addYAxis(e,t){e.yAxis[t.payload.id]=t.payload},removeYAxis(e,t){delete e.yAxis[t.payload.id]},addZAxis(e,t){e.zAxis[t.payload.id]=t.payload},removeZAxis(e,t){delete e.zAxis[t.payload.id]},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload;e.yAxis[n]&&(e.yAxis[n]=II(II({},e.yAxis[n]),{},{width:r}))}}}),{addXAxis:MI,removeXAxis:RI,addYAxis:LI,removeYAxis:FI,addZAxis:zI,removeZAxis:UI,updateYAxisWidth:VI}=DI.actions,BI=DI.reducer,$I=yb({name:"graphicalItems",initialState:{countOfBars:0,cartesianItems:[],polarItems:[]},reducers:{addBar(e){e.countOfBars+=1},removeBar(e){e.countOfBars-=1},addCartesianGraphicalItem(e,t){e.cartesianItems.push(t.payload)},replaceCartesianGraphicalItem(e,t){var{prev:n,next:r}=t.payload,a=Jv(e).cartesianItems.indexOf(n);a>-1&&(e.cartesianItems[a]=r)},removeCartesianGraphicalItem(e,t){var n=Jv(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},addPolarGraphicalItem(e,t){e.polarItems.push(t.payload)},removePolarGraphicalItem(e,t){var n=Jv(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)}}}),{addBar:HI,removeBar:KI,addCartesianGraphicalItem:qI,replaceCartesianGraphicalItem:WI,removeCartesianGraphicalItem:GI,addPolarGraphicalItem:YI,removePolarGraphicalItem:QI}=$I.actions,XI=$I.reducer,JI=yb({name:"referenceElements",initialState:{dots:[],areas:[],lines:[]},reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=Jv(e).dots.findIndex(e=>e===t.payload);-1!==n&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=Jv(e).areas.findIndex(e=>e===t.payload);-1!==n&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=Jv(e).lines.findIndex(e=>e===t.payload);-1!==n&&e.lines.splice(n,1)}}}),{addDot:ZI,removeDot:eP,addArea:tP,removeArea:nP,addLine:rP,removeLine:aP}=JI.actions,iP=JI.reducer,oP={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},sP=yb({name:"brush",initialState:oP,reducers:{setBrushSettings:(e,t)=>null==t.payload?oP:t.payload}}),{setBrushSettings:lP}=sP.actions,cP=sP.reducer,uP=yb({name:"legend",initialState:{settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload(e,t){e.payload.push(t.payload)},removeLegendPayload(e,t){var n=Jv(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)}}}),{setLegendSize:dP,setLegendSettings:hP,addLegendPayload:fP,removeLegendPayload:pP}=uP.actions,mP=uP.reducer,gP={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},yP=yb({name:"rootProps",initialState:gP,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=null!==(n=t.payload.barGap)&&void 0!==n?n:gP.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),vP=yP.reducer,{updateOptions:bP}=yP.actions,xP=yb({name:"polarAxis",initialState:{radiusAxis:{},angleAxis:{}},reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:wP,removeRadiusAxis:kP,addAngleAxis:SP,removeAngleAxis:EP}=xP.actions,NP=xP.reducer,jP=yb({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:_P}=jP.actions,TP=jP.reducer,AP=rb("keyDown"),CP=rb("focus"),OP=Qb();OP.startListening({actionCreator:AP,effect:(e,t)=>{var n=t.getState();if(!1!==n.rootProps.accessibilityLayer){var{keyboardInteraction:r}=n.tooltip,a=e.payload;if("ArrowRight"===a||"ArrowLeft"===a||"Enter"===a){var i=Number(dO(r,TO(n))),o=XO(n);if("Enter"!==a){var s=i+("ArrowRight"===a?1:-1)*("left-to-right"===tO(n)?1:-1);if(!(null==o||s>=o.length||s<0)){var l=bI(n,"axis","hover",String(s));t.dispatch(fw({active:!0,activeIndex:s.toString(),activeDataKey:void 0,activeCoordinate:l}))}}else{var c=bI(n,"axis","hover",String(r.index));t.dispatch(fw({active:!r.active,activeIndex:r.index,activeDataKey:r.dataKey,activeCoordinate:c}))}}}}}),OP.startListening({actionCreator:CP,effect:(e,t)=>{var n=t.getState();if(!1!==n.rootProps.accessibilityLayer){var{keyboardInteraction:r}=n.tooltip;if(!r.active&&null==r.index){var a=bI(n,"axis","hover",String("0"));t.dispatch(fw({activeDataKey:void 0,active:!0,activeIndex:"0",activeCoordinate:a}))}}}});var IP=rb("externalEvent"),PP=Qb();PP.startListening({actionCreator:IP,effect:(e,t)=>{if(null!=e.payload.handler){var n=t.getState(),r={activeCoordinate:sI(n),activeDataKey:aI(n),activeIndex:nI(n),activeLabel:rI(n),activeTooltipIndex:nI(n),isTooltipActive:lI(n)};e.payload.handler(r,e.payload.reactEvent)}}});var DP=Pw([mO],e=>e.tooltipItemPayloads),MP=Pw([DP,pO,(e,t,n)=>t,(e,t,n)=>n],(e,t,n,r)=>{var a=e.find(e=>e.settings.dataKey===r);if(null!=a){var{positions:i}=a;if(null!=i)return t(i,n)}}),RP=rb("touchMove"),LP=Qb();LP.startListening({actionCreator:RP,effect:(e,t)=>{var n=e.payload,r=t.getState(),a=iO(r,r.tooltip.settings.shared);if("axis"===a){var i=EI(r,NI({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));null!=(null===i||void 0===i?void 0:i.activeIndex)&&t.dispatch(uw({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate}))}else if("item"===a){var o,s=n.touches[0],l=document.elementFromPoint(s.clientX,s.clientY);if(!l||!l.getAttribute)return;var c=l.getAttribute(Dk),u=null!==(o=l.getAttribute(Mk))&&void 0!==o?o:void 0,d=MP(t.getState(),c,u);t.dispatch(ow({activeDataKey:u,activeIndex:c,activeCoordinate:d}))}}});var FP=ov({brush:cP,cartesianAxis:BI,chartData:bw,graphicalItems:XI,layout:Nw,legend:mP,options:ex,polarAxis:NP,polarOptions:TP,referenceElements:iP,rootProps:vP,tooltip:pw});function zP(e){var{preloadedState:n,children:r,reduxStoreName:a}=e,i=$k(),o=(0,t.useRef)(null);if(i)return r;null==o.current&&(o.current=function(e){return ub({reducer:FP,preloadedState:e,middleware:e=>e({serializableCheck:!1}).concat([_I.middleware,AI.middleware,OP.middleware,PP.middleware,LP.middleware]),devTools:{serialize:{replacer:CI},name:"recharts-".concat(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Chart")}})}(n,a));var s=Rw;return t.createElement(hx,{context:s,store:o.current},r)}var UP=e=>{var{chartData:n}=e,r=Fw(),a=$k();return(0,t.useEffect)(()=>a?()=>{}:(r(gw(n)),()=>{r(gw(void 0))}),[n,r,a]),null};function VP(e){var{layout:n,width:r,height:a,margin:i}=e,o=Fw(),s=$k();return(0,t.useEffect)(()=>{s||(o(kw(n)),o(Sw({width:r,height:a})),o(ww(i)))},[o,s,n,r,a,i]),null}function BP(e){var n=Fw();return(0,t.useEffect)(()=>{n(bP(e))},[n,e]),null}var $P=n(2086),HP=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],KP=["points","pathLength"],qP={svg:["viewBox","children"],polygon:KP,polyline:KP},WP=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],GP=(e,n)=>{if(!e||"function"===typeof e||"boolean"===typeof e)return null;var r=e;if((0,t.isValidElement)(e)&&(r=e.props),"object"!==typeof r&&"function"!==typeof r)return null;var a={};return Object.keys(r).forEach(e=>{WP.includes(e)&&(a[e]=n||(t=>r[e](r,t)))}),a},YP=(e,t,n)=>{if(null===e||"object"!==typeof e&&"function"!==typeof e)return null;var r=null;return Object.keys(e).forEach(a=>{var i=e[a];WP.includes(a)&&"function"===typeof i&&(r||(r={}),r[a]=((e,t,n)=>r=>(e(t,n,r),null))(i,t,n))}),r},QP=e=>"string"===typeof e?e:e?e.displayName||e.name||"Component":"",XP=null,JP=null,ZP=e=>{if(e===XP&&Array.isArray(JP))return JP;var n=[];return t.Children.forEach(e,e=>{Wy(e)||((0,$P.isFragment)(e)?n=n.concat(ZP(e.props.children)):n.push(e))}),JP=n,XP=e,n};function eD(e,t){var n=[],r=[];return r=Array.isArray(t)?t.map(e=>QP(e)):[QP(t)],ZP(e).forEach(e=>{var t=Dy()(e,"type.displayName")||Dy()(e,"type.name");-1!==r.indexOf(t)&&n.push(e)}),n}var tD=e=>!e||"object"!==typeof e||!("clipDot"in e)||Boolean(e.clipDot),nD=(e,n,r)=>{if(!e||"function"===typeof e||"boolean"===typeof e)return null;var a=e;if((0,t.isValidElement)(e)&&(a=e.props),"object"!==typeof a&&"function"!==typeof a)return null;var i={};return Object.keys(a).forEach(e=>{var t;((e,t,n,r)=>{var a,i=null!==(a=r&&(null===qP||void 0===qP?void 0:qP[r]))&&void 0!==a?a:[];return t.startsWith("data-")||"function"!==typeof e&&(r&&i.includes(t)||HP.includes(t))||n&&WP.includes(t)})(null===(t=a)||void 0===t?void 0:t[e],e,n,r)&&(i[e]=a[e])}),i},rD=()=>Bw(e=>e.rootProps.accessibilityLayer),aD=["children","width","height","viewBox","className","style","title","desc"];function iD(){return iD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},iD.apply(null,arguments)}var oD=(0,t.forwardRef)((e,n)=>{var{children:r,width:a,height:i,viewBox:o,className:s,style:l,title:c,desc:u}=e,d=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,aD),h=o||{width:a,height:i,x:0,y:0},f=Cy("recharts-surface",s);return t.createElement("svg",iD({},nD(d,!0,"svg"),{className:f,width:a,height:i,style:l,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height),ref:n}),t.createElement("title",null,c),t.createElement("desc",null,u),r)}),sD=["children"];function lD(){return lD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lD.apply(null,arguments)}var cD={width:"100%",height:"100%"},uD=(0,t.forwardRef)((e,n)=>{var r=Yk(),a=Qk(),i=rD();if(!pT(r)||!pT(a))return null;var o,s,{children:l,otherAttributes:c,title:u,desc:d}=e;return o="number"===typeof c.tabIndex?c.tabIndex:i?0:void 0,s="string"===typeof c.role?c.role:i?"application":void 0,t.createElement(oD,lD({},c,{title:u,desc:d,role:s,tabIndex:o,width:r,height:a,style:cD,ref:n}),l)}),dD=e=>{var{children:n}=e,r=Bw(Kk);if(!r)return null;var{width:a,height:i,y:o,x:s}=r;return t.createElement(oD,{width:a,height:i,x:s,y:o},n)},hD=(0,t.forwardRef)((e,n)=>{var{children:r}=e,a=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,sD);return $k()?t.createElement(dD,null,r):t.createElement(uD,lD({ref:n},a),r)});var fD=new(n(8499)),pD="recharts.syncEvent.tooltip",mD="recharts.syncEvent.brush";function gD(e){return e.tooltip.syncInteraction}var yD=()=>{};function vD(){var e=Fw();(0,t.useEffect)(()=>{e(tx())},[e]),function(){var e=Bw(VT),n=Bw($T),r=Fw(),a=Bw(BT),i=Bw(XO),o=Zk(),s=qk(),l=Bw(e=>e.rootProps.className);(0,t.useEffect)(()=>{if(null==e)return yD;var t=(t,l,c)=>{if(n!==c&&e===t)if("index"!==a){if(null!=i){var u;if("function"===typeof a){var d={activeTooltipIndex:null==l.payload.index?void 0:Number(l.payload.index),isTooltipActive:l.payload.active,activeIndex:null==l.payload.index?void 0:Number(l.payload.index),activeLabel:l.payload.label,activeDataKey:l.payload.dataKey,activeCoordinate:l.payload.coordinate},h=a(i,d);u=i[h]}else"value"===a&&(u=i.find(e=>String(e.value)===l.payload.label));var{coordinate:f}=l.payload;if(null!=u&&!1!==l.payload.active&&null!=f&&null!=s){var{x:p,y:m}=f,g=Math.min(p,s.x+s.width),y=Math.min(m,s.y+s.height),v={x:"horizontal"===o?u.coordinate:g,y:"horizontal"===o?y:u.coordinate},b=hw({active:l.payload.active,coordinate:v,dataKey:l.payload.dataKey,index:String(u.index),label:l.payload.label});r(b)}else r(hw({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}))}}else r(l)};return fD.on(pD,t),()=>{fD.off(pD,t)}},[l,r,n,e,a,i,o,s])}(),function(){var e=Bw(VT),n=Bw($T),r=Fw();(0,t.useEffect)(()=>{if(null==e)return yD;var t=(t,a,i)=>{n!==i&&e===t&&r(yw(a))};return fD.on(mD,t),()=>{fD.off(mD,t)}},[r,n,e])}()}function bD(e,n,r,a,i,o){var s=Bw(t=>((e,t,n)=>{if(null!=t){var r=mO(e);return"axis"===t?"hover"===n?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:"hover"===n?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}})(t,e,n)),l=Bw($T),c=Bw(VT),u=Bw(BT),d=Bw(gD),h=null===d||void 0===d?void 0:d.active;(0,t.useEffect)(()=>{if(!h&&null!=c&&null!=l){var e=hw({active:o,coordinate:r,dataKey:s,index:i,label:"number"===typeof a?String(a):a});fD.emit(pD,c,e,l)}},[h,r,s,i,a,l,c,u,o])}var xD=(0,t.createContext)(null),wD=(0,t.createContext)(null);function kD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function SD(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kD(Object(n),!0).forEach(function(t){ED(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kD(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ED(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ND=(0,t.forwardRef)((e,n)=>{var{children:r,className:a,height:i,onClick:o,onContextMenu:s,onDoubleClick:l,onMouseDown:c,onMouseEnter:u,onMouseLeave:d,onMouseMove:h,onMouseUp:f,onTouchEnd:p,onTouchMove:m,onTouchStart:g,style:y,width:v}=e,b=Fw(),[x,w]=(0,t.useState)(null),[k,S]=(0,t.useState)(null);vD();var E=function(){var e=Fw(),[n,r]=(0,t.useState)(null),a=Bw(Ck);return(0,t.useEffect)(()=>{if(null!=n){var t=n.getBoundingClientRect().width/n.offsetWidth;fT(t)&&t!==a&&e(Ew(t))}},[n,e,a]),r}(),N=(0,t.useCallback)(e=>{E(e),"function"===typeof n&&n(e),w(e),S(e)},[E,n,w,S]),j=(0,t.useCallback)(e=>{b(jI(e)),b(IP({handler:o,reactEvent:e}))},[b,o]),_=(0,t.useCallback)(e=>{b(TI(e)),b(IP({handler:u,reactEvent:e}))},[b,u]),T=(0,t.useCallback)(e=>{b(lw()),b(IP({handler:d,reactEvent:e}))},[b,d]),A=(0,t.useCallback)(e=>{b(TI(e)),b(IP({handler:h,reactEvent:e}))},[b,h]),C=(0,t.useCallback)(()=>{b(CP())},[b]),O=(0,t.useCallback)(e=>{b(AP(e.key))},[b]),I=(0,t.useCallback)(e=>{b(IP({handler:s,reactEvent:e}))},[b,s]),P=(0,t.useCallback)(e=>{b(IP({handler:l,reactEvent:e}))},[b,l]),D=(0,t.useCallback)(e=>{b(IP({handler:c,reactEvent:e}))},[b,c]),M=(0,t.useCallback)(e=>{b(IP({handler:f,reactEvent:e}))},[b,f]),R=(0,t.useCallback)(e=>{b(IP({handler:g,reactEvent:e}))},[b,g]),L=(0,t.useCallback)(e=>{b(RP(e)),b(IP({handler:m,reactEvent:e}))},[b,m]),F=(0,t.useCallback)(e=>{b(IP({handler:p,reactEvent:e}))},[b,p]);return t.createElement(xD.Provider,{value:x},t.createElement(wD.Provider,{value:k},t.createElement("div",{className:Cy("recharts-wrapper",a),style:SD({position:"relative",cursor:"default",width:v,height:i},y),onClick:j,onContextMenu:I,onDoubleClick:P,onFocus:C,onKeyDown:O,onMouseDown:D,onMouseEnter:_,onMouseLeave:T,onMouseMove:A,onMouseUp:M,onTouchEnd:F,onTouchMove:L,onTouchStart:R,ref:N},r)))}),jD=Pw([zk],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),_D=Pw([jD,Tk,Ak],(e,t,n)=>{if(e&&null!=t&&null!=n)return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),TD=()=>Bw(_D),AD=(0,t.createContext)(void 0),CD=e=>{var{children:n}=e,[r]=(0,t.useState)("".concat(Vy("recharts"),"-clip")),a=TD();if(null==a)return null;var{x:i,y:o,width:s,height:l}=a;return t.createElement(AD.Provider,{value:r},t.createElement("defs",null,t.createElement("clipPath",{id:r},t.createElement("rect",{x:i,y:o,height:l,width:s}))),n)},OD=["children","className","width","height","style","compact","title","desc"];var ID=(0,t.forwardRef)((e,n)=>{var{children:r,className:a,width:i,height:o,style:s,compact:l,title:c,desc:u}=e,d=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,OD),h=nD(d,!1);return l?t.createElement(hD,{otherAttributes:h,title:c,desc:u},r):t.createElement(ND,{className:a,style:s,width:i,height:o,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},t.createElement(hD,{otherAttributes:h,title:c,desc:u,ref:n},t.createElement(CD,null,r)))});function PD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function DD(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function MD(e,t){var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?PD(Object(n),!0).forEach(function(t){DD(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PD(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e),r=t;return Object.keys(t).reduce((e,t)=>(void 0===e[t]&&void 0!==r[t]&&(e[t]=r[t]),e),n)}var RD=["width","height"];function LD(){return LD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},LD.apply(null,arguments)}var FD={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},zD=(0,t.forwardRef)(function(e,n){var r,a=MD(e.categoricalChartProps,FD),{width:i,height:o}=a,s=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(a,RD);if(!pT(i)||!pT(o))return null;var{chartName:l,defaultTooltipEventType:c,validateTooltipEventTypes:u,tooltipPayloadSearcher:d,categoricalChartProps:h}=e,f={chartName:l,defaultTooltipEventType:c,validateTooltipEventTypes:u,tooltipPayloadSearcher:d,eventEmitter:void 0};return t.createElement(zP,{preloadedState:{options:f},reduxStoreName:null!==(r=h.id)&&void 0!==r?r:l},t.createElement(UP,{chartData:h.data}),t.createElement(VP,{width:i,height:o,layout:a.layout,margin:a.margin}),t.createElement(BP,{accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className}),t.createElement(ID,LD({},s,{width:i,height:o,ref:n})))}),UD=["axis"],VD=(0,t.forwardRef)((e,n)=>t.createElement(zD,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:UD,tooltipPayloadSearcher:Jb,categoricalChartProps:e,ref:n})),BD=!("undefined"!==typeof window&&window.document&&Boolean(window.document.createElement)&&window.setTimeout);function $D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function HD(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$D(Object(n),!0).forEach(function(t){KD(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$D(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function KD(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var qD={widthCache:{},cacheCount:0},WD={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},GD="recharts_measurement_span";var YD=function(e){if(void 0===e||null===e||BD)return{width:0,height:0};var t=function(e){var t=HD({},e);return Object.keys(t).forEach(e=>{t[e]||delete t[e]}),t}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}),n=JSON.stringify({text:e,copyStyle:t});if(qD.widthCache[n])return qD.widthCache[n];try{var r=document.getElementById(GD);r||((r=document.createElement("span")).setAttribute("id",GD),r.setAttribute("aria-hidden","true"),document.body.appendChild(r));var a=HD(HD({},WD),t);Object.assign(r.style,a),r.textContent="".concat(e);var i=r.getBoundingClientRect(),o={width:i.width,height:i.height};return qD.widthCache[n]=o,++qD.cacheCount>2e3&&(qD.cacheCount=0,qD.widthCache={}),o}catch(s){return{width:0,height:0}}};function QD(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class XD{static create(e){return new XD(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:t,position:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(void 0!==e){if(n)switch(n){case"start":default:return this.scale(e);case"middle":var r=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+r;case"end":var a=this.bandwidth?this.bandwidth():0;return this.scale(e)+a}if(t){var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}return this.scale(e)}}isInRange(e){var t=this.range(),n=t[0],r=t[t.length-1];return n<=r?e>=n&&e<=r:e>=r&&e<=n}}QD(XD,"EPS",1e-4);function JD(e,t,n){if(t<1)return[];if(1===t&&void 0===n)return e;for(var r=[],a=0;a<e.length;a+=t){if(void 0!==n&&!0!==n(e[a]))return;r.push(e[a])}return r}function ZD(e,t,n){return function(e){var{width:t,height:n}=e,r=function(e){return(e%180+180)%180}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0),a=r*Math.PI/180,i=Math.atan(n/t),o=a>i&&a<Math.PI-i?n/Math.sin(a):t/Math.cos(a);return Math.abs(o)}({width:e.width+t.width,height:e.height+t.height},n)}function eM(e,t,n,r,a){if(e*t<e*r||e*t>e*a)return!1;var i=n();return e*(t-e*i/2-r)>=0&&e*(t+e*i/2-a)<=0}function tM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function nM(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tM(Object(n),!0).forEach(function(t){rM(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tM(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function rM(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function aM(e,t,n){var r,{tick:a,ticks:i,viewBox:o,minTickGap:s,orientation:l,interval:c,tickFormatter:u,unit:d,angle:h}=e;if(!i||!i.length||!a)return[];if(Fy(c)||BD)return null!==(r=function(e,t){return JD(e,t+1)}(i,Fy(c)?c:0))&&void 0!==r?r:[];var f=[],p="top"===l||"bottom"===l?"width":"height",m=d&&"width"===p?YD(d,{fontSize:t,letterSpacing:n}):{width:0,height:0},g=(e,r)=>{var a="function"===typeof u?u(e.value,r):e.value;return"width"===p?ZD(YD(a,{fontSize:t,letterSpacing:n}),m,h):YD(a,{fontSize:t,letterSpacing:n})[p]},y=i.length>=2?My(i[1].coordinate-i[0].coordinate):1,v=function(e,t,n){var r="width"===n,{x:a,y:i,width:o,height:s}=e;return 1===t?{start:r?a:i,end:r?a+o:i+s}:{start:r?a+o:i+s,end:r?a:i}}(o,y,p);return"equidistantPreserveStart"===c?function(e,t,n,r,a){for(var i,o=(r||[]).slice(),{start:s,end:l}=t,c=0,u=1,d=s,h=function(){var t=null===r||void 0===r?void 0:r[c];if(void 0===t)return{v:JD(r,u)};var i,o=c,h=()=>(void 0===i&&(i=n(t,o)),i),f=t.coordinate,p=0===c||eM(e,f,h,d,l);p||(c=0,d=s,u+=1),p&&(d=f+e*(h()/2+a),c+=u)};u<=o.length;)if(i=h())return i.v;return[]}(y,v,g,i,s):(f="preserveStart"===c||"preserveStartEnd"===c?function(e,t,n,r,a,i){var o=(r||[]).slice(),s=o.length,{start:l,end:c}=t;if(i){var u=r[s-1],d=n(u,s-1),h=e*(u.coordinate+e*d/2-c);o[s-1]=u=nM(nM({},u),{},{tickCoord:h>0?u.coordinate-h*e:u.coordinate}),eM(e,u.tickCoord,()=>d,l,c)&&(c=u.tickCoord-e*(d/2+a),o[s-1]=nM(nM({},u),{},{isShow:!0}))}for(var f=i?s-1:s,p=function(t){var r,i=o[t],s=()=>(void 0===r&&(r=n(i,t)),r);if(0===t){var u=e*(i.coordinate-e*s()/2-l);o[t]=i=nM(nM({},i),{},{tickCoord:u<0?i.coordinate-u*e:i.coordinate})}else o[t]=i=nM(nM({},i),{},{tickCoord:i.coordinate});eM(e,i.tickCoord,s,l,c)&&(l=i.tickCoord+e*(s()/2+a),o[t]=nM(nM({},i),{},{isShow:!0}))},m=0;m<f;m++)p(m);return o}(y,v,g,i,s,"preserveStartEnd"===c):function(e,t,n,r,a){for(var i=(r||[]).slice(),o=i.length,{start:s}=t,{end:l}=t,c=function(t){var r,c=i[t],u=()=>(void 0===r&&(r=n(c,t)),r);if(t===o-1){var d=e*(c.coordinate+e*u()/2-l);i[t]=c=nM(nM({},c),{},{tickCoord:d>0?c.coordinate-d*e:c.coordinate})}else i[t]=c=nM(nM({},c),{},{tickCoord:c.coordinate});eM(e,c.tickCoord,u,s,l)&&(l=c.tickCoord-e*(u()/2+a),i[t]=nM(nM({},c),{},{isShow:!0}))},u=o-1;u>=0;u--)c(u);return i}(y,v,g,i,s),f.filter(e=>e.isShow))}function iM(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}var oM=["children","className"];function sM(){return sM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sM.apply(null,arguments)}var lM=t.forwardRef((e,n)=>{var{children:r,className:a}=e,i=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,oM),o=Cy("recharts-layer",a);return t.createElement("g",sM({className:o},nD(i,!0),{ref:n}),r)}),cM=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,uM=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,dM=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,hM=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,fM={cm:96/2.54,mm:96/25.4,pt:96/72,pc:16,in:96,Q:96/101.6,px:1},pM=Object.keys(fM),mM="NaN";class gM{static parse(e){var t,[,n,r]=null!==(t=hM.exec(e))&&void 0!==t?t:[];return new gM(parseFloat(n),null!==r&&void 0!==r?r:"")}constructor(e,t){this.num=e,this.unit=t,this.num=e,this.unit=t,Ry(e)&&(this.unit=""),""===t||dM.test(t)||(this.num=NaN,this.unit=""),pM.includes(t)&&(this.num=function(e,t){return e*fM[t]}(e,t),this.unit="px")}add(e){return this.unit!==e.unit?new gM(NaN,""):new gM(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new gM(NaN,""):new gM(this.num-e.num,this.unit)}multiply(e){return""!==this.unit&&""!==e.unit&&this.unit!==e.unit?new gM(NaN,""):new gM(this.num*e.num,this.unit||e.unit)}divide(e){return""!==this.unit&&""!==e.unit&&this.unit!==e.unit?new gM(NaN,""):new gM(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Ry(this.num)}}function yM(e){if(e.includes(mM))return mM;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,a,i]=null!==(n=cM.exec(t))&&void 0!==n?n:[],o=gM.parse(null!==r&&void 0!==r?r:""),s=gM.parse(null!==i&&void 0!==i?i:""),l="*"===a?o.multiply(s):o.divide(s);if(l.isNaN())return mM;t=t.replace(cM,l.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var c,[,u,d,h]=null!==(c=uM.exec(t))&&void 0!==c?c:[],f=gM.parse(null!==u&&void 0!==u?u:""),p=gM.parse(null!==h&&void 0!==h?h:""),m="+"===d?f.add(p):f.subtract(p);if(m.isNaN())return mM;t=t.replace(uM,m.toString())}return t}var vM=/\(([^()]*)\)/;function bM(e){var t=e.replace(/\s+/g,"");return t=function(e){for(var t,n=e;null!=(t=vM.exec(n));){var[,r]=t;n=n.replace(vM,yM(r))}return n}(t),t=yM(t)}function xM(e){var t=function(e){try{return bM(e)}catch(t){return mM}}(e.slice(5,-1));return t===mM?"":t}var wM=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],kM=["dx","dy","angle","className","breakAll"];function SM(){return SM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},SM.apply(null,arguments)}function EM(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var NM=/[ \f\n\r\t\v\u2028\u2029]+/,jM=e=>{var{children:t,breakAll:n,style:r}=e;try{var a=[];return Wy(t)||(a=n?t.toString().split(""):t.toString().split(NM)),{wordsWithComputedWidth:a.map(e=>({word:e,width:YD(e,r).width})),spaceWidth:n?0:YD("\xa0",r).width}}catch(i){return null}},_M=e=>[{words:Wy(e)?[]:e.toString().split(NM)}],TM=e=>{var{width:t,scaleToFit:n,children:r,style:a,breakAll:i,maxLines:o}=e;if((t||n)&&!BD){var s=jM({breakAll:i,children:r,style:a});if(!s)return _M(r);var{wordsWithComputedWidth:l,spaceWidth:c}=s;return((e,t,n,r,a)=>{var{maxLines:i,children:o,style:s,breakAll:l}=e,c=Fy(i),u=o,d=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce((e,t)=>{var{word:i,width:o}=t,s=e[e.length-1];if(s&&(null==r||a||s.width+o+n<Number(r)))s.words.push(i),s.width+=o+n;else{var l={words:[i],width:o};e.push(l)}return e},[])},h=d(t),f=e=>e.reduce((e,t)=>e.width>t.width?e:t);if(!c||a)return h;if(!(h.length>i||f(h).width>Number(r)))return h;for(var p,m=e=>{var t=u.slice(0,e),n=jM({breakAll:l,style:s,children:t+"\u2026"}).wordsWithComputedWidth,a=d(n);return[a.length>i||f(a).width>Number(r),a]},g=0,y=u.length-1,v=0;g<=y&&v<=u.length-1;){var b=Math.floor((g+y)/2),x=b-1,[w,k]=m(x),[S]=m(b);if(w||S||(g=b+1),w&&S&&(y=b-1),!w&&S){p=k;break}v++}return p||h})({breakAll:i,children:r,maxLines:o,style:a},l,c,t,n)}return _M(r)},AM="#808080",CM=(0,t.forwardRef)((e,n)=>{var{x:r=0,y:a=0,lineHeight:i="1em",capHeight:o="0.71em",scaleToFit:s=!1,textAnchor:l="start",verticalAnchor:c="end",fill:u=AM}=e,d=EM(e,wM),h=(0,t.useMemo)(()=>TM({breakAll:d.breakAll,children:d.children,maxLines:d.maxLines,scaleToFit:s,style:d.style,width:d.width}),[d.breakAll,d.children,d.maxLines,s,d.style,d.width]),{dx:f,dy:p,angle:m,className:g,breakAll:y}=d,v=EM(d,kM);if(!zy(r)||!zy(a))return null;var b,x=r+(Fy(f)?f:0),w=a+(Fy(p)?p:0);switch(c){case"start":b=xM("calc(".concat(o,")"));break;case"middle":b=xM("calc(".concat((h.length-1)/2," * -").concat(i," + (").concat(o," / 2))"));break;default:b=xM("calc(".concat(h.length-1," * -").concat(i,")"))}var k=[];if(s){var S=h[0].width,{width:E}=d;k.push("scale(".concat(Fy(E)?E/S:1,")"))}return m&&k.push("rotate(".concat(m,", ").concat(x,", ").concat(w,")")),k.length&&(v.transform=k.join(" ")),t.createElement("text",SM({},nD(v,!0),{ref:n,x:x,y:w,className:Cy("recharts-text",g),textAnchor:l,fill:u.includes("url")?AM:u}),h.map((e,n)=>{var r=e.words.join(y?"":" ");return t.createElement("tspan",{x:x,dy:0===n?b:i,key:"".concat(r,"-").concat(n)},r)}))});CM.displayName="Text";var OM=["offset"],IM=["labelRef"];function PM(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function DM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function MM(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?DM(Object(n),!0).forEach(function(t){RM(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DM(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function RM(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function LM(){return LM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},LM.apply(null,arguments)}var FM=e=>null!=e&&"function"===typeof e,zM=(e,n,r)=>{var a,i,{position:o,viewBox:s,offset:l,className:c}=e,{cx:u,cy:d,innerRadius:h,outerRadius:f,startAngle:p,endAngle:m,clockWise:g}=s,y=(h+f)/2,v=((e,t)=>My(t-e)*Math.min(Math.abs(t-e),360))(p,m),b=v>=0?1:-1;"insideStart"===o?(a=p+b*l,i=g):"insideEnd"===o?(a=m-b*l,i=!g):"end"===o&&(a=m+b*l,i=g),i=v<=0?i:!i;var x=ak(u,d,y,a),w=ak(u,d,y,a+359*(i?1:-1)),k="M".concat(x.x,",").concat(x.y,"\n    A").concat(y,",").concat(y,",0,1,").concat(i?0:1,",\n    ").concat(w.x,",").concat(w.y),S=Wy(e.id)?Vy("recharts-radial-line-"):e.id;return t.createElement("text",LM({},r,{dominantBaseline:"central",className:Cy("recharts-radial-bar-label",c)}),t.createElement("defs",null,t.createElement("path",{id:S,d:k})),t.createElement("textPath",{xlinkHref:"#".concat(S)},n))};function UM(e){var n,{offset:r=5}=e,a=MM({offset:r},PM(e,OM)),{viewBox:i,position:o,value:s,children:l,content:c,className:u="",textBreakAll:d,labelRef:h}=a,f=qk(),p=i||f;if(!p||Wy(s)&&Wy(l)&&!(0,t.isValidElement)(c)&&"function"!==typeof c)return null;if((0,t.isValidElement)(c)){var{labelRef:m}=a,g=PM(a,IM);return(0,t.cloneElement)(c,g)}if("function"===typeof c){if(n=(0,t.createElement)(c,a),(0,t.isValidElement)(n))return n}else n=(e=>{var{value:t,formatter:n}=e,r=Wy(e.children)?t:e.children;return"function"===typeof n?n(r):r})(a);var y=(e=>"cx"in e&&Fy(e.cx))(p),v=nD(a,!0);if(y&&("insideStart"===o||"insideEnd"===o||"end"===o))return zM(a,n,v);var b=y?(e=>{var{viewBox:t,offset:n,position:r}=e,{cx:a,cy:i,innerRadius:o,outerRadius:s,startAngle:l,endAngle:c}=t,u=(l+c)/2;if("outside"===r){var{x:d,y:h}=ak(a,i,s+n,u);return{x:d,y:h,textAnchor:d>=a?"start":"end",verticalAnchor:"middle"}}if("center"===r)return{x:a,y:i,textAnchor:"middle",verticalAnchor:"middle"};if("centerTop"===r)return{x:a,y:i,textAnchor:"middle",verticalAnchor:"start"};if("centerBottom"===r)return{x:a,y:i,textAnchor:"middle",verticalAnchor:"end"};var f=(o+s)/2,{x:p,y:m}=ak(a,i,f,u);return{x:p,y:m,textAnchor:"middle",verticalAnchor:"middle"}})(a):((e,t)=>{var{parentViewBox:n,offset:r,position:a}=e,{x:i,y:o,width:s,height:l}=t,c=l>=0?1:-1,u=c*r,d=c>0?"end":"start",h=c>0?"start":"end",f=s>=0?1:-1,p=f*r,m=f>0?"end":"start",g=f>0?"start":"end";if("top"===a)return MM(MM({},{x:i+s/2,y:o-c*r,textAnchor:"middle",verticalAnchor:d}),n?{height:Math.max(o-n.y,0),width:s}:{});if("bottom"===a)return MM(MM({},{x:i+s/2,y:o+l+u,textAnchor:"middle",verticalAnchor:h}),n?{height:Math.max(n.y+n.height-(o+l),0),width:s}:{});if("left"===a){var y={x:i-p,y:o+l/2,textAnchor:m,verticalAnchor:"middle"};return MM(MM({},y),n?{width:Math.max(y.x-n.x,0),height:l}:{})}if("right"===a){var v={x:i+s+p,y:o+l/2,textAnchor:g,verticalAnchor:"middle"};return MM(MM({},v),n?{width:Math.max(n.x+n.width-v.x,0),height:l}:{})}var b=n?{width:s,height:l}:{};return"insideLeft"===a?MM({x:i+p,y:o+l/2,textAnchor:g,verticalAnchor:"middle"},b):"insideRight"===a?MM({x:i+s-p,y:o+l/2,textAnchor:m,verticalAnchor:"middle"},b):"insideTop"===a?MM({x:i+s/2,y:o+u,textAnchor:"middle",verticalAnchor:h},b):"insideBottom"===a?MM({x:i+s/2,y:o+l-u,textAnchor:"middle",verticalAnchor:d},b):"insideTopLeft"===a?MM({x:i+p,y:o+u,textAnchor:g,verticalAnchor:h},b):"insideTopRight"===a?MM({x:i+s-p,y:o+u,textAnchor:m,verticalAnchor:h},b):"insideBottomLeft"===a?MM({x:i+p,y:o+l-u,textAnchor:g,verticalAnchor:d},b):"insideBottomRight"===a?MM({x:i+s-p,y:o+l-u,textAnchor:m,verticalAnchor:d},b):a&&"object"===typeof a&&(Fy(a.x)||Ly(a.x))&&(Fy(a.y)||Ly(a.y))?MM({x:i+By(a.x,s),y:o+By(a.y,l),textAnchor:"end",verticalAnchor:"end"},b):MM({x:i+s/2,y:o+l/2,textAnchor:"middle",verticalAnchor:"middle"},b)})(a,p);return t.createElement(CM,LM({ref:h,className:Cy("recharts-label",u)},v,b,{breakAll:d}),n)}UM.displayName="Label";var VM=e=>{var{cx:t,cy:n,angle:r,startAngle:a,endAngle:i,r:o,radius:s,innerRadius:l,outerRadius:c,x:u,y:d,top:h,left:f,width:p,height:m,clockWise:g,labelViewBox:y}=e;if(y)return y;if(Fy(p)&&Fy(m)){if(Fy(u)&&Fy(d))return{x:u,y:d,width:p,height:m};if(Fy(h)&&Fy(f))return{x:h,y:f,width:p,height:m}}return Fy(u)&&Fy(d)?{x:u,y:d,width:0,height:0}:Fy(t)&&Fy(n)?{cx:t,cy:n,startAngle:a||r||0,endAngle:i||r||0,innerRadius:l||0,outerRadius:c||s||o||0,clockWise:g}:e.viewBox?e.viewBox:void 0};UM.parseViewBox=VM,UM.renderCallByParent=function(e,n){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.children&&r&&!e.label)return null;var{children:a,labelRef:i}=e,o=VM(e),s=eD(a,UM).map((e,r)=>(0,t.cloneElement)(e,{viewBox:n||o,key:"label-".concat(r)}));if(!r)return s;var l=((e,n,r)=>{if(!e)return null;var a={viewBox:n,labelRef:r};return!0===e?t.createElement(UM,LM({key:"label-implicit"},a)):zy(e)?t.createElement(UM,LM({key:"label-implicit",value:e},a)):(0,t.isValidElement)(e)?e.type===UM?(0,t.cloneElement)(e,MM({key:"label-implicit"},a)):t.createElement(UM,LM({key:"label-implicit",content:e},a)):FM(e)?t.createElement(UM,LM({key:"label-implicit",content:e},a)):e&&"object"===typeof e?t.createElement(UM,LM({},e,{key:"label-implicit"},a)):null})(e.label,n||o,i);return[l,...s]};var BM=["viewBox"],$M=["viewBox"];function HM(){return HM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},HM.apply(null,arguments)}function KM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function qM(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?KM(Object(n),!0).forEach(function(t){GM(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KM(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function WM(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function GM(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class YM extends t.Component{constructor(e){super(e),this.tickRefs=t.createRef(),this.tickRefs.current=[],this.state={fontSize:"",letterSpacing:""}}shouldComponentUpdate(e,t){var{viewBox:n}=e,r=WM(e,BM),a=this.props,{viewBox:i}=a,o=WM(a,$M);return!iM(n,i)||!iM(r,o)||!iM(t,this.state)}getTickLineCoord(e){var t,n,r,a,i,o,{x:s,y:l,width:c,height:u,orientation:d,tickSize:h,mirror:f,tickMargin:p}=this.props,m=f?-1:1,g=e.tickSize||h,y=Fy(e.tickCoord)?e.tickCoord:e.coordinate;switch(d){case"top":t=n=e.coordinate,o=(r=(a=l+ +!f*u)-m*g)-m*p,i=y;break;case"left":r=a=e.coordinate,i=(t=(n=s+ +!f*c)-m*g)-m*p,o=y;break;case"right":r=a=e.coordinate,i=(t=(n=s+ +f*c)+m*g)+m*p,o=y;break;default:t=n=e.coordinate,o=(r=(a=l+ +f*u)+m*g)+m*p,i=y}return{line:{x1:t,y1:r,x2:n,y2:a},tick:{x:i,y:o}}}getTickTextAnchor(){var e,{orientation:t,mirror:n}=this.props;switch(t){case"left":e=n?"start":"end";break;case"right":e=n?"end":"start";break;default:e="middle"}return e}getTickVerticalAnchor(){var{orientation:e,mirror:t}=this.props;switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}renderAxisLine(){var{x:e,y:n,width:r,height:a,orientation:i,mirror:o,axisLine:s}=this.props,l=qM(qM(qM({},nD(this.props,!1)),nD(s,!1)),{},{fill:"none"});if("top"===i||"bottom"===i){var c=+("top"===i&&!o||"bottom"===i&&o);l=qM(qM({},l),{},{x1:e,y1:n+c*a,x2:e+r,y2:n+c*a})}else{var u=+("left"===i&&!o||"right"===i&&o);l=qM(qM({},l),{},{x1:e+u*r,y1:n,x2:e+u*r,y2:n+a})}return t.createElement("line",HM({},l,{className:Cy("recharts-cartesian-axis-line",Dy()(s,"className"))}))}static renderTickItem(e,n,r){var a,i=Cy(n.className,"recharts-cartesian-axis-tick-value");if(t.isValidElement(e))a=t.cloneElement(e,qM(qM({},n),{},{className:i}));else if("function"===typeof e)a=e(qM(qM({},n),{},{className:i}));else{var o="recharts-cartesian-axis-tick-value";"boolean"!==typeof e&&(o=Cy(o,e.className)),a=t.createElement(CM,HM({},n,{className:o}),r)}return a}renderTicks(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],{tickLine:a,stroke:i,tick:o,tickFormatter:s,unit:l}=this.props,c=aM(qM(qM({},this.props),{},{ticks:r}),e,n),u=this.getTickTextAnchor(),d=this.getTickVerticalAnchor(),h=nD(this.props,!1),f=nD(o,!1),p=qM(qM({},h),{},{fill:"none"},nD(a,!1)),m=c.map((e,n)=>{var{line:r,tick:m}=this.getTickLineCoord(e),g=qM(qM(qM(qM({textAnchor:u,verticalAnchor:d},h),{},{stroke:"none",fill:i},f),m),{},{index:n,payload:e,visibleTicksCount:c.length,tickFormatter:s});return t.createElement(lM,HM({className:"recharts-cartesian-axis-tick",key:"tick-".concat(e.value,"-").concat(e.coordinate,"-").concat(e.tickCoord)},YP(this.props,e,n)),a&&t.createElement("line",HM({},p,r,{className:Cy("recharts-cartesian-axis-tick-line",Dy()(a,"className"))})),o&&YM.renderTickItem(o,g,"".concat("function"===typeof s?s(e.value,n):e.value).concat(l||"")))});return m.length>0?t.createElement("g",{className:"recharts-cartesian-axis-ticks"},m):null}render(){var{axisLine:e,width:n,height:r,className:a,hide:i}=this.props;if(i)return null;var{ticks:o}=this.props;return null!=n&&n<=0||null!=r&&r<=0?null:t.createElement(lM,{className:Cy("recharts-cartesian-axis",a),ref:e=>{if(e){var t=e.getElementsByClassName("recharts-cartesian-axis-tick-value");this.tickRefs.current=Array.from(t);var n=t[0];if(n){var r=window.getComputedStyle(n).fontSize,a=window.getComputedStyle(n).letterSpacing;r===this.state.fontSize&&a===this.state.letterSpacing||this.setState({fontSize:window.getComputedStyle(n).fontSize,letterSpacing:window.getComputedStyle(n).letterSpacing})}}}},e&&this.renderAxisLine(),this.renderTicks(this.state.fontSize,this.state.letterSpacing,o),UM.renderCallByParent(this.props))}}GM(YM,"displayName","CartesianAxis"),GM(YM,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var QM=["x1","y1","x2","y2","key"],XM=["offset"],JM=["xAxisId","yAxisId"],ZM=["xAxisId","yAxisId"];function eR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function tR(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eR(Object(n),!0).forEach(function(t){nR(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eR(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function nR(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rR(){return rR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rR.apply(null,arguments)}function aR(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var iR=e=>{var{fill:n}=e;if(!n||"none"===n)return null;var{fillOpacity:r,x:a,y:i,width:o,height:s,ry:l}=e;return t.createElement("rect",{x:a,y:i,ry:l,width:o,height:s,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function oR(e,n){var r;if(t.isValidElement(e))r=t.cloneElement(e,n);else if("function"===typeof e)r=e(n);else{var{x1:a,y1:i,x2:o,y2:s,key:l}=n,c=aR(n,QM),u=nD(c,!1),{offset:d}=u,h=aR(u,XM);r=t.createElement("line",rR({},h,{x1:a,y1:i,x2:o,y2:s,fill:"none",key:l}))}return r}function sR(e){var{x:n,width:r,horizontal:a=!0,horizontalPoints:i}=e;if(!a||!i||!i.length)return null;var{xAxisId:o,yAxisId:s}=e,l=aR(e,JM),c=i.map((e,t)=>{var i=tR(tR({},l),{},{x1:n,y1:e,x2:n+r,y2:e,key:"line-".concat(t),index:t});return oR(a,i)});return t.createElement("g",{className:"recharts-cartesian-grid-horizontal"},c)}function lR(e){var{y:n,height:r,vertical:a=!0,verticalPoints:i}=e;if(!a||!i||!i.length)return null;var{xAxisId:o,yAxisId:s}=e,l=aR(e,ZM),c=i.map((e,t)=>{var i=tR(tR({},l),{},{x1:e,y1:n,x2:e,y2:n+r,key:"line-".concat(t),index:t});return oR(a,i)});return t.createElement("g",{className:"recharts-cartesian-grid-vertical"},c)}function cR(e){var{horizontalFill:n,fillOpacity:r,x:a,y:i,width:o,height:s,horizontalPoints:l,horizontal:c=!0}=e;if(!c||!n||!n.length)return null;var u=l.map(e=>Math.round(e+i-i)).sort((e,t)=>e-t);i!==u[0]&&u.unshift(0);var d=u.map((e,l)=>{var c=!u[l+1]?i+s-e:u[l+1]-e;if(c<=0)return null;var d=l%n.length;return t.createElement("rect",{key:"react-".concat(l),y:e,x:a,height:c,width:o,stroke:"none",fill:n[d],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return t.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function uR(e){var{vertical:n=!0,verticalFill:r,fillOpacity:a,x:i,y:o,width:s,height:l,verticalPoints:c}=e;if(!n||!r||!r.length)return null;var u=c.map(e=>Math.round(e+i-i)).sort((e,t)=>e-t);i!==u[0]&&u.unshift(0);var d=u.map((e,n)=>{var c=!u[n+1]?i+s-e:u[n+1]-e;if(c<=0)return null;var d=n%r.length;return t.createElement("rect",{key:"react-".concat(n),x:e,y:o,width:c,height:l,stroke:"none",fill:r[d],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return t.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var dR=(e,t)=>{var{xAxis:n,width:r,height:a,offset:i}=e;return pk(aM(tR(tR(tR({},YM.defaultProps),n),{},{ticks:mk(n,!0),viewBox:{x:0,y:0,width:r,height:a}})),i.left,i.left+i.width,t)},hR=(e,t)=>{var{yAxis:n,width:r,height:a,offset:i}=e;return pk(aM(tR(tR(tR({},YM.defaultProps),n),{},{ticks:mk(n,!0),viewBox:{x:0,y:0,width:r,height:a}})),i.top,i.top+i.height,t)},fR={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function pR(e){var n=Yk(),r=Qk(),a=Gk(),i=tR(tR({},MD(e,fR)),{},{x:Fy(e.x)?e.x:a.left,y:Fy(e.y)?e.y:a.top,width:Fy(e.width)?e.width:a.width,height:Fy(e.height)?e.height:a.height}),{xAxisId:o,yAxisId:s,x:l,y:c,width:u,height:d,syncWithTicks:h,horizontalValues:f,verticalValues:p}=i,m=$k(),g=Bw(e=>QC(e,"xAxis",o,m)),y=Bw(e=>QC(e,"yAxis",s,m));if(!Fy(u)||u<=0||!Fy(d)||d<=0||!Fy(l)||l!==+l||!Fy(c)||c!==+c)return null;var v=i.verticalCoordinatesGenerator||dR,b=i.horizontalCoordinatesGenerator||hR,{horizontalPoints:x,verticalPoints:w}=i;if((!x||!x.length)&&"function"===typeof b){var k=f&&f.length,S=b({yAxis:y?tR(tR({},y),{},{ticks:k?f:y.ticks}):void 0,width:n,height:r,offset:a},!!k||h);Yy(Array.isArray(S),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof S,"]")),Array.isArray(S)&&(x=S)}if((!w||!w.length)&&"function"===typeof v){var E=p&&p.length,N=v({xAxis:g?tR(tR({},g),{},{ticks:E?p:g.ticks}):void 0,width:n,height:r,offset:a},!!E||h);Yy(Array.isArray(N),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof N,"]")),Array.isArray(N)&&(w=N)}return t.createElement("g",{className:"recharts-cartesian-grid"},t.createElement(iR,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),t.createElement(cR,rR({},i,{horizontalPoints:x})),t.createElement(uR,rR({},i,{verticalPoints:w})),t.createElement(sR,rR({},i,{offset:a,horizontalPoints:x,xAxis:g,yAxis:y})),t.createElement(lR,rR({},i,{offset:a,verticalPoints:w,xAxis:g,yAxis:y})))}pR.displayName="CartesianGrid";var mR=["children"],gR=["dangerouslySetInnerHTML","ticks"];function yR(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vR(){return vR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vR.apply(null,arguments)}function bR(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function xR(e){var n=Fw(),r=(0,t.useMemo)(()=>{var{children:t}=e;return bR(e,mR)},[e]),a=Bw(e=>xA(e,r.id)),i=r===a;return(0,t.useEffect)(()=>(n(MI(r)),()=>{n(RI(r))}),[r,n]),i?e.children:null}var wR=e=>{var{xAxisId:n,className:r}=e,a=Bw(Vk),i=$k(),o="xAxis",s=Bw(e=>DC(e,o,n,i)),l=Bw(e=>XC(e,o,n,i)),c=Bw(e=>VC(e,n)),u=Bw(e=>((e,t)=>{var n=zk(e),r=xA(e,t);if(null!=r){var a=BC(e,r.orientation,r.mirror)[t];return null==a?{x:n.left,y:0}:{x:n.left,y:a}}})(e,n));if(null==c||null==u)return null;var{dangerouslySetInnerHTML:d,ticks:h}=e,f=bR(e,gR);return t.createElement(YM,vR({},f,{scale:s,x:u.x,y:u.y,width:c.width,height:c.height,className:Cy("recharts-".concat(o," ").concat(o),r),viewBox:a,ticks:l}))},kR=e=>{var n,r,a,i,o;return t.createElement(xR,{interval:null!==(n=e.interval)&&void 0!==n?n:"preserveEnd",id:e.xAxisId,scale:e.scale,type:e.type,padding:e.padding,allowDataOverflow:e.allowDataOverflow,domain:e.domain,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,includeHidden:null!==(r=e.includeHidden)&&void 0!==r&&r,reversed:e.reversed,ticks:e.ticks,height:e.height,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:null!==(a=e.angle)&&void 0!==a?a:0,minTickGap:null!==(i=e.minTickGap)&&void 0!==i?i:5,tick:null===(o=e.tick)||void 0===o||o,tickFormatter:e.tickFormatter},t.createElement(wR,e))};class SR extends t.Component{render(){return t.createElement(kR,this.props)}}yR(SR,"displayName","XAxis"),yR(SR,"defaultProps",{allowDataOverflow:bA.allowDataOverflow,allowDecimals:bA.allowDecimals,allowDuplicatedCategory:bA.allowDuplicatedCategory,height:bA.height,hide:!1,mirror:bA.mirror,orientation:bA.orientation,padding:bA.padding,reversed:bA.reversed,scale:bA.scale,tickCount:bA.tickCount,type:bA.type,xAxisId:0});var ER=["dangerouslySetInnerHTML","ticks"];function NR(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jR(){return jR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jR.apply(null,arguments)}function _R(e){var n=Fw();return(0,t.useEffect)(()=>(n(LI(e)),()=>{n(FI(e))}),[e,n]),null}var TR=e=>{var n,{yAxisId:r,className:a,width:i,label:o}=e,s=(0,t.useRef)(null),l=(0,t.useRef)(null),c=Bw(Vk),u=$k(),d=Fw(),h="yAxis",f=Bw(e=>DC(e,h,r,u)),p=Bw(e=>HC(e,r)),m=Bw(e=>((e,t)=>{var n=zk(e),r=kA(e,t);if(null!=r){var a=$C(e,r.orientation,r.mirror)[t];return null==a?{x:0,y:n.top}:{x:a,y:n.top}}})(e,r)),g=Bw(e=>XC(e,h,r,u));if((0,t.useLayoutEffect)(()=>{var e;if("auto"===i&&p&&!FM(o)&&!(0,t.isValidElement)(o)){var n=s.current,a=null===n||void 0===n||null===(e=n.tickRefs)||void 0===e?void 0:e.current,{tickSize:c,tickMargin:u}=n.props,h=(e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:a=0,tickMargin:i=0}=e,o=0;if(t){t.forEach(e=>{if(e){var t=e.getBoundingClientRect();t.width>o&&(o=t.width)}});var s=n?n.getBoundingClientRect().width:0,l=o+(a+i)+s+(n?r:0);return Math.round(l)}return 0})({ticks:a,label:l.current,labelGapWithTick:5,tickSize:c,tickMargin:u});Math.round(p.width)!==Math.round(h)&&d(VI({id:r,width:h}))}},[s,null===s||void 0===s||null===(n=s.current)||void 0===n||null===(n=n.tickRefs)||void 0===n?void 0:n.current,null===p||void 0===p?void 0:p.width,p,d,o,r,i]),null==p||null==m)return null;var{dangerouslySetInnerHTML:y,ticks:v}=e,b=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,ER);return t.createElement(YM,jR({},b,{ref:s,labelRef:l,scale:f,x:m.x,y:m.y,width:p.width,height:p.height,className:Cy("recharts-".concat(h," ").concat(h),a),viewBox:c,ticks:g}))},AR=e=>{var n,r,a,i,o;return t.createElement(t.Fragment,null,t.createElement(_R,{interval:null!==(n=e.interval)&&void 0!==n?n:"preserveEnd",id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:null!==(r=e.includeHidden)&&void 0!==r&&r,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:null!==(a=e.angle)&&void 0!==a?a:0,minTickGap:null!==(i=e.minTickGap)&&void 0!==i?i:5,tick:null===(o=e.tick)||void 0===o||o,tickFormatter:e.tickFormatter}),t.createElement(TR,e))},CR={allowDataOverflow:wA.allowDataOverflow,allowDecimals:wA.allowDecimals,allowDuplicatedCategory:wA.allowDuplicatedCategory,hide:!1,mirror:wA.mirror,orientation:wA.orientation,padding:wA.padding,reversed:wA.reversed,scale:wA.scale,tickCount:wA.tickCount,type:wA.type,width:wA.width,yAxisId:0};class OR extends t.Component{render(){return t.createElement(AR,this.props)}}NR(OR,"displayName","YAxis"),NR(OR,"defaultProps",CR);var IR=n(7950);function PR(){return PR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},PR.apply(null,arguments)}function DR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function MR(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?DR(Object(n),!0).forEach(function(t){RR(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DR(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function RR(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function LR(e){return Array.isArray(e)&&zy(e[0])&&zy(e[1])?e.join(" ~ "):e}var FR=e=>{var{separator:n=" : ",contentStyle:r={},itemStyle:a={},labelStyle:i={},payload:o,formatter:s,itemSorter:l,wrapperClassName:c,labelClassName:u,label:d,labelFormatter:h,accessibilityLayer:f=!1}=e,p=MR({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),m=MR({margin:0},i),g=!Wy(d),y=g?d:"",v=Cy("recharts-default-tooltip",c),b=Cy("recharts-tooltip-label",u);g&&h&&void 0!==o&&null!==o&&(y=h(d,o));var x=f?{role:"status","aria-live":"assertive"}:{};return t.createElement("div",PR({className:v,style:p},x),t.createElement("p",{className:b,style:m},t.isValidElement(y)?y:"".concat(y)),(()=>{if(o&&o.length){var e=(l?Hw()(o,l):o).map((e,r)=>{if("none"===e.type)return null;var i=e.formatter||s||LR,{value:l,name:c}=e,u=l,d=c;if(i){var h=i(l,c,e,r,o);if(Array.isArray(h))[u,d]=h;else{if(null==h)return null;u=h}}var f=MR({display:"block",paddingTop:4,paddingBottom:4,color:e.color||"#000"},a);return t.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(r),style:f},zy(d)?t.createElement("span",{className:"recharts-tooltip-item-name"},d):null,zy(d)?t.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,t.createElement("span",{className:"recharts-tooltip-item-value"},u),t.createElement("span",{className:"recharts-tooltip-item-unit"},e.unit||""))});return t.createElement("ul",{className:"recharts-tooltip-item-list",style:{padding:0,margin:0}},e)}return null})())},zR="recharts-tooltip-wrapper",UR={visibility:"hidden"};function VR(e){var{coordinate:t,translateX:n,translateY:r}=e;return Cy(zR,{["".concat(zR,"-right")]:Fy(n)&&t&&Fy(t.x)&&n>=t.x,["".concat(zR,"-left")]:Fy(n)&&t&&Fy(t.x)&&n<t.x,["".concat(zR,"-bottom")]:Fy(r)&&t&&Fy(t.y)&&r>=t.y,["".concat(zR,"-top")]:Fy(r)&&t&&Fy(t.y)&&r<t.y})}function BR(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offsetTopLeft:a,position:i,reverseDirection:o,tooltipDimension:s,viewBox:l,viewBoxDimension:c}=e;if(i&&Fy(i[r]))return i[r];var u=n[r]-s-(a>0?a:0),d=n[r]+a;if(t[r])return o[r]?u:d;var h=l[r];return null==h?0:o[r]?u<h?Math.max(d,h):Math.max(u,h):null==c?0:d+s>h+c?Math.max(u,h):Math.max(d,h)}function $R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function HR(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$R(Object(n),!0).forEach(function(t){KR(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$R(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function KR(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class qR extends t.PureComponent{constructor(){super(...arguments),KR(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),KR(this,"handleKeyDown",e=>{var t,n,r,a;"Escape"===e.key&&this.setState({dismissed:!0,dismissedAtCoordinate:{x:null!==(t=null===(n=this.props.coordinate)||void 0===n?void 0:n.x)&&void 0!==t?t:0,y:null!==(r=null===(a=this.props.coordinate)||void 0===a?void 0:a.y)&&void 0!==r?r:0}})})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,t;this.state.dismissed&&((null===(e=this.props.coordinate)||void 0===e?void 0:e.x)===this.state.dismissedAtCoordinate.x&&(null===(t=this.props.coordinate)||void 0===t?void 0:t.y)===this.state.dismissedAtCoordinate.y||(this.state.dismissed=!1))}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:a,children:i,coordinate:o,hasPayload:s,isAnimationActive:l,offset:c,position:u,reverseDirection:d,useTranslate3d:h,viewBox:f,wrapperStyle:p,lastBoundingBox:m,innerRef:g,hasPortalFromProps:y}=this.props,{cssClasses:v,cssProperties:b}=function(e){var t,n,r,{allowEscapeViewBox:a,coordinate:i,offsetTopLeft:o,position:s,reverseDirection:l,tooltipBox:c,useTranslate3d:u,viewBox:d}=e;return t=c.height>0&&c.width>0&&i?function(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}({translateX:n=BR({allowEscapeViewBox:a,coordinate:i,key:"x",offsetTopLeft:o,position:s,reverseDirection:l,tooltipDimension:c.width,viewBox:d,viewBoxDimension:d.width}),translateY:r=BR({allowEscapeViewBox:a,coordinate:i,key:"y",offsetTopLeft:o,position:s,reverseDirection:l,tooltipDimension:c.height,viewBox:d,viewBoxDimension:d.height}),useTranslate3d:u}):UR,{cssProperties:t,cssClasses:VR({translateX:n,translateY:r,coordinate:i})}}({allowEscapeViewBox:n,coordinate:o,offsetTopLeft:c,position:u,reverseDirection:d,tooltipBox:{height:m.height,width:m.width},useTranslate3d:h,viewBox:f}),x=y?{}:HR(HR({transition:l&&e?"transform ".concat(r,"ms ").concat(a):void 0},b),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&s?"visible":"hidden",position:"absolute",top:0,left:0}),w=HR(HR({},x),{},{visibility:!this.state.dismissed&&e&&s?"visible":"hidden"},p);return t.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:v,style:w,ref:g},i)}}var WR=n(4332),GR=n.n(WR);function YR(e,t,n){return!0===t?GR()(e,n):"function"===typeof t?GR()(e,t):e}function QR(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],[n,r]=(0,t.useState)({height:0,left:0,top:0,width:0}),a=(0,t.useCallback)(e=>{if(null!=e){var t=e.getBoundingClientRect(),a={height:t.height,left:t.left,top:t.top,width:t.width};(Math.abs(a.height-n.height)>1||Math.abs(a.left-n.left)>1||Math.abs(a.top-n.top)>1||Math.abs(a.width-n.width)>1)&&r({height:a.height,left:a.left,top:a.top,width:a.width})}},[n.width,n.height,n.top,n.left,...e]);return[n,a]}function XR(){}function JR(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function ZR(e){this._context=e}function eL(e){this._context=e}function tL(e){this._context=e}ZR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:JR(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:JR(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},eL.prototype={areaStart:XR,areaEnd:XR,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:JR(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},tL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:JR(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};class nL{constructor(e,t){this._context=e,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,t,e,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,e,this._y0,e,t)}this._x0=e,this._y0=t}}function rL(e){this._context=e}function aL(e){this._context=e}function iL(e){return new aL(e)}function oL(e){return e<0?-1:1}function sL(e,t,n){var r=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(r||a<0&&-0),o=(n-e._y1)/(a||r<0&&-0),s=(i*a+o*r)/(r+a);return(oL(i)+oL(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(s))||0}function lL(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function cL(e,t,n){var r=e._x0,a=e._y0,i=e._x1,o=e._y1,s=(i-r)/3;e._context.bezierCurveTo(r+s,a+s*t,i-s,o-s*n,i,o)}function uL(e){this._context=e}function dL(e){this._context=new hL(e)}function hL(e){this._context=e}function fL(e){this._context=e}function pL(e){var t,n,r=e.length-1,a=new Array(r),i=new Array(r),o=new Array(r);for(a[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,o[t]-=n*o[t-1];for(a[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(o[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function mL(e,t){this._context=e,this._t=t}rL.prototype={areaStart:XR,areaEnd:XR,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}},aL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}},uL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:cL(this,this._t0,lL(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,cL(this,lL(this,n=sL(this,e,t)),n);break;default:cL(this,this._t0,n=sL(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}},(dL.prototype=Object.create(uL.prototype)).point=function(e,t){uL.prototype.point.call(this,t,e)},hL.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,a,i){this._context.bezierCurveTo(t,e,r,n,i,a)}},fL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===n)this._context.lineTo(e[1],t[1]);else for(var r=pL(e),a=pL(t),i=0,o=1;o<n;++i,++o)this._context.bezierCurveTo(r[0][i],a[0][i],r[1][i],a[1][i],e[o],t[o]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}},mL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}}this._x=e,this._y=t}};const gL=Math.PI,yL=2*gL,vL=1e-6,bL=yL-vL;function xL(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}class wL{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==e?xL:function(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return xL;const n=10**t;return function(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=Math.round(arguments[t]*n)/n+e[t]}}(e)}moveTo(e,t){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,t){this._append`L${this._x1=+e},${this._y1=+t}`}quadraticCurveTo(e,t,n,r){this._append`Q${+e},${+t},${this._x1=+n},${this._y1=+r}`}bezierCurveTo(e,t,n,r,a,i){this._append`C${+e},${+t},${+n},${+r},${this._x1=+a},${this._y1=+i}`}arcTo(e,t,n,r,a){if(e=+e,t=+t,n=+n,r=+r,(a=+a)<0)throw new Error(`negative radius: ${a}`);let i=this._x1,o=this._y1,s=n-e,l=r-t,c=i-e,u=o-t,d=c*c+u*u;if(null===this._x1)this._append`M${this._x1=e},${this._y1=t}`;else if(d>vL)if(Math.abs(u*s-l*c)>vL&&a){let h=n-i,f=r-o,p=s*s+l*l,m=h*h+f*f,g=Math.sqrt(p),y=Math.sqrt(d),v=a*Math.tan((gL-Math.acos((p+d-m)/(2*g*y)))/2),b=v/y,x=v/g;Math.abs(b-1)>vL&&this._append`L${e+b*c},${t+b*u}`,this._append`A${a},${a},0,0,${+(u*h>c*f)},${this._x1=e+x*s},${this._y1=t+x*l}`}else this._append`L${this._x1=e},${this._y1=t}`;else;}arc(e,t,n,r,a,i){if(e=+e,t=+t,i=!!i,(n=+n)<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(r),s=n*Math.sin(r),l=e+o,c=t+s,u=1^i,d=i?r-a:a-r;null===this._x1?this._append`M${l},${c}`:(Math.abs(this._x1-l)>vL||Math.abs(this._y1-c)>vL)&&this._append`L${l},${c}`,n&&(d<0&&(d=d%yL+yL),d>bL?this._append`A${n},${n},0,1,${u},${e-o},${t-s}A${n},${n},0,1,${u},${this._x1=l},${this._y1=c}`:d>vL&&this._append`A${n},${n},0,${+(d>=gL)},${u},${this._x1=e+n*Math.cos(a)},${this._y1=t+n*Math.sin(a)}`)}rect(e,t,n,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}h${n=+n}v${+r}h${-n}Z`}toString(){return this._}}function kL(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(null==n)t=null;else{const e=Math.floor(n);if(!(e>=0))throw new RangeError(`invalid digits: ${n}`);t=e}return e},()=>new wL(t)}function SL(e){return e[0]}function EL(e){return e[1]}function NL(e,t){var n=Yw(!0),r=null,a=iL,i=null,o=kL(s);function s(s){var l,c,u,d=(s=Gw(s)).length,h=!1;for(null==r&&(i=a(u=o())),l=0;l<=d;++l)!(l<d&&n(c=s[l],l,s))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+e(c,l,s),+t(c,l,s));if(u)return i=null,u+""||null}return e="function"===typeof e?e:void 0===e?SL:Yw(e),t="function"===typeof t?t:void 0===t?EL:Yw(t),s.x=function(t){return arguments.length?(e="function"===typeof t?t:Yw(+t),s):e},s.y=function(e){return arguments.length?(t="function"===typeof e?e:Yw(+e),s):t},s.defined=function(e){return arguments.length?(n="function"===typeof e?e:Yw(!!e),s):n},s.curve=function(e){return arguments.length?(a=e,null!=r&&(i=a(r)),s):a},s.context=function(e){return arguments.length?(null==e?r=i=null:i=a(r=e),s):r},s}function jL(e,t,n){var r=null,a=Yw(!0),i=null,o=iL,s=null,l=kL(c);function c(c){var u,d,h,f,p,m=(c=Gw(c)).length,g=!1,y=new Array(m),v=new Array(m);for(null==i&&(s=o(p=l())),u=0;u<=m;++u){if(!(u<m&&a(f=c[u],u,c))===g)if(g=!g)d=u,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),h=u-1;h>=d;--h)s.point(y[h],v[h]);s.lineEnd(),s.areaEnd()}g&&(y[u]=+e(f,u,c),v[u]=+t(f,u,c),s.point(r?+r(f,u,c):y[u],n?+n(f,u,c):v[u]))}if(p)return s=null,p+""||null}function u(){return NL().defined(a).curve(o).context(i)}return e="function"===typeof e?e:void 0===e?SL:Yw(+e),t="function"===typeof t?t:Yw(void 0===t?0:+t),n="function"===typeof n?n:void 0===n?EL:Yw(+n),c.x=function(t){return arguments.length?(e="function"===typeof t?t:Yw(+t),r=null,c):e},c.x0=function(t){return arguments.length?(e="function"===typeof t?t:Yw(+t),c):e},c.x1=function(e){return arguments.length?(r=null==e?null:"function"===typeof e?e:Yw(+e),c):r},c.y=function(e){return arguments.length?(t="function"===typeof e?e:Yw(+e),n=null,c):t},c.y0=function(e){return arguments.length?(t="function"===typeof e?e:Yw(+e),c):t},c.y1=function(e){return arguments.length?(n=null==e?null:"function"===typeof e?e:Yw(+e),c):n},c.lineX0=c.lineY0=function(){return u().x(e).y(t)},c.lineY1=function(){return u().x(e).y(n)},c.lineX1=function(){return u().x(r).y(t)},c.defined=function(e){return arguments.length?(a="function"===typeof e?e:Yw(!!e),c):a},c.curve=function(e){return arguments.length?(o=e,null!=i&&(s=o(i)),c):o},c.context=function(e){return arguments.length?(null==e?i=s=null:s=o(i=e),c):i},c}function _L(){return _L=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_L.apply(null,arguments)}function TL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function AL(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?TL(Object(n),!0).forEach(function(t){CL(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TL(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function CL(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var OL={curveBasisClosed:function(e){return new eL(e)},curveBasisOpen:function(e){return new tL(e)},curveBasis:function(e){return new ZR(e)},curveBumpX:function(e){return new nL(e,!0)},curveBumpY:function(e){return new nL(e,!1)},curveLinearClosed:function(e){return new rL(e)},curveLinear:iL,curveMonotoneX:function(e){return new uL(e)},curveMonotoneY:function(e){return new dL(e)},curveNatural:function(e){return new fL(e)},curveStep:function(e){return new mL(e,.5)},curveStepAfter:function(e){return new mL(e,1)},curveStepBefore:function(e){return new mL(e,0)}},IL=e=>fT(e.x)&&fT(e.y),PL=e=>e.x,DL=e=>e.y,ML=e=>{var t,{type:n="linear",points:r=[],baseLine:a,layout:i,connectNulls:o=!1}=e,s=((e,t)=>{if("function"===typeof e)return e;var n="curve".concat(Gy(e));return"curveMonotone"!==n&&"curveBump"!==n||!t?OL[n]||iL:OL["".concat(n).concat("vertical"===t?"Y":"X")]})(n,i),l=o?r.filter(IL):r;if(Array.isArray(a)){var c=o?a.filter(e=>IL(e)):a,u=l.map((e,t)=>AL(AL({},e),{},{base:c[t]}));return(t="vertical"===i?jL().y(DL).x1(PL).x0(e=>e.base.x):jL().x(PL).y1(DL).y0(e=>e.base.y)).defined(IL).curve(s),t(u)}return(t="vertical"===i&&Fy(a)?jL().y(DL).x1(PL).x0(a):Fy(a)?jL().x(PL).y1(DL).y0(a):NL().x(PL).y(DL)).defined(IL).curve(s),t(l)},RL=e=>{var{className:n,points:r,path:a,pathRef:i}=e;if((!r||!r.length)&&!a)return null;var o=r&&r.length?ML(e):a;return t.createElement("path",_L({},nD(e,!1),GP(e),{className:Cy("recharts-curve",n),d:null===o?void 0:o,ref:i}))},LL=["x","y","top","left","width","height","className"];function FL(){return FL=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},FL.apply(null,arguments)}function zL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function UL(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var VL=(e,t,n,r,a,i)=>"M".concat(e,",").concat(a,"v").concat(r,"M").concat(i,",").concat(t,"h").concat(n),BL=e=>{var{x:n=0,y:r=0,top:a=0,left:i=0,width:o=0,height:s=0,className:l}=e,c=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,LL),u=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zL(Object(n),!0).forEach(function(t){UL(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zL(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({x:n,y:r,top:a,left:i,width:o,height:s},c);return Fy(n)&&Fy(r)&&Fy(o)&&Fy(s)&&Fy(a)&&Fy(i)?t.createElement("path",FL({},nD(u,!0),{className:Cy("recharts-cross",l),d:VL(n,r,o,s,a,i)})):null};var $L=n(4250),HL=n.n($L);var KL=1e-4,qL=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],WL=(e,t)=>e.map((e,n)=>e*t**n).reduce((e,t)=>e+t),GL=(e,t)=>n=>{var r=qL(e,t);return WL(r,n)},YL=function(){for(var e,t,n,r,a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];if(1===i.length)switch(i[0]){case"linear":[e,n,t,r]=[0,0,1,1];break;case"ease":[e,n,t,r]=[.25,.1,.25,1];break;case"ease-in":[e,n,t,r]=[.42,0,1,1];break;case"ease-out":[e,n,t,r]=[.42,0,.58,1];break;case"ease-in-out":[e,n,t,r]=[0,0,.58,1];break;default:var s=i[0].split("(");"cubic-bezier"===s[0]&&4===s[1].split(")")[0].split(",").length&&([e,n,t,r]=s[1].split(")")[0].split(",").map(e=>parseFloat(e)))}else 4===i.length&&([e,n,t,r]=i);var l,c,u=GL(e,t),d=GL(n,r),h=(l=e,c=t,e=>{var t=[...qL(l,c).map((e,t)=>e*t).slice(1),0];return WL(t,e)}),f=e=>e>1?1:e<0?0:e,p=e=>{for(var t=e>1?1:e,n=t,r=0;r<8;++r){var a=u(n)-t,i=h(n);if(Math.abs(a-t)<KL||i<KL)return d(n);n=f(n-a/i)}return d(n)};return p.isStepper=!1,p},QL=e=>{if("string"===typeof e)switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return YL(e);case"spring":return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{stiff:t=100,damping:n=8,dt:r=17}=e,a=(e,a,i)=>{var o=i+(-(e-a)*t-i*n)*r/1e3,s=i*r/1e3+e;return Math.abs(s-a)<KL&&Math.abs(o)<KL?[a,0]:[s,o]};return a.isStepper=!0,a.dt=r,a}();default:if("cubic-bezier"===e.split("(")[0])return YL(e)}return"function"===typeof e?e:null};function XL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function JL(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?XL(Object(n),!0).forEach(function(t){ZL(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XL(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ZL(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var eF=(e,t)=>Object.keys(t).reduce((n,r)=>JL(JL({},n),{},{[r]:e(r,t[r])}),{});function tF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function nF(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tF(Object(n),!0).forEach(function(t){rF(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tF(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function rF(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var aF=(e,t,n)=>e+(t-e)*n,iF=e=>{var{from:t,to:n}=e;return t!==n},oF=(e,t,n)=>{var r=eF((t,n)=>{if(iF(n)){var[r,a]=e(n.from,n.to,n.velocity);return nF(nF({},n),{},{from:r,velocity:a})}return n},t);return n<1?eF((e,t)=>iF(t)?nF(nF({},t),{},{velocity:aF(t.velocity,r[e].velocity,n),from:aF(t.from,r[e].from,n)}):t,t):oF(e,r,n-1)};function sF(e,t,n,r,a,i){var o,s=r.reduce((n,r)=>nF(nF({},n),{},{[r]:{from:e[r],velocity:0,to:t[r]}}),{}),l=null,c=r=>{o||(o=r);var u=(r-o)/n.dt;s=oF(n,s,u),a(nF(nF(nF({},e),t),eF((e,t)=>t.from,s))),o=r,Object.values(s).filter(iF).length&&(l=i.setTimeout(c))};return()=>(l=i.setTimeout(c),()=>{l()})}const lF=(e,t,n,r,a,i)=>{var o,s,l=(o=e,s=t,[Object.keys(o),Object.keys(s)].reduce((e,t)=>e.filter(e=>t.includes(e))));return!0===n.isStepper?sF(e,t,n,l,a,i):function(e,t,n,r,a,i,o){var s,l=null,c=a.reduce((n,r)=>nF(nF({},n),{},{[r]:[e[r],t[r]]}),{}),u=a=>{s||(s=a);var d=(a-s)/r,h=eF((e,t)=>aF(...t,n(d)),c);if(i(nF(nF(nF({},e),t),h)),d<1)l=o.setTimeout(u);else{var f=eF((e,t)=>aF(...t,n(1)),c);i(nF(nF(nF({},e),t),f))}};return()=>(l=o.setTimeout(u),()=>{l()})}(e,t,n,r,l,a,i)};class cF{setTimeout(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=performance.now(),r=null,a=i=>{i-n>=t?e(i):"function"===typeof requestAnimationFrame&&(r=requestAnimationFrame(a))};return r=requestAnimationFrame(a),()=>{cancelAnimationFrame(r)}}}var uF=["children","begin","duration","attributeName","easing","isActive","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart","animationManager"];function dF(){return dF=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dF.apply(null,arguments)}function hF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function fF(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hF(Object(n),!0).forEach(function(t){pF(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hF(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function pF(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mF(){return function(e){var t=()=>null,n=!1,r=null,a=i=>{if(!n){if(Array.isArray(i)){if(!i.length)return;var o=i,[s,...l]=o;return"number"===typeof s?void(r=e.setTimeout(a.bind(null,l),s)):(a(s),void(r=e.setTimeout(a.bind(null,l))))}"object"===typeof i&&t(i),"function"===typeof i&&i()}};return{stop:()=>{n=!0},start:e=>{n=!1,r&&(r(),r=null),a(e)},subscribe:e=>(t=e,()=>{t=()=>null}),getTimeoutController:()=>e}}(new cF)}class gF extends t.PureComponent{constructor(e,t){super(e,t),pF(this,"mounted",!1),pF(this,"manager",null),pF(this,"stopJSAnimation",null),pF(this,"unSubscribe",null);var{isActive:n,attributeName:r,from:a,to:i,children:o,duration:s,animationManager:l}=this.props;if(this.manager=l,this.handleStyleChange=this.handleStyleChange.bind(this),this.changeStyle=this.changeStyle.bind(this),!n||s<=0)return this.state={style:{}},void("function"===typeof o&&(this.state={style:i}));if(a){if("function"===typeof o)return void(this.state={style:a});this.state={style:r?{[r]:a}:a}}else this.state={style:{}}}componentDidMount(){var{isActive:e,canBegin:t}=this.props;this.mounted=!0,e&&t&&this.runAnimation(this.props)}componentDidUpdate(e){var{isActive:t,canBegin:n,attributeName:r,shouldReAnimate:a,to:i,from:o}=this.props,{style:s}=this.state;if(n)if(t){if(!(HL()(e.to,i)&&e.canBegin&&e.isActive)){var l=!e.canBegin||!e.isActive;this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var c=l||a?o:e.to;if(this.state&&s){var u={style:r?{[r]:c}:c};(r&&s[r]!==c||!r&&s!==c)&&this.setState(u)}this.runAnimation(fF(fF({},this.props),{},{from:c,begin:0}))}}else{var d={style:r?{[r]:i}:i};this.state&&s&&(r&&s[r]!==i||!r&&s!==i)&&this.setState(d)}}componentWillUnmount(){this.mounted=!1;var{onAnimationEnd:e}=this.props;this.unSubscribe&&this.unSubscribe(),this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation(),e&&e()}handleStyleChange(e){this.changeStyle(e)}changeStyle(e){this.mounted&&this.setState({style:e})}runJSAnimation(e){var{from:t,to:n,duration:r,easing:a,begin:i,onAnimationEnd:o,onAnimationStart:s}=e,l=lF(t,n,QL(a),r,this.changeStyle,this.manager.getTimeoutController());this.manager.start([s,i,()=>{this.stopJSAnimation=l()},r,o])}runAnimation(e){var{begin:t,duration:n,attributeName:r,to:a,easing:i,onAnimationStart:o,onAnimationEnd:s,children:l}=e;if(this.unSubscribe=this.manager.subscribe(this.handleStyleChange),"function"!==typeof i&&"function"!==typeof l&&"spring"!==i){var c=r?{[r]:a}:a,u=((e,t,n)=>e.map(e=>{return"".concat((r=e,r.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())))," ").concat(t,"ms ").concat(n);var r}).join(","))(Object.keys(c),n,i);this.manager.start([o,t,fF(fF({},c),{},{transition:u}),n,s])}else this.runJSAnimation(e)}render(){var e=this.props,{children:n,begin:r,duration:a,attributeName:i,easing:o,isActive:s,from:l,to:c,canBegin:u,onAnimationEnd:d,shouldReAnimate:h,onAnimationReStart:f,animationManager:p}=e,m=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,uF),g=t.Children.count(n),y=this.state.style;if("function"===typeof n)return n(y);if(!s||0===g||a<=0)return n;var v=e=>{var{style:n={},className:r}=e.props;return(0,t.cloneElement)(e,fF(fF({},m),{},{style:fF(fF({},n),y),className:r}))};return 1===g?v(t.Children.only(n)):t.createElement("div",null,t.Children.map(n,e=>v(e)))}}pF(gF,"displayName","Animate"),pF(gF,"defaultProps",{begin:0,duration:1e3,attributeName:"",easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}});var yF=(0,t.createContext)(null);function vF(e){var n,r,a=(0,t.useContext)(yF);return t.createElement(gF,dF({},e,{animationManager:null!==(n=null!==(r=e.animationManager)&&void 0!==r?r:a)&&void 0!==n?n:mF()}))}function bF(){return bF=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bF.apply(null,arguments)}var xF=(e,t,n,r,a)=>{var i,o=Math.min(Math.abs(n)/2,Math.abs(r)/2),s=r>=0?1:-1,l=n>=0?1:-1,c=r>=0&&n>=0||r<0&&n<0?1:0;if(o>0&&a instanceof Array){for(var u=[0,0,0,0],d=0;d<4;d++)u[d]=a[d]>o?o:a[d];i="M".concat(e,",").concat(t+s*u[0]),u[0]>0&&(i+="A ".concat(u[0],",").concat(u[0],",0,0,").concat(c,",").concat(e+l*u[0],",").concat(t)),i+="L ".concat(e+n-l*u[1],",").concat(t),u[1]>0&&(i+="A ".concat(u[1],",").concat(u[1],",0,0,").concat(c,",\n        ").concat(e+n,",").concat(t+s*u[1])),i+="L ".concat(e+n,",").concat(t+r-s*u[2]),u[2]>0&&(i+="A ".concat(u[2],",").concat(u[2],",0,0,").concat(c,",\n        ").concat(e+n-l*u[2],",").concat(t+r)),i+="L ".concat(e+l*u[3],",").concat(t+r),u[3]>0&&(i+="A ".concat(u[3],",").concat(u[3],",0,0,").concat(c,",\n        ").concat(e,",").concat(t+r-s*u[3])),i+="Z"}else if(o>0&&a===+a&&a>0){var h=Math.min(o,a);i="M ".concat(e,",").concat(t+s*h,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+l*h,",").concat(t,"\n            L ").concat(e+n-l*h,",").concat(t,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+n,",").concat(t+s*h,"\n            L ").concat(e+n,",").concat(t+r-s*h,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+n-l*h,",").concat(t+r,"\n            L ").concat(e+l*h,",").concat(t+r,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e,",").concat(t+r-s*h," Z")}else i="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return i},wF={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},kF=e=>{var n=MD(e,wF),r=(0,t.useRef)(null),[a,i]=(0,t.useState)(-1);(0,t.useEffect)(()=>{if(r.current&&r.current.getTotalLength)try{var e=r.current.getTotalLength();e&&i(e)}catch(t){}},[]);var{x:o,y:s,width:l,height:c,radius:u,className:d}=n,{animationEasing:h,animationDuration:f,animationBegin:p,isAnimationActive:m,isUpdateAnimationActive:g}=n;if(o!==+o||s!==+s||l!==+l||c!==+c||0===l||0===c)return null;var y=Cy("recharts-rectangle",d);return g?t.createElement(vF,{canBegin:a>0,from:{width:l,height:c,x:o,y:s},to:{width:l,height:c,x:o,y:s},duration:f,animationEasing:h,isActive:g},e=>{var{width:i,height:o,x:s,y:l}=e;return t.createElement(vF,{canBegin:a>0,from:"0px ".concat(-1===a?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:p,duration:f,isActive:m,easing:h},t.createElement("path",bF({},nD(n,!0),{className:y,d:xF(s,l,i,o,u),ref:r})))}):t.createElement("path",bF({},nD(n,!0),{className:y,d:xF(o,s,l,c,u)}))};function SF(e){var{cx:t,cy:n,radius:r,startAngle:a,endAngle:i}=e;return{points:[ak(t,n,r,a),ak(t,n,r,i)],cx:t,cy:n,radius:r,startAngle:a,endAngle:i}}function EF(){return EF=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},EF.apply(null,arguments)}var NF=e=>{var{cx:t,cy:n,radius:r,angle:a,sign:i,isExternal:o,cornerRadius:s,cornerIsExternal:l}=e,c=s*(o?1:-1)+r,u=Math.asin(s/c)/nk,d=l?a:a+i*u,h=l?a-i*u:a;return{center:ak(t,n,c,d),circleTangency:ak(t,n,r,d),lineTangency:ak(t,n,c*Math.cos(u*nk),h),theta:u}},jF=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:a,startAngle:i,endAngle:o}=e,s=((e,t)=>My(t-e)*Math.min(Math.abs(t-e),359.999))(i,o),l=i+s,c=ak(t,n,a,i),u=ak(t,n,a,l),d="M ".concat(c.x,",").concat(c.y,"\n    A ").concat(a,",").concat(a,",0,\n    ").concat(+(Math.abs(s)>180),",").concat(+(i>l),",\n    ").concat(u.x,",").concat(u.y,"\n  ");if(r>0){var h=ak(t,n,r,i),f=ak(t,n,r,l);d+="L ".concat(f.x,",").concat(f.y,"\n            A ").concat(r,",").concat(r,",0,\n            ").concat(+(Math.abs(s)>180),",").concat(+(i<=l),",\n            ").concat(h.x,",").concat(h.y," Z")}else d+="L ".concat(t,",").concat(n," Z");return d},_F={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},TF=e=>{var n=MD(e,_F),{cx:r,cy:a,innerRadius:i,outerRadius:o,cornerRadius:s,forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d,className:h}=n;if(o<i||u===d)return null;var f,p=Cy("recharts-sector",h),m=o-i,g=By(s,m,0,!0);return f=g>0&&Math.abs(u-d)<360?(e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:a,cornerRadius:i,forceCornerRadius:o,cornerIsExternal:s,startAngle:l,endAngle:c}=e,u=My(c-l),{circleTangency:d,lineTangency:h,theta:f}=NF({cx:t,cy:n,radius:a,angle:l,sign:u,cornerRadius:i,cornerIsExternal:s}),{circleTangency:p,lineTangency:m,theta:g}=NF({cx:t,cy:n,radius:a,angle:c,sign:-u,cornerRadius:i,cornerIsExternal:s}),y=s?Math.abs(l-c):Math.abs(l-c)-f-g;if(y<0)return o?"M ".concat(h.x,",").concat(h.y,"\n        a").concat(i,",").concat(i,",0,0,1,").concat(2*i,",0\n        a").concat(i,",").concat(i,",0,0,1,").concat(2*-i,",0\n      "):jF({cx:t,cy:n,innerRadius:r,outerRadius:a,startAngle:l,endAngle:c});var v="M ".concat(h.x,",").concat(h.y,"\n    A").concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(d.x,",").concat(d.y,"\n    A").concat(a,",").concat(a,",0,").concat(+(y>180),",").concat(+(u<0),",").concat(p.x,",").concat(p.y,"\n    A").concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(m.x,",").concat(m.y,"\n  ");if(r>0){var{circleTangency:b,lineTangency:x,theta:w}=NF({cx:t,cy:n,radius:r,angle:l,sign:u,isExternal:!0,cornerRadius:i,cornerIsExternal:s}),{circleTangency:k,lineTangency:S,theta:E}=NF({cx:t,cy:n,radius:r,angle:c,sign:-u,isExternal:!0,cornerRadius:i,cornerIsExternal:s}),N=s?Math.abs(l-c):Math.abs(l-c)-w-E;if(N<0&&0===i)return"".concat(v,"L").concat(t,",").concat(n,"Z");v+="L".concat(S.x,",").concat(S.y,"\n      A").concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(k.x,",").concat(k.y,"\n      A").concat(r,",").concat(r,",0,").concat(+(N>180),",").concat(+(u>0),",").concat(b.x,",").concat(b.y,"\n      A").concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(x.x,",").concat(x.y,"Z")}else v+="L".concat(t,",").concat(n,"Z");return v})({cx:r,cy:a,innerRadius:i,outerRadius:o,cornerRadius:Math.min(g,m/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d}):jF({cx:r,cy:a,innerRadius:i,outerRadius:o,startAngle:u,endAngle:d}),t.createElement("path",EF({},nD(n,!0),{className:p,d:f}))};function AF(e,t,n){var r,a,i,o;if("horizontal"===e)i=r=t.x,a=n.top,o=n.top+n.height;else if("vertical"===e)o=a=t.y,r=n.left,i=n.left+n.width;else if(null!=t.cx&&null!=t.cy){if("centric"!==e)return SF(t);var{cx:s,cy:l,innerRadius:c,outerRadius:u,angle:d}=t,h=ak(s,l,c,d),f=ak(s,l,u,d);r=h.x,a=h.y,i=f.x,o=f.y}return[{x:r,y:a},{x:i,y:o}]}function CF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function OF(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?CF(Object(n),!0).forEach(function(t){IF(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CF(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function IF(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var PF=()=>{var e=Bw(kO),t=Bw(XO),n=Bw(GO);return Nk(OF(OF({},e),{},{scale:n}),t)};function DF(){return DF=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},DF.apply(null,arguments)}function MF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function RF(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?MF(Object(n),!0).forEach(function(t){LF(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):MF(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function LF(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function FF(e){var n,r,{coordinate:a,payload:i,index:o,offset:s,tooltipAxisBandSize:l,layout:c,cursor:u,tooltipEventType:d,chartName:h}=e,f=a,p=i,m=o;if(!u||!f||"ScatterChart"!==h&&"axis"!==d)return null;if("ScatterChart"===h)n=f,r=BL;else if("BarChart"===h)n=function(e,t,n,r){var a=r/2;return{stroke:"none",fill:"#ccc",x:"horizontal"===e?t.x-a:n.left+.5,y:"horizontal"===e?n.top+.5:t.y-a,width:"horizontal"===e?r:n.width-1,height:"horizontal"===e?n.height-1:r}}(c,f,s,l),r=kF;else if("radial"===c){var{cx:g,cy:y,radius:v,startAngle:b,endAngle:x}=SF(f);n={cx:g,cy:y,startAngle:b,endAngle:x,innerRadius:v,outerRadius:v},r=TF}else n={points:AF(c,f,s)},r=RL;var w="object"===typeof u&&"className"in u?u.className:void 0,k=RF(RF(RF(RF({stroke:"#ccc",pointerEvents:"none"},s),n),nD(u,!1)),{},{payload:p,payloadIndex:m,className:Cy("recharts-tooltip-cursor",w)});return(0,t.isValidElement)(u)?(0,t.cloneElement)(u,k):(0,t.createElement)(r,k)}function zF(e){var n=PF(),r=Gk(),a=Zk(),i=dI();return t.createElement(FF,DF({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:r,layout:a,tooltipAxisBandSize:n,chartName:i}))}function UF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function VF(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?UF(Object(n),!0).forEach(function(t){BF(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):UF(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function BF(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $F(e){return e.dataKey}var HF=[],KF={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!BD,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function qF(e){var n=MD(e,KF),{active:r,allowEscapeViewBox:a,animationDuration:i,animationEasing:o,content:s,filterNull:l,isAnimationActive:c,offset:u,payloadUniqBy:d,position:h,reverseDirection:f,useTranslate3d:p,wrapperStyle:m,cursor:g,shared:y,trigger:v,defaultIndex:b,portal:x,axisId:w}=n,k=Fw(),S="number"===typeof b?String(b):b;(0,t.useEffect)(()=>{k(iw({shared:y,trigger:v,axisId:w,active:r,defaultIndex:S}))},[k,y,v,w,r,S]);var E=qk(),N=rD(),j=function(e){return Bw(t=>iO(t,e))}(y),{activeIndex:_,isActive:T}=Bw(e=>SI(e,j,v,S)),A=Bw(e=>kI(e,j,v,S)),C=Bw(e=>wI(e,j,v,S)),O=Bw(e=>xI(e,j,v,S)),I=A,P=(0,t.useContext)(xD),D=null!==r&&void 0!==r?r:T,[M,R]=QR([I,D]),L="axis"===j?C:void 0;bD(j,v,O,L,_,D);var F=null!==x&&void 0!==x?x:P;if(null==F)return null;var z=null!==I&&void 0!==I?I:HF;D||(z=HF),l&&z.length&&(z=YR(I.filter(e=>null!=e.value&&(!0!==e.hide||n.includeHidden)),d,$F));var U=z.length>0,V=t.createElement(qR,{allowEscapeViewBox:a,animationDuration:i,animationEasing:o,isAnimationActive:c,active:D,coordinate:O,hasPayload:U,offset:u,position:h,reverseDirection:f,useTranslate3d:p,viewBox:E,wrapperStyle:m,lastBoundingBox:M,innerRef:R,hasPortalFromProps:Boolean(x)},function(e,n){return t.isValidElement(e)?t.cloneElement(e,n):"function"===typeof e?t.createElement(e,n):t.createElement(FR,n)}(s,VF(VF({},n),{},{payload:z,label:L,active:D,coordinate:O,accessibilityLayer:N})));return t.createElement(t.Fragment,null,(0,IR.createPortal)(V,F),D&&t.createElement(zF,{cursor:g,tooltipEventType:j,coordinate:O,payload:I,index:_}))}function WF(){return WF=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},WF.apply(null,arguments)}var GF=e=>{var{cx:n,cy:r,r:a,className:i}=e,o=Cy("recharts-dot",i);return n===+n&&r===+r&&a===+a?t.createElement("circle",WF({},nD(e,!1),GP(e),{className:o,cx:n,cy:r,r:a})):null},YF=n(356),QF=n.n(YF),XF=["valueAccessor"],JF=["data","dataKey","clockWise","id","textBreakAll"];function ZF(){return ZF=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ZF.apply(null,arguments)}function ez(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function tz(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ez(Object(n),!0).forEach(function(t){nz(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ez(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function nz(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rz(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var az=e=>Array.isArray(e.value)?QF()(e.value):e.value;function iz(e){var{valueAccessor:n=az}=e,r=rz(e,XF),{data:a,dataKey:i,clockWise:o,id:s,textBreakAll:l}=r,c=rz(r,JF);return a&&a.length?t.createElement(lM,{className:"recharts-label-list"},a.map((e,r)=>{var a=Wy(i)?n(e,r):hk(e&&e.payload,i),u=Wy(s)?{}:{id:"".concat(s,"-").concat(r)};return t.createElement(UM,ZF({},nD(e,!0),c,u,{parentViewBox:e.parentViewBox,value:a,textBreakAll:l,viewBox:UM.parseViewBox(Wy(o)?e:tz(tz({},e),{},{clockWise:o})),key:"label-".concat(r),index:r}))})):null}function oz(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function sz(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oz(Object(n),!0).forEach(function(t){lz(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oz(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function lz(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cz(e){var n=Fw(),r=(0,t.useRef)(null);return(0,t.useEffect)(()=>{var t=sz(sz({},e),{},{stackId:bk(e.stackId)});null===r.current?n(qI(t)):r.current!==t&&n(WI({prev:r.current,next:t})),r.current=t},[n,e]),(0,t.useEffect)(()=>()=>{r.current&&(n(GI(r.current)),r.current=null)},[n]),null}function uz(e){var n=Fw();return(0,t.useEffect)(()=>(n(YI(e)),()=>{n(QI(e))}),[n,e]),null}iz.displayName="LabelList",iz.renderCallByParent=function(e,n){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.children&&r&&!e.label)return null;var{children:a}=e,i=eD(a,iz).map((e,r)=>(0,t.cloneElement)(e,{data:n,key:"labelList-".concat(r)}));if(!r)return i;var o=function(e,n){return e?!0===e?t.createElement(iz,{key:"labelList-implicit",data:n}):t.isValidElement(e)||FM(e)?t.createElement(iz,{key:"labelList-implicit",data:n,content:e}):"object"===typeof e?t.createElement(iz,ZF({data:n},e,{key:"labelList-implicit"})):null:null}(e.label,n);return[o,...i]};var dz=["children"];var hz=()=>{},fz=(0,t.createContext)({addErrorBar:hz,removeErrorBar:hz}),pz={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},mz=(0,t.createContext)(pz);function gz(e){var{children:n}=e,r=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,dz);return t.createElement(mz.Provider,{value:r},n)}var yz=e=>{var{children:n,xAxisId:r,yAxisId:a,zAxisId:i,dataKey:o,data:s,stackId:l,hide:c,type:u,barSize:d}=e,[h,f]=t.useState([]),p=(0,t.useCallback)(e=>{f(t=>[...t,e])},[f]),m=(0,t.useCallback)(e=>{f(t=>t.filter(t=>t!==e))},[f]),g=$k();return t.createElement(fz.Provider,{value:{addErrorBar:p,removeErrorBar:m}},t.createElement(cz,{type:u,data:s,xAxisId:r,yAxisId:a,zAxisId:i,dataKey:o,errorBars:h,stackId:l,hide:c,barSize:d,isPanorama:g}),n)};function vz(e){var{addErrorBar:n,removeErrorBar:r}=(0,t.useContext)(fz);return(0,t.useEffect)(()=>(n(e),()=>{r(e)}),[n,r,e]),null}var bz=["direction","width","dataKey","isAnimationActive","animationBegin","animationDuration","animationEasing"];function xz(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wz(){return wz=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wz.apply(null,arguments)}function kz(e){var{direction:n,width:r,dataKey:a,isAnimationActive:i,animationBegin:o,animationDuration:s,animationEasing:l}=e,c=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,bz),u=nD(c,!1),{data:d,dataPointFormatter:h,xAxisId:f,yAxisId:p,errorBarOffset:m}=(0,t.useContext)(mz),g=(e=>{var t=$k();return Bw(n=>ZC(n,"xAxis",e,t))})(f),y=(e=>{var t=$k();return Bw(n=>ZC(n,"yAxis",e,t))})(p);if(null==(null===g||void 0===g?void 0:g.scale)||null==(null===y||void 0===y?void 0:y.scale)||null==d)return null;if("x"===n&&"number"!==g.type)return null;var v=d.map(e=>{var{x:c,y:d,value:f,errorVal:p}=h(e,a,n);if(!p)return null;var v,b,x=[];if(Array.isArray(p)?[v,b]=p:v=b=p,"x"===n){var{scale:w}=g,k=d+m,S=k+r,E=k-r,N=w(f-v),j=w(f+b);x.push({x1:j,y1:S,x2:j,y2:E}),x.push({x1:N,y1:k,x2:j,y2:k}),x.push({x1:N,y1:S,x2:N,y2:E})}else if("y"===n){var{scale:_}=y,T=c+m,A=T-r,C=T+r,O=_(f-v),I=_(f+b);x.push({x1:A,y1:I,x2:C,y2:I}),x.push({x1:T,y1:O,x2:T,y2:I}),x.push({x1:A,y1:O,x2:C,y2:O})}var P="".concat(c+m,"px ").concat(d+m,"px");return t.createElement(lM,wz({className:"recharts-errorBar",key:"bar-".concat(x.map(e=>"".concat(e.x1,"-").concat(e.x2,"-").concat(e.y1,"-").concat(e.y2)))},u),x.map(e=>{var n=i?{transformOrigin:"".concat(e.x1-5,"px")}:void 0;return t.createElement(vF,{from:{transform:"scaleY(0)",transformOrigin:P},to:{transform:"scaleY(1)",transformOrigin:P},begin:o,easing:l,isActive:i,duration:s,key:"line-".concat(e.x1,"-").concat(e.x2,"-").concat(e.y1,"-").concat(e.y2),style:{transformOrigin:P}},t.createElement("line",wz({},e,{style:n})))}))});return t.createElement(lM,{className:"recharts-errorBars"},v)}var Sz=(0,t.createContext)(void 0);function Ez(e){var{direction:n,children:r}=e;return t.createElement(Sz.Provider,{value:n},r)}var Nz={stroke:"black",strokeWidth:1.5,width:5,offset:0,isAnimationActive:!0,animationBegin:0,animationDuration:400,animationEasing:"ease-in-out"};function jz(e){var n=function(e){var n=(0,t.useContext)(Sz);return null!=e?e:null!=n?n:"x"}(e.direction),{width:r,isAnimationActive:a,animationBegin:i,animationDuration:o,animationEasing:s}=MD(e,Nz);return t.createElement(t.Fragment,null,t.createElement(vz,{dataKey:e.dataKey,direction:n}),t.createElement(kz,wz({},e,{direction:n,width:r,isAnimationActive:a,animationBegin:i,animationDuration:o,animationEasing:s})))}class _z extends t.Component{render(){return t.createElement(jz,this.props)}}function Tz(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Az(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Tz(Object(n),!0).forEach(function(t){Cz(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tz(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Cz(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}xz(_z,"defaultProps",Nz),xz(_z,"displayName","ErrorBar");function Oz(e){var{points:n,mainColor:r,activeDot:a,itemDataKey:i}=e,o=Bw(nI),s=Bw(uI);if(null==n||null==s)return null;var l=n.find(e=>s.includes(e.payload));return Wy(l)?null:(e=>{var{point:n,childIndex:r,mainColor:a,activeDot:i,dataKey:o}=e;if(!1===i||null==n.x||null==n.y)return null;var s,l=Az(Az({index:r,dataKey:o,cx:n.x,cy:n.y,r:4,fill:null!==a&&void 0!==a?a:"none",strokeWidth:2,stroke:"#fff",payload:n.payload,value:n.value},nD(i,!1)),GP(i));return s=(0,t.isValidElement)(i)?(0,t.cloneElement)(i,l):"function"===typeof i?i(l):t.createElement(GF,l),t.createElement(lM,{className:"recharts-active-dot"},s)})({point:l,childIndex:Number(o),mainColor:r,dataKey:i,activeDot:a})}function Iz(e){var{fn:n,args:r}=e,a=Fw(),i=$k();return(0,t.useEffect)(()=>{if(!i){var e=n(r);return a(rw(e)),()=>{a(aw(e))}}},[n,r,a,i]),null}function Pz(e,t){var n,r,a=Bw(t=>xA(t,e)),i=Bw(e=>kA(e,t)),o=null!==(n=null===a||void 0===a?void 0:a.allowDataOverflow)&&void 0!==n?n:bA.allowDataOverflow,s=null!==(r=null===i||void 0===i?void 0:i.allowDataOverflow)&&void 0!==r?r:wA.allowDataOverflow;return{needClip:o||s,needClipX:o,needClipY:s}}function Dz(e){var{xAxisId:n,yAxisId:r,clipPathId:a}=e,i=TD(),{needClipX:o,needClipY:s,needClip:l}=Pz(n,r);if(!l)return null;var{x:c,y:u,width:d,height:h}=i;return t.createElement("clipPath",{id:"clipPath-".concat(a)},t.createElement("rect",{x:o?c:c-d/2,y:s?u:u-h/2,width:o?d:2*d,height:s?h:2*h}))}var Mz=(e,t,n,r)=>ZC(e,"xAxis",t,r),Rz=(e,t,n,r)=>JC(e,"xAxis",t,r),Lz=(e,t,n,r)=>ZC(e,"yAxis",n,r),Fz=(e,t,n,r)=>JC(e,"yAxis",n,r),zz=Pw([Jk,Mz,Lz,Rz,Fz],(e,t,n,r,a)=>fk(e,"xAxis")?Nk(t,r,!1):Nk(n,a,!1)),Uz=Pw([AA,(e,t,n,r,a)=>a],(e,t)=>{if(e.some(e=>"line"===e.type&&t.dataKey===e.dataKey&&t.data===e.data))return t}),Vz=Pw([Jk,Mz,Lz,Rz,Fz,Uz,zz,hT],(e,t,n,r,a,i,o,s)=>{var{chartData:l,dataStartIndex:c,dataEndIndex:u}=s;if(null!=i&&null!=t&&null!=n&&null!=r&&null!=a&&0!==r.length&&0!==a.length&&null!=o){var d,{dataKey:h,data:f}=i;if(null!=(d=null!=f&&f.length>0?f:null===l||void 0===l?void 0:l.slice(c,u+1)))return function(e){var{layout:t,xAxis:n,yAxis:r,xAxisTicks:a,yAxisTicks:i,dataKey:o,bandSize:s,displayedData:l}=e;return l.map((e,l)=>{var c=hk(e,o);return"horizontal"===t?{x:xk({axis:n,ticks:a,bandSize:s,entry:e,index:l}),y:Wy(c)?null:r.scale(c),value:c,payload:e}:{x:Wy(c)?null:n.scale(c),y:xk({axis:r,ticks:i,bandSize:s,entry:e,index:l}),value:c,payload:e}})}({layout:e,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:a,dataKey:h,bandSize:o,displayedData:d})}}),Bz=()=>{};function $z(e){var{legendPayload:n}=e,r=Fw(),a=$k();return(0,t.useEffect)(()=>a?Bz:(r(fP(n)),()=>{r(pP(n))}),[r,a,n]),null}function Hz(e){var{legendPayload:n}=e,r=Fw(),a=Bw(Jk);return(0,t.useEffect)(()=>"centric"!==a&&"radial"!==a?Bz:(r(fP(n)),()=>{r(pP(n))}),[r,a,n]),null}function Kz(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"animation-",r=(0,t.useRef)(Vy(n)),a=(0,t.useRef)(e);return a.current!==e&&(r.current=Vy(n),a.current=e),r.current}var qz=["type","layout","connectNulls","needClip"],Wz=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId"];function Gz(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Yz(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Qz(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yz(Object(n),!0).forEach(function(t){Xz(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yz(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Xz(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Jz(){return Jz=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Jz.apply(null,arguments)}var Zz=e=>{var{dataKey:t,name:n,stroke:r,legendType:a,hide:i}=e;return[{inactive:i,dataKey:t,type:a,color:r,value:_k(n,t),payload:e}]};function eU(e){var{dataKey:t,data:n,stroke:r,strokeWidth:a,fill:i,name:o,hide:s,unit:l}=e;return{dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:a,fill:i,dataKey:t,nameKey:void 0,name:_k(o,t),hide:s,type:e.tooltipType,color:e.stroke,unit:l}}}var tU=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function nU(e,t){for(var n=e.length%2!==0?[...e,0]:e,r=[],a=0;a<t;++a)r=[...r,...n];return r}function rU(e){var{clipPathId:n,points:r,props:a}=e,{dot:i,dataKey:o,needClip:s}=a;if(!function(e,t){return null!=e&&(!!t||1===e.length)}(r,i))return null;var l=tD(i),c=nD(a,!1),u=nD(i,!0),d=r.map((e,n)=>{var a=Qz(Qz(Qz({key:"dot-".concat(n),r:3},c),u),{},{index:n,cx:e.x,cy:e.y,dataKey:o,value:e.value,payload:e.payload,points:r});return function(e,n){var r;if(t.isValidElement(e))r=t.cloneElement(e,n);else if("function"===typeof e)r=e(n);else{var a=Cy("recharts-line-dot","boolean"!==typeof e?e.className:"");r=t.createElement(GF,Jz({},n,{className:a}))}return r}(i,a)}),h={clipPath:s?"url(#clipPath-".concat(l?"":"dots-").concat(n,")"):null};return t.createElement(lM,Jz({className:"recharts-line-dots",key:"dots"},h),d)}function aU(e){var{clipPathId:n,pathRef:r,points:a,strokeDasharray:i,props:o,showLabels:s}=e,{type:l,layout:c,connectNulls:u,needClip:d}=o,h=Gz(o,qz),f=Qz(Qz({},nD(h,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:d?"url(#clipPath-".concat(n,")"):null,points:a,type:l,layout:c,connectNulls:u,strokeDasharray:null!==i&&void 0!==i?i:o.strokeDasharray});return t.createElement(t.Fragment,null,(null===a||void 0===a?void 0:a.length)>1&&t.createElement(RL,Jz({},f,{pathRef:r})),t.createElement(rU,{points:a,clipPathId:n,props:o}),s&&iz.renderCallByParent(o,a))}function iU(e){var{clipPathId:n,props:r,pathRef:a,previousPointsRef:i,longestAnimatedLengthRef:o}=e,{points:s,strokeDasharray:l,isAnimationActive:c,animationBegin:u,animationDuration:d,animationEasing:h,animateNewValues:f,width:p,height:m,onAnimationEnd:g,onAnimationStart:y}=r,v=i.current,b=Kz(r,"recharts-line-"),[x,w]=(0,t.useState)(!1),k=(0,t.useCallback)(()=>{"function"===typeof g&&g(),w(!1)},[g]),S=(0,t.useCallback)(()=>{"function"===typeof y&&y(),w(!0)},[y]),E=function(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch(t){return 0}}(a.current),N=o.current;return t.createElement(vF,{begin:u,duration:d,isActive:c,easing:h,from:{t:0},to:{t:1},onAnimationEnd:k,onAnimationStart:S,key:b},e=>{var c,{t:u}=e,d=Hy(N,E+N),h=Math.min(d(u),E);if(l){var g="".concat(l).split(/[,\s]+/gim).map(e=>parseFloat(e));c=((e,t,n)=>{var r=n.reduce((e,t)=>e+t);if(!r)return tU(t,e);for(var a=Math.floor(e/r),i=e%r,o=t-e,s=[],l=0,c=0;l<n.length;c+=n[l],++l)if(c+n[l]>i){s=[...n.slice(0,l),i-c];break}var u=s.length%2===0?[0,o]:[o];return[...nU(n,a),...s,...u].map(e=>"".concat(e,"px")).join(", ")})(h,E,g)}else c=tU(E,h);if(v){var y=v.length/s.length,b=1===u?s:s.map((e,t)=>{var n=Math.floor(t*y);if(v[n]){var r=v[n],a=Hy(r.x,e.x),i=Hy(r.y,e.y);return Qz(Qz({},e),{},{x:a(u),y:i(u)})}if(f){var o=Hy(2*p,e.x),s=Hy(m/2,e.y);return Qz(Qz({},e),{},{x:o(u),y:s(u)})}return Qz(Qz({},e),{},{x:e.x,y:e.y})});return i.current=b,t.createElement(aU,{props:r,points:b,clipPathId:n,pathRef:a,showLabels:!x,strokeDasharray:c})}return u>0&&E>0&&(i.current=s,o.current=h),t.createElement(aU,{props:r,points:s,clipPathId:n,pathRef:a,showLabels:!x,strokeDasharray:c})})}function oU(e){var{clipPathId:n,props:r}=e,{points:a,isAnimationActive:i}=r,o=(0,t.useRef)(null),s=(0,t.useRef)(0),l=(0,t.useRef)(null),c=o.current;return i&&a&&a.length&&c!==a?t.createElement(iU,{props:r,clipPathId:n,previousPointsRef:o,longestAnimatedLengthRef:s,pathRef:l}):t.createElement(aU,{props:r,points:a,clipPathId:n,pathRef:l,showLabels:!0})}var sU=(e,t)=>({x:e.x,y:e.y,value:e.value,errorVal:hk(e.payload,t)});class lU extends t.Component{constructor(){super(...arguments),Xz(this,"id",Vy("recharts-line-"))}render(){var e,{hide:n,dot:r,points:a,className:i,xAxisId:o,yAxisId:s,top:l,left:c,width:u,height:d,id:h,needClip:f,layout:p}=this.props;if(n)return null;var m=Cy("recharts-line",i),g=Wy(h)?this.id:h,{r:y=3,strokeWidth:v=2}=null!==(e=nD(r,!1))&&void 0!==e?e:{r:3,strokeWidth:2},b=tD(r),x=2*y+v;return t.createElement(t.Fragment,null,t.createElement(lM,{className:m},f&&t.createElement("defs",null,t.createElement(Dz,{clipPathId:g,xAxisId:o,yAxisId:s}),!b&&t.createElement("clipPath",{id:"clipPath-dots-".concat(g)},t.createElement("rect",{x:c-x/2,y:l-x/2,width:u+x,height:d+x}))),t.createElement(oU,{props:this.props,clipPathId:g}),t.createElement(Ez,{direction:"horizontal"===p?"y":"x"},t.createElement(gz,{xAxisId:o,yAxisId:s,data:a,dataPointFormatter:sU,errorBarOffset:0},this.props.children))),t.createElement(Oz,{activeDot:this.props.activeDot,points:a,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var cU={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!BD,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function uU(e){var n=MD(e,cU),{activeDot:r,animateNewValues:a,animationBegin:i,animationDuration:o,animationEasing:s,connectNulls:l,dot:c,hide:u,isAnimationActive:d,label:h,legendType:f,xAxisId:p,yAxisId:m}=n,g=Gz(n,Wz),{needClip:y}=Pz(p,m),{height:v,width:b,x:x,y:w}=TD(),k=Zk(),S=$k(),E=(0,t.useMemo)(()=>({dataKey:e.dataKey,data:e.data}),[e.dataKey,e.data]),N=Bw(e=>Vz(e,p,m,S,E));return"horizontal"!==k&&"vertical"!==k?null:t.createElement(lU,Jz({},g,{connectNulls:l,dot:c,activeDot:r,animateNewValues:a,animationBegin:i,animationDuration:o,animationEasing:s,isAnimationActive:d,hide:u,label:h,legendType:f,xAxisId:p,yAxisId:m,points:N,layout:k,height:v,width:b,left:x,top:w,needClip:y}))}class dU extends t.PureComponent{render(){return t.createElement(yz,{type:"line",data:this.props.data,xAxisId:this.props.xAxisId,yAxisId:this.props.yAxisId,zAxisId:0,dataKey:this.props.dataKey,stackId:void 0,hide:this.props.hide,barSize:void 0},t.createElement($z,{legendPayload:Zz(this.props)}),t.createElement(Iz,{fn:eU,args:this.props}),t.createElement(uU,this.props))}}Xz(dU,"displayName","Line"),Xz(dU,"defaultProps",cU);const hU=function(e){let{accounts:n,transactions:r}=e;const a=ne(),{currentUser:i}=Jg(),[o,s]=(0,t.useState)("INR"),[l,c]=(0,t.useState)([]),[u,d]=(0,t.useState)(!0),[h,f]=(0,t.useState)("yearly");(0,t.useEffect)(()=>{i&&p()},[i,h]);const p=async()=>{if(i)try{const e=xg(Im(Yg,"users",i.uid,"netWorthSnapshots"),Ng("date","desc")),t=(await Lg(e)).docs.map(e=>({date:e.id,value:e.data().totalNetWorth}));let n=[];new Date;switch(h){case"weekly":n=t.slice(0,7).reverse().map(e=>({label:new Date(e.date).toLocaleDateString("en-IN",{day:"numeric",month:"short"}),netWorth:e.value}));break;case"monthly":n=t.slice(0,30).reverse().map(e=>({label:new Date(e.date).toLocaleDateString("en-IN",{day:"numeric",month:"short"}),netWorth:e.value}));break;case"yearly":const e={};t.forEach(t=>{const n=new Date(t.date),r=`${n.getFullYear()}-${n.getMonth()}`;e[r]||(e[r]={date:n,value:t.value,month:n.toLocaleDateString("en-IN",{month:"short",year:"2-digit"})})}),n=Object.values(e).slice(0,12).reverse().map(e=>({label:e.month,netWorth:e.value}));break;case"all":const r={};t.forEach(e=>{const t=new Date(e.date).getFullYear();r[t]||(r[t]={year:t,value:e.value})}),n=Object.values(r).reverse().map(e=>({label:e.year.toString(),netWorth:e.value}))}c(n),d(!1)}catch(e){console.error("Error loading net worth data:",e),d(!1)}},m=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"INR";return new Intl.NumberFormat("en-IN",{style:"currency",currency:t,minimumFractionDigits:"USD"===t?2:0,maximumFractionDigits:"USD"===t?2:0}).format(e)},g=(e,t)=>"USD"===t?84*e:e,y=e=>new Date(e).toLocaleTimeString("en-IN",{hour:"2-digit",minute:"2-digit"}),v=n.reduce((e,t)=>e+g(t.balance,t.currency),0),b=n.filter(e=>"bank"===e.type),x=n.filter(e=>"crypto"===e.type),w=b.reduce((e,t)=>e+g(t.balance,t.currency),0),k=x.reduce((e,t)=>e+g(t.balance,t.currency),0),S=(new Date).getMonth(),E=(new Date).getFullYear(),N=r.filter(e=>{const t=new Date(e.date);return t.getMonth()===S&&t.getFullYear()===E}),j=N.filter(e=>"income"===e.type).reduce((e,t)=>e+(t.amountInINR||g(t.amount,t.currency)),0),_=N.filter(e=>"expense"===e.type).reduce((e,t)=>e+(t.amountInINR||g(t.amount,t.currency)),0),T=j-_,A=[...r].slice(0,5),C=(new Date).getHours();let O="Good morning",I=gy;C>=12&&C<17?(O="Good afternoon",I=gy):C>=17?(O="Good evening",I=my):C<5&&(O="Good night",I=my);const P=(()=>{if(null===i||void 0===i||!i.displayName)return"User";const e=i.displayName,t=e.match(/(?:Mr\.|Mrs\.|Ms\.|Dr\.|Prof\.)?\s*(.+)/i);if(t){return t[1].trim().split(" ")[0]}return e.split(" ")[0]})(),D=e=>{switch(e){case"income":return(0,Qg.jsx)(wy,{className:"w-5 h-5 text-green-600 dark:text-green-400"});case"expense":return(0,Qg.jsx)(ky,{className:"w-5 h-5 text-red-600 dark:text-red-400"});case"transfer":return(0,Qg.jsx)(Sy,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"});case"adjustment":return(0,Qg.jsx)(uy,{className:"w-5 h-5 text-orange-600 dark:text-orange-400"});default:return null}},M=e=>{switch(e){case"income":return"bg-green-100 dark:bg-green-500/10";case"expense":return"bg-red-100 dark:bg-red-500/10";case"transfer":return"bg-blue-100 dark:bg-blue-500/10";case"adjustment":return"bg-orange-100 dark:bg-orange-500/10";default:return"bg-gray-100 dark:bg-gray-800"}};return(0,Qg.jsxs)("div",{className:"p-6 space-y-6 animate-fade-in relative min-h-screen transition-all duration-500",children:[(0,Qg.jsx)("div",{className:"flex items-center justify-between",children:(0,Qg.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Qg.jsx)("div",{className:"p-3 bg-white dark:bg-white/5 rounded-full shadow-sm dark:shadow-lg transition-all duration-300 backdrop-blur-sm",children:(0,Qg.jsx)(I,{className:"w-6 h-6 text-orange-500"})}),(0,Qg.jsxs)("div",{children:[(0,Qg.jsxs)("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white transition-colors duration-300",children:[O,", ",P]}),(0,Qg.jsx)("p",{className:"text-gray-600 dark:text-gray-400 transition-colors duration-300",children:"Here's your financial overview"})]})]})}),(0,Qg.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6",children:[(0,Qg.jsxs)("div",{className:"lg:col-span-4 bg-white dark:bg-white/5 rounded-2xl p-6 backdrop-blur-sm h-full shadow-lg dark:shadow-2xl transition-all duration-300 hover:shadow-xl dark:hover:shadow-3xl hover:transform hover:scale-[1.02]",children:[(0,Qg.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Qg.jsx)("h3",{className:"text-sm text-gray-600 dark:text-gray-400 transition-colors duration-300",children:"Total Balance"}),(0,Qg.jsxs)("select",{value:o,onChange:e=>s(e.target.value),className:"text-sm border-0 bg-transparent focus:outline-none text-gray-600 dark:text-gray-400 cursor-pointer transition-colors duration-300",children:[(0,Qg.jsx)("option",{value:"INR",children:"INR"}),(0,Qg.jsx)("option",{value:"USD",children:"USD"})]})]}),(0,Qg.jsxs)("div",{className:"mb-4",children:[(0,Qg.jsx)("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white transition-colors duration-300",children:"INR"===o?m(v,"INR"):m((R=v,R/84),"USD")}),(0,Qg.jsxs)("p",{className:"text-sm text-green-500 dark:text-green-400 flex items-center mt-1 transition-colors duration-300",children:[(0,Qg.jsx)(Ey,{className:"w-4 h-4 mr-1"}),T>=0?"Positive":"Negative"," savings this month"]})]}),(0,Qg.jsxs)("div",{className:"flex space-x-3 mb-6",children:[(0,Qg.jsxs)("button",{onClick:()=>a("/transactions?mode=transfer"),className:"flex-1 bg-gray-900 dark:bg-gray-800 text-white py-2 px-4 rounded-lg flex items-center justify-center space-x-2 hover:bg-gray-800 dark:hover:bg-gray-700 transition-all duration-300 transform hover:-translate-y-0.5 shadow-md dark:shadow-lg",children:[(0,Qg.jsx)(Sy,{className:"w-4 h-4"}),(0,Qg.jsx)("span",{children:"Transfer"})]}),(0,Qg.jsxs)("button",{onClick:()=>a("/transactions?mode=add"),className:"flex-1 bg-orange-500 hover:bg-orange-600 text-white py-2 px-4 rounded-lg flex items-center justify-center space-x-2 transition-all duration-300 transform hover:-translate-y-0.5 shadow-md dark:shadow-lg",children:[(0,Qg.jsx)(Ny,{className:"w-4 h-4"}),(0,Qg.jsx)("span",{children:"Add Transaction"})]})]}),(0,Qg.jsxs)("div",{children:[(0,Qg.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,Qg.jsxs)("h4",{className:"text-sm text-gray-600 dark:text-gray-400 transition-colors duration-300",children:["Accounts | Total ",n.length]}),(0,Qg.jsxs)("button",{onClick:()=>a("/accounts"),className:"text-xs text-orange-500 hover:text-orange-600 dark:hover:text-orange-400 flex items-center transition-colors duration-300",children:["View all",(0,Qg.jsx)(jy,{className:"w-3 h-3 ml-1"})]})]}),(0,Qg.jsxs)("div",{className:"space-y-3",children:[(0,Qg.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-white/3 rounded-lg backdrop-blur-sm transition-all duration-300 hover:bg-gray-100 dark:hover:bg-white/5",children:[(0,Qg.jsxs)("div",{children:[(0,Qg.jsxs)("p",{className:"text-sm font-medium text-gray-900 dark:text-white transition-colors duration-300",children:["Bank (INR) (",b.length,")"]}),(0,Qg.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 transition-colors duration-300",children:"Total Balance"})]}),(0,Qg.jsx)("p",{className:"text-sm font-semibold text-gray-900 dark:text-white transition-colors duration-300",children:m(w,"INR")})]}),(0,Qg.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-white/3 rounded-lg backdrop-blur-sm transition-all duration-300 hover:bg-gray-100 dark:hover:bg-white/5",children:[(0,Qg.jsxs)("div",{children:[(0,Qg.jsxs)("p",{className:"text-sm font-medium text-gray-900 dark:text-white transition-colors duration-300",children:["Crypto/USD (",x.length,")"]}),(0,Qg.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 transition-colors duration-300",children:"Total Balance"})]}),(0,Qg.jsx)("p",{className:"text-sm font-semibold text-gray-900 dark:text-white transition-colors duration-300",children:m(k,"INR")})]})]})]})]}),(0,Qg.jsx)("div",{className:"lg:col-span-3 bg-white dark:bg-white/5 rounded-2xl p-6 backdrop-blur-sm h-full shadow-lg dark:shadow-2xl transition-all duration-300 hover:transform hover:scale-[1.02]",children:(0,Qg.jsxs)("div",{className:"h-full flex flex-col justify-between space-y-3",children:[(0,Qg.jsx)("div",{className:"bg-white dark:bg-white/5 rounded-xl p-3 flex-1 border border-gray-200 dark:border-white/10 backdrop-blur-sm transition-all duration-300 hover:bg-gray-50 dark:hover:bg-white/8",children:(0,Qg.jsxs)("div",{className:"flex items-center justify-between h-full",children:[(0,Qg.jsxs)("div",{children:[(0,Qg.jsx)("h3",{className:"text-xs text-gray-500 dark:text-gray-400 transition-colors duration-300",children:"Monthly Income"}),(0,Qg.jsx)("h2",{className:"text-lg font-bold mt-1 text-gray-900 dark:text-white transition-colors duration-300",children:m(j)}),(0,Qg.jsx)("p",{className:"text-xs text-green-600 dark:text-green-400 mt-1 transition-colors duration-300",children:"\u2191 12% than last month"})]}),(0,Qg.jsx)("div",{className:"w-8 h-8 bg-green-100 dark:bg-green-500/20 rounded-lg flex items-center justify-center backdrop-blur-sm transition-colors duration-300",children:(0,Qg.jsx)(wy,{className:"w-4 h-4 text-green-600 dark:text-green-400"})})]})}),(0,Qg.jsx)("div",{className:"bg-white dark:bg-white/5 rounded-xl p-3 flex-1 border border-gray-200 dark:border-white/10 backdrop-blur-sm transition-all duration-300 hover:bg-gray-50 dark:hover:bg-white/8",children:(0,Qg.jsxs)("div",{className:"flex items-center justify-between h-full",children:[(0,Qg.jsxs)("div",{children:[(0,Qg.jsx)("h3",{className:"text-xs text-gray-500 dark:text-gray-400 transition-colors duration-300",children:"Monthly Expense"}),(0,Qg.jsx)("h2",{className:"text-lg font-bold mt-1 text-gray-900 dark:text-white transition-colors duration-300",children:m(_)}),(0,Qg.jsx)("p",{className:"text-xs text-red-600 dark:text-red-400 mt-1 transition-colors duration-300",children:"\u2191 8% than last month"})]}),(0,Qg.jsx)("div",{className:"w-8 h-8 bg-red-100 dark:bg-red-500/20 rounded-lg flex items-center justify-center backdrop-blur-sm transition-colors duration-300",children:(0,Qg.jsx)(ky,{className:"w-4 h-4 text-red-600 dark:text-red-400"})})]})}),(0,Qg.jsx)("div",{className:"bg-white dark:bg-white/5 rounded-xl p-3 flex-1 border border-gray-200 dark:border-white/10 backdrop-blur-sm transition-all duration-300 hover:bg-gray-50 dark:hover:bg-white/8",children:(0,Qg.jsxs)("div",{className:"flex items-center justify-between h-full",children:[(0,Qg.jsxs)("div",{children:[(0,Qg.jsx)("h3",{className:"text-xs text-gray-500 dark:text-gray-400 transition-colors duration-300",children:"Monthly Savings"}),(0,Qg.jsxs)("h2",{className:"text-lg font-bold mt-1 text-gray-900 dark:text-white transition-colors duration-300",children:[T>=0?"":"-",m(Math.abs(T))]}),(0,Qg.jsxs)("p",{className:"text-xs mt-1 transition-colors duration-300 "+(T>=0?"text-blue-600 dark:text-blue-400":"text-orange-600 dark:text-orange-400"),children:[T>=0?"Saved":"Overspent"," this month"]})]}),(0,Qg.jsx)("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center backdrop-blur-sm transition-colors duration-300 "+(T>=0?"bg-blue-100 dark:bg-blue-500/20":"bg-orange-100 dark:bg-orange-500/20"),children:T>=0?(0,Qg.jsx)(Ey,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"}):(0,Qg.jsx)(_y,{className:"w-4 h-4 text-orange-600 dark:text-orange-400"})})]})})]})}),(0,Qg.jsxs)("div",{className:"lg:col-span-5 bg-white dark:bg-white/5 rounded-2xl p-6 backdrop-blur-sm h-full flex flex-col shadow-lg dark:shadow-2xl transition-all duration-300 hover:transform hover:scale-[1.02]",children:[(0,Qg.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,Qg.jsx)("h3",{className:"text-base font-semibold text-gray-900 dark:text-white transition-colors duration-300",children:"Net Worth Overview"}),(0,Qg.jsxs)("select",{value:h,onChange:e=>f(e.target.value),className:"text-sm bg-white dark:bg-white/5 border border-gray-300 dark:border-white/10 rounded-lg px-3 py-1 text-gray-900 dark:text-gray-100 backdrop-blur-sm transition-colors duration-300",children:[(0,Qg.jsx)("option",{value:"weekly",children:"Weekly"}),(0,Qg.jsx)("option",{value:"monthly",children:"Monthly"}),(0,Qg.jsx)("option",{value:"yearly",children:"Yearly"}),(0,Qg.jsx)("option",{value:"all",children:"All Time"})]})]}),(0,Qg.jsx)("div",{className:"flex-1",children:u?(0,Qg.jsx)("div",{className:"h-full flex items-center justify-center",children:(0,Qg.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-orange-500"})}):l.length>0?(0,Qg.jsx)(Zy,{width:"100%",height:"100%",children:(0,Qg.jsxs)(VD,{data:l,margin:{top:10,right:10,left:0,bottom:40},children:[(0,Qg.jsx)("defs",{children:(0,Qg.jsxs)("linearGradient",{id:"colorNetWorth",x1:"0",y1:"0",x2:"0",y2:"1",children:[(0,Qg.jsx)("stop",{offset:"5%",stopColor:"#f97316",stopOpacity:.3}),(0,Qg.jsx)("stop",{offset:"95%",stopColor:"#f97316",stopOpacity:0})]})}),(0,Qg.jsx)(pR,{strokeDasharray:"3 3",stroke:"currentColor",opacity:.1,className:"text-gray-300 dark:text-gray-600"}),(0,Qg.jsx)(SR,{dataKey:"label",stroke:"currentColor",fontSize:10,angle:-45,textAnchor:"end",className:"text-gray-600 dark:text-gray-400"}),(0,Qg.jsx)(OR,{stroke:"currentColor",fontSize:10,tickFormatter:e=>`\u20b9${(e=>{const t=Math.abs(e);return t>=1e7?(e/1e7).toFixed(1).replace(/\.0$/,"")+"Cr":t>=1e5?(e/1e5).toFixed(1).replace(/\.0$/,"")+"L":t>=1e3?(e/1e3).toFixed(0)+"k":e.toString()})(e)}`,width:50,className:"text-gray-600 dark:text-gray-400"}),(0,Qg.jsx)(qF,{formatter:e=>m(e,"INR"),contentStyle:{backgroundColor:"var(--bg-elevated)",border:"1px solid var(--border-primary)",borderRadius:"8px",color:"var(--text-primary)"},labelStyle:{color:"var(--text-tertiary)"}}),(0,Qg.jsx)(dU,{type:"monotone",dataKey:"netWorth",stroke:"#f97316",strokeWidth:2,dot:{fill:"#f97316",r:3},activeDot:{r:5},fill:"url(#colorNetWorth)"})]})}):(0,Qg.jsx)("div",{className:"h-full flex items-center justify-center text-gray-500 dark:text-gray-400 text-sm transition-colors duration-300",children:"No data available"})})]})]}),(0,Qg.jsxs)("div",{className:"bg-white dark:bg-white/5 rounded-2xl p-6 backdrop-blur-sm shadow-lg dark:shadow-2xl transition-all duration-300 hover:transform hover:scale-[1.01]",children:[(0,Qg.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Qg.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white transition-colors duration-300",children:"Recent Transactions"}),(0,Qg.jsxs)("button",{onClick:()=>a("/transactions"),className:"text-sm text-orange-500 hover:text-orange-600 dark:hover:text-orange-400 flex items-center transition-colors duration-300",children:["View all",(0,Qg.jsx)(jy,{className:"w-4 h-4 ml-1"})]})]}),(0,Qg.jsx)("div",{className:"overflow-x-auto",children:(0,Qg.jsxs)("table",{className:"w-full",children:[(0,Qg.jsx)("thead",{children:(0,Qg.jsxs)("tr",{className:"text-left text-sm text-gray-600 dark:text-gray-400 border-b border-gray-200 dark:border-white/10 transition-colors duration-300",children:[(0,Qg.jsx)("th",{className:"pb-3 font-medium",children:"Date"}),(0,Qg.jsx)("th",{className:"pb-3 font-medium",children:"Type"}),(0,Qg.jsx)("th",{className:"pb-3 font-medium",children:"Amount"}),(0,Qg.jsx)("th",{className:"pb-3 font-medium",children:"Payment Mode"}),(0,Qg.jsx)("th",{className:"pb-3 font-medium",children:"Account"}),(0,Qg.jsx)("th",{className:"pb-3 font-medium",children:"Category"}),(0,Qg.jsx)("th",{className:"pb-3 font-medium",children:"Notes"}),(0,Qg.jsx)("th",{className:"pb-3 font-medium text-center",children:"Actions"})]})}),(0,Qg.jsx)("tbody",{children:A.length>0?A.map(e=>{return(0,Qg.jsxs)("tr",{className:"border-b border-gray-100 dark:border-white/5 hover:bg-gray-50 dark:hover:bg-white/5 transition-all duration-300",children:[(0,Qg.jsx)("td",{className:"py-4",children:(0,Qg.jsxs)("div",{children:[(0,Qg.jsx)("p",{className:"text-sm font-medium text-gray-900 dark:text-white transition-colors duration-300",children:(t=e.date,new Date(t).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"}))}),(0,Qg.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 transition-colors duration-300",children:y(e.date)})]})}),(0,Qg.jsx)("td",{className:"py-4",children:(0,Qg.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Qg.jsx)("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center transition-colors duration-300 ${M(e.type)}`,children:D(e.type)}),(0,Qg.jsx)("span",{className:"text-sm font-medium text-gray-900 dark:text-white capitalize transition-colors duration-300",children:e.type})]})}),(0,Qg.jsx)("td",{className:"py-4",children:(0,Qg.jsxs)("span",{className:"text-sm font-medium transition-colors duration-300 "+("income"===e.type?"text-green-600 dark:text-green-400":"expense"===e.type?"text-red-600 dark:text-red-400":"text-gray-900 dark:text-white"),children:["expense"===e.type?"-":"income"===e.type?"+":"",m(e.amount,e.currency)]})}),(0,Qg.jsx)("td",{className:"py-4 text-sm text-gray-600 dark:text-gray-400 transition-colors duration-300",children:e.paymentMode||"-"}),(0,Qg.jsx)("td",{className:"py-4 text-sm text-gray-600 dark:text-gray-400 transition-colors duration-300",children:e.accountName||"-"}),(0,Qg.jsx)("td",{className:"py-4 text-sm text-gray-600 dark:text-gray-400 transition-colors duration-300",children:e.category||"-"}),(0,Qg.jsx)("td",{className:"py-4 text-sm text-gray-600 dark:text-gray-400 transition-colors duration-300",children:(0,Qg.jsx)("span",{className:"truncate block max-w-[150px]",title:e.notes,children:e.notes||"-"})}),(0,Qg.jsx)("td",{className:"py-4 text-center",children:(0,Qg.jsx)("button",{className:"p-1 hover:bg-gray-100 dark:hover:bg-gray-700 rounded transition-colors duration-300",children:(0,Qg.jsx)(Ty,{className:"w-4 h-4 text-gray-600 dark:text-gray-400"})})})]},e.id);var t}):(0,Qg.jsx)("tr",{children:(0,Qg.jsx)("td",{colSpan:"8",className:"py-8 text-center text-gray-500 dark:text-gray-400 transition-colors duration-300",children:"No transactions yet. Add your first transaction to get started!"})})})]})})]}),(0,Qg.jsxs)("button",{onClick:()=>a("/transactions?mode=add"),className:"fixed bottom-6 right-6 w-14 h-14 bg-orange-500 hover:bg-orange-600 text-white rounded-full shadow-lg dark:shadow-2xl transition-all duration-300 flex items-center justify-center group transform hover:-translate-y-1 hover:shadow-xl dark:hover:shadow-3xl",children:[(0,Qg.jsx)(Ny,{className:"w-6 h-6"}),(0,Qg.jsx)("span",{className:"absolute right-16 bg-gray-900 dark:bg-black text-white px-3 py-2 rounded-lg text-sm whitespace-nowrap opacity-0 group-hover:opacity-100 transition-all duration-300 shadow-lg dark:shadow-2xl",children:"Add Transaction"})]})]});var R},fU=oy("bitcoin",[["path",{d:"M11.767 19.089c4.924.868 6.14-6.025 1.216-6.894m-1.216 6.894L5.86 18.047m5.908 1.042-.347 1.97m1.563-8.864c4.924.869 6.14-6.025 1.215-6.893m-1.215 6.893-3.94-.694m5.155-6.2L8.29 4.26m5.908 1.042.348-1.97M7.48 20.364l3.126-17.727",key:"yr8idg"}]]),pU=oy("building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]),mU=oy("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]]),gU=oy("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]),yU=oy("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]),vU=oy("trash-2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),bU=oy("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),xU=oy("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),wU=oy("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),kU=84,SU={income:["Salary","Gift","Payouts","Gambling","Investments","Business","Freelance","Rental Income","Interest","Dividends","Bonus","Commission","Refunds","Other Income"],expense:["Food & Dining","Travel","Entertainment","Friends & Family","Shopping","Utilities","Healthcare","Personal Care","Gifts & Donations","Bills","Groceries","Vehicle","Subscriptions","Hobbies","Eval","Other Expenses"],transfer:["Self Transfer","Account Transfer","Wallet Transfer"],adjustment:["Balance Reconciliation","Bank Interest","Bank Charges","Missed Transaction","Other Adjustment"]},EU={bank:["UPI","Bank Transfer","Debit Card","Credit Card","Cash","Net Banking"],crypto:["Crypto Transfer","Crypto Card","Exchange Transfer","DeFi Transaction"]};const NU=function(e){var n,r;let{accounts:a,transactions:i}=e;const o=Z(),s=ne(),{currentUser:l}=Jg(),c=new URLSearchParams(o.search).get("mode"),[u,d]=(0,t.useState)("add"===c),[h,f]=(0,t.useState)(!1),[p,m]=(0,t.useState)(!1),[g,y]=(0,t.useState)(!1),[v,b]=(0,t.useState)(null),[x,w]=(0,t.useState)(!1),[k,S]=(0,t.useState)(null),E=()=>{const e=new Date;return`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")}T${String(e.getHours()).padStart(2,"0")}:${String(e.getMinutes()).padStart(2,"0")}`},[N,j]=(0,t.useState)({type:"transfer"===c?"transfer":"expense",amount:"",currency:"INR",accountId:"",toAccountId:"",category:"",paymentMode:"",notes:"",newBalance:"",date:E(),isIncrease:!0}),_=new Date,T=new Date(_.getFullYear(),_.getMonth(),1).toISOString().split("T")[0],A=new Date(_.getFullYear(),_.getMonth()+1,0).toISOString().split("T")[0],[C,O]=(0,t.useState)({search:"",type:"all",accountId:"all",category:"all",paymentMode:"all",datePreset:"thisMonth",dateFrom:T,dateTo:A,amountMin:"",amountMax:""}),[I,P]=(0,t.useState)(1),[D]=(0,t.useState)(20);(0,t.useEffect)(()=>{const e=()=>S(null);return document.addEventListener("click",e),()=>document.removeEventListener("click",e)},[]),(0,t.useEffect)(()=>{c&&s("/transactions",{replace:!0})},[c,s]),(0,t.useEffect)(()=>{u&&j(e=>({...e,date:E()}))},[u]),(0,t.useEffect)(()=>{const e=e=>{"Escape"===e.key&&(u&&(d(!1),V()),h&&(f(!1),b(null),V()),p&&(m(!1),b(null)))};if(u||h||p)return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[u,h,p]);const M=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"INR";return new Intl.NumberFormat("en-IN",{style:"currency",currency:t,minimumFractionDigits:"USD"===t?2:0,maximumFractionDigits:"USD"===t?2:0}).format(e)},R=(e,t)=>"USD"===t?e*kU:e,L=e=>new Date(e).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"}),F=e=>a.find(t=>t.id===e),z=e=>({income:(0,Qg.jsx)(wy,{className:"w-5 h-5 text-green-600 dark:text-green-400"}),expense:(0,Qg.jsx)(ky,{className:"w-5 h-5 text-red-600 dark:text-red-400"}),transfer:(0,Qg.jsx)(Sy,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),adjustment:(0,Qg.jsx)(uy,{className:"w-5 h-5 text-orange-600 dark:text-orange-400"})}[e]||null),U=e=>({income:"bg-green-100 dark:bg-green-500/10",expense:"bg-red-100 dark:bg-red-500/10",transfer:"bg-blue-100 dark:bg-blue-500/10",adjustment:"bg-orange-100 dark:bg-orange-500/10"}[e]||"bg-gray-100 dark:bg-gray-800"),V=()=>{j({type:"expense",amount:"",currency:"INR",accountId:"",toAccountId:"",category:"",paymentMode:"",notes:"",newBalance:"",date:E(),isIncrease:!0})},B=i.filter(e=>{var t,n;return!!(!C.search||null!==(t=e.notes)&&void 0!==t&&t.toLowerCase().includes(C.search.toLowerCase())||null!==(n=e.category)&&void 0!==n&&n.toLowerCase().includes(C.search.toLowerCase()))&&(("all"===C.type||e.type===C.type)&&(("all"===C.accountId||e.accountId===C.accountId)&&(("all"===C.category||e.category===C.category)&&(("all"===C.paymentMode||e.paymentMode===C.paymentMode)&&(!(C.dateFrom&&new Date(e.date)<new Date(C.dateFrom))&&(!(C.dateTo&&new Date(e.date)>new Date(C.dateTo+"T23:59:59"))&&(!(C.amountMin&&e.amount<parseFloat(C.amountMin))&&!(C.amountMax&&e.amount>parseFloat(C.amountMax)))))))))}),$=I*D,H=$-D,K=B.slice(H,$),q=Math.ceil(B.length/D),W=B.filter(e=>"income"===e.type).reduce((e,t)=>e+R(t.amount,t.currency),0),G=B.filter(e=>"expense"===e.type).reduce((e,t)=>e+R(t.amount,t.currency),0),Y=W-G;return(0,Qg.jsxs)("div",{className:"p-6 space-y-6 animate-fade-in relative min-h-screen transition-all duration-500",children:[(0,Qg.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Qg.jsxs)("div",{children:[(0,Qg.jsx)("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white transition-colors duration-300",children:"Transactions"}),(0,Qg.jsx)("p",{className:"text-gray-600 dark:text-gray-400 transition-colors duration-300",children:"Track and manage your financial transactions"})]}),(0,Qg.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Qg.jsx)("button",{onClick:()=>y(!g),className:"p-2 rounded-lg shadow-sm dark:shadow-lg hover:shadow-md dark:hover:shadow-xl transition-all duration-300 backdrop-blur-sm "+(g?"bg-orange-500 text-white":"bg-white dark:bg-white/5 text-gray-600 dark:text-gray-400"),children:(0,Qg.jsx)(mU,{className:"w-5 h-5"})}),(0,Qg.jsxs)("button",{onClick:()=>d(!0),className:"bg-orange-500 hover:bg-orange-600 text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-all duration-300 transform hover:-translate-y-0.5 shadow-md dark:shadow-lg",children:[(0,Qg.jsx)(Ny,{className:"w-4 h-4"}),(0,Qg.jsx)("span",{children:"Add Transaction"})]})]})]}),(0,Qg.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,Qg.jsxs)("div",{className:"bg-white dark:bg-white/5 rounded-xl p-4 backdrop-blur-sm shadow-lg dark:shadow-2xl transition-all duration-300 hover:transform hover:scale-[1.02]",children:[(0,Qg.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Qg.jsx)("h3",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Transactions"}),(0,Qg.jsx)("div",{className:"w-8 h-8 bg-blue-100 dark:bg-blue-500/20 rounded-lg flex items-center justify-center",children:(0,Qg.jsx)(sy,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"})})]}),(0,Qg.jsx)("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:B.length.toLocaleString()})]}),(0,Qg.jsxs)("div",{className:"bg-white dark:bg-white/5 rounded-xl p-4 backdrop-blur-sm shadow-lg dark:shadow-2xl transition-all duration-300 hover:transform hover:scale-[1.02]",children:[(0,Qg.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Qg.jsx)("h3",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Income"}),(0,Qg.jsx)("div",{className:"w-8 h-8 bg-green-100 dark:bg-green-500/20 rounded-lg flex items-center justify-center",children:(0,Qg.jsx)(wy,{className:"w-4 h-4 text-green-600 dark:text-green-400"})})]}),(0,Qg.jsx)("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:M(W,"INR")})]}),(0,Qg.jsxs)("div",{className:"bg-white dark:bg-white/5 rounded-xl p-4 backdrop-blur-sm shadow-lg dark:shadow-2xl transition-all duration-300 hover:transform hover:scale-[1.02]",children:[(0,Qg.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Qg.jsx)("h3",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Expense"}),(0,Qg.jsx)("div",{className:"w-8 h-8 bg-red-100 dark:bg-red-500/20 rounded-lg flex items-center justify-center",children:(0,Qg.jsx)(ky,{className:"w-4 h-4 text-red-600 dark:text-red-400"})})]}),(0,Qg.jsx)("p",{className:"text-2xl font-bold text-red-600 dark:text-red-400",children:M(G,"INR")})]}),(0,Qg.jsxs)("div",{className:"bg-white dark:bg-white/5 rounded-xl p-4 backdrop-blur-sm shadow-lg dark:shadow-2xl transition-all duration-300 hover:transform hover:scale-[1.02]",children:[(0,Qg.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Qg.jsx)("h3",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Net Amount"}),(0,Qg.jsx)("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center "+(Y>=0?"bg-blue-100 dark:bg-blue-500/20":"bg-orange-100 dark:bg-orange-500/20"),children:(0,Qg.jsx)(uy,{className:"w-4 h-4 "+(Y>=0?"text-blue-600 dark:text-blue-400":"text-orange-600 dark:text-orange-400")})})]}),(0,Qg.jsxs)("p",{className:"text-2xl font-bold "+(Y>=0?"text-blue-600 dark:text-blue-400":"text-orange-600 dark:text-orange-400"),children:[Y>=0?"":"-",M(Math.abs(Y),"INR")]})]})]}),g&&(0,Qg.jsxs)("div",{className:"bg-white dark:bg-white/5 rounded-2xl p-6 backdrop-blur-sm shadow-lg dark:shadow-2xl transition-all duration-300",children:[(0,Qg.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Qg.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Filters"}),(0,Qg.jsx)("button",{onClick:()=>{O({search:"",type:"all",accountId:"all",category:"all",paymentMode:"all",datePreset:"thisMonth",amountMin:"",amountMax:"",dateFrom:new Date((new Date).getFullYear(),(new Date).getMonth(),1).toISOString().split("T")[0],dateTo:new Date((new Date).getFullYear(),(new Date).getMonth()+1,0).toISOString().split("T")[0]})},className:"text-sm text-orange-500 hover:text-orange-600 dark:hover:text-orange-400 transition-colors duration-300",children:"Clear All"})]}),(0,Qg.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[(0,Qg.jsxs)("div",{children:[(0,Qg.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Search"}),(0,Qg.jsxs)("div",{className:"relative",children:[(0,Qg.jsx)(gU,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,Qg.jsx)("input",{type:"text",value:C.search,onChange:e=>O({...C,search:e.target.value}),placeholder:"Search transactions...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300"})]})]}),(0,Qg.jsxs)("div",{children:[(0,Qg.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Time Period"}),(0,Qg.jsxs)("select",{value:C.datePreset,onChange:e=>(e=>{const t=new Date;let n="",r="";switch(e){case"thisWeek":const e=new Date(t);e.setDate(t.getDate()-t.getDay());const a=new Date(e);a.setDate(e.getDate()+6),n=e.toISOString().split("T")[0],r=a.toISOString().split("T")[0];break;case"thisMonth":n=new Date(t.getFullYear(),t.getMonth(),1).toISOString().split("T")[0],r=new Date(t.getFullYear(),t.getMonth()+1,0).toISOString().split("T")[0];break;case"thisYear":n=new Date(t.getFullYear(),0,1).toISOString().split("T")[0],r=new Date(t.getFullYear(),11,31).toISOString().split("T")[0];break;case"allTime":n="",r=""}O({...C,datePreset:e,dateFrom:n,dateTo:r})})(e.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300",children:[(0,Qg.jsx)("option",{value:"thisWeek",children:"This Week"}),(0,Qg.jsx)("option",{value:"thisMonth",children:"This Month"}),(0,Qg.jsx)("option",{value:"thisYear",children:"This Year"}),(0,Qg.jsx)("option",{value:"allTime",children:"All Time"}),(0,Qg.jsx)("option",{value:"custom",children:"Custom Range"})]})]}),"custom"===C.datePreset&&(0,Qg.jsxs)(Qg.Fragment,{children:[(0,Qg.jsxs)("div",{children:[(0,Qg.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"From Date"}),(0,Qg.jsx)("input",{type:"date",value:C.dateFrom,onChange:e=>O({...C,dateFrom:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300"})]}),(0,Qg.jsxs)("div",{children:[(0,Qg.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"To Date"}),(0,Qg.jsx)("input",{type:"date",value:C.dateTo,onChange:e=>O({...C,dateTo:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300"})]})]}),(0,Qg.jsxs)("div",{children:[(0,Qg.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Type"}),(0,Qg.jsxs)("select",{value:C.type,onChange:e=>O({...C,type:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300",children:[(0,Qg.jsx)("option",{value:"all",children:"All Types"}),(0,Qg.jsx)("option",{value:"income",children:"Income"}),(0,Qg.jsx)("option",{value:"expense",children:"Expense"}),(0,Qg.jsx)("option",{value:"transfer",children:"Transfer"}),(0,Qg.jsx)("option",{value:"adjustment",children:"Adjustment"})]})]}),(0,Qg.jsxs)("div",{children:[(0,Qg.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Account"}),(0,Qg.jsxs)("select",{value:C.accountId,onChange:e=>O({...C,accountId:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300",children:[(0,Qg.jsx)("option",{value:"all",children:"All Accounts"}),a.map(e=>(0,Qg.jsx)("option",{value:e.id,children:e.name},e.id))]})]})]})]}),(0,Qg.jsxs)("div",{className:"bg-white dark:bg-white/5 rounded-2xl backdrop-blur-sm shadow-lg dark:shadow-2xl transition-all duration-300 overflow-hidden",children:[(0,Qg.jsx)("div",{className:"overflow-x-auto",children:(0,Qg.jsxs)("table",{className:"w-full",children:[(0,Qg.jsx)("thead",{className:"bg-gray-50 dark:bg-white/5 border-b border-gray-200 dark:border-white/10",children:(0,Qg.jsxs)("tr",{children:[(0,Qg.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Date & Time"}),(0,Qg.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Type"}),(0,Qg.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Amount"}),(0,Qg.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Account"}),(0,Qg.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Category"}),(0,Qg.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Payment Mode"}),(0,Qg.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Notes"}),(0,Qg.jsx)("th",{className:"px-6 py-4 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),(0,Qg.jsx)("tbody",{className:"divide-y divide-gray-200 dark:divide-white/10",children:K.length>0?K.map(e=>{const t=F(e.accountId),n=(e.toAccountId&&F(e.toAccountId),t?(r=t.type,a=t.subtype,"crypto"===r?fU:"Credit Card"===a?dy:pU):pU);var r,a,i;return(0,Qg.jsxs)("tr",{className:"hover:bg-gray-50 dark:hover:bg-white/5 transition-all duration-300",children:[(0,Qg.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Qg.jsxs)("div",{children:[(0,Qg.jsx)("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:L(e.date)}),(0,Qg.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:(i=e.date,new Date(i).toLocaleTimeString("en-IN",{hour:"2-digit",minute:"2-digit"}))})]})}),(0,Qg.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Qg.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Qg.jsx)("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center ${U(e.type)}`,children:z(e.type)}),(0,Qg.jsxs)("div",{children:[(0,Qg.jsx)("span",{className:"text-sm font-medium text-gray-900 dark:text-white capitalize",children:e.type}),"adjustment"===e.type&&(0,Qg.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[e.isIncrease?"+":"-"," Balance"]})]})]})}),(0,Qg.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,Qg.jsxs)("span",{className:"text-sm font-medium "+("income"===e.type?"text-green-600 dark:text-green-400":"expense"===e.type?"text-red-600 dark:text-red-400":"adjustment"===e.type?e.isIncrease?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400":"text-gray-900 dark:text-white"),children:["expense"===e.type?"-":"income"===e.type?"+":"adjustment"===e.type?e.isIncrease?"+":"-":"",M(e.amount,e.currency)]}),"INR"!==e.currency&&"transfer"!==e.type&&(0,Qg.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["\u2248 ",M(R(e.amount,e.currency),"INR")]}),"transfer"===e.type&&e.convertedAmount&&e.currency!==e.toCurrency&&(0,Qg.jsxs)("p",{className:"text-xs text-blue-600 dark:text-blue-400",children:["\u2192 ",M(e.convertedAmount,e.toCurrency)]})]}),(0,Qg.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Qg.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Qg.jsx)("div",{className:"w-6 h-6 rounded-md flex items-center justify-center "+("crypto"===(null===t||void 0===t?void 0:t.type)?"bg-orange-100 dark:bg-orange-500/20":"bg-blue-100 dark:bg-blue-500/20"),children:(0,Qg.jsx)(n,{className:"w-4 h-4 "+("crypto"===(null===t||void 0===t?void 0:t.type)?"text-orange-600 dark:text-orange-400":"text-blue-600 dark:text-blue-400")})}),(0,Qg.jsxs)("div",{children:[(0,Qg.jsx)("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:e.accountName||(null===t||void 0===t?void 0:t.name)||"Unknown"}),"transfer"===e.type&&e.toAccountName&&(0,Qg.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["\u2192 ",e.toAccountName]}),e.accountDeleted&&(0,Qg.jsx)("p",{className:"text-xs text-red-500 dark:text-red-400",children:"Deleted Account"})]})]})}),(0,Qg.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600 dark:text-gray-400",children:e.category||"-"}),(0,Qg.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600 dark:text-gray-400",children:e.paymentMode||"-"}),(0,Qg.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Qg.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400 truncate block max-w-[200px]",title:e.notes,children:e.notes||"-"})}),(0,Qg.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:(0,Qg.jsxs)("div",{className:"relative",children:[(0,Qg.jsx)("button",{onClick:t=>{t.stopPropagation(),S(k===e.id?null:e.id)},className:"p-1 hover:bg-gray-100 dark:hover:bg-gray-700 rounded transition-colors duration-300",children:(0,Qg.jsx)(Ty,{className:"w-4 h-4 text-gray-600 dark:text-gray-400"})}),k===e.id&&(0,Qg.jsxs)("div",{className:"absolute right-0 mt-2 w-40 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 py-1 z-10",children:[(0,Qg.jsxs)("button",{onClick:()=>(e=>{var t;b(e),j({type:e.type,amount:e.amount.toString(),currency:e.currency,accountId:e.accountId,toAccountId:e.toAccountId||"",category:e.category,paymentMode:e.paymentMode||"",notes:e.notes||"",date:e.date,isIncrease:null===(t=e.isIncrease)||void 0===t||t}),f(!0),S(null)})(e),className:"w-full text-left px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center space-x-2 transition-colors duration-300",children:[(0,Qg.jsx)(yU,{className:"w-4 h-4"}),(0,Qg.jsx)("span",{children:"Edit"})]}),(0,Qg.jsxs)("button",{onClick:()=>(e=>{b(e),m(!0),S(null)})(e),className:"w-full text-left px-4 py-2 text-sm text-red-600 dark:text-red-400 hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center space-x-2 transition-colors duration-300",children:[(0,Qg.jsx)(vU,{className:"w-4 h-4"}),(0,Qg.jsx)("span",{children:"Delete"})]})]})]})})]},e.id)}):(0,Qg.jsx)("tr",{children:(0,Qg.jsx)("td",{colSpan:"8",className:"px-6 py-12 text-center",children:(0,Qg.jsxs)("div",{className:"text-gray-500 dark:text-gray-400",children:[(0,Qg.jsx)(sy,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),(0,Qg.jsx)("p",{className:"text-lg font-medium mb-2",children:"No transactions found"}),(0,Qg.jsx)("p",{className:"text-sm",children:"Add your first transaction or adjust your filters"})]})})})})]})}),q>1&&(0,Qg.jsxs)("div",{className:"px-6 py-4 border-t border-gray-200 dark:border-white/10 flex items-center justify-between",children:[(0,Qg.jsxs)("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:["Showing ",H+1," to ",Math.min($,B.length)," of ",B.length," transactions"]}),(0,Qg.jsxs)("div",{className:"flex space-x-1",children:[(0,Qg.jsx)("button",{onClick:()=>P(Math.max(1,I-1)),disabled:1===I,className:"px-3 py-1 text-sm border border-gray-300 dark:border-gray-600 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-300",children:"Previous"}),Array.from({length:Math.min(5,q)},(e,t)=>{let n;return n=q<=5||I<=3?t+1:I>=q-2?q-4+t:I-2+t,(0,Qg.jsx)("button",{onClick:()=>P(n),className:"px-3 py-1 text-sm border rounded-md transition-colors duration-300 "+(I===n?"bg-orange-500 text-white border-orange-500":"border-gray-300 dark:border-gray-600 hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300"),children:n},n)}),(0,Qg.jsx)("button",{onClick:()=>P(Math.min(q,I+1)),disabled:I===q,className:"px-3 py-1 text-sm border border-gray-300 dark:border-gray-600 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-300",children:"Next"})]})]})]}),u&&(0,Qg.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",onClick:e=>{e.target===e.currentTarget&&(d(!1),V())},children:(0,Qg.jsxs)("div",{className:"bg-white dark:bg-gray-900 rounded-2xl p-6 w-full max-w-2xl max-h-[95vh] overflow-y-auto backdrop-blur-sm border border-gray-200 dark:border-gray-700",children:[(0,Qg.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Qg.jsx)("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Add Transaction"}),(0,Qg.jsx)("button",{onClick:()=>{d(!1),V()},className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition-colors duration-300",children:(0,Qg.jsx)(bU,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})})]}),(0,Qg.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),l&&!x&&N.accountId&&("transfer"!==N.type||N.amount&&N.toAccountId)&&("adjustment"!==N.type||N.newBalance)&&(!["income","expense"].includes(N.type)||N.amount&&N.category))try{w(!0);const e=Kg(Yg),t=F(N.accountId);if(!t)throw new Error("Account not found");let n,r={userId:l.uid,accountId:N.accountId,accountName:t.name,currency:t.currency,date:N.date,notes:N.notes,createdAt:(new Date).toISOString()};if("adjustment"===N.type){const a=parseFloat(N.newBalance),i=t.balance;n=a-i,r={...r,type:"adjustment",amount:Math.abs(n),amountInINR:R(Math.abs(n),t.currency),exchangeRate:"USD"===t.currency?kU:1,isIncrease:n>=0,category:"Balance Reconciliation",paymentMode:"Account Adjustment",newBalance:a,previousBalance:i};const o=Pm(Yg,"users",l.uid,"accounts",N.accountId);e.update(o,{balance:a,lastActivityAt:(new Date).toISOString(),updatedAt:(new Date).toISOString()})}else{n=parseFloat(N.amount);const a=R(n,t.currency);if(r={...r,type:N.type,amount:n,amountInINR:a,exchangeRate:"USD"===t.currency?kU:1},"transfer"===N.type){const a=F(N.toAccountId);if(!a)throw new Error("Destination account not found");if(N.accountId===N.toAccountId)throw new Error("Cannot transfer to same account");r.toAccountId=N.toAccountId,r.toAccountName=a.name,r.fromAccountId=N.accountId,r.category="Self Transfer",r.paymentMode="Account Transfer";const i=Pm(Yg,"users",l.uid,"accounts",N.accountId),o=Pm(Yg,"users",l.uid,"accounts",N.toAccountId);e.update(i,{balance:Hg(-n),lastActivityAt:(new Date).toISOString(),updatedAt:(new Date).toISOString()});const s=t.currency!==a.currency?"USD"===t.currency?n*kU:n/kU:n;e.update(o,{balance:Hg(s),lastActivityAt:(new Date).toISOString(),updatedAt:(new Date).toISOString()}),t.currency!==a.currency&&(r.convertedAmount=s,r.toCurrency=a.currency)}else{r.category=N.category,r.paymentMode=N.paymentMode;const t=Pm(Yg,"users",l.uid,"accounts",N.accountId),a="income"===N.type?n:-n;e.update(t,{balance:Hg(a),lastActivityAt:(new Date).toISOString(),updatedAt:(new Date).toISOString()})}}const a=Pm(Im(Yg,"users",l.uid,"transactions"));e.set(a,r),await e.commit(),d(!1),V()}catch(t){console.error("Error adding transaction:",t),alert("Error adding transaction. Please try again.")}finally{w(!1)}},className:"space-y-4",children:[(0,Qg.jsxs)("div",{children:[(0,Qg.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Transaction Type"}),(0,Qg.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:[{value:"income",label:"Income",icon:wy,color:"green"},{value:"expense",label:"Expense",icon:ky,color:"red"},{value:"transfer",label:"Transfer",icon:Sy,color:"blue"},{value:"adjustment",label:"Adjustment",icon:uy,color:"orange"}].map(e=>{const t=e.icon,n=N.type===e.value;return(0,Qg.jsxs)("button",{type:"button",onClick:()=>j({...N,type:e.value,category:"",paymentMode:""}),className:"p-2 rounded-lg border-2 transition-all duration-300 flex flex-col items-center space-y-1 "+(n?`border-${e.color}-500 bg-${e.color}-50 dark:bg-${e.color}-500/10`:"border-gray-300 dark:border-gray-600 hover:border-gray-400 dark:hover:border-gray-500"),children:[(0,Qg.jsx)(t,{className:"w-4 h-4 "+(n?`text-${e.color}-600 dark:text-${e.color}-400`:"text-gray-600 dark:text-gray-400")}),(0,Qg.jsx)("span",{className:"text-xs font-medium "+(n?`text-${e.color}-700 dark:text-${e.color}-300`:"text-gray-700 dark:text-gray-300"),children:e.label})]},e.value)})})]}),(0,Qg.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Qg.jsxs)("div",{children:[(0,Qg.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"transfer"===N.type?"From Account":"Account"}),(0,Qg.jsxs)("select",{value:N.accountId,onChange:e=>j({...N,accountId:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300 text-sm",required:!0,children:[(0,Qg.jsx)("option",{value:"",children:"Select account"}),a.map(e=>(0,Qg.jsxs)("option",{value:e.id,children:[e.name," (",e.currency,") - ",M(e.balance,e.currency)]},e.id))]})]}),"adjustment"!==N.type&&(0,Qg.jsxs)("div",{children:[(0,Qg.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Amount"}),(0,Qg.jsx)("input",{type:"number",step:"0.01",value:N.amount,onChange:e=>j({...N,amount:e.target.value}),placeholder:"0.00",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300 text-sm",required:!0})]}),"adjustment"===N.type&&(0,Qg.jsxs)("div",{children:[(0,Qg.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"New Balance"}),(0,Qg.jsx)("input",{type:"number",step:"0.01",value:N.newBalance,onChange:e=>j({...N,newBalance:e.target.value}),placeholder:"0.00",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300 text-sm",required:!0})]})]}),"transfer"===N.type&&(0,Qg.jsxs)("div",{children:[(0,Qg.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"To Account"}),(0,Qg.jsxs)("select",{value:N.toAccountId,onChange:e=>j({...N,toAccountId:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300 text-sm",required:!0,children:[(0,Qg.jsx)("option",{value:"",children:"Select destination account"}),a.filter(e=>e.id!==N.accountId).map(e=>(0,Qg.jsxs)("option",{value:e.id,children:[e.name," (",e.currency,") - ",M(e.balance,e.currency)]},e.id))]}),N.accountId&&N.toAccountId&&(()=>{const e=F(N.accountId),t=F(N.toAccountId);if(e&&t&&e.currency!==t.currency&&N.amount){const n="USD"===e.currency?parseFloat(N.amount)*kU:parseFloat(N.amount)/kU;return(0,Qg.jsxs)("p",{className:"text-xs text-blue-600 dark:text-blue-400 mt-1",children:["Will receive: ",M(n,t.currency)]})}return null})()]}),["income","expense"].includes(N.type)&&(0,Qg.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Qg.jsxs)("div",{children:[(0,Qg.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Category"}),(0,Qg.jsxs)("select",{value:N.category,onChange:e=>j({...N,category:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300 text-sm",required:!0,children:[(0,Qg.jsx)("option",{value:"",children:"Select category"}),null===(n=SU[N.type])||void 0===n?void 0:n.map(e=>(0,Qg.jsx)("option",{value:e,children:e},e))]})]}),(0,Qg.jsxs)("div",{children:[(0,Qg.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Payment Mode"}),(0,Qg.jsxs)("select",{value:N.paymentMode,onChange:e=>j({...N,paymentMode:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300 text-sm",children:[(0,Qg.jsx)("option",{value:"",children:"Select payment mode"}),N.accountId&&(e=>{const t=F(N.accountId);return t?null===(e=EU[t.type])||void 0===e?void 0:e.map(e=>(0,Qg.jsx)("option",{value:e,children:e},e)):null})()]})]})]}),(0,Qg.jsxs)("div",{children:[(0,Qg.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Date & Time"}),(0,Qg.jsx)("input",{type:"datetime-local",value:N.date,onChange:e=>j({...N,date:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300 text-sm",required:!0})]}),(0,Qg.jsxs)("div",{children:[(0,Qg.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Notes (Optional)"}),(0,Qg.jsx)("textarea",{value:N.notes,onChange:e=>j({...N,notes:e.target.value}),placeholder:"Add any additional notes...",rows:2,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300 text-sm"})]}),(0,Qg.jsxs)("div",{className:"flex space-x-3 pt-2",children:[(0,Qg.jsx)("button",{type:"button",onClick:()=>{d(!1),V()},className:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors duration-300 text-sm",children:"Cancel"}),(0,Qg.jsx)("button",{type:"submit",disabled:x||!N.accountId||"transfer"===N.type&&(!N.amount||!N.toAccountId)||"adjustment"===N.type&&!N.newBalance||["income","expense"].includes(N.type)&&(!N.amount||!N.category),className:"flex-1 bg-orange-500 hover:bg-orange-600 text-white px-4 py-2 rounded-lg transition-colors duration-300 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2 text-sm",children:x?(0,Qg.jsxs)(Qg.Fragment,{children:[(0,Qg.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),(0,Qg.jsx)("span",{children:"Adding..."})]}):(0,Qg.jsxs)(Qg.Fragment,{children:[(0,Qg.jsx)(xU,{className:"w-4 h-4"}),(0,Qg.jsx)("span",{children:"Add Transaction"})]})})]})]})]})}),h&&v&&(0,Qg.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",onClick:e=>{e.target===e.currentTarget&&(f(!1),b(null),V())},children:(0,Qg.jsxs)("div",{className:"bg-white dark:bg-gray-900 rounded-2xl p-6 w-full max-w-lg backdrop-blur-sm border border-gray-200 dark:border-gray-700",children:[(0,Qg.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Qg.jsx)("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Edit Transaction"}),(0,Qg.jsx)("button",{onClick:()=>{f(!1),b(null),V()},className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition-colors duration-300",children:(0,Qg.jsx)(bU,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})})]}),(0,Qg.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),l&&v&&!x)try{w(!0);const e=Pm(Yg,"users",l.uid,"transactions",v.id);await Fg(e,{category:N.category,paymentMode:N.paymentMode,notes:N.notes,updatedAt:(new Date).toISOString()}),f(!1),b(null),V()}catch(t){console.error("Error updating transaction:",t),alert("Error updating transaction. Please try again.")}finally{w(!1)}},className:"space-y-4",children:[(0,Qg.jsx)("div",{className:"bg-yellow-50 dark:bg-yellow-500/10 border border-yellow-200 dark:border-yellow-500/20 rounded-lg p-4 mb-4",children:(0,Qg.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,Qg.jsx)(wU,{className:"w-5 h-5 text-yellow-600 dark:text-yellow-400 flex-shrink-0 mt-0.5"}),(0,Qg.jsxs)("div",{children:[(0,Qg.jsx)("h3",{className:"text-sm font-medium text-yellow-800 dark:text-yellow-300 mb-1",children:"Limited Edit Mode"}),(0,Qg.jsx)("p",{className:"text-xs text-yellow-700 dark:text-yellow-400",children:"You can only edit category, payment mode, and notes. Amount and account changes affect balances and require deletion + re-creation."})]})]})}),["income","expense"].includes(v.type)&&(0,Qg.jsxs)(Qg.Fragment,{children:[(0,Qg.jsxs)("div",{children:[(0,Qg.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Category"}),(0,Qg.jsxs)("select",{value:N.category,onChange:e=>j({...N,category:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300",required:!0,children:[(0,Qg.jsx)("option",{value:"",children:"Select category"}),null===(r=SU[N.type])||void 0===r?void 0:r.map(e=>(0,Qg.jsx)("option",{value:e,children:e},e))]})]}),(0,Qg.jsxs)("div",{children:[(0,Qg.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Payment Mode"}),(0,Qg.jsxs)("select",{value:N.paymentMode,onChange:e=>j({...N,paymentMode:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300",children:[(0,Qg.jsx)("option",{value:"",children:"Select payment mode"}),(e=>{const t=F(N.accountId);return t?null===(e=EU[t.type])||void 0===e?void 0:e.map(e=>(0,Qg.jsx)("option",{value:e,children:e},e)):null})()]})]})]}),(0,Qg.jsxs)("div",{children:[(0,Qg.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Notes"}),(0,Qg.jsx)("textarea",{value:N.notes,onChange:e=>j({...N,notes:e.target.value}),placeholder:"Add any additional notes...",rows:2,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300"})]}),(0,Qg.jsxs)("div",{className:"flex space-x-3 pt-4",children:[(0,Qg.jsx)("button",{type:"button",onClick:()=>{f(!1),b(null),V()},className:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors duration-300",children:"Cancel"}),(0,Qg.jsx)("button",{type:"submit",disabled:x||["income","expense"].includes(v.type)&&!N.category,className:"flex-1 bg-orange-500 hover:bg-orange-600 text-white px-4 py-2 rounded-lg transition-colors duration-300 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:x?(0,Qg.jsxs)(Qg.Fragment,{children:[(0,Qg.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),(0,Qg.jsx)("span",{children:"Updating..."})]}):(0,Qg.jsxs)(Qg.Fragment,{children:[(0,Qg.jsx)(xU,{className:"w-4 h-4"}),(0,Qg.jsx)("span",{children:"Update Transaction"})]})})]})]})]})}),p&&v&&(0,Qg.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",onClick:e=>{e.target===e.currentTarget&&(m(!1),b(null))},children:(0,Qg.jsxs)("div",{className:"bg-white dark:bg-gray-900 rounded-2xl p-6 w-full max-w-md backdrop-blur-sm border border-gray-200 dark:border-gray-700",children:[(0,Qg.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,Qg.jsx)("div",{className:"w-10 h-10 bg-red-100 dark:bg-red-500/20 rounded-lg flex items-center justify-center",children:(0,Qg.jsx)(wU,{className:"w-5 h-5 text-red-600 dark:text-red-400"})}),(0,Qg.jsx)("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Delete Transaction"})]}),(0,Qg.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Are you sure you want to delete this transaction? This action will also reverse any balance changes."}),(0,Qg.jsxs)("div",{className:"bg-gray-50 dark:bg-white/5 rounded-lg p-4 mb-6",children:[(0,Qg.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,Qg.jsx)("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center ${U(v.type)}`,children:z(v.type)}),(0,Qg.jsxs)("div",{children:[(0,Qg.jsxs)("p",{className:"font-medium text-gray-900 dark:text-white",children:["adjustment"===v.type&&(v.isIncrease?"+":"-"),M(v.amount,v.currency)]}),(0,Qg.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[v.category," \u2022 ",L(v.date)]})]})]}),v.notes&&(0,Qg.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-2",children:['"',v.notes,'"']})]}),(0,Qg.jsxs)("div",{className:"flex space-x-3",children:[(0,Qg.jsx)("button",{type:"button",onClick:()=>{m(!1),b(null)},className:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors duration-300",children:"Cancel"}),(0,Qg.jsx)("button",{onClick:async()=>{if(l&&v&&!x)try{w(!0);const e=Kg(Yg);if(F(v.accountId)){const t=Pm(Yg,"users",l.uid,"accounts",v.accountId);let n=0;switch(v.type){case"income":n=-v.amount;break;case"expense":n=v.amount;break;case"adjustment":n=v.isIncrease?-v.amount:v.amount;break;case"transfer":if(n=v.amount,v.toAccountId){const t=Pm(Yg,"users",l.uid,"accounts",v.toAccountId);if(F(v.toAccountId)){const n=v.convertedAmount||v.amount;e.update(t,{balance:Hg(-n),updatedAt:(new Date).toISOString()})}}}0!==n&&e.update(t,{balance:Hg(n),updatedAt:(new Date).toISOString()})}const t=Pm(Yg,"users",l.uid,"transactions",v.id);e.delete(t),await e.commit(),m(!1),b(null)}catch(e){console.error("Error deleting transaction:",e),alert("Error deleting transaction. Please try again.")}finally{w(!1)}},disabled:x,className:"flex-1 bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg transition-colors duration-300 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:x?(0,Qg.jsxs)(Qg.Fragment,{children:[(0,Qg.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),(0,Qg.jsx)("span",{children:"Deleting..."})]}):(0,Qg.jsxs)(Qg.Fragment,{children:[(0,Qg.jsx)(vU,{className:"w-4 h-4"}),(0,Qg.jsx)("span",{children:"Delete Transaction"})]})})]})]})}),(0,Qg.jsxs)("button",{onClick:()=>d(!0),className:"fixed bottom-6 right-6 w-14 h-14 bg-orange-500 hover:bg-orange-600 text-white rounded-full shadow-lg dark:shadow-2xl transition-all duration-300 flex items-center justify-center group transform hover:-translate-y-1 hover:shadow-xl dark:hover:shadow-3xl",children:[(0,Qg.jsx)(Ny,{className:"w-6 h-6"}),(0,Qg.jsx)("span",{className:"absolute right-16 bg-gray-900 dark:bg-black text-white px-3 py-2 rounded-lg text-sm whitespace-nowrap opacity-0 group-hover:opacity-100 transition-all duration-300 shadow-lg dark:shadow-2xl",children:"Add Transaction"})]})]})},jU=oy("chart-pie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]),_U=oy("arrow-up",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]),TU=oy("arrow-down",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]),AU=oy("target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),CU=oy("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]),OU=oy("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);var IU=["axis"],PU=(0,t.forwardRef)((e,n)=>t.createElement(zD,{chartName:"ComposedChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:IU,tooltipPayloadSearcher:Jb,categoricalChartProps:e,ref:n}));Math.abs,Math.atan2;const DU=Math.cos,MU=(Math.max,Math.min,Math.sin),RU=Math.sqrt,LU=Math.PI,FU=2*LU;const zU={draw(e,t){const n=RU(t/LU);e.moveTo(n,0),e.arc(0,0,n,0,FU)}},UU={draw(e,t){const n=RU(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},VU=RU(1/3),BU=2*VU,$U={draw(e,t){const n=RU(t/BU),r=n*VU;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},HU={draw(e,t){const n=RU(t),r=-n/2;e.rect(r,r,n,n)}},KU=MU(LU/10)/MU(7*LU/10),qU=MU(FU/10)*KU,WU=-DU(FU/10)*KU,GU={draw(e,t){const n=RU(.8908130915292852*t),r=qU*n,a=WU*n;e.moveTo(0,-n),e.lineTo(r,a);for(let i=1;i<5;++i){const t=FU*i/5,o=DU(t),s=MU(t);e.lineTo(s*n,-o*n),e.lineTo(o*r-s*a,s*r+o*a)}e.closePath()}},YU=RU(3),QU={draw(e,t){const n=-RU(t/(3*YU));e.moveTo(0,2*n),e.lineTo(-YU*n,-n),e.lineTo(YU*n,-n),e.closePath()}},XU=-.5,JU=RU(3)/2,ZU=1/RU(12),eV=3*(ZU/2+1),tV={draw(e,t){const n=RU(t/eV),r=n/2,a=n*ZU,i=r,o=n*ZU+n,s=-i,l=o;e.moveTo(r,a),e.lineTo(i,o),e.lineTo(s,l),e.lineTo(XU*r-JU*a,JU*r+XU*a),e.lineTo(XU*i-JU*o,JU*i+XU*o),e.lineTo(XU*s-JU*l,JU*s+XU*l),e.lineTo(XU*r+JU*a,XU*a-JU*r),e.lineTo(XU*i+JU*o,XU*o-JU*i),e.lineTo(XU*s+JU*l,XU*l-JU*s),e.closePath()}};RU(3),RU(3);var nV=["type","size","sizeType"];function rV(){return rV=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rV.apply(null,arguments)}function aV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function iV(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?aV(Object(n),!0).forEach(function(t){oV(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aV(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function oV(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var sV={symbolCircle:zU,symbolCross:UU,symbolDiamond:$U,symbolSquare:HU,symbolStar:GU,symbolTriangle:QU,symbolWye:tV},lV=Math.PI/180,cV=e=>{var{type:n="circle",size:r=64,sizeType:a="area"}=e,i=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,nV),o=iV(iV({},i),{},{type:n,size:r,sizeType:a}),{className:s,cx:l,cy:c}=o,u=nD(o,!0);return l===+l&&c===+c&&r===+r?t.createElement("path",rV({},u,{className:Cy("recharts-symbols",s),transform:"translate(".concat(l,", ").concat(c,")"),d:(()=>{var e=(e=>{var t="symbol".concat(Gy(e));return sV[t]||zU})(n),t=function(e,t){let n=null,r=kL(a);function a(){let a;if(n||(n=a=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),a)return n=null,a+""||null}return e="function"===typeof e?e:Yw(e||zU),t="function"===typeof t?t:Yw(void 0===t?64:+t),a.type=function(t){return arguments.length?(e="function"===typeof t?t:Yw(t),a):e},a.size=function(e){return arguments.length?(t="function"===typeof e?e:Yw(+e),a):t},a.context=function(e){return arguments.length?(n=null==e?null:e,a):n},a}().type(e).size(((e,t,n)=>{if("area"===t)return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return.5*e*e/Math.sqrt(3);case"square":return e*e;case"star":var r=18*lV;return 1.25*e*e*(Math.tan(r)-Math.tan(2*r)*Math.tan(r)**2);case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}})(r,a,n));return t()})()})):null};function uV(){return uV=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},uV.apply(null,arguments)}function dV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function hV(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}cV.registerSymbol=(e,t)=>{sV["symbol".concat(Gy(e))]=t};var fV=32;class pV extends t.PureComponent{renderIcon(e,n){var{inactiveColor:r}=this.props,a=16,i=fV/6,o=fV/3,s=e.inactive?r:e.color,l=null!==n&&void 0!==n?n:e.type;if("none"===l)return null;if("plainline"===l)return t.createElement("line",{strokeWidth:4,fill:"none",stroke:s,strokeDasharray:e.payload.strokeDasharray,x1:0,y1:a,x2:fV,y2:a,className:"recharts-legend-icon"});if("line"===l)return t.createElement("path",{strokeWidth:4,fill:"none",stroke:s,d:"M0,".concat(a,"h").concat(o,"\n            A").concat(i,",").concat(i,",0,1,1,").concat(2*o,",").concat(a,"\n            H").concat(fV,"M").concat(2*o,",").concat(a,"\n            A").concat(i,",").concat(i,",0,1,1,").concat(o,",").concat(a),className:"recharts-legend-icon"});if("rect"===l)return t.createElement("path",{stroke:"none",fill:s,d:"M0,".concat(4,"h").concat(fV,"v").concat(24,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(t.isValidElement(e.legendIcon)){var c=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dV(Object(n),!0).forEach(function(t){hV(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dV(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e);return delete c.legendIcon,t.cloneElement(e.legendIcon,c)}return t.createElement(cV,{fill:s,cx:a,cy:a,size:fV,sizeType:"diameter",type:l})}renderItems(){var{payload:e,iconSize:n,layout:r,formatter:a,inactiveColor:i,iconType:o}=this.props,s={x:0,y:0,width:fV,height:fV},l={display:"horizontal"===r?"inline-block":"block",marginRight:10},c={display:"inline-block",verticalAlign:"middle",marginRight:4};return e.map((e,r)=>{var u=e.formatter||a,d=Cy({"recharts-legend-item":!0,["legend-item-".concat(r)]:!0,inactive:e.inactive});if("none"===e.type)return null;var h=e.inactive?i:e.color,f=u?u(e.value,e,r):e.value;return t.createElement("li",uV({className:d,style:l,key:"legend-item-".concat(r)},YP(this.props,e,r)),t.createElement(oD,{width:n,height:n,viewBox:s,style:c,"aria-label":"".concat(f," legend icon")},this.renderIcon(e,o)),t.createElement("span",{className:"recharts-legend-item-text",style:{color:h}},f))})}render(){var{payload:e,layout:n,align:r}=this.props;if(!e||!e.length)return null;var a={padding:0,margin:0,textAlign:"horizontal"===n?r:"left"};return t.createElement("ul",{className:"recharts-default-legend",style:a},this.renderItems())}}hV(pV,"displayName","Legend"),hV(pV,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var mV=["contextPayload"];function gV(){return gV=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gV.apply(null,arguments)}function yV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function vV(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yV(Object(n),!0).forEach(function(t){bV(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yV(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function bV(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xV(e){return e.value}function wV(e){var{contextPayload:n}=e,r=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,mV),a=YR(n,e.payloadUniqBy,xV),i=vV(vV({},r),{},{payload:a});return t.isValidElement(e.content)?t.cloneElement(e.content,i):"function"===typeof e.content?t.createElement(e.content,i):t.createElement(pV,i)}function kV(e){var n=Fw();return(0,t.useEffect)(()=>{n(hP(e))},[n,e]),null}function SV(e){var n=Fw();return(0,t.useEffect)(()=>(n(dP(e)),()=>{n(dP({width:0,height:0}))}),[n,e]),null}function EV(e){var n=Bw(qw),r=(0,t.useContext)(wD),a=(()=>{var e;return null!==(e=Bw(e=>e.layout.margin))&&void 0!==e?e:Xk})(),{width:i,height:o,wrapperStyle:s,portal:l}=e,[c,u]=QR([n]),d=Yk(),h=Qk(),f=d-(a.left||0)-(a.right||0),p=NV.getWidthOrHeight(e.layout,o,i,f),m=l?s:vV(vV({position:"absolute",width:(null===p||void 0===p?void 0:p.width)||i||"auto",height:(null===p||void 0===p?void 0:p.height)||o||"auto"},function(e,t,n,r,a,i){var o,s,{layout:l,align:c,verticalAlign:u}=t;return e&&(void 0!==e.left&&null!==e.left||void 0!==e.right&&null!==e.right)||(o="center"===c&&"vertical"===l?{left:((r||0)-i.width)/2}:"right"===c?{right:n&&n.right||0}:{left:n&&n.left||0}),e&&(void 0!==e.top&&null!==e.top||void 0!==e.bottom&&null!==e.bottom)||(s="middle"===u?{top:((a||0)-i.height)/2}:"bottom"===u?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),vV(vV({},o),s)}(s,e,a,d,h,c)),s),g=null!==l&&void 0!==l?l:r;if(null==g)return null;var y=t.createElement("div",{className:"recharts-legend-wrapper",style:m,ref:u},t.createElement(kV,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),t.createElement(SV,{width:c.width,height:c.height}),t.createElement(wV,gV({},e,p,{margin:a,chartWidth:d,chartHeight:h,contextPayload:n})));return(0,IR.createPortal)(y,g)}class NV extends t.PureComponent{static getWidthOrHeight(e,t,n,r){return"vertical"===e&&Fy(t)?{height:t}:"horizontal"===e?{width:n||r}:null}render(){return t.createElement(EV,this.props)}}bV(NV,"displayName","Legend"),bV(NV,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});var jV=(e,t,n,r)=>ZC(e,"xAxis",t,r),_V=(e,t,n,r)=>JC(e,"xAxis",t,r),TV=(e,t,n,r)=>ZC(e,"yAxis",n,r),AV=(e,t,n,r)=>JC(e,"yAxis",n,r),CV=Pw([Jk,jV,TV,_V,AV],(e,t,n,r,a)=>fk(e,"xAxis")?Nk(t,r,!1):Nk(n,a,!1)),OV=Pw([AA,(e,t,n,r,a)=>a],(e,t)=>{if(e.some(e=>"area"===e.type&&t.dataKey===e.dataKey&&bk(t.stackId)===e.stackId&&t.data===e.data))return t}),IV=Pw([Jk,jV,TV,_V,AV,(e,t,n,r,a)=>{var i,o,s=Jk(e);if(null!=(o=fk(s,"xAxis")?KA(e,"yAxis",n,r):KA(e,"xAxis",t,r))){var{dataKey:l,stackId:c}=a;if(null!=c){var u=null===(i=o[c])||void 0===i?void 0:i.stackedData;return null===u||void 0===u?void 0:u.find(e=>e.key===l)}}},hT,CV,OV],(e,t,n,r,a,i,o,s,l)=>{var{chartData:c,dataStartIndex:u,dataEndIndex:d}=o;if(null!=l&&("horizontal"===e||"vertical"===e)&&null!=t&&null!=n&&null!=r&&null!=a&&0!==r.length&&0!==a.length&&null!=s){var h,{data:f}=l;if(null!=(h=f&&f.length>0?f:null===c||void 0===c?void 0:c.slice(u,d+1))){return function(e){var t,{areaSettings:{connectNulls:n,baseValue:r,dataKey:a},stackedData:i,layout:o,chartBaseValue:s,xAxis:l,yAxis:c,displayedData:u,dataStartIndex:d,xAxisTicks:h,yAxisTicks:f,bandSize:p}=e,m=i&&i.length,g=ZV(o,s,r,l,c),y="horizontal"===o,v=!1,b=u.map((e,t)=>{var r;m?r=i[d+t]:(r=hk(e,a),Array.isArray(r)?v=!0:r=[g,r]);var o=null==r[1]||m&&!n&&null==hk(e,a);return y?{x:xk({axis:l,ticks:h,bandSize:p,entry:e,index:t}),y:o?null:c.scale(r[1]),value:r,payload:e}:{x:o?null:l.scale(r[1]),y:xk({axis:c,ticks:f,bandSize:p,entry:e,index:t}),value:r,payload:e}});t=m||v?b.map(e=>{var t=Array.isArray(e.value)?e.value[0]:null;return y?{x:e.x,y:null!=t&&null!=e.y?c.scale(t):null}:{x:null!=t?l.scale(t):null,y:e.y}}):y?c.scale(g):l.scale(g);return{points:b,baseLine:t,isRange:v}}({layout:e,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:a,dataStartIndex:u,areaSettings:l,stackedData:i,displayedData:h,chartBaseValue:undefined,bandSize:s})}}}),PV=["layout","type","stroke","connectNulls","isRange"],DV=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function MV(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function RV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function LV(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?RV(Object(n),!0).forEach(function(t){FV(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RV(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function FV(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zV(){return zV=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zV.apply(null,arguments)}function UV(e,t){return e&&"none"!==e?e:t}var VV=e=>{var{dataKey:t,name:n,stroke:r,fill:a,legendType:i,hide:o}=e;return[{inactive:o,dataKey:t,type:i,color:UV(r,a),value:_k(n,t),payload:e}]};function BV(e){var{dataKey:t,data:n,stroke:r,strokeWidth:a,fill:i,name:o,hide:s,unit:l}=e;return{dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:a,fill:i,dataKey:t,nameKey:void 0,name:_k(o,t),hide:s,type:e.tooltipType,color:UV(r,i),unit:l}}}function $V(e){var{clipPathId:n,points:r,props:a}=e,{needClip:i,dot:o,dataKey:s}=a;if(!function(e,t){return null!=e&&(!!t||1===e.length)}(r,o))return null;var l=tD(o),c=nD(a,!1),u=nD(o,!0),d=r.map((e,n)=>{var a=LV(LV(LV({key:"dot-".concat(n),r:3},c),u),{},{index:n,cx:e.x,cy:e.y,dataKey:s,value:e.value,payload:e.payload,points:r});return((e,n)=>{var r;if(t.isValidElement(e))r=t.cloneElement(e,n);else if("function"===typeof e)r=e(n);else{var a=Cy("recharts-area-dot","boolean"!==typeof e?e.className:"");r=t.createElement(GF,zV({},n,{className:a}))}return r})(o,a)}),h={clipPath:i?"url(#clipPath-".concat(l?"":"dots-").concat(n,")"):void 0};return t.createElement(lM,zV({className:"recharts-area-dots"},h),d)}function HV(e){var{points:n,baseLine:r,needClip:a,clipPathId:i,props:o,showLabels:s}=e,{layout:l,type:c,stroke:u,connectNulls:d,isRange:h}=o,f=MV(o,PV);return t.createElement(t.Fragment,null,(null===n||void 0===n?void 0:n.length)>1&&t.createElement(lM,{clipPath:a?"url(#clipPath-".concat(i,")"):void 0},t.createElement(RL,zV({},nD(f,!0),{points:n,connectNulls:d,type:c,baseLine:r,layout:l,stroke:"none",className:"recharts-area-area"})),"none"!==u&&t.createElement(RL,zV({},nD(o,!1),{className:"recharts-area-curve",layout:l,type:c,connectNulls:d,fill:"none",points:n})),"none"!==u&&h&&t.createElement(RL,zV({},nD(o,!1),{className:"recharts-area-curve",layout:l,type:c,connectNulls:d,fill:"none",points:r}))),t.createElement($V,{points:n,props:o,clipPathId:i}),s&&iz.renderCallByParent(o,n))}function KV(e){var{alpha:n,baseLine:r,points:a,strokeWidth:i}=e,o=a[0].y,s=a[a.length-1].y;if(!fT(o)||!fT(s))return null;var l=n*Math.abs(o-s),c=Math.max(...a.map(e=>e.x||0));return Fy(r)?c=Math.max(r,c):r&&Array.isArray(r)&&r.length&&(c=Math.max(...r.map(e=>e.x||0),c)),Fy(c)?t.createElement("rect",{x:0,y:o<s?o:o-l,width:c+(i?parseInt("".concat(i),10):1),height:Math.floor(l)}):null}function qV(e){var{alpha:n,baseLine:r,points:a,strokeWidth:i}=e,o=a[0].x,s=a[a.length-1].x;if(!fT(o)||!fT(s))return null;var l=n*Math.abs(o-s),c=Math.max(...a.map(e=>e.y||0));return Fy(r)?c=Math.max(r,c):r&&Array.isArray(r)&&r.length&&(c=Math.max(...r.map(e=>e.y||0),c)),Fy(c)?t.createElement("rect",{x:o<s?o:o-l,y:0,width:l,height:Math.floor(c+(i?parseInt("".concat(i),10):1))}):null}function WV(e){var{alpha:n,layout:r,points:a,baseLine:i,strokeWidth:o}=e;return"vertical"===r?t.createElement(KV,{alpha:n,points:a,baseLine:i,strokeWidth:o}):t.createElement(qV,{alpha:n,points:a,baseLine:i,strokeWidth:o})}function GV(e){var{needClip:n,clipPathId:r,props:a,previousPointsRef:i,previousBaselineRef:o}=e,{points:s,baseLine:l,isAnimationActive:c,animationBegin:u,animationDuration:d,animationEasing:h,onAnimationStart:f,onAnimationEnd:p}=a,m=Kz(a,"recharts-area-"),[g,y]=(0,t.useState)(!0),v=(0,t.useCallback)(()=>{"function"===typeof p&&p(),y(!1)},[p]),b=(0,t.useCallback)(()=>{"function"===typeof f&&f(),y(!0)},[f]),x=i.current,w=o.current;return t.createElement(vF,{begin:u,duration:d,isActive:c,easing:h,from:{t:0},to:{t:1},onAnimationEnd:v,onAnimationStart:b,key:m},e=>{var{t:c}=e;if(x){var u,d=x.length/s.length,h=1===c?s:s.map((e,t)=>{var n=Math.floor(t*d);if(x[n]){var r=x[n];return LV(LV({},e),{},{x:Ky(r.x,e.x,c),y:Ky(r.y,e.y,c)})}return e});return u=Fy(l)?Ky(w,l,c):Wy(l)||Ry(l)?Ky(w,0,c):l.map((e,t)=>{var n=Math.floor(t*d);if(Array.isArray(w)&&w[n]){var r=w[n];return LV(LV({},e),{},{x:Ky(r.x,e.x,c),y:Ky(r.y,e.y,c)})}return e}),c>0&&(i.current=h,o.current=u),t.createElement(HV,{points:h,baseLine:u,needClip:n,clipPathId:r,props:a,showLabels:!g})}return c>0&&(i.current=s,o.current=l),t.createElement(lM,null,t.createElement("defs",null,t.createElement("clipPath",{id:"animationClipPath-".concat(r)},t.createElement(WV,{alpha:c,points:s,baseLine:l,layout:a.layout,strokeWidth:a.strokeWidth}))),t.createElement(lM,{clipPath:"url(#animationClipPath-".concat(r,")")},t.createElement(HV,{points:s,baseLine:l,needClip:n,clipPathId:r,props:a,showLabels:!0})))})}function YV(e){var{needClip:n,clipPathId:r,props:a}=e,{points:i,baseLine:o,isAnimationActive:s}=a,l=(0,t.useRef)(null),c=(0,t.useRef)(),u=l.current,d=c.current;return s&&i&&i.length&&(u!==i||d!==o)?t.createElement(GV,{needClip:n,clipPathId:r,props:a,previousPointsRef:l,previousBaselineRef:c}):t.createElement(HV,{points:i,baseLine:o,needClip:n,clipPathId:r,props:a,showLabels:!0})}class QV extends t.PureComponent{constructor(){super(...arguments),FV(this,"id",Vy("recharts-area-"))}render(){var e,{hide:n,dot:r,points:a,className:i,top:o,left:s,needClip:l,xAxisId:c,yAxisId:u,width:d,height:h,id:f,baseLine:p}=this.props;if(n)return null;var m=Cy("recharts-area",i),g=Wy(f)?this.id:f,{r:y=3,strokeWidth:v=2}=null!==(e=nD(r,!1))&&void 0!==e?e:{r:3,strokeWidth:2},b=tD(r),x=2*y+v;return t.createElement(t.Fragment,null,t.createElement(lM,{className:m},l&&t.createElement("defs",null,t.createElement(Dz,{clipPathId:g,xAxisId:c,yAxisId:u}),!b&&t.createElement("clipPath",{id:"clipPath-dots-".concat(g)},t.createElement("rect",{x:s-x/2,y:o-x/2,width:d+x,height:h+x}))),t.createElement(YV,{needClip:l,clipPathId:g,props:this.props})),t.createElement(Oz,{points:a,mainColor:UV(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}),this.props.isRange&&Array.isArray(p)&&t.createElement(Oz,{points:p,mainColor:UV(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}))}}var XV={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:!BD,legendType:"line",stroke:"#3182bd",xAxisId:0,yAxisId:0};function JV(e){var n,r=MD(e,XV),{activeDot:a,animationBegin:i,animationDuration:o,animationEasing:s,connectNulls:l,dot:c,fill:u,fillOpacity:d,hide:h,isAnimationActive:f,legendType:p,stroke:m,xAxisId:g,yAxisId:y}=r,v=MV(r,DV),b=Zk(),x=dI(),{needClip:w}=Pz(g,y),k=$k(),S=(0,t.useMemo)(()=>({baseValue:e.baseValue,stackId:e.stackId,connectNulls:l,data:e.data,dataKey:e.dataKey}),[e.baseValue,e.stackId,l,e.data,e.dataKey]),{points:E,isRange:N,baseLine:j}=null!==(n=Bw(e=>IV(e,g,y,k,S)))&&void 0!==n?n:{},{height:_,width:T,x:A,y:C}=TD();return"horizontal"!==b&&"vertical"!==b||"AreaChart"!==x&&"ComposedChart"!==x?null:t.createElement(QV,zV({},v,{activeDot:a,animationBegin:i,animationDuration:o,animationEasing:s,baseLine:j,connectNulls:l,dot:c,fill:u,fillOpacity:d,height:_,hide:h,layout:b,isAnimationActive:f,isRange:N,legendType:p,needClip:w,points:E,stroke:m,width:T,left:A,top:C,xAxisId:g,yAxisId:y}))}var ZV=(e,t,n,r,a)=>{var i=null!==n&&void 0!==n?n:t;if(Fy(i))return i;var o="horizontal"===e?a:r,s=o.scale.domain();if("number"===o.type){var l=Math.max(s[0],s[1]),c=Math.min(s[0],s[1]);return"dataMin"===i?c:"dataMax"===i||l<0?l:Math.max(Math.min(s[0],s[1]),0)}return"dataMin"===i?s[0]:"dataMax"===i?s[1]:s[0]};class eB extends t.PureComponent{render(){return t.createElement(yz,{type:"area",data:this.props.data,dataKey:this.props.dataKey,xAxisId:this.props.xAxisId,yAxisId:this.props.yAxisId,zAxisId:0,stackId:this.props.stackId,hide:this.props.hide,barSize:void 0},t.createElement($z,{legendPayload:VV(this.props)}),t.createElement(Iz,{fn:BV,args:this.props}),t.createElement(JV,this.props))}}function tB(e){var n=Fw();return(0,t.useEffect)(()=>{n(_P(e))},[n,e]),null}FV(eB,"displayName","Area"),FV(eB,"defaultProps",XV);var nB=["width","height","layout"];function rB(){return rB=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rB.apply(null,arguments)}var aB={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index",layout:"radial"},iB=(0,t.forwardRef)(function(e,n){var r,a=MD(e.categoricalChartProps,aB),{width:i,height:o,layout:s}=a,l=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(a,nB);if(!pT(i)||!pT(o))return null;var{chartName:c,defaultTooltipEventType:u,validateTooltipEventTypes:d,tooltipPayloadSearcher:h}=e,f={chartName:c,defaultTooltipEventType:u,validateTooltipEventTypes:d,tooltipPayloadSearcher:h,eventEmitter:void 0};return t.createElement(zP,{preloadedState:{options:f},reduxStoreName:null!==(r=a.id)&&void 0!==r?r:c},t.createElement(UP,{chartData:a.data}),t.createElement(VP,{width:i,height:o,layout:s,margin:a.margin}),t.createElement(BP,{accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className}),t.createElement(tB,{cx:a.cx,cy:a.cy,startAngle:a.startAngle,endAngle:a.endAngle,innerRadius:a.innerRadius,outerRadius:a.outerRadius}),t.createElement(ID,rB({width:i,height:o},l,{ref:n})))}),oB=["item"],sB={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},lB=(0,t.forwardRef)((e,n)=>{var r=MD(e,sB);return t.createElement(iB,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:oB,tooltipPayloadSearcher:Jb,categoricalChartProps:r,ref:n})}),cB=e=>e.graphicalItems.polarItems,uB=Pw([fA,pA],TA),dB=Pw([cB,NA,uB],OA),hB=Pw([dB],MA),fB=Pw([hB,dT],LA),pB=Pw([fB,NA,dB],zA),mB=Pw([fB,NA,dB],(e,t,n)=>n.length>0?e.flatMap(e=>n.flatMap(n=>{var r;return{value:hk(e,null!==(r=t.dataKey)&&void 0!==r?r:n.dataKey),errorDomain:[]}})).filter(Boolean):null!=(null===t||void 0===t?void 0:t.dataKey)?e.map(e=>({value:hk(e,t.dataKey),errorDomain:[]})):e.map(e=>({value:e,errorDomain:[]}))),gB=()=>{},yB=Pw([NA,fC,gB,mB,gB],pC),vB=Pw([NA,Jk,fB,pB,zT,fA,yB],yC),bB=Pw([vB,NA,xC],kC);Pw([NA,vB,bB,fA],EC);function xB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function wB(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xB(Object(n),!0).forEach(function(t){kB(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xB(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function kB(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var SB=(e,t)=>t,EB=[],NB=(e,t,n)=>0===(null===n||void 0===n?void 0:n.length)?EB:n,jB=Pw([dT,SB,NB],(e,t,n)=>{var r,{chartData:a}=e;if((r=null!=(null===t||void 0===t?void 0:t.data)&&t.data.length>0?t.data:a)&&r.length||null==n||(r=n.map(e=>wB(wB({},t.presentationProps),e.props))),null!=r)return r}),_B=Pw([jB,SB,NB],(e,t,n)=>{if(null!=e)return e.map((e,r)=>{var a,i,o=hk(e,t.nameKey,t.name);return i=null!==n&&void 0!==n&&null!==(a=n[r])&&void 0!==a&&null!==(a=a.props)&&void 0!==a&&a.fill?n[r].props.fill:"object"===typeof e&&null!=e&&"fill"in e?e.fill:t.fill,{value:_k(o,t.dataKey),color:i,payload:e,type:t.legendType}})}),TB=Pw([cB,SB],(e,t)=>{if(e.some(e=>"pie"===e.type&&t.dataKey===e.dataKey&&t.data===e.data))return t}),AB=Pw([jB,TB,NB,zk],(e,t,n,r)=>{if(null!=t&&null!=e)return function(e){var t,n,r,{pieSettings:a,displayedData:i,cells:o,offset:s}=e,{cornerRadius:l,startAngle:c,endAngle:u,dataKey:d,nameKey:h,tooltipType:f}=a,p=Math.abs(a.minAngle),m=n$(c,u),g=Math.abs(m),y=i.length<=1?0:null!==(t=a.paddingAngle)&&void 0!==t?t:0,v=i.filter(e=>0!==hk(e,d,0)).length,b=g-v*p-(g>=360?v:v-1)*y,x=i.reduce((e,t)=>{var n=hk(t,d,0);return e+(Fy(n)?n:0)},0);x>0&&(n=i.map((e,t)=>{var n,i=hk(e,d,0),u=hk(e,h,t),g=t$(a,s,e),v=(Fy(i)?i:0)/x,w=YB(YB({},e),o&&o[t]&&o[t].props),k=(n=t?r.endAngle+My(m)*y*(0!==i?1:0):c)+My(m)*((0!==i?p:0)+v*b),S=(n+k)/2,E=(g.innerRadius+g.outerRadius)/2,N=[{name:u,value:i,payload:w,dataKey:d,type:f}],j=ak(g.cx,g.cy,E,S);return r=YB(YB(YB(YB({},a.presentationProps),{},{percent:v,cornerRadius:l,name:u,tooltipPayload:N,midAngle:S,middleRadius:E,tooltipPosition:j},w),g),{},{value:hk(e,d),startAngle:n,endAngle:k,payload:w,paddingAngle:My(m)*y})}));return n}({offset:r,pieSettings:t,displayedData:e,cells:n})}),CB=e=>null;CB.displayName="Cell";var OB=n(9397),IB=n.n(OB);function PB(){return PB=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},PB.apply(null,arguments)}var DB=(e,t,n,r,a)=>{var i,o=n-r;return i="M ".concat(e,",").concat(t),i+="L ".concat(e+n,",").concat(t),i+="L ".concat(e+n-o/2,",").concat(t+a),i+="L ".concat(e+n-o/2-r,",").concat(t+a),i+="L ".concat(e,",").concat(t," Z")},MB={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},RB=e=>{var n=MD(e,MB),r=(0,t.useRef)(),[a,i]=(0,t.useState)(-1);(0,t.useEffect)(()=>{if(r.current&&r.current.getTotalLength)try{var e=r.current.getTotalLength();e&&i(e)}catch(t){}},[]);var{x:o,y:s,upperWidth:l,lowerWidth:c,height:u,className:d}=n,{animationEasing:h,animationDuration:f,animationBegin:p,isUpdateAnimationActive:m}=n;if(o!==+o||s!==+s||l!==+l||c!==+c||u!==+u||0===l&&0===c||0===u)return null;var g=Cy("recharts-trapezoid",d);return m?t.createElement(vF,{canBegin:a>0,from:{upperWidth:0,lowerWidth:0,height:u,x:o,y:s},to:{upperWidth:l,lowerWidth:c,height:u,x:o,y:s},duration:f,animationEasing:h,isActive:m},e=>{var{upperWidth:i,lowerWidth:o,height:s,x:l,y:c}=e;return t.createElement(vF,{canBegin:a>0,from:"0px ".concat(-1===a?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:p,duration:f,easing:h},t.createElement("path",PB({},nD(n,!0),{className:g,d:DB(l,c,i,o,s),ref:r})))}):t.createElement("g",null,t.createElement("path",PB({},nD(n,!0),{className:g,d:DB(o,s,l,c,u)})))},LB=["option","shapeType","propTransformer","activeClassName","isActive"];function FB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function zB(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?FB(Object(n),!0).forEach(function(t){UB(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FB(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function UB(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function VB(e,t){return zB(zB({},t),e)}function BB(e){var{shapeType:n,elementProps:r}=e;switch(n){case"rectangle":return t.createElement(kF,r);case"trapezoid":return t.createElement(RB,r);case"sector":return t.createElement(TF,r);case"symbols":if(function(e){return"symbols"===e}(n))return t.createElement(cV,r);break;default:return null}}function $B(e){var n,{option:r,shapeType:a,propTransformer:i=VB,activeClassName:o="recharts-active-shape",isActive:s}=e,l=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,LB);if((0,t.isValidElement)(r))n=(0,t.cloneElement)(r,zB(zB({},l),function(e){return(0,t.isValidElement)(e)?e.props:e}(r)));else if("function"===typeof r)n=r(l);else if(IB()(r)&&"boolean"!==typeof r){var c=i(r,l);n=t.createElement(BB,{shapeType:a,elementProps:c})}else{var u=l;n=t.createElement(BB,{shapeType:a,elementProps:u})}return s?t.createElement(lM,{className:o},n):n}var HB=(e,t)=>{var n=Fw();return(r,a)=>i=>{null===e||void 0===e||e(r,a,i),n(ow({activeIndex:String(a),activeDataKey:t,activeCoordinate:r.tooltipPosition}))}},KB=e=>{var t=Fw();return(n,r)=>a=>{null===e||void 0===e||e(n,r,a),t(sw())}},qB=(e,t)=>{var n=Fw();return(r,a)=>i=>{null===e||void 0===e||e(r,a,i),n(cw({activeIndex:String(a),activeDataKey:t,activeCoordinate:r.tooltipPosition}))}},WB=["onMouseEnter","onClick","onMouseLeave"];function GB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function YB(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?GB(Object(n),!0).forEach(function(t){QB(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GB(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function QB(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function XB(){return XB=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},XB.apply(null,arguments)}function JB(e){var n=(0,t.useMemo)(()=>nD(e,!1),[e]),r=(0,t.useMemo)(()=>eD(e.children,CB),[e.children]),a=(0,t.useMemo)(()=>({name:e.name,nameKey:e.nameKey,tooltipType:e.tooltipType,data:e.data,dataKey:e.dataKey,cx:e.cx,cy:e.cy,startAngle:e.startAngle,endAngle:e.endAngle,minAngle:e.minAngle,paddingAngle:e.paddingAngle,innerRadius:e.innerRadius,outerRadius:e.outerRadius,cornerRadius:e.cornerRadius,legendType:e.legendType,fill:e.fill,presentationProps:n}),[e.cornerRadius,e.cx,e.cy,e.data,e.dataKey,e.endAngle,e.innerRadius,e.minAngle,e.name,e.nameKey,e.outerRadius,e.paddingAngle,e.startAngle,e.tooltipType,e.legendType,e.fill,n]),i=Bw(e=>_B(e,a,r));return t.createElement(Hz,{legendPayload:i})}function ZB(e){var{dataKey:t,nameKey:n,sectors:r,stroke:a,strokeWidth:i,fill:o,name:s,hide:l,tooltipType:c}=e;return{dataDefinedOnItem:null===r||void 0===r?void 0:r.map(e=>e.tooltipPayload),positions:null===r||void 0===r?void 0:r.map(e=>e.tooltipPosition),settings:{stroke:a,strokeWidth:i,fill:o,dataKey:t,nameKey:n,name:_k(s,t),hide:l,type:c,color:o,unit:""}}}var e$=(e,t)=>e>t?"start":e<t?"end":"middle",t$=(e,t,n)=>{var{top:r,left:a,width:i,height:o}=t,s=ik(i,o),l=a+By(e.cx,i,i/2),c=r+By(e.cy,o,o/2),u=By(e.innerRadius,s,0),d=((e,t,n)=>"function"===typeof t?t(e):By(t,n,.8*n))(n,e.outerRadius,s);return{cx:l,cy:c,innerRadius:u,outerRadius:d,maxRadius:e.maxRadius||Math.sqrt(i*i+o*o)/2}},n$=(e,t)=>My(t-e)*Math.min(Math.abs(t-e),360);function r$(e){var{sectors:n,props:r,showLabels:a}=e,{label:i,labelLine:o,dataKey:s}=r;if(!a||!i||!n)return null;var l=nD(r,!1),c=nD(i,!1),u=nD(o,!1),d="object"===typeof i&&"offsetRadius"in i&&i.offsetRadius||20,h=n.map((e,n)=>{var r=(e.startAngle+e.endAngle)/2,a=ak(e.cx,e.cy,e.outerRadius+d,r),h=YB(YB(YB(YB({},l),e),{},{stroke:"none"},c),{},{index:n,textAnchor:e$(a.x,e.cx)},a),f=YB(YB(YB(YB({},l),e),{},{fill:"none",stroke:e.fill},u),{},{index:n,points:[ak(e.cx,e.cy,e.outerRadius,r),a],key:"line"});return t.createElement(lM,{key:"label-".concat(e.startAngle,"-").concat(e.endAngle,"-").concat(e.midAngle,"-").concat(n)},o&&((e,n)=>{if(t.isValidElement(e))return t.cloneElement(e,n);if("function"===typeof e)return e(n);var r=Cy("recharts-pie-label-line","boolean"!==typeof e?e.className:"");return t.createElement(RL,XB({},n,{type:"linear",className:r}))})(o,f),((e,n,r)=>{if(t.isValidElement(e))return t.cloneElement(e,n);var a=r;if("function"===typeof e&&(a=e(n),t.isValidElement(a)))return a;var i=Cy("recharts-pie-label-text","boolean"!==typeof e&&"function"!==typeof e?e.className:"");return t.createElement(CM,XB({},n,{alignmentBaseline:"middle",className:i}),a)})(i,h,hk(e,s)))});return t.createElement(lM,{className:"recharts-pie-labels"},h)}function a$(e){var{sectors:n,activeShape:r,inactiveShape:a,allOtherPieProps:i,showLabels:o}=e,s=Bw(nI),{onMouseEnter:l,onClick:c,onMouseLeave:u}=i,d=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(i,WB),h=HB(l,i.dataKey),f=KB(u),p=qB(c,i.dataKey);return null==n?null:t.createElement(t.Fragment,null,n.map((e,o)=>{if(0===(null===e||void 0===e?void 0:e.startAngle)&&0===(null===e||void 0===e?void 0:e.endAngle)&&1!==n.length)return null;var l=r&&String(o)===s,c=l?r:s?a:null,u=YB(YB({},e),{},{stroke:e.stroke,tabIndex:-1,[Dk]:o,[Mk]:i.dataKey});return t.createElement(lM,XB({tabIndex:-1,className:"recharts-pie-sector"},YP(d,e,o),{onMouseEnter:h(e,o),onMouseLeave:f(e,o),onClick:p(e,o),key:"sector-".concat(null===e||void 0===e?void 0:e.startAngle,"-").concat(null===e||void 0===e?void 0:e.endAngle,"-").concat(e.midAngle,"-").concat(o)}),t.createElement($B,XB({option:c,isActive:l,shapeType:"sector"},u)))}),t.createElement(r$,{sectors:n,props:i,showLabels:o}))}function i$(e){var{props:n,previousSectorsRef:r}=e,{sectors:a,isAnimationActive:i,animationBegin:o,animationDuration:s,animationEasing:l,activeShape:c,inactiveShape:u,onAnimationStart:d,onAnimationEnd:h}=n,f=Kz(n,"recharts-pie-"),p=r.current,[m,g]=(0,t.useState)(!0),y=(0,t.useCallback)(()=>{"function"===typeof h&&h(),g(!1)},[h]),v=(0,t.useCallback)(()=>{"function"===typeof d&&d(),g(!0)},[d]);return t.createElement(vF,{begin:o,duration:s,isActive:i,easing:l,from:{t:0},to:{t:1},onAnimationStart:v,onAnimationEnd:y,key:f},e=>{var{t:i}=e,o=[],s=(a&&a[0]).startAngle;return a.forEach((e,t)=>{var n=p&&p[t],r=t>0?Dy()(e,"paddingAngle",0):0;if(n){var a=Hy(n.endAngle-n.startAngle,e.endAngle-e.startAngle),l=YB(YB({},e),{},{startAngle:s+r,endAngle:s+a(i)+r});o.push(l),s=l.endAngle}else{var{endAngle:c,startAngle:u}=e,d=Hy(0,c-u)(i),h=YB(YB({},e),{},{startAngle:s+r,endAngle:s+d+r});o.push(h),s=h.endAngle}}),r.current=o,t.createElement(lM,null,t.createElement(a$,{sectors:o,activeShape:c,inactiveShape:u,allOtherPieProps:n,showLabels:!m}))})}function o$(e){var{sectors:n,isAnimationActive:r,activeShape:a,inactiveShape:i}=e,o=(0,t.useRef)(null),s=o.current;return r&&n&&n.length&&(!s||s!==n)?t.createElement(i$,{props:e,previousSectorsRef:o}):t.createElement(a$,{sectors:n,activeShape:a,inactiveShape:i,allOtherPieProps:e,showLabels:!0})}function s$(e){var{hide:n,className:r,rootTabIndex:a}=e,i=Cy("recharts-pie",r);return n?null:t.createElement(lM,{tabIndex:a,className:i},t.createElement(o$,e))}var l$={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!BD,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function c$(e){var n=MD(e,l$),r=(0,t.useMemo)(()=>eD(e.children,CB),[e.children]),a=nD(n,!1),i=(0,t.useMemo)(()=>({name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,data:n.data,dataKey:n.dataKey,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,minAngle:n.minAngle,paddingAngle:n.paddingAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,legendType:n.legendType,fill:n.fill,presentationProps:a}),[n.cornerRadius,n.cx,n.cy,n.data,n.dataKey,n.endAngle,n.innerRadius,n.minAngle,n.name,n.nameKey,n.outerRadius,n.paddingAngle,n.startAngle,n.tooltipType,n.legendType,n.fill,a]),o=Bw(e=>AB(e,i,r));return t.createElement(t.Fragment,null,t.createElement(Iz,{fn:ZB,args:YB(YB({},n),{},{sectors:o})}),t.createElement(s$,XB({},n,{sectors:o})))}class u$ extends t.PureComponent{constructor(){super(...arguments),QB(this,"id",Vy("recharts-pie-"))}render(){return t.createElement(t.Fragment,null,t.createElement(uz,{data:this.props.data,dataKey:this.props.dataKey,hide:this.props.hide,angleAxisId:0,radiusAxisId:0,stackId:void 0,barSize:void 0,type:"pie"}),t.createElement(JB,this.props),t.createElement(c$,this.props),this.props.children)}}QB(u$,"displayName","Pie"),QB(u$,"defaultProps",l$);var d$=["axis","item"],h$=(0,t.forwardRef)((e,n)=>t.createElement(zD,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:d$,tooltipPayloadSearcher:Jb,categoricalChartProps:e,ref:n})),f$="Invariant failed";var p$=["x","y"];function m$(){return m$=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},m$.apply(null,arguments)}function g$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function y$(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g$(Object(n),!0).forEach(function(t){v$(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g$(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function v$(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b$(e,t){var{x:n,y:r}=e,a=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,p$),i="".concat(n),o=parseInt(i,10),s="".concat(r),l=parseInt(s,10),c="".concat(t.height||a.height),u=parseInt(c,10),d="".concat(t.width||a.width),h=parseInt(d,10);return y$(y$(y$(y$(y$({},t),a),o?{x:o}:{}),l?{y:l}:{}),{},{height:u,width:h,name:t.name,radius:t.radius})}function x$(e){return t.createElement($B,m$({shapeType:"rectangle",propTransformer:b$,activeClassName:"recharts-active-bar"},e))}var w$=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(n,r)=>{if(Fy(e))return e;var a=Fy(n)||Wy(n);return a?e(n,r):(a||function(e){if(!e)throw new Error(f$)}(!1),t)}},k$=()=>{var e=Fw();return(0,t.useEffect)(()=>(e(HI()),()=>{e(KI())})),null};function S$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function E$(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S$(Object(n),!0).forEach(function(t){N$(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S$(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function N$(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var j$=(e,t,n,r,a)=>a,_$=(e,t,n)=>{var r=null!==n&&void 0!==n?n:e;if(!Wy(r))return By(r,t,0)},T$=Pw([Jk,AA,(e,t)=>t,(e,t,n)=>n,(e,t,n,r)=>r],(e,t,n,r,a)=>t.filter(t=>"horizontal"===e?t.xAxisId===n:t.yAxisId===r).filter(e=>e.isPanorama===a).filter(e=>!1===e.hide).filter(e=>"bar"===e.type));function A$(e){return null!=e.stackId&&null!=e.dataKey}var C$=Pw([T$,e=>e.rootProps.barSize,(e,t,n)=>"horizontal"===Jk(e)?KC(e,"xAxis",t):KC(e,"yAxis",n)],(e,t,n)=>{var r=e.filter(A$),a=e.filter(e=>null==e.stackId),i=r.reduce((e,t)=>(e[t.stackId]||(e[t.stackId]=[]),e[t.stackId].push(t),e),{});return[...Object.entries(i).map(e=>{var[r,a]=e;return{stackId:r,dataKeys:a.map(e=>e.dataKey),barSize:_$(t,n,a[0].barSize)}}),...a.map(e=>({stackId:void 0,dataKeys:[e.dataKey].filter(e=>null!=e),barSize:_$(t,n,e.barSize)}))]}),O$=(e,t,n,r)=>{var a,i;return"horizontal"===Jk(e)?(a=ZC(e,"xAxis",t,r),i=JC(e,"xAxis",t,r)):(a=ZC(e,"yAxis",n,r),i=JC(e,"yAxis",n,r)),Nk(a,i)};var I$=Pw([C$,LT,e=>e.rootProps.barGap,FT,(e,t,n,r,a)=>{var i,o,s,l,c=Jk(e),u=LT(e),{maxBarSize:d}=a,h=Wy(d)?u:d;return"horizontal"===c?(s=ZC(e,"xAxis",t,r),l=JC(e,"xAxis",t,r)):(s=ZC(e,"yAxis",n,r),l=JC(e,"yAxis",n,r)),null!==(i=null!==(o=Nk(s,l,!0))&&void 0!==o?o:h)&&void 0!==i?i:0},O$,(e,t,n,r,a)=>a.maxBarSize],(e,t,n,r,a,i,o)=>{var s=Wy(o)?t:o,l=function(e,t,n,r,a){var i=r.length;if(!(i<1)){var o,s=By(e,n,0,!0),l=[];if(fT(r[0].barSize)){var c=!1,u=n/i,d=r.reduce((e,t)=>e+(t.barSize||0),0);(d+=(i-1)*s)>=n&&(d-=(i-1)*s,s=0),d>=n&&u>0&&(c=!0,d=i*(u*=.9));var h={offset:((n-d)/2|0)-s,size:0};o=r.reduce((e,t)=>{var n,r=[...e,{stackId:t.stackId,dataKeys:t.dataKeys,position:{offset:h.offset+h.size+s,size:c?u:null!==(n=t.barSize)&&void 0!==n?n:0}}];return h=r[r.length-1].position,r},l)}else{var f=By(t,n,0,!0);n-2*f-(i-1)*s<=0&&(s=0);var p=(n-2*f-(i-1)*s)/i;p>1&&(p>>=0);var m=fT(a)?Math.min(p,a):p;o=r.reduce((e,t,n)=>[...e,{stackId:t.stackId,dataKeys:t.dataKeys,position:{offset:f+(p+s)*n+(p-m)/2,size:m}}],l)}return o}}(n,r,a!==i?a:i,e,s);return a!==i&&null!=l&&(l=l.map(e=>E$(E$({},e),{},{position:E$(E$({},e.position),{},{offset:e.position.offset-a/2})}))),l}),P$=Pw([I$,j$],(e,t)=>{if(null!=e){var n=e.find(e=>e.stackId===t.stackId&&e.dataKeys.includes(t.dataKey));if(null!=n)return n.position}}),D$=Pw([AA,j$],(e,t)=>{if(e.some(e=>"bar"===e.type&&t.dataKey===e.dataKey&&t.stackId===e.stackId&&t.stackId===e.stackId))return t}),M$=Pw([(e,t,n,r)=>"horizontal"===Jk(e)?KA(e,"yAxis",n,r):KA(e,"xAxis",t,r),j$],(e,t)=>{if(e&&null!=(null===t||void 0===t?void 0:t.dataKey)){var{stackId:n}=t;if(null!=n){var r=e[n];if(r){var{stackedData:a}=r;if(a)return a.find(e=>e.key===t.dataKey)}}}}),R$=Pw([zk,(e,t,n,r)=>ZC(e,"xAxis",t,r),(e,t,n,r)=>ZC(e,"yAxis",n,r),(e,t,n,r)=>JC(e,"xAxis",t,r),(e,t,n,r)=>JC(e,"yAxis",n,r),P$,Jk,hT,O$,M$,D$,(e,t,n,r,a,i)=>i],(e,t,n,r,a,i,o,s,l,c,u,d)=>{var{chartData:h,dataStartIndex:f,dataEndIndex:p}=s;if(null!=u&&null!=i&&("horizontal"===o||"vertical"===o)&&null!=t&&null!=n&&null!=r&&null!=a&&null!=l){var m,{data:g}=u;if(null!=(m=null!=g&&g.length>0?g:null===h||void 0===h?void 0:h.slice(f,p+1)))return function(e){var{layout:t,barSettings:{dataKey:n,minPointSize:r},pos:a,bandSize:i,xAxis:o,yAxis:s,xAxisTicks:l,yAxisTicks:c,stackedData:u,displayedData:d,offset:h,cells:f}=e,p="horizontal"===t?s:o,m=u?p.scale.domain():null,g=(e=>{var{numericAxis:t}=e,n=t.scale.domain();if("number"===t.type){var r=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return r<=0&&a>=0?0:a<0?a:r}return n[0]})({numericAxis:p});return d.map((e,d)=>{var p,y,v,b,x,w;u?p=((e,t)=>{if(!t||2!==t.length||!Fy(t[0])||!Fy(t[1]))return e;var n=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]),a=[e[0],e[1]];return(!Fy(e[0])||e[0]<n)&&(a[0]=n),(!Fy(e[1])||e[1]>r)&&(a[1]=r),a[0]>r&&(a[0]=r),a[1]<n&&(a[1]=n),a})(u[d],m):(p=hk(e,n),Array.isArray(p)||(p=[g,p]));var k=w$(r,X$)(p[1],d);if("horizontal"===t){var S,[E,N]=[s.scale(p[0]),s.scale(p[1])];y=wk({axis:o,ticks:l,bandSize:i,offset:a.offset,entry:e,index:d}),v=null!==(S=null!==N&&void 0!==N?N:E)&&void 0!==S?S:void 0,b=a.size;var j=E-N;if(x=Ry(j)?0:j,w={x:y,y:h.top,width:b,height:h.height},Math.abs(k)>0&&Math.abs(x)<Math.abs(k)){var _=My(x||k)*(Math.abs(k)-Math.abs(x));v-=_,x+=_}}else{var[T,A]=[o.scale(p[0]),o.scale(p[1])];if(y=T,v=wk({axis:s,ticks:c,bandSize:i,offset:a.offset,entry:e,index:d}),b=A-T,x=a.size,w={x:h.left,y:v,width:h.width,height:x},Math.abs(k)>0&&Math.abs(b)<Math.abs(k))b+=My(b||k)*(Math.abs(k)-Math.abs(b))}return B$(B$({},e),{},{x:y,y:v,width:b,height:x,value:u?p:p[1],payload:e,background:w,tooltipPosition:{x:y+b/2,y:v+x/2}},f&&f[d]&&f[d].props)})}({layout:o,barSettings:u,pos:i,bandSize:l,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:a,stackedData:c,displayedData:m,offset:e,cells:d})}}),L$=["onMouseEnter","onMouseLeave","onClick"],F$=["value","background","tooltipPosition"],z$=["onMouseEnter","onClick","onMouseLeave"];function U$(){return U$=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},U$.apply(null,arguments)}function V$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function B$(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?V$(Object(n),!0).forEach(function(t){$$(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V$(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function $$(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function H$(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var K$=e=>{var{dataKey:t,name:n,fill:r,legendType:a,hide:i}=e;return[{inactive:i,dataKey:t,type:a,color:r,value:_k(n,t),payload:e}]};function q$(e){var{dataKey:t,stroke:n,strokeWidth:r,fill:a,name:i,hide:o,unit:s}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:a,dataKey:t,nameKey:void 0,name:_k(i,t),hide:o,type:e.tooltipType,color:e.fill,unit:s}}}function W$(e){var n=Bw(nI),{data:r,dataKey:a,background:i,allOtherBarProps:o}=e,{onMouseEnter:s,onMouseLeave:l,onClick:c}=o,u=H$(o,L$),d=HB(s,a),h=KB(l),f=qB(c,a);if(!i||null==r)return null;var p=nD(i,!1);return t.createElement(t.Fragment,null,r.map((e,r)=>{var{value:o,background:s,tooltipPosition:l}=e,c=H$(e,F$);if(!s)return null;var m=d(e,r),g=h(e,r),y=f(e,r),v=B$(B$(B$(B$(B$({option:i,isActive:String(r)===n},c),{},{fill:"#eee"},s),p),YP(u,e,r)),{},{onMouseEnter:m,onMouseLeave:g,onClick:y,dataKey:a,index:r,className:"recharts-bar-background-rectangle"});return t.createElement(x$,U$({key:"background-bar-".concat(r)},v))}))}function G$(e){var{data:n,props:r,showLabels:a}=e,i=nD(r,!1),{shape:o,dataKey:s,activeBar:l}=r,c=Bw(nI),u=Bw(aI),{onMouseEnter:d,onClick:h,onMouseLeave:f}=r,p=H$(r,z$),m=HB(d,s),g=KB(f),y=qB(h,s);return n?t.createElement(t.Fragment,null,n.map((e,n)=>{var r=l&&String(n)===c&&(null==u||s===u),a=r?l:o,d=B$(B$(B$({},i),e),{},{isActive:r,option:a,index:n,dataKey:s});return t.createElement(lM,U$({className:"recharts-bar-rectangle"},YP(p,e,n),{onMouseEnter:m(e,n),onMouseLeave:g(e,n),onClick:y(e,n),key:"rectangle-".concat(null===e||void 0===e?void 0:e.x,"-").concat(null===e||void 0===e?void 0:e.y,"-").concat(null===e||void 0===e?void 0:e.value,"-").concat(n)}),t.createElement(x$,d))}),a&&iz.renderCallByParent(r,n)):null}function Y$(e){var{props:n,previousRectanglesRef:r}=e,{data:a,layout:i,isAnimationActive:o,animationBegin:s,animationDuration:l,animationEasing:c,onAnimationEnd:u,onAnimationStart:d}=n,h=r.current,f=Kz(n,"recharts-bar-"),[p,m]=(0,t.useState)(!1),g=(0,t.useCallback)(()=>{"function"===typeof u&&u(),m(!1)},[u]),y=(0,t.useCallback)(()=>{"function"===typeof d&&d(),m(!0)},[d]);return t.createElement(vF,{begin:s,duration:l,isActive:o,easing:c,from:{t:0},to:{t:1},onAnimationEnd:g,onAnimationStart:y,key:f},e=>{var{t:o}=e,s=1===o?a:a.map((e,t)=>{var n=h&&h[t];if(n){var r=Hy(n.x,e.x),a=Hy(n.y,e.y),s=Hy(n.width,e.width),l=Hy(n.height,e.height);return B$(B$({},e),{},{x:r(o),y:a(o),width:s(o),height:l(o)})}if("horizontal"===i){var c=Hy(0,e.height)(o);return B$(B$({},e),{},{y:e.y+e.height-c,height:c})}var u=Hy(0,e.width)(o);return B$(B$({},e),{},{width:u})});return o>0&&(r.current=s),t.createElement(lM,null,t.createElement(G$,{props:n,data:s,showLabels:!p}))})}function Q$(e){var{data:n,isAnimationActive:r}=e,a=(0,t.useRef)(null);return r&&n&&n.length&&(null==a.current||a.current!==n)?t.createElement(Y$,{previousRectanglesRef:a,props:e}):t.createElement(G$,{props:e,data:n,showLabels:!0})}var X$=0,J$=(e,t)=>{var n=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:n,errorVal:hk(e,t)}};class Z$ extends t.PureComponent{constructor(){super(...arguments),$$(this,"id",Vy("recharts-bar-"))}render(){var{hide:e,data:n,dataKey:r,className:a,xAxisId:i,yAxisId:o,needClip:s,background:l,id:c,layout:u}=this.props;if(e)return null;var d=Cy("recharts-bar",a),h=Wy(c)?this.id:c;return t.createElement(lM,{className:d},s&&t.createElement("defs",null,t.createElement(Dz,{clipPathId:h,xAxisId:i,yAxisId:o})),t.createElement(lM,{className:"recharts-bar-rectangles",clipPath:s?"url(#clipPath-".concat(h,")"):null},t.createElement(W$,{data:n,dataKey:r,background:l,allOtherBarProps:this.props}),t.createElement(Q$,this.props)),t.createElement(Ez,{direction:"horizontal"===u?"y":"x"},this.props.children))}}var eH={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!BD,legendType:"rect",minPointSize:X$,xAxisId:0,yAxisId:0};function tH(e){var n,{xAxisId:r,yAxisId:a,hide:i,legendType:o,minPointSize:s,activeBar:l,animationBegin:c,animationDuration:u,animationEasing:d,isAnimationActive:h}=MD(e,eH),{needClip:f}=Pz(r,a),p=Zk(),m=$k(),g=(0,t.useMemo)(()=>({barSize:e.barSize,data:void 0,dataKey:e.dataKey,maxBarSize:e.maxBarSize,minPointSize:s,stackId:bk(e.stackId)}),[e.barSize,e.dataKey,e.maxBarSize,s,e.stackId]),y=eD(e.children,CB),v=Bw(e=>R$(e,r,a,m,g,y));if("vertical"!==p&&"horizontal"!==p)return null;var b=null===v||void 0===v?void 0:v[0];return n=null==b||null==b.height||null==b.width?0:"vertical"===p?b.height/2:b.width/2,t.createElement(gz,{xAxisId:r,yAxisId:a,data:v,dataPointFormatter:J$,errorBarOffset:n},t.createElement(Z$,U$({},e,{layout:p,needClip:f,data:v,xAxisId:r,yAxisId:a,hide:i,legendType:o,minPointSize:s,activeBar:l,animationBegin:c,animationDuration:u,animationEasing:d,isAnimationActive:h})))}class nH extends t.PureComponent{render(){return t.createElement(yz,{type:"bar",data:null,xAxisId:this.props.xAxisId,yAxisId:this.props.yAxisId,zAxisId:0,dataKey:this.props.dataKey,stackId:this.props.stackId,hide:this.props.hide,barSize:this.props.barSize},t.createElement(k$,null),t.createElement($z,{legendPayload:K$(this.props)}),t.createElement(Iz,{fn:q$,args:this.props}),t.createElement(tH,this.props))}}$$(nH,"displayName","Bar"),$$(nH,"defaultProps",eH);const rH={categoryColors:["#f97316","#3b82f6","#22c55e","#8b5cf6","#f59e0b","#ef4444","#14b8a6","#f43f5e","#6366f1","#84cc16","#06b6d4","#d946ef","#f97316","#10b981","#f59e0b"],accountColors:{bank:["#3b82f6","#2563eb","#1d4ed8","#1e40af","#1e3a8a","#6366f1","#4f46e5","#4338ca"],crypto:["#f97316","#ea580c","#d97706","#b45309","#92400e","#f59e0b","#d97706","#b45309"]}},aH={income:["Salary","Gift","Payouts","Gambling","Investments","Business","Freelance","Rental Income","Interest","Dividends","Bonus","Commission","Refunds","Other Income"],expense:["Food & Dining","Travel","Entertainment","Friends & Family","Shopping","Utilities","Healthcare","Personal Care","Gifts & Donations","Bills","Groceries","Vehicle","Subscriptions","Hobbies","Eval","Other Expenses"]};const iH=function(e){var n,r;let{accounts:a,transactions:i}=e;const{currentUser:o}=Jg(),[s,l]=(0,t.useState)("thisYear"),[c,u]=(0,t.useState)("all"),[d,h]=(0,t.useState)("overview"),[f,p]=(0,t.useState)(!1),[m,g]=(0,t.useState)("all"),[y,v]=(0,t.useState)((new Date).getFullYear()),[b,x]=(0,t.useState)([]);(0,t.useEffect)(()=>{(async()=>{if(o)try{const e=xg(Im(Yg,"users",o.uid,"netWorthSnapshots"),Ng("date","desc")),t=await Lg(e),n={};t.docs.forEach(e=>{n[e.id]=e.data()}),x(n)}catch(e){console.error("Error loading net worth snapshots:",e)}})()},[o]);const w=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"INR";return new Intl.NumberFormat("en-IN",{style:"currency",currency:t,minimumFractionDigits:"USD"===t?2:0,maximumFractionDigits:"USD"===t?2:0}).format(e)},k=e=>{const t=Math.abs(e);return t>=1e7?(e/1e7).toFixed(1).replace(/\.0$/,"")+"Cr":t>=1e5?(e/1e5).toFixed(1).replace(/\.0$/,"")+"L":t>=1e3?(e/1e3).toFixed(0)+"k":e.toString()},S=(e,t)=>"USD"===t?84*e:e,E=e=>{const t=new Date,n=0===i.length?new Date:new Date(Math.min(...i.map(e=>new Date(e.date))));let r=new Date;switch(e){case"thisWeek":r.setDate(t.getDate()-t.getDay()),r.setHours(0,0,0,0);break;case"thisMonth":r=new Date(t.getFullYear(),t.getMonth(),1);break;case"thisYear":default:r=new Date(t.getFullYear(),0,1);break;case"allTime":r=n}return r<n&&(r=n),{start:r,end:t}},N=(0,t.useMemo)(()=>{const{start:e,end:t}=E(s);return i.filter(n=>{const r=new Date(n.date),a=r>=e&&r<=t,i="all"===c||n.accountId===c,o="all"===m||n.category===m;return a&&i&&o})},[i,s,c,m]),j=(0,t.useMemo)(()=>{const e=N.filter(e=>"income"===e.type).reduce((e,t)=>e+S(t.amount,t.currency),0),t=N.filter(e=>"expense"===e.type).reduce((e,t)=>e+S(t.amount,t.currency),0),n=e-t,r=e>0?n/e*100:0,o=a.reduce((e,t)=>e+S(t.balance,t.currency),0),{start:l,end:c}=E(s),u=new Date(l),d=new Date(l);d.setTime(d.getTime()-(c.getTime()-l.getTime()));const h=i.filter(e=>{const t=new Date(e.date);return t>=d&&t<=u}),f=h.filter(e=>"income"===e.type).reduce((e,t)=>e+S(t.amount,t.currency),0),p=h.filter(e=>"expense"===e.type).reduce((e,t)=>e+S(t.amount,t.currency),0);return{totalIncome:e,totalExpense:t,netSavings:n,savingsRate:r,currentNetWorth:o,transactionCount:N.length,avgTransactionAmount:N.length>0?N.reduce((e,t)=>e+S(t.amount,t.currency),0)/N.length:0,incomeGrowth:f>0?(e-f)/f*100:0,expenseGrowth:p>0?(t-p)/p*100:0}},[N,a,i,s]),_=(0,t.useMemo)(()=>{const e={},{start:t}=E(s);for(let a=new Date(t);a<=new Date;a.setMonth(a.getMonth()+1)){const t=a.toISOString().slice(0,7);e[t]={month:a.toLocaleDateString("en-IN",{month:"short",year:"2-digit"}),income:0,expense:0,transactions:0}}N.forEach(t=>{const n=t.date.slice(0,7);if(e[n]){const r=S(t.amount,t.currency);"income"===t.type?e[n].income+=r:"expense"===t.type&&(e[n].expense+=r),e[n].transactions+=1}});const n=Object.entries(e).sort((e,t)=>{let[n]=e,[r]=t;return n.localeCompare(r)}).map(e=>{let[t,n]=e;const[r,a]=t.split("-");let i=null;for(let o=new Date(parseInt(r),parseInt(a)-1+1,0).getDate();o>=1;o--){const e=`${r}-${a}-${String(o).padStart(2,"0")}`;if(b[e]){i=b[e].totalNetWorth;break}}return"2025"===r&&"01"===a&&null===i&&(i=95e4),null===i&&t===(new Date).toISOString().slice(0,7)&&(i=j.currentNetWorth),{...n,netWorth:i||0,savings:n.income-n.expense}}),r={};aH.expense.forEach(e=>{r[e]=0}),N.filter(e=>"expense"===e.type).forEach(e=>{const t=e.category||"Other Expenses";void 0!==r[t]?r[t]+=S(e.amount,e.currency):r["Other Expenses"]+=S(e.amount,e.currency)});const i=Object.entries(r).filter(e=>{let[t,n]=e;return n>0}).sort((e,t)=>{let[n,r]=e,[a,i]=t;return i-r}).slice(0,8).map((e,t)=>{let[n,r]=e;return{name:n,value:r,percentage:j.totalExpense>0?r/j.totalExpense*100:0,color:rH.categoryColors[t%rH.categoryColors.length]}}),o=["#3b82f6","#f97316","#22c55e","#8b5cf6","#ef4444","#14b8a6","#f59e0b","#6366f1","#84cc16","#f43f5e"],l=a.filter(e=>!e.isDeleted).map((e,t)=>({name:e.name,value:S(e.balance,e.currency),currency:e.currency,type:e.type,percentage:j.currentNetWorth>0?S(e.balance,e.currency)/j.currentNetWorth*100:0,color:o[t%o.length]})).sort((e,t)=>t.value-e.value);return{monthly:n,categories:i,accounts:l}},[N,a,s,j,b]),T=[{value:"overview",label:"Overview",icon:hy},{value:"trends",label:"Trends",icon:Ey},{value:"categories",label:"Categories",icon:jU},{value:"accounts",label:"Accounts",icon:uy}],A=e=>{let{title:t,value:n,change:r,icon:a,color:i="blue",trend:o=null}=e;return(0,Qg.jsxs)("div",{className:"bg-white dark:bg-white/5 rounded-2xl p-6 backdrop-blur-sm shadow-lg dark:shadow-2xl transition-all duration-300 hover:transform hover:scale-[1.02] border border-gray-100 dark:border-white/10",children:[(0,Qg.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Qg.jsx)("h3",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:t}),(0,Qg.jsx)("div",{className:`w-10 h-10 rounded-xl bg-${i}-100 dark:bg-${i}-500/20 flex items-center justify-center`,children:(0,Qg.jsx)(a,{className:`w-5 h-5 text-${i}-600 dark:text-${i}-400`})})]}),(0,Qg.jsxs)("div",{className:"space-y-2",children:[(0,Qg.jsx)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"number"===typeof n?w(n):n}),void 0!==r&&(0,Qg.jsxs)("div",{className:"flex items-center space-x-1 text-sm "+(r>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"),children:[r>=0?(0,Qg.jsx)(_U,{className:"w-4 h-4"}):(0,Qg.jsx)(TU,{className:"w-4 h-4"}),(0,Qg.jsxs)("span",{children:[Math.abs(r).toFixed(1),"% vs last period"]})]}),o&&(0,Qg.jsx)("div",{className:"mt-2",children:(0,Qg.jsx)("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:(0,Qg.jsx)("div",{className:`h-2 rounded-full bg-${i}-500 transition-all duration-500`,style:{width:`${Math.min(100,Math.abs(o))}%`}})})})]})]})},C=e=>{let{active:t,payload:n,label:r}=e;return t&&n&&n.length?(0,Qg.jsxs)("div",{className:"bg-white dark:bg-gray-800 p-4 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg backdrop-blur-sm",children:[(0,Qg.jsx)("p",{className:"text-sm font-medium text-gray-900 dark:text-white mb-2",children:r}),n.map((e,t)=>(0,Qg.jsxs)("div",{className:"flex items-center space-x-2 text-sm",children:[(0,Qg.jsx)("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:e.color}}),(0,Qg.jsxs)("span",{className:"text-gray-600 dark:text-gray-400",children:[e.dataKey,":"]}),(0,Qg.jsx)("span",{className:"font-medium text-gray-900 dark:text-white",children:w(e.value)})]},t))]}):null};return(0,Qg.jsxs)("div",{className:"p-6 space-y-6 animate-fade-in relative min-h-screen transition-all duration-500",children:[(0,Qg.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4",children:[(0,Qg.jsxs)("div",{children:[(0,Qg.jsx)("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white transition-colors duration-300",children:"Analytics Dashboard"}),(0,Qg.jsx)("p",{className:"text-gray-600 dark:text-gray-400 transition-colors duration-300",children:"Insights into your financial patterns and trends"})]}),(0,Qg.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Qg.jsx)("button",{onClick:()=>p(!f),className:"p-2 rounded-lg shadow-sm dark:shadow-lg hover:shadow-md dark:hover:shadow-xl transition-all duration-300 backdrop-blur-sm border "+(f?"bg-orange-500 text-white border-orange-500":"bg-white dark:bg-white/5 text-gray-600 dark:text-gray-400 border-gray-200 dark:border-white/10"),title:"Comparison mode",children:(0,Qg.jsx)(vy,{className:"w-5 h-5"})}),(0,Qg.jsx)("div",{className:"flex bg-white dark:bg-white/5 rounded-lg p-1 shadow-sm dark:shadow-lg backdrop-blur-sm border border-gray-200 dark:border-white/10",children:[{value:"thisWeek",label:"This Week"},{value:"thisMonth",label:"This Month"},{value:"thisYear",label:"This Year"},{value:"allTime",label:"All Time"}].map(e=>(0,Qg.jsx)("button",{onClick:()=>l(e.value),className:"px-3 py-1 text-sm rounded-md transition-all duration-300 whitespace-nowrap "+(s===e.value?"bg-orange-500 text-white shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"),children:e.label},e.value))})]})]}),(0,Qg.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,Qg.jsx)(A,{title:"Total Income",value:j.totalIncome,change:f?j.incomeGrowth:void 0,icon:wy,color:"green"}),(0,Qg.jsx)(A,{title:"Total Expenses",value:j.totalExpense,change:f?j.expenseGrowth:void 0,icon:ky,color:"red"}),(0,Qg.jsx)(A,{title:"Net Savings",value:j.netSavings,icon:AU,color:j.netSavings>=0?"blue":"orange",trend:j.savingsRate}),(0,Qg.jsx)(A,{title:"Net Worth",value:j.currentNetWorth,icon:Ey,color:"purple"})]}),(0,Qg.jsxs)("div",{className:"bg-white dark:bg-white/5 rounded-2xl p-6 backdrop-blur-sm shadow-lg dark:shadow-2xl transition-all duration-300 border border-gray-100 dark:border-white/10",children:[(0,Qg.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4 mb-6",children:[(0,Qg.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Qg.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Financial Insights"}),(0,Qg.jsx)("div",{className:"flex bg-gray-100 dark:bg-gray-800 rounded-lg p-1",children:T.map(e=>{const t=e.icon;return(0,Qg.jsxs)("button",{onClick:()=>h(e.value),className:"flex items-center space-x-2 px-3 py-2 text-sm rounded-md transition-all duration-300 "+(d===e.value?"bg-orange-500 text-white shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"),children:[(0,Qg.jsx)(t,{className:"w-4 h-4"}),(0,Qg.jsx)("span",{className:"hidden sm:inline",children:e.label})]},e.value)})})]}),(0,Qg.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Qg.jsxs)("select",{value:c,onChange:e=>u(e.target.value),className:"px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300",children:[(0,Qg.jsx)("option",{value:"all",children:"All Accounts"}),a.filter(e=>!e.isDeleted).map(e=>(0,Qg.jsx)("option",{value:e.id,children:e.name},e.id))]}),"categories"===d&&(0,Qg.jsxs)("select",{value:m,onChange:e=>g(e.target.value),className:"px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300",children:[(0,Qg.jsx)("option",{value:"all",children:"All Categories"}),[...aH.income,...aH.expense].map(e=>(0,Qg.jsx)("option",{value:e,children:e},e))]})]})]}),(0,Qg.jsx)("div",{className:"w-full",children:(()=>{switch(d){case"trends":return(0,Qg.jsx)("div",{className:"h-80",children:(0,Qg.jsx)(Zy,{width:"100%",height:"100%",children:(0,Qg.jsxs)(PU,{data:_.monthly,children:[(0,Qg.jsxs)("defs",{children:[(0,Qg.jsxs)("linearGradient",{id:"incomeGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[(0,Qg.jsx)("stop",{offset:"5%",stopColor:"#22c55e",stopOpacity:.3}),(0,Qg.jsx)("stop",{offset:"95%",stopColor:"#22c55e",stopOpacity:0})]}),(0,Qg.jsxs)("linearGradient",{id:"expenseGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[(0,Qg.jsx)("stop",{offset:"5%",stopColor:"#ef4444",stopOpacity:.3}),(0,Qg.jsx)("stop",{offset:"95%",stopColor:"#ef4444",stopOpacity:0})]})]}),(0,Qg.jsx)(pR,{strokeDasharray:"3 3",stroke:"currentColor",opacity:.1}),(0,Qg.jsx)(SR,{dataKey:"month",stroke:"currentColor",fontSize:12}),(0,Qg.jsx)(OR,{stroke:"currentColor",fontSize:12,tickFormatter:k}),(0,Qg.jsx)(qF,{content:(0,Qg.jsx)(C,{})}),(0,Qg.jsx)(NV,{}),(0,Qg.jsx)(eB,{type:"monotone",dataKey:"income",stackId:"1",stroke:"#22c55e",fill:"url(#incomeGradient)",name:"Income"}),(0,Qg.jsx)(eB,{type:"monotone",dataKey:"expense",stackId:"2",stroke:"#ef4444",fill:"url(#expenseGradient)",name:"Expenses"}),(0,Qg.jsx)(dU,{type:"monotone",dataKey:"netWorth",stroke:"#f97316",strokeWidth:3,name:"Net Worth",dot:{fill:"#f97316",r:4}})]})})});case"categories":return(0,Qg.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,Qg.jsx)("div",{className:"h-80",children:(0,Qg.jsx)(Zy,{width:"100%",height:"100%",children:(0,Qg.jsxs)(lB,{children:[(0,Qg.jsx)(u$,{data:_.categories,cx:"50%",cy:"50%",innerRadius:60,outerRadius:120,paddingAngle:2,dataKey:"value",children:_.categories.map((e,t)=>(0,Qg.jsx)(CB,{fill:e.color},`cell-${t}`))}),(0,Qg.jsx)(qF,{formatter:e=>[w(e),"Amount"],contentStyle:{backgroundColor:"var(--bg-elevated)",border:"1px solid var(--border-primary)",borderRadius:"8px"}})]})})}),(0,Qg.jsxs)("div",{className:"space-y-3",children:[(0,Qg.jsx)("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Category Breakdown"}),(0,Qg.jsx)("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:_.categories.map((e,t)=>(0,Qg.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-white/5 rounded-lg",children:[(0,Qg.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Qg.jsx)("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:e.color}}),(0,Qg.jsx)("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:e.name})]}),(0,Qg.jsxs)("div",{className:"text-right",children:[(0,Qg.jsx)("p",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:w(e.value)}),(0,Qg.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[e.percentage.toFixed(1),"%"]})]})]},e.name))})]})]});case"accounts":return(0,Qg.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,Qg.jsx)("div",{className:"h-80",children:(0,Qg.jsx)(Zy,{width:"100%",height:"100%",children:(0,Qg.jsxs)(lB,{children:[(0,Qg.jsx)(u$,{data:_.accounts,cx:"50%",cy:"50%",innerRadius:60,outerRadius:120,paddingAngle:2,dataKey:"value",children:_.accounts.map((e,t)=>(0,Qg.jsx)(CB,{fill:e.color},`cell-${t}`))}),(0,Qg.jsx)(qF,{formatter:e=>[w(e),"Balance"],contentStyle:{backgroundColor:"var(--bg-elevated)",border:"1px solid var(--border-primary)",borderRadius:"8px"}})]})})}),(0,Qg.jsxs)("div",{className:"space-y-3",children:[(0,Qg.jsx)("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Account Distribution"}),(0,Qg.jsx)("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:_.accounts.map((e,t)=>(0,Qg.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-white/5 rounded-lg",children:[(0,Qg.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Qg.jsx)("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:e.color}}),(0,Qg.jsxs)("div",{className:"flex items-center space-x-2",children:["crypto"===e.type?(0,Qg.jsx)(fU,{className:"w-4 h-4 text-orange-500"}):(0,Qg.jsx)(pU,{className:"w-4 h-4 text-blue-500"}),(0,Qg.jsx)("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:e.name})]})]}),(0,Qg.jsxs)("div",{className:"text-right",children:[(0,Qg.jsx)("p",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:w(e.value)}),(0,Qg.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[e.percentage.toFixed(1),"% \u2022 ",e.currency]})]})]},e.name))})]})]});default:return(0,Qg.jsx)("div",{className:"h-80",children:(0,Qg.jsx)(Zy,{width:"100%",height:"100%",children:(0,Qg.jsxs)(h$,{data:_.monthly,children:[(0,Qg.jsx)(pR,{strokeDasharray:"3 3",stroke:"currentColor",opacity:.1}),(0,Qg.jsx)(SR,{dataKey:"month",stroke:"currentColor",fontSize:12}),(0,Qg.jsx)(OR,{stroke:"currentColor",fontSize:12,tickFormatter:k,domain:[0,"dataMax"],ticks:[0,5e5,1e6,15e5,2e6,25e5,3e6]}),(0,Qg.jsx)(qF,{content:(0,Qg.jsx)(C,{})}),(0,Qg.jsx)(NV,{}),(0,Qg.jsx)(nH,{dataKey:"income",fill:"#22c55e",name:"Income",radius:[4,4,0,0]}),(0,Qg.jsx)(nH,{dataKey:"expense",fill:"#ef4444",name:"Expenses",radius:[4,4,0,0]}),(0,Qg.jsx)(nH,{dataKey:"savings",fill:"#f97316",name:"Savings",radius:[4,4,0,0]})]})})})}})()})]}),(0,Qg.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,Qg.jsxs)("div",{className:"bg-white dark:bg-white/5 rounded-2xl p-6 backdrop-blur-sm shadow-lg dark:shadow-2xl transition-all duration-300 border border-gray-100 dark:border-white/10",children:[(0,Qg.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,Qg.jsx)("div",{className:"w-8 h-8 bg-blue-100 dark:bg-blue-500/20 rounded-lg flex items-center justify-center",children:(0,Qg.jsx)(Ey,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"})}),(0,Qg.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Key Insights"})]}),(0,Qg.jsxs)("div",{className:"space-y-3",children:[j.savingsRate>20&&(0,Qg.jsxs)("div",{className:"flex items-start space-x-3 p-3 bg-green-50 dark:bg-green-500/10 rounded-lg border border-green-200 dark:border-green-500/20",children:[(0,Qg.jsx)(CU,{className:"w-5 h-5 text-green-600 dark:text-green-400 flex-shrink-0 mt-0.5"}),(0,Qg.jsxs)("div",{children:[(0,Qg.jsx)("p",{className:"text-sm font-medium text-green-800 dark:text-green-300",children:"Excellent Savings Rate!"}),(0,Qg.jsxs)("p",{className:"text-xs text-green-700 dark:text-green-400",children:["You're saving ",j.savingsRate.toFixed(1),"% of your income. Keep it up!"]})]})]}),j.expenseGrowth>20&&(0,Qg.jsxs)("div",{className:"flex items-start space-x-3 p-3 bg-yellow-50 dark:bg-yellow-500/10 rounded-lg border border-yellow-200 dark:border-yellow-500/20",children:[(0,Qg.jsx)(OU,{className:"w-5 h-5 text-yellow-600 dark:text-yellow-400 flex-shrink-0 mt-0.5"}),(0,Qg.jsxs)("div",{children:[(0,Qg.jsx)("p",{className:"text-sm font-medium text-yellow-800 dark:text-yellow-300",children:"Rising Expenses"}),(0,Qg.jsxs)("p",{className:"text-xs text-yellow-700 dark:text-yellow-400",children:["Your expenses increased by ",j.expenseGrowth.toFixed(1),"% this period."]})]})]}),_.categories.length>0&&(0,Qg.jsxs)("div",{className:"flex items-start space-x-3 p-3 bg-blue-50 dark:bg-blue-500/10 rounded-lg border border-blue-200 dark:border-blue-500/20",children:[(0,Qg.jsx)(jU,{className:"w-5 h-5 text-blue-600 dark:text-blue-400 flex-shrink-0 mt-0.5"}),(0,Qg.jsxs)("div",{children:[(0,Qg.jsx)("p",{className:"text-sm font-medium text-blue-800 dark:text-blue-300",children:"Top Expense Category"}),(0,Qg.jsxs)("p",{className:"text-xs text-blue-700 dark:text-blue-400",children:[null===(n=_.categories[0])||void 0===n?void 0:n.name," accounts for ",null===(r=_.categories[0])||void 0===r?void 0:r.percentage.toFixed(1),"% of expenses"]})]})]})]})]}),(0,Qg.jsxs)("div",{className:"bg-white dark:bg-white/5 rounded-2xl p-6 backdrop-blur-sm shadow-lg dark:shadow-2xl transition-all duration-300 border border-gray-100 dark:border-white/10",children:[(0,Qg.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,Qg.jsx)("div",{className:"w-8 h-8 bg-orange-100 dark:bg-orange-500/20 rounded-lg flex items-center justify-center",children:(0,Qg.jsx)(AU,{className:"w-4 h-4 text-orange-600 dark:text-orange-400"})}),(0,Qg.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Financial Health"})]}),(0,Qg.jsxs)("div",{className:"space-y-4",children:[(0,Qg.jsxs)("div",{className:"bg-gray-50 dark:bg-white/5 rounded-lg p-4",children:[(0,Qg.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Qg.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Savings Rate"}),(0,Qg.jsxs)("span",{className:"text-sm font-medium "+(j.savingsRate>=20?"text-green-600 dark:text-green-400":j.savingsRate>=10?"text-yellow-600 dark:text-yellow-400":"text-red-600 dark:text-red-400"),children:[j.savingsRate.toFixed(1),"%"]})]}),(0,Qg.jsx)("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:(0,Qg.jsx)("div",{className:"h-2 rounded-full transition-all duration-500 "+(j.savingsRate>=20?"bg-green-500":j.savingsRate>=10?"bg-yellow-500":"bg-red-500"),style:{width:`${Math.min(100,Math.max(0,j.savingsRate))}%`}})})]}),(0,Qg.jsxs)("div",{className:"bg-gray-50 dark:bg-white/5 rounded-lg p-4",children:[(0,Qg.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Qg.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Account Diversity"}),(0,Qg.jsxs)("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[a.filter(e=>!e.isDeleted).length," accounts"]})]}),(0,Qg.jsxs)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:[a.filter(e=>!e.isDeleted&&"bank"===e.type).length," Bank \u2022 ",a.filter(e=>!e.isDeleted&&"crypto"===e.type).length," Crypto"]})]}),(0,Qg.jsxs)("div",{className:"bg-gray-50 dark:bg-white/5 rounded-lg p-4",children:[(0,Qg.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Qg.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Transaction Volume"}),(0,Qg.jsx)("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:j.transactionCount})]}),(0,Qg.jsxs)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Avg ",w(j.avgTransactionAmount)," per transaction"]})]})]})]})]}),(0,Qg.jsxs)("div",{className:"bg-white dark:bg-white/5 rounded-2xl p-6 backdrop-blur-sm shadow-lg dark:shadow-2xl transition-all duration-300 border border-gray-100 dark:border-white/10",children:[(0,Qg.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Qg.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Monthly Breakdown"}),(0,Qg.jsx)("select",{value:y,onChange:e=>v(parseInt(e.target.value)),className:"px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300",children:[...new Set(i.map(e=>new Date(e.date).getFullYear()))].sort((e,t)=>t-e).map(e=>(0,Qg.jsx)("option",{value:e,children:e},e))})]}),(0,Qg.jsx)("div",{className:"overflow-x-auto",children:(0,Qg.jsxs)("table",{className:"w-full",children:[(0,Qg.jsx)("thead",{className:"bg-gray-50 dark:bg-white/5 border-b border-gray-200 dark:border-white/10",children:(0,Qg.jsxs)("tr",{children:[(0,Qg.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Month"}),(0,Qg.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Income"}),(0,Qg.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Expenses"}),(0,Qg.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Savings"}),(0,Qg.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Rate"}),(0,Qg.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Net Worth"})]})}),(0,Qg.jsx)("tbody",{className:"divide-y divide-gray-200 dark:divide-white/10",children:(()=>{const e=[],t=new Date,n=y===t.getFullYear()?t.getMonth():11;for(let r=0;r<=n;r++){const t=new Date(y,r,1).toLocaleDateString("en-IN",{month:"long",year:"numeric"}),n=N.filter(e=>{const t=new Date(e.date);return t.getMonth()===r&&t.getFullYear()===y&&"income"===e.type}).reduce((e,t)=>e+S(t.amount,t.currency),0),a=N.filter(e=>{const t=new Date(e.date);return t.getMonth()===r&&t.getFullYear()===y&&"expense"===e.type}).reduce((e,t)=>e+S(t.amount,t.currency),0),i=n-a,o=n>0?i/n*100:0;let s=null;const l=y;for(let e=new Date(l,r+1,0).getDate();e>=1;e--){const t=`${l}-${String(r+1).padStart(2,"0")}-${String(e).padStart(2,"0")}`;if(b[t]){s=b[t].totalNetWorth;break}}2025===y&&0===r&&null===s&&(s=95e4),e.push({key:t,month:r,year:y,income:n,expense:a,savings:i,savingsRate:o,netWorth:s})}return e.reverse().map((e,t)=>(0,Qg.jsxs)("tr",{className:"hover:bg-gray-50 dark:hover:bg-white/5 transition-all duration-300",children:[(0,Qg.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Qg.jsx)("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:e.key})}),(0,Qg.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Qg.jsx)("span",{className:"text-sm font-medium text-green-600 dark:text-green-400",children:w(e.income)})}),(0,Qg.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Qg.jsx)("span",{className:"text-sm font-medium text-red-600 dark:text-red-400",children:w(e.expense)})}),(0,Qg.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Qg.jsxs)("span",{className:"text-sm font-medium "+(e.savings>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"),children:[e.savings>=0?"":"-",w(Math.abs(e.savings))]})}),(0,Qg.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Qg.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Qg.jsxs)("span",{className:"text-sm font-medium "+(e.savingsRate>=20?"text-green-600 dark:text-green-400":e.savingsRate>=10?"text-yellow-600 dark:text-yellow-400":"text-red-600 dark:text-red-400"),children:[e.savingsRate.toFixed(1),"%"]}),(0,Qg.jsx)("div",{className:"w-16 bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:(0,Qg.jsx)("div",{className:"h-2 rounded-full transition-all duration-500 "+(e.savingsRate>=20?"bg-green-500":e.savingsRate>=10?"bg-yellow-500":"bg-red-500"),style:{width:`${Math.min(100,Math.max(0,e.savingsRate))}%`}})})]})}),(0,Qg.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Qg.jsx)("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:null!==e.netWorth?w(e.netWorth):"-"})})]},t))})()})]})})]})]})},oH=oy("piggy-bank",[["path",{d:"M11 17h3v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-3a3.16 3.16 0 0 0 2-2h1a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1h-1a5 5 0 0 0-2-4V3a4 4 0 0 0-3.2 1.6l-.3.4H11a6 6 0 0 0-6 6v1a5 5 0 0 0 2 4v3a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1z",key:"1piglc"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M2 8v1a2 2 0 0 0 2 2h1",key:"1env43"}]]),sH=oy("landmark",[["path",{d:"M10 18v-7",key:"wt116b"}],["path",{d:"M11.12 2.198a2 2 0 0 1 1.76.006l7.866 3.847c.476.233.31.949-.22.949H3.474c-.53 0-.695-.716-.22-.949z",key:"1m329m"}],["path",{d:"M14 18v-7",key:"vav6t3"}],["path",{d:"M18 18v-7",key:"aexdmj"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M6 18v-7",key:"1ivflk"}]]),lH=oy("grip-vertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]),cH=oy("chevron-up",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),uH={bank:{label:"Bank Account",description:"Savings, Current, Credit Card accounts",currencies:["INR","USD"]},crypto:{label:"Crypto/Investment",description:"Cryptocurrency, Investment accounts",currencies:["USD","INR"]}},dH={bank:["Savings","Current","Credit Card","Fixed Deposit"],crypto:["Crypto Wallet","Investment","Trading","Staking"]};const hH=function(e){let{accounts:n}=e;ne();const{currentUser:r}=Jg(),[a,i]=(0,t.useState)(!1),[o,s]=(0,t.useState)(!1),[l,c]=(0,t.useState)(!1),[u,d]=(0,t.useState)(null),[h,f]=(0,t.useState)(!0),[p,m]=(0,t.useState)(!1),[g,y]=(0,t.useState)(null),[v,b]=(0,t.useState)(null),[x,w]=(0,t.useState)(null),[k,S]=(0,t.useState)({name:"",type:"bank",subtype:"",currency:"INR",balance:"",description:""}),[E,N]=(0,t.useState)({deleteTransactions:!1}),j=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"INR";if(!h)return"\u2022\u2022\u2022\u2022\u2022\u2022";return new Intl.NumberFormat("en-IN",{style:"currency",currency:t,minimumFractionDigits:"USD"===t?2:0,maximumFractionDigits:"USD"===t?2:0}).format(e)},_=(e,t)=>"USD"===t?84*e:e,T=()=>{S({name:"",type:"bank",subtype:"",currency:"INR",balance:"",description:""})},A=async(e,t)=>{if(r&&!p)try{m(!0);const a=[...n].sort((e,t)=>(e.displayOrder||0)-(t.displayOrder||0)),i=a.findIndex(t=>t.id===e);if("up"===t&&0===i||"down"===t&&i===a.length-1)return void m(!1);const o="up"===t?i-1:i+1,s=Kg(Yg),l=a[i],c=a[o],u=Pm(Yg,"users",r.uid,"accounts",l.id),d=Pm(Yg,"users",r.uid,"accounts",c.id);s.update(u,{displayOrder:c.displayOrder||o,updatedAt:(new Date).toISOString()}),s.update(d,{displayOrder:l.displayOrder||i,updatedAt:(new Date).toISOString()}),await s.commit(),y(null)}catch(a){console.error("Error reordering account:",a),alert("Error reordering account. Please try again.")}finally{m(!1)}},C=()=>{w(null)};(0,t.useEffect)(()=>{const e=()=>y(null);return document.addEventListener("click",e),()=>document.removeEventListener("click",e)},[]);const O=[...n].sort((e,t)=>(e.displayOrder||0)-(t.displayOrder||0)),I=n.filter(e=>"bank"===e.type),P=n.filter(e=>"crypto"===e.type),D=I.reduce((e,t)=>e+_(t.balance,t.currency),0),M=P.reduce((e,t)=>e+_(t.balance,t.currency),0),R=D+M;return(0,Qg.jsxs)("div",{className:"p-6 space-y-6 animate-fade-in relative min-h-screen transition-all duration-500",children:[(0,Qg.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Qg.jsxs)("div",{children:[(0,Qg.jsx)("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white transition-colors duration-300",children:"Accounts"}),(0,Qg.jsx)("p",{className:"text-gray-600 dark:text-gray-400 transition-colors duration-300",children:"Manage your bank and crypto accounts"})]}),(0,Qg.jsx)("div",{className:"flex items-center",children:(0,Qg.jsxs)("button",{onClick:()=>i(!0),className:"bg-orange-500 hover:bg-orange-600 text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-all duration-300 transform hover:-translate-y-0.5 shadow-md dark:shadow-lg",children:[(0,Qg.jsx)(Ny,{className:"w-4 h-4"}),(0,Qg.jsx)("span",{children:"Add Account"})]})})]}),(0,Qg.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,Qg.jsxs)("div",{className:"bg-white dark:bg-white/5 rounded-2xl p-6 backdrop-blur-sm h-full shadow-lg dark:shadow-2xl transition-all duration-300 hover:shadow-xl dark:hover:shadow-3xl hover:transform hover:scale-[1.02]",children:[(0,Qg.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Qg.jsx)("h3",{className:"text-sm text-gray-600 dark:text-gray-400 transition-colors duration-300",children:"Total Balance"}),(0,Qg.jsx)(uy,{className:"w-5 h-5 text-orange-500"})]}),(0,Qg.jsx)("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white transition-colors duration-300",children:j(R,"INR")}),(0,Qg.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400 transition-colors duration-300 mt-1",children:["$",(R/84).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})," USD"]}),(0,Qg.jsxs)("p",{className:"text-sm text-gray-500 dark:text-gray-400 transition-colors duration-300 mt-2",children:["Across ",n.length," accounts"]})]}),(0,Qg.jsxs)("div",{className:"bg-white dark:bg-white/5 rounded-2xl p-6 backdrop-blur-sm h-full shadow-lg dark:shadow-2xl transition-all duration-300 hover:shadow-xl dark:hover:shadow-3xl hover:transform hover:scale-[1.02]",children:[(0,Qg.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Qg.jsx)("h3",{className:"text-sm text-gray-600 dark:text-gray-400 transition-colors duration-300",children:"INR Accounts"}),(0,Qg.jsx)(pU,{className:"w-5 h-5 text-blue-500"})]}),(0,Qg.jsx)("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white transition-colors duration-300",children:j(D,"INR")}),(0,Qg.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400 transition-colors duration-300 mt-1",children:["$",(D/84).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})," USD"]}),(0,Qg.jsxs)("p",{className:"text-sm text-gray-500 dark:text-gray-400 transition-colors duration-300 mt-2",children:[I.length," accounts"]})]}),(0,Qg.jsxs)("div",{className:"bg-white dark:bg-white/5 rounded-2xl p-6 backdrop-blur-sm h-full shadow-lg dark:shadow-2xl transition-all duration-300 hover:shadow-xl dark:hover:shadow-3xl hover:transform hover:scale-[1.02]",children:[(0,Qg.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Qg.jsx)("h3",{className:"text-sm text-gray-600 dark:text-gray-400 transition-colors duration-300",children:"USD Accounts"}),(0,Qg.jsx)(fU,{className:"w-5 h-5 text-orange-500"})]}),(0,Qg.jsxs)("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white transition-colors duration-300",children:["$",(M/84).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]}),(0,Qg.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 transition-colors duration-300 mt-1",children:j(M,"INR")}),(0,Qg.jsxs)("p",{className:"text-sm text-gray-500 dark:text-gray-400 transition-colors duration-300 mt-2",children:[P.length," accounts"]})]})]}),(0,Qg.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:O.length>0?O.map((e,t)=>{const n=(a=e.type,i=e.subtype,"crypto"===a?fU:"Credit Card"===i?dy:"Fixed Deposit"===i?oH:sH);var a,i;const o=e.balance<0;return(0,Qg.jsxs)("div",{draggable:!0,onDragStart:t=>((e,t)=>{b(t),e.dataTransfer.effectAllowed="move"})(t,e),onDragOver:t=>((e,t)=>{e.preventDefault(),e.dataTransfer.dropEffect="move",w(t.id)})(t,e),onDragLeave:C,onDrop:t=>(async(e,t)=>{if(e.preventDefault(),w(null),v&&t&&v.id!==t.id){if(r&&!p)try{m(!0);const e=Kg(Yg),n=Pm(Yg,"users",r.uid,"accounts",v.id),a=Pm(Yg,"users",r.uid,"accounts",t.id);e.update(n,{displayOrder:t.displayOrder||0,updatedAt:(new Date).toISOString()}),e.update(a,{displayOrder:v.displayOrder||0,updatedAt:(new Date).toISOString()}),await e.commit()}catch(n){console.error("Error reordering accounts:",n),alert("Error reordering accounts. Please try again.")}finally{m(!1),b(null)}}else b(null)})(t,e),className:`bg-white dark:bg-white/5 rounded-xl p-4 backdrop-blur-sm shadow-lg dark:shadow-2xl transition-all duration-300 hover:transform hover:scale-[1.02] hover:shadow-xl dark:hover:shadow-3xl relative cursor-move ${x===e.id?"ring-2 ring-orange-500 ring-opacity-50":""} ${(null===v||void 0===v?void 0:v.id)===e.id?"opacity-50":""}`,children:[(0,Qg.jsx)("div",{className:"absolute top-2 left-2 opacity-30 hover:opacity-70 transition-opacity duration-300",children:(0,Qg.jsx)(lH,{className:"w-4 h-4 text-gray-400"})}),(0,Qg.jsxs)("div",{className:"flex items-start justify-between mb-3 ml-6",children:[(0,Qg.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Qg.jsx)("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center transition-colors duration-300 "+("bank"===e.type?"bg-blue-100 dark:bg-blue-500/20":"bg-orange-100 dark:bg-orange-500/20"),children:(0,Qg.jsx)(n,{className:"w-5 h-5 "+("bank"===e.type?"text-blue-600 dark:text-blue-400":"text-orange-600 dark:text-orange-400")})}),(0,Qg.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,Qg.jsx)("h3",{className:"text-sm font-semibold text-gray-900 dark:text-white transition-colors duration-300 truncate",children:e.name}),(0,Qg.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400 transition-colors duration-300 truncate",children:[e.subtype||uH[e.type].label," \u2022 ",e.currency]})]})]}),(0,Qg.jsxs)("div",{className:"relative",children:[(0,Qg.jsx)("button",{onClick:t=>{t.stopPropagation(),y(g===e.id?null:e.id)},className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors duration-300",children:(0,Qg.jsx)(Ty,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})}),g===e.id&&(0,Qg.jsxs)("div",{className:"absolute right-0 mt-2 w-48 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 py-1 z-10 backdrop-blur-sm",children:[(0,Qg.jsxs)("button",{onClick:()=>A(e.id,"up"),disabled:0===t,className:"w-full text-left px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center space-x-2 transition-colors duration-300 disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,Qg.jsx)(cH,{className:"w-4 h-4"}),(0,Qg.jsx)("span",{children:"Move Up"})]}),(0,Qg.jsxs)("button",{onClick:()=>A(e.id,"down"),disabled:t===O.length-1,className:"w-full text-left px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center space-x-2 transition-colors duration-300 disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,Qg.jsx)(yy,{className:"w-4 h-4"}),(0,Qg.jsx)("span",{children:"Move Down"})]}),(0,Qg.jsx)("div",{className:"border-t border-gray-200 dark:border-gray-700 my-1"}),(0,Qg.jsxs)("button",{onClick:()=>(e=>{d(e),S({name:e.name,type:e.type,subtype:e.subtype||"",currency:e.currency,balance:e.balance.toString(),description:e.description||""}),s(!0),y(null)})(e),className:"w-full text-left px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center space-x-2 transition-colors duration-300",children:[(0,Qg.jsx)(yU,{className:"w-4 h-4"}),(0,Qg.jsx)("span",{children:"Edit Account"})]}),(0,Qg.jsx)("div",{className:"border-t border-gray-200 dark:border-gray-700 my-1"}),(0,Qg.jsxs)("button",{onClick:()=>(e=>{d(e),c(!0),y(null)})(e),className:"w-full text-left px-4 py-2 text-sm text-red-600 dark:text-red-400 hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center space-x-2 transition-colors duration-300",children:[(0,Qg.jsx)(vU,{className:"w-4 h-4"}),(0,Qg.jsx)("span",{children:"Delete Account"})]})]})]})]}),(0,Qg.jsxs)("div",{className:"mb-3",children:[(0,Qg.jsx)("div",{className:"text-lg font-bold mb-1 transition-colors duration-300 "+(o?"text-red-600 dark:text-red-400":"text-gray-900 dark:text-white"),children:j(e.balance,e.currency)}),"USD"===e.currency&&(0,Qg.jsxs)("div",{className:"text-xs text-gray-500 dark:text-gray-400 transition-colors duration-300",children:["\u2248 ",j(_(e.balance,"USD"),"INR")]}),o&&"Credit Card"===e.subtype&&(0,Qg.jsxs)("div",{className:"flex items-center space-x-1 text-xs text-orange-600 dark:text-orange-400 mt-1",children:[(0,Qg.jsx)(wU,{className:"w-3 h-3"}),(0,Qg.jsx)("span",{children:"Outstanding"})]})]}),e.description&&(0,Qg.jsx)("div",{className:"text-xs text-gray-600 dark:text-gray-400 mb-3 bg-gray-50 dark:bg-white/3 rounded-lg p-2 transition-colors duration-300 line-clamp-2",children:e.description}),(0,Qg.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-500 dark:text-gray-400 transition-colors duration-300",children:[(0,Qg.jsx)("span",{children:"Last activity"}),(0,Qg.jsx)("span",{children:new Date(e.lastActivityAt||e.updatedAt).toLocaleDateString("en-IN",{day:"numeric",month:"short"})})]})]},e.id)}):(0,Qg.jsxs)("div",{className:"col-span-full bg-white dark:bg-white/5 rounded-2xl p-12 text-center backdrop-blur-sm shadow-lg dark:shadow-2xl transition-all duration-300",children:[(0,Qg.jsx)(uy,{className:"w-12 h-12 text-gray-400 dark:text-gray-600 mx-auto mb-4"}),(0,Qg.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2 transition-colors duration-300",children:"No accounts yet"}),(0,Qg.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-6 transition-colors duration-300",children:"Add your first account to start tracking your finances"}),(0,Qg.jsxs)("button",{onClick:()=>i(!0),className:"bg-orange-500 hover:bg-orange-600 text-white px-6 py-3 rounded-lg flex items-center space-x-2 mx-auto transition-all duration-300 transform hover:-translate-y-0.5 shadow-md",children:[(0,Qg.jsx)(Ny,{className:"w-5 h-5"}),(0,Qg.jsx)("span",{children:"Add Your First Account"})]})]})}),a&&(0,Qg.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",onClick:e=>{e.target===e.currentTarget&&(i(!1),T())},children:(0,Qg.jsxs)("div",{className:"bg-white dark:bg-gray-900 rounded-2xl p-6 w-full max-w-2xl backdrop-blur-sm border border-gray-200 dark:border-gray-700",children:[(0,Qg.jsx)("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-6 transition-colors duration-300",children:"Add New Account"}),(0,Qg.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),r&&!p&&k.name&&k.subtype)try{m(!0);const e={name:k.name,type:k.type,subtype:k.subtype,currency:k.currency,balance:parseFloat(k.balance)||0,description:k.description,isDeleted:!1,userId:r.uid,createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString(),lastActivityAt:(new Date).toISOString(),displayOrder:n.length};await function(e,t){const n=Ks(e.firestore,Fm),r=Pm(e),a=Cg(e.converter,t);return Ug(n,[Zm(Jm(e.firestore),"addDoc",r._key,a,null!==e.converter,{}).toMutation(r._key,od.exists(!1))]).then(()=>r)}(Im(Yg,"users",r.uid,"accounts"),e),i(!1),T()}catch(t){console.error("Error adding account:",t),alert("Error adding account. Please try again.")}finally{m(!1)}},className:"space-y-6",children:[(0,Qg.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Qg.jsxs)("div",{children:[(0,Qg.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 transition-colors duration-300",children:"Account Name"}),(0,Qg.jsx)("input",{type:"text",value:k.name,onChange:e=>S({...k,name:e.target.value}),placeholder:"e.g., HDFC Savings",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300",required:!0})]}),(0,Qg.jsxs)("div",{children:[(0,Qg.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 transition-colors duration-300",children:"Account Type"}),(0,Qg.jsx)("select",{value:k.type,onChange:e=>S({...k,type:e.target.value,subtype:"",currency:"crypto"===e.target.value?"USD":"INR"}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300",children:Object.entries(uH).map(e=>{let[t,n]=e;return(0,Qg.jsx)("option",{value:t,children:n.label},t)})})]})]}),(0,Qg.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Qg.jsxs)("div",{children:[(0,Qg.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 transition-colors duration-300",children:"Subtype"}),(0,Qg.jsxs)("select",{value:k.subtype,onChange:e=>S({...k,subtype:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300",required:!0,children:[(0,Qg.jsx)("option",{value:"",children:"Select subtype"}),dH[k.type].map(e=>(0,Qg.jsx)("option",{value:e,children:e},e))]})]}),(0,Qg.jsxs)("div",{children:[(0,Qg.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 transition-colors duration-300",children:"Currency"}),(0,Qg.jsx)("select",{value:k.currency,onChange:e=>S({...k,currency:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300",children:uH[k.type].currencies.map(e=>(0,Qg.jsx)("option",{value:e,children:e},e))})]})]}),(0,Qg.jsxs)("div",{children:[(0,Qg.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 transition-colors duration-300",children:"Initial Balance"}),(0,Qg.jsx)("input",{type:"number",step:"0.01",value:k.balance,onChange:e=>S({...k,balance:e.target.value}),placeholder:"0.00",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300"})]}),(0,Qg.jsxs)("div",{children:[(0,Qg.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 transition-colors duration-300",children:"Description (Optional)"}),(0,Qg.jsx)("textarea",{value:k.description,onChange:e=>S({...k,description:e.target.value}),placeholder:"Additional notes about this account",rows:3,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300"})]}),(0,Qg.jsxs)("div",{className:"flex space-x-3 pt-4",children:[(0,Qg.jsx)("button",{type:"button",onClick:()=>{i(!1),T()},className:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors duration-300",children:"Cancel"}),(0,Qg.jsx)("button",{type:"submit",disabled:p||!k.name||!k.subtype,className:"flex-1 bg-orange-500 hover:bg-orange-600 text-white px-4 py-2 rounded-lg transition-colors duration-300 disabled:opacity-50 disabled:cursor-not-allowed",children:p?"Adding...":"Add Account"})]})]})]})}),o&&u&&(0,Qg.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",onClick:e=>{e.target===e.currentTarget&&(s(!1),d(null),T())},children:(0,Qg.jsxs)("div",{className:"bg-white dark:bg-gray-900 rounded-2xl p-6 w-full max-w-2xl backdrop-blur-sm border border-gray-200 dark:border-gray-700",children:[(0,Qg.jsx)("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-6 transition-colors duration-300",children:"Edit Account"}),(0,Qg.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),r&&u&&!p&&k.name&&k.subtype)try{m(!0);const e=Pm(Yg,"users",r.uid,"accounts",u.id);await Fg(e,{name:k.name,type:k.type,subtype:k.subtype,currency:k.currency,balance:parseFloat(k.balance)||0,description:k.description,updatedAt:(new Date).toISOString()}),s(!1),d(null),T()}catch(t){console.error("Error updating account:",t),alert("Error updating account. Please try again.")}finally{m(!1)}},className:"space-y-6",children:[(0,Qg.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Qg.jsxs)("div",{children:[(0,Qg.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 transition-colors duration-300",children:"Account Name"}),(0,Qg.jsx)("input",{type:"text",value:k.name,onChange:e=>S({...k,name:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300",required:!0})]}),(0,Qg.jsxs)("div",{children:[(0,Qg.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 transition-colors duration-300",children:"Account Type"}),(0,Qg.jsx)("select",{value:k.type,onChange:e=>S({...k,type:e.target.value,subtype:""}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300",children:Object.entries(uH).map(e=>{let[t,n]=e;return(0,Qg.jsx)("option",{value:t,children:n.label},t)})})]})]}),(0,Qg.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Qg.jsxs)("div",{children:[(0,Qg.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 transition-colors duration-300",children:"Subtype"}),(0,Qg.jsxs)("select",{value:k.subtype,onChange:e=>S({...k,subtype:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300",required:!0,children:[(0,Qg.jsx)("option",{value:"",children:"Select subtype"}),dH[k.type].map(e=>(0,Qg.jsx)("option",{value:e,children:e},e))]})]}),(0,Qg.jsxs)("div",{children:[(0,Qg.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 transition-colors duration-300",children:"Currency"}),(0,Qg.jsx)("select",{value:k.currency,onChange:e=>S({...k,currency:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300",children:uH[k.type].currencies.map(e=>(0,Qg.jsx)("option",{value:e,children:e},e))})]})]}),(0,Qg.jsxs)("div",{children:[(0,Qg.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 transition-colors duration-300",children:"Current Balance"}),(0,Qg.jsx)("input",{type:"number",step:"0.01",value:k.balance,onChange:e=>S({...k,balance:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300"})]}),(0,Qg.jsxs)("div",{children:[(0,Qg.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 transition-colors duration-300",children:"Description (Optional)"}),(0,Qg.jsx)("textarea",{value:k.description,onChange:e=>S({...k,description:e.target.value}),rows:3,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300"})]}),(0,Qg.jsxs)("div",{className:"flex space-x-3 pt-4",children:[(0,Qg.jsx)("button",{type:"button",onClick:()=>{s(!1),d(null),T()},className:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors duration-300",children:"Cancel"}),(0,Qg.jsx)("button",{type:"submit",disabled:p||!k.name||!k.subtype,className:"flex-1 bg-orange-500 hover:bg-orange-600 text-white px-4 py-2 rounded-lg transition-colors duration-300 disabled:opacity-50 disabled:cursor-not-allowed",children:p?"Updating...":"Update Account"})]})]})]})}),l&&u&&(0,Qg.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",onClick:e=>{e.target===e.currentTarget&&(c(!1),d(null),N({deleteTransactions:!1}))},children:(0,Qg.jsxs)("div",{className:"bg-white dark:bg-gray-900 rounded-2xl p-6 w-full max-w-md backdrop-blur-sm border border-gray-200 dark:border-gray-700",children:[(0,Qg.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,Qg.jsx)("div",{className:"w-10 h-10 bg-red-100 dark:bg-red-500/20 rounded-lg flex items-center justify-center",children:(0,Qg.jsx)(wU,{className:"w-5 h-5 text-red-600 dark:text-red-400"})}),(0,Qg.jsx)("h2",{className:"text-xl font-bold text-gray-900 dark:text-white transition-colors duration-300",children:"Delete Account"})]}),(0,Qg.jsxs)("p",{className:"text-gray-600 dark:text-gray-400 mb-6 transition-colors duration-300",children:["Are you sure you want to delete ",(0,Qg.jsxs)("strong",{children:['"',u.name,'"']}),"? This action cannot be undone."]}),(0,Qg.jsx)("div",{className:"bg-yellow-50 dark:bg-yellow-500/10 border border-yellow-200 dark:border-yellow-500/20 rounded-lg p-4 mb-6",children:(0,Qg.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,Qg.jsx)(wU,{className:"w-5 h-5 text-yellow-600 dark:text-yellow-400 flex-shrink-0 mt-0.5"}),(0,Qg.jsxs)("div",{children:[(0,Qg.jsx)("h3",{className:"text-sm font-medium text-yellow-800 dark:text-yellow-300 mb-2",children:"What happens to transactions?"}),(0,Qg.jsxs)("label",{className:"flex items-start space-x-3",children:[(0,Qg.jsx)("input",{type:"checkbox",checked:E.deleteTransactions,onChange:e=>N({...E,deleteTransactions:e.target.checked}),className:"mt-0.5 w-4 h-4 text-orange-600 bg-gray-100 border-gray-300 rounded focus:ring-orange-500 dark:focus:ring-orange-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"}),(0,Qg.jsxs)("div",{children:[(0,Qg.jsx)("span",{className:"text-sm text-yellow-700 dark:text-yellow-300 block",children:"Delete all transactions from this account"}),(0,Qg.jsx)("span",{className:"text-xs text-yellow-600 dark:text-yellow-400 block mt-1",children:E.deleteTransactions?"All transaction history will be permanently lost":"Transactions will be kept but marked as from deleted account"})]})]})]})]})}),(0,Qg.jsxs)("div",{className:"flex space-x-3",children:[(0,Qg.jsx)("button",{type:"button",onClick:()=>{c(!1),d(null),N({deleteTransactions:!1})},className:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors duration-300",children:"Cancel"}),(0,Qg.jsx)("button",{onClick:async()=>{if(r&&u&&!p)try{m(!0);const e=Kg(Yg);if(E.deleteTransactions){const t=xg(Im(Yg,"users",r.uid,"transactions"),kg("accountId","==",u.id));(await Lg(t)).docs.forEach(t=>{e.delete(t.ref)})}else{const t=xg(Im(Yg,"users",r.uid,"transactions"),kg("accountId","==",u.id));(await Lg(t)).docs.forEach(t=>{e.update(t.ref,{accountDeleted:!0,accountDeletedAt:(new Date).toISOString()})})}const t=Pm(Yg,"users",r.uid,"accounts",u.id);e.update(t,{isDeleted:!0,deletedAt:(new Date).toISOString()}),await e.commit(),c(!1),d(null),N({deleteTransactions:!1})}catch(e){console.error("Error deleting account:",e),alert("Error deleting account. Please try again.")}finally{m(!1)}},disabled:p,className:"flex-1 bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg transition-colors duration-300 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:p?(0,Qg.jsxs)(Qg.Fragment,{children:[(0,Qg.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),(0,Qg.jsx)("span",{children:"Deleting..."})]}):(0,Qg.jsxs)(Qg.Fragment,{children:[(0,Qg.jsx)(vU,{className:"w-4 h-4"}),(0,Qg.jsx)("span",{children:"Delete Account"})]})})]})]})}),(0,Qg.jsxs)("button",{onClick:()=>i(!0),className:"fixed bottom-6 right-6 w-14 h-14 bg-orange-500 hover:bg-orange-600 text-white rounded-full shadow-lg dark:shadow-2xl transition-all duration-300 flex items-center justify-center group transform hover:-translate-y-1 hover:shadow-xl dark:hover:shadow-3xl",children:[(0,Qg.jsx)(Ny,{className:"w-6 h-6"}),(0,Qg.jsx)("span",{className:"absolute right-16 bg-gray-900 dark:bg-black text-white px-3 py-2 rounded-lg text-sm whitespace-nowrap opacity-0 group-hover:opacity-100 transition-all duration-300 shadow-lg dark:shadow-2xl",children:"Add Account"})]})]})};var fH=n(1561),pH=n.n(fH),mH=n(856),gH=n.n(mH);const yH=oy("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),vH=oy("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]),bH=oy("palette",[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]]),xH=oy("bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]),wH=oy("database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),kH=oy("camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),SH=oy("pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]),EH=oy("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]),NH=oy("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]),jH=oy("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]]),_H=oy("file-text",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]),TH=e=>`https://www.gravatar.com/avatar/${btoa(e.toLowerCase().trim()).replace(/[^a-zA-Z0-9]/g,"").substring(0,32)}?d=mp&s=200`,AH=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=[{bg:"from-orange-500 to-red-500",text:"text-white"},{bg:"from-blue-500 to-purple-500",text:"text-white"},{bg:"from-green-500 to-teal-500",text:"text-white"},{bg:"from-purple-500 to-pink-500",text:"text-white"},{bg:"from-yellow-500 to-orange-500",text:"text-white"},{bg:"from-indigo-500 to-blue-500",text:"text-white"},{bg:"from-pink-500 to-rose-500",text:"text-white"},{bg:"from-teal-500 to-cyan-500",text:"text-white"}];return{initials:(null===e||void 0===e?void 0:e.split(" ").map(e=>e.charAt(0)).join("").substring(0,2).toUpperCase())||"U",color:n[t%n.length]}},CH=[{id:"cat",emoji:"\ud83d\udc31",name:"Cat"},{id:"dog",emoji:"\ud83d\udc36",name:"Dog"},{id:"fox",emoji:"\ud83e\udd8a",name:"Fox"},{id:"panda",emoji:"\ud83d\udc3c",name:"Panda"},{id:"koala",emoji:"\ud83d\udc28",name:"Koala"},{id:"lion",emoji:"\ud83e\udd81",name:"Lion"},{id:"tiger",emoji:"\ud83d\udc2f",name:"Tiger"},{id:"monkey",emoji:"\ud83d\udc35",name:"Monkey"},{id:"rabbit",emoji:"\ud83d\udc30",name:"Rabbit"},{id:"bear",emoji:"\ud83d\udc3b",name:"Bear"},{id:"unicorn",emoji:"\ud83e\udd84",name:"Unicorn"},{id:"dragon",emoji:"\ud83d\udc32",name:"Dragon"},{id:"robot",emoji:"\ud83e\udd16",name:"Robot"},{id:"alien",emoji:"\ud83d\udc7d",name:"Alien"},{id:"ghost",emoji:"\ud83d\udc7b",name:"Ghost"},{id:"wizard",emoji:"\ud83e\uddd9\u200d\u2642\ufe0f",name:"Wizard"},{id:"ninja",emoji:"\ud83e\udd77",name:"Ninja"},{id:"detective",emoji:"\ud83d\udd75\ufe0f",name:"Detective"},{id:"astronaut",emoji:"\ud83d\udc68\u200d\ud83d\ude80",name:"Astronaut"},{id:"artist",emoji:"\ud83c\udfa8",name:"Artist"},{id:"musician",emoji:"\ud83c\udfb5",name:"Musician"},{id:"chef",emoji:"\ud83d\udc68\u200d\ud83c\udf73",name:"Chef"},{id:"scientist",emoji:"\ud83e\uddea",name:"Scientist"},{id:"developer",emoji:"\ud83d\udcbb",name:"Developer"}];const OH=function(){const{currentUser:e,logout:n}=Jg(),[r,a]=(0,t.useState)(!1),[i,o]=(0,t.useState)("profile"),[s,l]=(0,t.useState)(!1),[c,u]=(0,t.useState)(!1),[d,h]=(0,t.useState)(!1),[f,p]=(0,t.useState)(!1),[m,g]=(0,t.useState)(""),[y,v]=(0,t.useState)(!1),[b,x]=(0,t.useState)(""),[w,k]=(0,t.useState)({displayName:"",email:"",avatarType:"initials",avatarData:{colorIndex:0,emojiId:"cat"},hideBalances:!1,requireAuthForView:!1,sessionTimeout:30,theme:"light",currency:"INR",numberFormat:"indian",dateFormat:"DD/MM/YYYY",timeFormat:"12",emailNotifications:!0,pushNotifications:!0,transactionAlerts:!0,monthlyReports:!0,budgetAlerts:!0,defaultAccount:"",defaultPaymentMode:"",autoCategories:!0,roundTransactions:!1,analyticsTimeframe:"monthly",favoriteCharts:["netWorth","categories","trends"],showComparisons:!0,autoBackup:!0,backupFrequency:"weekly",dataRetention:"2years",developerMode:!1,betaFeatures:!1,analytics:!0}),[S,E]=(0,t.useState)([]),[N,j]=(0,t.useState)([]),[_,T]=(0,t.useState)({totalTransactions:0,totalAccounts:0,oldestTransaction:null,dataSize:"0 KB"});(0,t.useEffect)(()=>{A(),C()},[e]);const A=async()=>{if(e)try{const t=xg(Im(Yg,"users",e.uid,"accounts"),Ng("createdAt","desc")),n=(await Lg(t)).docs.map(e=>({id:e.id,...e.data()}));E(n);const r=xg(Im(Yg,"users",e.uid,"transactions"),Ng("date","desc")),a=(await Lg(r)).docs.map(e=>({id:e.id,...e.data()}));j(a);const i=a.length>0?new Date(a[a.length-1].date):null,o=Math.round((JSON.stringify(n)+JSON.stringify(a)).length/1024);T({totalTransactions:a.length,totalAccounts:n.filter(e=>!e.isDeleted).length,oldestTransaction:i,dataSize:o>1024?`${(o/1024).toFixed(1)} MB`:`${o} KB`})}catch(t){console.error("Error loading data:",t)}},C=()=>{const t=localStorage.getItem(`pesa_preferences_${null===e||void 0===e?void 0:e.uid}`);if(t)try{const e=JSON.parse(t);k(t=>({...t,...e}))}catch(n){console.error("Error loading preferences:",n)}e&&(k(t=>({...t,displayName:e.displayName||"",email:e.email||""})),x(e.displayName||""))},O=async()=>{if(e)try{a(!0),g("saving"),localStorage.setItem(`pesa_preferences_${e.uid}`,JSON.stringify(w)),"dark"===w.theme?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),localStorage.setItem("theme",w.theme),g("saved"),setTimeout(()=>g(""),2e3)}catch(t){console.error("Error saving preferences:",t),g("error"),setTimeout(()=>g(""),2e3)}finally{a(!1)}},I=async()=>{if(e&&b.trim())try{a(!0),g("saving"),await vi(e,{displayName:b.trim()}),k(e=>({...e,displayName:b.trim()})),v(!1),g("saved"),setTimeout(()=>g(""),2e3)}catch(t){console.error("Error updating display name:",t),g("error"),setTimeout(()=>g(""),2e3)}finally{a(!1)}},P=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"w-20 h-20",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"text-2xl";const{avatarType:n,avatarData:r}=w;switch(n){case"gravatar":return(0,Qg.jsx)("img",{src:TH(w.email),alt:"Profile",className:`${e} rounded-full object-cover border-2 border-white dark:border-gray-700 shadow-lg`,onError:e=>{e.target.style.display="none",e.target.nextSibling.style.display="flex"}});case"predefined":const n=CH.find(e=>e.id===r.emojiId)||CH[0];return(0,Qg.jsx)("div",{className:`${e} rounded-full bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-700 dark:to-gray-800 flex items-center justify-center border-2 border-white dark:border-gray-700 shadow-lg ${t}`,children:n.emoji});default:const{initials:a,color:i}=AH(w.displayName,r.colorIndex);return(0,Qg.jsx)("div",{className:`${e} rounded-full bg-gradient-to-br ${i.bg} flex items-center justify-center ${i.text} font-bold ${t} border-2 border-white dark:border-gray-700 shadow-lg`,children:a})}},D=async t=>{if(e)try{a(!0);const n={metadata:{exportDate:(new Date).toISOString(),userId:e.uid,version:"2.0",format:t},accounts:S.filter(e=>!e.isDeleted),transactions:N,preferences:w},r="json"===t?JSON.stringify(n,null,2):M(n),i=new Blob([r],{type:"json"===t?"application/json":"text/csv"}),o=URL.createObjectURL(i),s=document.createElement("a");s.href=o,s.download=`pesa_export_${(new Date).toISOString().split("T")[0]}.${t}`,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(o),u(!1)}catch(n){console.error("Error exporting data:",n),alert("Error exporting data. Please try again.")}finally{a(!1)}},M=e=>{const t=[];return t.push("ACCOUNTS"),t.push("Name,Type,Currency,Balance,Created"),e.accounts.forEach(e=>{t.push(`"${e.name}","${e.type}","${e.currency}",${e.balance},"${e.createdAt}"`)}),t.push(""),t.push("TRANSACTIONS"),t.push("Date,Type,Amount,Currency,Account,Category,Payment Mode,Notes"),e.transactions.forEach(e=>{t.push(`"${e.date}","${e.type}",${e.amount},"${e.currency}","${e.accountName}","${e.category||""}","${e.paymentMode||""}","${e.notes||""}"`)}),t.join("\n")},R=async()=>{try{await n()}catch(e){console.error("Logout error:",e)}},L=[{id:"profile",label:"Profile",icon:yH},{id:"privacy",label:"Privacy & Security",icon:vH},{id:"display",label:"Display & Theme",icon:bH},{id:"notifications",label:"Notifications",icon:xH},{id:"financial",label:"Financial",icon:dy},{id:"analytics",label:"Analytics",icon:hy},{id:"data",label:"Data & Backup",icon:wH},{id:"advanced",label:"Advanced",icon:py}];return(0,Qg.jsxs)("div",{className:"p-6 space-y-6 animate-fade-in relative min-h-screen transition-all duration-500",children:[(0,Qg.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Qg.jsxs)("div",{children:[(0,Qg.jsx)("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white transition-colors duration-300",children:"Settings"}),(0,Qg.jsx)("p",{className:"text-gray-600 dark:text-gray-400 transition-colors duration-300",children:"Customize your Pesa experience"})]}),(0,Qg.jsxs)("div",{className:"flex items-center space-x-3",children:[m&&(0,Qg.jsxs)("div",{className:"flex items-center space-x-2 px-3 py-1 rounded-lg text-sm "+("saving"===m?"bg-blue-100 dark:bg-blue-500/20 text-blue-700 dark:text-blue-300":"saved"===m?"bg-green-100 dark:bg-green-500/20 text-green-700 dark:text-green-300":"bg-red-100 dark:bg-red-500/20 text-red-700 dark:text-red-300"),children:["saving"===m&&(0,Qg.jsx)(fy,{className:"w-4 h-4 animate-spin"}),"saved"===m&&(0,Qg.jsx)(xU,{className:"w-4 h-4"}),"error"===m&&(0,Qg.jsx)(bU,{className:"w-4 h-4"}),(0,Qg.jsx)("span",{children:"saving"===m?"Saving...":"saved"===m?"Saved!":"Error saving"})]}),(0,Qg.jsxs)("button",{onClick:O,disabled:r,className:"bg-orange-500 hover:bg-orange-600 text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-all duration-300 transform hover:-translate-y-0.5 shadow-md dark:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,Qg.jsx)(EH,{className:"w-4 h-4"}),(0,Qg.jsx)("span",{children:"Save Changes"})]})]})]}),(0,Qg.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[(0,Qg.jsx)("div",{className:"lg:col-span-1",children:(0,Qg.jsx)("div",{className:"bg-white dark:bg-white/5 rounded-2xl p-4 backdrop-blur-sm shadow-lg dark:shadow-2xl transition-all duration-300 sticky top-6",children:(0,Qg.jsx)("nav",{className:"space-y-1",children:L.map(e=>{const t=e.icon;return(0,Qg.jsxs)("button",{onClick:()=>o(e.id),className:"w-full text-left px-3 py-3 rounded-lg flex items-center space-x-3 transition-all duration-300 "+(i===e.id?"bg-orange-100 dark:bg-orange-500/20 text-orange-700 dark:text-orange-300":"text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-white/10 hover:text-gray-900 dark:hover:text-white"),children:[(0,Qg.jsx)(t,{className:"w-5 h-5"}),(0,Qg.jsx)("span",{className:"text-sm font-medium",children:e.label})]},e.id)})})})}),(0,Qg.jsx)("div",{className:"lg:col-span-3",children:(0,Qg.jsx)("div",{className:"bg-white dark:bg-white/5 rounded-2xl p-6 backdrop-blur-sm shadow-lg dark:shadow-2xl transition-all duration-300",children:(()=>{var t;switch(i){case"profile":return(0,Qg.jsxs)("div",{className:"space-y-6",children:[(0,Qg.jsxs)("div",{className:"flex items-center space-x-6",children:[(0,Qg.jsxs)("div",{className:"relative",children:[P(),(0,Qg.jsx)("button",{onClick:()=>p(!0),className:"absolute -bottom-1 -right-1 w-8 h-8 bg-orange-500 hover:bg-orange-600 text-white rounded-full flex items-center justify-center shadow-lg transition-colors duration-300",children:(0,Qg.jsx)(kH,{className:"w-4 h-4"})})]}),(0,Qg.jsxs)("div",{className:"flex-1",children:[y?(0,Qg.jsxs)("div",{className:"space-y-2",children:[(0,Qg.jsx)("input",{type:"text",value:b,onChange:e=>x(e.target.value),className:"text-xl font-semibold bg-transparent border-b-2 border-orange-500 focus:outline-none text-gray-900 dark:text-white",placeholder:"Enter your name",autoFocus:!0}),(0,Qg.jsxs)("div",{className:"flex space-x-2",children:[(0,Qg.jsx)("button",{onClick:I,disabled:r||!b.trim(),className:"px-3 py-1 bg-orange-500 hover:bg-orange-600 text-white text-sm rounded-lg transition-colors duration-300 disabled:opacity-50 disabled:cursor-not-allowed",children:"Save"}),(0,Qg.jsx)("button",{onClick:()=>{v(!1),x(w.displayName)},className:"px-3 py-1 bg-gray-300 dark:bg-gray-600 text-gray-700 dark:text-gray-300 text-sm rounded-lg hover:bg-gray-400 dark:hover:bg-gray-500 transition-colors duration-300",children:"Cancel"})]})]}):(0,Qg.jsxs)("div",{children:[(0,Qg.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Qg.jsx)("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:w.displayName||"User"}),(0,Qg.jsx)("button",{onClick:()=>v(!0),className:"p-1 hover:bg-gray-100 dark:hover:bg-gray-700 rounded transition-colors duration-300",children:(0,Qg.jsx)(SH,{className:"w-4 h-4 text-gray-600 dark:text-gray-400"})})]}),(0,Qg.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:null===e||void 0===e?void 0:e.email}),(0,Qg.jsxs)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Member since ",new Date(null===e||void 0===e?void 0:e.metadata.creationTime).toLocaleDateString()]})]}),f&&(0,Qg.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:(0,Qg.jsxs)("div",{className:"bg-white dark:bg-gray-900 rounded-2xl p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto backdrop-blur-sm border border-gray-200 dark:border-gray-700",children:[(0,Qg.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Qg.jsx)("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Choose Your Avatar"}),(0,Qg.jsx)("button",{onClick:()=>p(!1),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition-colors duration-300",children:(0,Qg.jsx)(bU,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})})]}),(0,Qg.jsxs)("div",{className:"space-y-6",children:[(0,Qg.jsxs)("div",{className:"text-center",children:[(0,Qg.jsx)("div",{className:"inline-block",children:P("w-24 h-24","text-3xl")}),(0,Qg.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-2",children:"Current Avatar"})]}),(0,Qg.jsxs)("div",{children:[(0,Qg.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Avatar Type"}),(0,Qg.jsxs)("div",{className:"grid grid-cols-3 gap-3",children:[(0,Qg.jsxs)("button",{onClick:()=>k(e=>({...e,avatarType:"initials"})),className:"p-4 border-2 rounded-lg transition-all duration-300 "+("initials"===w.avatarType?"border-orange-500 bg-orange-50 dark:bg-orange-500/10":"border-gray-300 dark:border-gray-600 hover:border-gray-400 dark:hover:border-gray-500"),children:[(0,Qg.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-orange-500 to-red-500 rounded-full flex items-center justify-center text-white font-bold text-lg mx-auto mb-2",children:AH(w.displayName).initials}),(0,Qg.jsx)("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Initials"})]}),(0,Qg.jsxs)("button",{onClick:()=>k(e=>({...e,avatarType:"gravatar"})),className:"p-4 border-2 rounded-lg transition-all duration-300 "+("gravatar"===w.avatarType?"border-orange-500 bg-orange-50 dark:bg-orange-500/10":"border-gray-300 dark:border-gray-600 hover:border-gray-400 dark:hover:border-gray-500"),children:[(0,Qg.jsx)("img",{src:TH(w.email),alt:"Gravatar",className:"w-12 h-12 rounded-full mx-auto mb-2 object-cover"}),(0,Qg.jsx)("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Gravatar"})]}),(0,Qg.jsxs)("button",{onClick:()=>k(e=>({...e,avatarType:"predefined"})),className:"p-4 border-2 rounded-lg transition-all duration-300 "+("predefined"===w.avatarType?"border-orange-500 bg-orange-50 dark:bg-orange-500/10":"border-gray-300 dark:border-gray-600 hover:border-gray-400 dark:hover:border-gray-500"),children:[(0,Qg.jsx)("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-700 dark:to-gray-800 flex items-center justify-center text-2xl mx-auto mb-2",children:(null===(t=CH.find(e=>e.id===w.avatarData.emojiId))||void 0===t?void 0:t.emoji)||"\ud83d\udc31"}),(0,Qg.jsx)("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Characters"})]})]})]}),"initials"===w.avatarType&&(0,Qg.jsxs)("div",{children:[(0,Qg.jsx)("h4",{className:"text-md font-medium text-gray-900 dark:text-white mb-3",children:"Color Theme"}),(0,Qg.jsx)("div",{className:"grid grid-cols-4 gap-3",children:Array.from({length:8},(e,t)=>{const{color:n}=AH(w.displayName,t);return(0,Qg.jsx)("button",{onClick:()=>k(e=>({...e,avatarData:{...e.avatarData,colorIndex:t}})),className:`relative w-16 h-16 rounded-full bg-gradient-to-br ${n.bg} flex items-center justify-center text-white font-bold text-lg border-4 transition-all duration-300 ${w.avatarData.colorIndex===t?"border-orange-500 scale-110":"border-gray-300 dark:border-gray-600 hover:scale-105"}`,children:AH(w.displayName).initials},t)})})]}),"predefined"===w.avatarType&&(0,Qg.jsxs)("div",{children:[(0,Qg.jsx)("h4",{className:"text-md font-medium text-gray-900 dark:text-white mb-3",children:"Choose Character"}),(0,Qg.jsx)("div",{className:"grid grid-cols-6 gap-3 max-h-60 overflow-y-auto",children:CH.map(e=>(0,Qg.jsx)("button",{onClick:()=>k(t=>({...t,avatarData:{...t.avatarData,emojiId:e.id}})),className:"relative w-16 h-16 rounded-full bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-700 dark:to-gray-800 flex items-center justify-center text-2xl border-4 transition-all duration-300 hover:scale-105 "+(w.avatarData.emojiId===e.id?"border-orange-500 scale-110":"border-gray-300 dark:border-gray-600"),title:e.name,children:e.emoji},e.id))})]}),"gravatar"===w.avatarType&&(0,Qg.jsx)("div",{className:"bg-blue-50 dark:bg-blue-500/10 border border-blue-200 dark:border-blue-500/20 rounded-lg p-4",children:(0,Qg.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,Qg.jsx)(OU,{className:"w-5 h-5 text-blue-600 dark:text-blue-400 flex-shrink-0 mt-0.5"}),(0,Qg.jsxs)("div",{children:[(0,Qg.jsx)("h4",{className:"text-sm font-medium text-blue-800 dark:text-blue-300 mb-1",children:"About Gravatar"}),(0,Qg.jsx)("p",{className:"text-xs text-blue-700 dark:text-blue-400",children:"Gravatar uses your email to fetch your globally recognized avatar. If you don't have a Gravatar account, a default pattern will be shown."}),(0,Qg.jsx)("a",{href:"https://gravatar.com",target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-600 dark:text-blue-400 hover:underline mt-1 inline-block",children:"Set up your Gravatar \u2192"})]})]})}),(0,Qg.jsxs)("div",{className:"flex space-x-3 pt-4",children:[(0,Qg.jsx)("button",{onClick:()=>p(!1),className:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors duration-300",children:"Cancel"}),(0,Qg.jsxs)("button",{onClick:()=>{O(),p(!1)},className:"flex-1 bg-orange-500 hover:bg-orange-600 text-white px-4 py-2 rounded-lg transition-colors duration-300 flex items-center justify-center space-x-2",children:[(0,Qg.jsx)(EH,{className:"w-4 h-4"}),(0,Qg.jsx)("span",{children:"Save Avatar"})]})]})]})]})})]})]}),(0,Qg.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Qg.jsxs)("div",{className:"bg-gray-50 dark:bg-white/5 rounded-xl p-4",children:[(0,Qg.jsx)("h4",{className:"font-medium text-gray-900 dark:text-white mb-3",children:"Account Statistics"}),(0,Qg.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,Qg.jsxs)("div",{className:"flex justify-between",children:[(0,Qg.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Total Accounts"}),(0,Qg.jsx)("span",{className:"font-medium text-gray-900 dark:text-white",children:_.totalAccounts})]}),(0,Qg.jsxs)("div",{className:"flex justify-between",children:[(0,Qg.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Total Transactions"}),(0,Qg.jsx)("span",{className:"font-medium text-gray-900 dark:text-white",children:_.totalTransactions.toLocaleString()})]}),(0,Qg.jsxs)("div",{className:"flex justify-between",children:[(0,Qg.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Data Size"}),(0,Qg.jsx)("span",{className:"font-medium text-gray-900 dark:text-white",children:_.dataSize})]}),_.oldestTransaction&&(0,Qg.jsxs)("div",{className:"flex justify-between",children:[(0,Qg.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Using since"}),(0,Qg.jsx)("span",{className:"font-medium text-gray-900 dark:text-white",children:_.oldestTransaction.toLocaleDateString()})]})]})]}),(0,Qg.jsxs)("div",{className:"bg-gray-50 dark:bg-white/5 rounded-xl p-4",children:[(0,Qg.jsx)("h4",{className:"font-medium text-gray-900 dark:text-white mb-3",children:"Quick Actions"}),(0,Qg.jsxs)("div",{className:"space-y-2",children:[(0,Qg.jsxs)("button",{onClick:()=>u(!0),className:"w-full text-left px-3 py-2 text-sm bg-white dark:bg-white/5 rounded-lg hover:bg-gray-100 dark:hover:bg-white/10 transition-colors duration-300 flex items-center space-x-2",children:[(0,Qg.jsx)(NH,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"}),(0,Qg.jsx)("span",{children:"Export Data"})]}),(0,Qg.jsxs)("button",{onClick:()=>h(!0),className:"w-full text-left px-3 py-2 text-sm bg-white dark:bg-white/5 rounded-lg hover:bg-gray-100 dark:hover:bg-white/10 transition-colors duration-300 flex items-center space-x-2",children:[(0,Qg.jsx)(jH,{className:"w-4 h-4 text-green-600 dark:text-green-400"}),(0,Qg.jsx)("span",{children:"Import Data"})]}),(0,Qg.jsxs)("button",{onClick:R,className:"w-full text-left px-3 py-2 text-sm bg-white dark:bg-white/5 rounded-lg hover:bg-gray-100 dark:hover:bg-white/10 transition-colors duration-300 flex items-center space-x-2",children:[(0,Qg.jsx)(by,{className:"w-4 h-4 text-orange-600 dark:text-orange-400"}),(0,Qg.jsx)("span",{children:"Sign Out"})]})]})]})]})]});case"privacy":return(0,Qg.jsxs)("div",{className:"space-y-6",children:[(0,Qg.jsx)("div",{className:"bg-blue-50 dark:bg-blue-500/10 border border-blue-200 dark:border-blue-500/20 rounded-lg p-4",children:(0,Qg.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,Qg.jsx)(vH,{className:"w-5 h-5 text-blue-600 dark:text-blue-400 flex-shrink-0 mt-0.5"}),(0,Qg.jsxs)("div",{children:[(0,Qg.jsx)("h3",{className:"text-sm font-medium text-blue-800 dark:text-blue-300 mb-1",children:"Your Privacy Matters"}),(0,Qg.jsx)("p",{className:"text-xs text-blue-700 dark:text-blue-400",children:"All your financial data is encrypted and stored securely. We never share your data with third parties."})]})]})}),(0,Qg.jsxs)("div",{className:"space-y-4",children:[(0,Qg.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Qg.jsxs)("div",{children:[(0,Qg.jsx)("h4",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Hide Balance Amounts"}),(0,Qg.jsx)("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Show \u2022\u2022\u2022\u2022\u2022\u2022\u2022 instead of actual amounts"})]}),(0,Qg.jsx)("button",{onClick:()=>k(e=>({...e,hideBalances:!e.hideBalances})),className:"relative inline-flex h-6 w-11 items-center rounded-full transition-colors duration-300 "+(w.hideBalances?"bg-orange-500":"bg-gray-300 dark:bg-gray-600"),children:(0,Qg.jsx)("span",{className:"inline-block h-4 w-4 transform rounded-full bg-white transition-transform duration-300 "+(w.hideBalances?"translate-x-6":"translate-x-1")})})]}),(0,Qg.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Qg.jsxs)("div",{children:[(0,Qg.jsx)("h4",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Require Authentication for View"}),(0,Qg.jsx)("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Require login confirmation before showing data"})]}),(0,Qg.jsx)("button",{onClick:()=>k(e=>({...e,requireAuthForView:!e.requireAuthForView})),className:"relative inline-flex h-6 w-11 items-center rounded-full transition-colors duration-300 "+(w.requireAuthForView?"bg-orange-500":"bg-gray-300 dark:bg-gray-600"),children:(0,Qg.jsx)("span",{className:"inline-block h-4 w-4 transform rounded-full bg-white transition-transform duration-300 "+(w.requireAuthForView?"translate-x-6":"translate-x-1")})})]}),(0,Qg.jsxs)("div",{children:[(0,Qg.jsx)("label",{className:"block text-sm font-medium text-gray-900 dark:text-white mb-2",children:"Session Timeout"}),(0,Qg.jsxs)("select",{value:w.sessionTimeout,onChange:e=>k(t=>({...t,sessionTimeout:parseInt(e.target.value)})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300",children:[(0,Qg.jsx)("option",{value:15,children:"15 minutes"}),(0,Qg.jsx)("option",{value:30,children:"30 minutes"}),(0,Qg.jsx)("option",{value:60,children:"1 hour"}),(0,Qg.jsx)("option",{value:240,children:"4 hours"}),(0,Qg.jsx)("option",{value:480,children:"8 hours"}),(0,Qg.jsx)("option",{value:1440,children:"24 hours"})]}),(0,Qg.jsx)("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:"Automatically log out after inactivity"})]})]})]});case"display":return(0,Qg.jsxs)("div",{className:"space-y-6",children:[(0,Qg.jsxs)("div",{children:[(0,Qg.jsx)("label",{className:"block text-sm font-medium text-gray-900 dark:text-white mb-3",children:"Theme"}),(0,Qg.jsx)("div",{className:"grid grid-cols-2 gap-3",children:[{value:"light",label:"Light",icon:gy,desc:"Clean and bright interface"},{value:"dark",label:"Dark",icon:my,desc:"Easy on the eyes, perfect for night use"}].map(e=>(0,Qg.jsxs)("button",{onClick:()=>k(t=>({...t,theme:e.value})),className:"p-4 border-2 rounded-lg transition-all duration-300 "+(w.theme===e.value?"border-orange-500 bg-orange-50 dark:bg-orange-500/10":"border-gray-300 dark:border-gray-600 hover:border-gray-400 dark:hover:border-gray-500"),children:[(0,Qg.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,Qg.jsx)(e.icon,{className:"w-5 h-5 "+(w.theme===e.value?"text-orange-600 dark:text-orange-400":"text-gray-600 dark:text-gray-400")}),(0,Qg.jsx)("span",{className:"font-medium "+(w.theme===e.value?"text-orange-700 dark:text-orange-300":"text-gray-900 dark:text-white"),children:e.label})]}),(0,Qg.jsx)("p",{className:"text-xs text-gray-600 dark:text-gray-400 text-left",children:e.desc})]},e.value))})]}),(0,Qg.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Qg.jsxs)("div",{children:[(0,Qg.jsx)("label",{className:"block text-sm font-medium text-gray-900 dark:text-white mb-2",children:"Default Currency"}),(0,Qg.jsxs)("select",{value:w.currency,onChange:e=>k(t=>({...t,currency:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300",children:[(0,Qg.jsx)("option",{value:"INR",children:"Indian Rupee (\u20b9)"}),(0,Qg.jsx)("option",{value:"USD",children:"US Dollar ($)"})]})]}),(0,Qg.jsxs)("div",{children:[(0,Qg.jsx)("label",{className:"block text-sm font-medium text-gray-900 dark:text-white mb-2",children:"Number Format"}),(0,Qg.jsxs)("select",{value:w.numberFormat,onChange:e=>k(t=>({...t,numberFormat:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300",children:[(0,Qg.jsx)("option",{value:"indian",children:"Indian (1,23,456)"}),(0,Qg.jsx)("option",{value:"international",children:"International (123,456)"})]})]}),(0,Qg.jsxs)("div",{children:[(0,Qg.jsx)("label",{className:"block text-sm font-medium text-gray-900 dark:text-white mb-2",children:"Date Format"}),(0,Qg.jsxs)("select",{value:w.dateFormat,onChange:e=>k(t=>({...t,dateFormat:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300",children:[(0,Qg.jsx)("option",{value:"DD/MM/YYYY",children:"DD/MM/YYYY"}),(0,Qg.jsx)("option",{value:"MM/DD/YYYY",children:"MM/DD/YYYY"}),(0,Qg.jsx)("option",{value:"YYYY-MM-DD",children:"YYYY-MM-DD"})]})]}),(0,Qg.jsxs)("div",{children:[(0,Qg.jsx)("label",{className:"block text-sm font-medium text-gray-900 dark:text-white mb-2",children:"Time Format"}),(0,Qg.jsxs)("select",{value:w.timeFormat,onChange:e=>k(t=>({...t,timeFormat:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300",children:[(0,Qg.jsx)("option",{value:"12",children:"12 Hour (3:30 PM)"}),(0,Qg.jsx)("option",{value:"24",children:"24 Hour (15:30)"})]})]})]})]});case"notifications":return(0,Qg.jsxs)("div",{className:"space-y-6",children:[(0,Qg.jsx)("div",{className:"bg-green-50 dark:bg-green-500/10 border border-green-200 dark:border-green-500/20 rounded-lg p-4",children:(0,Qg.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,Qg.jsx)(xH,{className:"w-5 h-5 text-green-600 dark:text-green-400 flex-shrink-0 mt-0.5"}),(0,Qg.jsxs)("div",{children:[(0,Qg.jsx)("h3",{className:"text-sm font-medium text-green-800 dark:text-green-300 mb-1",children:"Stay Informed"}),(0,Qg.jsx)("p",{className:"text-xs text-green-700 dark:text-green-400",children:"Get notified about important financial events and updates."})]})]})}),(0,Qg.jsx)("div",{className:"space-y-4",children:[{key:"emailNotifications",label:"Email Notifications",desc:"Receive notifications via email"},{key:"pushNotifications",label:"Push Notifications",desc:"Browser notifications for important updates"},{key:"transactionAlerts",label:"Transaction Alerts",desc:"Notify when transactions are added"},{key:"monthlyReports",label:"Monthly Reports",desc:"Monthly summary of your finances"},{key:"budgetAlerts",label:"Budget Alerts",desc:"Alerts when approaching spending limits"}].map(e=>(0,Qg.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Qg.jsxs)("div",{children:[(0,Qg.jsx)("h4",{className:"text-sm font-medium text-gray-900 dark:text-white",children:e.label}),(0,Qg.jsx)("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:e.desc})]}),(0,Qg.jsx)("button",{onClick:()=>k(t=>({...t,[e.key]:!t[e.key]})),className:"relative inline-flex h-6 w-11 items-center rounded-full transition-colors duration-300 "+(w[e.key]?"bg-orange-500":"bg-gray-300 dark:bg-gray-600"),children:(0,Qg.jsx)("span",{className:"inline-block h-4 w-4 transform rounded-full bg-white transition-transform duration-300 "+(w[e.key]?"translate-x-6":"translate-x-1")})})]},e.key))})]});case"financial":return(0,Qg.jsxs)("div",{className:"space-y-6",children:[(0,Qg.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Qg.jsxs)("div",{children:[(0,Qg.jsx)("label",{className:"block text-sm font-medium text-gray-900 dark:text-white mb-2",children:"Default Account"}),(0,Qg.jsxs)("select",{value:w.defaultAccount,onChange:e=>k(t=>({...t,defaultAccount:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300",children:[(0,Qg.jsx)("option",{value:"",children:"Select default account"}),S.filter(e=>!e.isDeleted).map(e=>(0,Qg.jsxs)("option",{value:e.id,children:[e.name," (",e.currency,")"]},e.id))]}),(0,Qg.jsx)("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:"Pre-selected when adding transactions"})]}),(0,Qg.jsxs)("div",{children:[(0,Qg.jsx)("label",{className:"block text-sm font-medium text-gray-900 dark:text-white mb-2",children:"Default Payment Mode"}),(0,Qg.jsxs)("select",{value:w.defaultPaymentMode,onChange:e=>k(t=>({...t,defaultPaymentMode:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300",children:[(0,Qg.jsx)("option",{value:"",children:"Select default payment mode"}),(0,Qg.jsx)("option",{value:"UPI",children:"UPI"}),(0,Qg.jsx)("option",{value:"Bank Transfer",children:"Bank Transfer"}),(0,Qg.jsx)("option",{value:"Debit Card",children:"Debit Card"}),(0,Qg.jsx)("option",{value:"Credit Card",children:"Credit Card"}),(0,Qg.jsx)("option",{value:"Cash",children:"Cash"})]})]})]}),(0,Qg.jsxs)("div",{className:"space-y-4",children:[(0,Qg.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Qg.jsxs)("div",{children:[(0,Qg.jsx)("h4",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Auto-categorize Transactions"}),(0,Qg.jsx)("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Automatically suggest categories based on transaction patterns"})]}),(0,Qg.jsx)("button",{onClick:()=>k(e=>({...e,autoCategories:!e.autoCategories})),className:"relative inline-flex h-6 w-11 items-center rounded-full transition-colors duration-300 "+(w.autoCategories?"bg-orange-500":"bg-gray-300 dark:bg-gray-600"),children:(0,Qg.jsx)("span",{className:"inline-block h-4 w-4 transform rounded-full bg-white transition-transform duration-300 "+(w.autoCategories?"translate-x-6":"translate-x-1")})})]}),(0,Qg.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Qg.jsxs)("div",{children:[(0,Qg.jsx)("h4",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Round Transaction Amounts"}),(0,Qg.jsx)("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Round amounts to nearest whole number for cleaner display"})]}),(0,Qg.jsx)("button",{onClick:()=>k(e=>({...e,roundTransactions:!e.roundTransactions})),className:"relative inline-flex h-6 w-11 items-center rounded-full transition-colors duration-300 "+(w.roundTransactions?"bg-orange-500":"bg-gray-300 dark:bg-gray-600"),children:(0,Qg.jsx)("span",{className:"inline-block h-4 w-4 transform rounded-full bg-white transition-transform duration-300 "+(w.roundTransactions?"translate-x-6":"translate-x-1")})})]})]}),(0,Qg.jsxs)("div",{className:"bg-gray-50 dark:bg-white/5 rounded-xl p-4",children:[(0,Qg.jsx)("h4",{className:"font-medium text-gray-900 dark:text-white mb-3",children:"Exchange Rate Info"}),(0,Qg.jsxs)("div",{className:"text-sm space-y-1",children:[(0,Qg.jsxs)("div",{className:"flex justify-between",children:[(0,Qg.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Current USD to INR Rate"}),(0,Qg.jsxs)("span",{className:"font-medium text-gray-900 dark:text-white",children:["\u20b9",84]})]}),(0,Qg.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Fixed rate used for conversions. All USD amounts are converted at this rate."})]})]})]});case"analytics":return(0,Qg.jsxs)("div",{className:"space-y-6",children:[(0,Qg.jsxs)("div",{children:[(0,Qg.jsx)("label",{className:"block text-sm font-medium text-gray-900 dark:text-white mb-3",children:"Default Analytics Timeframe"}),(0,Qg.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[{value:"weekly",label:"Weekly"},{value:"monthly",label:"Monthly"},{value:"quarterly",label:"Quarterly"},{value:"yearly",label:"Yearly"}].map(e=>(0,Qg.jsx)("button",{onClick:()=>k(t=>({...t,analyticsTimeframe:e.value})),className:"p-3 border-2 rounded-lg transition-all duration-300 "+(w.analyticsTimeframe===e.value?"border-orange-500 bg-orange-50 dark:bg-orange-500/10 text-orange-700 dark:text-orange-300":"border-gray-300 dark:border-gray-600 hover:border-gray-400 dark:hover:border-gray-500 text-gray-900 dark:text-white"),children:(0,Qg.jsx)("span",{className:"font-medium",children:e.label})},e.value))})]}),(0,Qg.jsxs)("div",{children:[(0,Qg.jsx)("label",{className:"block text-sm font-medium text-gray-900 dark:text-white mb-3",children:"Favorite Charts"}),(0,Qg.jsx)("div",{className:"space-y-2",children:[{value:"netWorth",label:"Net Worth Trend",icon:Ey},{value:"categories",label:"Category Breakdown",icon:jU},{value:"trends",label:"Income vs Expense",icon:hy},{value:"accounts",label:"Account Distribution",icon:pU}].map(e=>(0,Qg.jsxs)("label",{className:"flex items-center space-x-3 p-2 hover:bg-gray-50 dark:hover:bg-white/5 rounded-lg transition-colors duration-300",children:[(0,Qg.jsx)("input",{type:"checkbox",checked:w.favoriteCharts.includes(e.value),onChange:t=>{t.target.checked?k(t=>({...t,favoriteCharts:[...t.favoriteCharts,e.value]})):k(t=>({...t,favoriteCharts:t.favoriteCharts.filter(t=>t!==e.value)}))},className:"w-4 h-4 text-orange-600 bg-gray-100 border-gray-300 rounded focus:ring-orange-500 dark:focus:ring-orange-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"}),(0,Qg.jsx)(e.icon,{className:"w-4 h-4 text-gray-600 dark:text-gray-400"}),(0,Qg.jsx)("span",{className:"text-sm text-gray-900 dark:text-white",children:e.label})]},e.value))})]}),(0,Qg.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Qg.jsxs)("div",{children:[(0,Qg.jsx)("h4",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Show Comparisons"}),(0,Qg.jsx)("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Compare current period with previous periods"})]}),(0,Qg.jsx)("button",{onClick:()=>k(e=>({...e,showComparisons:!e.showComparisons})),className:"relative inline-flex h-6 w-11 items-center rounded-full transition-colors duration-300 "+(w.showComparisons?"bg-orange-500":"bg-gray-300 dark:bg-gray-600"),children:(0,Qg.jsx)("span",{className:"inline-block h-4 w-4 transform rounded-full bg-white transition-transform duration-300 "+(w.showComparisons?"translate-x-6":"translate-x-1")})})]})]});case"data":return(0,Qg.jsxs)("div",{className:"space-y-6",children:[(0,Qg.jsx)("div",{className:"bg-yellow-50 dark:bg-yellow-500/10 border border-yellow-200 dark:border-yellow-500/20 rounded-lg p-4",children:(0,Qg.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,Qg.jsx)(wH,{className:"w-5 h-5 text-yellow-600 dark:text-yellow-400 flex-shrink-0 mt-0.5"}),(0,Qg.jsxs)("div",{children:[(0,Qg.jsx)("h3",{className:"text-sm font-medium text-yellow-800 dark:text-yellow-300 mb-1",children:"Data Management"}),(0,Qg.jsx)("p",{className:"text-xs text-yellow-700 dark:text-yellow-400",children:"Backup your data regularly to prevent loss. Export data to keep local copies."})]})]})}),(0,Qg.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Qg.jsxs)("div",{children:[(0,Qg.jsx)("label",{className:"block text-sm font-medium text-gray-900 dark:text-white mb-2",children:"Auto Backup"}),(0,Qg.jsxs)("select",{value:w.backupFrequency,onChange:e=>k(t=>({...t,backupFrequency:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300",children:[(0,Qg.jsx)("option",{value:"disabled",children:"Disabled"}),(0,Qg.jsx)("option",{value:"daily",children:"Daily"}),(0,Qg.jsx)("option",{value:"weekly",children:"Weekly"}),(0,Qg.jsx)("option",{value:"monthly",children:"Monthly"})]})]}),(0,Qg.jsxs)("div",{children:[(0,Qg.jsx)("label",{className:"block text-sm font-medium text-gray-900 dark:text-white mb-2",children:"Data Retention"}),(0,Qg.jsxs)("select",{value:w.dataRetention,onChange:e=>k(t=>({...t,dataRetention:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300",children:[(0,Qg.jsx)("option",{value:"1year",children:"1 Year"}),(0,Qg.jsx)("option",{value:"2years",children:"2 Years"}),(0,Qg.jsx)("option",{value:"5years",children:"5 Years"}),(0,Qg.jsx)("option",{value:"forever",children:"Forever"})]})]})]}),(0,Qg.jsxs)("div",{className:"space-y-3",children:[(0,Qg.jsxs)("button",{onClick:()=>u(!0),className:"w-full p-4 bg-blue-50 dark:bg-blue-500/10 border border-blue-200 dark:border-blue-500/20 rounded-lg hover:bg-blue-100 dark:hover:bg-blue-500/20 transition-colors duration-300 flex items-center justify-between",children:[(0,Qg.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Qg.jsx)(NH,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),(0,Qg.jsxs)("div",{className:"text-left",children:[(0,Qg.jsx)("h4",{className:"text-sm font-medium text-blue-900 dark:text-blue-100",children:"Export Data"}),(0,Qg.jsx)("p",{className:"text-xs text-blue-700 dark:text-blue-300",children:"Download all your data as JSON or CSV"})]})]}),(0,Qg.jsx)(jy,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"})]}),(0,Qg.jsxs)("button",{onClick:()=>h(!0),className:"w-full p-4 bg-green-50 dark:bg-green-500/10 border border-green-200 dark:border-green-500/20 rounded-lg hover:bg-green-100 dark:hover:bg-green-500/20 transition-colors duration-300 flex items-center justify-between",children:[(0,Qg.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Qg.jsx)(jH,{className:"w-5 h-5 text-green-600 dark:text-green-400"}),(0,Qg.jsxs)("div",{className:"text-left",children:[(0,Qg.jsx)("h4",{className:"text-sm font-medium text-green-900 dark:text-green-100",children:"Import Data"}),(0,Qg.jsx)("p",{className:"text-xs text-green-700 dark:text-green-300",children:"Import transactions from bank statements"})]})]}),(0,Qg.jsx)(jy,{className:"w-4 h-4 text-green-600 dark:text-green-400"})]}),(0,Qg.jsxs)("button",{onClick:()=>l(!0),className:"w-full p-4 bg-red-50 dark:bg-red-500/10 border border-red-200 dark:border-red-500/20 rounded-lg hover:bg-red-100 dark:hover:bg-red-500/20 transition-colors duration-300 flex items-center justify-between",children:[(0,Qg.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Qg.jsx)(vU,{className:"w-5 h-5 text-red-600 dark:text-red-400"}),(0,Qg.jsxs)("div",{className:"text-left",children:[(0,Qg.jsx)("h4",{className:"text-sm font-medium text-red-900 dark:text-red-100",children:"Delete All Data"}),(0,Qg.jsx)("p",{className:"text-xs text-red-700 dark:text-red-300",children:"Permanently delete all accounts and transactions"})]})]}),(0,Qg.jsx)(jy,{className:"w-4 h-4 text-red-600 dark:text-red-400"})]})]})]});case"advanced":return(0,Qg.jsxs)("div",{className:"space-y-6",children:[(0,Qg.jsx)("div",{className:"bg-purple-50 dark:bg-purple-500/10 border border-purple-200 dark:border-purple-500/20 rounded-lg p-4",children:(0,Qg.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,Qg.jsx)(py,{className:"w-5 h-5 text-purple-600 dark:text-purple-400 flex-shrink-0 mt-0.5"}),(0,Qg.jsxs)("div",{children:[(0,Qg.jsx)("h3",{className:"text-sm font-medium text-purple-800 dark:text-purple-300 mb-1",children:"Advanced Settings"}),(0,Qg.jsx)("p",{className:"text-xs text-purple-700 dark:text-purple-400",children:"These settings are for advanced users and developers. Change only if you know what you're doing."})]})]})}),(0,Qg.jsxs)("div",{className:"space-y-4",children:[(0,Qg.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Qg.jsxs)("div",{children:[(0,Qg.jsx)("h4",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Developer Mode"}),(0,Qg.jsx)("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Enable debug console and additional developer tools"})]}),(0,Qg.jsx)("button",{onClick:()=>k(e=>({...e,developerMode:!e.developerMode})),className:"relative inline-flex h-6 w-11 items-center rounded-full transition-colors duration-300 "+(w.developerMode?"bg-orange-500":"bg-gray-300 dark:bg-gray-600"),children:(0,Qg.jsx)("span",{className:"inline-block h-4 w-4 transform rounded-full bg-white transition-transform duration-300 "+(w.developerMode?"translate-x-6":"translate-x-1")})})]}),(0,Qg.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Qg.jsxs)("div",{children:[(0,Qg.jsx)("h4",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Beta Features"}),(0,Qg.jsx)("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Access experimental features (may be unstable)"})]}),(0,Qg.jsx)("button",{onClick:()=>k(e=>({...e,betaFeatures:!e.betaFeatures})),className:"relative inline-flex h-6 w-11 items-center rounded-full transition-colors duration-300 "+(w.betaFeatures?"bg-orange-500":"bg-gray-300 dark:bg-gray-600"),children:(0,Qg.jsx)("span",{className:"inline-block h-4 w-4 transform rounded-full bg-white transition-transform duration-300 "+(w.betaFeatures?"translate-x-6":"translate-x-1")})})]}),(0,Qg.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Qg.jsxs)("div",{children:[(0,Qg.jsx)("h4",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Usage Analytics"}),(0,Qg.jsx)("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Help improve Pesa by sharing anonymous usage data"})]}),(0,Qg.jsx)("button",{onClick:()=>k(e=>({...e,analytics:!e.analytics})),className:"relative inline-flex h-6 w-11 items-center rounded-full transition-colors duration-300 "+(w.analytics?"bg-orange-500":"bg-gray-300 dark:bg-gray-600"),children:(0,Qg.jsx)("span",{className:"inline-block h-4 w-4 transform rounded-full bg-white transition-transform duration-300 "+(w.analytics?"translate-x-6":"translate-x-1")})})]})]}),(0,Qg.jsxs)("div",{className:"bg-gray-50 dark:bg-white/5 rounded-xl p-4",children:[(0,Qg.jsx)("h4",{className:"font-medium text-gray-900 dark:text-white mb-3",children:"Application Info"}),(0,Qg.jsxs)("div",{className:"text-sm space-y-1",children:[(0,Qg.jsxs)("div",{className:"flex justify-between",children:[(0,Qg.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Version"}),(0,Qg.jsx)("span",{className:"font-medium text-gray-900 dark:text-white",children:"2.0.0"})]}),(0,Qg.jsxs)("div",{className:"flex justify-between",children:[(0,Qg.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Build"}),(0,Qg.jsxs)("span",{className:"font-medium text-gray-900 dark:text-white",children:["#",(new Date).getTime().toString().slice(-6)]})]}),(0,Qg.jsxs)("div",{className:"flex justify-between",children:[(0,Qg.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Environment"}),(0,Qg.jsx)("span",{className:"font-medium text-gray-900 dark:text-white",children:"Production"})]})]})]})]});default:return null}})()})})]}),c&&(0,Qg.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:(0,Qg.jsxs)("div",{className:"bg-white dark:bg-gray-900 rounded-2xl p-6 w-full max-w-md backdrop-blur-sm border border-gray-200 dark:border-gray-700",children:[(0,Qg.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Qg.jsx)("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Export Data"}),(0,Qg.jsx)("button",{onClick:()=>u(!1),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition-colors duration-300",children:(0,Qg.jsx)(bU,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})})]}),(0,Qg.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Export your financial data for backup or analysis purposes."}),(0,Qg.jsxs)("div",{className:"space-y-3",children:[(0,Qg.jsxs)("button",{onClick:()=>D("json"),disabled:r,className:"w-full p-4 bg-blue-50 dark:bg-blue-500/10 border border-blue-200 dark:border-blue-500/20 rounded-lg hover:bg-blue-100 dark:hover:bg-blue-500/20 transition-colors duration-300 flex items-center justify-between disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,Qg.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Qg.jsx)(_H,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),(0,Qg.jsxs)("div",{className:"text-left",children:[(0,Qg.jsx)("h4",{className:"text-sm font-medium text-blue-900 dark:text-blue-100",children:"JSON Format"}),(0,Qg.jsx)("p",{className:"text-xs text-blue-700 dark:text-blue-300",children:"Complete data with all metadata"})]})]}),(0,Qg.jsx)(NH,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"})]}),(0,Qg.jsxs)("button",{onClick:()=>D("csv"),disabled:r,className:"w-full p-4 bg-green-50 dark:bg-green-500/10 border border-green-200 dark:border-green-500/20 rounded-lg hover:bg-green-100 dark:hover:bg-green-500/20 transition-colors duration-300 flex items-center justify-between disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,Qg.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Qg.jsx)(hy,{className:"w-5 h-5 text-green-600 dark:text-green-400"}),(0,Qg.jsxs)("div",{className:"text-left",children:[(0,Qg.jsx)("h4",{className:"text-sm font-medium text-green-900 dark:text-green-100",children:"CSV Format"}),(0,Qg.jsx)("p",{className:"text-xs text-green-700 dark:text-green-300",children:"For spreadsheet applications"})]})]}),(0,Qg.jsx)(NH,{className:"w-4 h-4 text-green-600 dark:text-green-400"})]})]})]})}),d&&(0,Qg.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:(0,Qg.jsxs)("div",{className:"bg-white dark:bg-gray-900 rounded-2xl p-6 w-full max-w-md backdrop-blur-sm border border-gray-200 dark:border-gray-700",children:[(0,Qg.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Qg.jsx)("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Import Data"}),(0,Qg.jsx)("button",{onClick:()=>h(!1),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition-colors duration-300",children:(0,Qg.jsx)(bU,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})})]}),(0,Qg.jsx)("div",{className:"bg-yellow-50 dark:bg-yellow-500/10 border border-yellow-200 dark:border-yellow-500/20 rounded-lg p-4 mb-6",children:(0,Qg.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,Qg.jsx)(OU,{className:"w-5 h-5 text-yellow-600 dark:text-yellow-400 flex-shrink-0 mt-0.5"}),(0,Qg.jsxs)("div",{children:[(0,Qg.jsx)("h3",{className:"text-sm font-medium text-yellow-800 dark:text-yellow-300 mb-1",children:"Coming Soon"}),(0,Qg.jsx)("p",{className:"text-xs text-yellow-700 dark:text-yellow-400",children:"Import functionality will be available in the next update. You'll be able to import bank statements and CSV files."})]})]})}),(0,Qg.jsx)("button",{onClick:()=>h(!1),className:"w-full px-4 py-2 bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors duration-300",children:"Close"})]})}),s&&(0,Qg.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:(0,Qg.jsxs)("div",{className:"bg-white dark:bg-gray-900 rounded-2xl p-6 w-full max-w-md backdrop-blur-sm border border-gray-200 dark:border-gray-700",children:[(0,Qg.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,Qg.jsx)("div",{className:"w-10 h-10 bg-red-100 dark:bg-red-500/20 rounded-lg flex items-center justify-center",children:(0,Qg.jsx)(wU,{className:"w-5 h-5 text-red-600 dark:text-red-400"})}),(0,Qg.jsx)("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Delete All Data"})]}),(0,Qg.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"This action will permanently delete all your accounts, transactions, and preferences. This cannot be undone."}),(0,Qg.jsxs)("div",{className:"bg-red-50 dark:bg-red-500/10 border border-red-200 dark:border-red-500/20 rounded-lg p-4 mb-6",children:[(0,Qg.jsx)("h4",{className:"text-sm font-medium text-red-800 dark:text-red-200 mb-2",children:"What will be deleted:"}),(0,Qg.jsxs)("ul",{className:"text-xs text-red-700 dark:text-red-300 space-y-1",children:[(0,Qg.jsxs)("li",{children:["\u2022 ",_.totalAccounts," accounts"]}),(0,Qg.jsxs)("li",{children:["\u2022 ",_.totalTransactions.toLocaleString()," transactions"]}),(0,Qg.jsx)("li",{children:"\u2022 All preferences and settings"}),(0,Qg.jsx)("li",{children:"\u2022 All analytics data"})]})]}),(0,Qg.jsxs)("div",{className:"flex space-x-3",children:[(0,Qg.jsx)("button",{onClick:()=>l(!1),className:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors duration-300",children:"Cancel"}),(0,Qg.jsx)("button",{onClick:async()=>{if(e)try{a(!0);const t=Kg(Yg);N.forEach(n=>{const r=Pm(Yg,"users",e.uid,"transactions",n.id);t.delete(r)}),S.forEach(n=>{const r=Pm(Yg,"users",e.uid,"accounts",n.id);t.delete(r)}),await t.commit(),localStorage.removeItem(`pesa_preferences_${e.uid}`),await A(),l(!1),alert("All data deleted successfully.")}catch(t){console.error("Error deleting data:",t),alert("Error deleting data. Please try again.")}finally{a(!1)}},disabled:r,className:"flex-1 bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg transition-colors duration-300 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:r?(0,Qg.jsxs)(Qg.Fragment,{children:[(0,Qg.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),(0,Qg.jsx)("span",{children:"Deleting..."})]}):(0,Qg.jsxs)(Qg.Fragment,{children:[(0,Qg.jsx)(vU,{className:"w-4 h-4"}),(0,Qg.jsx)("span",{children:"Delete All Data"})]})})]})]})})]})};const IH=function(){const{currentUser:e}=Jg(),[n,r]=(0,t.useState)([]),[a,i]=(0,t.useState)([]),[o,s]=(0,t.useState)(!0),[l,c]=(0,t.useState)(localStorage.getItem("theme")||"light");return(0,t.useEffect)(()=>{"dark"===l?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),localStorage.setItem("theme",l)},[l]),(0,t.useEffect)(()=>{if(!e)return;const t=zg(xg(Im(Yg,"users",e.uid,"accounts"),kg("isDeleted","==",!1)),e=>{const t=e.docs.map(e=>({id:e.id,...e.data()}));r(t)}),n=zg(xg(Im(Yg,"users",e.uid,"transactions"),Ng("date","desc")),e=>{const t=e.docs.map(e=>({id:e.id,...e.data()}));i(t),s(!1)});return()=>{t(),n()}},[e]),o?(0,Qg.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900",children:(0,Qg.jsxs)("div",{className:"text-center",children:[(0,Qg.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500 mx-auto"}),(0,Qg.jsx)("p",{className:"mt-4 text-gray-600 dark:text-gray-400",children:"Loading your data..."})]})}):(0,Qg.jsxs)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-950 transition-colors",children:[(0,Qg.jsx)(xy,{theme:l,toggleTheme:()=>{c("light"===l?"dark":"light")}}),(0,Qg.jsx)("main",{className:"max-w-7xl mx-auto",children:(0,Qg.jsxs)(ke,{children:[(0,Qg.jsx)(xe,{path:"/",element:(0,Qg.jsx)(hU,{accounts:n,transactions:a})}),(0,Qg.jsx)(xe,{path:"/transactions",element:(0,Qg.jsx)(NU,{accounts:n,transactions:a})}),(0,Qg.jsx)(xe,{path:"/analytics",element:(0,Qg.jsx)(iH,{accounts:n,transactions:a})}),(0,Qg.jsx)(xe,{path:"/accounts",element:(0,Qg.jsx)(hH,{accounts:n})}),(0,Qg.jsx)(xe,{path:"/activity",element:(0,Qg.jsx)(pH(),{})}),(0,Qg.jsx)(xe,{path:"/subscriptions",element:(0,Qg.jsx)(gH(),{})}),(0,Qg.jsx)(xe,{path:"/settings",element:(0,Qg.jsx)(OH,{})})]})})]})};function PH(){const{currentUser:e,loading:t}=Jg();return t?(0,Qg.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,Qg.jsxs)("div",{className:"text-center",children:[(0,Qg.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500 mx-auto"}),(0,Qg.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading Pesa..."})]})}):(0,Qg.jsxs)(ke,{children:[(0,Qg.jsx)(xe,{path:"/login",element:e?(0,Qg.jsx)(be,{to:"/"}):(0,Qg.jsx)(ly,{})}),(0,Qg.jsx)(xe,{path:"/*",element:e?(0,Qg.jsx)(IH,{}):(0,Qg.jsx)(be,{to:"/login"})})]})}const DH=function(){return(0,Qg.jsx)(nt,{basename:"/pesa",children:(0,Qg.jsx)(Zg,{children:(0,Qg.jsx)(PH,{})})})};r.createRoot(document.getElementById("root")).render((0,Qg.jsx)(t.StrictMode,{children:(0,Qg.jsx)(DH,{})}))})()})();
//# sourceMappingURL=main.17f71213.js.map