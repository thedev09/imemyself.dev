/*! For license information please see main.84a34003.js.LICENSE.txt */
(()=>{var e={356:(e,t,r)=>{e.exports=r(9645).last},579:(e,t,r)=>{"use strict";e.exports=r(2799)},870:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isObject=function(e){return null!==e&&("object"===typeof e||"function"===typeof e)}},1203:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(8420);t.isArrayLike=function(e){return null!=e&&"function"!==typeof e&&n.isLength(e.length)}},1293:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.debounce=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};"object"!==typeof r&&(r={});let n,a=null,i=null,o=null,s=0,l=null;const{leading:c=!1,trailing:u=!0,maxWait:d}=r,h="maxWait"in r,f=h?Math.max(Number(d)||0,t):0,p=t=>(null!==a&&(n=e.apply(i,a)),a=i=null,s=t,n),m=e=>(l=null,u&&null!==a?p(e):n),g=e=>{if(null===o)return!0;const r=e-o;return r>=t||r<0||h&&e-s>=f},y=()=>{const e=Date.now();if(g(e))return m(e);l=setTimeout(y,(e=>{const r=t-(null===o?0:e-o),n=f-(e-s);return h?Math.min(r,n):r})(e))},v=function(){const e=Date.now(),r=g(e);for(var u=arguments.length,d=new Array(u),f=0;f<u;f++)d[f]=arguments[f];if(a=d,i=this,o=e,r){if(null===l)return s=m=e,l=setTimeout(y,t),c&&null!==a?p(m):n;if(h)return clearTimeout(l),l=setTimeout(y,t),p(e)}var m;return null===l&&(l=setTimeout(y,t)),n};return v.cancel=()=>{null!==l&&clearTimeout(l),s=0,o=a=i=l=null},v.flush=()=>null===l?n:m(Date.now()),v}},1444:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.toPath=function(e){const t=[],r=e.length;if(0===r)return t;let n=0,a="",i="",o=!1;for(46===e.charCodeAt(0)&&(t.push(""),n++);n<r;){const s=e[n];i?"\\"===s&&n+1<r?(n++,a+=e[n]):s===i?i="":a+=s:o?'"'===s||"'"===s?i=s:"]"===s?(o=!1,t.push(a),a=""):a+=s:"["===s?(o=!0,a&&(t.push(a),a="")):"."===s?a&&(t.push(a),a=""):a+=s,n++}return a&&t.push(a),t}},1561:()=>{},2086:(e,t,r)=>{"use strict";e.exports=r(5082)},2104:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(1203),a=r(9921);t.isArrayLikeObject=function(e){return a.isObjectLike(e)&&n.isArrayLike(e)}},2132:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(8268),a=r(870),i=r(4803),o=r(9972);function s(e,t,r,n){if(t===e)return!0;switch(typeof t){case"object":return function(e,t,r,n){if(null==t)return!0;if(Array.isArray(t))return l(e,t,r,n);if(t instanceof Map)return function(e,t,r,n){if(0===t.size)return!0;if(!(e instanceof Map))return!1;for(const[a,i]of t.entries()){if(!1===r(e.get(a),i,a,e,t,n))return!1}return!0}(e,t,r,n);if(t instanceof Set)return c(e,t,r,n);const a=Object.keys(t);if(null==e)return 0===a.length;if(0===a.length)return!0;if(n&&n.has(t))return n.get(t)===e;n&&n.set(t,e);try{for(let o=0;o<a.length;o++){const s=a[o];if(!i.isPrimitive(e)&&!(s in e))return!1;if(void 0===t[s]&&void 0!==e[s])return!1;if(null===t[s]&&null!==e[s])return!1;if(!r(e[s],t[s],s,e,t,n))return!1}return!0}finally{n&&n.delete(t)}}(e,t,r,n);case"function":return Object.keys(t).length>0?s(e,{...t},r,n):o.eq(e,t);default:return a.isObject(e)?"string"!==typeof t||""===t:o.eq(e,t)}}function l(e,t,r,n){if(0===t.length)return!0;if(!Array.isArray(e))return!1;const a=new Set;for(let i=0;i<t.length;i++){const o=t[i];let s=!1;for(let l=0;l<e.length;l++){if(a.has(l))continue;let c=!1;if(r(e[l],o,i,e,t,n)&&(c=!0),c){a.add(l),s=!0;break}}if(!s)return!1}return!0}function c(e,t,r,n){return 0===t.size||e instanceof Set&&l([...e],[...t],r,n)}t.isMatchWith=function(e,t,r){return"function"!==typeof r?n.isMatch(e,t):s(e,t,function e(t,n,a,i,o,l){const c=r(t,n,a,i,o,l);return void 0!==c?Boolean(c):s(t,n,e,l)},new Map)},t.isSetMatch=c},2204:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(5316),a=r(7312),i=r(3799);t.sortBy=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];const s=r.length;return s>1&&i.isIterateeCall(e,r[0],r[1])?r=[]:s>2&&i.isIterateeCall(r[0],r[1],r[2])&&(r=[r[0]]),n.orderBy(e,a.flatten(r),["asc"])}},2330:(e,t,r)=>{"use strict";var n=r(5043);var a="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},i=n.useState,o=n.useEffect,s=n.useLayoutEffect,l=n.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!a(e,r)}catch(n){return!0}}var u="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var r=t(),n=i({inst:{value:r,getSnapshot:t}}),a=n[0].inst,u=n[1];return s(function(){a.value=r,a.getSnapshot=t,c(a)&&u({inst:a})},[e,r,t]),o(function(){return c(a)&&u({inst:a}),e(function(){c(a)&&u({inst:a})})},[e]),l(r),r};t.useSyncExternalStore=void 0!==n.useSyncExternalStore?n.useSyncExternalStore:u},2489:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isDeepKey=function(e){switch(typeof e){case"number":case"symbol":return!1;case"string":return e.includes(".")||e.includes("[")||e.includes("]")}}},2682:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isPlainObject=function(e){if("object"!==typeof e)return!1;if(null==e)return!1;if(null===Object.getPrototypeOf(e))return!0;if("[object Object]"!==Object.prototype.toString.call(e)){const t=e[Symbol.toStringTag];if(null==t)return!1;return!!Object.getOwnPropertyDescriptor(e,Symbol.toStringTag)?.writable&&e.toString()===`[object ${t}]`}let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}},2715:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(9599),a=r(7330),i=r(3808),o=r(8845);t.iteratee=function(e){if(null==e)return n.identity;switch(typeof e){case"function":return e;case"object":return Array.isArray(e)&&2===e.length?o.matchesProperty(e[0],e[1]):i.matches(e);case"string":case"symbol":case"number":return a.property(e)}}},2777:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isSymbol=function(e){return"symbol"===typeof e||e instanceof Symbol}},2799:(e,t)=>{"use strict";var r=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function a(e,t,n){var a=null;if(void 0!==n&&(a=""+n),void 0!==t.key&&(a=""+t.key),"key"in t)for(var i in n={},t)"key"!==i&&(n[i]=t[i]);else n=t;return t=n.ref,{$$typeof:r,type:e,key:a,ref:void 0!==t?t:null,props:n}}t.Fragment=n,t.jsx=a,t.jsxs=a},3272:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.toKey=function(e){return"string"===typeof e||"symbol"===typeof e?e:Object.is(e?.valueOf?.(),-0)?"-0":String(e)}},3757:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isTypedArray=function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}},3799:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(4704),a=r(1203),i=r(870),o=r(9972);t.isIterateeCall=function(e,t,r){return!!i.isObject(r)&&(!!("number"===typeof t&&a.isArrayLike(r)&&n.isIndex(t)&&t<r.length||"string"===typeof t&&t in r)&&o.eq(r[t],e))}},3808:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(8268),a=r(5261);t.matches=function(e){return e=a.cloneDeep(e),t=>n.isMatch(t,e)}},3821:(e,t,r)=>{e.exports=r(2204).sortBy},4208:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.uniqBy=function(e,t){const r=new Map;for(let n=0;n<e.length;n++){const a=e[n],i=t(a);r.has(i)||r.set(i,a)}return Array.from(r.values())}},4250:(e,t,r)=>{e.exports=r(8182).isEqual},4288:(e,t)=>{"use strict";var r=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function y(e,t,r){this.props=e,this.context=t,this.refs=g,this.updater=r||p}function v(){}function b(e,t,r){this.props=e,this.context=t,this.refs=g,this.updater=r||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var x=b.prototype=new v;x.constructor=b,m(x,y.prototype),x.isPureReactComponent=!0;var w=Array.isArray,k={H:null,A:null,T:null,S:null,V:null},j=Object.prototype.hasOwnProperty;function S(e,t,n,a,i,o){return n=o.ref,{$$typeof:r,type:e,key:t,ref:void 0!==n?n:null,props:o}}function N(e){return"object"===typeof e&&null!==e&&e.$$typeof===r}var E=/\/+/g;function _(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function A(){}function C(e,t,a,i,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l,c,u=!1;if(null===e)u=!0;else switch(s){case"bigint":case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case r:case n:u=!0;break;case h:return C((u=e._init)(e._payload),t,a,i,o)}}if(u)return o=o(e),u=""===i?"."+_(e,0):i,w(o)?(a="",null!=u&&(a=u.replace(E,"$&/")+"/"),C(o,t,a,"",function(e){return e})):null!=o&&(N(o)&&(l=o,c=a+(null==o.key||e&&e.key===o.key?"":(""+o.key).replace(E,"$&/")+"/")+u,o=S(l.type,c,void 0,0,0,l.props)),t.push(o)),1;u=0;var d,p=""===i?".":i+":";if(w(e))for(var m=0;m<e.length;m++)u+=C(i=e[m],t,a,s=p+_(i,m),o);else if("function"===typeof(m=null===(d=e)||"object"!==typeof d?null:"function"===typeof(d=f&&d[f]||d["@@iterator"])?d:null))for(e=m.call(e),m=0;!(i=e.next()).done;)u+=C(i=i.value,t,a,s=p+_(i,m++),o);else if("object"===s){if("function"===typeof e.then)return C(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(A,A):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,a,i,o);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return u}function T(e,t,r){if(null==e)return e;var n=[],a=0;return C(e,n,"","",function(e){return t.call(r,e,a++)}),n}function O(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var I="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function P(){}t.Children={map:T,forEach:function(e,t,r){T(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return T(e,function(){t++}),t},toArray:function(e){return T(e,function(e){return e})||[]},only:function(e){if(!N(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=a,t.Profiler=o,t.PureComponent=b,t.StrictMode=i,t.Suspense=u,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return k.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var n=m({},e.props),a=e.key;if(null!=t)for(i in void 0!==t.ref&&void 0,void 0!==t.key&&(a=""+t.key),t)!j.call(t,i)||"key"===i||"__self"===i||"__source"===i||"ref"===i&&void 0===t.ref||(n[i]=t[i]);var i=arguments.length-2;if(1===i)n.children=r;else if(1<i){for(var o=Array(i),s=0;s<i;s++)o[s]=arguments[s+2];n.children=o}return S(e.type,a,void 0,0,0,n)},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:s,_context:e},e},t.createElement=function(e,t,r){var n,a={},i=null;if(null!=t)for(n in void 0!==t.key&&(i=""+t.key),t)j.call(t,n)&&"key"!==n&&"__self"!==n&&"__source"!==n&&(a[n]=t[n]);var o=arguments.length-2;if(1===o)a.children=r;else if(1<o){for(var s=Array(o),l=0;l<o;l++)s[l]=arguments[l+2];a.children=s}if(e&&e.defaultProps)for(n in o=e.defaultProps)void 0===a[n]&&(a[n]=o[n]);return S(e,i,void 0,0,0,a)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=N,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:O}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=k.T,r={};k.T=r;try{var n=e(),a=k.S;null!==a&&a(r,n),"object"===typeof n&&null!==n&&"function"===typeof n.then&&n.then(P,I)}catch(i){I(i)}finally{k.T=t}},t.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},t.use=function(e){return k.H.use(e)},t.useActionState=function(e,t,r){return k.H.useActionState(e,t,r)},t.useCallback=function(e,t){return k.H.useCallback(e,t)},t.useContext=function(e){return k.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return k.H.useDeferredValue(e,t)},t.useEffect=function(e,t,r){var n=k.H;if("function"===typeof r)throw Error("useEffect CRUD overload is not enabled in this build of React.");return n.useEffect(e,t)},t.useId=function(){return k.H.useId()},t.useImperativeHandle=function(e,t,r){return k.H.useImperativeHandle(e,t,r)},t.useInsertionEffect=function(e,t){return k.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return k.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return k.H.useMemo(e,t)},t.useOptimistic=function(e,t){return k.H.useOptimistic(e,t)},t.useReducer=function(e,t,r){return k.H.useReducer(e,t,r)},t.useRef=function(e){return k.H.useRef(e)},t.useState=function(e){return k.H.useState(e)},t.useSyncExternalStore=function(e,t,r){return k.H.useSyncExternalStore(e,t,r)},t.useTransition=function(){return k.H.useTransition()},t.version="19.1.0"},4332:(e,t,r)=>{e.exports=r(5053).uniqBy},4385:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isPlainObject=function(e){if(!e||"object"!==typeof e)return!1;const t=Object.getPrototypeOf(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t))&&"[object Object]"===Object.prototype.toString.call(e)}},4391:(e,t,r)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=r(7004)},4704:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=/^(?:0|[1-9]\d*)$/;t.isIndex=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_SAFE_INTEGER;switch(typeof e){case"number":return Number.isInteger(e)&&e>=0&&e<t;case"symbol":return!1;case"string":return r.test(e)}}},4737:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.noop=function(){}},4803:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isPrimitive=function(e){return null==e||"object"!==typeof e&&"function"!==typeof e}},4879:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(6770);t.toFinite=function(e){if(!e)return 0===e?e:0;if((e=n.toNumber(e))===1/0||e===-1/0){return(e<0?-1:1)*Number.MAX_VALUE}return e===e?e:0}},5043:(e,t,r)=>{"use strict";e.exports=r(4288)},5053:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(4208),a=r(9599),i=r(2104),o=r(2715);t.uniqBy=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.identity;return i.isArrayLikeObject(e)?n.uniqBy(Array.from(e),o.iteratee(t)):[]}},5082:(e,t)=>{"use strict";var r=60103,n=60106,a=60107,i=60108,o=60114,s=60109,l=60110,c=60112,u=60113,d=60120,h=60115,f=60116,p=60121,m=60122,g=60117,y=60129,v=60131;if("function"===typeof Symbol&&Symbol.for){var b=Symbol.for;r=b("react.element"),n=b("react.portal"),a=b("react.fragment"),i=b("react.strict_mode"),o=b("react.profiler"),s=b("react.provider"),l=b("react.context"),c=b("react.forward_ref"),u=b("react.suspense"),d=b("react.suspense_list"),h=b("react.memo"),f=b("react.lazy"),p=b("react.block"),m=b("react.server.block"),g=b("react.fundamental"),y=b("react.debug_trace_mode"),v=b("react.legacy_hidden")}function x(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case a:case o:case i:case u:case d:return e;default:switch(e=e&&e.$$typeof){case l:case c:case f:case h:case s:return e;default:return t}}case n:return t}}}t.isFragment=function(e){return x(e)===a}},5261:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(6433);t.cloneDeep=function(e){return n.cloneDeepWithImpl(e,void 0,e,new Map,void 0)}},5303:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(2489),a=r(4704),i=r(6321),o=r(1444);t.has=function(e,t){let r;if(r=Array.isArray(t)?t:"string"===typeof t&&n.isDeepKey(t)&&null==e?.[t]?o.toPath(t):[t],0===r.length)return!1;let s=e;for(let n=0;n<r.length;n++){const e=r[n];if(null==s||!Object.hasOwn(s,e)){if(!((Array.isArray(s)||i.isArguments(s))&&a.isIndex(e)&&e<s.length))return!1}s=s[e]}return!0}},5316:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(9709),a=r(7043),i=r(1444);t.orderBy=function(e,t,r,o){if(null==e)return[];r=o?void 0:r,Array.isArray(e)||(e=Object.values(e)),Array.isArray(t)||(t=null==t?[null]:[t]),0===t.length&&(t=[null]),Array.isArray(r)||(r=null==r?[]:[r]),r=r.map(e=>String(e));const s=(e,t)=>{let r=e;for(let n=0;n<t.length&&null!=r;++n)r=r[t[n]];return r},l=t.map(e=>(Array.isArray(e)&&1===e.length&&(e=e[0]),null==e||"function"===typeof e||Array.isArray(e)||a.isKey(e)?e:{key:e,path:i.toPath(e)}));return e.map(e=>({original:e,criteria:l.map(t=>((e,t)=>null==t||null==e?t:"object"===typeof e&&"key"in e?Object.hasOwn(t,e.key)?t[e.key]:s(t,e.path):"function"===typeof e?e(t):Array.isArray(e)?s(t,e):"object"===typeof t?t[e]:t)(t,e))})).slice().sort((e,t)=>{for(let a=0;a<l.length;a++){const i=n.compareValues(e.criteria[a],t.criteria[a],r[a]);if(0!==i)return i}return 0}).map(e=>e.original)}},5414:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(1293);t.throttle=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{leading:a=!0,trailing:i=!0}=r;return n.debounce(e,t,{leading:a,maxWait:t,trailing:i})}},5508:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(6433),a=r(7599);t.cloneDeepWith=function(e,t){return n.cloneDeepWith(e,(r,i,o,s)=>{const l=t?.(r,i,o,s);if(null!=l)return l;if("object"===typeof e)switch(Object.prototype.toString.call(e)){case a.numberTag:case a.stringTag:case a.booleanTag:{const t=new e.constructor(e?.valueOf());return n.copyProperties(t,e),t}case a.argumentsTag:{const t={};return n.copyProperties(t,e),t.length=e.length,t[Symbol.iterator]=e[Symbol.iterator],t}default:return}})}},5896:(e,t)=>{"use strict";function r(e,t){var r=e.length;e.push(t);e:for(;0<r;){var n=r-1>>>1,a=e[n];if(!(0<i(a,t)))break e;e[n]=t,e[r]=a,r=n}}function n(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],r=e.pop();if(r!==t){e[0]=r;e:for(var n=0,a=e.length,o=a>>>1;n<o;){var s=2*(n+1)-1,l=e[s],c=s+1,u=e[c];if(0>i(l,r))c<a&&0>i(u,l)?(e[n]=u,e[c]=r,n=c):(e[n]=l,e[s]=r,n=s);else{if(!(c<a&&0>i(u,r)))break e;e[n]=u,e[c]=r,n=c}}}return t}function i(e,t){var r=e.sortIndex-t.sortIndex;return 0!==r?r:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,m=!1,g=!1,y=!1,v="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,x="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=n(u);null!==t;){if(null===t.callback)a(u);else{if(!(t.startTime<=e))break;a(u),t.sortIndex=t.expirationTime,r(c,t)}t=n(u)}}function k(e){if(g=!1,w(e),!m)if(null!==n(c))m=!0,S||(S=!0,j());else{var t=n(u);null!==t&&I(k,t.startTime-e)}}var j,S=!1,N=-1,E=5,_=-1;function A(){return!!y||!(t.unstable_now()-_<E)}function C(){if(y=!1,S){var e=t.unstable_now();_=e;var r=!0;try{e:{m=!1,g&&(g=!1,b(N),N=-1),p=!0;var i=f;try{t:{for(w(e),h=n(c);null!==h&&!(h.expirationTime>e&&A());){var o=h.callback;if("function"===typeof o){h.callback=null,f=h.priorityLevel;var s=o(h.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof s){h.callback=s,w(e),r=!0;break t}h===n(c)&&a(c),w(e)}else a(c);h=n(c)}if(null!==h)r=!0;else{var l=n(u);null!==l&&I(k,l.startTime-e),r=!1}}break e}finally{h=null,f=i,p=!1}r=void 0}}finally{r?j():S=!1}}}if("function"===typeof x)j=function(){x(C)};else if("undefined"!==typeof MessageChannel){var T=new MessageChannel,O=T.port2;T.port1.onmessage=C,j=function(){O.postMessage(null)}}else j=function(){v(C,0)};function I(e,r){N=v(function(){e(t.unstable_now())},r)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var r=f;f=t;try{return e()}finally{f=r}},t.unstable_requestPaint=function(){y=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=f;f=e;try{return t()}finally{f=r}},t.unstable_scheduleCallback=function(e,a,i){var o=t.unstable_now();switch("object"===typeof i&&null!==i?i="number"===typeof(i=i.delay)&&0<i?o+i:o:i=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:a,priorityLevel:e,startTime:i,expirationTime:s=i+s,sortIndex:-1},i>o?(e.sortIndex=i,r(u,e),null===n(c)&&e===n(u)&&(g?(b(N),N=-1):g=!0,I(k,i-o))):(e.sortIndex=s,r(c,e),m||p||(m=!0,S||(S=!0,j()))),e},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(e){var t=f;return function(){var r=f;f=t;try{return e.apply(this,arguments)}finally{f=r}}}},5990:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.getTag=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}},6321:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(5990);t.isArguments=function(e){return null!==e&&"object"===typeof e&&"[object Arguments]"===n.getTag(e)}},6392:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.last=function(e){return e[e.length-1]}},6433:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(6443),a=r(5990),i=r(7599),o=r(4803),s=r(3757);function l(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Map,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0;const d=u?.(e,t,r,n);if(null!=d)return d;if(o.isPrimitive(e))return e;if(n.has(e))return n.get(e);if(Array.isArray(e)){const t=new Array(e.length);n.set(e,t);for(let a=0;a<e.length;a++)t[a]=l(e[a],a,r,n,u);return Object.hasOwn(e,"index")&&(t.index=e.index),Object.hasOwn(e,"input")&&(t.input=e.input),t}if(e instanceof Date)return new Date(e.getTime());if(e instanceof RegExp){const t=new RegExp(e.source,e.flags);return t.lastIndex=e.lastIndex,t}if(e instanceof Map){const t=new Map;n.set(e,t);for(const[a,i]of e)t.set(a,l(i,a,r,n,u));return t}if(e instanceof Set){const t=new Set;n.set(e,t);for(const a of e)t.add(l(a,void 0,r,n,u));return t}if("undefined"!==typeof Buffer&&Buffer.isBuffer(e))return e.subarray();if(s.isTypedArray(e)){const t=new(Object.getPrototypeOf(e).constructor)(e.length);n.set(e,t);for(let a=0;a<e.length;a++)t[a]=l(e[a],a,r,n,u);return t}if(e instanceof ArrayBuffer||"undefined"!==typeof SharedArrayBuffer&&e instanceof SharedArrayBuffer)return e.slice(0);if(e instanceof DataView){const t=new DataView(e.buffer.slice(0),e.byteOffset,e.byteLength);return n.set(e,t),c(t,e,r,n,u),t}if("undefined"!==typeof File&&e instanceof File){const t=new File([e],e.name,{type:e.type});return n.set(e,t),c(t,e,r,n,u),t}if(e instanceof Blob){const t=new Blob([e],{type:e.type});return n.set(e,t),c(t,e,r,n,u),t}if(e instanceof Error){const t=new e.constructor;return n.set(e,t),t.message=e.message,t.name=e.name,t.stack=e.stack,t.cause=e.cause,c(t,e,r,n,u),t}if("object"===typeof e&&function(e){switch(a.getTag(e)){case i.argumentsTag:case i.arrayTag:case i.arrayBufferTag:case i.dataViewTag:case i.booleanTag:case i.dateTag:case i.float32ArrayTag:case i.float64ArrayTag:case i.int8ArrayTag:case i.int16ArrayTag:case i.int32ArrayTag:case i.mapTag:case i.numberTag:case i.objectTag:case i.regexpTag:case i.setTag:case i.stringTag:case i.symbolTag:case i.uint8ArrayTag:case i.uint8ClampedArrayTag:case i.uint16ArrayTag:case i.uint32ArrayTag:return!0;default:return!1}}(e)){const t=Object.create(Object.getPrototypeOf(e));return n.set(e,t),c(t,e,r,n,u),t}return e}function c(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,a=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;const o=[...Object.keys(t),...n.getSymbols(t)];for(let n=0;n<o.length;n++){const s=o[n],c=Object.getOwnPropertyDescriptor(e,s);(null==c||c.writable)&&(e[s]=l(t[s],s,r,a,i))}}t.cloneDeepWith=function(e,t){return l(e,void 0,e,new Map,t)},t.cloneDeepWithImpl=l,t.copyProperties=c},6443:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.getSymbols=function(e){return Object.getOwnPropertySymbols(e).filter(t=>Object.prototype.propertyIsEnumerable.call(e,t))}},6672:(e,t,r)=>{"use strict";var n=r(5043);function a(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var o={d:{f:i,r:function(){throw Error(a(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},s=Symbol.for("react.portal");var l=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,t.createPortal=function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(a(299));return function(e,t,r){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:s,key:null==n?null:""+n,children:e,containerInfo:t,implementation:r}}(e,t,null,r)},t.flushSync=function(e){var t=l.T,r=o.p;try{if(l.T=null,o.p=2,e)return e()}finally{l.T=t,o.p=r,o.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,o.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&o.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var r=t.as,n=c(r,t.crossOrigin),a="string"===typeof t.integrity?t.integrity:void 0,i="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===r?o.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:n,integrity:a,fetchPriority:i}):"script"===r&&o.d.X(e,{crossOrigin:n,integrity:a,fetchPriority:i,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var r=c(t.as,t.crossOrigin);o.d.M(e,{crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&o.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var r=t.as,n=c(r,t.crossOrigin);o.d.L(e,r,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var r=c(t.as,t.crossOrigin);o.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else o.d.m(e)},t.requestFormReset=function(e){o.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,r){return l.H.useFormState(e,t,r)},t.useFormStatus=function(){return l.H.useHostTransitionStatus()},t.version="19.1.0"},6770:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(2777);t.toNumber=function(e){return n.isSymbol(e)?NaN:Number(e)}},7004:(e,t,r)=>{"use strict";var n=r(8853),a=r(5043),i=r(7950);function o(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function l(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(r=t.return),e=t.return}while(e)}return 3===t.tag?r:null}function c(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function u(e){if(l(e)!==e)throw Error(o(188))}function d(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=d(e)))return t;e=e.sibling}return null}var h=Object.assign,f=Symbol.for("react.element"),p=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),x=Symbol.for("react.consumer"),w=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),j=Symbol.for("react.suspense"),S=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),E=Symbol.for("react.lazy");Symbol.for("react.scope");var _=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var A=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var C=Symbol.iterator;function T(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=C&&e[C]||e["@@iterator"])?e:null}var O=Symbol.for("react.client.reference");function I(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===O?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case g:return"Fragment";case v:return"Profiler";case y:return"StrictMode";case j:return"Suspense";case S:return"SuspenseList";case _:return"Activity"}if("object"===typeof e)switch(e.$$typeof){case m:return"Portal";case w:return(e.displayName||"Context")+".Provider";case x:return(e._context.displayName||"Context")+".Consumer";case k:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case N:return null!==(t=e.displayName||null)?t:I(e.type)||"Memo";case E:t=e._payload,e=e._init;try{return I(e(t))}catch(r){}}return null}var P=Array.isArray,D=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,M=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,R={pending:!1,data:null,method:null,action:null},L=[],F=-1;function z(e){return{current:e}}function U(e){0>F||(e.current=L[F],L[F]=null,F--)}function V(e,t){F++,L[F]=e.current,e.current=t}var B=z(null),$=z(null),q=z(null),H=z(null);function K(e,t){switch(V(q,t),V($,e),V(B,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?ad(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=id(t=ad(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}U(B),V(B,e)}function W(){U(B),U($),U(q)}function G(e){null!==e.memoizedState&&V(H,e);var t=B.current,r=id(t,e.type);t!==r&&(V($,e),V(B,r))}function Y(e){$.current===e&&(U(B),U($)),H.current===e&&(U(H),Gd._currentValue=R)}var Q=Object.prototype.hasOwnProperty,X=n.unstable_scheduleCallback,J=n.unstable_cancelCallback,Z=n.unstable_shouldYield,ee=n.unstable_requestPaint,te=n.unstable_now,re=n.unstable_getCurrentPriorityLevel,ne=n.unstable_ImmediatePriority,ae=n.unstable_UserBlockingPriority,ie=n.unstable_NormalPriority,oe=n.unstable_LowPriority,se=n.unstable_IdlePriority,le=n.log,ce=n.unstable_setDisableYieldValue,ue=null,de=null;function he(e){if("function"===typeof le&&ce(e),de&&"function"===typeof de.setStrictMode)try{de.setStrictMode(ue,e)}catch(t){}}var fe=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(pe(e)/me|0)|0},pe=Math.log,me=Math.LN2;var ge=256,ye=4194304;function ve(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194048&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function be(e,t,r){var n=e.pendingLanes;if(0===n)return 0;var a=0,i=e.suspendedLanes,o=e.pingedLanes;e=e.warmLanes;var s=134217727&n;return 0!==s?0!==(n=s&~i)?a=ve(n):0!==(o&=s)?a=ve(o):r||0!==(r=s&~e)&&(a=ve(r)):0!==(s=n&~i)?a=ve(s):0!==o?a=ve(o):r||0!==(r=n&~e)&&(a=ve(r)),0===a?0:0!==t&&t!==a&&0===(t&i)&&((i=a&-a)>=(r=t&-t)||32===i&&0!==(4194048&r))?t:a}function xe(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function we(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ke(){var e=ge;return 0===(4194048&(ge<<=1))&&(ge=256),e}function je(){var e=ye;return 0===(62914560&(ye<<=1))&&(ye=4194304),e}function Se(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Ne(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ee(e,t,r){e.pendingLanes|=t,e.suspendedLanes&=~t;var n=31-fe(t);e.entangledLanes|=t,e.entanglements[n]=1073741824|e.entanglements[n]|4194090&r}function _e(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-fe(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}function Ae(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ce(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function Te(){var e=M.p;return 0!==e?e:void 0===(e=window.event)?32:ch(e.type)}var Oe=Math.random().toString(36).slice(2),Ie="__reactFiber$"+Oe,Pe="__reactProps$"+Oe,De="__reactContainer$"+Oe,Me="__reactEvents$"+Oe,Re="__reactListeners$"+Oe,Le="__reactHandles$"+Oe,Fe="__reactResources$"+Oe,ze="__reactMarker$"+Oe;function Ue(e){delete e[Ie],delete e[Pe],delete e[Me],delete e[Re],delete e[Le]}function Ve(e){var t=e[Ie];if(t)return t;for(var r=e.parentNode;r;){if(t=r[De]||r[Ie]){if(r=t.alternate,null!==t.child||null!==r&&null!==r.child)for(e=bd(e);null!==e;){if(r=e[Ie])return r;e=bd(e)}return t}r=(e=r).parentNode}return null}function Be(e){if(e=e[Ie]||e[De]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function $e(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(o(33))}function qe(e){var t=e[Fe];return t||(t=e[Fe]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function He(e){e[ze]=!0}var Ke=new Set,We={};function Ge(e,t){Ye(e,t),Ye(e+"Capture",t)}function Ye(e,t){for(We[e]=t,e=0;e<t.length;e++)Ke.add(t[e])}var Qe,Xe,Je=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ze={},et={};function tt(e,t,r){if(a=t,Q.call(et,a)||!Q.call(Ze,a)&&(Je.test(a)?et[a]=!0:(Ze[a]=!0,0)))if(null===r)e.removeAttribute(t);else{switch(typeof r){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var n=t.toLowerCase().slice(0,5);if("data-"!==n&&"aria-"!==n)return void e.removeAttribute(t)}e.setAttribute(t,""+r)}var a}function rt(e,t,r){if(null===r)e.removeAttribute(t);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+r)}}function nt(e,t,r,n){if(null===n)e.removeAttribute(r);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(r)}e.setAttributeNS(t,r,""+n)}}function at(e){if(void 0===Qe)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Qe=t&&t[1]||"",Xe=-1<r.stack.indexOf("\n    at")?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+Qe+e+Xe}var it=!1;function ot(e,t){if(!e||it)return"";it=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var n={DetermineComponentFrameRoot:function(){try{if(t){var r=function(){throw Error()};if(Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(r,[])}catch(a){var n=a}Reflect.construct(e,[],r)}else{try{r.call()}catch(i){n=i}e.call(r.prototype)}}else{try{throw Error()}catch(o){n=o}(r=e())&&"function"===typeof r.catch&&r.catch(function(){})}}catch(s){if(s&&n&&"string"===typeof s.stack)return[s.stack,n.stack]}return[null,null]}};n.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var a=Object.getOwnPropertyDescriptor(n.DetermineComponentFrameRoot,"name");a&&a.configurable&&Object.defineProperty(n.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=n.DetermineComponentFrameRoot(),o=i[0],s=i[1];if(o&&s){var l=o.split("\n"),c=s.split("\n");for(a=n=0;n<l.length&&!l[n].includes("DetermineComponentFrameRoot");)n++;for(;a<c.length&&!c[a].includes("DetermineComponentFrameRoot");)a++;if(n===l.length||a===c.length)for(n=l.length-1,a=c.length-1;1<=n&&0<=a&&l[n]!==c[a];)a--;for(;1<=n&&0<=a;n--,a--)if(l[n]!==c[a]){if(1!==n||1!==a)do{if(n--,0>--a||l[n]!==c[a]){var u="\n"+l[n].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=n&&0<=a);break}}}finally{it=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?at(r):""}function st(e){switch(e.tag){case 26:case 27:case 5:return at(e.type);case 16:return at("Lazy");case 13:return at("Suspense");case 19:return at("SuspenseList");case 0:case 15:return ot(e.type,!1);case 11:return ot(e.type.render,!1);case 1:return ot(e.type,!0);case 31:return at("Activity");default:return""}}function lt(e){try{var t="";do{t+=st(e),e=e.return}while(e);return t}catch(r){return"\nError generating stack: "+r.message+"\n"+r.stack}}function ct(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ut(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function dt(e){e._valueTracker||(e._valueTracker=function(e){var t=ut(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof r&&"function"===typeof r.get&&"function"===typeof r.set){var a=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){n=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function ht(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=ut(e)?e.checked?"true":"false":e.value),(e=n)!==r&&(t.setValue(e),!0)}function ft(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var pt=/[\n"\\]/g;function mt(e){return e.replace(pt,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function gt(e,t,r,n,a,i,o,s){e.name="",null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o?e.type=o:e.removeAttribute("type"),null!=t?"number"===o?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ct(t)):e.value!==""+ct(t)&&(e.value=""+ct(t)):"submit"!==o&&"reset"!==o||e.removeAttribute("value"),null!=t?vt(e,o,ct(t)):null!=r?vt(e,o,ct(r)):null!=n&&e.removeAttribute("value"),null==a&&null!=i&&(e.defaultChecked=!!i),null!=a&&(e.checked=a&&"function"!==typeof a&&"symbol"!==typeof a),null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s?e.name=""+ct(s):e.removeAttribute("name")}function yt(e,t,r,n,a,i,o,s){if(null!=i&&"function"!==typeof i&&"symbol"!==typeof i&&"boolean"!==typeof i&&(e.type=i),null!=t||null!=r){if(!("submit"!==i&&"reset"!==i||void 0!==t&&null!==t))return;r=null!=r?""+ct(r):"",t=null!=t?""+ct(t):r,s||t===e.value||(e.value=t),e.defaultValue=t}n="function"!==typeof(n=null!=n?n:a)&&"symbol"!==typeof n&&!!n,e.checked=s?e.checked:!!n,e.defaultChecked=!!n,null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o&&(e.name=o)}function vt(e,t,r){"number"===t&&ft(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function bt(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+ct(r),t=null,a=0;a<e.length;a++){if(e[a].value===r)return e[a].selected=!0,void(n&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function xt(e,t,r){null==t||((t=""+ct(t))!==e.value&&(e.value=t),null!=r)?e.defaultValue=null!=r?""+ct(r):"":e.defaultValue!==t&&(e.defaultValue=t)}function wt(e,t,r,n){if(null==t){if(null!=n){if(null!=r)throw Error(o(92));if(P(n)){if(1<n.length)throw Error(o(93));n=n[0]}r=n}null==r&&(r=""),t=r}r=ct(t),e.defaultValue=r,(n=e.textContent)===r&&""!==n&&null!==n&&(e.value=n)}function kt(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&3===r.nodeType)return void(r.nodeValue=t)}e.textContent=t}var jt=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function St(e,t,r){var n=0===t.indexOf("--");null==r||"boolean"===typeof r||""===r?n?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":n?e.setProperty(t,r):"number"!==typeof r||0===r||jt.has(t)?"float"===t?e.cssFloat=r:e[t]=(""+r).trim():e[t]=r+"px"}function Nt(e,t,r){if(null!=t&&"object"!==typeof t)throw Error(o(62));if(e=e.style,null!=r){for(var n in r)!r.hasOwnProperty(n)||null!=t&&t.hasOwnProperty(n)||(0===n.indexOf("--")?e.setProperty(n,""):"float"===n?e.cssFloat="":e[n]="");for(var a in t)n=t[a],t.hasOwnProperty(a)&&r[a]!==n&&St(e,a,n)}else for(var i in t)t.hasOwnProperty(i)&&St(e,i,t[i])}function Et(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _t=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),At=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ct(e){return At.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Tt=null;function Ot(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var It=null,Pt=null;function Dt(e){var t=Be(e);if(t&&(e=t.stateNode)){var r=e[Pe]||null;e:switch(e=t.stateNode,t.type){case"input":if(gt(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),t=r.name,"radio"===r.type&&null!=t){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+mt(""+t)+'"][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=n[Pe]||null;if(!a)throw Error(o(90));gt(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name)}}for(t=0;t<r.length;t++)(n=r[t]).form===e.form&&ht(n)}break e;case"textarea":xt(e,r.value,r.defaultValue);break e;case"select":null!=(t=r.value)&&bt(e,!!r.multiple,t,!1)}}}var Mt=!1;function Rt(e,t,r){if(Mt)return e(t,r);Mt=!0;try{return e(t)}finally{if(Mt=!1,(null!==It||null!==Pt)&&(Vc(),It&&(t=It,e=Pt,Pt=It=null,Dt(t),e)))for(t=0;t<e.length;t++)Dt(e[t])}}function Lt(e,t){var r=e.stateNode;if(null===r)return null;var n=r[Pe]||null;if(null===n)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(n=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!n;break e;default:e=!1}if(e)return null;if(r&&"function"!==typeof r)throw Error(o(231,t,typeof r));return r}var Ft=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),zt=!1;if(Ft)try{var Ut={};Object.defineProperty(Ut,"passive",{get:function(){zt=!0}}),window.addEventListener("test",Ut,Ut),window.removeEventListener("test",Ut,Ut)}catch(Ph){zt=!1}var Vt=null,Bt=null,$t=null;function qt(){if($t)return $t;var e,t,r=Bt,n=r.length,a="value"in Vt?Vt.value:Vt.textContent,i=a.length;for(e=0;e<n&&r[e]===a[e];e++);var o=n-e;for(t=1;t<=o&&r[n-t]===a[i-t];t++);return $t=a.slice(e,1<t?1-t:void 0)}function Ht(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Kt(){return!0}function Wt(){return!1}function Gt(e){function t(t,r,n,a,i){for(var o in this._reactName=t,this._targetInst=n,this.type=r,this.nativeEvent=a,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(a):a[o]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?Kt:Wt,this.isPropagationStopped=Wt,this}return h(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Kt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Kt)},persist:function(){},isPersistent:Kt}),t}var Yt,Qt,Xt,Jt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zt=Gt(Jt),er=h({},Jt,{view:0,detail:0}),tr=Gt(er),rr=h({},er,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fr,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Xt&&(Xt&&"mousemove"===e.type?(Yt=e.screenX-Xt.screenX,Qt=e.screenY-Xt.screenY):Qt=Yt=0,Xt=e),Yt)},movementY:function(e){return"movementY"in e?e.movementY:Qt}}),nr=Gt(rr),ar=Gt(h({},rr,{dataTransfer:0})),ir=Gt(h({},er,{relatedTarget:0})),or=Gt(h({},Jt,{animationName:0,elapsedTime:0,pseudoElement:0})),sr=Gt(h({},Jt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),lr=Gt(h({},Jt,{data:0})),cr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ur={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hr(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=dr[e])&&!!t[e]}function fr(){return hr}var pr=Gt(h({},er,{key:function(e){if(e.key){var t=cr[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Ht(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?ur[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fr,charCode:function(e){return"keypress"===e.type?Ht(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Ht(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),mr=Gt(h({},rr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),gr=Gt(h({},er,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fr})),yr=Gt(h({},Jt,{propertyName:0,elapsedTime:0,pseudoElement:0})),vr=Gt(h({},rr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),br=Gt(h({},Jt,{newState:0,oldState:0})),xr=[9,13,27,32],wr=Ft&&"CompositionEvent"in window,kr=null;Ft&&"documentMode"in document&&(kr=document.documentMode);var jr=Ft&&"TextEvent"in window&&!kr,Sr=Ft&&(!wr||kr&&8<kr&&11>=kr),Nr=String.fromCharCode(32),Er=!1;function _r(e,t){switch(e){case"keyup":return-1!==xr.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ar(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Cr=!1;var Tr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Or(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Tr[e.type]:"textarea"===t}function Ir(e,t,r,n){It?Pt?Pt.push(n):Pt=[n]:It=n,0<(t=qu(t,"onChange")).length&&(r=new Zt("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Pr=null,Dr=null;function Mr(e){Ru(e,0)}function Rr(e){if(ht($e(e)))return e}function Lr(e,t){if("change"===e)return t}var Fr=!1;if(Ft){var zr;if(Ft){var Ur="oninput"in document;if(!Ur){var Vr=document.createElement("div");Vr.setAttribute("oninput","return;"),Ur="function"===typeof Vr.oninput}zr=Ur}else zr=!1;Fr=zr&&(!document.documentMode||9<document.documentMode)}function Br(){Pr&&(Pr.detachEvent("onpropertychange",$r),Dr=Pr=null)}function $r(e){if("value"===e.propertyName&&Rr(Dr)){var t=[];Ir(t,Dr,e,Ot(e)),Rt(Mr,t)}}function qr(e,t,r){"focusin"===e?(Br(),Dr=r,(Pr=t).attachEvent("onpropertychange",$r)):"focusout"===e&&Br()}function Hr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Rr(Dr)}function Kr(e,t){if("click"===e)return Rr(t)}function Wr(e,t){if("input"===e||"change"===e)return Rr(t)}var Gr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function Yr(e,t){if(Gr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!Q.call(t,a)||!Gr(e[a],t[a]))return!1}return!0}function Qr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Xr(e,t){var r,n=Qr(e);for(e=0;n;){if(3===n.nodeType){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Qr(n)}}function Jr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Jr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function Zr(e){for(var t=ft((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var r="string"===typeof t.contentWindow.location.href}catch(n){r=!1}if(!r)break;t=ft((e=t.contentWindow).document)}return t}function en(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var tn=Ft&&"documentMode"in document&&11>=document.documentMode,rn=null,nn=null,an=null,on=!1;function sn(e,t,r){var n=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;on||null==rn||rn!==ft(n)||("selectionStart"in(n=rn)&&en(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},an&&Yr(an,n)||(an=n,0<(n=qu(nn,"onSelect")).length&&(t=new Zt("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=rn)))}function ln(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var cn={animationend:ln("Animation","AnimationEnd"),animationiteration:ln("Animation","AnimationIteration"),animationstart:ln("Animation","AnimationStart"),transitionrun:ln("Transition","TransitionRun"),transitionstart:ln("Transition","TransitionStart"),transitioncancel:ln("Transition","TransitionCancel"),transitionend:ln("Transition","TransitionEnd")},un={},dn={};function hn(e){if(un[e])return un[e];if(!cn[e])return e;var t,r=cn[e];for(t in r)if(r.hasOwnProperty(t)&&t in dn)return un[e]=r[t];return e}Ft&&(dn=document.createElement("div").style,"AnimationEvent"in window||(delete cn.animationend.animation,delete cn.animationiteration.animation,delete cn.animationstart.animation),"TransitionEvent"in window||delete cn.transitionend.transition);var fn=hn("animationend"),pn=hn("animationiteration"),mn=hn("animationstart"),gn=hn("transitionrun"),yn=hn("transitionstart"),vn=hn("transitioncancel"),bn=hn("transitionend"),xn=new Map,wn="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function kn(e,t){xn.set(e,t),Ge(t,[e])}wn.push("scrollEnd");var jn=new WeakMap;function Sn(e,t){if("object"===typeof e&&null!==e){var r=jn.get(e);return void 0!==r?r:(t={value:e,source:t,stack:lt(t)},jn.set(e,t),t)}return{value:e,source:t,stack:lt(t)}}var Nn=[],En=0,_n=0;function An(){for(var e=En,t=_n=En=0;t<e;){var r=Nn[t];Nn[t++]=null;var n=Nn[t];Nn[t++]=null;var a=Nn[t];Nn[t++]=null;var i=Nn[t];if(Nn[t++]=null,null!==n&&null!==a){var o=n.pending;null===o?a.next=a:(a.next=o.next,o.next=a),n.pending=a}0!==i&&In(r,a,i)}}function Cn(e,t,r,n){Nn[En++]=e,Nn[En++]=t,Nn[En++]=r,Nn[En++]=n,_n|=n,e.lanes|=n,null!==(e=e.alternate)&&(e.lanes|=n)}function Tn(e,t,r,n){return Cn(e,t,r,n),Pn(e)}function On(e,t){return Cn(e,null,null,t),Pn(e)}function In(e,t,r){e.lanes|=r;var n=e.alternate;null!==n&&(n.lanes|=r);for(var a=!1,i=e.return;null!==i;)i.childLanes|=r,null!==(n=i.alternate)&&(n.childLanes|=r),22===i.tag&&(null===(e=i.stateNode)||1&e._visibility||(a=!0)),e=i,i=i.return;return 3===e.tag?(i=e.stateNode,a&&null!==t&&(a=31-fe(r),null===(n=(e=i.hiddenUpdates)[a])?e[a]=[t]:n.push(t),t.lane=536870912|r),i):null}function Pn(e){if(50<Ic)throw Ic=0,Pc=null,Error(o(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Dn={};function Mn(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rn(e,t,r,n){return new Mn(e,t,r,n)}function Ln(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Fn(e,t){var r=e.alternate;return null===r?((r=Rn(e.tag,t,e.key,e.mode)).elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=65011712&e.flags,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function zn(e,t){e.flags&=65011714;var r=e.alternate;return null===r?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,t=r.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Un(e,t,r,n,a,i){var s=0;if(n=e,"function"===typeof e)Ln(e)&&(s=1);else if("string"===typeof e)s=function(e,t,r){if(1===r||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,r,B.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case _:return(e=Rn(31,r,t,a)).elementType=_,e.lanes=i,e;case g:return Vn(r.children,a,i,t);case y:s=8,a|=24;break;case v:return(e=Rn(12,r,t,2|a)).elementType=v,e.lanes=i,e;case j:return(e=Rn(13,r,t,a)).elementType=j,e.lanes=i,e;case S:return(e=Rn(19,r,t,a)).elementType=S,e.lanes=i,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case b:case w:s=10;break e;case x:s=9;break e;case k:s=11;break e;case N:s=14;break e;case E:s=16,n=null;break e}s=29,r=Error(o(130,null===e?"null":typeof e,"")),n=null}return(t=Rn(s,r,t,a)).elementType=e,t.type=n,t.lanes=i,t}function Vn(e,t,r,n){return(e=Rn(7,e,n,t)).lanes=r,e}function Bn(e,t,r){return(e=Rn(6,e,null,t)).lanes=r,e}function $n(e,t,r){return(t=Rn(4,null!==e.children?e.children:[],e.key,t)).lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var qn=[],Hn=0,Kn=null,Wn=0,Gn=[],Yn=0,Qn=null,Xn=1,Jn="";function Zn(e,t){qn[Hn++]=Wn,qn[Hn++]=Kn,Kn=e,Wn=t}function ea(e,t,r){Gn[Yn++]=Xn,Gn[Yn++]=Jn,Gn[Yn++]=Qn,Qn=e;var n=Xn;e=Jn;var a=32-fe(n)-1;n&=~(1<<a),r+=1;var i=32-fe(t)+a;if(30<i){var o=a-a%5;i=(n&(1<<o)-1).toString(32),n>>=o,a-=o,Xn=1<<32-fe(t)+a|r<<a|n,Jn=i+e}else Xn=1<<i|r<<a|n,Jn=e}function ta(e){null!==e.return&&(Zn(e,1),ea(e,1,0))}function ra(e){for(;e===Kn;)Kn=qn[--Hn],qn[Hn]=null,Wn=qn[--Hn],qn[Hn]=null;for(;e===Qn;)Qn=Gn[--Yn],Gn[Yn]=null,Jn=Gn[--Yn],Gn[Yn]=null,Xn=Gn[--Yn],Gn[Yn]=null}var na=null,aa=null,ia=!1,oa=null,sa=!1,la=Error(o(519));function ca(e){throw ma(Sn(Error(o(418,"")),e)),la}function ua(e){var t=e.stateNode,r=e.type,n=e.memoizedProps;switch(t[Ie]=e,t[Pe]=n,r){case"dialog":Lu("cancel",t),Lu("close",t);break;case"iframe":case"object":case"embed":Lu("load",t);break;case"video":case"audio":for(r=0;r<Du.length;r++)Lu(Du[r],t);break;case"source":Lu("error",t);break;case"img":case"image":case"link":Lu("error",t),Lu("load",t);break;case"details":Lu("toggle",t);break;case"input":Lu("invalid",t),yt(t,n.value,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name,!0),dt(t);break;case"select":Lu("invalid",t);break;case"textarea":Lu("invalid",t),wt(t,n.value,n.defaultValue,n.children),dt(t)}"string"!==typeof(r=n.children)&&"number"!==typeof r&&"bigint"!==typeof r||t.textContent===""+r||!0===n.suppressHydrationWarning||Qu(t.textContent,r)?(null!=n.popover&&(Lu("beforetoggle",t),Lu("toggle",t)),null!=n.onScroll&&Lu("scroll",t),null!=n.onScrollEnd&&Lu("scrollend",t),null!=n.onClick&&(t.onclick=Xu),t=!0):t=!1,t||ca(e)}function da(e){for(na=e.return;na;)switch(na.tag){case 5:case 13:return void(sa=!1);case 27:case 3:return void(sa=!0);default:na=na.return}}function ha(e){if(e!==na)return!1;if(!ia)return da(e),ia=!0,!1;var t,r=e.tag;if((t=3!==r&&27!==r)&&((t=5===r)&&(t=!("form"!==(t=e.type)&&"button"!==t)||od(e.type,e.memoizedProps)),t=!t),t&&aa&&ca(e),da(e),13===r){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,r=0;e;){if(8===e.nodeType)if("/$"===(t=e.data)){if(0===r){aa=yd(e.nextSibling);break e}r--}else"$"!==t&&"$!"!==t&&"$?"!==t||r++;e=e.nextSibling}aa=null}}else 27===r?(r=aa,fd(e.type)?(e=vd,vd=null,aa=e):aa=r):aa=na?yd(e.stateNode.nextSibling):null;return!0}function fa(){aa=na=null,ia=!1}function pa(){var e=oa;return null!==e&&(null===bc?bc=e:bc.push.apply(bc,e),oa=null),e}function ma(e){null===oa?oa=[e]:oa.push(e)}var ga=z(null),ya=null,va=null;function ba(e,t,r){V(ga,t._currentValue),t._currentValue=r}function xa(e){e._currentValue=ga.current,U(ga)}function wa(e,t,r){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==n&&(n.childLanes|=t)):null!==n&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function ka(e,t,r,n){var a=e.child;for(null!==a&&(a.return=e);null!==a;){var i=a.dependencies;if(null!==i){var s=a.child;i=i.firstContext;e:for(;null!==i;){var l=i;i=a;for(var c=0;c<t.length;c++)if(l.context===t[c]){i.lanes|=r,null!==(l=i.alternate)&&(l.lanes|=r),wa(i.return,r,e),n||(s=null);break e}i=l.next}}else if(18===a.tag){if(null===(s=a.return))throw Error(o(341));s.lanes|=r,null!==(i=s.alternate)&&(i.lanes|=r),wa(s,r,e),s=null}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===e){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}}function ja(e,t,r,n){e=null;for(var a=t,i=!1;null!==a;){if(!i)if(0!==(524288&a.flags))i=!0;else if(0!==(262144&a.flags))break;if(10===a.tag){var s=a.alternate;if(null===s)throw Error(o(387));if(null!==(s=s.memoizedProps)){var l=a.type;Gr(a.pendingProps.value,s.value)||(null!==e?e.push(l):e=[l])}}else if(a===H.current){if(null===(s=a.alternate))throw Error(o(387));s.memoizedState.memoizedState!==a.memoizedState.memoizedState&&(null!==e?e.push(Gd):e=[Gd])}a=a.return}null!==e&&ka(t,e,r,n),t.flags|=262144}function Sa(e){for(e=e.firstContext;null!==e;){if(!Gr(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Na(e){ya=e,va=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Ea(e){return Aa(ya,e)}function _a(e,t){return null===ya&&Na(e),Aa(e,t)}function Aa(e,t){var r=t._currentValue;if(t={context:t,memoizedValue:r,next:null},null===va){if(null===e)throw Error(o(308));va=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else va=va.next=t;return r}var Ca="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,r){e.push(r)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},Ta=n.unstable_scheduleCallback,Oa=n.unstable_NormalPriority,Ia={$$typeof:w,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Pa(){return{controller:new Ca,data:new Map,refCount:0}}function Da(e){e.refCount--,0===e.refCount&&Ta(Oa,function(){e.controller.abort()})}var Ma=null,Ra=0,La=0,Fa=null;function za(){if(0===--Ra&&null!==Ma){null!==Fa&&(Fa.status="fulfilled");var e=Ma;Ma=null,La=0,Fa=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Ua=D.S;D.S=function(e,t){"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===Ma){var r=Ma=[];Ra=0,La=Cu(),Fa={status:"pending",value:void 0,then:function(e){r.push(e)}}}Ra++,t.then(za,za)}(0,t),null!==Ua&&Ua(e,t)};var Va=z(null);function Ba(){var e=Va.current;return null!==e?e:nc.pooledCache}function $a(e,t){V(Va,null===t?Va.current:t.pool)}function qa(){var e=Ba();return null===e?null:{parent:Ia._currentValue,pool:e}}var Ha=Error(o(460)),Ka=Error(o(474)),Wa=Error(o(542)),Ga={then:function(){}};function Ya(e){return"fulfilled"===(e=e.status)||"rejected"===e}function Qa(){}function Xa(e,t,r){switch(void 0===(r=e[r])?e.push(t):r!==t&&(t.then(Qa,Qa),t=r),t.status){case"fulfilled":return t.value;case"rejected":throw ei(e=t.reason),e;default:if("string"===typeof t.status)t.then(Qa,Qa);else{if(null!==(e=nc)&&100<e.shellSuspendCounter)throw Error(o(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var r=t;r.status="fulfilled",r.value=e}},function(e){if("pending"===t.status){var r=t;r.status="rejected",r.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw ei(e=t.reason),e}throw Ja=t,Ha}}var Ja=null;function Za(){if(null===Ja)throw Error(o(459));var e=Ja;return Ja=null,e}function ei(e){if(e===Ha||e===Wa)throw Error(o(483))}var ti=!1;function ri(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ni(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ai(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ii(e,t,r){var n=e.updateQueue;if(null===n)return null;if(n=n.shared,0!==(2&rc)){var a=n.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),n.pending=t,t=Pn(e),In(e,null,r),t}return Cn(e,n,t,r),Pn(e)}function oi(e,t,r){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194048&r))){var n=t.lanes;r|=n&=e.pendingLanes,t.lanes=r,_e(e,r)}}function si(e,t){var r=e.updateQueue,n=e.alternate;if(null!==n&&r===(n=n.updateQueue)){var a=null,i=null;if(null!==(r=r.firstBaseUpdate)){do{var o={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};null===i?a=i=o:i=i.next=o,r=r.next}while(null!==r);null===i?a=i=t:i=i.next=t}else a=i=t;return r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,callbacks:n.callbacks},void(e.updateQueue=r)}null===(e=r.lastBaseUpdate)?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}var li=!1;function ci(){if(li){if(null!==Fa)throw Fa}}function ui(e,t,r,n){li=!1;var a=e.updateQueue;ti=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,s=a.shared.pending;if(null!==s){a.shared.pending=null;var l=s,c=l.next;l.next=null,null===o?i=c:o.next=c,o=l;var u=e.alternate;null!==u&&((s=(u=u.updateQueue).lastBaseUpdate)!==o&&(null===s?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l))}if(null!==i){var d=a.baseState;for(o=0,u=c=l=null,s=i;;){var f=-536870913&s.lane,p=f!==s.lane;if(p?(ic&f)===f:(n&f)===f){0!==f&&f===La&&(li=!0),null!==u&&(u=u.next={lane:0,tag:s.tag,payload:s.payload,callback:null,next:null});e:{var m=e,g=s;f=t;var y=r;switch(g.tag){case 1:if("function"===typeof(m=g.payload)){d=m.call(y,d,f);break e}d=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null===(f="function"===typeof(m=g.payload)?m.call(y,d,f):m)||void 0===f)break e;d=h({},d,f);break e;case 2:ti=!0}}null!==(f=s.callback)&&(e.flags|=64,p&&(e.flags|=8192),null===(p=a.callbacks)?a.callbacks=[f]:p.push(f))}else p={lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===u?(c=u=p,l=d):u=u.next=p,o|=f;if(null===(s=s.next)){if(null===(s=a.shared.pending))break;s=(p=s).next,p.next=null,a.lastBaseUpdate=p,a.shared.pending=null}}null===u&&(l=d),a.baseState=l,a.firstBaseUpdate=c,a.lastBaseUpdate=u,null===i&&(a.shared.lanes=0),fc|=o,e.lanes=o,e.memoizedState=d}}function di(e,t){if("function"!==typeof e)throw Error(o(191,e));e.call(t)}function hi(e,t){var r=e.callbacks;if(null!==r)for(e.callbacks=null,e=0;e<r.length;e++)di(r[e],t)}var fi=z(null),pi=z(0);function mi(e,t){V(pi,e=dc),V(fi,t),dc=e|t.baseLanes}function gi(){V(pi,dc),V(fi,fi.current)}function yi(){dc=pi.current,U(fi),U(pi)}var vi=0,bi=null,xi=null,wi=null,ki=!1,ji=!1,Si=!1,Ni=0,Ei=0,_i=null,Ai=0;function Ci(){throw Error(o(321))}function Ti(e,t){if(null===t)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Gr(e[r],t[r]))return!1;return!0}function Oi(e,t,r,n,a,i){return vi=i,bi=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,D.H=null===e||null===e.memoizedState?Ko:Wo,Si=!1,i=r(n,a),Si=!1,ji&&(i=Pi(t,r,n,a)),Ii(e),i}function Ii(e){D.H=Ho;var t=null!==xi&&null!==xi.next;if(vi=0,wi=xi=bi=null,ki=!1,Ei=0,_i=null,t)throw Error(o(300));null===e||_s||null!==(e=e.dependencies)&&Sa(e)&&(_s=!0)}function Pi(e,t,r,n){bi=e;var a=0;do{if(ji&&(_i=null),Ei=0,ji=!1,25<=a)throw Error(o(301));if(a+=1,wi=xi=null,null!=e.updateQueue){var i=e.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,null!=i.memoCache&&(i.memoCache.index=0)}D.H=Go,i=t(r,n)}while(ji);return i}function Di(){var e=D.H,t=e.useState()[0];return t="function"===typeof t.then?Ui(t):t,e=e.useState()[0],(null!==xi?xi.memoizedState:null)!==e&&(bi.flags|=1024),t}function Mi(){var e=0!==Ni;return Ni=0,e}function Ri(e,t,r){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r}function Li(e){if(ki){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}ki=!1}vi=0,wi=xi=bi=null,ji=!1,Ei=Ni=0,_i=null}function Fi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===wi?bi.memoizedState=wi=e:wi=wi.next=e,wi}function zi(){if(null===xi){var e=bi.alternate;e=null!==e?e.memoizedState:null}else e=xi.next;var t=null===wi?bi.memoizedState:wi.next;if(null!==t)wi=t,xi=e;else{if(null===e){if(null===bi.alternate)throw Error(o(467));throw Error(o(310))}e={memoizedState:(xi=e).memoizedState,baseState:xi.baseState,baseQueue:xi.baseQueue,queue:xi.queue,next:null},null===wi?bi.memoizedState=wi=e:wi=wi.next=e}return wi}function Ui(e){var t=Ei;return Ei+=1,null===_i&&(_i=[]),e=Xa(_i,e,t),t=bi,null===(null===wi?t.memoizedState:wi.next)&&(t=t.alternate,D.H=null===t||null===t.memoizedState?Ko:Wo),e}function Vi(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return Ui(e);if(e.$$typeof===w)return Ea(e)}throw Error(o(438,String(e)))}function Bi(e){var t=null,r=bi.updateQueue;if(null!==r&&(t=r.memoCache),null==t){var n=bi.alternate;null!==n&&(null!==(n=n.updateQueue)&&(null!=(n=n.memoCache)&&(t={data:n.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===r&&(r={lastEffect:null,events:null,stores:null,memoCache:null},bi.updateQueue=r),r.memoCache=t,void 0===(r=t.data[t.index]))for(r=t.data[t.index]=Array(e),n=0;n<e;n++)r[n]=A;return t.index++,r}function $i(e,t){return"function"===typeof t?t(e):t}function qi(e){return Hi(zi(),xi,e)}function Hi(e,t,r){var n=e.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=r;var a=e.baseQueue,i=n.pending;if(null!==i){if(null!==a){var s=a.next;a.next=i.next,i.next=s}t.baseQueue=a=i,n.pending=null}if(i=e.baseState,null===a)e.memoizedState=i;else{var l=s=null,c=null,u=t=a.next,d=!1;do{var h=-536870913&u.lane;if(h!==u.lane?(ic&h)===h:(vi&h)===h){var f=u.revertLane;if(0===f)null!==c&&(c=c.next={lane:0,revertLane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),h===La&&(d=!0);else{if((vi&f)===f){u=u.next,f===La&&(d=!0);continue}h={lane:0,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=h,s=i):c=c.next=h,bi.lanes|=f,fc|=f}h=u.action,Si&&r(i,h),i=u.hasEagerState?u.eagerState:r(i,h)}else f={lane:h,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=f,s=i):c=c.next=f,bi.lanes|=h,fc|=h;u=u.next}while(null!==u&&u!==t);if(null===c?s=i:c.next=l,!Gr(i,e.memoizedState)&&(_s=!0,d&&null!==(r=Fa)))throw r;e.memoizedState=i,e.baseState=s,e.baseQueue=c,n.lastRenderedState=i}return null===a&&(n.lanes=0),[e.memoizedState,n.dispatch]}function Ki(e){var t=zi(),r=t.queue;if(null===r)throw Error(o(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,i=t.memoizedState;if(null!==a){r.pending=null;var s=a=a.next;do{i=e(i,s.action),s=s.next}while(s!==a);Gr(i,t.memoizedState)||(_s=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function Wi(e,t,r){var n=bi,a=zi(),i=ia;if(i){if(void 0===r)throw Error(o(407));r=r()}else r=t();var s=!Gr((xi||a).memoizedState,r);if(s&&(a.memoizedState=r,_s=!0),a=a.queue,yo(2048,8,Qi.bind(null,n,a,e),[e]),a.getSnapshot!==t||s||null!==wi&&1&wi.memoizedState.tag){if(n.flags|=2048,po(9,{destroy:void 0,resource:void 0},Yi.bind(null,n,a,r,t),null),null===nc)throw Error(o(349));i||0!==(124&vi)||Gi(n,t,r)}return r}function Gi(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},null===(t=bi.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},bi.updateQueue=t,t.stores=[e]):null===(r=t.stores)?t.stores=[e]:r.push(e)}function Yi(e,t,r,n){t.value=r,t.getSnapshot=n,Xi(t)&&Ji(e)}function Qi(e,t,r){return r(function(){Xi(t)&&Ji(e)})}function Xi(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Gr(e,r)}catch(n){return!0}}function Ji(e){var t=On(e,2);null!==t&&Rc(t,e,2)}function Zi(e){var t=Fi();if("function"===typeof e){var r=e;if(e=r(),Si){he(!0);try{r()}finally{he(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$i,lastRenderedState:e},t}function eo(e,t,r,n){return e.baseState=r,Hi(e,xi,"function"===typeof n?n:$i)}function to(e,t,r,n,a){if(Bo(e))throw Error(o(485));if(null!==(e=t.action)){var i={payload:a,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){i.listeners.push(e)}};null!==D.T?r(!0):i.isTransition=!1,n(i),null===(r=t.pending)?(i.next=t.pending=i,ro(t,i)):(i.next=r.next,t.pending=r.next=i)}}function ro(e,t){var r=t.action,n=t.payload,a=e.state;if(t.isTransition){var i=D.T,o={};D.T=o;try{var s=r(a,n),l=D.S;null!==l&&l(o,s),no(e,t,s)}catch(c){io(e,t,c)}finally{D.T=i}}else try{no(e,t,i=r(a,n))}catch(u){io(e,t,u)}}function no(e,t,r){null!==r&&"object"===typeof r&&"function"===typeof r.then?r.then(function(r){ao(e,t,r)},function(r){return io(e,t,r)}):ao(e,t,r)}function ao(e,t,r){t.status="fulfilled",t.value=r,oo(t),e.state=r,null!==(t=e.pending)&&((r=t.next)===t?e.pending=null:(r=r.next,t.next=r,ro(e,r)))}function io(e,t,r){var n=e.pending;if(e.pending=null,null!==n){n=n.next;do{t.status="rejected",t.reason=r,oo(t),t=t.next}while(t!==n)}e.action=null}function oo(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function so(e,t){return t}function lo(e,t){if(ia){var r=nc.formState;if(null!==r){e:{var n=bi;if(ia){if(aa){t:{for(var a=aa,i=sa;8!==a.nodeType;){if(!i){a=null;break t}if(null===(a=yd(a.nextSibling))){a=null;break t}}a="F!"===(i=a.data)||"F"===i?a:null}if(a){aa=yd(a.nextSibling),n="F!"===a.data;break e}}ca(n)}n=!1}n&&(t=r[0])}}return(r=Fi()).memoizedState=r.baseState=t,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:so,lastRenderedState:t},r.queue=n,r=zo.bind(null,bi,n),n.dispatch=r,n=Zi(!1),i=Vo.bind(null,bi,!1,n.queue),a={state:t,dispatch:null,action:e,pending:null},(n=Fi()).queue=a,r=to.bind(null,bi,a,i,r),a.dispatch=r,n.memoizedState=e,[t,r,!1]}function co(e){return uo(zi(),xi,e)}function uo(e,t,r){if(t=Hi(e,t,so)[0],e=qi($i)[0],"object"===typeof t&&null!==t&&"function"===typeof t.then)try{var n=Ui(t)}catch(o){if(o===Ha)throw Wa;throw o}else n=t;var a=(t=zi()).queue,i=a.dispatch;return r!==t.memoizedState&&(bi.flags|=2048,po(9,{destroy:void 0,resource:void 0},ho.bind(null,a,r),null)),[n,i,e]}function ho(e,t){e.action=t}function fo(e){var t=zi(),r=xi;if(null!==r)return uo(t,r,e);zi(),t=t.memoizedState;var n=(r=zi()).queue.dispatch;return r.memoizedState=e,[t,n,!1]}function po(e,t,r,n){return e={tag:e,create:r,deps:n,inst:t,next:null},null===(t=bi.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},bi.updateQueue=t),null===(r=t.lastEffect)?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e),e}function mo(){return zi().memoizedState}function go(e,t,r,n){var a=Fi();n=void 0===n?null:n,bi.flags|=e,a.memoizedState=po(1|t,{destroy:void 0,resource:void 0},r,n)}function yo(e,t,r,n){var a=zi();n=void 0===n?null:n;var i=a.memoizedState.inst;null!==xi&&null!==n&&Ti(n,xi.memoizedState.deps)?a.memoizedState=po(t,i,r,n):(bi.flags|=e,a.memoizedState=po(1|t,i,r,n))}function vo(e,t){go(8390656,8,e,t)}function bo(e,t){yo(2048,8,e,t)}function xo(e,t){return yo(4,2,e,t)}function wo(e,t){return yo(4,4,e,t)}function ko(e,t){if("function"===typeof t){e=e();var r=t(e);return function(){"function"===typeof r?r():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function jo(e,t,r){r=null!==r&&void 0!==r?r.concat([e]):null,yo(4,4,ko.bind(null,t,e),r)}function So(){}function No(e,t){var r=zi();t=void 0===t?null:t;var n=r.memoizedState;return null!==t&&Ti(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Eo(e,t){var r=zi();t=void 0===t?null:t;var n=r.memoizedState;if(null!==t&&Ti(t,n[1]))return n[0];if(n=e(),Si){he(!0);try{e()}finally{he(!1)}}return r.memoizedState=[n,t],n}function _o(e,t,r){return void 0===r||0!==(1073741824&vi)?e.memoizedState=t:(e.memoizedState=r,e=Mc(),bi.lanes|=e,fc|=e,r)}function Ao(e,t,r,n){return Gr(r,t)?r:null!==fi.current?(e=_o(e,r,n),Gr(e,t)||(_s=!0),e):0===(42&vi)?(_s=!0,e.memoizedState=r):(e=Mc(),bi.lanes|=e,fc|=e,t)}function Co(e,t,r,n,a){var i=M.p;M.p=0!==i&&8>i?i:8;var o=D.T,s={};D.T=s,Vo(e,!1,t,r);try{var l=a(),c=D.S;if(null!==c&&c(s,l),null!==l&&"object"===typeof l&&"function"===typeof l.then)Uo(e,t,function(e,t){var r=[],n={status:"pending",value:null,reason:null,then:function(e){r.push(e)}};return e.then(function(){n.status="fulfilled",n.value=t;for(var e=0;e<r.length;e++)(0,r[e])(t)},function(e){for(n.status="rejected",n.reason=e,e=0;e<r.length;e++)(0,r[e])(void 0)}),n}(l,n),Dc());else Uo(e,t,n,Dc())}catch(u){Uo(e,t,{then:function(){},status:"rejected",reason:u},Dc())}finally{M.p=i,D.T=o}}function To(){}function Oo(e,t,r,n){if(5!==e.tag)throw Error(o(476));var a=Io(e).queue;Co(e,a,t,R,null===r?To:function(){return Po(e),r(n)})}function Io(e){var t=e.memoizedState;if(null!==t)return t;var r={};return(t={memoizedState:R,baseState:R,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$i,lastRenderedState:R},next:null}).next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$i,lastRenderedState:r},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function Po(e){Uo(e,Io(e).next.queue,{},Dc())}function Do(){return Ea(Gd)}function Mo(){return zi().memoizedState}function Ro(){return zi().memoizedState}function Lo(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var r=Dc(),n=ii(t,e=ai(r),r);return null!==n&&(Rc(n,t,r),oi(n,t,r)),t={cache:Pa()},void(e.payload=t)}t=t.return}}function Fo(e,t,r){var n=Dc();r={lane:n,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},Bo(e)?$o(t,r):null!==(r=Tn(e,t,r,n))&&(Rc(r,e,n),qo(r,t,n))}function zo(e,t,r){Uo(e,t,r,Dc())}function Uo(e,t,r,n){var a={lane:n,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(Bo(e))$o(t,a);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=i(o,r);if(a.hasEagerState=!0,a.eagerState=s,Gr(s,o))return Cn(e,t,a,0),null===nc&&An(),!1}catch(l){}if(null!==(r=Tn(e,t,a,n)))return Rc(r,e,n),qo(r,t,n),!0}return!1}function Vo(e,t,r,n){if(n={lane:2,revertLane:Cu(),action:n,hasEagerState:!1,eagerState:null,next:null},Bo(e)){if(t)throw Error(o(479))}else null!==(t=Tn(e,r,n,2))&&Rc(t,e,2)}function Bo(e){var t=e.alternate;return e===bi||null!==t&&t===bi}function $o(e,t){ji=ki=!0;var r=e.pending;null===r?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function qo(e,t,r){if(0!==(4194048&r)){var n=t.lanes;r|=n&=e.pendingLanes,t.lanes=r,_e(e,r)}}var Ho={readContext:Ea,use:Vi,useCallback:Ci,useContext:Ci,useEffect:Ci,useImperativeHandle:Ci,useLayoutEffect:Ci,useInsertionEffect:Ci,useMemo:Ci,useReducer:Ci,useRef:Ci,useState:Ci,useDebugValue:Ci,useDeferredValue:Ci,useTransition:Ci,useSyncExternalStore:Ci,useId:Ci,useHostTransitionStatus:Ci,useFormState:Ci,useActionState:Ci,useOptimistic:Ci,useMemoCache:Ci,useCacheRefresh:Ci},Ko={readContext:Ea,use:Vi,useCallback:function(e,t){return Fi().memoizedState=[e,void 0===t?null:t],e},useContext:Ea,useEffect:vo,useImperativeHandle:function(e,t,r){r=null!==r&&void 0!==r?r.concat([e]):null,go(4194308,4,ko.bind(null,t,e),r)},useLayoutEffect:function(e,t){return go(4194308,4,e,t)},useInsertionEffect:function(e,t){go(4,2,e,t)},useMemo:function(e,t){var r=Fi();t=void 0===t?null:t;var n=e();if(Si){he(!0);try{e()}finally{he(!1)}}return r.memoizedState=[n,t],n},useReducer:function(e,t,r){var n=Fi();if(void 0!==r){var a=r(t);if(Si){he(!0);try{r(t)}finally{he(!1)}}}else a=t;return n.memoizedState=n.baseState=a,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:a},n.queue=e,e=e.dispatch=Fo.bind(null,bi,e),[n.memoizedState,e]},useRef:function(e){return e={current:e},Fi().memoizedState=e},useState:function(e){var t=(e=Zi(e)).queue,r=zo.bind(null,bi,t);return t.dispatch=r,[e.memoizedState,r]},useDebugValue:So,useDeferredValue:function(e,t){return _o(Fi(),e,t)},useTransition:function(){var e=Zi(!1);return e=Co.bind(null,bi,e.queue,!0,!1),Fi().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,r){var n=bi,a=Fi();if(ia){if(void 0===r)throw Error(o(407));r=r()}else{if(r=t(),null===nc)throw Error(o(349));0!==(124&ic)||Gi(n,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,vo(Qi.bind(null,n,i,e),[e]),n.flags|=2048,po(9,{destroy:void 0,resource:void 0},Yi.bind(null,n,i,r,t),null),r},useId:function(){var e=Fi(),t=nc.identifierPrefix;if(ia){var r=Jn;t="\xab"+t+"R"+(r=(Xn&~(1<<32-fe(Xn)-1)).toString(32)+r),0<(r=Ni++)&&(t+="H"+r.toString(32)),t+="\xbb"}else t="\xab"+t+"r"+(r=Ai++).toString(32)+"\xbb";return e.memoizedState=t},useHostTransitionStatus:Do,useFormState:lo,useActionState:lo,useOptimistic:function(e){var t=Fi();t.memoizedState=t.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=r,t=Vo.bind(null,bi,!0,r),r.dispatch=t,[e,t]},useMemoCache:Bi,useCacheRefresh:function(){return Fi().memoizedState=Lo.bind(null,bi)}},Wo={readContext:Ea,use:Vi,useCallback:No,useContext:Ea,useEffect:bo,useImperativeHandle:jo,useInsertionEffect:xo,useLayoutEffect:wo,useMemo:Eo,useReducer:qi,useRef:mo,useState:function(){return qi($i)},useDebugValue:So,useDeferredValue:function(e,t){return Ao(zi(),xi.memoizedState,e,t)},useTransition:function(){var e=qi($i)[0],t=zi().memoizedState;return["boolean"===typeof e?e:Ui(e),t]},useSyncExternalStore:Wi,useId:Mo,useHostTransitionStatus:Do,useFormState:co,useActionState:co,useOptimistic:function(e,t){return eo(zi(),0,e,t)},useMemoCache:Bi,useCacheRefresh:Ro},Go={readContext:Ea,use:Vi,useCallback:No,useContext:Ea,useEffect:bo,useImperativeHandle:jo,useInsertionEffect:xo,useLayoutEffect:wo,useMemo:Eo,useReducer:Ki,useRef:mo,useState:function(){return Ki($i)},useDebugValue:So,useDeferredValue:function(e,t){var r=zi();return null===xi?_o(r,e,t):Ao(r,xi.memoizedState,e,t)},useTransition:function(){var e=Ki($i)[0],t=zi().memoizedState;return["boolean"===typeof e?e:Ui(e),t]},useSyncExternalStore:Wi,useId:Mo,useHostTransitionStatus:Do,useFormState:fo,useActionState:fo,useOptimistic:function(e,t){var r=zi();return null!==xi?eo(r,0,e,t):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:Bi,useCacheRefresh:Ro},Yo=null,Qo=0;function Xo(e){var t=Qo;return Qo+=1,null===Yo&&(Yo=[]),Xa(Yo,e,t)}function Jo(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function Zo(e,t){if(t.$$typeof===f)throw Error(o(525));throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function es(e){return(0,e._init)(e._payload)}function ts(e){function t(t,r){if(e){var n=t.deletions;null===n?(t.deletions=[r],t.flags|=16):n.push(r)}}function r(r,n){if(!e)return null;for(;null!==n;)t(r,n),n=n.sibling;return null}function n(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function a(e,t){return(e=Fn(e,t)).index=0,e.sibling=null,e}function i(t,r,n){return t.index=n,e?null!==(n=t.alternate)?(n=n.index)<r?(t.flags|=67108866,r):n:(t.flags|=67108866,r):(t.flags|=1048576,r)}function s(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function l(e,t,r,n){return null===t||6!==t.tag?((t=Bn(r,e.mode,n)).return=e,t):((t=a(t,r)).return=e,t)}function c(e,t,r,n){var i=r.type;return i===g?d(e,t,r.props.children,n,r.key):null!==t&&(t.elementType===i||"object"===typeof i&&null!==i&&i.$$typeof===E&&es(i)===t.type)?(Jo(t=a(t,r.props),r),t.return=e,t):(Jo(t=Un(r.type,r.key,r.props,null,e.mode,n),r),t.return=e,t)}function u(e,t,r,n){return null===t||4!==t.tag||t.stateNode.containerInfo!==r.containerInfo||t.stateNode.implementation!==r.implementation?((t=$n(r,e.mode,n)).return=e,t):((t=a(t,r.children||[])).return=e,t)}function d(e,t,r,n,i){return null===t||7!==t.tag?((t=Vn(r,e.mode,n,i)).return=e,t):((t=a(t,r)).return=e,t)}function h(e,t,r){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=Bn(""+t,e.mode,r)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case p:return Jo(r=Un(t.type,t.key,t.props,null,e.mode,r),t),r.return=e,r;case m:return(t=$n(t,e.mode,r)).return=e,t;case E:return h(e,t=(0,t._init)(t._payload),r)}if(P(t)||T(t))return(t=Vn(t,e.mode,r,null)).return=e,t;if("function"===typeof t.then)return h(e,Xo(t),r);if(t.$$typeof===w)return h(e,_a(e,t),r);Zo(e,t)}return null}function f(e,t,r,n){var a=null!==t?t.key:null;if("string"===typeof r&&""!==r||"number"===typeof r||"bigint"===typeof r)return null!==a?null:l(e,t,""+r,n);if("object"===typeof r&&null!==r){switch(r.$$typeof){case p:return r.key===a?c(e,t,r,n):null;case m:return r.key===a?u(e,t,r,n):null;case E:return f(e,t,r=(a=r._init)(r._payload),n)}if(P(r)||T(r))return null!==a?null:d(e,t,r,n,null);if("function"===typeof r.then)return f(e,t,Xo(r),n);if(r.$$typeof===w)return f(e,t,_a(e,r),n);Zo(e,r)}return null}function y(e,t,r,n,a){if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return l(t,e=e.get(r)||null,""+n,a);if("object"===typeof n&&null!==n){switch(n.$$typeof){case p:return c(t,e=e.get(null===n.key?r:n.key)||null,n,a);case m:return u(t,e=e.get(null===n.key?r:n.key)||null,n,a);case E:return y(e,t,r,n=(0,n._init)(n._payload),a)}if(P(n)||T(n))return d(t,e=e.get(r)||null,n,a,null);if("function"===typeof n.then)return y(e,t,r,Xo(n),a);if(n.$$typeof===w)return y(e,t,r,_a(t,n),a);Zo(t,n)}return null}function v(l,c,u,d){if("object"===typeof u&&null!==u&&u.type===g&&null===u.key&&(u=u.props.children),"object"===typeof u&&null!==u){switch(u.$$typeof){case p:e:{for(var b=u.key;null!==c;){if(c.key===b){if((b=u.type)===g){if(7===c.tag){r(l,c.sibling),(d=a(c,u.props.children)).return=l,l=d;break e}}else if(c.elementType===b||"object"===typeof b&&null!==b&&b.$$typeof===E&&es(b)===c.type){r(l,c.sibling),Jo(d=a(c,u.props),u),d.return=l,l=d;break e}r(l,c);break}t(l,c),c=c.sibling}u.type===g?((d=Vn(u.props.children,l.mode,d,u.key)).return=l,l=d):(Jo(d=Un(u.type,u.key,u.props,null,l.mode,d),u),d.return=l,l=d)}return s(l);case m:e:{for(b=u.key;null!==c;){if(c.key===b){if(4===c.tag&&c.stateNode.containerInfo===u.containerInfo&&c.stateNode.implementation===u.implementation){r(l,c.sibling),(d=a(c,u.children||[])).return=l,l=d;break e}r(l,c);break}t(l,c),c=c.sibling}(d=$n(u,l.mode,d)).return=l,l=d}return s(l);case E:return v(l,c,u=(b=u._init)(u._payload),d)}if(P(u))return function(a,o,s,l){for(var c=null,u=null,d=o,p=o=0,m=null;null!==d&&p<s.length;p++){d.index>p?(m=d,d=null):m=d.sibling;var g=f(a,d,s[p],l);if(null===g){null===d&&(d=m);break}e&&d&&null===g.alternate&&t(a,d),o=i(g,o,p),null===u?c=g:u.sibling=g,u=g,d=m}if(p===s.length)return r(a,d),ia&&Zn(a,p),c;if(null===d){for(;p<s.length;p++)null!==(d=h(a,s[p],l))&&(o=i(d,o,p),null===u?c=d:u.sibling=d,u=d);return ia&&Zn(a,p),c}for(d=n(d);p<s.length;p++)null!==(m=y(d,a,p,s[p],l))&&(e&&null!==m.alternate&&d.delete(null===m.key?p:m.key),o=i(m,o,p),null===u?c=m:u.sibling=m,u=m);return e&&d.forEach(function(e){return t(a,e)}),ia&&Zn(a,p),c}(l,c,u,d);if(T(u)){if("function"!==typeof(b=T(u)))throw Error(o(150));return function(a,s,l,c){if(null==l)throw Error(o(151));for(var u=null,d=null,p=s,m=s=0,g=null,v=l.next();null!==p&&!v.done;m++,v=l.next()){p.index>m?(g=p,p=null):g=p.sibling;var b=f(a,p,v.value,c);if(null===b){null===p&&(p=g);break}e&&p&&null===b.alternate&&t(a,p),s=i(b,s,m),null===d?u=b:d.sibling=b,d=b,p=g}if(v.done)return r(a,p),ia&&Zn(a,m),u;if(null===p){for(;!v.done;m++,v=l.next())null!==(v=h(a,v.value,c))&&(s=i(v,s,m),null===d?u=v:d.sibling=v,d=v);return ia&&Zn(a,m),u}for(p=n(p);!v.done;m++,v=l.next())null!==(v=y(p,a,m,v.value,c))&&(e&&null!==v.alternate&&p.delete(null===v.key?m:v.key),s=i(v,s,m),null===d?u=v:d.sibling=v,d=v);return e&&p.forEach(function(e){return t(a,e)}),ia&&Zn(a,m),u}(l,c,u=b.call(u),d)}if("function"===typeof u.then)return v(l,c,Xo(u),d);if(u.$$typeof===w)return v(l,c,_a(l,u),d);Zo(l,u)}return"string"===typeof u&&""!==u||"number"===typeof u||"bigint"===typeof u?(u=""+u,null!==c&&6===c.tag?(r(l,c.sibling),(d=a(c,u)).return=l,l=d):(r(l,c),(d=Bn(u,l.mode,d)).return=l,l=d),s(l)):r(l,c)}return function(e,t,r,n){try{Qo=0;var a=v(e,t,r,n);return Yo=null,a}catch(o){if(o===Ha||o===Wa)throw o;var i=Rn(29,o,null,e.mode);return i.lanes=n,i.return=e,i}}}var rs=ts(!0),ns=ts(!1),as=z(null),is=null;function os(e){var t=e.alternate;V(us,1&us.current),V(as,e),null===is&&(null===t||null!==fi.current||null!==t.memoizedState)&&(is=e)}function ss(e){if(22===e.tag){if(V(us,us.current),V(as,e),null===is){var t=e.alternate;null!==t&&null!==t.memoizedState&&(is=e)}}else ls()}function ls(){V(us,us.current),V(as,as.current)}function cs(e){U(as),is===e&&(is=null),U(us)}var us=z(0);function ds(e){for(var t=e;null!==t;){if(13===t.tag){var r=t.memoizedState;if(null!==r&&(null===(r=r.dehydrated)||"$?"===r.data||gd(r)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function hs(e,t,r,n){r=null===(r=r(n,t=e.memoizedState))||void 0===r?t:h({},t,r),e.memoizedState=r,0===e.lanes&&(e.updateQueue.baseState=r)}var fs={enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Dc(),a=ai(n);a.payload=t,void 0!==r&&null!==r&&(a.callback=r),null!==(t=ii(e,a,n))&&(Rc(t,e,n),oi(t,e,n))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Dc(),a=ai(n);a.tag=1,a.payload=t,void 0!==r&&null!==r&&(a.callback=r),null!==(t=ii(e,a,n))&&(Rc(t,e,n),oi(t,e,n))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Dc(),n=ai(r);n.tag=2,void 0!==t&&null!==t&&(n.callback=t),null!==(t=ii(e,n,r))&&(Rc(t,e,r),oi(t,e,r))}};function ps(e,t,r,n,a,i,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(n,i,o):!t.prototype||!t.prototype.isPureReactComponent||(!Yr(r,n)||!Yr(a,i))}function ms(e,t,r,n){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(r,n),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&fs.enqueueReplaceState(t,t.state,null)}function gs(e,t){var r=t;if("ref"in t)for(var n in r={},t)"ref"!==n&&(r[n]=t[n]);if(e=e.defaultProps)for(var a in r===t&&(r=h({},r)),e)void 0===r[a]&&(r[a]=e[a]);return r}var ys="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function vs(e){ys(e)}function bs(e){console.error(e)}function xs(e){ys(e)}function ws(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(r){setTimeout(function(){throw r})}}function ks(e,t,r){try{(0,e.onCaughtError)(r.value,{componentStack:r.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(n){setTimeout(function(){throw n})}}function js(e,t,r){return(r=ai(r)).tag=3,r.payload={element:null},r.callback=function(){ws(e,t)},r}function Ss(e){return(e=ai(e)).tag=3,e}function Ns(e,t,r,n){var a=r.type.getDerivedStateFromError;if("function"===typeof a){var i=n.value;e.payload=function(){return a(i)},e.callback=function(){ks(t,r,n)}}var o=r.stateNode;null!==o&&"function"===typeof o.componentDidCatch&&(e.callback=function(){ks(t,r,n),"function"!==typeof a&&(null===Sc?Sc=new Set([this]):Sc.add(this));var e=n.stack;this.componentDidCatch(n.value,{componentStack:null!==e?e:""})})}var Es=Error(o(461)),_s=!1;function As(e,t,r,n){t.child=null===e?ns(t,null,r,n):rs(t,e.child,r,n)}function Cs(e,t,r,n,a){r=r.render;var i=t.ref;if("ref"in n){var o={};for(var s in n)"ref"!==s&&(o[s]=n[s])}else o=n;return Na(t),n=Oi(e,t,r,o,i,a),s=Mi(),null===e||_s?(ia&&s&&ta(t),t.flags|=1,As(e,t,n,a),t.child):(Ri(e,t,a),Ys(e,t,a))}function Ts(e,t,r,n,a){if(null===e){var i=r.type;return"function"!==typeof i||Ln(i)||void 0!==i.defaultProps||null!==r.compare?((e=Un(r.type,null,n,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,Os(e,t,i,n,a))}if(i=e.child,!Qs(e,a)){var o=i.memoizedProps;if((r=null!==(r=r.compare)?r:Yr)(o,n)&&e.ref===t.ref)return Ys(e,t,a)}return t.flags|=1,(e=Fn(i,n)).ref=t.ref,e.return=t,t.child=e}function Os(e,t,r,n,a){if(null!==e){var i=e.memoizedProps;if(Yr(i,n)&&e.ref===t.ref){if(_s=!1,t.pendingProps=n=i,!Qs(e,a))return t.lanes=e.lanes,Ys(e,t,a);0!==(131072&e.flags)&&(_s=!0)}}return Ms(e,t,r,n,a)}function Is(e,t,r){var n=t.pendingProps,a=n.children,i=null!==e?e.memoizedState:null;if("hidden"===n.mode){if(0!==(128&t.flags)){if(n=null!==i?i.baseLanes|r:r,null!==e){for(a=t.child=e.child,i=0;null!==a;)i=i|a.lanes|a.childLanes,a=a.sibling;t.childLanes=i&~n}else t.childLanes=0,t.child=null;return Ps(e,t,n,r)}if(0===(536870912&r))return t.lanes=t.childLanes=536870912,Ps(e,t,null!==i?i.baseLanes|r:r,r);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&$a(0,null!==i?i.cachePool:null),null!==i?mi(t,i):gi(),ss(t)}else null!==i?($a(0,i.cachePool),mi(t,i),ls(),t.memoizedState=null):(null!==e&&$a(0,null),gi(),ls());return As(e,t,a,r),t.child}function Ps(e,t,r,n){var a=Ba();return a=null===a?null:{parent:Ia._currentValue,pool:a},t.memoizedState={baseLanes:r,cachePool:a},null!==e&&$a(0,null),gi(),ss(t),null!==e&&ja(e,t,n,!0),null}function Ds(e,t){var r=t.ref;if(null===r)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!==typeof r&&"object"!==typeof r)throw Error(o(284));null!==e&&e.ref===r||(t.flags|=4194816)}}function Ms(e,t,r,n,a){return Na(t),r=Oi(e,t,r,n,void 0,a),n=Mi(),null===e||_s?(ia&&n&&ta(t),t.flags|=1,As(e,t,r,a),t.child):(Ri(e,t,a),Ys(e,t,a))}function Rs(e,t,r,n,a,i){return Na(t),t.updateQueue=null,r=Pi(t,n,r,a),Ii(e),n=Mi(),null===e||_s?(ia&&n&&ta(t),t.flags|=1,As(e,t,r,i),t.child):(Ri(e,t,i),Ys(e,t,i))}function Ls(e,t,r,n,a){if(Na(t),null===t.stateNode){var i=Dn,o=r.contextType;"object"===typeof o&&null!==o&&(i=Ea(o)),i=new r(n,i),t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,i.updater=fs,t.stateNode=i,i._reactInternals=t,(i=t.stateNode).props=n,i.state=t.memoizedState,i.refs={},ri(t),o=r.contextType,i.context="object"===typeof o&&null!==o?Ea(o):Dn,i.state=t.memoizedState,"function"===typeof(o=r.getDerivedStateFromProps)&&(hs(t,r,o,n),i.state=t.memoizedState),"function"===typeof r.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(o=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),o!==i.state&&fs.enqueueReplaceState(i,i.state,null),ui(t,n,i,a),ci(),i.state=t.memoizedState),"function"===typeof i.componentDidMount&&(t.flags|=4194308),n=!0}else if(null===e){i=t.stateNode;var s=t.memoizedProps,l=gs(r,s);i.props=l;var c=i.context,u=r.contextType;o=Dn,"object"===typeof u&&null!==u&&(o=Ea(u));var d=r.getDerivedStateFromProps;u="function"===typeof d||"function"===typeof i.getSnapshotBeforeUpdate,s=t.pendingProps!==s,u||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(s||c!==o)&&ms(t,i,n,o),ti=!1;var h=t.memoizedState;i.state=h,ui(t,n,i,a),ci(),c=t.memoizedState,s||h!==c||ti?("function"===typeof d&&(hs(t,r,d,n),c=t.memoizedState),(l=ti||ps(t,r,l,n,h,c,o))?(u||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||("function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"===typeof i.componentDidMount&&(t.flags|=4194308)):("function"===typeof i.componentDidMount&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),i.props=n,i.state=c,i.context=o,n=l):("function"===typeof i.componentDidMount&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,ni(e,t),u=gs(r,o=t.memoizedProps),i.props=u,d=t.pendingProps,h=i.context,c=r.contextType,l=Dn,"object"===typeof c&&null!==c&&(l=Ea(c)),(c="function"===typeof(s=r.getDerivedStateFromProps)||"function"===typeof i.getSnapshotBeforeUpdate)||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(o!==d||h!==l)&&ms(t,i,n,l),ti=!1,h=t.memoizedState,i.state=h,ui(t,n,i,a),ci();var f=t.memoizedState;o!==d||h!==f||ti||null!==e&&null!==e.dependencies&&Sa(e.dependencies)?("function"===typeof s&&(hs(t,r,s,n),f=t.memoizedState),(u=ti||ps(t,r,u,n,h,f,l)||null!==e&&null!==e.dependencies&&Sa(e.dependencies))?(c||"function"!==typeof i.UNSAFE_componentWillUpdate&&"function"!==typeof i.componentWillUpdate||("function"===typeof i.componentWillUpdate&&i.componentWillUpdate(n,f,l),"function"===typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(n,f,l)),"function"===typeof i.componentDidUpdate&&(t.flags|=4),"function"===typeof i.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof i.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=f),i.props=n,i.state=f,i.context=l,n=u):("function"!==typeof i.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return i=n,Ds(e,t),n=0!==(128&t.flags),i||n?(i=t.stateNode,r=n&&"function"!==typeof r.getDerivedStateFromError?null:i.render(),t.flags|=1,null!==e&&n?(t.child=rs(t,e.child,null,a),t.child=rs(t,null,r,a)):As(e,t,r,a),t.memoizedState=i.state,e=t.child):e=Ys(e,t,a),e}function Fs(e,t,r,n){return fa(),t.flags|=256,As(e,t,r,n),t.child}var zs={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Us(e){return{baseLanes:e,cachePool:qa()}}function Vs(e,t,r){return e=null!==e?e.childLanes&~r:0,t&&(e|=gc),e}function Bs(e,t,r){var n,a=t.pendingProps,i=!1,s=0!==(128&t.flags);if((n=s)||(n=(null===e||null!==e.memoizedState)&&0!==(2&us.current)),n&&(i=!0,t.flags&=-129),n=0!==(32&t.flags),t.flags&=-33,null===e){if(ia){if(i?os(t):ls(),ia){var l,c=aa;if(l=c){e:{for(l=c,c=sa;8!==l.nodeType;){if(!c){c=null;break e}if(null===(l=yd(l.nextSibling))){c=null;break e}}c=l}null!==c?(t.memoizedState={dehydrated:c,treeContext:null!==Qn?{id:Xn,overflow:Jn}:null,retryLane:536870912,hydrationErrors:null},(l=Rn(18,null,null,0)).stateNode=c,l.return=t,t.child=l,na=t,aa=null,l=!0):l=!1}l||ca(t)}if(null!==(c=t.memoizedState)&&null!==(c=c.dehydrated))return gd(c)?t.lanes=32:t.lanes=536870912,null;cs(t)}return c=a.children,a=a.fallback,i?(ls(),c=qs({mode:"hidden",children:c},i=t.mode),a=Vn(a,i,r,null),c.return=t,a.return=t,c.sibling=a,t.child=c,(i=t.child).memoizedState=Us(r),i.childLanes=Vs(e,n,r),t.memoizedState=zs,a):(os(t),$s(t,c))}if(null!==(l=e.memoizedState)&&null!==(c=l.dehydrated)){if(s)256&t.flags?(os(t),t.flags&=-257,t=Hs(e,t,r)):null!==t.memoizedState?(ls(),t.child=e.child,t.flags|=128,t=null):(ls(),i=a.fallback,c=t.mode,a=qs({mode:"visible",children:a.children},c),(i=Vn(i,c,r,null)).flags|=2,a.return=t,i.return=t,a.sibling=i,t.child=a,rs(t,e.child,null,r),(a=t.child).memoizedState=Us(r),a.childLanes=Vs(e,n,r),t.memoizedState=zs,t=i);else if(os(t),gd(c)){if(n=c.nextSibling&&c.nextSibling.dataset)var u=n.dgst;n=u,(a=Error(o(419))).stack="",a.digest=n,ma({value:a,source:null,stack:null}),t=Hs(e,t,r)}else if(_s||ja(e,t,r,!1),n=0!==(r&e.childLanes),_s||n){if(null!==(n=nc)&&(0!==(a=0!==((a=0!==(42&(a=r&-r))?1:Ae(a))&(n.suspendedLanes|r))?0:a)&&a!==l.retryLane))throw l.retryLane=a,On(e,a),Rc(n,e,a),Es;"$?"===c.data||Wc(),t=Hs(e,t,r)}else"$?"===c.data?(t.flags|=192,t.child=e.child,t=null):(e=l.treeContext,aa=yd(c.nextSibling),na=t,ia=!0,oa=null,sa=!1,null!==e&&(Gn[Yn++]=Xn,Gn[Yn++]=Jn,Gn[Yn++]=Qn,Xn=e.id,Jn=e.overflow,Qn=t),(t=$s(t,a.children)).flags|=4096);return t}return i?(ls(),i=a.fallback,c=t.mode,u=(l=e.child).sibling,(a=Fn(l,{mode:"hidden",children:a.children})).subtreeFlags=65011712&l.subtreeFlags,null!==u?i=Fn(u,i):(i=Vn(i,c,r,null)).flags|=2,i.return=t,a.return=t,a.sibling=i,t.child=a,a=i,i=t.child,null===(c=e.child.memoizedState)?c=Us(r):(null!==(l=c.cachePool)?(u=Ia._currentValue,l=l.parent!==u?{parent:u,pool:u}:l):l=qa(),c={baseLanes:c.baseLanes|r,cachePool:l}),i.memoizedState=c,i.childLanes=Vs(e,n,r),t.memoizedState=zs,a):(os(t),e=(r=e.child).sibling,(r=Fn(r,{mode:"visible",children:a.children})).return=t,r.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r)}function $s(e,t){return(t=qs({mode:"visible",children:t},e.mode)).return=e,e.child=t}function qs(e,t){return(e=Rn(22,e,null,t)).lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Hs(e,t,r){return rs(t,e.child,null,r),(e=$s(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ks(e,t,r){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),wa(e.return,t,r)}function Ws(e,t,r,n,a){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=a)}function Gs(e,t,r){var n=t.pendingProps,a=n.revealOrder,i=n.tail;if(As(e,t,n.children,r),0!==(2&(n=us.current)))n=1&n|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ks(e,r,t);else if(19===e.tag)Ks(e,r,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}switch(V(us,n),a){case"forwards":for(r=t.child,a=null;null!==r;)null!==(e=r.alternate)&&null===ds(e)&&(a=r),r=r.sibling;null===(r=a)?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),Ws(t,!1,a,r,i);break;case"backwards":for(r=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===ds(e)){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}Ws(t,!0,r,null,i);break;case"together":Ws(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ys(e,t,r){if(null!==e&&(t.dependencies=e.dependencies),fc|=t.lanes,0===(r&t.childLanes)){if(null===e)return null;if(ja(e,t,r,!1),0===(r&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(r=Fn(e=t.child,e.pendingProps),t.child=r,r.return=t;null!==e.sibling;)e=e.sibling,(r=r.sibling=Fn(e,e.pendingProps)).return=t;r.sibling=null}return t.child}function Qs(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Sa(e))}function Xs(e,t,r){if(null!==e)if(e.memoizedProps!==t.pendingProps)_s=!0;else{if(!Qs(e,r)&&0===(128&t.flags))return _s=!1,function(e,t,r){switch(t.tag){case 3:K(t,t.stateNode.containerInfo),ba(0,Ia,e.memoizedState.cache),fa();break;case 27:case 5:G(t);break;case 4:K(t,t.stateNode.containerInfo);break;case 10:ba(0,t.type,t.memoizedProps.value);break;case 13:var n=t.memoizedState;if(null!==n)return null!==n.dehydrated?(os(t),t.flags|=128,null):0!==(r&t.child.childLanes)?Bs(e,t,r):(os(t),null!==(e=Ys(e,t,r))?e.sibling:null);os(t);break;case 19:var a=0!==(128&e.flags);if((n=0!==(r&t.childLanes))||(ja(e,t,r,!1),n=0!==(r&t.childLanes)),a){if(n)return Gs(e,t,r);t.flags|=128}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),V(us,us.current),n)break;return null;case 22:case 23:return t.lanes=0,Is(e,t,r);case 24:ba(0,Ia,e.memoizedState.cache)}return Ys(e,t,r)}(e,t,r);_s=0!==(131072&e.flags)}else _s=!1,ia&&0!==(1048576&t.flags)&&ea(t,Wn,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var n=t.elementType,a=n._init;if(n=a(n._payload),t.type=n,"function"!==typeof n){if(void 0!==n&&null!==n){if((a=n.$$typeof)===k){t.tag=11,t=Cs(null,t,n,e,r);break e}if(a===N){t.tag=14,t=Ts(null,t,n,e,r);break e}}throw t=I(n)||n,Error(o(306,t,""))}Ln(n)?(e=gs(n,e),t.tag=1,t=Ls(null,t,n,e,r)):(t.tag=0,t=Ms(null,t,n,e,r))}return t;case 0:return Ms(e,t,t.type,t.pendingProps,r);case 1:return Ls(e,t,n=t.type,a=gs(n,t.pendingProps),r);case 3:e:{if(K(t,t.stateNode.containerInfo),null===e)throw Error(o(387));n=t.pendingProps;var i=t.memoizedState;a=i.element,ni(e,t),ui(t,n,null,r);var s=t.memoizedState;if(n=s.cache,ba(0,Ia,n),n!==i.cache&&ka(t,[Ia],r,!0),ci(),n=s.element,i.isDehydrated){if(i={element:n,isDehydrated:!1,cache:s.cache},t.updateQueue.baseState=i,t.memoizedState=i,256&t.flags){t=Fs(e,t,n,r);break e}if(n!==a){ma(a=Sn(Error(o(424)),t)),t=Fs(e,t,n,r);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(aa=yd(e.firstChild),na=t,ia=!0,oa=null,sa=!0,r=ns(t,null,n,r),t.child=r;r;)r.flags=-3&r.flags|4096,r=r.sibling}else{if(fa(),n===a){t=Ys(e,t,r);break e}As(e,t,n,r)}t=t.child}return t;case 26:return Ds(e,t),null===e?(r=Ad(t.type,null,t.pendingProps,null))?t.memoizedState=r:ia||(r=t.type,e=t.pendingProps,(n=nd(q.current).createElement(r))[Ie]=t,n[Pe]=e,ed(n,r,e),He(n),t.stateNode=n):t.memoizedState=Ad(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return G(t),null===e&&ia&&(n=t.stateNode=xd(t.type,t.pendingProps,q.current),na=t,sa=!0,a=aa,fd(t.type)?(vd=a,aa=yd(n.firstChild)):aa=a),As(e,t,t.pendingProps.children,r),Ds(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&ia&&((a=n=aa)&&(null!==(n=function(e,t,r,n){for(;1===e.nodeType;){var a=r;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!n&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(n){if(!e[ze])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(i=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(i!==a.rel||e.getAttribute("href")!==(null==a.href||""===a.href?null:a.href)||e.getAttribute("crossorigin")!==(null==a.crossOrigin?null:a.crossOrigin)||e.getAttribute("title")!==(null==a.title?null:a.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((i=e.getAttribute("src"))!==(null==a.src?null:a.src)||e.getAttribute("type")!==(null==a.type?null:a.type)||e.getAttribute("crossorigin")!==(null==a.crossOrigin?null:a.crossOrigin))&&i&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var i=null==a.name?null:""+a.name;if("hidden"===a.type&&e.getAttribute("name")===i)return e}if(null===(e=yd(e.nextSibling)))break}return null}(n,t.type,t.pendingProps,sa))?(t.stateNode=n,na=t,aa=yd(n.firstChild),sa=!1,a=!0):a=!1),a||ca(t)),G(t),a=t.type,i=t.pendingProps,s=null!==e?e.memoizedProps:null,n=i.children,od(a,i)?n=null:null!==s&&od(a,s)&&(t.flags|=32),null!==t.memoizedState&&(a=Oi(e,t,Di,null,null,r),Gd._currentValue=a),Ds(e,t),As(e,t,n,r),t.child;case 6:return null===e&&ia&&((e=r=aa)&&(null!==(r=function(e,t,r){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!r)return null;if(null===(e=yd(e.nextSibling)))return null}return e}(r,t.pendingProps,sa))?(t.stateNode=r,na=t,aa=null,e=!0):e=!1),e||ca(t)),null;case 13:return Bs(e,t,r);case 4:return K(t,t.stateNode.containerInfo),n=t.pendingProps,null===e?t.child=rs(t,null,n,r):As(e,t,n,r),t.child;case 11:return Cs(e,t,t.type,t.pendingProps,r);case 7:return As(e,t,t.pendingProps,r),t.child;case 8:case 12:return As(e,t,t.pendingProps.children,r),t.child;case 10:return n=t.pendingProps,ba(0,t.type,n.value),As(e,t,n.children,r),t.child;case 9:return a=t.type._context,n=t.pendingProps.children,Na(t),n=n(a=Ea(a)),t.flags|=1,As(e,t,n,r),t.child;case 14:return Ts(e,t,t.type,t.pendingProps,r);case 15:return Os(e,t,t.type,t.pendingProps,r);case 19:return Gs(e,t,r);case 31:return n=t.pendingProps,r=t.mode,n={mode:n.mode,children:n.children},null===e?((r=qs(n,r)).ref=t.ref,t.child=r,r.return=t,t=r):((r=Fn(e.child,n)).ref=t.ref,t.child=r,r.return=t,t=r),t;case 22:return Is(e,t,r);case 24:return Na(t),n=Ea(Ia),null===e?(null===(a=Ba())&&(a=nc,i=Pa(),a.pooledCache=i,i.refCount++,null!==i&&(a.pooledCacheLanes|=r),a=i),t.memoizedState={parent:n,cache:a},ri(t),ba(0,Ia,a)):(0!==(e.lanes&r)&&(ni(e,t),ui(t,null,null,r),ci()),a=e.memoizedState,i=t.memoizedState,a.parent!==n?(a={parent:n,cache:n},t.memoizedState=a,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=a),ba(0,Ia,n)):(n=i.cache,ba(0,Ia,n),n!==a.cache&&ka(t,[Ia],r,!0))),As(e,t,t.pendingProps.children,r),t.child;case 29:throw t.pendingProps}throw Error(o(156,t.tag))}function Js(e){e.flags|=4}function Zs(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!Vd(t)){if(null!==(t=as.current)&&((4194048&ic)===ic?null!==is:(62914560&ic)!==ic&&0===(536870912&ic)||t!==is))throw Ja=Ga,Ka;e.flags|=8192}}function el(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?je():536870912,e.lanes|=t,yc|=t)}function tl(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;null!==t;)null!==t.alternate&&(r=t),t=t.sibling;null===r?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;null!==r;)null!==r.alternate&&(n=r),r=r.sibling;null===n?t||null===e.tail?e.tail=null:e.tail.sibling=null:n.sibling=null}}function rl(e){var t=null!==e.alternate&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;null!==a;)r|=a.lanes|a.childLanes,n|=65011712&a.subtreeFlags,n|=65011712&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function nl(e,t,r){var n=t.pendingProps;switch(ra(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return rl(t),null;case 3:return r=t.stateNode,n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),xa(Ia),W(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ha(t)?Js(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,pa())),rl(t),null;case 26:return r=t.memoizedState,null===e?(Js(t),null!==r?(rl(t),Zs(t,r)):(rl(t),t.flags&=-16777217)):r?r!==e.memoizedState?(Js(t),rl(t),Zs(t,r)):(rl(t),t.flags&=-16777217):(e.memoizedProps!==n&&Js(t),rl(t),t.flags&=-16777217),null;case 27:Y(t),r=q.current;var a=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==n&&Js(t);else{if(!n){if(null===t.stateNode)throw Error(o(166));return rl(t),null}e=B.current,ha(t)?ua(t):(e=xd(a,n,r),t.stateNode=e,Js(t))}return rl(t),null;case 5:if(Y(t),r=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==n&&Js(t);else{if(!n){if(null===t.stateNode)throw Error(o(166));return rl(t),null}if(e=B.current,ha(t))ua(t);else{switch(a=nd(q.current),e){case 1:e=a.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:e=a.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":e=a.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":e=a.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":(e=a.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"===typeof n.is?a.createElement("select",{is:n.is}):a.createElement("select"),n.multiple?e.multiple=!0:n.size&&(e.size=n.size);break;default:e="string"===typeof n.is?a.createElement(r,{is:n.is}):a.createElement(r)}}e[Ie]=t,e[Pe]=n;e:for(a=t.child;null!==a;){if(5===a.tag||6===a.tag)e.appendChild(a.stateNode);else if(4!==a.tag&&27!==a.tag&&null!==a.child){a.child.return=a,a=a.child;continue}if(a===t)break e;for(;null===a.sibling;){if(null===a.return||a.return===t)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}t.stateNode=e;e:switch(ed(e,r,n),r){case"button":case"input":case"select":case"textarea":e=!!n.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Js(t)}}return rl(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==n&&Js(t);else{if("string"!==typeof n&&null===t.stateNode)throw Error(o(166));if(e=q.current,ha(t)){if(e=t.stateNode,r=t.memoizedProps,n=null,null!==(a=na))switch(a.tag){case 27:case 5:n=a.memoizedProps}e[Ie]=t,(e=!!(e.nodeValue===r||null!==n&&!0===n.suppressHydrationWarning||Qu(e.nodeValue,r)))||ca(t)}else(e=nd(e).createTextNode(n))[Ie]=t,t.stateNode=e}return rl(t),null;case 13:if(n=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(a=ha(t),null!==n&&null!==n.dehydrated){if(null===e){if(!a)throw Error(o(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(o(317));a[Ie]=t}else fa(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;rl(t),a=!1}else a=pa(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=a),a=!0;if(!a)return 256&t.flags?(cs(t),t):(cs(t),null)}if(cs(t),0!==(128&t.flags))return t.lanes=r,t;if(r=null!==n,e=null!==e&&null!==e.memoizedState,r){a=null,null!==(n=t.child).alternate&&null!==n.alternate.memoizedState&&null!==n.alternate.memoizedState.cachePool&&(a=n.alternate.memoizedState.cachePool.pool);var i=null;null!==n.memoizedState&&null!==n.memoizedState.cachePool&&(i=n.memoizedState.cachePool.pool),i!==a&&(n.flags|=2048)}return r!==e&&r&&(t.child.flags|=8192),el(t,t.updateQueue),rl(t),null;case 4:return W(),null===e&&Uu(t.stateNode.containerInfo),rl(t),null;case 10:return xa(t.type),rl(t),null;case 19:if(U(us),null===(a=t.memoizedState))return rl(t),null;if(n=0!==(128&t.flags),null===(i=a.rendering))if(n)tl(a,!1);else{if(0!==hc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(i=ds(e))){for(t.flags|=128,tl(a,!1),e=i.updateQueue,t.updateQueue=e,el(t,e),t.subtreeFlags=0,e=r,r=t.child;null!==r;)zn(r,e),r=r.sibling;return V(us,1&us.current|2),t.child}e=e.sibling}null!==a.tail&&te()>kc&&(t.flags|=128,n=!0,tl(a,!1),t.lanes=4194304)}else{if(!n)if(null!==(e=ds(i))){if(t.flags|=128,n=!0,e=e.updateQueue,t.updateQueue=e,el(t,e),tl(a,!0),null===a.tail&&"hidden"===a.tailMode&&!i.alternate&&!ia)return rl(t),null}else 2*te()-a.renderingStartTime>kc&&536870912!==r&&(t.flags|=128,n=!0,tl(a,!1),t.lanes=4194304);a.isBackwards?(i.sibling=t.child,t.child=i):(null!==(e=a.last)?e.sibling=i:t.child=i,a.last=i)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=te(),t.sibling=null,e=us.current,V(us,n?1&e|2:1&e),t):(rl(t),null);case 22:case 23:return cs(t),yi(),n=null!==t.memoizedState,null!==e?null!==e.memoizedState!==n&&(t.flags|=8192):n&&(t.flags|=8192),n?0!==(536870912&r)&&0===(128&t.flags)&&(rl(t),6&t.subtreeFlags&&(t.flags|=8192)):rl(t),null!==(r=t.updateQueue)&&el(t,r.retryQueue),r=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(r=e.memoizedState.cachePool.pool),n=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(n=t.memoizedState.cachePool.pool),n!==r&&(t.flags|=2048),null!==e&&U(Va),null;case 24:return r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),xa(Ia),rl(t),null;case 25:case 30:return null}throw Error(o(156,t.tag))}function al(e,t){switch(ra(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return xa(Ia),W(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return Y(t),null;case 13:if(cs(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));fa()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return U(us),null;case 4:return W(),null;case 10:return xa(t.type),null;case 22:case 23:return cs(t),yi(),null!==e&&U(Va),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return xa(Ia),null;default:return null}}function il(e,t){switch(ra(t),t.tag){case 3:xa(Ia),W();break;case 26:case 27:case 5:Y(t);break;case 4:W();break;case 13:cs(t);break;case 19:U(us);break;case 10:xa(t.type);break;case 22:case 23:cs(t),yi(),null!==e&&U(Va);break;case 24:xa(Ia)}}function ol(e,t){try{var r=t.updateQueue,n=null!==r?r.lastEffect:null;if(null!==n){var a=n.next;r=a;do{if((r.tag&e)===e){n=void 0;var i=r.create,o=r.inst;n=i(),o.destroy=n}r=r.next}while(r!==a)}}catch(s){uu(t,t.return,s)}}function sl(e,t,r){try{var n=t.updateQueue,a=null!==n?n.lastEffect:null;if(null!==a){var i=a.next;n=i;do{if((n.tag&e)===e){var o=n.inst,s=o.destroy;if(void 0!==s){o.destroy=void 0,a=t;var l=r,c=s;try{c()}catch(u){uu(a,l,u)}}}n=n.next}while(n!==i)}}catch(u){uu(t,t.return,u)}}function ll(e){var t=e.updateQueue;if(null!==t){var r=e.stateNode;try{hi(t,r)}catch(n){uu(e,e.return,n)}}}function cl(e,t,r){r.props=gs(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(n){uu(e,t,n)}}function ul(e,t){try{var r=e.ref;if(null!==r){switch(e.tag){case 26:case 27:case 5:var n=e.stateNode;break;default:n=e.stateNode}"function"===typeof r?e.refCleanup=r(n):r.current=n}}catch(a){uu(e,t,a)}}function dl(e,t){var r=e.ref,n=e.refCleanup;if(null!==r)if("function"===typeof n)try{n()}catch(a){uu(e,t,a)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof r)try{r(null)}catch(i){uu(e,t,i)}else r.current=null}function hl(e){var t=e.type,r=e.memoizedProps,n=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":r.autoFocus&&n.focus();break e;case"img":r.src?n.src=r.src:r.srcSet&&(n.srcset=r.srcSet)}}catch(a){uu(e,e.return,a)}}function fl(e,t,r){try{var n=e.stateNode;!function(e,t,r,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var a=null,i=null,s=null,l=null,c=null,u=null,d=null;for(p in r){var h=r[p];if(r.hasOwnProperty(p)&&null!=h)switch(p){case"checked":case"value":break;case"defaultValue":c=h;default:n.hasOwnProperty(p)||Ju(e,t,p,null,n,h)}}for(var f in n){var p=n[f];if(h=r[f],n.hasOwnProperty(f)&&(null!=p||null!=h))switch(f){case"type":i=p;break;case"name":a=p;break;case"checked":u=p;break;case"defaultChecked":d=p;break;case"value":s=p;break;case"defaultValue":l=p;break;case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(o(137,t));break;default:p!==h&&Ju(e,t,f,p,n,h)}}return void gt(e,s,l,c,u,d,i,a);case"select":for(i in p=s=l=f=null,r)if(c=r[i],r.hasOwnProperty(i)&&null!=c)switch(i){case"value":break;case"multiple":p=c;default:n.hasOwnProperty(i)||Ju(e,t,i,null,n,c)}for(a in n)if(i=n[a],c=r[a],n.hasOwnProperty(a)&&(null!=i||null!=c))switch(a){case"value":f=i;break;case"defaultValue":l=i;break;case"multiple":s=i;default:i!==c&&Ju(e,t,a,i,n,c)}return t=l,r=s,n=p,void(null!=f?bt(e,!!r,f,!1):!!n!==!!r&&(null!=t?bt(e,!!r,t,!0):bt(e,!!r,r?[]:"",!1)));case"textarea":for(l in p=f=null,r)if(a=r[l],r.hasOwnProperty(l)&&null!=a&&!n.hasOwnProperty(l))switch(l){case"value":case"children":break;default:Ju(e,t,l,null,n,a)}for(s in n)if(a=n[s],i=r[s],n.hasOwnProperty(s)&&(null!=a||null!=i))switch(s){case"value":f=a;break;case"defaultValue":p=a;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=a)throw Error(o(91));break;default:a!==i&&Ju(e,t,s,a,n,i)}return void xt(e,f,p);case"option":for(var m in r)if(f=r[m],r.hasOwnProperty(m)&&null!=f&&!n.hasOwnProperty(m))if("selected"===m)e.selected=!1;else Ju(e,t,m,null,n,f);for(c in n)if(f=n[c],p=r[c],n.hasOwnProperty(c)&&f!==p&&(null!=f||null!=p))if("selected"===c)e.selected=f&&"function"!==typeof f&&"symbol"!==typeof f;else Ju(e,t,c,f,n,p);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in r)f=r[g],r.hasOwnProperty(g)&&null!=f&&!n.hasOwnProperty(g)&&Ju(e,t,g,null,n,f);for(u in n)if(f=n[u],p=r[u],n.hasOwnProperty(u)&&f!==p&&(null!=f||null!=p))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(o(137,t));break;default:Ju(e,t,u,f,n,p)}return;default:if(Et(t)){for(var y in r)f=r[y],r.hasOwnProperty(y)&&void 0!==f&&!n.hasOwnProperty(y)&&Zu(e,t,y,void 0,n,f);for(d in n)f=n[d],p=r[d],!n.hasOwnProperty(d)||f===p||void 0===f&&void 0===p||Zu(e,t,d,f,n,p);return}}for(var v in r)f=r[v],r.hasOwnProperty(v)&&null!=f&&!n.hasOwnProperty(v)&&Ju(e,t,v,null,n,f);for(h in n)f=n[h],p=r[h],!n.hasOwnProperty(h)||f===p||null==f&&null==p||Ju(e,t,h,f,n,p)}(n,e.type,r,t),n[Pe]=t}catch(a){uu(e,e.return,a)}}function pl(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&fd(e.type)||4===e.tag}function ml(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||pl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&fd(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function gl(e,t,r){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?(9===r.nodeType?r.body:"HTML"===r.nodeName?r.ownerDocument.body:r).insertBefore(e,t):((t=9===r.nodeType?r.body:"HTML"===r.nodeName?r.ownerDocument.body:r).appendChild(e),null!==(r=r._reactRootContainer)&&void 0!==r||null!==t.onclick||(t.onclick=Xu));else if(4!==n&&(27===n&&fd(e.type)&&(r=e.stateNode,t=null),null!==(e=e.child)))for(gl(e,t,r),e=e.sibling;null!==e;)gl(e,t,r),e=e.sibling}function yl(e,t,r){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(4!==n&&(27===n&&fd(e.type)&&(r=e.stateNode),null!==(e=e.child)))for(yl(e,t,r),e=e.sibling;null!==e;)yl(e,t,r),e=e.sibling}function vl(e){var t=e.stateNode,r=e.memoizedProps;try{for(var n=e.type,a=t.attributes;a.length;)t.removeAttributeNode(a[0]);ed(t,n,r),t[Ie]=e,t[Pe]=r}catch(i){uu(e,e.return,i)}}var bl=!1,xl=!1,wl=!1,kl="function"===typeof WeakSet?WeakSet:Set,jl=null;function Sl(e,t,r){var n=r.flags;switch(r.tag){case 0:case 11:case 15:Ll(e,r),4&n&&ol(5,r);break;case 1:if(Ll(e,r),4&n)if(e=r.stateNode,null===t)try{e.componentDidMount()}catch(o){uu(r,r.return,o)}else{var a=gs(r.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(a,t,e.__reactInternalSnapshotBeforeUpdate)}catch(s){uu(r,r.return,s)}}64&n&&ll(r),512&n&&ul(r,r.return);break;case 3:if(Ll(e,r),64&n&&null!==(e=r.updateQueue)){if(t=null,null!==r.child)switch(r.child.tag){case 27:case 5:case 1:t=r.child.stateNode}try{hi(e,t)}catch(o){uu(r,r.return,o)}}break;case 27:null===t&&4&n&&vl(r);case 26:case 5:Ll(e,r),null===t&&4&n&&hl(r),512&n&&ul(r,r.return);break;case 12:Ll(e,r);break;case 13:Ll(e,r),4&n&&Tl(e,r),64&n&&(null!==(e=r.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var r=e.ownerDocument;if("$?"!==e.data||"complete"===r.readyState)t();else{var n=function(){t(),r.removeEventListener("DOMContentLoaded",n)};r.addEventListener("DOMContentLoaded",n),e._reactRetry=n}}(e,r=pu.bind(null,r))));break;case 22:if(!(n=null!==r.memoizedState||bl)){t=null!==t&&null!==t.memoizedState||xl,a=bl;var i=xl;bl=n,(xl=t)&&!i?zl(e,r,0!==(8772&r.subtreeFlags)):Ll(e,r),bl=a,xl=i}break;case 30:break;default:Ll(e,r)}}function Nl(e){var t=e.alternate;null!==t&&(e.alternate=null,Nl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&Ue(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var El=null,_l=!1;function Al(e,t,r){for(r=r.child;null!==r;)Cl(e,t,r),r=r.sibling}function Cl(e,t,r){if(de&&"function"===typeof de.onCommitFiberUnmount)try{de.onCommitFiberUnmount(ue,r)}catch(i){}switch(r.tag){case 26:xl||dl(r,t),Al(e,t,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode).parentNode.removeChild(r);break;case 27:xl||dl(r,t);var n=El,a=_l;fd(r.type)&&(El=r.stateNode,_l=!1),Al(e,t,r),wd(r.stateNode),El=n,_l=a;break;case 5:xl||dl(r,t);case 6:if(n=El,a=_l,El=null,Al(e,t,r),_l=a,null!==(El=n))if(_l)try{(9===El.nodeType?El.body:"HTML"===El.nodeName?El.ownerDocument.body:El).removeChild(r.stateNode)}catch(o){uu(r,t,o)}else try{El.removeChild(r.stateNode)}catch(o){uu(r,t,o)}break;case 18:null!==El&&(_l?(pd(9===(e=El).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,r.stateNode),_h(e)):pd(El,r.stateNode));break;case 4:n=El,a=_l,El=r.stateNode.containerInfo,_l=!0,Al(e,t,r),El=n,_l=a;break;case 0:case 11:case 14:case 15:xl||sl(2,r,t),xl||sl(4,r,t),Al(e,t,r);break;case 1:xl||(dl(r,t),"function"===typeof(n=r.stateNode).componentWillUnmount&&cl(r,t,n)),Al(e,t,r);break;case 21:Al(e,t,r);break;case 22:xl=(n=xl)||null!==r.memoizedState,Al(e,t,r),xl=n;break;default:Al(e,t,r)}}function Tl(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{_h(e)}catch(r){uu(t,t.return,r)}}function Ol(e,t){var r=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new kl),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new kl),t;default:throw Error(o(435,e.tag))}}(e);t.forEach(function(t){var n=mu.bind(null,e,t);r.has(t)||(r.add(t),t.then(n,n))})}function Il(e,t){var r=t.deletions;if(null!==r)for(var n=0;n<r.length;n++){var a=r[n],i=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 27:if(fd(l.type)){El=l.stateNode,_l=!1;break e}break;case 5:El=l.stateNode,_l=!1;break e;case 3:case 4:El=l.stateNode.containerInfo,_l=!0;break e}l=l.return}if(null===El)throw Error(o(160));Cl(i,s,a),El=null,_l=!1,null!==(i=a.alternate)&&(i.return=null),a.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)Dl(t,e),t=t.sibling}var Pl=null;function Dl(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Il(t,e),Ml(e),4&n&&(sl(3,e,e.return),ol(3,e),sl(5,e,e.return));break;case 1:Il(t,e),Ml(e),512&n&&(xl||null===r||dl(r,r.return)),64&n&&bl&&(null!==(e=e.updateQueue)&&(null!==(n=e.callbacks)&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===r?n:r.concat(n))));break;case 26:var a=Pl;if(Il(t,e),Ml(e),512&n&&(xl||null===r||dl(r,r.return)),4&n){var i=null!==r?r.memoizedState:null;if(n=e.memoizedState,null===r)if(null===n)if(null===e.stateNode){e:{n=e.type,r=e.memoizedProps,a=a.ownerDocument||a;t:switch(n){case"title":(!(i=a.getElementsByTagName("title")[0])||i[ze]||i[Ie]||"http://www.w3.org/2000/svg"===i.namespaceURI||i.hasAttribute("itemprop"))&&(i=a.createElement(n),a.head.insertBefore(i,a.querySelector("head > title"))),ed(i,n,r),i[Ie]=e,He(i),n=i;break e;case"link":var s=zd("link","href",a).get(n+(r.href||""));if(s)for(var l=0;l<s.length;l++)if((i=s[l]).getAttribute("href")===(null==r.href||""===r.href?null:r.href)&&i.getAttribute("rel")===(null==r.rel?null:r.rel)&&i.getAttribute("title")===(null==r.title?null:r.title)&&i.getAttribute("crossorigin")===(null==r.crossOrigin?null:r.crossOrigin)){s.splice(l,1);break t}ed(i=a.createElement(n),n,r),a.head.appendChild(i);break;case"meta":if(s=zd("meta","content",a).get(n+(r.content||"")))for(l=0;l<s.length;l++)if((i=s[l]).getAttribute("content")===(null==r.content?null:""+r.content)&&i.getAttribute("name")===(null==r.name?null:r.name)&&i.getAttribute("property")===(null==r.property?null:r.property)&&i.getAttribute("http-equiv")===(null==r.httpEquiv?null:r.httpEquiv)&&i.getAttribute("charset")===(null==r.charSet?null:r.charSet)){s.splice(l,1);break t}ed(i=a.createElement(n),n,r),a.head.appendChild(i);break;default:throw Error(o(468,n))}i[Ie]=e,He(i),n=i}e.stateNode=n}else Ud(a,e.type,e.stateNode);else e.stateNode=Dd(a,n,e.memoizedProps);else i!==n?(null===i?null!==r.stateNode&&(r=r.stateNode).parentNode.removeChild(r):i.count--,null===n?Ud(a,e.type,e.stateNode):Dd(a,n,e.memoizedProps)):null===n&&null!==e.stateNode&&fl(e,e.memoizedProps,r.memoizedProps)}break;case 27:Il(t,e),Ml(e),512&n&&(xl||null===r||dl(r,r.return)),null!==r&&4&n&&fl(e,e.memoizedProps,r.memoizedProps);break;case 5:if(Il(t,e),Ml(e),512&n&&(xl||null===r||dl(r,r.return)),32&e.flags){a=e.stateNode;try{kt(a,"")}catch(p){uu(e,e.return,p)}}4&n&&null!=e.stateNode&&fl(e,a=e.memoizedProps,null!==r?r.memoizedProps:a),1024&n&&(wl=!0);break;case 6:if(Il(t,e),Ml(e),4&n){if(null===e.stateNode)throw Error(o(162));n=e.memoizedProps,r=e.stateNode;try{r.nodeValue=n}catch(p){uu(e,e.return,p)}}break;case 3:if(Fd=null,a=Pl,Pl=Sd(t.containerInfo),Il(t,e),Pl=a,Ml(e),4&n&&null!==r&&r.memoizedState.isDehydrated)try{_h(t.containerInfo)}catch(p){uu(e,e.return,p)}wl&&(wl=!1,Rl(e));break;case 4:n=Pl,Pl=Sd(e.stateNode.containerInfo),Il(t,e),Ml(e),Pl=n;break;case 12:default:Il(t,e),Ml(e);break;case 13:Il(t,e),Ml(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==r&&null!==r.memoizedState)&&(wc=te()),4&n&&(null!==(n=e.updateQueue)&&(e.updateQueue=null,Ol(e,n)));break;case 22:a=null!==e.memoizedState;var c=null!==r&&null!==r.memoizedState,u=bl,d=xl;if(bl=u||a,xl=d||c,Il(t,e),xl=d,bl=u,Ml(e),8192&n)e:for(t=e.stateNode,t._visibility=a?-2&t._visibility:1|t._visibility,a&&(null===r||c||bl||xl||Fl(e)),r=null,t=e;;){if(5===t.tag||26===t.tag){if(null===r){c=r=t;try{if(i=c.stateNode,a)"function"===typeof(s=i.style).setProperty?s.setProperty("display","none","important"):s.display="none";else{l=c.stateNode;var h=c.memoizedProps.style,f=void 0!==h&&null!==h&&h.hasOwnProperty("display")?h.display:null;l.style.display=null==f||"boolean"===typeof f?"":(""+f).trim()}}catch(p){uu(c,c.return,p)}}}else if(6===t.tag){if(null===r){c=t;try{c.stateNode.nodeValue=a?"":c.memoizedProps}catch(p){uu(c,c.return,p)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;r===t&&(r=null),t=t.return}r===t&&(r=null),t.sibling.return=t.return,t=t.sibling}4&n&&(null!==(n=e.updateQueue)&&(null!==(r=n.retryQueue)&&(n.retryQueue=null,Ol(e,r))));break;case 19:Il(t,e),Ml(e),4&n&&(null!==(n=e.updateQueue)&&(e.updateQueue=null,Ol(e,n)));case 30:case 21:}}function Ml(e){var t=e.flags;if(2&t){try{for(var r,n=e.return;null!==n;){if(pl(n)){r=n;break}n=n.return}if(null==r)throw Error(o(160));switch(r.tag){case 27:var a=r.stateNode;yl(e,ml(e),a);break;case 5:var i=r.stateNode;32&r.flags&&(kt(i,""),r.flags&=-33),yl(e,ml(e),i);break;case 3:case 4:var s=r.stateNode.containerInfo;gl(e,ml(e),s);break;default:throw Error(o(161))}}catch(l){uu(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Rl(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Rl(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Ll(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)Sl(e,t.alternate,t),t=t.sibling}function Fl(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:sl(4,t,t.return),Fl(t);break;case 1:dl(t,t.return);var r=t.stateNode;"function"===typeof r.componentWillUnmount&&cl(t,t.return,r),Fl(t);break;case 27:wd(t.stateNode);case 26:case 5:dl(t,t.return),Fl(t);break;case 22:null===t.memoizedState&&Fl(t);break;default:Fl(t)}e=e.sibling}}function zl(e,t,r){for(r=r&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var n=t.alternate,a=e,i=t,o=i.flags;switch(i.tag){case 0:case 11:case 15:zl(a,i,r),ol(4,i);break;case 1:if(zl(a,i,r),"function"===typeof(a=(n=i).stateNode).componentDidMount)try{a.componentDidMount()}catch(c){uu(n,n.return,c)}if(null!==(a=(n=i).updateQueue)){var s=n.stateNode;try{var l=a.shared.hiddenCallbacks;if(null!==l)for(a.shared.hiddenCallbacks=null,a=0;a<l.length;a++)di(l[a],s)}catch(c){uu(n,n.return,c)}}r&&64&o&&ll(i),ul(i,i.return);break;case 27:vl(i);case 26:case 5:zl(a,i,r),r&&null===n&&4&o&&hl(i),ul(i,i.return);break;case 12:zl(a,i,r);break;case 13:zl(a,i,r),r&&4&o&&Tl(a,i);break;case 22:null===i.memoizedState&&zl(a,i,r),ul(i,i.return);break;case 30:break;default:zl(a,i,r)}t=t.sibling}}function Ul(e,t){var r=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(r=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==r&&(null!=e&&e.refCount++,null!=r&&Da(r))}function Vl(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Da(e))}function Bl(e,t,r,n){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)$l(e,t,r,n),t=t.sibling}function $l(e,t,r,n){var a=t.flags;switch(t.tag){case 0:case 11:case 15:Bl(e,t,r,n),2048&a&&ol(9,t);break;case 1:case 13:default:Bl(e,t,r,n);break;case 3:Bl(e,t,r,n),2048&a&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Da(e)));break;case 12:if(2048&a){Bl(e,t,r,n),e=t.stateNode;try{var i=t.memoizedProps,o=i.id,s=i.onPostCommit;"function"===typeof s&&s(o,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){uu(t,t.return,l)}}else Bl(e,t,r,n);break;case 23:break;case 22:i=t.stateNode,o=t.alternate,null!==t.memoizedState?2&i._visibility?Bl(e,t,r,n):Hl(e,t):2&i._visibility?Bl(e,t,r,n):(i._visibility|=2,ql(e,t,r,n,0!==(10256&t.subtreeFlags))),2048&a&&Ul(o,t);break;case 24:Bl(e,t,r,n),2048&a&&Vl(t.alternate,t)}}function ql(e,t,r,n,a){for(a=a&&0!==(10256&t.subtreeFlags),t=t.child;null!==t;){var i=e,o=t,s=r,l=n,c=o.flags;switch(o.tag){case 0:case 11:case 15:ql(i,o,s,l,a),ol(8,o);break;case 23:break;case 22:var u=o.stateNode;null!==o.memoizedState?2&u._visibility?ql(i,o,s,l,a):Hl(i,o):(u._visibility|=2,ql(i,o,s,l,a)),a&&2048&c&&Ul(o.alternate,o);break;case 24:ql(i,o,s,l,a),a&&2048&c&&Vl(o.alternate,o);break;default:ql(i,o,s,l,a)}t=t.sibling}}function Hl(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var r=e,n=t,a=n.flags;switch(n.tag){case 22:Hl(r,n),2048&a&&Ul(n.alternate,n);break;case 24:Hl(r,n),2048&a&&Vl(n.alternate,n);break;default:Hl(r,n)}t=t.sibling}}var Kl=8192;function Wl(e){if(e.subtreeFlags&Kl)for(e=e.child;null!==e;)Gl(e),e=e.sibling}function Gl(e){switch(e.tag){case 26:Wl(e),e.flags&Kl&&null!==e.memoizedState&&function(e,t,r){if(null===Bd)throw Error(o(475));var n=Bd;if("stylesheet"===t.type&&("string"!==typeof r.media||!1!==matchMedia(r.media).matches)&&0===(4&t.state.loading)){if(null===t.instance){var a=Cd(r.href),i=e.querySelector(Td(a));if(i)return null!==(e=i._p)&&"object"===typeof e&&"function"===typeof e.then&&(n.count++,n=qd.bind(n),e.then(n,n)),t.state.loading|=4,t.instance=i,void He(i);i=e.ownerDocument||e,r=Od(r),(a=kd.get(a))&&Rd(r,a),He(i=i.createElement("link"));var s=i;s._p=new Promise(function(e,t){s.onload=e,s.onerror=t}),ed(i,"link",r),t.instance=i}null===n.stylesheets&&(n.stylesheets=new Map),n.stylesheets.set(t,e),(e=t.state.preload)&&0===(3&t.state.loading)&&(n.count++,t=qd.bind(n),e.addEventListener("load",t),e.addEventListener("error",t))}}(Pl,e.memoizedState,e.memoizedProps);break;case 5:default:Wl(e);break;case 3:case 4:var t=Pl;Pl=Sd(e.stateNode.containerInfo),Wl(e),Pl=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=Kl,Kl=16777216,Wl(e),Kl=t):Wl(e))}}function Yl(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function Ql(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var r=0;r<t.length;r++){var n=t[r];jl=n,Zl(n,e)}Yl(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)Xl(e),e=e.sibling}function Xl(e){switch(e.tag){case 0:case 11:case 15:Ql(e),2048&e.flags&&sl(9,e,e.return);break;case 3:case 12:default:Ql(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,Jl(e)):Ql(e)}}function Jl(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var r=0;r<t.length;r++){var n=t[r];jl=n,Zl(n,e)}Yl(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:sl(8,t,t.return),Jl(t);break;case 22:2&(r=t.stateNode)._visibility&&(r._visibility&=-3,Jl(t));break;default:Jl(t)}e=e.sibling}}function Zl(e,t){for(;null!==jl;){var r=jl;switch(r.tag){case 0:case 11:case 15:sl(8,r,t);break;case 23:case 22:if(null!==r.memoizedState&&null!==r.memoizedState.cachePool){var n=r.memoizedState.cachePool.pool;null!=n&&n.refCount++}break;case 24:Da(r.memoizedState.cache)}if(null!==(n=r.child))n.return=r,jl=n;else e:for(r=e;null!==jl;){var a=(n=jl).sibling,i=n.return;if(Nl(n),n===r){jl=null;break e}if(null!==a){a.return=i,jl=a;break e}jl=i}}}var ec={getCacheForType:function(e){var t=Ea(Ia),r=t.data.get(e);return void 0===r&&(r=e(),t.data.set(e,r)),r}},tc="function"===typeof WeakMap?WeakMap:Map,rc=0,nc=null,ac=null,ic=0,oc=0,sc=null,lc=!1,cc=!1,uc=!1,dc=0,hc=0,fc=0,pc=0,mc=0,gc=0,yc=0,vc=null,bc=null,xc=!1,wc=0,kc=1/0,jc=null,Sc=null,Nc=0,Ec=null,_c=null,Ac=0,Cc=0,Tc=null,Oc=null,Ic=0,Pc=null;function Dc(){if(0!==(2&rc)&&0!==ic)return ic&-ic;if(null!==D.T){return 0!==La?La:Cu()}return Te()}function Mc(){0===gc&&(gc=0===(536870912&ic)||ia?ke():536870912);var e=as.current;return null!==e&&(e.flags|=32),gc}function Rc(e,t,r){(e!==nc||2!==oc&&9!==oc)&&null===e.cancelPendingCommit||($c(e,0),Uc(e,ic,gc,!1)),Ne(e,r),0!==(2&rc)&&e===nc||(e===nc&&(0===(2&rc)&&(pc|=r),4===hc&&Uc(e,ic,gc,!1)),ku(e))}function Lc(e,t,r){if(0!==(6&rc))throw Error(o(327));for(var n=!r&&0===(124&t)&&0===(t&e.expiredLanes)||xe(e,t),a=n?function(e,t){var r=rc;rc|=2;var n=Hc(),a=Kc();nc!==e||ic!==t?(jc=null,kc=te()+500,$c(e,t)):cc=xe(e,t);e:for(;;)try{if(0!==oc&&null!==ac){t=ac;var i=sc;t:switch(oc){case 1:oc=0,sc=null,Zc(e,t,i,1);break;case 2:case 9:if(Ya(i)){oc=0,sc=null,Jc(t);break}t=function(){2!==oc&&9!==oc||nc!==e||(oc=7),ku(e)},i.then(t,t);break e;case 3:oc=7;break e;case 4:oc=5;break e;case 7:Ya(i)?(oc=0,sc=null,Jc(t)):(oc=0,sc=null,Zc(e,t,i,7));break;case 5:var s=null;switch(ac.tag){case 26:s=ac.memoizedState;case 5:case 27:var l=ac;if(!s||Vd(s)){oc=0,sc=null;var c=l.sibling;if(null!==c)ac=c;else{var u=l.return;null!==u?(ac=u,eu(u)):ac=null}break t}}oc=0,sc=null,Zc(e,t,i,5);break;case 6:oc=0,sc=null,Zc(e,t,i,6);break;case 8:Bc(),hc=6;break e;default:throw Error(o(462))}}Qc();break}catch(d){qc(e,d)}return va=ya=null,D.H=n,D.A=a,rc=r,null!==ac?0:(nc=null,ic=0,An(),hc)}(e,t):Gc(e,t,!0),i=n;;){if(0===a){cc&&!n&&Uc(e,t,0,!1);break}if(r=e.current.alternate,!i||zc(r)){if(2===a){if(i=t,e.errorRecoveryDisabledLanes&i)var s=0;else s=0!==(s=-536870913&e.pendingLanes)?s:536870912&s?536870912:0;if(0!==s){t=s;e:{var l=e;a=vc;var c=l.current.memoizedState.isDehydrated;if(c&&($c(l,s).flags|=256),2!==(s=Gc(l,s,!1))){if(uc&&!c){l.errorRecoveryDisabledLanes|=i,pc|=i,a=4;break e}i=bc,bc=a,null!==i&&(null===bc?bc=i:bc.push.apply(bc,i))}a=s}if(i=!1,2!==a)continue}}if(1===a){$c(e,0),Uc(e,t,0,!0);break}e:{switch(n=e,i=a){case 0:case 1:throw Error(o(345));case 4:if((4194048&t)!==t)break;case 6:Uc(n,t,gc,!lc);break e;case 2:bc=null;break;case 3:case 5:break;default:throw Error(o(329))}if((62914560&t)===t&&10<(a=wc+300-te())){if(Uc(n,t,gc,!lc),0!==be(n,0,!0))break e;n.timeoutHandle=ld(Fc.bind(null,n,r,bc,jc,xc,t,gc,pc,yc,lc,i,2,-0,0),a)}else Fc(n,r,bc,jc,xc,t,gc,pc,yc,lc,i,0,-0,0)}break}a=Gc(e,t,!1),i=!1}ku(e)}function Fc(e,t,r,n,a,i,s,l,c,u,d,h,f,p){if(e.timeoutHandle=-1,(8192&(h=t.subtreeFlags)||16785408===(16785408&h))&&(Bd={stylesheets:null,count:0,unsuspend:$d},Gl(t),null!==(h=function(){if(null===Bd)throw Error(o(475));var e=Bd;return e.stylesheets&&0===e.count&&Kd(e,e.stylesheets),0<e.count?function(t){var r=setTimeout(function(){if(e.stylesheets&&Kd(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(r)}}:null}())))return e.cancelPendingCommit=h(ru.bind(null,e,t,i,r,n,a,s,l,c,d,1,f,p)),void Uc(e,i,s,!u);ru(e,t,i,r,n,a,s,l,c)}function zc(e){for(var t=e;;){var r=t.tag;if((0===r||11===r||15===r)&&16384&t.flags&&(null!==(r=t.updateQueue)&&null!==(r=r.stores)))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!Gr(i(),a))return!1}catch(o){return!1}}if(r=t.child,16384&t.subtreeFlags&&null!==r)r.return=t,t=r;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Uc(e,t,r,n){t&=~mc,t&=~pc,e.suspendedLanes|=t,e.pingedLanes&=~t,n&&(e.warmLanes|=t),n=e.expirationTimes;for(var a=t;0<a;){var i=31-fe(a),o=1<<i;n[i]=-1,a&=~o}0!==r&&Ee(e,r,t)}function Vc(){return 0!==(6&rc)||(ju(0,!1),!1)}function Bc(){if(null!==ac){if(0===oc)var e=ac.return;else va=ya=null,Li(e=ac),Yo=null,Qo=0,e=ac;for(;null!==e;)il(e.alternate,e),e=e.return;ac=null}}function $c(e,t){var r=e.timeoutHandle;-1!==r&&(e.timeoutHandle=-1,cd(r)),null!==(r=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,r()),Bc(),nc=e,ac=r=Fn(e.current,null),ic=t,oc=0,sc=null,lc=!1,cc=xe(e,t),uc=!1,yc=gc=mc=pc=fc=hc=0,bc=vc=null,xc=!1,0!==(8&t)&&(t|=32&t);var n=e.entangledLanes;if(0!==n)for(e=e.entanglements,n&=t;0<n;){var a=31-fe(n),i=1<<a;t|=e[a],n&=~i}return dc=t,An(),r}function qc(e,t){bi=null,D.H=Ho,t===Ha||t===Wa?(t=Za(),oc=3):t===Ka?(t=Za(),oc=4):oc=t===Es?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,sc=t,null===ac&&(hc=1,ws(e,Sn(t,e.current)))}function Hc(){var e=D.H;return D.H=Ho,null===e?Ho:e}function Kc(){var e=D.A;return D.A=ec,e}function Wc(){hc=4,lc||(4194048&ic)!==ic&&null!==as.current||(cc=!0),0===(134217727&fc)&&0===(134217727&pc)||null===nc||Uc(nc,ic,gc,!1)}function Gc(e,t,r){var n=rc;rc|=2;var a=Hc(),i=Kc();nc===e&&ic===t||(jc=null,$c(e,t)),t=!1;var o=hc;e:for(;;)try{if(0!==oc&&null!==ac){var s=ac,l=sc;switch(oc){case 8:Bc(),o=6;break e;case 3:case 2:case 9:case 6:null===as.current&&(t=!0);var c=oc;if(oc=0,sc=null,Zc(e,s,l,c),r&&cc){o=0;break e}break;default:c=oc,oc=0,sc=null,Zc(e,s,l,c)}}Yc(),o=hc;break}catch(u){qc(e,u)}return t&&e.shellSuspendCounter++,va=ya=null,rc=n,D.H=a,D.A=i,null===ac&&(nc=null,ic=0,An()),o}function Yc(){for(;null!==ac;)Xc(ac)}function Qc(){for(;null!==ac&&!Z();)Xc(ac)}function Xc(e){var t=Xs(e.alternate,e,dc);e.memoizedProps=e.pendingProps,null===t?eu(e):ac=t}function Jc(e){var t=e,r=t.alternate;switch(t.tag){case 15:case 0:t=Rs(r,t,t.pendingProps,t.type,void 0,ic);break;case 11:t=Rs(r,t,t.pendingProps,t.type.render,t.ref,ic);break;case 5:Li(t);default:il(r,t),t=Xs(r,t=ac=zn(t,dc),dc)}e.memoizedProps=e.pendingProps,null===t?eu(e):ac=t}function Zc(e,t,r,n){va=ya=null,Li(t),Yo=null,Qo=0;var a=t.return;try{if(function(e,t,r,n,a){if(r.flags|=32768,null!==n&&"object"===typeof n&&"function"===typeof n.then){if(null!==(t=r.alternate)&&ja(t,r,a,!0),null!==(r=as.current)){switch(r.tag){case 13:return null===is?Wc():null===r.alternate&&0===hc&&(hc=3),r.flags&=-257,r.flags|=65536,r.lanes=a,n===Ga?r.flags|=16384:(null===(t=r.updateQueue)?r.updateQueue=new Set([n]):t.add(n),du(e,n,a)),!1;case 22:return r.flags|=65536,n===Ga?r.flags|=16384:(null===(t=r.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([n])},r.updateQueue=t):null===(r=t.retryQueue)?t.retryQueue=new Set([n]):r.add(n),du(e,n,a)),!1}throw Error(o(435,r.tag))}return du(e,n,a),Wc(),!1}if(ia)return null!==(t=as.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=a,n!==la&&ma(Sn(e=Error(o(422),{cause:n}),r))):(n!==la&&ma(Sn(t=Error(o(423),{cause:n}),r)),(e=e.current.alternate).flags|=65536,a&=-a,e.lanes|=a,n=Sn(n,r),si(e,a=js(e.stateNode,n,a)),4!==hc&&(hc=2)),!1;var i=Error(o(520),{cause:n});if(i=Sn(i,r),null===vc?vc=[i]:vc.push(i),4!==hc&&(hc=2),null===t)return!0;n=Sn(n,r),r=t;do{switch(r.tag){case 3:return r.flags|=65536,e=a&-a,r.lanes|=e,si(r,e=js(r.stateNode,n,e)),!1;case 1:if(t=r.type,i=r.stateNode,0===(128&r.flags)&&("function"===typeof t.getDerivedStateFromError||null!==i&&"function"===typeof i.componentDidCatch&&(null===Sc||!Sc.has(i))))return r.flags|=65536,a&=-a,r.lanes|=a,Ns(a=Ss(a),e,r,n),si(r,a),!1}r=r.return}while(null!==r);return!1}(e,a,t,r,ic))return hc=1,ws(e,Sn(r,e.current)),void(ac=null)}catch(i){if(null!==a)throw ac=a,i;return hc=1,ws(e,Sn(r,e.current)),void(ac=null)}32768&t.flags?(ia||1===n?e=!0:cc||0!==(536870912&ic)?e=!1:(lc=e=!0,(2===n||9===n||3===n||6===n)&&(null!==(n=as.current)&&13===n.tag&&(n.flags|=16384))),tu(t,e)):eu(t)}function eu(e){var t=e;do{if(0!==(32768&t.flags))return void tu(t,lc);e=t.return;var r=nl(t.alternate,t,dc);if(null!==r)return void(ac=r);if(null!==(t=t.sibling))return void(ac=t);ac=t=e}while(null!==t);0===hc&&(hc=5)}function tu(e,t){do{var r=al(e.alternate,e);if(null!==r)return r.flags&=32767,void(ac=r);if(null!==(r=e.return)&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!t&&null!==(e=e.sibling))return void(ac=e);ac=e=r}while(null!==e);hc=6,ac=null}function ru(e,t,r,n,a,i,s,l,c){e.cancelPendingCommit=null;do{su()}while(0!==Nc);if(0!==(6&rc))throw Error(o(327));if(null!==t){if(t===e.current)throw Error(o(177));if(i=t.lanes|t.childLanes,function(e,t,r,n,a,i){var o=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var s=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(r=o&~r;0<r;){var u=31-fe(r),d=1<<u;s[u]=0,l[u]=-1;var h=c[u];if(null!==h)for(c[u]=null,u=0;u<h.length;u++){var f=h[u];null!==f&&(f.lane&=-536870913)}r&=~d}0!==n&&Ee(e,n,0),0!==i&&0===a&&0!==e.tag&&(e.suspendedLanes|=i&~(o&~t))}(e,r,i|=_n,s,l,c),e===nc&&(ac=nc=null,ic=0),_c=t,Ec=e,Ac=r,Cc=i,Tc=a,Oc=n,0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?(e.callbackNode=null,e.callbackPriority=0,X(ie,function(){return lu(),null})):(e.callbackNode=null,e.callbackPriority=0),n=0!==(13878&t.flags),0!==(13878&t.subtreeFlags)||n){n=D.T,D.T=null,a=M.p,M.p=2,s=rc,rc|=4;try{!function(e,t){if(e=e.containerInfo,td=rh,en(e=Zr(e))){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{var n=(r=(r=e.ownerDocument)&&r.defaultView||window).getSelection&&r.getSelection();if(n&&0!==n.rangeCount){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch(g){r=null;break e}var s=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==r||0!==a&&3!==h.nodeType||(l=s+a),h!==i||0!==n&&3!==h.nodeType||(c=s+n),3===h.nodeType&&(s+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===r&&++u===a&&(l=s),f===i&&++d===n&&(c=s),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}r=-1===l||-1===c?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(rd={focusedElem:e,selectionRange:r},rh=!1,jl=t;null!==jl;)if(e=(t=jl).child,0!==(1024&t.subtreeFlags)&&null!==e)e.return=t,jl=e;else for(;null!==jl;){switch(i=(t=jl).alternate,e=t.flags,t.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==i){e=void 0,r=t,a=i.memoizedProps,i=i.memoizedState,n=r.stateNode;try{var m=gs(r.type,a,(r.elementType,r.type));e=n.getSnapshotBeforeUpdate(m,i),n.__reactInternalSnapshotBeforeUpdate=e}catch(y){uu(r,r.return,y)}}break;case 3:if(0!==(1024&e))if(9===(r=(e=t.stateNode.containerInfo).nodeType))md(e);else if(1===r)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":md(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(o(163))}if(null!==(e=t.sibling)){e.return=t.return,jl=e;break}jl=t.return}}(e,t)}finally{rc=s,M.p=a,D.T=n}}Nc=1,nu(),au(),iu()}}function nu(){if(1===Nc){Nc=0;var e=Ec,t=_c,r=0!==(13878&t.flags);if(0!==(13878&t.subtreeFlags)||r){r=D.T,D.T=null;var n=M.p;M.p=2;var a=rc;rc|=4;try{Dl(t,e);var i=rd,o=Zr(e.containerInfo),s=i.focusedElem,l=i.selectionRange;if(o!==s&&s&&s.ownerDocument&&Jr(s.ownerDocument.documentElement,s)){if(null!==l&&en(s)){var c=l.start,u=l.end;if(void 0===u&&(u=c),"selectionStart"in s)s.selectionStart=c,s.selectionEnd=Math.min(u,s.value.length);else{var d=s.ownerDocument||document,h=d&&d.defaultView||window;if(h.getSelection){var f=h.getSelection(),p=s.textContent.length,m=Math.min(l.start,p),g=void 0===l.end?m:Math.min(l.end,p);!f.extend&&m>g&&(o=g,g=m,m=o);var y=Xr(s,m),v=Xr(s,g);if(y&&v&&(1!==f.rangeCount||f.anchorNode!==y.node||f.anchorOffset!==y.offset||f.focusNode!==v.node||f.focusOffset!==v.offset)){var b=d.createRange();b.setStart(y.node,y.offset),f.removeAllRanges(),m>g?(f.addRange(b),f.extend(v.node,v.offset)):(b.setEnd(v.node,v.offset),f.addRange(b))}}}}for(d=[],f=s;f=f.parentNode;)1===f.nodeType&&d.push({element:f,left:f.scrollLeft,top:f.scrollTop});for("function"===typeof s.focus&&s.focus(),s=0;s<d.length;s++){var x=d[s];x.element.scrollLeft=x.left,x.element.scrollTop=x.top}}rh=!!td,rd=td=null}finally{rc=a,M.p=n,D.T=r}}e.current=t,Nc=2}}function au(){if(2===Nc){Nc=0;var e=Ec,t=_c,r=0!==(8772&t.flags);if(0!==(8772&t.subtreeFlags)||r){r=D.T,D.T=null;var n=M.p;M.p=2;var a=rc;rc|=4;try{Sl(e,t.alternate,t)}finally{rc=a,M.p=n,D.T=r}}Nc=3}}function iu(){if(4===Nc||3===Nc){Nc=0,ee();var e=Ec,t=_c,r=Ac,n=Oc;0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?Nc=5:(Nc=0,_c=Ec=null,ou(e,e.pendingLanes));var a=e.pendingLanes;if(0===a&&(Sc=null),Ce(r),t=t.stateNode,de&&"function"===typeof de.onCommitFiberRoot)try{de.onCommitFiberRoot(ue,t,void 0,128===(128&t.current.flags))}catch(l){}if(null!==n){t=D.T,a=M.p,M.p=2,D.T=null;try{for(var i=e.onRecoverableError,o=0;o<n.length;o++){var s=n[o];i(s.value,{componentStack:s.stack})}}finally{D.T=t,M.p=a}}0!==(3&Ac)&&su(),ku(e),a=e.pendingLanes,0!==(4194090&r)&&0!==(42&a)?e===Pc?Ic++:(Ic=0,Pc=e):Ic=0,ju(0,!1)}}function ou(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Da(t)))}function su(e){return nu(),au(),iu(),lu()}function lu(){if(5!==Nc)return!1;var e=Ec,t=Cc;Cc=0;var r=Ce(Ac),n=D.T,a=M.p;try{M.p=32>r?32:r,D.T=null,r=Tc,Tc=null;var i=Ec,s=Ac;if(Nc=0,_c=Ec=null,Ac=0,0!==(6&rc))throw Error(o(331));var l=rc;if(rc|=4,Xl(i.current),$l(i,i.current,s,r),rc=l,ju(0,!1),de&&"function"===typeof de.onPostCommitFiberRoot)try{de.onPostCommitFiberRoot(ue,i)}catch(c){}return!0}finally{M.p=a,D.T=n,ou(e,t)}}function cu(e,t,r){t=Sn(r,t),null!==(e=ii(e,t=js(e.stateNode,t,2),2))&&(Ne(e,2),ku(e))}function uu(e,t,r){if(3===e.tag)cu(e,e,r);else for(;null!==t;){if(3===t.tag){cu(t,e,r);break}if(1===t.tag){var n=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof n.componentDidCatch&&(null===Sc||!Sc.has(n))){e=Sn(r,e),null!==(n=ii(t,r=Ss(2),2))&&(Ns(r,n,t,e),Ne(n,2),ku(n));break}}t=t.return}}function du(e,t,r){var n=e.pingCache;if(null===n){n=e.pingCache=new tc;var a=new Set;n.set(t,a)}else void 0===(a=n.get(t))&&(a=new Set,n.set(t,a));a.has(r)||(uc=!0,a.add(r),e=hu.bind(null,e,t,r),t.then(e,e))}function hu(e,t,r){var n=e.pingCache;null!==n&&n.delete(t),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,nc===e&&(ic&r)===r&&(4===hc||3===hc&&(62914560&ic)===ic&&300>te()-wc?0===(2&rc)&&$c(e,0):mc|=r,yc===ic&&(yc=0)),ku(e)}function fu(e,t){0===t&&(t=je()),null!==(e=On(e,t))&&(Ne(e,t),ku(e))}function pu(e){var t=e.memoizedState,r=0;null!==t&&(r=t.retryLane),fu(e,r)}function mu(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;null!==a&&(r=a.retryLane);break;case 19:n=e.stateNode;break;case 22:n=e.stateNode._retryCache;break;default:throw Error(o(314))}null!==n&&n.delete(t),fu(e,r)}var gu=null,yu=null,vu=!1,bu=!1,xu=!1,wu=0;function ku(e){e!==yu&&null===e.next&&(null===yu?gu=yu=e:yu=yu.next=e),bu=!0,vu||(vu=!0,dd(function(){0!==(6&rc)?X(ne,Su):Nu()}))}function ju(e,t){if(!xu&&bu){xu=!0;do{for(var r=!1,n=gu;null!==n;){if(!t)if(0!==e){var a=n.pendingLanes;if(0===a)var i=0;else{var o=n.suspendedLanes,s=n.pingedLanes;i=(1<<31-fe(42|e)+1)-1,i=201326741&(i&=a&~(o&~s))?201326741&i|1:i?2|i:0}0!==i&&(r=!0,Au(n,i))}else i=ic,0===(3&(i=be(n,n===nc?i:0,null!==n.cancelPendingCommit||-1!==n.timeoutHandle)))||xe(n,i)||(r=!0,Au(n,i));n=n.next}}while(r);xu=!1}}function Su(){Nu()}function Nu(){bu=vu=!1;var e=0;0!==wu&&(function(){var e=window.event;if(e&&"popstate"===e.type)return e!==sd&&(sd=e,!0);return sd=null,!1}()&&(e=wu),wu=0);for(var t=te(),r=null,n=gu;null!==n;){var a=n.next,i=Eu(n,t);0===i?(n.next=null,null===r?gu=a:r.next=a,null===a&&(yu=r)):(r=n,(0!==e||0!==(3&i))&&(bu=!0)),n=a}ju(e,!1)}function Eu(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,i=-62914561&e.pendingLanes;0<i;){var o=31-fe(i),s=1<<o,l=a[o];-1===l?0!==(s&r)&&0===(s&n)||(a[o]=we(s,t)):l<=t&&(e.expiredLanes|=s),i&=~s}if(r=ic,r=be(e,e===(t=nc)?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),n=e.callbackNode,0===r||e===t&&(2===oc||9===oc)||null!==e.cancelPendingCommit)return null!==n&&null!==n&&J(n),e.callbackNode=null,e.callbackPriority=0;if(0===(3&r)||xe(e,r)){if((t=r&-r)===e.callbackPriority)return t;switch(null!==n&&J(n),Ce(r)){case 2:case 8:r=ae;break;case 32:default:r=ie;break;case 268435456:r=se}return n=_u.bind(null,e),r=X(r,n),e.callbackPriority=t,e.callbackNode=r,t}return null!==n&&null!==n&&J(n),e.callbackPriority=2,e.callbackNode=null,2}function _u(e,t){if(0!==Nc&&5!==Nc)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(su()&&e.callbackNode!==r)return null;var n=ic;return 0===(n=be(e,e===nc?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Lc(e,n,t),Eu(e,te()),null!=e.callbackNode&&e.callbackNode===r?_u.bind(null,e):null)}function Au(e,t){if(su())return null;Lc(e,t,!0)}function Cu(){return 0===wu&&(wu=ke()),wu}function Tu(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:Ct(""+e)}function Ou(e,t){var r=t.ownerDocument.createElement("input");return r.name=t.name,r.value=t.value,e.id&&r.setAttribute("form",e.id),t.parentNode.insertBefore(r,t),e=new FormData(e),r.parentNode.removeChild(r),e}for(var Iu=0;Iu<wn.length;Iu++){var Pu=wn[Iu];kn(Pu.toLowerCase(),"on"+(Pu[0].toUpperCase()+Pu.slice(1)))}kn(fn,"onAnimationEnd"),kn(pn,"onAnimationIteration"),kn(mn,"onAnimationStart"),kn("dblclick","onDoubleClick"),kn("focusin","onFocus"),kn("focusout","onBlur"),kn(gn,"onTransitionRun"),kn(yn,"onTransitionStart"),kn(vn,"onTransitionCancel"),kn(bn,"onTransitionEnd"),Ye("onMouseEnter",["mouseout","mouseover"]),Ye("onMouseLeave",["mouseout","mouseover"]),Ye("onPointerEnter",["pointerout","pointerover"]),Ye("onPointerLeave",["pointerout","pointerover"]),Ge("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ge("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ge("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ge("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ge("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ge("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Du="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mu=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Du));function Ru(e,t){t=0!==(4&t);for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var s=n[o],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==i&&a.isPropagationStopped())break e;i=s,a.currentTarget=c;try{i(a)}catch(u){ys(u)}a.currentTarget=null,i=l}else for(o=0;o<n.length;o++){if(l=(s=n[o]).instance,c=s.currentTarget,s=s.listener,l!==i&&a.isPropagationStopped())break e;i=s,a.currentTarget=c;try{i(a)}catch(u){ys(u)}a.currentTarget=null,i=l}}}}function Lu(e,t){var r=t[Me];void 0===r&&(r=t[Me]=new Set);var n=e+"__bubble";r.has(n)||(Vu(t,e,2,!1),r.add(n))}function Fu(e,t,r){var n=0;t&&(n|=4),Vu(r,e,n,t)}var zu="_reactListening"+Math.random().toString(36).slice(2);function Uu(e){if(!e[zu]){e[zu]=!0,Ke.forEach(function(t){"selectionchange"!==t&&(Mu.has(t)||Fu(t,!1,e),Fu(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zu]||(t[zu]=!0,Fu("selectionchange",!1,t))}}function Vu(e,t,r,n){switch(ch(t)){case 2:var a=nh;break;case 8:a=ah;break;default:a=ih}r=a.bind(null,t,r,e),a=void 0,!zt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),n?void 0!==a?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):void 0!==a?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function Bu(e,t,r,n,a){var i=n;if(0===(1&t)&&0===(2&t)&&null!==n)e:for(;;){if(null===n)return;var o=n.tag;if(3===o||4===o){var s=n.stateNode.containerInfo;if(s===a)break;if(4===o)for(o=n.return;null!==o;){var c=o.tag;if((3===c||4===c)&&o.stateNode.containerInfo===a)return;o=o.return}for(;null!==s;){if(null===(o=Ve(s)))return;if(5===(c=o.tag)||6===c||26===c||27===c){n=i=o;continue e}s=s.parentNode}}n=n.return}Rt(function(){var n=i,a=Ot(r),o=[];e:{var s=xn.get(e);if(void 0!==s){var c=Zt,u=e;switch(e){case"keypress":if(0===Ht(r))break e;case"keydown":case"keyup":c=pr;break;case"focusin":u="focus",c=ir;break;case"focusout":u="blur",c=ir;break;case"beforeblur":case"afterblur":c=ir;break;case"click":if(2===r.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=nr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=ar;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=gr;break;case fn:case pn:case mn:c=or;break;case bn:c=yr;break;case"scroll":case"scrollend":c=tr;break;case"wheel":c=vr;break;case"copy":case"cut":case"paste":c=sr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=mr;break;case"toggle":case"beforetoggle":c=br}var d=0!==(4&t),h=!d&&("scroll"===e||"scrollend"===e),f=d?null!==s?s+"Capture":null:s;d=[];for(var p,m=n;null!==m;){var g=m;if(p=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===p||null===f||null!=(g=Lt(m,f))&&d.push($u(m,g,p)),h)break;m=m.return}0<d.length&&(s=new c(s,u,null,r,a),o.push({event:s,listeners:d}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||r===Tt||!(u=r.relatedTarget||r.fromElement)||!Ve(u)&&!u[De])&&(c||s)&&(s=a.window===a?a:(s=a.ownerDocument)?s.defaultView||s.parentWindow:window,c?(c=n,null!==(u=(u=r.relatedTarget||r.toElement)?Ve(u):null)&&(h=l(u),d=u.tag,u!==h||5!==d&&27!==d&&6!==d)&&(u=null)):(c=null,u=n),c!==u)){if(d=nr,g="onMouseLeave",f="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(d=mr,g="onPointerLeave",f="onPointerEnter",m="pointer"),h=null==c?s:$e(c),p=null==u?s:$e(u),(s=new d(g,m+"leave",c,r,a)).target=h,s.relatedTarget=p,g=null,Ve(a)===n&&((d=new d(f,m+"enter",u,r,a)).target=p,d.relatedTarget=h,g=d),h=g,c&&u)e:{for(f=u,m=0,p=d=c;p;p=Hu(p))m++;for(p=0,g=f;g;g=Hu(g))p++;for(;0<m-p;)d=Hu(d),m--;for(;0<p-m;)f=Hu(f),p--;for(;m--;){if(d===f||null!==f&&d===f.alternate)break e;d=Hu(d),f=Hu(f)}d=null}else d=null;null!==c&&Ku(o,s,c,d,!1),null!==u&&null!==h&&Ku(o,h,u,d,!0)}if("select"===(c=(s=n?$e(n):window).nodeName&&s.nodeName.toLowerCase())||"input"===c&&"file"===s.type)var y=Lr;else if(Or(s))if(Fr)y=Wr;else{y=Hr;var v=qr}else!(c=s.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==s.type&&"radio"!==s.type?n&&Et(n.elementType)&&(y=Lr):y=Kr;switch(y&&(y=y(e,n))?Ir(o,y,r,a):(v&&v(e,s,n),"focusout"===e&&n&&"number"===s.type&&null!=n.memoizedProps.value&&vt(s,"number",s.value)),v=n?$e(n):window,e){case"focusin":(Or(v)||"true"===v.contentEditable)&&(rn=v,nn=n,an=null);break;case"focusout":an=nn=rn=null;break;case"mousedown":on=!0;break;case"contextmenu":case"mouseup":case"dragend":on=!1,sn(o,r,a);break;case"selectionchange":if(tn)break;case"keydown":case"keyup":sn(o,r,a)}var b;if(wr)e:{switch(e){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else Cr?_r(e,r)&&(x="onCompositionEnd"):"keydown"===e&&229===r.keyCode&&(x="onCompositionStart");x&&(Sr&&"ko"!==r.locale&&(Cr||"onCompositionStart"!==x?"onCompositionEnd"===x&&Cr&&(b=qt()):(Bt="value"in(Vt=a)?Vt.value:Vt.textContent,Cr=!0)),0<(v=qu(n,x)).length&&(x=new lr(x,e,null,r,a),o.push({event:x,listeners:v}),b?x.data=b:null!==(b=Ar(r))&&(x.data=b))),(b=jr?function(e,t){switch(e){case"compositionend":return Ar(t);case"keypress":return 32!==t.which?null:(Er=!0,Nr);case"textInput":return(e=t.data)===Nr&&Er?null:e;default:return null}}(e,r):function(e,t){if(Cr)return"compositionend"===e||!wr&&_r(e,t)?(e=qt(),$t=Bt=Vt=null,Cr=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Sr&&"ko"!==t.locale?null:t.data}}(e,r))&&(0<(x=qu(n,"onBeforeInput")).length&&(v=new lr("onBeforeInput","beforeinput",null,r,a),o.push({event:v,listeners:x}),v.data=b)),function(e,t,r,n,a){if("submit"===t&&r&&r.stateNode===a){var i=Tu((a[Pe]||null).action),o=n.submitter;o&&null!==(t=(t=o[Pe]||null)?Tu(t.formAction):o.getAttribute("formAction"))&&(i=t,o=null);var s=new Zt("action","action",null,n,a);e.push({event:s,listeners:[{instance:null,listener:function(){if(n.defaultPrevented){if(0!==wu){var e=o?Ou(a,o):new FormData(a);Oo(r,{pending:!0,data:e,method:a.method,action:i},null,e)}}else"function"===typeof i&&(s.preventDefault(),e=o?Ou(a,o):new FormData(a),Oo(r,{pending:!0,data:e,method:a.method,action:i},i,e))},currentTarget:a}]})}}(o,e,n,r,a)}Ru(o,t)})}function $u(e,t,r){return{instance:e,listener:t,currentTarget:r}}function qu(e,t){for(var r=t+"Capture",n=[];null!==e;){var a=e,i=a.stateNode;if(5!==(a=a.tag)&&26!==a&&27!==a||null===i||(null!=(a=Lt(e,r))&&n.unshift($u(e,a,i)),null!=(a=Lt(e,t))&&n.push($u(e,a,i))),3===e.tag)return n;e=e.return}return[]}function Hu(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function Ku(e,t,r,n,a){for(var i=t._reactName,o=[];null!==r&&r!==n;){var s=r,l=s.alternate,c=s.stateNode;if(s=s.tag,null!==l&&l===n)break;5!==s&&26!==s&&27!==s||null===c||(l=c,a?null!=(c=Lt(r,i))&&o.unshift($u(r,c,l)):a||null!=(c=Lt(r,i))&&o.push($u(r,c,l))),r=r.return}0!==o.length&&e.push({event:t,listeners:o})}var Wu=/\r\n?/g,Gu=/\u0000|\uFFFD/g;function Yu(e){return("string"===typeof e?e:""+e).replace(Wu,"\n").replace(Gu,"")}function Qu(e,t){return t=Yu(t),Yu(e)===t}function Xu(){}function Ju(e,t,r,n,a,i){switch(r){case"children":"string"===typeof n?"body"===t||"textarea"===t&&""===n||kt(e,n):("number"===typeof n||"bigint"===typeof n)&&"body"!==t&&kt(e,""+n);break;case"className":rt(e,"class",n);break;case"tabIndex":rt(e,"tabindex",n);break;case"dir":case"role":case"viewBox":case"width":case"height":rt(e,r,n);break;case"style":Nt(e,n,i);break;case"data":if("object"!==t){rt(e,"data",n);break}case"src":case"href":if(""===n&&("a"!==t||"href"!==r)){e.removeAttribute(r);break}if(null==n||"function"===typeof n||"symbol"===typeof n||"boolean"===typeof n){e.removeAttribute(r);break}n=Ct(""+n),e.setAttribute(r,n);break;case"action":case"formAction":if("function"===typeof n){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof i&&("formAction"===r?("input"!==t&&Ju(e,t,"name",a.name,a,null),Ju(e,t,"formEncType",a.formEncType,a,null),Ju(e,t,"formMethod",a.formMethod,a,null),Ju(e,t,"formTarget",a.formTarget,a,null)):(Ju(e,t,"encType",a.encType,a,null),Ju(e,t,"method",a.method,a,null),Ju(e,t,"target",a.target,a,null))),null==n||"symbol"===typeof n||"boolean"===typeof n){e.removeAttribute(r);break}n=Ct(""+n),e.setAttribute(r,n);break;case"onClick":null!=n&&(e.onclick=Xu);break;case"onScroll":null!=n&&Lu("scroll",e);break;case"onScrollEnd":null!=n&&Lu("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=n){if("object"!==typeof n||!("__html"in n))throw Error(o(61));if(null!=(r=n.__html)){if(null!=a.children)throw Error(o(60));e.innerHTML=r}}break;case"multiple":e.multiple=n&&"function"!==typeof n&&"symbol"!==typeof n;break;case"muted":e.muted=n&&"function"!==typeof n&&"symbol"!==typeof n;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==n||"function"===typeof n||"boolean"===typeof n||"symbol"===typeof n){e.removeAttribute("xlink:href");break}r=Ct(""+n),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=n&&"function"!==typeof n&&"symbol"!==typeof n?e.setAttribute(r,""+n):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":n&&"function"!==typeof n&&"symbol"!==typeof n?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":!0===n?e.setAttribute(r,""):!1!==n&&null!=n&&"function"!==typeof n&&"symbol"!==typeof n?e.setAttribute(r,n):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":null!=n&&"function"!==typeof n&&"symbol"!==typeof n&&!isNaN(n)&&1<=n?e.setAttribute(r,n):e.removeAttribute(r);break;case"rowSpan":case"start":null==n||"function"===typeof n||"symbol"===typeof n||isNaN(n)?e.removeAttribute(r):e.setAttribute(r,n);break;case"popover":Lu("beforetoggle",e),Lu("toggle",e),tt(e,"popover",n);break;case"xlinkActuate":nt(e,"http://www.w3.org/1999/xlink","xlink:actuate",n);break;case"xlinkArcrole":nt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",n);break;case"xlinkRole":nt(e,"http://www.w3.org/1999/xlink","xlink:role",n);break;case"xlinkShow":nt(e,"http://www.w3.org/1999/xlink","xlink:show",n);break;case"xlinkTitle":nt(e,"http://www.w3.org/1999/xlink","xlink:title",n);break;case"xlinkType":nt(e,"http://www.w3.org/1999/xlink","xlink:type",n);break;case"xmlBase":nt(e,"http://www.w3.org/XML/1998/namespace","xml:base",n);break;case"xmlLang":nt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",n);break;case"xmlSpace":nt(e,"http://www.w3.org/XML/1998/namespace","xml:space",n);break;case"is":tt(e,"is",n);break;case"innerText":case"textContent":break;default:(!(2<r.length)||"o"!==r[0]&&"O"!==r[0]||"n"!==r[1]&&"N"!==r[1])&&tt(e,r=_t.get(r)||r,n)}}function Zu(e,t,r,n,a,i){switch(r){case"style":Nt(e,n,i);break;case"dangerouslySetInnerHTML":if(null!=n){if("object"!==typeof n||!("__html"in n))throw Error(o(61));if(null!=(r=n.__html)){if(null!=a.children)throw Error(o(60));e.innerHTML=r}}break;case"children":"string"===typeof n?kt(e,n):("number"===typeof n||"bigint"===typeof n)&&kt(e,""+n);break;case"onScroll":null!=n&&Lu("scroll",e);break;case"onScrollEnd":null!=n&&Lu("scrollend",e);break;case"onClick":null!=n&&(e.onclick=Xu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:We.hasOwnProperty(r)||("o"!==r[0]||"n"!==r[1]||(a=r.endsWith("Capture"),t=r.slice(2,a?r.length-7:void 0),"function"===typeof(i=null!=(i=e[Pe]||null)?i[r]:null)&&e.removeEventListener(t,i,a),"function"!==typeof n)?r in e?e[r]=n:!0===n?e.setAttribute(r,""):tt(e,r,n):("function"!==typeof i&&null!==i&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(t,n,a)))}}function ed(e,t,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Lu("error",e),Lu("load",e);var n,a=!1,i=!1;for(n in r)if(r.hasOwnProperty(n)){var s=r[n];if(null!=s)switch(n){case"src":a=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:Ju(e,t,n,s,r,null)}}return i&&Ju(e,t,"srcSet",r.srcSet,r,null),void(a&&Ju(e,t,"src",r.src,r,null));case"input":Lu("invalid",e);var l=n=s=i=null,c=null,u=null;for(a in r)if(r.hasOwnProperty(a)){var d=r[a];if(null!=d)switch(a){case"name":i=d;break;case"type":s=d;break;case"checked":c=d;break;case"defaultChecked":u=d;break;case"value":n=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(o(137,t));break;default:Ju(e,t,a,d,r,null)}}return yt(e,n,l,c,u,s,i,!1),void dt(e);case"select":for(i in Lu("invalid",e),a=s=n=null,r)if(r.hasOwnProperty(i)&&null!=(l=r[i]))switch(i){case"value":n=l;break;case"defaultValue":s=l;break;case"multiple":a=l;default:Ju(e,t,i,l,r,null)}return t=n,r=s,e.multiple=!!a,void(null!=t?bt(e,!!a,t,!1):null!=r&&bt(e,!!a,r,!0));case"textarea":for(s in Lu("invalid",e),n=i=a=null,r)if(r.hasOwnProperty(s)&&null!=(l=r[s]))switch(s){case"value":a=l;break;case"defaultValue":i=l;break;case"children":n=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(o(91));break;default:Ju(e,t,s,l,r,null)}return wt(e,a,i,n),void dt(e);case"option":for(c in r)if(r.hasOwnProperty(c)&&null!=(a=r[c]))if("selected"===c)e.selected=a&&"function"!==typeof a&&"symbol"!==typeof a;else Ju(e,t,c,a,r,null);return;case"dialog":Lu("beforetoggle",e),Lu("toggle",e),Lu("cancel",e),Lu("close",e);break;case"iframe":case"object":Lu("load",e);break;case"video":case"audio":for(a=0;a<Du.length;a++)Lu(Du[a],e);break;case"image":Lu("error",e),Lu("load",e);break;case"details":Lu("toggle",e);break;case"embed":case"source":case"link":Lu("error",e),Lu("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in r)if(r.hasOwnProperty(u)&&null!=(a=r[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:Ju(e,t,u,a,r,null)}return;default:if(Et(t)){for(d in r)r.hasOwnProperty(d)&&(void 0!==(a=r[d])&&Zu(e,t,d,a,r,void 0));return}}for(l in r)r.hasOwnProperty(l)&&(null!=(a=r[l])&&Ju(e,t,l,a,r,null))}var td=null,rd=null;function nd(e){return 9===e.nodeType?e:e.ownerDocument}function ad(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function id(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function od(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var sd=null;var ld="function"===typeof setTimeout?setTimeout:void 0,cd="function"===typeof clearTimeout?clearTimeout:void 0,ud="function"===typeof Promise?Promise:void 0,dd="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ud?function(e){return ud.resolve(null).then(e).catch(hd)}:ld;function hd(e){setTimeout(function(){throw e})}function fd(e){return"head"===e}function pd(e,t){var r=t,n=0,a=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&8===i.nodeType)if("/$"===(r=i.data)){if(0<n&&8>n){r=n;var o=e.ownerDocument;if(1&r&&wd(o.documentElement),2&r&&wd(o.body),4&r)for(wd(r=o.head),o=r.firstChild;o;){var s=o.nextSibling,l=o.nodeName;o[ze]||"SCRIPT"===l||"STYLE"===l||"LINK"===l&&"stylesheet"===o.rel.toLowerCase()||r.removeChild(o),o=s}}if(0===a)return e.removeChild(i),void _h(t);a--}else"$"===r||"$?"===r||"$!"===r?a++:n=r.charCodeAt(0)-48;else n=0;r=i}while(r);_h(t)}function md(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var r=t;switch(t=t.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":md(r),Ue(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===r.rel.toLowerCase())continue}e.removeChild(r)}}function gd(e){return"$!"===e.data||"$?"===e.data&&"complete"===e.ownerDocument.readyState}function yd(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"F!"===t||"F"===t)break;if("/$"===t)return null}}return e}var vd=null;function bd(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var r=e.data;if("$"===r||"$!"===r||"$?"===r){if(0===t)return e;t--}else"/$"===r&&t++}e=e.previousSibling}return null}function xd(e,t,r){switch(t=nd(r),e){case"html":if(!(e=t.documentElement))throw Error(o(452));return e;case"head":if(!(e=t.head))throw Error(o(453));return e;case"body":if(!(e=t.body))throw Error(o(454));return e;default:throw Error(o(451))}}function wd(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Ue(e)}var kd=new Map,jd=new Set;function Sd(e){return"function"===typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Nd=M.d;M.d={f:function(){var e=Nd.f(),t=Vc();return e||t},r:function(e){var t=Be(e);null!==t&&5===t.tag&&"form"===t.type?Po(t):Nd.r(e)},D:function(e){Nd.D(e),_d("dns-prefetch",e,null)},C:function(e,t){Nd.C(e,t),_d("preconnect",e,t)},L:function(e,t,r){Nd.L(e,t,r);var n=Ed;if(n&&e&&t){var a='link[rel="preload"][as="'+mt(t)+'"]';"image"===t&&r&&r.imageSrcSet?(a+='[imagesrcset="'+mt(r.imageSrcSet)+'"]',"string"===typeof r.imageSizes&&(a+='[imagesizes="'+mt(r.imageSizes)+'"]')):a+='[href="'+mt(e)+'"]';var i=a;switch(t){case"style":i=Cd(e);break;case"script":i=Id(e)}kd.has(i)||(e=h({rel:"preload",href:"image"===t&&r&&r.imageSrcSet?void 0:e,as:t},r),kd.set(i,e),null!==n.querySelector(a)||"style"===t&&n.querySelector(Td(i))||"script"===t&&n.querySelector(Pd(i))||(ed(t=n.createElement("link"),"link",e),He(t),n.head.appendChild(t)))}},m:function(e,t){Nd.m(e,t);var r=Ed;if(r&&e){var n=t&&"string"===typeof t.as?t.as:"script",a='link[rel="modulepreload"][as="'+mt(n)+'"][href="'+mt(e)+'"]',i=a;switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=Id(e)}if(!kd.has(i)&&(e=h({rel:"modulepreload",href:e},t),kd.set(i,e),null===r.querySelector(a))){switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Pd(i)))return}ed(n=r.createElement("link"),"link",e),He(n),r.head.appendChild(n)}}},X:function(e,t){Nd.X(e,t);var r=Ed;if(r&&e){var n=qe(r).hoistableScripts,a=Id(e),i=n.get(a);i||((i=r.querySelector(Pd(a)))||(e=h({src:e,async:!0},t),(t=kd.get(a))&&Ld(e,t),He(i=r.createElement("script")),ed(i,"link",e),r.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},n.set(a,i))}},S:function(e,t,r){Nd.S(e,t,r);var n=Ed;if(n&&e){var a=qe(n).hoistableStyles,i=Cd(e);t=t||"default";var o=a.get(i);if(!o){var s={loading:0,preload:null};if(o=n.querySelector(Td(i)))s.loading=5;else{e=h({rel:"stylesheet",href:e,"data-precedence":t},r),(r=kd.get(i))&&Rd(e,r);var l=o=n.createElement("link");He(l),ed(l,"link",e),l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),l.addEventListener("load",function(){s.loading|=1}),l.addEventListener("error",function(){s.loading|=2}),s.loading|=4,Md(o,t,n)}o={type:"stylesheet",instance:o,count:1,state:s},a.set(i,o)}}},M:function(e,t){Nd.M(e,t);var r=Ed;if(r&&e){var n=qe(r).hoistableScripts,a=Id(e),i=n.get(a);i||((i=r.querySelector(Pd(a)))||(e=h({src:e,async:!0,type:"module"},t),(t=kd.get(a))&&Ld(e,t),He(i=r.createElement("script")),ed(i,"link",e),r.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},n.set(a,i))}}};var Ed="undefined"===typeof document?null:document;function _d(e,t,r){var n=Ed;if(n&&"string"===typeof t&&t){var a=mt(t);a='link[rel="'+e+'"][href="'+a+'"]',"string"===typeof r&&(a+='[crossorigin="'+r+'"]'),jd.has(a)||(jd.add(a),e={rel:e,crossOrigin:r,href:t},null===n.querySelector(a)&&(ed(t=n.createElement("link"),"link",e),He(t),n.head.appendChild(t)))}}function Ad(e,t,r,n){var a,i,s,l,c=(c=q.current)?Sd(c):null;if(!c)throw Error(o(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof r.precedence&&"string"===typeof r.href?(t=Cd(r.href),(n=(r=qe(c).hoistableStyles).get(t))||(n={type:"style",instance:null,count:0,state:null},r.set(t,n)),n):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===r.rel&&"string"===typeof r.href&&"string"===typeof r.precedence){e=Cd(r.href);var u=qe(c).hoistableStyles,d=u.get(e);if(d||(c=c.ownerDocument||c,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,d),(u=c.querySelector(Td(e)))&&!u._p&&(d.instance=u,d.state.loading=5),kd.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},kd.set(e,r),u||(a=c,i=e,s=r,l=d.state,a.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=a.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),ed(i,"link",s),He(i),a.head.appendChild(i))))),t&&null===n)throw Error(o(528,""));return d}if(t&&null!==n)throw Error(o(529,""));return null;case"script":return t=r.async,"string"===typeof(r=r.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=Id(r),(n=(r=qe(c).hoistableScripts).get(t))||(n={type:"script",instance:null,count:0,state:null},r.set(t,n)),n):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,e))}}function Cd(e){return'href="'+mt(e)+'"'}function Td(e){return'link[rel="stylesheet"]['+e+"]"}function Od(e){return h({},e,{"data-precedence":e.precedence,precedence:null})}function Id(e){return'[src="'+mt(e)+'"]'}function Pd(e){return"script[async]"+e}function Dd(e,t,r){if(t.count++,null===t.instance)switch(t.type){case"style":var n=e.querySelector('style[data-href~="'+mt(r.href)+'"]');if(n)return t.instance=n,He(n),n;var a=h({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return He(n=(e.ownerDocument||e).createElement("style")),ed(n,"style",a),Md(n,r.precedence,e),t.instance=n;case"stylesheet":a=Cd(r.href);var i=e.querySelector(Td(a));if(i)return t.state.loading|=4,t.instance=i,He(i),i;n=Od(r),(a=kd.get(a))&&Rd(n,a),He(i=(e.ownerDocument||e).createElement("link"));var s=i;return s._p=new Promise(function(e,t){s.onload=e,s.onerror=t}),ed(i,"link",n),t.state.loading|=4,Md(i,r.precedence,e),t.instance=i;case"script":return i=Id(r.src),(a=e.querySelector(Pd(i)))?(t.instance=a,He(a),a):(n=r,(a=kd.get(i))&&Ld(n=h({},r),a),He(a=(e=e.ownerDocument||e).createElement("script")),ed(a,"link",n),e.head.appendChild(a),t.instance=a);case"void":return null;default:throw Error(o(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(n=t.instance,t.state.loading|=4,Md(n,r.precedence,e));return t.instance}function Md(e,t,r){for(var n=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),a=n.length?n[n.length-1]:null,i=a,o=0;o<n.length;o++){var s=n[o];if(s.dataset.precedence===t)i=s;else if(i!==a)break}i?i.parentNode.insertBefore(e,i.nextSibling):(t=9===r.nodeType?r.head:r).insertBefore(e,t.firstChild)}function Rd(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function Ld(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var Fd=null;function zd(e,t,r){if(null===Fd){var n=new Map,a=Fd=new Map;a.set(r,n)}else(n=(a=Fd).get(r))||(n=new Map,a.set(r,n));if(n.has(e))return n;for(n.set(e,null),r=r.getElementsByTagName(e),a=0;a<r.length;a++){var i=r[a];if(!(i[ze]||i[Ie]||"link"===e&&"stylesheet"===i.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==i.namespaceURI){var o=i.getAttribute(t)||"";o=e+o;var s=n.get(o);s?s.push(i):n.set(o,[i])}}return n}function Ud(e,t,r){(e=e.ownerDocument||e).head.insertBefore(r,"title"===t?e.querySelector("head > title"):null)}function Vd(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var Bd=null;function $d(){}function qd(){if(this.count--,0===this.count)if(this.stylesheets)Kd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var Hd=null;function Kd(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,Hd=new Map,t.forEach(Wd,e),Hd=null,qd.call(e))}function Wd(e,t){if(!(4&t.state.loading)){var r=Hd.get(e);if(r)var n=r.get(null);else{r=new Map,Hd.set(e,r);for(var a=e.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<a.length;i++){var o=a[i];"LINK"!==o.nodeName&&"not all"===o.getAttribute("media")||(r.set(o.dataset.precedence,o),n=o)}n&&r.set(null,n)}o=(a=t.instance).getAttribute("data-precedence"),(i=r.get(o)||n)===n&&r.set(null,a),r.set(o,a),this.count++,n=qd.bind(this),a.addEventListener("load",n),a.addEventListener("error",n),i?i.parentNode.insertBefore(a,i.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(a,e.firstChild),t.state.loading|=4}}var Gd={$$typeof:w,Provider:null,Consumer:null,_currentValue:R,_currentValue2:R,_threadCount:0};function Yd(e,t,r,n,a,i,o,s){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Se(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Se(0),this.hiddenUpdates=Se(null),this.identifierPrefix=n,this.onUncaughtError=a,this.onCaughtError=i,this.onRecoverableError=o,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=s,this.incompleteTransitions=new Map}function Qd(e,t,r,n,a,i,o,s,l,c,u,d){return e=new Yd(e,t,r,o,s,l,c,d),t=1,!0===i&&(t|=24),i=Rn(3,null,null,t),e.current=i,i.stateNode=e,(t=Pa()).refCount++,e.pooledCache=t,t.refCount++,i.memoizedState={element:n,isDehydrated:r,cache:t},ri(i),e}function Xd(e){return e?e=Dn:Dn}function Jd(e,t,r,n,a,i){a=Xd(a),null===n.context?n.context=a:n.pendingContext=a,(n=ai(t)).payload={element:r},null!==(i=void 0===i?null:i)&&(n.callback=i),null!==(r=ii(e,n,t))&&(Rc(r,0,t),oi(r,e,t))}function Zd(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var r=e.retryLane;e.retryLane=0!==r&&r<t?r:t}}function eh(e,t){Zd(e,t),(e=e.alternate)&&Zd(e,t)}function th(e){if(13===e.tag){var t=On(e,67108864);null!==t&&Rc(t,0,67108864),eh(e,67108864)}}var rh=!0;function nh(e,t,r,n){var a=D.T;D.T=null;var i=M.p;try{M.p=2,ih(e,t,r,n)}finally{M.p=i,D.T=a}}function ah(e,t,r,n){var a=D.T;D.T=null;var i=M.p;try{M.p=8,ih(e,t,r,n)}finally{M.p=i,D.T=a}}function ih(e,t,r,n){if(rh){var a=oh(n);if(null===a)Bu(e,t,n,sh,r),vh(e,n);else if(function(e,t,r,n,a){switch(t){case"focusin":return dh=bh(dh,e,t,r,n,a),!0;case"dragenter":return hh=bh(hh,e,t,r,n,a),!0;case"mouseover":return fh=bh(fh,e,t,r,n,a),!0;case"pointerover":var i=a.pointerId;return ph.set(i,bh(ph.get(i)||null,e,t,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,mh.set(i,bh(mh.get(i)||null,e,t,r,n,a)),!0}return!1}(a,e,t,r,n))n.stopPropagation();else if(vh(e,n),4&t&&-1<yh.indexOf(e)){for(;null!==a;){var i=Be(a);if(null!==i)switch(i.tag){case 3:if((i=i.stateNode).current.memoizedState.isDehydrated){var o=ve(i.pendingLanes);if(0!==o){var s=i;for(s.pendingLanes|=2,s.entangledLanes|=2;o;){var l=1<<31-fe(o);s.entanglements[1]|=l,o&=~l}ku(i),0===(6&rc)&&(kc=te()+500,ju(0,!1))}}break;case 13:null!==(s=On(i,2))&&Rc(s,0,2),Vc(),eh(i,2)}if(null===(i=oh(n))&&Bu(e,t,n,sh,r),i===a)break;a=i}null!==a&&n.stopPropagation()}else Bu(e,t,n,null,r)}}function oh(e){return lh(e=Ot(e))}var sh=null;function lh(e){if(sh=null,null!==(e=Ve(e))){var t=l(e);if(null===t)e=null;else{var r=t.tag;if(13===r){if(null!==(e=c(t)))return e;e=null}else if(3===r){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return sh=e,null}function ch(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(re()){case ne:return 2;case ae:return 8;case ie:case oe:return 32;case se:return 268435456;default:return 32}default:return 32}}var uh=!1,dh=null,hh=null,fh=null,ph=new Map,mh=new Map,gh=[],yh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function vh(e,t){switch(e){case"focusin":case"focusout":dh=null;break;case"dragenter":case"dragleave":hh=null;break;case"mouseover":case"mouseout":fh=null;break;case"pointerover":case"pointerout":ph.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":mh.delete(t.pointerId)}}function bh(e,t,r,n,a,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},null!==t&&(null!==(t=Be(t))&&th(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function xh(e){var t=Ve(e.target);if(null!==t){var r=l(t);if(null!==r)if(13===(t=r.tag)){if(null!==(t=c(r)))return e.blockedOn=t,void function(e,t){var r=M.p;try{return M.p=e,t()}finally{M.p=r}}(e.priority,function(){if(13===r.tag){var e=Dc();e=Ae(e);var t=On(r,e);null!==t&&Rc(t,0,e),eh(r,e)}})}else if(3===t&&r.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===r.tag?r.stateNode.containerInfo:null)}e.blockedOn=null}function wh(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var r=oh(e.nativeEvent);if(null!==r)return null!==(t=Be(r))&&th(t),e.blockedOn=r,!1;var n=new(r=e.nativeEvent).constructor(r.type,r);Tt=n,r.target.dispatchEvent(n),Tt=null,t.shift()}return!0}function kh(e,t,r){wh(e)&&r.delete(t)}function jh(){uh=!1,null!==dh&&wh(dh)&&(dh=null),null!==hh&&wh(hh)&&(hh=null),null!==fh&&wh(fh)&&(fh=null),ph.forEach(kh),mh.forEach(kh)}function Sh(e,t){e.blockedOn===t&&(e.blockedOn=null,uh||(uh=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,jh)))}var Nh=null;function Eh(e){Nh!==e&&(Nh=e,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Nh===e&&(Nh=null);for(var t=0;t<e.length;t+=3){var r=e[t],n=e[t+1],a=e[t+2];if("function"!==typeof n){if(null===lh(n||r))continue;break}var i=Be(r);null!==i&&(e.splice(t,3),t-=3,Oo(i,{pending:!0,data:a,method:r.method,action:n},n,a))}}))}function _h(e){function t(t){return Sh(t,e)}null!==dh&&Sh(dh,e),null!==hh&&Sh(hh,e),null!==fh&&Sh(fh,e),ph.forEach(t),mh.forEach(t);for(var r=0;r<gh.length;r++){var n=gh[r];n.blockedOn===e&&(n.blockedOn=null)}for(;0<gh.length&&null===(r=gh[0]).blockedOn;)xh(r),null===r.blockedOn&&gh.shift();if(null!=(r=(e.ownerDocument||e).$$reactFormReplay))for(n=0;n<r.length;n+=3){var a=r[n],i=r[n+1],o=a[Pe]||null;if("function"===typeof i)o||Eh(r);else if(o){var s=null;if(i&&i.hasAttribute("formAction")){if(a=i,o=i[Pe]||null)s=o.formAction;else if(null!==lh(a))continue}else s=o.action;"function"===typeof s?r[n+1]=s:(r.splice(n,3),n-=3),Eh(r)}}}function Ah(e){this._internalRoot=e}function Ch(e){this._internalRoot=e}Ch.prototype.render=Ah.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Jd(t.current,Dc(),e,t,null,null)},Ch.prototype.unmount=Ah.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;Jd(e.current,2,null,e,null,null),Vc(),t[De]=null}},Ch.prototype.unstable_scheduleHydration=function(e){if(e){var t=Te();e={blockedOn:null,target:e,priority:t};for(var r=0;r<gh.length&&0!==t&&t<gh[r].priority;r++);gh.splice(r,0,e),0===r&&xh(e)}};var Th=a.version;if("19.1.0"!==Th)throw Error(o(527,Th,"19.1.0"));M.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=l(e)))throw Error(o(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(null===a)break;var i=a.alternate;if(null===i){if(null!==(n=a.return)){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return u(a),e;if(i===n)return u(a),t;i=i.sibling}throw Error(o(188))}if(r.return!==n.return)r=a,n=i;else{for(var s=!1,c=a.child;c;){if(c===r){s=!0,r=a,n=i;break}if(c===n){s=!0,n=a,r=i;break}c=c.sibling}if(!s){for(c=i.child;c;){if(c===r){s=!0,r=i,n=a;break}if(c===n){s=!0,n=i,r=a;break}c=c.sibling}if(!s)throw Error(o(189))}}if(r.alternate!==n)throw Error(o(190))}if(3!==r.tag)throw Error(o(188));return r.stateNode.current===r?e:t}(t),e=null===(e=null!==e?d(e):null)?null:e.stateNode};var Oh={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:D,reconcilerVersion:"19.1.0"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Ih=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ih.isDisabled&&Ih.supportsFiber)try{ue=Ih.inject(Oh),de=Ih}catch(Dh){}}t.createRoot=function(e,t){if(!s(e))throw Error(o(299));var r=!1,n="",a=vs,i=bs,l=xs;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(r=!0),void 0!==t.identifierPrefix&&(n=t.identifierPrefix),void 0!==t.onUncaughtError&&(a=t.onUncaughtError),void 0!==t.onCaughtError&&(i=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&t.unstable_transitionCallbacks),t=Qd(e,1,!1,null,0,r,n,a,i,l,0,null),e[De]=t.current,Uu(e),new Ah(t)},t.hydrateRoot=function(e,t,r){if(!s(e))throw Error(o(299));var n=!1,a="",i=vs,l=bs,c=xs,u=null;return null!==r&&void 0!==r&&(!0===r.unstable_strictMode&&(n=!0),void 0!==r.identifierPrefix&&(a=r.identifierPrefix),void 0!==r.onUncaughtError&&(i=r.onUncaughtError),void 0!==r.onCaughtError&&(l=r.onCaughtError),void 0!==r.onRecoverableError&&(c=r.onRecoverableError),void 0!==r.unstable_transitionCallbacks&&r.unstable_transitionCallbacks,void 0!==r.formState&&(u=r.formState)),(t=Qd(e,1,!0,t,0,n,a,i,l,c,0,u)).context=Xd(null),r=t.current,(a=ai(n=Ae(n=Dc()))).callback=null,ii(r,a,n),r=n,t.current.lanes=r,Ne(t,r),ku(t),e[De]=t.current,Uu(e),new Ch(t)},t.version="19.1.0"},7043:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(2777),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,i=/^\w*$/;t.isKey=function(e,t){return!Array.isArray(e)&&(!("number"!==typeof e&&"boolean"!==typeof e&&null!=e&&!n.isSymbol(e))||("string"===typeof e&&(i.test(e)||!a.test(e))||null!=t&&Object.hasOwn(t,e)))}},7231:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(3799),a=r(4879);t.range=function(e,t,r){r&&"number"!==typeof r&&n.isIterateeCall(e,t,r)&&(t=r=void 0),e=a.toFinite(e),void 0===t?(t=e,e=0):t=a.toFinite(t),r=void 0===r?e<t?1:-1:a.toFinite(r);const i=Math.max(Math.ceil((t-e)/(r||1)),0),o=new Array(i);for(let n=0;n<i;n++)o[n]=e,e+=r;return o}},7237:(e,t,r)=>{"use strict";r(8365)},7260:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isUnsafeProperty=function(e){return"__proto__"===e}},7312:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.flatten=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;const r=[],n=Math.floor(t),a=(e,t)=>{for(let i=0;i<e.length;i++){const o=e[i];Array.isArray(o)&&t<n?a(o,t+1):r.push(o)}};return a(e,0),r}},7330:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(9323);t.property=function(e){return function(t){return n.get(t,e)}}},7599:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});t.argumentsTag="[object Arguments]",t.arrayBufferTag="[object ArrayBuffer]",t.arrayTag="[object Array]",t.bigInt64ArrayTag="[object BigInt64Array]",t.bigUint64ArrayTag="[object BigUint64Array]",t.booleanTag="[object Boolean]",t.dataViewTag="[object DataView]",t.dateTag="[object Date]",t.errorTag="[object Error]",t.float32ArrayTag="[object Float32Array]",t.float64ArrayTag="[object Float64Array]",t.functionTag="[object Function]",t.int16ArrayTag="[object Int16Array]",t.int32ArrayTag="[object Int32Array]",t.int8ArrayTag="[object Int8Array]",t.mapTag="[object Map]",t.numberTag="[object Number]",t.objectTag="[object Object]",t.regexpTag="[object RegExp]",t.setTag="[object Set]",t.stringTag="[object String]",t.symbolTag="[object Symbol]",t.uint16ArrayTag="[object Uint16Array]",t.uint32ArrayTag="[object Uint32Array]",t.uint8ArrayTag="[object Uint8Array]",t.uint8ClampedArrayTag="[object Uint8ClampedArray]"},7770:(e,t,r)=>{e.exports=r(9323).get},7820:(e,t,r)=>{e.exports=r(5414).throttle},7950:(e,t,r)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=r(6672)},8182:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(9330),a=r(4737);t.isEqual=function(e,t){return n.isEqualWith(e,t,a.noop)}},8210:function(e,t,r){var n;!function(){"use strict";var a,i=1e9,o={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},s=!0,l="[DecimalError] ",c=l+"Invalid argument: ",u=l+"Exponent out of range: ",d=Math.floor,h=Math.pow,f=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,p=1e7,m=9007199254740991,g=d(1286742750677284.5),y={};function v(e,t){var r,n,a,i,o,l,c,u,d=e.constructor,h=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),s?A(t,h):t;if(c=e.d,u=t.d,o=e.e,a=t.e,c=c.slice(),i=o-a){for(i<0?(n=c,i=-i,l=u.length):(n=u,a=o,l=c.length),i>(l=(o=Math.ceil(h/7))>l?o+1:l+1)&&(i=l,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for((l=c.length)-(i=u.length)<0&&(i=l,n=u,u=c,c=n),r=0;i;)r=(c[--i]=c[i]+u[i]+r)/p|0,c[i]%=p;for(r&&(c.unshift(r),++a),l=c.length;0==c[--l];)c.pop();return t.d=c,t.e=a,s?A(t,h):t}function b(e,t,r){if(e!==~~e||e<t||e>r)throw Error(c+e)}function x(e){var t,r,n,a=e.length-1,i="",o=e[0];if(a>0){for(i+=o,t=1;t<a;t++)(r=7-(n=e[t]+"").length)&&(i+=N(r)),i+=n;(r=7-(n=(o=e[t])+"").length)&&(i+=N(r))}else if(0===o)return"0";for(;o%10===0;)o/=10;return i+o}y.absoluteValue=y.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e},y.comparedTo=y.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(t=0,r=(n=i.d.length)<(a=e.d.length)?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1},y.decimalPlaces=y.dp=function(){var e=this,t=e.d.length-1,r=7*(t-e.e);if(t=e.d[t])for(;t%10==0;t/=10)r--;return r<0?0:r},y.dividedBy=y.div=function(e){return w(this,new this.constructor(e))},y.dividedToIntegerBy=y.idiv=function(e){var t=this.constructor;return A(w(this,new t(e),0,1),t.precision)},y.equals=y.eq=function(e){return!this.cmp(e)},y.exponent=function(){return j(this)},y.greaterThan=y.gt=function(e){return this.cmp(e)>0},y.greaterThanOrEqualTo=y.gte=function(e){return this.cmp(e)>=0},y.isInteger=y.isint=function(){return this.e>this.d.length-2},y.isNegative=y.isneg=function(){return this.s<0},y.isPositive=y.ispos=function(){return this.s>0},y.isZero=function(){return 0===this.s},y.lessThan=y.lt=function(e){return this.cmp(e)<0},y.lessThanOrEqualTo=y.lte=function(e){return this.cmp(e)<1},y.logarithm=y.log=function(e){var t,r=this,n=r.constructor,i=n.precision,o=i+5;if(void 0===e)e=new n(10);else if((e=new n(e)).s<1||e.eq(a))throw Error(l+"NaN");if(r.s<1)throw Error(l+(r.s?"NaN":"-Infinity"));return r.eq(a)?new n(0):(s=!1,t=w(E(r,o),E(e,o),o),s=!0,A(t,i))},y.minus=y.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?C(t,e):v(t,(e.s=-e.s,e))},y.modulo=y.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(!(e=new n(e)).s)throw Error(l+"NaN");return r.s?(s=!1,t=w(r,e,0,1).times(e),s=!0,r.minus(t)):A(new n(r),a)},y.naturalExponential=y.exp=function(){return k(this)},y.naturalLogarithm=y.ln=function(){return E(this)},y.negated=y.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e},y.plus=y.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?v(t,e):C(t,(e.s=-e.s,e))},y.precision=y.sd=function(e){var t,r,n,a=this;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(c+e);if(t=j(a)+1,r=7*(n=a.d.length-1)+1,n=a.d[n]){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r},y.squareRoot=y.sqrt=function(){var e,t,r,n,a,i,o,c=this,u=c.constructor;if(c.s<1){if(!c.s)return new u(0);throw Error(l+"NaN")}for(e=j(c),s=!1,0==(a=Math.sqrt(+c))||a==1/0?(((t=x(c.d)).length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=d((e+1)/2)-(e<0||e%2),n=new u(t=a==1/0?"5e"+e:(t=a.toExponential()).slice(0,t.indexOf("e")+1)+e)):n=new u(a.toString()),a=o=(r=u.precision)+3;;)if(n=(i=n).plus(w(c,i,o+2)).times(.5),x(i.d).slice(0,o)===(t=x(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&"4999"==t){if(A(i,r+1,0),i.times(i).eq(c)){n=i;break}}else if("9999"!=t)break;o+=4}return s=!0,A(n,r)},y.times=y.mul=function(e){var t,r,n,a,i,o,l,c,u,d=this,h=d.constructor,f=d.d,m=(e=new h(e)).d;if(!d.s||!e.s)return new h(0);for(e.s*=d.s,r=d.e+e.e,(c=f.length)<(u=m.length)&&(i=f,f=m,m=i,o=c,c=u,u=o),i=[],n=o=c+u;n--;)i.push(0);for(n=u;--n>=0;){for(t=0,a=c+n;a>n;)l=i[a]+m[n]*f[a-n-1]+t,i[a--]=l%p|0,t=l/p|0;i[a]=(i[a]+t)%p|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,s?A(e,h.precision):e},y.toDecimalPlaces=y.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),void 0===e?r:(b(e,0,i),void 0===t?t=n.rounding:b(t,0,8),A(r,e+j(r)+1,t))},y.toExponential=function(e,t){var r,n=this,a=n.constructor;return void 0===e?r=T(n,!0):(b(e,0,i),void 0===t?t=a.rounding:b(t,0,8),r=T(n=A(new a(n),e+1,t),!0,e+1)),r},y.toFixed=function(e,t){var r,n,a=this,o=a.constructor;return void 0===e?T(a):(b(e,0,i),void 0===t?t=o.rounding:b(t,0,8),r=T((n=A(new o(a),e+j(a)+1,t)).abs(),!1,e+j(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)},y.toInteger=y.toint=function(){var e=this,t=e.constructor;return A(new t(e),j(e)+1,t.rounding)},y.toNumber=function(){return+this},y.toPower=y.pow=function(e){var t,r,n,i,o,c,u=this,h=u.constructor,f=+(e=new h(e));if(!e.s)return new h(a);if(!(u=new h(u)).s){if(e.s<1)throw Error(l+"Infinity");return u}if(u.eq(a))return u;if(n=h.precision,e.eq(a))return A(u,n);if(c=(t=e.e)>=(r=e.d.length-1),o=u.s,c){if((r=f<0?-f:f)<=m){for(i=new h(a),t=Math.ceil(n/7+4),s=!1;r%2&&O((i=i.times(u)).d,t),0!==(r=d(r/2));)O((u=u.times(u)).d,t);return s=!0,e.s<0?new h(a).div(i):A(i,n)}}else if(o<0)throw Error(l+"NaN");return o=o<0&&1&e.d[Math.max(t,r)]?-1:1,u.s=1,s=!1,i=e.times(E(u,n+12)),s=!0,(i=k(i)).s=o,i},y.toPrecision=function(e,t){var r,n,a=this,o=a.constructor;return void 0===e?n=T(a,(r=j(a))<=o.toExpNeg||r>=o.toExpPos):(b(e,1,i),void 0===t?t=o.rounding:b(t,0,8),n=T(a=A(new o(a),e,t),e<=(r=j(a))||r<=o.toExpNeg,e)),n},y.toSignificantDigits=y.tosd=function(e,t){var r=this.constructor;return void 0===e?(e=r.precision,t=r.rounding):(b(e,1,i),void 0===t?t=r.rounding:b(t,0,8)),A(new r(this),e,t)},y.toString=y.valueOf=y.val=y.toJSON=function(){var e=this,t=j(e),r=e.constructor;return T(e,t<=r.toExpNeg||t>=r.toExpPos)};var w=function(){function e(e,t){var r,n=0,a=e.length;for(e=e.slice();a--;)r=e[a]*t+n,e[a]=r%p|0,n=r/p|0;return n&&e.unshift(n),e}function t(e,t,r,n){var a,i;if(r!=n)i=r>n?1:-1;else for(a=i=0;a<r;a++)if(e[a]!=t[a]){i=e[a]>t[a]?1:-1;break}return i}function r(e,t,r){for(var n=0;r--;)e[r]-=n,n=e[r]<t[r]?1:0,e[r]=n*p+e[r]-t[r];for(;!e[0]&&e.length>1;)e.shift()}return function(n,a,i,o){var s,c,u,d,h,f,m,g,y,v,b,x,w,k,S,N,E,_,C=n.constructor,T=n.s==a.s?1:-1,O=n.d,I=a.d;if(!n.s)return new C(n);if(!a.s)throw Error(l+"Division by zero");for(c=n.e-a.e,E=I.length,S=O.length,g=(m=new C(T)).d=[],u=0;I[u]==(O[u]||0);)++u;if(I[u]>(O[u]||0)&&--c,(x=null==i?i=C.precision:o?i+(j(n)-j(a))+1:i)<0)return new C(0);if(x=x/7+2|0,u=0,1==E)for(d=0,I=I[0],x++;(u<S||d)&&x--;u++)w=d*p+(O[u]||0),g[u]=w/I|0,d=w%I|0;else{for((d=p/(I[0]+1)|0)>1&&(I=e(I,d),O=e(O,d),E=I.length,S=O.length),k=E,v=(y=O.slice(0,E)).length;v<E;)y[v++]=0;(_=I.slice()).unshift(0),N=I[0],I[1]>=p/2&&++N;do{d=0,(s=t(I,y,E,v))<0?(b=y[0],E!=v&&(b=b*p+(y[1]||0)),(d=b/N|0)>1?(d>=p&&(d=p-1),1==(s=t(h=e(I,d),y,f=h.length,v=y.length))&&(d--,r(h,E<f?_:I,f))):(0==d&&(s=d=1),h=I.slice()),(f=h.length)<v&&h.unshift(0),r(y,h,v),-1==s&&(s=t(I,y,E,v=y.length))<1&&(d++,r(y,E<v?_:I,v)),v=y.length):0===s&&(d++,y=[0]),g[u++]=d,s&&y[0]?y[v++]=O[k]||0:(y=[O[k]],v=1)}while((k++<S||void 0!==y[0])&&x--)}return g[0]||g.shift(),m.e=c,A(m,o?i+j(m)+1:i)}}();function k(e,t){var r,n,i,o,l,c=0,d=0,f=e.constructor,p=f.precision;if(j(e)>16)throw Error(u+j(e));if(!e.s)return new f(a);for(null==t?(s=!1,l=p):l=t,o=new f(.03125);e.abs().gte(.1);)e=e.times(o),d+=5;for(l+=Math.log(h(2,d))/Math.LN10*2+5|0,r=n=i=new f(a),f.precision=l;;){if(n=A(n.times(e),l),r=r.times(++c),x((o=i.plus(w(n,r,l))).d).slice(0,l)===x(i.d).slice(0,l)){for(;d--;)i=A(i.times(i),l);return f.precision=p,null==t?(s=!0,A(i,p)):i}i=o}}function j(e){for(var t=7*e.e,r=e.d[0];r>=10;r/=10)t++;return t}function S(e,t,r){if(t>e.LN10.sd())throw s=!0,r&&(e.precision=r),Error(l+"LN10 precision limit exceeded");return A(new e(e.LN10),t)}function N(e){for(var t="";e--;)t+="0";return t}function E(e,t){var r,n,i,o,c,u,d,h,f,p=1,m=e,g=m.d,y=m.constructor,v=y.precision;if(m.s<1)throw Error(l+(m.s?"NaN":"-Infinity"));if(m.eq(a))return new y(0);if(null==t?(s=!1,h=v):h=t,m.eq(10))return null==t&&(s=!0),S(y,h);if(h+=10,y.precision=h,n=(r=x(g)).charAt(0),o=j(m),!(Math.abs(o)<15e14))return d=S(y,h+2,v).times(o+""),m=E(new y(n+"."+r.slice(1)),h-10).plus(d),y.precision=v,null==t?(s=!0,A(m,v)):m;for(;n<7&&1!=n||1==n&&r.charAt(1)>3;)n=(r=x((m=m.times(e)).d)).charAt(0),p++;for(o=j(m),n>1?(m=new y("0."+r),o++):m=new y(n+"."+r.slice(1)),u=c=m=w(m.minus(a),m.plus(a),h),f=A(m.times(m),h),i=3;;){if(c=A(c.times(f),h),x((d=u.plus(w(c,new y(i),h))).d).slice(0,h)===x(u.d).slice(0,h))return u=u.times(2),0!==o&&(u=u.plus(S(y,h+2,v).times(o+""))),u=w(u,new y(p),h),y.precision=v,null==t?(s=!0,A(u,v)):u;u=d,i+=2}}function _(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;48===t.charCodeAt(n);)++n;for(a=t.length;48===t.charCodeAt(a-1);)--a;if(t=t.slice(n,a)){if(a-=n,r=r-n-1,e.e=d(r/7),e.d=[],n=(r+1)%7,r<0&&(n+=7),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=7;n<a;)e.d.push(+t.slice(n,n+=7));n=7-(t=t.slice(n)).length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),s&&(e.e>g||e.e<-g))throw Error(u+r)}else e.s=0,e.e=0,e.d=[0];return e}function A(e,t,r){var n,a,i,o,l,c,f,m,y=e.d;for(o=1,i=y[0];i>=10;i/=10)o++;if((n=t-o)<0)n+=7,a=t,f=y[m=0];else{if((m=Math.ceil((n+1)/7))>=(i=y.length))return e;for(f=i=y[m],o=1;i>=10;i/=10)o++;a=(n%=7)-7+o}if(void 0!==r&&(l=f/(i=h(10,o-a-1))%10|0,c=t<0||void 0!==y[m+1]||f%i,c=r<4?(l||c)&&(0==r||r==(e.s<0?3:2)):l>5||5==l&&(4==r||c||6==r&&(n>0?a>0?f/h(10,o-a):0:y[m-1])%10&1||r==(e.s<0?8:7))),t<1||!y[0])return c?(i=j(e),y.length=1,t=t-i-1,y[0]=h(10,(7-t%7)%7),e.e=d(-t/7)||0):(y.length=1,y[0]=e.e=e.s=0),e;if(0==n?(y.length=m,i=1,m--):(y.length=m+1,i=h(10,7-n),y[m]=a>0?(f/h(10,o-a)%h(10,a)|0)*i:0),c)for(;;){if(0==m){(y[0]+=i)==p&&(y[0]=1,++e.e);break}if(y[m]+=i,y[m]!=p)break;y[m--]=0,i=1}for(n=y.length;0===y[--n];)y.pop();if(s&&(e.e>g||e.e<-g))throw Error(u+j(e));return e}function C(e,t){var r,n,a,i,o,l,c,u,d,h,f=e.constructor,m=f.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new f(e),s?A(t,m):t;if(c=e.d,h=t.d,n=t.e,u=e.e,c=c.slice(),o=u-n){for((d=o<0)?(r=c,o=-o,l=h.length):(r=h,n=u,l=c.length),o>(a=Math.max(Math.ceil(m/7),l)+2)&&(o=a,r.length=1),r.reverse(),a=o;a--;)r.push(0);r.reverse()}else{for((d=(a=c.length)<(l=h.length))&&(l=a),a=0;a<l;a++)if(c[a]!=h[a]){d=c[a]<h[a];break}o=0}for(d&&(r=c,c=h,h=r,t.s=-t.s),l=c.length,a=h.length-l;a>0;--a)c[l++]=0;for(a=h.length;a>o;){if(c[--a]<h[a]){for(i=a;i&&0===c[--i];)c[i]=p-1;--c[i],c[a]+=p}c[a]-=h[a]}for(;0===c[--l];)c.pop();for(;0===c[0];c.shift())--n;return c[0]?(t.d=c,t.e=n,s?A(t,m):t):new f(0)}function T(e,t,r){var n,a=j(e),i=x(e.d),o=i.length;return t?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+N(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+N(-a-1)+i,r&&(n=r-o)>0&&(i+=N(n))):a>=o?(i+=N(a+1-o),r&&(n=r-a-1)>0&&(i=i+"."+N(n))):((n=a+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(a+1===o&&(i+="."),i+=N(n))),e.s<0?"-"+i:i}function O(e,t){if(e.length>t)return e.length=t,!0}function I(e){if(!e||"object"!==typeof e)throw Error(l+"Object expected");var t,r,n,a=["precision",1,i,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if(void 0!==(n=e[r=a[t]])){if(!(d(n)===n&&n>=a[t+1]&&n<=a[t+2]))throw Error(c+r+": "+n);this[r]=n}if(void 0!==(n=e[r="LN10"])){if(n!=Math.LN10)throw Error(c+r+": "+n);this[r]=new this(n)}return this}o=function e(t){var r,n,a;function i(e){var t=this;if(!(t instanceof i))return new i(e);if(t.constructor=i,e instanceof i)return t.s=e.s,t.e=e.e,void(t.d=(e=e.d)?e.slice():e);if("number"===typeof e){if(0*e!==0)throw Error(c+e);if(e>0)t.s=1;else{if(!(e<0))return t.s=0,t.e=0,void(t.d=[0]);e=-e,t.s=-1}return e===~~e&&e<1e7?(t.e=0,void(t.d=[e])):_(t,e.toString())}if("string"!==typeof e)throw Error(c+e);if(45===e.charCodeAt(0)?(e=e.slice(1),t.s=-1):t.s=1,!f.test(e))throw Error(c+e);_(t,e)}if(i.prototype=y,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=e,i.config=i.set=I,void 0===t&&(t={}),t)for(a=["precision","rounding","toExpNeg","toExpPos","LN10"],r=0;r<a.length;)t.hasOwnProperty(n=a[r++])||(t[n]=this[n]);return i.config(t),i}(o),o.default=o.Decimal=o,a=new o(1),void 0===(n=function(){return o}.call(t,r,t,e))||(e.exports=n)}()},8268:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(2132);t.isMatch=function(e,t){return n.isMatchWith(e,t,()=>{})}},8346:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.toArray=function(e){return Array.isArray(e)?e:Array.from(e)}},8365:(e,t,r)=>{"use strict";var n=r(5043);var a="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},i=n.useSyncExternalStore,o=n.useRef,s=n.useEffect,l=n.useMemo,c=n.useDebugValue},8396:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(5508);t.cloneDeep=function(e){return n.cloneDeepWith(e)}},8420:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isLength=function(e){return Number.isSafeInteger(e)&&e>=0}},8443:(e,t,r)=>{"use strict";e.exports=r(9717)},8499:e=>{"use strict";var t=Object.prototype.hasOwnProperty,r="~";function n(){}function a(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function i(e,t,n,i,o){if("function"!==typeof n)throw new TypeError("The listener must be a function");var s=new a(n,i||e,o),l=r?r+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],s]:e._events[l].push(s):(e._events[l]=s,e._eventsCount++),e}function o(e,t){0===--e._eventsCount?e._events=new n:delete e._events[t]}function s(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(r=!1)),s.prototype.eventNames=function(){var e,n,a=[];if(0===this._eventsCount)return a;for(n in e=this._events)t.call(e,n)&&a.push(r?n.slice(1):n);return Object.getOwnPropertySymbols?a.concat(Object.getOwnPropertySymbols(e)):a},s.prototype.listeners=function(e){var t=r?r+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var a=0,i=n.length,o=new Array(i);a<i;a++)o[a]=n[a].fn;return o},s.prototype.listenerCount=function(e){var t=r?r+e:e,n=this._events[t];return n?n.fn?1:n.length:0},s.prototype.emit=function(e,t,n,a,i,o){var s=r?r+e:e;if(!this._events[s])return!1;var l,c,u=this._events[s],d=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),d){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,n),!0;case 4:return u.fn.call(u.context,t,n,a),!0;case 5:return u.fn.call(u.context,t,n,a,i),!0;case 6:return u.fn.call(u.context,t,n,a,i,o),!0}for(c=1,l=new Array(d-1);c<d;c++)l[c-1]=arguments[c];u.fn.apply(u.context,l)}else{var h,f=u.length;for(c=0;c<f;c++)switch(u[c].once&&this.removeListener(e,u[c].fn,void 0,!0),d){case 1:u[c].fn.call(u[c].context);break;case 2:u[c].fn.call(u[c].context,t);break;case 3:u[c].fn.call(u[c].context,t,n);break;case 4:u[c].fn.call(u[c].context,t,n,a);break;default:if(!l)for(h=1,l=new Array(d-1);h<d;h++)l[h-1]=arguments[h];u[c].fn.apply(u[c].context,l)}}return!0},s.prototype.on=function(e,t,r){return i(this,e,t,r,!1)},s.prototype.once=function(e,t,r){return i(this,e,t,r,!0)},s.prototype.removeListener=function(e,t,n,a){var i=r?r+e:e;if(!this._events[i])return this;if(!t)return o(this,i),this;var s=this._events[i];if(s.fn)s.fn!==t||a&&!s.once||n&&s.context!==n||o(this,i);else{for(var l=0,c=[],u=s.length;l<u;l++)(s[l].fn!==t||a&&!s[l].once||n&&s[l].context!==n)&&c.push(s[l]);c.length?this._events[i]=1===c.length?c[0]:c:o(this,i)}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=r?r+e:e,this._events[t]&&o(this,t)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,e.exports=s},8845:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(8268),a=r(3272),i=r(8396),o=r(9323),s=r(5303);t.matchesProperty=function(e,t){switch(typeof e){case"object":Object.is(e?.valueOf(),-0)&&(e="-0");break;case"number":e=a.toKey(e)}return t=i.cloneDeep(t),function(r){const a=o.get(r,e);return void 0===a?s.has(r,e):void 0===t?void 0===a:n.isMatch(a,t)}}},8853:(e,t,r)=>{"use strict";e.exports=r(5896)},9323:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(7260),a=r(2489),i=r(3272),o=r(1444);t.get=function e(t,r,s){if(null==t)return s;switch(typeof r){case"string":{if(n.isUnsafeProperty(r))return s;const i=t[r];return void 0===i?a.isDeepKey(r)?e(t,o.toPath(r),s):s:i}case"number":case"symbol":{"number"===typeof r&&(r=i.toKey(r));const e=t[r];return void 0===e?s:e}default:{if(Array.isArray(r))return function(e,t,r){if(0===t.length)return r;let a=e;for(let i=0;i<t.length;i++){if(null==a)return r;if(n.isUnsafeProperty(t[i]))return r;a=a[t[i]]}if(void 0===a)return r;return a}(t,r,s);if(r=Object.is(r?.valueOf(),-0)?"-0":String(r),n.isUnsafeProperty(r))return s;const e=t[r];return void 0===e?s:e}}}},9330:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(4385),a=r(6443),i=r(5990),o=r(7599),s=r(9972);function l(e,t,r,n,a,i,o){const s=o(e,t,r,n,a,i);if(void 0!==s)return s;if(typeof e===typeof t)switch(typeof e){case"bigint":case"string":case"boolean":case"symbol":case"undefined":case"function":return e===t;case"number":return e===t||Object.is(e,t);case"object":return c(e,t,i,o)}return c(e,t,i,o)}function c(e,t,r,u){if(Object.is(e,t))return!0;let d=i.getTag(e),h=i.getTag(t);if(d===o.argumentsTag&&(d=o.objectTag),h===o.argumentsTag&&(h=o.objectTag),d!==h)return!1;switch(d){case o.stringTag:return e.toString()===t.toString();case o.numberTag:{const r=e.valueOf(),n=t.valueOf();return s.eq(r,n)}case o.booleanTag:case o.dateTag:case o.symbolTag:return Object.is(e.valueOf(),t.valueOf());case o.regexpTag:return e.source===t.source&&e.flags===t.flags;case o.functionTag:return e===t}const f=(r=r??new Map).get(e),p=r.get(t);if(null!=f&&null!=p)return f===t;r.set(e,t),r.set(t,e);try{switch(d){case o.mapTag:if(e.size!==t.size)return!1;for(const[n,a]of e.entries())if(!t.has(n)||!l(a,t.get(n),n,e,t,r,u))return!1;return!0;case o.setTag:{if(e.size!==t.size)return!1;const n=Array.from(e.values()),a=Array.from(t.values());for(let i=0;i<n.length;i++){const o=n[i],s=a.findIndex(n=>l(o,n,void 0,e,t,r,u));if(-1===s)return!1;a.splice(s,1)}return!0}case o.arrayTag:case o.uint8ArrayTag:case o.uint8ClampedArrayTag:case o.uint16ArrayTag:case o.uint32ArrayTag:case o.bigUint64ArrayTag:case o.int8ArrayTag:case o.int16ArrayTag:case o.int32ArrayTag:case o.bigInt64ArrayTag:case o.float32ArrayTag:case o.float64ArrayTag:if("undefined"!==typeof Buffer&&Buffer.isBuffer(e)!==Buffer.isBuffer(t))return!1;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!l(e[n],t[n],n,e,t,r,u))return!1;return!0;case o.arrayBufferTag:return e.byteLength===t.byteLength&&c(new Uint8Array(e),new Uint8Array(t),r,u);case o.dataViewTag:return e.byteLength===t.byteLength&&e.byteOffset===t.byteOffset&&c(new Uint8Array(e),new Uint8Array(t),r,u);case o.errorTag:return e.name===t.name&&e.message===t.message;case o.objectTag:{if(!(c(e.constructor,t.constructor,r,u)||n.isPlainObject(e)&&n.isPlainObject(t)))return!1;const i=[...Object.keys(e),...a.getSymbols(e)],o=[...Object.keys(t),...a.getSymbols(t)];if(i.length!==o.length)return!1;for(let n=0;n<i.length;n++){const a=i[n],o=e[a];if(!Object.hasOwn(t,a))return!1;if(!l(o,t[a],a,e,t,r,u))return!1}return!0}default:return!1}}finally{r.delete(e),r.delete(t)}}t.isEqualWith=function(e,t,r){return l(e,t,void 0,void 0,void 0,void 0,r)}},9397:(e,t,r)=>{e.exports=r(2682).isPlainObject},9461:(e,t,r)=>{"use strict";e.exports=r(2330)},9599:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.identity=function(e){return e}},9645:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(6392),a=r(8346),i=r(1203);t.last=function(e){if(i.isArrayLike(e))return n.last(a.toArray(e))}},9709:(e,t)=>{"use strict";function r(e){return"symbol"===typeof e?1:null===e?2:void 0===e?3:e!==e?4:0}Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});t.compareValues=(e,t,n)=>{if(e!==t){const a=r(e),i=r(t);if(a===i&&0===a){if(e<t)return"desc"===n?1:-1;if(e>t)return"desc"===n?-1:1}return"desc"===n?i-a:a-i}return 0}},9717:(e,t,r)=>{"use strict";var n=r(5043),a=r(9461);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},o=a.useSyncExternalStore,s=n.useRef,l=n.useEffect,c=n.useMemo,u=n.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,r,n,a){var d=s(null);if(null===d.current){var h={hasValue:!1,value:null};d.current=h}else h=d.current;d=c(function(){function e(e){if(!l){if(l=!0,o=e,e=n(e),void 0!==a&&h.hasValue){var t=h.value;if(a(t,e))return s=t}return s=e}if(t=s,i(o,e))return t;var r=n(e);return void 0!==a&&a(t,r)?(o=e,t):(o=e,s=r)}var o,s,l=!1,c=void 0===r?null:r;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]},[t,r,n,a]);var f=o(e,d[0],d[1]);return l(function(){h.hasValue=!0,h.value=f},[f]),u(f),f}},9859:(e,t,r)=>{e.exports=r(7231).range},9921:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isObjectLike=function(e){return"object"===typeof e&&null!==e}},9972:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.eq=function(e,t){return e===t||Number.isNaN(e)&&Number.isNaN(t)}}},t={};function r(n){var a=t[n];if(void 0!==a)return a.exports;var i=t[n]={exports:{}};return e[n].call(i.exports,i,i.exports,r),i.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";var e={};r.r(e),r.d(e,{scaleBand:()=>Mj,scaleDiverging:()=>CA,scaleDivergingLog:()=>TA,scaleDivergingPow:()=>IA,scaleDivergingSqrt:()=>PA,scaleDivergingSymlog:()=>OA,scaleIdentity:()=>jN,scaleImplicit:()=>Pj,scaleLinear:()=>kN,scaleLog:()=>IN,scaleOrdinal:()=>Dj,scalePoint:()=>Lj,scalePow:()=>VN,scaleQuantile:()=>ZN,scaleQuantize:()=>eE,scaleRadial:()=>qN,scaleSequential:()=>kA,scaleSequentialLog:()=>jA,scaleSequentialPow:()=>NA,scaleSequentialQuantile:()=>_A,scaleSequentialSqrt:()=>EA,scaleSequentialSymlog:()=>SA,scaleSqrt:()=>BN,scaleSymlog:()=>RN,scaleThreshold:()=>tE,scaleTime:()=>vA,scaleUtc:()=>bA,tickFormat:()=>xN});var t=r(5043),n=r(4391),a="popstate";function i(){return h(function(e,t){let{pathname:r="/",search:n="",hash:a=""}=d(e.location.hash.substring(1));return r.startsWith("/")||r.startsWith(".")||(r="/"+r),c("",{pathname:r,search:n,hash:a},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){let r=e.document.querySelector("base"),n="";if(r&&r.getAttribute("href")){let t=e.location.href,r=t.indexOf("#");n=-1===r?t:t.slice(0,r)}return n+"#"+("string"===typeof t?t:u(t))},function(e,t){s("/"===e.pathname.charAt(0),`relative pathnames are not supported in hash history.push(${JSON.stringify(t)})`)},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function o(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function s(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(r){}}}function l(e,t){return{usr:e.state,key:e.key,idx:t}}function c(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3?arguments[3]:void 0;return{pathname:"string"===typeof e?e:e.pathname,search:"",hash:"",..."string"===typeof t?d(t):t,state:r,key:t&&t.key||n||Math.random().toString(36).substring(2,10)}}function u(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&"?"!==r&&(t+="?"===r.charAt(0)?r:"?"+r),n&&"#"!==n&&(t+="#"===n.charAt(0)?n:"#"+n),t}function d(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function h(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{window:i=document.defaultView,v5Compat:o=!1}=n,s=i.history,u="POP",d=null,h=p();function p(){return(s.state||{idx:null}).idx}function m(){u="POP";let e=p(),t=null==e?null:e-h;h=e,d&&d({action:u,location:y.location,delta:t})}function g(e){return f(e)}null==h&&(h=0,s.replaceState({...s.state,idx:h},""));let y={get action(){return u},get location(){return e(i,s)},listen(e){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(a,m),d=e,()=>{i.removeEventListener(a,m),d=null}},createHref:e=>t(i,e),createURL:g,encodeLocation(e){let t=g(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){u="PUSH";let n=c(y.location,e,t);r&&r(n,e),h=p()+1;let a=l(n,h),f=y.createHref(n);try{s.pushState(a,"",f)}catch(m){if(m instanceof DOMException&&"DataCloneError"===m.name)throw m;i.location.assign(f)}o&&d&&d({action:u,location:y.location,delta:1})},replace:function(e,t){u="REPLACE";let n=c(y.location,e,t);r&&r(n,e),h=p();let a=l(n,h),i=y.createHref(n);s.replaceState(a,"",i),o&&d&&d({action:u,location:y.location,delta:0})},go:e=>s.go(e)};return y}function f(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r="http://localhost";"undefined"!==typeof window&&(r="null"!==window.location.origin?window.location.origin:window.location.href),o(r,"No window.location.(origin|href) available to create URL");let n="string"===typeof e?e:u(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}new WeakMap;function p(e,t){return m(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",!1)}function m(e,t,r,n){let a=T(("string"===typeof t?d(t):t).pathname||"/",r);if(null==a)return null;let i=g(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let r=e.length===t.length&&e.slice(0,-1).every((e,r)=>e===t[r]);return r?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(i);let o=null;for(let s=0;null==o&&s<i.length;++s){let e=C(a);o=E(i[s],e,n)}return o}function g(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",a=(e,a,i)=>{let s={relativePath:void 0===i?e.path||"":i,caseSensitive:!0===e.caseSensitive,childrenIndex:a,route:e};s.relativePath.startsWith("/")&&(o(s.relativePath.startsWith(n),`Absolute route path "${s.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),s.relativePath=s.relativePath.slice(n.length));let l=M([n,s.relativePath]),c=r.concat(s);e.children&&e.children.length>0&&(o(!0!==e.index,`Index routes must not have child routes. Please remove all child routes from route path "${l}".`),g(e.children,t,c,l)),(null!=e.path||e.index)&&t.push({path:l,score:N(l,e.index),routesMeta:c})};return e.forEach((e,t)=>{if(""!==e.path&&e.path?.includes("?"))for(let r of y(e.path))a(e,t,r);else a(e,t)}),t}function y(e){let t=e.split("/");if(0===t.length)return[];let[r,...n]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(0===n.length)return a?[i,""]:[i];let o=y(n.join("/")),s=[];return s.push(...o.map(e=>""===e?i:[i,e].join("/"))),a&&s.push(...o),s.map(t=>e.startsWith("/")&&""===t?"/":t)}var v=/^:[\w-]+$/,b=3,x=2,w=1,k=10,j=-2,S=e=>"*"===e;function N(e,t){let r=e.split("/"),n=r.length;return r.some(S)&&(n+=j),t&&(n+=x),r.filter(e=>!S(e)).reduce((e,t)=>e+(v.test(t)?b:""===t?w:k),n)}function E(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{routesMeta:n}=e,a={},i="/",o=[];for(let s=0;s<n.length;++s){let e=n[s],l=s===n.length-1,c="/"===i?t:t.slice(i.length)||"/",u=_({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),d=e.route;if(!u&&l&&r&&!n[n.length-1].route.index&&(u=_({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(a,u.params),o.push({params:a,pathname:M([i,u.pathname]),pathnameBase:R(M([i,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(i=M([i,u.pathnameBase]))}return o}function _(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=A(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),s=a.slice(1),l=n.reduce((e,t,r)=>{let{paramName:n,isOptional:a}=t;if("*"===n){let e=s[r]||"";o=i.slice(0,i.length-e.length).replace(/(.)\/+$/,"$1")}const l=s[r];return e[n]=a&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{});return{params:l,pathname:i,pathnameBase:o,pattern:e}}function A(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];s("*"===e||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,r)=>(n.push({paramName:t,isOptional:null!=r}),r?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":""!==e&&"/"!==e&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function C(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return s(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function T(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&"/"!==n?null:e.slice(r)||"/"}function O(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function I(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function P(e){let t=I(e);return t.map((e,r)=>r===t.length-1?e.pathname:e.pathnameBase)}function D(e,t,r){let n,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"string"===typeof e?n=d(e):(n={...e},o(!n.pathname||!n.pathname.includes("?"),O("?","pathname","search",n)),o(!n.pathname||!n.pathname.includes("#"),O("#","pathname","hash",n)),o(!n.search||!n.search.includes("#"),O("#","search","hash",n)));let i,s=""===e||""===n.pathname,l=s?"/":n.pathname;if(null==l)i=r;else{let e=t.length-1;if(!a&&l.startsWith("..")){let t=l.split("/");for(;".."===t[0];)t.shift(),e-=1;n.pathname=t.join("/")}i=e>=0?t[e]:"/"}let c=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",{pathname:r,search:n="",hash:a=""}="string"===typeof e?d(e):e,i=r?r.startsWith("/")?r:function(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?r.length>1&&r.pop():"."!==e&&r.push(e)}),r.length>1?r.join("/"):"/"}(r,t):t;return{pathname:i,search:L(n),hash:F(a)}}(n,i),u=l&&"/"!==l&&l.endsWith("/"),h=(s||"."===l)&&r.endsWith("/");return c.pathname.endsWith("/")||!u&&!h||(c.pathname+="/"),c}var M=e=>e.join("/").replace(/\/\/+/g,"/"),R=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),L=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",F=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";function z(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var U=["POST","PUT","PATCH","DELETE"],V=(new Set(U),["GET",...U]);new Set(V),Symbol("ResetLoaderData");var B=t.createContext(null);B.displayName="DataRouter";var $=t.createContext(null);$.displayName="DataRouterState";var q=t.createContext(!1);var H=t.createContext({isTransitioning:!1});H.displayName="ViewTransition";var K=t.createContext(new Map);K.displayName="Fetchers";var W=t.createContext(null);W.displayName="Await";var G=t.createContext(null);G.displayName="Navigation";var Y=t.createContext(null);Y.displayName="Location";var Q=t.createContext({outlet:null,matches:[],isDataRoute:!1});Q.displayName="Route";var X=t.createContext(null);X.displayName="RouteError";function J(){return null!=t.useContext(Y)}function Z(){return o(J(),"useLocation() may be used only in the context of a <Router> component."),t.useContext(Y).location}var ee="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function te(e){t.useContext(G).static||t.useLayoutEffect(e)}function re(){let{isDataRoute:e}=t.useContext(Q);return e?function(){let{router:e}=de("useNavigate"),r=fe("useNavigate"),n=t.useRef(!1);te(()=>{n.current=!0});let a=t.useCallback(async function(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};s(n.current,ee),n.current&&("number"===typeof t?e.navigate(t):await e.navigate(t,{fromRouteId:r,...a}))},[e,r]);return a}():function(){o(J(),"useNavigate() may be used only in the context of a <Router> component.");let e=t.useContext(B),{basename:r,navigator:n}=t.useContext(G),{matches:a}=t.useContext(Q),{pathname:i}=Z(),l=JSON.stringify(P(a)),c=t.useRef(!1);te(()=>{c.current=!0});let u=t.useCallback(function(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(s(c.current,ee),!c.current)return;if("number"===typeof t)return void n.go(t);let o=D(t,JSON.parse(l),i,"path"===a.relative);null==e&&"/"!==r&&(o.pathname="/"===o.pathname?r:M([r,o.pathname])),(a.replace?n.replace:n.push)(o,a.state,a)},[r,n,l,i,e]);return u}()}t.createContext(null);function ne(e){let{relative:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{matches:n}=t.useContext(Q),{pathname:a}=Z(),i=JSON.stringify(P(n));return t.useMemo(()=>D(e,JSON.parse(i),a,"path"===r),[e,i,a,r])}function ae(e,r,n,a){o(J(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=t.useContext(G),{matches:l}=t.useContext(Q),c=l[l.length-1],u=c?c.params:{},h=c?c.pathname:"/",f=c?c.pathnameBase:"/",m=c&&c.route;{let e=m&&m.path||"";ge(h,!m||e.endsWith("*")||e.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${e}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="${e}"> to <Route path="${"/"===e?"*":`${e}/*`}">.`)}let g,y=Z();if(r){let e="string"===typeof r?d(r):r;o("/"===f||e.pathname?.startsWith(f),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${e.pathname}" was given in the \`location\` prop.`),g=e}else g=y;let v=g.pathname||"/",b=v;if("/"!==f){let e=f.replace(/^\//,"").split("/");b="/"+v.replace(/^\//,"").split("/").slice(e.length).join("/")}let x=p(e,{pathname:b});s(m||null!=x,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),s(null==x||void 0!==x[x.length-1].route.element||void 0!==x[x.length-1].route.Component||void 0!==x[x.length-1].route.lazy,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let w=ce(x&&x.map(e=>Object.assign({},e,{params:Object.assign({},u,e.params),pathname:M([f,i.encodeLocation?i.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?f:M([f,i.encodeLocation?i.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),l,n,a);return r&&w?t.createElement(Y.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...g},navigationType:"POP"}},w):w}function ie(){let e=pe(),r=z(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,a="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:a},o={padding:"2px 4px",backgroundColor:a},s=null;return console.error("Error handled by React Router default ErrorBoundary:",e),s=t.createElement(t.Fragment,null,t.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),t.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",t.createElement("code",{style:o},"ErrorBoundary")," or"," ",t.createElement("code",{style:o},"errorElement")," prop on your route.")),t.createElement(t.Fragment,null,t.createElement("h2",null,"Unexpected Application Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},r),n?t.createElement("pre",{style:i},n):null,s)}var oe=t.createElement(ie,null),se=class extends t.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?t.createElement(Q.Provider,{value:this.props.routeContext},t.createElement(X.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function le(e){let{routeContext:r,match:n,children:a}=e,i=t.useContext(B);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),t.createElement(Q.Provider,{value:r},a)}function ce(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(null==e){if(!n)return null;if(n.errors)e=n.matches;else{if(0!==r.length||n.initialized||!(n.matches.length>0))return null;e=n.matches}}let a=e,i=n?.errors;if(null!=i){let e=a.findIndex(e=>e.route.id&&void 0!==i?.[e.route.id]);o(e>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(i).join(",")}`),a=a.slice(0,Math.min(a.length,e+1))}let s=!1,l=-1;if(n)for(let t=0;t<a.length;t++){let e=a[t];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(l=t),e.route.id){let{loaderData:t,errors:r}=n,i=e.route.loader&&!t.hasOwnProperty(e.route.id)&&(!r||void 0===r[e.route.id]);if(e.route.lazy||i){s=!0,a=l>=0?a.slice(0,l+1):[a[0]];break}}}return a.reduceRight((e,o,c)=>{let u,d=!1,h=null,f=null;n&&(u=i&&o.route.id?i[o.route.id]:void 0,h=o.route.errorElement||oe,s&&(l<0&&0===c?(ge("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),d=!0,f=null):l===c&&(d=!0,f=o.route.hydrateFallbackElement||null)));let p=r.concat(a.slice(0,c+1)),m=()=>{let r;return r=u?h:d?f:o.route.Component?t.createElement(o.route.Component,null):o.route.element?o.route.element:e,t.createElement(le,{match:o,routeContext:{outlet:e,matches:p,isDataRoute:null!=n},children:r})};return n&&(o.route.ErrorBoundary||o.route.errorElement||0===c)?t.createElement(se,{location:n.location,revalidation:n.revalidation,component:h,error:u,children:m(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):m()},null)}function ue(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function de(e){let r=t.useContext(B);return o(r,ue(e)),r}function he(e){let r=t.useContext($);return o(r,ue(e)),r}function fe(e){let r=function(e){let r=t.useContext(Q);return o(r,ue(e)),r}(e),n=r.matches[r.matches.length-1];return o(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function pe(){let e=t.useContext(X),r=he("useRouteError"),n=fe("useRouteError");return void 0!==e?e:r.errors?.[n]}var me={};function ge(e,t,r){t||me[e]||(me[e]=!0,s(!1,r))}var ye={};function ve(e,t){e||ye[t]||(ye[t]=!0,console.warn(t))}t.memo(function(e){let{routes:t,future:r,state:n}=e;return ae(t,void 0,n,r)});function be(e){let{to:r,replace:n,state:a,relative:i}=e;o(J(),"<Navigate> may be used only in the context of a <Router> component.");let{static:l}=t.useContext(G);s(!l,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=t.useContext(Q),{pathname:u}=Z(),d=re(),h=D(r,P(c),u,"path"===i),f=JSON.stringify(h);return t.useEffect(()=>{d(JSON.parse(f),{replace:n,state:a,relative:i})},[d,f,i,n,a]),null}function xe(e){o(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function we(e){let{basename:r="/",children:n=null,location:a,navigationType:i="POP",navigator:l,static:c=!1}=e;o(!J(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=r.replace(/^\/*/,"/"),h=t.useMemo(()=>({basename:u,navigator:l,static:c,future:{}}),[u,l,c]);"string"===typeof a&&(a=d(a));let{pathname:f="/",search:p="",hash:m="",state:g=null,key:y="default"}=a,v=t.useMemo(()=>{let e=T(f,u);return null==e?null:{location:{pathname:e,search:p,hash:m,state:g,key:y},navigationType:i}},[u,f,p,m,g,y,i]);return s(null!=v,`<Router basename="${u}"> is not able to match the URL "${f}${p}${m}" because it does not start with the basename, so the <Router> won't render anything.`),null==v?null:t.createElement(G.Provider,{value:h},t.createElement(Y.Provider,{children:n,value:v}))}function ke(e){let{children:t,location:r}=e;return ae(je(t),r)}t.Component;function je(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[];return t.Children.forEach(e,(e,a)=>{if(!t.isValidElement(e))return;let i=[...r,a];if(e.type===t.Fragment)return void n.push.apply(n,je(e.props.children,i));o(e.type===xe,`[${"string"===typeof e.type?e.type:e.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),o(!e.props.index||!e.props.children,"An index route cannot have child routes.");let s={id:e.props.id||i.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,hydrateFallbackElement:e.props.hydrateFallbackElement,HydrateFallback:e.props.HydrateFallback,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:!0===e.props.hasErrorBoundary||null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(s.children=je(e.props.children,i)),n.push(s)}),n}var Se="get",Ne="application/x-www-form-urlencoded";function Ee(e){return null!=e&&"string"===typeof e.tagName}var _e=null;var Ae=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ce(e){return null==e||Ae.has(e)?e:(s(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ne}"`),null)}function Te(e,t){let r,n,a,i,o;if(function(e){return Ee(e)&&"form"===e.tagName.toLowerCase()}(e)){let o=e.getAttribute("action");n=o?T(o,t):null,r=e.getAttribute("method")||Se,a=Ce(e.getAttribute("enctype"))||Ne,i=new FormData(e)}else if(function(e){return Ee(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return Ee(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let o=e.form;if(null==o)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let s=e.getAttribute("formaction")||o.getAttribute("action");if(n=s?T(s,t):null,r=e.getAttribute("formmethod")||o.getAttribute("method")||Se,a=Ce(e.getAttribute("formenctype"))||Ce(o.getAttribute("enctype"))||Ne,i=new FormData(o,e),!function(){if(null===_e)try{new FormData(document.createElement("form"),0),_e=!1}catch(e){_e=!0}return _e}()){let{name:t,type:r,value:n}=e;if("image"===r){let e=t?`${t}.`:"";i.append(`${e}x`,"0"),i.append(`${e}y`,"0")}else t&&i.append(t,n)}}else{if(Ee(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Se,n=null,a=Ne,o=e}return i&&"text/plain"===a&&(o=i,i=void 0),{action:n,method:r.toLowerCase(),encType:a,formData:i,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");"undefined"!==typeof window?window:"undefined"!==typeof globalThis&&globalThis;function Oe(e){return{__html:e}}function Ie(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}Symbol("SingleFetchRedirect");function Pe(e,t,r){let n="string"===typeof e?new URL(e,"undefined"===typeof window?"server://singlefetch/":window.location.origin):e;return"/"===n.pathname?n.pathname=`_root.${r}`:t&&"/"===T(n.pathname,t)?n.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${r}`,n}async function De(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Me(e){return null!=e&&"string"===typeof e.page}function Re(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"===typeof e.imageSrcSet&&"string"===typeof e.imageSizes:"string"===typeof e.rel&&"string"===typeof e.href)}function Le(e,t,r,n,a,i){let o=(e,t)=>!r[t]||e.route.id!==r[t].route.id,s=(e,t)=>r[t].pathname!==e.pathname||r[t].route.path?.endsWith("*")&&r[t].params["*"]!==e.params["*"];return"assets"===i?t.filter((e,t)=>o(e,t)||s(e,t)):"data"===i?t.filter((t,i)=>{let l=n.routes[t.route.id];if(!l||!l.hasLoader)return!1;if(o(t,i)||s(t,i))return!0;if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"===typeof n)return n}return!0}):[]}function Fe(e,t){let{includeHydrateFallback:r}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n=e.map(e=>{let n=t.routes[e.route.id];if(!n)return[];let a=[n.module];return n.clientActionModule&&(a=a.concat(n.clientActionModule)),n.clientLoaderModule&&(a=a.concat(n.clientLoaderModule)),r&&n.hydrateFallbackModule&&(a=a.concat(n.hydrateFallbackModule)),n.imports&&(a=a.concat(n.imports)),a}).flat(1),[...new Set(n)];var n}function ze(e,t){let r=new Set,n=new Set(t);return e.reduce((e,a)=>{if(t&&!Me(a)&&"script"===a.as&&a.href&&n.has(a.href))return e;let i=JSON.stringify(function(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}(a));return r.has(i)||(r.add(i),e.push({key:i,link:a})),e},[])}function Ue(e,t){return"lazy"===e.mode&&!0===t}function Ve(){let e=t.useContext(B);return Ie(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function Be(){let e=t.useContext($);return Ie(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var $e=t.createContext(void 0);function qe(){let e=t.useContext($e);return Ie(e,"You must render this element inside a <HydratedRouter> element"),e}function He(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function Ke(e,t,r){if(r&&!Qe)return[e[0]];if(t){let r=e.findIndex(e=>void 0!==t[e.route.id]);return e.slice(0,r+1)}return e}$e.displayName="FrameworkContext";function We(e){let{page:r,...n}=e,{router:a}=Ve(),i=t.useMemo(()=>p(a.routes,r,a.basename),[a.routes,r,a.basename]);return i?t.createElement(Ye,{page:r,matches:i,...n}):null}function Ge(e){let{manifest:r,routeModules:n}=qe(),[a,i]=t.useState([]);return t.useEffect(()=>{let t=!1;return async function(e,t,r){return ze((await Promise.all(e.map(async e=>{let n=t.routes[e.route.id];if(n){let e=await De(n,r);return e.links?e.links():[]}return[]}))).flat(1).filter(Re).filter(e=>"stylesheet"===e.rel||"preload"===e.rel).map(e=>"stylesheet"===e.rel?{...e,rel:"prefetch",as:"style"}:{...e,rel:"prefetch"}))}(e,r,n).then(e=>{t||i(e)}),()=>{t=!0}},[e,r,n]),a}function Ye(e){let{page:r,matches:n,...a}=e,i=Z(),{manifest:o,routeModules:s}=qe(),{basename:l}=Ve(),{loaderData:c,matches:u}=Be(),d=t.useMemo(()=>Le(r,n,u,o,i,"data"),[r,n,u,o,i]),h=t.useMemo(()=>Le(r,n,u,o,i,"assets"),[r,n,u,o,i]),f=t.useMemo(()=>{if(r===i.pathname+i.search+i.hash)return[];let e=new Set,t=!1;if(n.forEach(r=>{let n=o.routes[r.route.id];n&&n.hasLoader&&(!d.some(e=>e.route.id===r.route.id)&&r.route.id in c&&s[r.route.id]?.shouldRevalidate||n.hasClientLoader?t=!0:e.add(r.route.id))}),0===e.size)return[];let a=Pe(r,l,"data");return t&&e.size>0&&a.searchParams.set("_routes",n.filter(t=>e.has(t.route.id)).map(e=>e.route.id).join(",")),[a.pathname+a.search]},[l,c,i,o,d,n,r,s]),p=t.useMemo(()=>Fe(h,o),[h,o]),m=Ge(h);return t.createElement(t.Fragment,null,f.map(e=>t.createElement("link",{key:e,rel:"prefetch",as:"fetch",href:e,...a})),p.map(e=>t.createElement("link",{key:e,rel:"modulepreload",href:e,...a})),m.map(e=>{let{key:r,link:n}=e;return t.createElement("link",{key:r,...n})}))}var Qe=!1;function Xe(e){let{manifest:r,serverHandoffString:n,isSpaMode:a,renderMeta:i,routeDiscovery:o,ssr:s}=qe(),{router:l,static:c,staticContext:u}=Ve(),{matches:d}=Be(),h=t.useContext(q),f=Ue(o,s);i&&(i.didRenderScripts=!0);let m=Ke(d,null,a);t.useEffect(()=>{0},[]);let g=t.useMemo(()=>{if(h)return null;let a=u?`window.__reactRouterContext = ${n};window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());`:" ",i=c?`${r.hmr?.runtime?`import ${JSON.stringify(r.hmr.runtime)};`:""}${f?"":`import ${JSON.stringify(r.url)}`};\n${m.map((e,t)=>{let n=`route${t}`,a=r.routes[e.route.id];Ie(a,`Route ${e.route.id} not found in manifest`);let{clientActionModule:i,clientLoaderModule:o,clientMiddlewareModule:s,hydrateFallbackModule:l,module:c}=a,u=[...i?[{module:i,varName:`${n}_clientAction`}]:[],...o?[{module:o,varName:`${n}_clientLoader`}]:[],...s?[{module:s,varName:`${n}_clientMiddleware`}]:[],...l?[{module:l,varName:`${n}_HydrateFallback`}]:[],{module:c,varName:`${n}_main`}];return 1===u.length?`import * as ${n} from ${JSON.stringify(c)};`:[u.map(e=>`import * as ${e.varName} from "${e.module}";`).join("\n"),`const ${n} = {${u.map(e=>`...${e.varName}`).join(",")}};`].join("\n")}).join("\n")}\n  ${f?`window.__reactRouterManifest = ${JSON.stringify(function(e,t){let{sri:r,...n}=e,a=new Set(t.state.matches.map(e=>e.route.id)),i=t.state.location.pathname.split("/").filter(Boolean),o=["/"];for(i.pop();i.length>0;)o.push(`/${i.join("/")}`),i.pop();o.forEach(e=>{let r=p(t.routes,e,t.basename);r&&r.forEach(e=>a.add(e.route.id))});let s=[...a].reduce((e,t)=>Object.assign(e,{[t]:n.routes[t]}),{});return{...n,routes:s,sri:!!r||void 0}}(r,l),null,2)};`:""}\n  window.__reactRouterRouteModules = {${m.map((e,t)=>`${JSON.stringify(e.route.id)}:route${t}`).join(",")}};\n\nimport(${JSON.stringify(r.entry.module)});`:" ";return t.createElement(t.Fragment,null,t.createElement("script",{...e,suppressHydrationWarning:!0,dangerouslySetInnerHTML:Oe(a),type:void 0}),t.createElement("script",{...e,suppressHydrationWarning:!0,dangerouslySetInnerHTML:Oe(i),type:"module",async:!0}))},[]),y=Qe||h?[]:function(e){return[...new Set(e)]}(r.entry.imports.concat(Fe(m,r,{includeHydrateFallback:!0}))),v="object"===typeof r.sri?r.sri:{};return ve(!h,"The <Scripts /> element is a no-op when using RSC and can be safely removed."),Qe||h?null:t.createElement(t.Fragment,null,"object"===typeof r.sri?t.createElement("script",{"rr-importmap":"",type:"importmap",suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:JSON.stringify({integrity:v})}}):null,f?null:t.createElement("link",{rel:"modulepreload",href:r.url,crossOrigin:e.crossOrigin,integrity:v[r.url],suppressHydrationWarning:!0}),t.createElement("link",{rel:"modulepreload",href:r.entry.module,crossOrigin:e.crossOrigin,integrity:v[r.entry.module],suppressHydrationWarning:!0}),y.map(r=>t.createElement("link",{key:r,rel:"modulepreload",href:r,crossOrigin:e.crossOrigin,integrity:v[r],suppressHydrationWarning:!0})),g)}function Je(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return e=>{t.forEach(t=>{"function"===typeof t?t(e):null!=t&&(t.current=e)})}}t.Component;function Ze(e){let{error:r,isOutsideRemixApp:n}=e;console.error(r);let a,i=t.createElement("script",{dangerouslySetInnerHTML:{__html:'\n        console.log(\n          "\ud83d\udcbf Hey developer \ud83d\udc4b. You can provide a way better UX than this when your app throws errors. Check out https://reactrouter.com/how-to/error-boundary for more information."\n        );\n      '}});if(z(r))return t.createElement(et,{title:"Unhandled Thrown Response!"},t.createElement("h1",{style:{fontSize:"24px"}},r.status," ",r.statusText),i);if(r instanceof Error)0;else{let e=null==r?"Unknown Error":"object"===typeof r&&"toString"in r?r.toString():JSON.stringify(r);new Error(e)}return t.createElement(et,{title:"Application Error!",isOutsideRemixApp:n},t.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),t.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},a.stack),i)}function et(e){let{title:r,renderScripts:n,isOutsideRemixApp:a,children:i}=e,{routeModules:o}=qe();return o.root?.Layout&&!a?i:t.createElement("html",{lang:"en"},t.createElement("head",null,t.createElement("meta",{charSet:"utf-8"}),t.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),t.createElement("title",null,r)),t.createElement("body",null,t.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},i,n?t.createElement(Xe,null):null)))}var tt="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;try{tt&&(window.__reactRouterVersion="7.7.0")}catch(pH){}function rt(e){let{basename:r,children:n,window:a}=e,o=t.useRef();null==o.current&&(o.current=i({window:a,v5Compat:!0}));let s=o.current,[l,c]=t.useState({action:s.action,location:s.location}),u=t.useCallback(e=>{t.startTransition(()=>c(e))},[c]);return t.useLayoutEffect(()=>s.listen(u),[s,u]),t.createElement(we,{basename:r,children:n,location:l.location,navigationType:l.action,navigator:s})}var nt=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,at=t.forwardRef(function(e,r){let n,{onClick:a,discover:i="render",prefetch:l="none",relative:c,reloadDocument:d,replace:h,state:f,target:p,to:m,preventScrollReset:g,viewTransition:y,...v}=e,{basename:b}=t.useContext(G),x="string"===typeof m&&nt.test(m),w=!1;if("string"===typeof m&&x&&(n=m,tt))try{let e=new URL(window.location.href),t=m.startsWith("//")?new URL(e.protocol+m):new URL(m),r=T(t.pathname,b);t.origin===e.origin&&null!=r?m=r+t.search+t.hash:w=!0}catch(pH){s(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let k=function(e){let{relative:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};o(J(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:a}=t.useContext(G),{hash:i,pathname:s,search:l}=ne(e,{relative:r}),c=s;return"/"!==n&&(c="/"===s?n:M([n,s])),a.createHref({pathname:c,search:l,hash:i})}(m,{relative:c}),[j,S,N]=function(e,r){let n=t.useContext($e),[a,i]=t.useState(!1),[o,s]=t.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:h}=r,f=t.useRef(null);t.useEffect(()=>{if("render"===e&&s(!0),"viewport"===e){let e=new IntersectionObserver(e=>{e.forEach(e=>{s(e.isIntersecting)})},{threshold:.5});return f.current&&e.observe(f.current),()=>{e.disconnect()}}},[e]),t.useEffect(()=>{if(a){let e=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(e)}}},[a]);let p=()=>{i(!0)},m=()=>{i(!1),s(!1)};return n?"intent"!==e?[o,f,{}]:[o,f,{onFocus:He(l,p),onBlur:He(c,m),onMouseEnter:He(u,p),onMouseLeave:He(d,m),onTouchStart:He(h,p)}]:[!1,f,{}]}(l,v),E=function(e){let{target:r,replace:n,state:a,preventScrollReset:i,relative:o,viewTransition:s}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=re(),c=Z(),d=ne(e,{relative:o});return t.useCallback(t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,r)){t.preventDefault();let r=void 0!==n?n:u(c)===u(d);l(e,{replace:r,state:a,preventScrollReset:i,relative:o,viewTransition:s})}},[c,l,d,n,a,r,e,i,o,s])}(m,{replace:h,state:f,target:p,preventScrollReset:g,relative:c,viewTransition:y});let _=t.createElement("a",{...v,...N,href:n||k,onClick:w||d?a:function(e){a&&a(e),e.defaultPrevented||E(e)},ref:Je(r,S),target:p,"data-discover":x||"render"!==i?void 0:"true"});return j&&!x?t.createElement(t.Fragment,null,_,t.createElement(We,{page:k})):_});at.displayName="Link";var it=t.forwardRef(function(e,r){let{"aria-current":n="page",caseSensitive:a=!1,className:i="",end:s=!1,style:l,to:c,viewTransition:u,children:d,...h}=e,f=ne(c,{relative:h.relative}),p=Z(),m=t.useContext($),{navigator:g,basename:y}=t.useContext(G),v=null!=m&&function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.useContext(H);o(null!=n,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=lt("useViewTransitionState"),i=ne(e,{relative:r.relative});if(!n.isTransitioning)return!1;let s=T(n.currentLocation.pathname,a)||n.currentLocation.pathname,l=T(n.nextLocation.pathname,a)||n.nextLocation.pathname;return null!=_(i.pathname,l)||null!=_(i.pathname,s)}(f)&&!0===u,b=g.encodeLocation?g.encodeLocation(f).pathname:f.pathname,x=p.pathname,w=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;a||(x=x.toLowerCase(),w=w?w.toLowerCase():null,b=b.toLowerCase()),w&&y&&(w=T(w,y)||w);const k="/"!==b&&b.endsWith("/")?b.length-1:b.length;let j,S=x===b||!s&&x.startsWith(b)&&"/"===x.charAt(k),N=null!=w&&(w===b||!s&&w.startsWith(b)&&"/"===w.charAt(b.length)),E={isActive:S,isPending:N,isTransitioning:v},A=S?n:void 0;j="function"===typeof i?i(E):[i,S?"active":null,N?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let C="function"===typeof l?l(E):l;return t.createElement(at,{...h,"aria-current":A,className:j,ref:r,style:C,to:c,viewTransition:u},"function"===typeof d?d(E):d)});it.displayName="NavLink";var ot=t.forwardRef((e,r)=>{let{discover:n="render",fetcherKey:a,navigate:i,reloadDocument:s,replace:l,state:c,method:d=Se,action:h,onSubmit:f,relative:p,preventScrollReset:m,viewTransition:g,...y}=e,v=dt(),b=function(e){let{relative:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{basename:n}=t.useContext(G),a=t.useContext(Q);o(a,"useFormAction must be used inside a RouteContext");let[i]=a.matches.slice(-1),s={...ne(e||".",{relative:r})},l=Z();if(null==e){s.search=l.search;let e=new URLSearchParams(s.search),t=e.getAll("index");if(t.some(e=>""===e)){e.delete("index"),t.filter(e=>e).forEach(t=>e.append("index",t));let r=e.toString();s.search=r?`?${r}`:""}}e&&"."!==e||!i.route.index||(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index");"/"!==n&&(s.pathname="/"===s.pathname?n:M([n,s.pathname]));return u(s)}(h,{relative:p}),x="get"===d.toLowerCase()?"get":"post",w="string"===typeof h&&nt.test(h);return t.createElement("form",{ref:r,method:x,action:b,onSubmit:s?f:e=>{if(f&&f(e),e.defaultPrevented)return;e.preventDefault();let t=e.nativeEvent.submitter,r=t?.getAttribute("formmethod")||d;v(t||e.currentTarget,{fetcherKey:a,method:r,navigate:i,replace:l,state:c,relative:p,preventScrollReset:m,viewTransition:g})},...y,"data-discover":w||"render"!==n?void 0:"true"})});function st(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function lt(e){let r=t.useContext(B);return o(r,st(e)),r}ot.displayName="Form";var ct=0,ut=()=>`__${String(++ct)}__`;function dt(){let{router:e}=lt("useSubmit"),{basename:r}=t.useContext(G),n=fe("useRouteId");return t.useCallback(async function(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{action:i,method:o,encType:s,formData:l,body:c}=Te(t,r);if(!1===a.navigate){let t=a.fetcherKey||ut();await e.fetch(t,n,a.action||i,{preventScrollReset:a.preventScrollReset,formData:l,body:c,formMethod:a.method||o,formEncType:a.encType||s,flushSync:a.flushSync})}else await e.navigate(a.action||i,{preventScrollReset:a.preventScrollReset,formData:l,body:c,formMethod:a.method||o,formEncType:a.encType||s,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[e,r,n])}const ht=function(e){const t=[];let r=0;for(let n=0;n<e.length;n++){let a=e.charCodeAt(n);a<128?t[r++]=a:a<2048?(t[r++]=a>>6|192,t[r++]=63&a|128):55296===(64512&a)&&n+1<e.length&&56320===(64512&e.charCodeAt(n+1))?(a=65536+((1023&a)<<10)+(1023&e.charCodeAt(++n)),t[r++]=a>>18|240,t[r++]=a>>12&63|128,t[r++]=a>>6&63|128,t[r++]=63&a|128):(t[r++]=a>>12|224,t[r++]=a>>6&63|128,t[r++]=63&a|128)}return t},ft={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let a=0;a<e.length;a+=3){const t=e[a],i=a+1<e.length,o=i?e[a+1]:0,s=a+2<e.length,l=s?e[a+2]:0,c=t>>2,u=(3&t)<<4|o>>4;let d=(15&o)<<2|l>>6,h=63&l;s||(h=64,i||(d=64)),n.push(r[c],r[u],r[d],r[h])}return n.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(ht(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let r=0,n=0;for(;r<e.length;){const a=e[r++];if(a<128)t[n++]=String.fromCharCode(a);else if(a>191&&a<224){const i=e[r++];t[n++]=String.fromCharCode((31&a)<<6|63&i)}else if(a>239&&a<365){const i=((7&a)<<18|(63&e[r++])<<12|(63&e[r++])<<6|63&e[r++])-65536;t[n++]=String.fromCharCode(55296+(i>>10)),t[n++]=String.fromCharCode(56320+(1023&i))}else{const i=e[r++],o=e[r++];t[n++]=String.fromCharCode((15&a)<<12|(63&i)<<6|63&o)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const r=t?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let a=0;a<e.length;){const t=r[e.charAt(a++)],i=a<e.length?r[e.charAt(a)]:0;++a;const o=a<e.length?r[e.charAt(a)]:64;++a;const s=a<e.length?r[e.charAt(a)]:64;if(++a,null==t||null==i||null==o||null==s)throw new pt;const l=t<<2|i>>4;if(n.push(l),64!==o){const e=i<<4&240|o>>2;if(n.push(e),64!==s){const e=o<<6&192|s;n.push(e)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class pt extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const mt=function(e){return function(e){const t=ht(e);return ft.encodeByteArray(t,!0)}(e).replace(/\./g,"")},gt=function(e){try{return ft.decodeString(e,!0)}catch(pH){console.error("base64Decode failed: ",pH)}return null};function yt(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof r.g)return r.g;throw new Error("Unable to locate global object.")}const vt=()=>{try{return yt().__FIREBASE_DEFAULTS__||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"/pesa",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyARjanzH8bylb2FsQdz60yI2hs8ud-yqwc",REACT_APP_FIREBASE_APP_ID:"1:499758129287:web:d8764dc451a1e1c6941822",REACT_APP_FIREBASE_AUTH_DOMAIN:"budget-backend-09.firebaseapp.com",REACT_APP_FIREBASE_MEASUREMENT_ID:"G-HBS9QEKQZ8",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"499758129287",REACT_APP_FIREBASE_PROJECT_ID:"budget-backend-09",REACT_APP_FIREBASE_STORAGE_BUCKET:"budget-backend-09.firebasestorage.app"}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(pH){return}const t=e&&gt(e[1]);return t&&JSON.parse(t)})()}catch(pH){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${pH}`)}},bt=e=>vt()?.emulatorHosts?.[e],xt=()=>vt()?.config,wt=e=>vt()?.[`_${e}`];class kt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),"function"===typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,r))}}}function jt(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function St(e){return(await fetch(e,{credentials:"include"})).ok}const Nt={};let Et=!1;function _t(e,t){if("undefined"===typeof window||"undefined"===typeof document||!jt(window.location.host)||Nt[e]===t||Nt[e]||Et)return;function r(e){return`__firebase__banner__${e}`}Nt[e]=t;const n="__firebase__banner",a=function(){const e={prod:[],emulator:[]};for(const t of Object.keys(Nt))Nt[t]?e.emulator.push(t):e.prod.push(t);return e}().prod.length>0;function i(){const e=document.createElement("span");return e.style.cursor="pointer",e.style.marginLeft="16px",e.style.fontSize="24px",e.innerHTML=" &times;",e.onclick=()=>{Et=!0,function(){const e=document.getElementById(n);e&&e.remove()}()},e}function o(){const e=function(e){let t=document.getElementById(e),r=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),r=!0),{created:r,element:t}}(n),t=r("text"),o=document.getElementById(t)||document.createElement("span"),s=r("learnmore"),l=document.getElementById(s)||document.createElement("a"),c=r("preprendIcon"),u=document.getElementById(c)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(e.created){const t=e.element;!function(e){e.style.display="flex",e.style.background="#7faaf0",e.style.position="fixed",e.style.bottom="5px",e.style.left="5px",e.style.padding=".5em",e.style.borderRadius="5px",e.style.alignItems="center"}(t),function(e,t){e.setAttribute("id",t),e.innerText="Learn more",e.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",e.setAttribute("target","__blank"),e.style.paddingLeft="5px",e.style.textDecoration="underline"}(l,s);const r=i();!function(e,t){e.setAttribute("width","24"),e.setAttribute("id",t),e.setAttribute("height","24"),e.setAttribute("viewBox","0 0 24 24"),e.setAttribute("fill","none"),e.style.marginLeft="-6px"}(u,c),t.append(u,o,l,r),document.body.appendChild(t)}a?(o.innerText="Preview backend disconnected.",u.innerHTML='<g clip-path="url(#clip0_6013_33858)">\n<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6013_33858">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>'):(u.innerHTML='<g clip-path="url(#clip0_6083_34804)">\n<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6083_34804">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>',o.innerText="Preview backend running in this workspace."),o.setAttribute("id",t)}"loading"===document.readyState?window.addEventListener("DOMContentLoaded",o):o()}function At(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Ct(){const e=vt()?.forceEnvironment;if("node"===e)return!0;if("browser"===e)return!1;try{return"[object process]"===Object.prototype.toString.call(r.g.process)}catch(pH){return!1}}function Tt(){return!Ct()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ot(){try{return"object"===typeof indexedDB}catch(pH){return!1}}class It extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,It.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Pt.prototype.create)}}class Pt{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},r=`${this.service}/${e}`,n=this.errors[e],a=n?function(e,t){return e.replace(Dt,(e,r)=>{const n=t[r];return null!=n?String(n):`<${r}?>`})}(n,t):"Error",i=`${this.serviceName}: ${a} (${r}).`;return new It(r,i,t)}}const Dt=/\{\$([^}]+)}/g;function Mt(e,t){if(e===t)return!0;const r=Object.keys(e),n=Object.keys(t);for(const a of r){if(!n.includes(a))return!1;const r=e[a],i=t[a];if(Rt(r)&&Rt(i)){if(!Mt(r,i))return!1}else if(r!==i)return!1}for(const a of n)if(!r.includes(a))return!1;return!0}function Rt(e){return null!==e&&"object"===typeof e}function Lt(e){const t=[];for(const[r,n]of Object.entries(e))Array.isArray(n)?n.forEach(e=>{t.push(encodeURIComponent(r)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return t.length?"&"+t.join("&"):""}function Ft(e){const t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){const[r,n]=e.split("=");t[decodeURIComponent(r)]=decodeURIComponent(n)}}),t}function zt(e){const t=e.indexOf("?");if(!t)return"";const r=e.indexOf("#",t);return e.substring(t,r>0?r:void 0)}class Ut{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let n;if(void 0===e&&void 0===t&&void 0===r)throw new Error("Missing Observer.");n=function(e,t){if("object"!==typeof e||null===e)return!1;for(const r of t)if(r in e&&"function"===typeof e[r])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:r},void 0===n.next&&(n.next=Vt),void 0===n.error&&(n.error=Vt),void 0===n.complete&&(n.complete=Vt);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?n.error(this.finalError):n.complete()}catch(pH){}}),this.observers.push(n),a}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(pH){"undefined"!==typeof console&&console.error&&console.error(pH)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Vt(){}function Bt(e){return e&&e._delegate?e._delegate:e}class $t{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const qt="[DEFAULT]";class Ht{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new kt;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:t});r&&e.resolve(r)}catch(pH){}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(!this.isInitialized(t)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:t})}catch(pH){if(r)return null;throw pH}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:qt})}catch(pH){}for(const[e,t]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});t.resolve(e)}catch(pH){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qt;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qt;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qt;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const n=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[a,i]of this.instancesDeferred.entries()){r===this.normalizeInstanceIdentifier(a)&&i.resolve(n)}return n}onInit(e,t){const r=this.normalizeInstanceIdentifier(t),n=this.onInitCallbacks.get(r)??new Set;n.add(e),this.onInitCallbacks.set(r,n);const a=this.instances.get(r);return a&&e(a,r),()=>{n.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const n of r)try{n(e,t)}catch{}}getOrInitializeService(e){let{instanceIdentifier:t,options:r={}}=e,n=this.instances.get(t);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:(a=t,a===qt?void 0:a),options:r}),this.instances.set(t,n),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(n,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,n)}catch{}var a;return n||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qt;return this.component?this.component.multipleInstances?e:qt:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Kt{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Ht(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const Wt=[];var Gt;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Gt||(Gt={}));const Yt={debug:Gt.DEBUG,verbose:Gt.VERBOSE,info:Gt.INFO,warn:Gt.WARN,error:Gt.ERROR,silent:Gt.SILENT},Qt=Gt.INFO,Xt={[Gt.DEBUG]:"log",[Gt.VERBOSE]:"log",[Gt.INFO]:"info",[Gt.WARN]:"warn",[Gt.ERROR]:"error"},Jt=function(e,t){if(t<e.logLevel)return;const r=(new Date).toISOString(),n=Xt[t];if(!n)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);for(var a=arguments.length,i=new Array(a>2?a-2:0),o=2;o<a;o++)i[o-2]=arguments[o];console[n](`[${r}]  ${e.name}:`,...i)};class Zt{constructor(e){this.name=e,this._logLevel=Qt,this._logHandler=Jt,this._userLogHandler=null,Wt.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Gt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?Yt[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this._userLogHandler&&this._userLogHandler(this,Gt.DEBUG,...t),this._logHandler(this,Gt.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this._userLogHandler&&this._userLogHandler(this,Gt.VERBOSE,...t),this._logHandler(this,Gt.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this._userLogHandler&&this._userLogHandler(this,Gt.INFO,...t),this._logHandler(this,Gt.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this._userLogHandler&&this._userLogHandler(this,Gt.WARN,...t),this._logHandler(this,Gt.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this._userLogHandler&&this._userLogHandler(this,Gt.ERROR,...t),this._logHandler(this,Gt.ERROR,...t)}}let er,tr;const rr=new WeakMap,nr=new WeakMap,ar=new WeakMap,ir=new WeakMap,or=new WeakMap;let sr={get(e,t,r){if(e instanceof IDBTransaction){if("done"===t)return nr.get(e);if("objectStoreNames"===t)return e.objectStoreNames||ar.get(e);if("store"===t)return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return ur(e[t])},set:(e,t,r)=>(e[t]=r,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function lr(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(tr||(tr=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return e.apply(dr(this),r),ur(rr.get(this))}:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return ur(e.apply(dr(this),r))}:function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];const i=e.call(dr(this),t,...n);return ar.set(i,t.sort?t.sort():[t]),ur(i)}}function cr(e){return"function"===typeof e?lr(e):(e instanceof IDBTransaction&&function(e){if(nr.has(e))return;const t=new Promise((t,r)=>{const n=()=>{e.removeEventListener("complete",a),e.removeEventListener("error",i),e.removeEventListener("abort",i)},a=()=>{t(),n()},i=()=>{r(e.error||new DOMException("AbortError","AbortError")),n()};e.addEventListener("complete",a),e.addEventListener("error",i),e.addEventListener("abort",i)});nr.set(e,t)}(e),((e,t)=>t.some(t=>e instanceof t))(e,er||(er=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,sr):e)}function ur(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,r)=>{const n=()=>{e.removeEventListener("success",a),e.removeEventListener("error",i)},a=()=>{t(ur(e.result)),n()},i=()=>{r(e.error),n()};e.addEventListener("success",a),e.addEventListener("error",i)});return t.then(t=>{t instanceof IDBCursor&&rr.set(t,e)}).catch(()=>{}),or.set(t,e),t}(e);if(ir.has(e))return ir.get(e);const t=cr(e);return t!==e&&(ir.set(e,t),or.set(t,e)),t}const dr=e=>or.get(e);const hr=["get","getKey","getAll","getAllKeys","count"],fr=["put","add","delete","clear"],pr=new Map;function mr(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(pr.get(t))return pr.get(t);const r=t.replace(/FromIndex$/,""),n=t!==r,a=fr.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!a&&!hr.includes(r))return;const i=async function(e){const t=this.transaction(e,a?"readwrite":"readonly");let i=t.store;for(var o=arguments.length,s=new Array(o>1?o-1:0),l=1;l<o;l++)s[l-1]=arguments[l];return n&&(i=i.index(s.shift())),(await Promise.all([i[r](...s),a&&t.done]))[0]};return pr.set(t,i),i}sr=(e=>({...e,get:(t,r,n)=>mr(t,r)||e.get(t,r,n),has:(t,r)=>!!mr(t,r)||e.has(t,r)}))(sr);class gr{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===t?.type}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null}).filter(e=>e).join(" ")}}const yr="@firebase/app",vr="0.14.0",br=new Zt("@firebase/app"),xr="@firebase/app-compat",wr="@firebase/analytics-compat",kr="@firebase/analytics",jr="@firebase/app-check-compat",Sr="@firebase/app-check",Nr="@firebase/auth",Er="@firebase/auth-compat",_r="@firebase/database",Ar="@firebase/data-connect",Cr="@firebase/database-compat",Tr="@firebase/functions",Or="@firebase/functions-compat",Ir="@firebase/installations",Pr="@firebase/installations-compat",Dr="@firebase/messaging",Mr="@firebase/messaging-compat",Rr="@firebase/performance",Lr="@firebase/performance-compat",Fr="@firebase/remote-config",zr="@firebase/remote-config-compat",Ur="@firebase/storage",Vr="@firebase/storage-compat",Br="@firebase/firestore",$r="@firebase/ai",qr="@firebase/firestore-compat",Hr="firebase",Kr="[DEFAULT]",Wr={[yr]:"fire-core",[xr]:"fire-core-compat",[kr]:"fire-analytics",[wr]:"fire-analytics-compat",[Sr]:"fire-app-check",[jr]:"fire-app-check-compat",[Nr]:"fire-auth",[Er]:"fire-auth-compat",[_r]:"fire-rtdb",[Ar]:"fire-data-connect",[Cr]:"fire-rtdb-compat",[Tr]:"fire-fn",[Or]:"fire-fn-compat",[Ir]:"fire-iid",[Pr]:"fire-iid-compat",[Dr]:"fire-fcm",[Mr]:"fire-fcm-compat",[Rr]:"fire-perf",[Lr]:"fire-perf-compat",[Fr]:"fire-rc",[zr]:"fire-rc-compat",[Ur]:"fire-gcs",[Vr]:"fire-gcs-compat",[Br]:"fire-fst",[qr]:"fire-fst-compat",[$r]:"fire-vertex","fire-js":"fire-js",[Hr]:"fire-js-all"},Gr=new Map,Yr=new Map,Qr=new Map;function Xr(e,t){try{e.container.addComponent(t)}catch(pH){br.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,pH)}}function Jr(e){const t=e.name;if(Qr.has(t))return br.debug(`There were multiple attempts to register component ${t}.`),!1;Qr.set(t,e);for(const r of Gr.values())Xr(r,e);for(const r of Yr.values())Xr(r,e);return!0}function Zr(e,t){const r=e.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),e.container.getProvider(t)}function en(e){return null!==e&&void 0!==e&&void 0!==e.settings}const tn=new Pt("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class rn{constructor(e,t,r){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new $t("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw tn.create("app-deleted",{appName:this._name})}}const nn="12.0.0";function an(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e;if("object"!==typeof t){t={name:t}}const n={name:Kr,automaticDataCollectionEnabled:!0,...t},a=n.name;if("string"!==typeof a||!a)throw tn.create("bad-app-name",{appName:String(a)});if(r||(r=xt()),!r)throw tn.create("no-options");const i=Gr.get(a);if(i){if(Mt(r,i.options)&&Mt(n,i.config))return i;throw tn.create("duplicate-app",{appName:a})}const o=new Kt(a);for(const l of Qr.values())o.addComponent(l);const s=new rn(r,n,o);return Gr.set(a,s),s}function on(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kr;const t=Gr.get(e);if(!t&&e===Kr&&xt())return an();if(!t)throw tn.create("no-app",{appName:e});return t}function sn(e,t,r){let n=Wr[e]??e;r&&(n+=`-${r}`);const a=n.match(/\s|\//),i=t.match(/\s|\//);if(a||i){const e=[`Unable to register library "${n}" with version "${t}":`];return a&&e.push(`library name "${n}" contains illegal characters (whitespace or "/")`),a&&i&&e.push("and"),i&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void br.warn(e.join(" "))}Jr(new $t(`${n}-version`,()=>({library:n,version:t}),"VERSION"))}const ln="firebase-heartbeat-store";let cn=null;function un(){return cn||(cn=function(e,t){let{blocked:r,upgrade:n,blocking:a,terminated:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=indexedDB.open(e,t),s=ur(o);return n&&o.addEventListener("upgradeneeded",e=>{n(ur(o.result),e.oldVersion,e.newVersion,ur(o.transaction),e)}),r&&o.addEventListener("blocked",e=>r(e.oldVersion,e.newVersion,e)),s.then(e=>{i&&e.addEventListener("close",()=>i()),a&&e.addEventListener("versionchange",e=>a(e.oldVersion,e.newVersion,e))}).catch(()=>{}),s}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(ln)}catch(pH){console.warn(pH)}}}).catch(e=>{throw tn.create("idb-open",{originalErrorMessage:e.message})})),cn}async function dn(e,t){try{const r=(await un()).transaction(ln,"readwrite"),n=r.objectStore(ln);await n.put(t,hn(e)),await r.done}catch(pH){if(pH instanceof It)br.warn(pH.message);else{const t=tn.create("idb-set",{originalErrorMessage:pH?.message});br.warn(t.message)}}}function hn(e){return`${e.name}!${e.options.appId}`}class fn{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new mn(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){try{const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),t=pn();if(null==this._heartbeatsCache?.heartbeats&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==this._heartbeatsCache?.heartbeats))return;if(this._heartbeatsCache.lastSentHeartbeatDate===t||this._heartbeatsCache.heartbeats.some(e=>e.date===t))return;if(this._heartbeatsCache.heartbeats.push({date:t,agent:e}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,r=e[0].date;for(let n=1;n<e.length;n++)e[n].date<r&&(r=e[n].date,t=n);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(pH){br.warn(pH)}}async getHeartbeatsHeader(){try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==this._heartbeatsCache?.heartbeats||0===this._heartbeatsCache.heartbeats.length)return"";const e=pn(),{heartbeatsToSend:t,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const r=[];let n=e.slice();for(const a of e){const e=r.find(e=>e.agent===a.agent);if(e){if(e.dates.push(a.date),gn(r)>t){e.dates.pop();break}}else if(r.push({agent:a.agent,dates:[a.date]}),gn(r)>t){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}(this._heartbeatsCache.heartbeats),n=mt(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),n}catch(pH){return br.warn(pH),""}}}function pn(){return(new Date).toISOString().substring(0,10)}class mn{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!Ot()&&new Promise((e,t)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(n);a.onsuccess=()=>{a.result.close(),r||self.indexedDB.deleteDatabase(n),e(!0)},a.onupgradeneeded=()=>{r=!1},a.onerror=()=>{t(a.error?.message||"")}}catch(r){t(r)}}).then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await un()).transaction(ln),r=await t.objectStore(ln).get(hn(e));return await t.done,r}catch(pH){if(pH instanceof It)br.warn(pH.message);else{const t=tn.create("idb-get",{originalErrorMessage:pH?.message});br.warn(t.message)}}}(this.app);return e?.heartbeats?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const t=await this.read();return dn(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??t.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){if(await this._canUseIndexedDBPromise){const t=await this.read();return dn(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??t.lastSentHeartbeatDate,heartbeats:[...t.heartbeats,...e.heartbeats]})}}}function gn(e){return mt(JSON.stringify({version:2,heartbeats:e})).length}var yn;yn="",Jr(new $t("platform-logger",e=>new gr(e),"PRIVATE")),Jr(new $t("heartbeat",e=>new fn(e),"PRIVATE")),sn(yr,vr,yn),sn(yr,vr,"esm2020"),sn("fire-js","");sn("firebase","12.0.0","app");function vn(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const bn=vn,xn=new Pt("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),wn=new Zt("@firebase/auth");function kn(e){if(wn.logLevel<=Gt.ERROR){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];wn.error(`Auth (${nn}): ${e}`,...r)}}function jn(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];throw An(e,...r)}function Sn(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return An(e,...r)}function Nn(e,t,r){const n={...bn(),[t]:r};return new Pt("auth","Firebase",n).create(t,{appName:e.name})}function En(e){return Nn(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function _n(e,t,r){if(!(t instanceof r))throw r.name!==t.constructor.name&&jn(e,"argument-error"),Nn(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function An(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];if("string"!==typeof e){const t=r[0],n=[...r.slice(1)];return n[0]&&(n[0].appName=e.name),e._errorFactory.create(t,...n)}return xn.create(e,...r)}function Cn(e,t){if(!e){for(var r=arguments.length,n=new Array(r>2?r-2:0),a=2;a<r;a++)n[a-2]=arguments[a];throw An(t,...n)}}function Tn(e){const t="INTERNAL ASSERTION FAILED: "+e;throw kn(t),new Error(t)}function On(e,t){e||Tn(t)}function In(){return"undefined"!==typeof self&&self.location?.href||""}function Pn(){return"http:"===Dn()||"https:"===Dn()}function Dn(){return"undefined"!==typeof self&&self.location?.protocol||null}function Mn(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Pn()||function(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}class Rn{constructor(e,t){this.shortDelay=e,this.longDelay=t,On(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(At())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return Mn()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Ln(e,t){On(e.emulator,"Emulator should always be set here");const{url:r}=e.emulator;return t?`${r}${t.startsWith("/")?t.slice(1):t}`:r}class Fn{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void Tn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void Tn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void Tn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const zn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Un=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Vn=new Rn(3e4,6e4);function Bn(e,t){return e.tenantId&&!t.tenantId?{...t,tenantId:e.tenantId}:t}async function $n(e,t,r,n){return qn(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},async()=>{let a={},i={};n&&("GET"===t?i=n:a={body:JSON.stringify(n)});const o=Lt({key:e.config.apiKey,...i}).slice(1),s=await e._getAdditionalHeaders();s["Content-Type"]="application/json",e.languageCode&&(s["X-Firebase-Locale"]=e.languageCode);const l={method:t,headers:s,...a};return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||(l.referrerPolicy="no-referrer"),e.emulatorConfig&&jt(e.emulatorConfig.host)&&(l.credentials="include"),Fn.fetch()(await Kn(e,e.config.apiHost,r,o),l)})}async function qn(e,t,r){e._canInitEmulator=!1;const n={...zn,...t};try{const t=new Gn(e),a=await Promise.race([r(),t.promise]);t.clearNetworkTimeout();const i=await a.json();if("needConfirmation"in i)throw Yn(e,"account-exists-with-different-credential",i);if(a.ok&&!("errorMessage"in i))return i;{const t=a.ok?i.errorMessage:i.error.message,[r,o]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===r)throw Yn(e,"credential-already-in-use",i);if("EMAIL_EXISTS"===r)throw Yn(e,"email-already-in-use",i);if("USER_DISABLED"===r)throw Yn(e,"user-disabled",i);const s=n[r]||r.toLowerCase().replace(/[_\s]+/g,"-");if(o)throw Nn(e,s,o);jn(e,s)}}catch(pH){if(pH instanceof It)throw pH;jn(e,"network-request-failed",{message:String(pH)})}}async function Hn(e,t,r,n){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const i=await $n(e,t,r,n,a);return"mfaPendingCredential"in i&&jn(e,"multi-factor-auth-required",{_serverResponse:i}),i}async function Kn(e,t,r,n){const a=`${t}${r}?${n}`,i=e,o=i.config.emulator?Ln(e.config,a):`${e.config.apiScheme}://${a}`;if(Un.includes(r)&&(await i._persistenceManagerAvailable,"COOKIE"===i._getPersistenceType())){return i._getPersistence()._getFinalTarget(o).toString()}return o}function Wn(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Gn{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(Sn(this.auth,"network-request-failed")),Vn.get())})}}function Yn(e,t,r){const n={appName:e.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const a=Sn(e,t,n);return a.customData._tokenResponse=r,a}function Qn(e){return void 0!==e&&void 0!==e.enterprise}class Xn{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Wn(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Jn(e,t){return $n(e,"GET","/v2/recaptchaConfig",Bn(e,t))}async function Zn(e,t){return $n(e,"POST","/v1/accounts:lookup",t)}function ea(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(pH){}}function ta(e){return 1e3*Number(e)}function ra(e){const[t,r,n]=e.split(".");if(void 0===t||void 0===r||void 0===n)return kn("JWT malformed, contained fewer than 3 sections"),null;try{const e=gt(r);return e?JSON.parse(e):(kn("Failed to decode base64 JWT payload"),null)}catch(pH){return kn("Caught error parsing JWT payload as JSON",pH?.toString()),null}}function na(e){const t=ra(e);return Cn(t,"internal-error"),Cn("undefined"!==typeof t.exp,"internal-error"),Cn("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function aa(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(pH){throw pH instanceof It&&function(e){let{code:t}=e;return"auth/user-disabled"===t||"auth/user-token-expired"===t}(pH)&&e.auth.currentUser===e&&await e.auth.signOut(),pH}}class ia{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(pH){return void("auth/network-request-failed"===pH?.code&&this.schedule(!0))}this.schedule()}}class oa{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=ea(this.lastLoginAt),this.creationTime=ea(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function sa(e){const t=e.auth,r=await e.getIdToken(),n=await aa(e,Zn(t,{idToken:r}));Cn(n?.users.length,t,"internal-error");const a=n.users[0];e._notifyReloadListener(a);const i=a.providerUserInfo?.length?la(a.providerUserInfo):[],o=function(e,t){const r=e.filter(e=>!t.some(t=>t.providerId===e.providerId));return[...r,...t]}(e.providerData,i),s=e.isAnonymous,l=!(e.email&&a.passwordHash)&&!o?.length,c=!!s&&l,u={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:o,metadata:new oa(a.createdAt,a.lastLoginAt),isAnonymous:c};Object.assign(e,u)}function la(e){return e.map(e=>{let{providerId:t,...r}=e;return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}class ca{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Cn(e.idToken,"internal-error"),Cn("undefined"!==typeof e.idToken,"internal-error"),Cn("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):na(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Cn(0!==e.length,"internal-error");const t=na(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(Cn(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:n,expiresIn:a}=await async function(e,t){const r=await qn(e,{},async()=>{const r=Lt({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:n,apiKey:a}=e.config,i=await Kn(e,n,"/v1/token",`key=${a}`),o=await e._getAdditionalHeaders();o["Content-Type"]="application/x-www-form-urlencoded";const s={method:"POST",headers:o,body:r};return e.emulatorConfig&&jt(e.emulatorConfig.host)&&(s.credentials="include"),Fn.fetch()(i,s)});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}(e,t);this.updateTokensAndExpiration(r,n,Number(a))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,t){const{refreshToken:r,accessToken:n,expirationTime:a}=t,i=new ca;return r&&(Cn("string"===typeof r,"internal-error",{appName:e}),i.refreshToken=r),n&&(Cn("string"===typeof n,"internal-error",{appName:e}),i.accessToken=n),a&&(Cn("number"===typeof a,"internal-error",{appName:e}),i.expirationTime=a),i}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ca,this.toJSON())}_performRefresh(){return Tn("not implemented")}}function ua(e,t){Cn("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class da{constructor(e){let{uid:t,auth:r,stsTokenManager:n,...a}=e;this.providerId="firebase",this.proactiveRefresh=new ia(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=n,this.accessToken=n.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new oa(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await aa(this,this.stsTokenManager.getToken(this.auth,e));return Cn(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r=Bt(e),n=await r.getIdToken(t),a=ra(n);Cn(a&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error");const i="object"===typeof a.firebase?a.firebase:void 0,o=i?.sign_in_provider;return{claims:a,token:n,authTime:ea(ta(a.auth_time)),issuedAtTime:ea(ta(a.iat)),expirationTime:ea(ta(a.exp)),signInProvider:o||null,signInSecondFactor:i?.sign_in_second_factor||null}}(this,e)}reload(){return async function(e){const t=Bt(e);await sa(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(Cn(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>({...e})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new da({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Cn(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await sa(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(en(this.auth.app))return Promise.reject(En(this.auth));const e=await this.getIdToken();return await aa(this,async function(e,t){return $n(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const r=t.displayName??void 0,n=t.email??void 0,a=t.phoneNumber??void 0,i=t.photoURL??void 0,o=t.tenantId??void 0,s=t._redirectEventId??void 0,l=t.createdAt??void 0,c=t.lastLoginAt??void 0,{uid:u,emailVerified:d,isAnonymous:h,providerData:f,stsTokenManager:p}=t;Cn(u&&p,e,"internal-error");const m=ca.fromJSON(this.name,p);Cn("string"===typeof u,e,"internal-error"),ua(r,e.name),ua(n,e.name),Cn("boolean"===typeof d,e,"internal-error"),Cn("boolean"===typeof h,e,"internal-error"),ua(a,e.name),ua(i,e.name),ua(o,e.name),ua(s,e.name),ua(l,e.name),ua(c,e.name);const g=new da({uid:u,auth:e,email:n,emailVerified:d,displayName:r,isAnonymous:h,photoURL:i,phoneNumber:a,tenantId:o,stsTokenManager:m,createdAt:l,lastLoginAt:c});return f&&Array.isArray(f)&&(g.providerData=f.map(e=>({...e}))),s&&(g._redirectEventId=s),g}static async _fromIdTokenResponse(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const n=new ca;n.updateFromServerResponse(t);const a=new da({uid:t.localId,auth:e,stsTokenManager:n,isAnonymous:r});return await sa(a),a}static async _fromGetAccountInfoResponse(e,t,r){const n=t.users[0];Cn(void 0!==n.localId,"internal-error");const a=void 0!==n.providerUserInfo?la(n.providerUserInfo):[],i=!(n.email&&n.passwordHash)&&!a?.length,o=new ca;o.updateFromIdToken(r);const s=new da({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:i}),l={uid:n.localId,displayName:n.displayName||null,photoURL:n.photoUrl||null,email:n.email||null,emailVerified:n.emailVerified||!1,phoneNumber:n.phoneNumber||null,tenantId:n.tenantId||null,providerData:a,metadata:new oa(n.createdAt,n.lastLoginAt),isAnonymous:!(n.email&&n.passwordHash)&&!a?.length};return Object.assign(s,l),s}}const ha=new Map;function fa(e){On(e instanceof Function,"Expected a class definition");let t=ha.get(e);return t?(On(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,ha.set(e,t),t)}class pa{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}pa.type="NONE";const ma=pa;function ga(e,t,r){return`firebase:${e}:${t}:${r}`}class ya{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:n,name:a}=this.auth;this.fullUserKey=ga(this.userKey,n.apiKey,a),this.fullPersistenceKey=ga("persistence",n.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if("string"===typeof e){const t=await Zn(this.auth,{idToken:e}).catch(()=>{});return t?da._fromGetAccountInfoResponse(this.auth,t,e):null}return da._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new ya(fa(ma),e,r);const n=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e);let a=n[0]||fa(ma);const i=ga(r,e.config.apiKey,e.name);let o=null;for(const l of t)try{const t=await l._get(i);if(t){let r;if("string"===typeof t){const n=await Zn(e,{idToken:t}).catch(()=>{});if(!n)break;r=await da._fromGetAccountInfoResponse(e,n,t)}else r=da._fromJSON(e,t);l!==a&&(o=r),a=l;break}}catch{}const s=n.filter(e=>e._shouldAllowMigration);return a._shouldAllowMigration&&s.length?(a=s[0],o&&await a._set(i,o.toJSON()),await Promise.all(t.map(async e=>{if(e!==a)try{await e._remove(i)}catch{}})),new ya(a,e,r)):new ya(a,e,r)}}function va(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(ka(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(ba(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Sa(t))return"Blackberry";if(Na(t))return"Webos";if(xa(t))return"Safari";if((t.includes("chrome/")||wa(t))&&!t.includes("edge/"))return"Chrome";if(ja(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=e.match(t);if(2===r?.length)return r[1]}return"Other"}function ba(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:At();return/firefox\//i.test(e)}function xa(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:At()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function wa(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:At();return/crios\//i.test(e)}function ka(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:At();return/iemobile/i.test(e)}function ja(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:At();return/android/i.test(e)}function Sa(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:At();return/blackberry/i.test(e)}function Na(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:At();return/webos/i.test(e)}function Ea(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:At();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function _a(){return function(){const e=At();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function Aa(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:At();return Ea(e)||ja(e)||Na(e)||Sa(e)||/windows phone/i.test(e)||ka(e)}function Ca(e){let t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=va(At());break;case"Worker":t=`${va(At())}-${e}`;break;default:t=e}const n=r.length?r.join(","):"FirebaseCore-web";return`${t}/JsCore/${nn}/${n}`}class Ta{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=t=>new Promise((r,n)=>{try{r(e(t))}catch(pH){n(pH)}});r.onAbort=t,this.queue.push(r);const n=this.queue.length-1;return()=>{this.queue[n]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(pH){t.reverse();for(const n of t)try{n()}catch(r){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:pH?.message})}}}class Oa{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??6,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),void 0!==t.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),void 0!==t.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),void 0!==t.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),void 0!==t.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,n=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),n&&(t.meetsMaxPasswordLength=e.length<=n)}validatePasswordCharacterOptions(e,t){let r;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let n=0;n<e.length;n++)r=e.charAt(n),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,n,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=n)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}class Ia{constructor(e,t,r,n){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=n,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Da(this),this.idTokenSubscription=new Da(this),this.beforeStateQueue=new Ta(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=xn,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=n.sdkClientVersion,this._persistenceManagerAvailable=new Promise(e=>this._resolvePersistenceManagerAvailable=e)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=fa(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await ya.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(pH){}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await Zn(this,{idToken:e}),r=await da._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(en(this.app)){const e=this.app.settings.authIdToken;return e?new Promise(t=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(e).then(t,t))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let r=t,n=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const t=this.redirectUser?._redirectEventId,a=r?._redirectEventId,i=await this.tryRedirectSignIn(e);t&&t!==a||!i?.user||(r=i.user,n=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(n)try{await this.beforeStateQueue.runMiddleware(r)}catch(pH){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(pH))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Cn(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(pH){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await sa(e)}catch(pH){if("auth/network-request-failed"!==pH?.code)return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(en(this.app))return Promise.reject(En(this));const t=e?Bt(e):null;return t&&Cn(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&Cn(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return en(this.app)?Promise.reject(En(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return en(this.app)?Promise.reject(En(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(fa(e))})}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return $n(e,"GET","/v2/passwordPolicy",Bn(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new Oa(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Pt("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return $n(e,"POST","/v2/accounts:revokeToken",Bn(e,t))}(this,t)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return null===e?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&fa(e)||this._popupRedirectResolver;Cn(t,this,"argument-error"),this.redirectPersistenceManager=await ya.create(this,[fa(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,n){if(this._deleted)return()=>{};const a="function"===typeof t?t:t.next.bind(t);let i=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(Cn(o,this,"internal-error"),o.then(()=>{i||a(this.currentUser)}),"function"===typeof t){const a=e.addObserver(t,r,n);return()=>{i=!0,a()}}{const r=e.addObserver(t);return()=>{i=!0,r()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Cn(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ca(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await(this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader());t&&(e["X-Firebase-Client"]=t);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(en(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await(this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken());return e?.error&&function(e){if(wn.logLevel<=Gt.WARN){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];wn.warn(`Auth (${nn}): ${e}`,...r)}}(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Pa(e){return Bt(e)}class Da{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const r=new Ut(e,t);return r.subscribe.bind(r)}(e=>this.observer=e)}get next(){return Cn(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Ma={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Ra(e){return Ma.loadJS(e)}function La(e){return`__${e}${Math.floor(1e6*Math.random())}`}class Fa{constructor(){this.enterprise=new za}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class za{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const Ua="NO_RECAPTCHA";class Va{constructor(e){this.type="recaptcha-enterprise",this.auth=Pa(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function r(t,r,n){const a=window.grecaptcha;Qn(a)?a.enterprise.ready(()=>{a.enterprise.execute(t,{action:e}).then(e=>{r(e)}).catch(()=>{r(Ua)})}):n(Error("No reCAPTCHA enterprise script loaded."))}if(this.auth.settings.appVerificationDisabledForTesting){return(new Fa).execute("siteKey",{action:"verify"})}return new Promise((e,n)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,r)=>{Jn(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(n=>{if(void 0!==n.recaptchaKey){const r=new Xn(n);return null==e.tenantId?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,t(r.siteKey)}r(new Error("recaptcha Enterprise site key undefined"))}).catch(e=>{r(e)})})})(this.auth).then(a=>{if(!t&&Qn(window.grecaptcha))r(a,e,n);else{if("undefined"===typeof window)return void n(new Error("RecaptchaVerifier is only supported in browser"));let t=Ma.recaptchaEnterpriseScript;0!==t.length&&(t+=a),Ra(t).then(()=>{r(a,e,n)}).catch(e=>{n(e)})}}).catch(e=>{n(e)})})}}async function Ba(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const i=new Va(e);let o;if(a)o=Ua;else try{o=await i.verify(r)}catch(l){o=await i.verify(r,!0)}const s={...t};if("mfaSmsEnrollment"===r||"mfaSmsSignIn"===r){if("phoneEnrollmentInfo"in s){const e=s.phoneEnrollmentInfo.phoneNumber,t=s.phoneEnrollmentInfo.recaptchaToken;Object.assign(s,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in s){const e=s.phoneSignInInfo.recaptchaToken;Object.assign(s,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return s}return n?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function $a(e,t,r,n,a){if("EMAIL_PASSWORD_PROVIDER"===a){if(e._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await Ba(e,t,r,"getOobCode"===r);return n(e,a)}return n(e,t).catch(async a=>{if("auth/missing-recaptcha-token"===a.code){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await Ba(e,t,r,"getOobCode"===r);return n(e,a)}return Promise.reject(a)})}if("PHONE_PROVIDER"===a){if(e._getRecaptchaConfig()?.isProviderEnabled("PHONE_PROVIDER")){const a=await Ba(e,t,r);return n(e,a).catch(async a=>{if("AUDIT"===e._getRecaptchaConfig()?.getProviderEnforcementState("PHONE_PROVIDER")&&("auth/missing-recaptcha-token"===a.code||"auth/invalid-app-credential"===a.code)){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${r} flow.`);const a=await Ba(e,t,r,!1,!0);return n(e,a)}return Promise.reject(a)})}{const a=await Ba(e,t,r,!1,!0);return n(e,a)}}return Promise.reject(a+" provider is not supported.")}async function qa(e){const t=Pa(e),r=await Jn(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),n=new Xn(r);if(null==t.tenantId?t._agentRecaptchaConfig=n:t._tenantRecaptchaConfigs[t.tenantId]=n,n.isAnyProviderEnabled()){new Va(t).verify()}}function Ha(e,t,r){const n=Pa(e);Cn(/^https?:\/\//.test(t),n,"invalid-emulator-scheme");const a=!!r?.disableWarnings,i=Ka(t),{host:o,port:s}=function(e){const t=Ka(e),r=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(n);if(a){const e=a[1];return{host:e,port:Wa(n.substr(e.length+1))}}{const[e,t]=n.split(":");return{host:e,port:Wa(t)}}}(t),l=null===s?"":`:${s}`,c={url:`${i}//${o}${l}/`},u=Object.freeze({host:o,port:s,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!n._canInitEmulator)return Cn(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),void Cn(Mt(c,n.config.emulator)&&Mt(u,n.emulatorConfig),n,"emulator-config-failed");n.config.emulator=c,n.emulatorConfig=u,n.settings.appVerificationDisabledForTesting=!0,jt(o)?(St(`${i}//${o}${l}`),_t("Auth",!0)):a||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Ka(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Wa(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Ga{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Tn("not implemented")}_getIdTokenResponse(e){return Tn("not implemented")}_linkToIdToken(e,t){return Tn("not implemented")}_getReauthenticationResolver(e){return Tn("not implemented")}}async function Ya(e,t){return $n(e,"POST","/v1/accounts:signUp",t)}async function Qa(e,t){return Hn(e,"POST","/v1/accounts:signInWithPassword",Bn(e,t))}async function Xa(e,t){return $n(e,"POST","/v1/accounts:sendOobCode",Bn(e,t))}async function Ja(e,t){return Xa(e,t)}class Za extends Ga{constructor(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",r),this._email=e,this._password=t,this._tenantId=n}static _fromEmailAndPassword(e,t){return new Za(e,t,"password")}static _fromEmailAndCode(e,t){return new Za(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if(t?.email&&t?.password){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return $a(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Qa,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return Hn(e,"POST","/v1/accounts:signInWithEmailLink",Bn(e,t))}(e,{email:this._email,oobCode:this._password});default:jn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return $a(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Ya,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return Hn(e,"POST","/v1/accounts:signInWithEmailLink",Bn(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:jn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function ei(e,t){return Hn(e,"POST","/v1/accounts:signInWithIdp",Bn(e,t))}class ti extends Ga{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ti(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):jn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:r,signInMethod:n,...a}=t;if(!r||!n)return null;const i=new ti(r,n);return i.idToken=a.idToken||void 0,i.accessToken=a.accessToken||void 0,i.secret=a.secret,i.nonce=a.nonce,i.pendingToken=a.pendingToken||null,i}_getIdTokenResponse(e){return ei(e,this.buildRequest())}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,ei(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ei(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Lt(t)}return e}}async function ri(e,t){return $n(e,"POST","/v1/accounts:sendVerificationCode",Bn(e,t))}const ni={USER_NOT_FOUND:"user-not-found"};class ai extends Ga{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new ai({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new ai({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return Hn(e,"POST","/v1/accounts:signInWithPhoneNumber",Bn(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const r=await Hn(e,"POST","/v1/accounts:signInWithPhoneNumber",Bn(e,t));if(r.temporaryProof)throw Yn(e,"account-exists-with-different-credential",r);return r}(e,{idToken:t,...this._makeVerificationRequest()})}_getReauthenticationResolver(e){return async function(e,t){return Hn(e,"POST","/v1/accounts:signInWithPhoneNumber",Bn(e,{...t,operation:"REAUTH"}),ni)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:r,verificationCode:n}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:r,code:n}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:r,phoneNumber:n,temporaryProof:a}=e;return r||t||n||a?new ai({verificationId:t,verificationCode:r,phoneNumber:n,temporaryProof:a}):null}}class ii{constructor(e){const t=Ft(zt(e)),r=t.apiKey??null,n=t.oobCode??null,a=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(t.mode??null);Cn(r&&n&&a,"argument-error"),this.apiKey=r,this.operation=a,this.code=n,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=function(e){const t=Ft(zt(e)).link,r=t?Ft(zt(t)).deep_link_id:null,n=Ft(zt(e)).deep_link_id;return(n?Ft(zt(n)).link:null)||n||r||t||e}(e);try{return new ii(t)}catch{return null}}}class oi{constructor(){this.providerId=oi.PROVIDER_ID}static credential(e,t){return Za._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=ii.parseLink(t);return Cn(r,"argument-error"),Za._fromEmailAndCode(e,r.code,r.tenantId)}}oi.PROVIDER_ID="password",oi.EMAIL_PASSWORD_SIGN_IN_METHOD="password",oi.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class si{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class li extends si{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ci extends li{constructor(){super("facebook.com")}static credential(e){return ti._fromParams({providerId:ci.PROVIDER_ID,signInMethod:ci.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ci.credentialFromTaggedObject(e)}static credentialFromError(e){return ci.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return ci.credential(t.oauthAccessToken)}catch{return null}}}ci.FACEBOOK_SIGN_IN_METHOD="facebook.com",ci.PROVIDER_ID="facebook.com";class ui extends li{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ti._fromParams({providerId:ui.PROVIDER_ID,signInMethod:ui.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ui.credentialFromTaggedObject(e)}static credentialFromError(e){return ui.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:r,oauthAccessToken:n}=t;if(!r&&!n)return null;try{return ui.credential(r,n)}catch{return null}}}ui.GOOGLE_SIGN_IN_METHOD="google.com",ui.PROVIDER_ID="google.com";class di extends li{constructor(){super("github.com")}static credential(e){return ti._fromParams({providerId:di.PROVIDER_ID,signInMethod:di.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return di.credentialFromTaggedObject(e)}static credentialFromError(e){return di.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return di.credential(t.oauthAccessToken)}catch{return null}}}di.GITHUB_SIGN_IN_METHOD="github.com",di.PROVIDER_ID="github.com";class hi extends li{constructor(){super("twitter.com")}static credential(e,t){return ti._fromParams({providerId:hi.PROVIDER_ID,signInMethod:hi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return hi.credentialFromTaggedObject(e)}static credentialFromError(e){return hi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=t;if(!r||!n)return null;try{return hi.credential(r,n)}catch{return null}}}async function fi(e,t){return Hn(e,"POST","/v1/accounts:signUp",Bn(e,t))}hi.TWITTER_SIGN_IN_METHOD="twitter.com",hi.PROVIDER_ID="twitter.com";class pi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const a=await da._fromIdTokenResponse(e,r,n),i=mi(r);return new pi({user:a,providerId:i,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const n=mi(r);return new pi({user:e,providerId:n,_tokenResponse:r,operationType:t})}}function mi(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class gi extends It{constructor(e,t,r,n){super(t.code,t.message),this.operationType=r,this.user=n,Object.setPrototypeOf(this,gi.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,n){return new gi(e,t,r,n)}}function yi(e,t,r,n){return("reauthenticate"===t?r._getReauthenticationResolver(e):r._getIdTokenResponse(e)).catch(r=>{if("auth/multi-factor-auth-required"===r.code)throw gi._fromErrorAndOperation(e,r,t,n);throw r})}async function vi(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const n=await aa(e,t._linkToIdToken(e.auth,await e.getIdToken()),r);return pi._forOperation(e,"link",n)}async function bi(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:n}=e;if(en(n.app))return Promise.reject(En(n));const a="reauthenticate";try{const i=await aa(e,yi(n,a,t,e),r);Cn(i.idToken,n,"internal-error");const o=ra(i.idToken);Cn(o,n,"internal-error");const{sub:s}=o;return Cn(e.uid===s,n,"user-mismatch"),pi._forOperation(e,a,i)}catch(pH){throw"auth/user-not-found"===pH?.code&&jn(n,"user-mismatch"),pH}}async function xi(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(en(e.app))return Promise.reject(En(e));const n="signIn",a=await yi(e,n,t),i=await pi._fromIdTokenResponse(e,n,a);return r||await e._updateCurrentUser(i.user),i}async function wi(e,t){return xi(Pa(e),t)}function ki(e,t,r){Cn(r.url?.length>0,e,"invalid-continue-uri"),Cn("undefined"===typeof r.dynamicLinkDomain||r.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),Cn("undefined"===typeof r.linkDomain||r.linkDomain.length>0,e,"invalid-hosting-link-domain"),t.continueUrl=r.url,t.dynamicLinkDomain=r.dynamicLinkDomain,t.linkDomain=r.linkDomain,t.canHandleCodeInApp=r.handleCodeInApp,r.iOS&&(Cn(r.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=r.iOS.bundleId),r.android&&(Cn(r.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=r.android.installApp,t.androidMinimumVersionCode=r.android.minimumVersion,t.androidPackageName=r.android.packageName)}async function ji(e){const t=Pa(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function Si(e,t){let{displayName:r,photoURL:n}=t;if(void 0===r&&void 0===n)return;const a=Bt(e),i={idToken:await a.getIdToken(),displayName:r,photoUrl:n,returnSecureToken:!0},o=await aa(a,async function(e,t){return $n(e,"POST","/v1/accounts:update",t)}(a.auth,i));a.displayName=o.displayName||null,a.photoURL=o.photoUrl||null;const s=a.providerData.find(e=>{let{providerId:t}=e;return"password"===t});s&&(s.displayName=a.displayName,s.photoURL=a.photoURL),await a._updateTokensIfNecessary(o)}function Ni(e,t){return $n(e,"POST","/v2/accounts/mfaEnrollment:start",Bn(e,t))}new WeakMap;const Ei="__sak";class _i{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Ei,"1"),this.storage.removeItem(Ei),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class Ai extends _i{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Aa(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),n=this.localCache[t];r!==n&&e(t,n,r)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys((e,t,r)=>{this.notifyListeners(e,r)});const r=e.key;t?this.detachListener():this.stopPolling();const n=()=>{const e=this.storage.getItem(r);(t||this.localCache[r]!==e)&&this.notifyListeners(r,e)},a=this.storage.getItem(r);_a()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(n,10):n()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const n of Array.from(r))n(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Ai.type="LOCAL";const Ci=Ai;function Ti(e){const t=e.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),r=RegExp(`${t}=([^;]+)`);return document.cookie.match(r)?.[1]??null}function Oi(e){return`${"http:"===window.location.protocol?"__dev_":"__HOST-"}FIREBASE_${e.split(":")[3]}`}class Ii{constructor(){this.type="COOKIE",this.listenerUnsubscribes=new Map}_getFinalTarget(e){if(void 0===typeof window)return e;const t=new URL(`${window.location.origin}/__cookies__`);return t.searchParams.set("finalTarget",e),t}async _isAvailable(){return!("boolean"===typeof isSecureContext&&!isSecureContext)&&("undefined"!==typeof navigator&&"undefined"!==typeof document&&(navigator.cookieEnabled??!0))}async _set(e,t){}async _get(e){if(!this._isAvailable())return null;const t=Oi(e);if(window.cookieStore){const e=await window.cookieStore.get(t);return e?.value}return Ti(t)}async _remove(e){if(!this._isAvailable())return;if(!await this._get(e))return;const t=Oi(e);document.cookie=`${t}=;Max-Age=34560000;Partitioned;Secure;SameSite=Strict;Path=/;Priority=High`,await fetch("/__cookies__",{method:"DELETE"}).catch(()=>{})}_addListener(e,t){if(!this._isAvailable())return;const r=Oi(e);if(window.cookieStore){const e=e=>{const n=e.changed.find(e=>e.name===r);n&&t(n.value);e.deleted.find(e=>e.name===r)&&t(null)},n=()=>window.cookieStore.removeEventListener("change",e);return this.listenerUnsubscribes.set(t,n),window.cookieStore.addEventListener("change",e)}let n=Ti(r);const a=setInterval(()=>{const e=Ti(r);e!==n&&(t(e),n=e)},1e3);this.listenerUnsubscribes.set(t,()=>clearInterval(a))}_removeListener(e,t){const r=this.listenerUnsubscribes.get(t);r&&(r(),this.listenerUnsubscribes.delete(t))}}Ii.type="COOKIE";class Pi extends _i{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Pi.type="SESSION";const Di=Pi;class Mi{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;const r=new Mi(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:n,data:a}=t.data,i=this.handlersMap[n];if(!i?.size)return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:n});const o=Array.from(i).map(async e=>e(t.origin,a)),s=await function(e){return Promise.all(e.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}(o);t.ports[0].postMessage({status:"done",eventId:r,eventType:n,response:s})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function Ri(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,r="";for(let n=0;n<t;n++)r+=Math.floor(10*Math.random());return e+r}Mi.receivers=[];class Li{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const n="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!n)throw new Error("connection_unavailable");let a,i;return new Promise((o,s)=>{const l=Ri("",20);n.port1.start();const c=setTimeout(()=>{s(new Error("unsupported_event"))},r);i={messageChannel:n,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),a=setTimeout(()=>{s(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),o(t.data.response);break;default:clearTimeout(c),clearTimeout(a),s(new Error("invalid_response"))}}},this.handlers.add(i),n.port1.addEventListener("message",i.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[n.port2])}).finally(()=>{i&&this.removeMessageHandler(i)})}}function Fi(){return window}function zi(){return"undefined"!==typeof Fi().WorkerGlobalScope&&"function"===typeof Fi().importScripts}const Ui="firebaseLocalStorageDb",Vi="firebaseLocalStorage",Bi="fbase_key";class $i{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function qi(e,t){return e.transaction([Vi],t?"readwrite":"readonly").objectStore(Vi)}function Hi(){const e=indexedDB.open(Ui,1);return new Promise((t,r)=>{e.addEventListener("error",()=>{r(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore(Vi,{keyPath:Bi})}catch(pH){r(pH)}}),e.addEventListener("success",async()=>{const r=e.result;r.objectStoreNames.contains(Vi)?t(r):(r.close(),await function(){const e=indexedDB.deleteDatabase(Ui);return new $i(e).toPromise()}(),t(await Hi()))})})}async function Ki(e,t,r){const n=qi(e,!0).put({[Bi]:t,value:r});return new $i(n).toPromise()}function Wi(e,t){const r=qi(e,!0).delete(t);return new $i(r).toPromise()}class Gi{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await Hi()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(pH){if(t++>3)throw pH;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return zi()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Mi._getInstance(zi()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await async function(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}(),!this.activeServiceWorker)return;this.sender=new Li(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&(navigator?.serviceWorker?.controller||null)===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Hi();return await Ki(e,Ei,"1"),await Wi(e,Ei),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>Ki(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(t=>async function(e,t){const r=qi(e,!1).get(t),n=await new $i(r).toPromise();return void 0===n?null:n.value}(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Wi(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(e=>{const t=qi(e,!1).getAll();return new $i(t).toPromise()});if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],r=new Set;if(0!==e.length)for(const{fbase_key:n,value:a}of e)r.add(n),JSON.stringify(this.localCache[n])!==JSON.stringify(a)&&(this.notifyListeners(n,a),t.push(n));for(const n of Object.keys(this.localCache))this.localCache[n]&&!r.has(n)&&(this.notifyListeners(n,null),t.push(n));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const n of Array.from(r))n(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Gi.type="LOCAL";const Yi=Gi;function Qi(e,t){return $n(e,"POST","/v2/accounts/mfaSignIn:start",Bn(e,t))}La("rcb"),new Rn(3e4,6e4);const Xi="recaptcha";async function Ji(e,t,r){if(!e._getRecaptchaConfig())try{await qa(e)}catch(n){console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let n;if(n="string"===typeof t?{phoneNumber:t}:t,"session"in n){const t=n.session;if("phoneNumber"in n){Cn("enroll"===t.type,e,"internal-error");const a={idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:n.phoneNumber,clientType:"CLIENT_TYPE_WEB"}},i=$a(e,a,"mfaSmsEnrollment",async(e,t)=>{if(t.phoneEnrollmentInfo.captchaResponse===Ua){Cn(r?.type===Xi,e,"argument-error");return Ni(e,await Zi(e,t,r))}return Ni(e,t)},"PHONE_PROVIDER");return(await i.catch(e=>Promise.reject(e))).phoneSessionInfo.sessionInfo}{Cn("signin"===t.type,e,"internal-error");const a=n.multiFactorHint?.uid||n.multiFactorUid;Cn(a,e,"missing-multi-factor-info");const i={mfaPendingCredential:t.credential,mfaEnrollmentId:a,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}},o=$a(e,i,"mfaSmsSignIn",async(e,t)=>{if(t.phoneSignInInfo.captchaResponse===Ua){Cn(r?.type===Xi,e,"argument-error");return Qi(e,await Zi(e,t,r))}return Qi(e,t)},"PHONE_PROVIDER");return(await o.catch(e=>Promise.reject(e))).phoneResponseInfo.sessionInfo}}{const t={phoneNumber:n.phoneNumber,clientType:"CLIENT_TYPE_WEB"},a=$a(e,t,"sendVerificationCode",async(e,t)=>{if(t.captchaResponse===Ua){Cn(r?.type===Xi,e,"argument-error");return ri(e,await Zi(e,t,r))}return ri(e,t)},"PHONE_PROVIDER");return(await a.catch(e=>Promise.reject(e))).sessionInfo}}finally{r?._reset()}}async function Zi(e,t,r){Cn(r.type===Xi,e,"argument-error");const n=await r.verify();Cn("string"===typeof n,e,"argument-error");const a={...t};if("phoneEnrollmentInfo"in a){const e=a.phoneEnrollmentInfo.phoneNumber,t=a.phoneEnrollmentInfo.captchaResponse,r=a.phoneEnrollmentInfo.clientType,i=a.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:n,captchaResponse:t,clientType:r,recaptchaVersion:i}}),a}if("phoneSignInInfo"in a){const e=a.phoneSignInInfo.captchaResponse,t=a.phoneSignInInfo.clientType,r=a.phoneSignInInfo.recaptchaVersion;return Object.assign(a,{phoneSignInInfo:{recaptchaToken:n,captchaResponse:e,clientType:t,recaptchaVersion:r}}),a}return Object.assign(a,{recaptchaToken:n}),a}class eo{constructor(e){this.providerId=eo.PROVIDER_ID,this.auth=Pa(e)}verifyPhoneNumber(e,t){return Ji(this.auth,e,Bt(t))}static credential(e,t){return ai._fromVerification(e,t)}static credentialFromResult(e){const t=e;return eo.credentialFromTaggedObject(t)}static credentialFromError(e){return eo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:r,temporaryProof:n}=t;return r&&n?ai._fromTokenResponse(r,n):null}}function to(e,t){return t?fa(t):(Cn(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}eo.PROVIDER_ID="phone",eo.PHONE_SIGN_IN_METHOD="phone";class ro extends Ga{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ei(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ei(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ei(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function no(e){return xi(e.auth,new ro(e),e.bypassAuthState)}function ao(e){const{auth:t,user:r}=e;return Cn(r,t,"internal-error"),bi(r,new ro(e),e.bypassAuthState)}async function io(e){const{auth:t,user:r}=e;return Cn(r,t,"internal-error"),vi(r,new ro(e),e.bypassAuthState)}class oo{constructor(e,t,r,n){let a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=r,this.user=n,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(pH){this.reject(pH)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:n,tenantId:a,error:i,type:o}=e;if(i)return void this.reject(i);const s={auth:this.auth,requestUri:t,sessionId:r,tenantId:a||void 0,postBody:n||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(s))}catch(pH){this.reject(pH)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return no;case"linkViaPopup":case"linkViaRedirect":return io;case"reauthViaPopup":case"reauthViaRedirect":return ao;default:jn(this.auth,"internal-error")}}resolve(e){On(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){On(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const so=new Rn(2e3,1e4);class lo extends oo{constructor(e,t,r,n,a){super(e,t,n,a),this.provider=r,this.authWindow=null,this.pollId=null,lo.currentPopupAction&&lo.currentPopupAction.cancel(),lo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Cn(e,this.auth,"internal-error"),e}async onExecution(){On(1===this.filter.length,"Popup operations only handle one event");const e=Ri();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(Sn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Sn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,lo.currentPopupAction=null}pollUserCancellation(){const e=()=>{this.authWindow?.window?.closed?this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Sn(this.auth,"popup-closed-by-user"))},8e3):this.pollId=window.setTimeout(e,so.get())};e()}}lo.currentPopupAction=null;const co=new Map;class uo extends oo{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=co.get(this.auth._key());if(!e){try{const t=await async function(e,t){const r=po(t),n=fo(e);if(!await n._isAvailable())return!1;const a="true"===await n._get(r);return await n._remove(r),a}(this.resolver,this.auth),r=t?await super.execute():null;e=()=>Promise.resolve(r)}catch(pH){e=()=>Promise.reject(pH)}co.set(this.auth._key(),e)}return this.bypassAuthState||co.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function ho(e,t){co.set(e._key(),t)}function fo(e){return fa(e._redirectPersistence)}function po(e){return ga("pendingRedirect",e.config.apiKey,e.name)}async function mo(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(en(e.app))return Promise.reject(En(e));const n=Pa(e),a=to(n,t),i=new uo(n,a,r),o=await i.execute();return o&&!r&&(delete o.user._redirectEventId,await n._persistUserIfCurrent(o.user),await n._setRedirectUser(null,t)),o}class go{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return vo(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!vo(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";t.onError(Sn(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(yo(e))}saveEventToCache(e){this.cachedEventUids.add(yo(e)),this.lastProcessedEventTime=Date.now()}}function yo(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function vo(e){let{type:t,error:r}=e;return"unknown"===t&&"auth/no-auth-event"===r?.code}const bo=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,xo=/^https?/;async function wo(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return $n(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(ko(r))return}catch{}jn(e,"unauthorized-domain")}function ko(e){const t=In(),{protocol:r,hostname:n}=new URL(t);if(e.startsWith("chrome-extension://")){const a=new URL(e);return""===a.hostname&&""===n?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===n}if(!xo.test(r))return!1;if(bo.test(e))return n===e;const a=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(n)}const jo=new Rn(3e4,6e4);function So(){const e=Fi().___jsl;if(e?.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let r=0;r<e.CP.length;r++)e.CP[r]=null}function No(e){return new Promise((t,r)=>{function n(){So(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{So(),r(Sn(e,"network-request-failed"))},timeout:jo.get()})}if(Fi().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else{if(!Fi().gapi?.load){const t=La("iframefcb");return Fi()[t]=()=>{gapi.load?n():r(Sn(e,"network-request-failed"))},Ra(`${Ma.gapiScript}?onload=${t}`).catch(e=>r(e))}n()}}).catch(e=>{throw Eo=null,e})}let Eo=null;const _o=new Rn(5e3,15e3),Ao={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Co=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function To(e){const t=e.config;Cn(t.authDomain,e,"auth-domain-config-required");const r=t.emulator?Ln(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,n={apiKey:t.apiKey,appName:e.name,v:nn},a=Co.get(e.config.apiHost);a&&(n.eid=a);const i=e._getFrameworks();return i.length&&(n.fw=i.join(",")),`${r}?${Lt(n).slice(1)}`}async function Oo(e){const t=await function(e){return Eo=Eo||No(e),Eo}(e),r=Fi().gapi;return Cn(r,e,"internal-error"),t.open({where:document.body,url:To(e),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ao,dontclear:!0},t=>new Promise(async(r,n)=>{await t.restyle({setHideOnLeave:!1});const a=Sn(e,"network-request-failed"),i=Fi().setTimeout(()=>{n(a)},_o.get());function o(){Fi().clearTimeout(i),r(t)}t.ping(o).then(o,()=>{n(a)})}))}const Io={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Po{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(pH){}}}function Do(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const i=Math.max((window.screen.availHeight-a)/2,0).toString(),o=Math.max((window.screen.availWidth-n)/2,0).toString();let s="";const l={...Io,width:n.toString(),height:a.toString(),top:i,left:o},c=At().toLowerCase();r&&(s=wa(c)?"_blank":r),ba(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce((e,t)=>{let[r,n]=t;return`${e}${r}=${n},`},"");if(function(){return Ea(arguments.length>0&&void 0!==arguments[0]?arguments[0]:At())&&!!window.navigator?.standalone}(c)&&"_self"!==s)return function(e,t){const r=document.createElement("a");r.href=e,r.target=t;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}(t||"",s),new Po(null);const d=window.open(t||"",s,u);Cn(d,e,"popup-blocked");try{d.focus()}catch(pH){}return new Po(d)}const Mo="__/auth/handler",Ro="emulator/auth/handler",Lo=encodeURIComponent("fac");async function Fo(e,t,r,n,a,i){Cn(e.config.authDomain,e,"auth-domain-config-required"),Cn(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:r,redirectUrl:n,v:nn,eventId:a};if(t instanceof si){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(i||{}))o[e]=t}if(t instanceof li){const e=t.getScopes().filter(e=>""!==e);e.length>0&&(o.scopes=e.join(","))}e.tenantId&&(o.tid=e.tenantId);const s=o;for(const u of Object.keys(s))void 0===s[u]&&delete s[u];const l=await e._getAppCheckToken(),c=l?`#${Lo}=${encodeURIComponent(l)}`:"";return`${function(e){let{config:t}=e;if(!t.emulator)return`https://${t.authDomain}/${Mo}`;return Ln(t,Ro)}(e)}?${Lt(s).slice(1)}${c}`}const zo="webStorageSupport";const Uo=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Di,this._completeRedirectFn=mo,this._overrideRedirectResult=ho}async _openPopup(e,t,r,n){On(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");return Do(e,await Fo(e,t,r,In(),n),Ri())}async _openRedirect(e,t,r,n){await this._originValidation(e);return function(e){Fi().location.href=e}(await Fo(e,t,r,In(),n)),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:r}=this.eventManagers[t];return e?Promise.resolve(e):(On(r,"If manager is not set, promise should be"),r)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await Oo(e),r=new go(e);return t.register("authEvent",t=>{Cn(t?.authEvent,e,"invalid-auth-event");return{status:r.onEvent(t.authEvent)?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(zo,{type:zo},r=>{const n=r?.[0]?.[zo];void 0!==n&&t(!!n),jn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=wo(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Aa()||xa()||Ea()}};var Vo="@firebase/auth",Bo="1.11.0";class $o{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{e(t?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Cn(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const qo=wt("authIdTokenMaxAge")||300;let Ho=null;var Ko;Ma={loadJS:e=>new Promise((t,r)=>{const n=document.createElement("script");n.setAttribute("src",e),n.onload=t,n.onerror=e=>{const t=Sn("internal-error");t.customData=e,r(t)},n.type="text/javascript",n.charset="UTF-8",(document.getElementsByTagName("head")?.[0]??document).appendChild(n)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},Ko="Browser",Jr(new $t("auth",(e,t)=>{let{options:r}=t;const n=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:s}=n.options;Cn(o&&!o.includes(":"),"invalid-api-key",{appName:n.name});const l={apiKey:o,authDomain:s,clientPlatform:Ko,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ca(Ko)},c=new Ia(n,a,i,l);return function(e,t){const r=t?.persistence||[],n=(Array.isArray(r)?r:[r]).map(fa);t?.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(n,t?.popupRedirectResolver)}(c,r),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Jr(new $t("auth-internal",e=>(e=>new $o(e))(Pa(e.getProvider("auth").getImmediate())),"PRIVATE").setInstantiationMode("EXPLICIT")),sn(Vo,Bo,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(Ko)),sn(Vo,Bo,"esm2020");var Wo,Go,Yo="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Qo={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function r(e,t,r){r||(r=0);var n=Array(16);if("string"===typeof t)for(var a=0;16>a;++a)n[a]=t.charCodeAt(r++)|t.charCodeAt(r++)<<8|t.charCodeAt(r++)<<16|t.charCodeAt(r++)<<24;else for(a=0;16>a;++a)n[a]=t[r++]|t[r++]<<8|t[r++]<<16|t[r++]<<24;t=e.g[0],r=e.g[1],a=e.g[2];var i=e.g[3],o=t+(i^r&(a^i))+n[0]+3614090360&4294967295;o=(r=(a=(i=(t=(r=(a=(i=(t=(r=(a=(i=(t=(r=(a=(i=(t=(r=(a=(i=(t=(r=(a=(i=(t=(r=(a=(i=(t=(r=(a=(i=(t=(r=(a=(i=(t=(r=(a=(i=(t=(r=(a=(i=(t=(r=(a=(i=(t=(r=(a=(i=(t=(r=(a=(i=(t=(r=(a=(i=(t=r+(o<<7&4294967295|o>>>25))+((o=i+(a^t&(r^a))+n[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=a+(r^i&(t^r))+n[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=r+(t^a&(i^t))+n[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(i^r&(a^i))+n[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=i+(a^t&(r^a))+n[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=a+(r^i&(t^r))+n[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=r+(t^a&(i^t))+n[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(i^r&(a^i))+n[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=i+(a^t&(r^a))+n[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=a+(r^i&(t^r))+n[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=r+(t^a&(i^t))+n[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(i^r&(a^i))+n[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=i+(a^t&(r^a))+n[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=a+(r^i&(t^r))+n[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=r+(t^a&(i^t))+n[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^i&(r^a))+n[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=i+(r^a&(t^r))+n[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=a+(t^r&(i^t))+n[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=r+(i^t&(a^i))+n[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(a^i&(r^a))+n[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=i+(r^a&(t^r))+n[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=a+(t^r&(i^t))+n[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=r+(i^t&(a^i))+n[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(a^i&(r^a))+n[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=i+(r^a&(t^r))+n[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=a+(t^r&(i^t))+n[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=r+(i^t&(a^i))+n[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(a^i&(r^a))+n[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=i+(r^a&(t^r))+n[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=a+(t^r&(i^t))+n[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=r+(i^t&(a^i))+n[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(r^a^i)+n[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=i+(t^r^a)+n[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=a+(i^t^r)+n[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=r+(a^i^t)+n[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(r^a^i)+n[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=i+(t^r^a)+n[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=a+(i^t^r)+n[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=r+(a^i^t)+n[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(r^a^i)+n[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=i+(t^r^a)+n[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=a+(i^t^r)+n[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=r+(a^i^t)+n[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(r^a^i)+n[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=i+(t^r^a)+n[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=a+(i^t^r)+n[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=r+(a^i^t)+n[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(a^(r|~i))+n[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=i+(r^(t|~a))+n[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=a+(t^(i|~r))+n[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=r+(i^(a|~t))+n[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(a^(r|~i))+n[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=i+(r^(t|~a))+n[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=a+(t^(i|~r))+n[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=r+(i^(a|~t))+n[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(a^(r|~i))+n[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=i+(r^(t|~a))+n[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=a+(t^(i|~r))+n[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=r+(i^(a|~t))+n[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((i=(t=r+((o=t+(a^(r|~i))+n[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=i+(r^(t|~a))+n[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((a=i+((o=a+(t^(i|~r))+n[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+n[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(a+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+a&4294967295,e.g[3]=e.g[3]+i&4294967295}function n(e,t){this.h=t;for(var r=[],n=!0,a=e.length-1;0<=a;a--){var i=0|e[a];n&&i==t||(r[a]=i,n=!1)}this.g=r}!function(e,t){function r(){}r.prototype=t.prototype,e.D=t.prototype,e.prototype=new r,e.prototype.constructor=e,e.C=function(e,r,n){for(var a=Array(arguments.length-2),i=2;i<arguments.length;i++)a[i-2]=arguments[i];return t.prototype[r].apply(e,a)}}(t,function(){this.blockSize=-1}),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,a=this.B,i=this.h,o=0;o<t;){if(0==i)for(;o<=n;)r(this,e,o),o+=this.blockSize;if("string"===typeof e){for(;o<t;)if(a[i++]=e.charCodeAt(o++),i==this.blockSize){r(this,a),i=0;break}}else for(;o<t;)if(a[i++]=e[o++],i==this.blockSize){r(this,a),i=0;break}}this.h=i,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var r=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&r,r/=256;for(this.u(e),e=Array(16),t=r=0;4>t;++t)for(var n=0;32>n;n+=8)e[r++]=this.g[t]>>>n&255;return e};var a={};function i(e){return-128<=e&&128>e?function(e,t){var r=a;return Object.prototype.hasOwnProperty.call(r,e)?r[e]:r[e]=t(e)}(e,function(e){return new n([0|e],0>e?-1:0)}):new n([0|e],0>e?-1:0)}function o(e){if(isNaN(e)||!isFinite(e))return s;if(0>e)return h(o(-e));for(var t=[],r=1,a=0;e>=r;a++)t[a]=e/r|0,r*=4294967296;return new n(t,0)}var s=i(0),l=i(1),c=i(16777216);function u(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function d(e){return-1==e.h}function h(e){for(var t=e.g.length,r=[],a=0;a<t;a++)r[a]=~e.g[a];return new n(r,~e.h).add(l)}function f(e,t){return e.add(h(t))}function p(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function m(e,t){this.g=e,this.h=t}function g(e,t){if(u(t))throw Error("division by zero");if(u(e))return new m(s,s);if(d(e))return t=g(h(e),t),new m(h(t.g),h(t.h));if(d(t))return t=g(e,h(t)),new m(h(t.g),t.h);if(30<e.g.length){if(d(e)||d(t))throw Error("slowDivide_ only works with positive integers.");for(var r=l,n=t;0>=n.l(e);)r=y(r),n=y(n);var a=v(r,1),i=v(n,1);for(n=v(n,2),r=v(r,2);!u(n);){var c=i.add(n);0>=c.l(e)&&(a=a.add(r),i=c),n=v(n,1),r=v(r,1)}return t=f(e,a.j(t)),new m(a,t)}for(a=s;0<=e.l(t);){for(r=Math.max(1,Math.floor(e.m()/t.m())),n=48>=(n=Math.ceil(Math.log(r)/Math.LN2))?1:Math.pow(2,n-48),c=(i=o(r)).j(t);d(c)||0<c.l(e);)c=(i=o(r-=n)).j(t);u(i)&&(i=l),a=a.add(i),e=f(e,c)}return new m(a,e)}function y(e){for(var t=e.g.length+1,r=[],a=0;a<t;a++)r[a]=e.i(a)<<1|e.i(a-1)>>>31;return new n(r,e.h)}function v(e,t){var r=t>>5;t%=32;for(var a=e.g.length-r,i=[],o=0;o<a;o++)i[o]=0<t?e.i(o+r)>>>t|e.i(o+r+1)<<32-t:e.i(o+r);return new n(i,e.h)}(e=n.prototype).m=function(){if(d(this))return-h(this).m();for(var e=0,t=1,r=0;r<this.g.length;r++){var n=this.i(r);e+=(0<=n?n:4294967296+n)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(u(this))return"0";if(d(this))return"-"+h(this).toString(e);for(var t=o(Math.pow(e,6)),r=this,n="";;){var a=g(r,t).g,i=((0<(r=f(r,a.j(t))).g.length?r.g[0]:r.h)>>>0).toString(e);if(u(r=a))return i+n;for(;6>i.length;)i="0"+i;n=i+n}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return d(e=f(this,e))?-1:u(e)?0:1},e.abs=function(){return d(this)?h(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),r=[],a=0,i=0;i<=t;i++){var o=a+(65535&this.i(i))+(65535&e.i(i)),s=(o>>>16)+(this.i(i)>>>16)+(e.i(i)>>>16);a=s>>>16,o&=65535,s&=65535,r[i]=s<<16|o}return new n(r,-2147483648&r[r.length-1]?-1:0)},e.j=function(e){if(u(this)||u(e))return s;if(d(this))return d(e)?h(this).j(h(e)):h(h(this).j(e));if(d(e))return h(this.j(h(e)));if(0>this.l(c)&&0>e.l(c))return o(this.m()*e.m());for(var t=this.g.length+e.g.length,r=[],a=0;a<2*t;a++)r[a]=0;for(a=0;a<this.g.length;a++)for(var i=0;i<e.g.length;i++){var l=this.i(a)>>>16,f=65535&this.i(a),m=e.i(i)>>>16,g=65535&e.i(i);r[2*a+2*i]+=f*g,p(r,2*a+2*i),r[2*a+2*i+1]+=l*g,p(r,2*a+2*i+1),r[2*a+2*i+1]+=f*m,p(r,2*a+2*i+1),r[2*a+2*i+2]+=l*m,p(r,2*a+2*i+2)}for(a=0;a<t;a++)r[a]=r[2*a+1]<<16|r[2*a];for(a=t;a<2*t;a++)r[a]=0;return new n(r,0)},e.A=function(e){return g(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),r=[],a=0;a<t;a++)r[a]=this.i(a)&e.i(a);return new n(r,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),r=[],a=0;a<t;a++)r[a]=this.i(a)|e.i(a);return new n(r,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),r=[],a=0;a<t;a++)r[a]=this.i(a)^e.i(a);return new n(r,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,Go=Qo.Md5=t,n.prototype.add=n.prototype.add,n.prototype.multiply=n.prototype.j,n.prototype.modulo=n.prototype.A,n.prototype.compare=n.prototype.l,n.prototype.toNumber=n.prototype.m,n.prototype.toString=n.prototype.toString,n.prototype.getBits=n.prototype.i,n.fromNumber=o,n.fromString=function e(t,r){if(0==t.length)throw Error("number format error: empty string");if(2>(r=r||10)||36<r)throw Error("radix out of range: "+r);if("-"==t.charAt(0))return h(e(t.substring(1),r));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=o(Math.pow(r,8)),a=s,i=0;i<t.length;i+=8){var l=Math.min(8,t.length-i),c=parseInt(t.substring(i,i+l),r);8>l?(l=o(Math.pow(r,l)),a=a.j(l).add(o(c))):a=(a=a.j(n)).add(o(c))}return a},Wo=Qo.Integer=n}).apply("undefined"!==typeof Yo?Yo:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var Xo,Jo,Zo,es,ts,rs,ns,as,is="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},os={};(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,r){return e==Array.prototype||e==Object.prototype||(e[t]=r.value),e};var r=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof is&&is];for(var t=0;t<e.length;++t){var r=e[t];if(r&&r.Math==Math)return r}throw Error("Cannot find global object")}(this);!function(e,n){if(n)e:{var a=r;e=e.split(".");for(var i=0;i<e.length-1;i++){var o=e[i];if(!(o in a))break e;a=a[o]}(n=n(i=a[e=e[e.length-1]]))!=i&&null!=n&&t(a,e,{configurable:!0,writable:!0,value:n})}}("Array.prototype.values",function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var r=0,n=!1,a={next:function(){if(!n&&r<e.length){var a=r++;return{value:t(a,e[a]),done:!1}}return n=!0,{done:!0,value:void 0}}};return a[Symbol.iterator]=function(){return a},a}(this,function(e,t){return t})}});var n=n||{},a=this||self;function i(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function o(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function s(e,t,r){return e.call.apply(e.bind,arguments)}function l(e,t,r){if(!e)throw Error();if(2<arguments.length){var n=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,n),e.apply(t,r)}}return function(){return e.apply(t,arguments)}}function c(e,t,r){return(c=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?s:l).apply(null,arguments)}function u(e,t){var r=Array.prototype.slice.call(arguments,1);return function(){var t=r.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function d(e,t){function r(){}r.prototype=t.prototype,e.aa=t.prototype,e.prototype=new r,e.prototype.constructor=e,e.Qb=function(e,r,n){for(var a=Array(arguments.length-2),i=2;i<arguments.length;i++)a[i-2]=arguments[i];return t.prototype[r].apply(e,a)}}function h(e){const t=e.length;if(0<t){const r=Array(t);for(let n=0;n<t;n++)r[n]=e[n];return r}return[]}function f(e,t){for(let r=1;r<arguments.length;r++){const t=arguments[r];if(i(t)){const r=e.length||0,n=t.length||0;e.length=r+n;for(let a=0;a<n;a++)e[r+a]=t[a]}else e.push(t)}}function p(e){return/^[\s\xa0]*$/.test(e)}function m(){var e=a.navigator;return e&&(e=e.userAgent)?e:""}function g(e){return g[" "](e),e}g[" "]=function(){};var y=-1!=m().indexOf("Gecko")&&!(-1!=m().toLowerCase().indexOf("webkit")&&-1==m().indexOf("Edge"))&&!(-1!=m().indexOf("Trident")||-1!=m().indexOf("MSIE"))&&-1==m().indexOf("Edge");function v(e,t,r){for(const n in e)t.call(r,e[n],n,e)}function b(e){const t={};for(const r in e)t[r]=e[r];return t}const x="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(e,t){let r,n;for(let a=1;a<arguments.length;a++){for(r in n=arguments[a],n)e[r]=n[r];for(let t=0;t<x.length;t++)r=x[t],Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}}function k(e){var t=1;e=e.split(":");const r=[];for(;0<t&&e.length;)r.push(e.shift()),t--;return e.length&&r.push(e.join(":")),r}function j(e){a.setTimeout(()=>{throw e},0)}function S(){var e=C;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var N=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new E,e=>e.reset());class E{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let _,A=!1,C=new class{constructor(){this.h=this.g=null}add(e,t){const r=N.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}},T=()=>{const e=a.Promise.resolve(void 0);_=()=>{e.then(O)}};var O=()=>{for(var e;e=S();){try{e.h.call(e.g)}catch(yV){j(yV)}var t=N;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}A=!1};function I(){this.s=this.s,this.C=this.C}function P(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}I.prototype.s=!1,I.prototype.ma=function(){this.s||(this.s=!0,this.N())},I.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},P.prototype.h=function(){this.defaultPrevented=!0};var D=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};a.addEventListener("test",e,t),a.removeEventListener("test",e,t)}catch(yV){}return e}();function M(e,t){if(P.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var r=this.type=e.type,n=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(y){e:{try{g(t.nodeName);var a=!0;break e}catch(i){}a=!1}a||(t=null)}}else"mouseover"==r?t=e.fromElement:"mouseout"==r&&(t=e.toElement);this.relatedTarget=t,n?(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:R[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&M.aa.h.call(this)}}d(M,P);var R={2:"touch",3:"pen",4:"mouse"};M.prototype.h=function(){M.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var L="closure_listenable_"+(1e6*Math.random()|0),F=0;function z(e,t,r,n,a){this.listener=e,this.proxy=null,this.src=t,this.type=r,this.capture=!!n,this.ha=a,this.key=++F,this.da=this.fa=!1}function U(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function V(e){this.src=e,this.g={},this.h=0}function B(e,t){var r=t.type;if(r in e.g){var n,a=e.g[r],i=Array.prototype.indexOf.call(a,t,void 0);(n=0<=i)&&Array.prototype.splice.call(a,i,1),n&&(U(t),0==e.g[r].length&&(delete e.g[r],e.h--))}}function $(e,t,r,n){for(var a=0;a<e.length;++a){var i=e[a];if(!i.da&&i.listener==t&&i.capture==!!r&&i.ha==n)return a}return-1}V.prototype.add=function(e,t,r,n,a){var i=e.toString();(e=this.g[i])||(e=this.g[i]=[],this.h++);var o=$(e,t,n,a);return-1<o?(t=e[o],r||(t.fa=!1)):((t=new z(t,this.src,i,!!n,a)).fa=r,e.push(t)),t};var q="closure_lm_"+(1e6*Math.random()|0),H={};function K(e,t,r,n,a){if(n&&n.once)return G(e,t,r,n,a);if(Array.isArray(t)){for(var i=0;i<t.length;i++)K(e,t[i],r,n,a);return null}return r=te(r),e&&e[L]?e.K(t,r,o(n)?!!n.capture:!!n,a):W(e,t,r,!1,n,a)}function W(e,t,r,n,a,i){if(!t)throw Error("Invalid event type");var s=o(a)?!!a.capture:!!a,l=Z(e);if(l||(e[q]=l=new V(e)),(r=l.add(t,r,n,s,i)).proxy)return r;if(n=function(){function e(r){return t.call(e.src,e.listener,r)}const t=J;return e}(),r.proxy=n,n.src=e,n.listener=r,e.addEventListener)D||(a=s),void 0===a&&(a=!1),e.addEventListener(t.toString(),n,a);else if(e.attachEvent)e.attachEvent(X(t.toString()),n);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(n)}return r}function G(e,t,r,n,a){if(Array.isArray(t)){for(var i=0;i<t.length;i++)G(e,t[i],r,n,a);return null}return r=te(r),e&&e[L]?e.L(t,r,o(n)?!!n.capture:!!n,a):W(e,t,r,!0,n,a)}function Y(e,t,r,n,a){if(Array.isArray(t))for(var i=0;i<t.length;i++)Y(e,t[i],r,n,a);else n=o(n)?!!n.capture:!!n,r=te(r),e&&e[L]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(r=$(i=e.g[t],r,n,a))&&(U(i[r]),Array.prototype.splice.call(i,r,1),0==i.length&&(delete e.g[t],e.h--)))):e&&(e=Z(e))&&(t=e.g[t.toString()],e=-1,t&&(e=$(t,r,n,a)),(r=-1<e?t[e]:null)&&Q(r))}function Q(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[L])B(t.i,e);else{var r=e.type,n=e.proxy;t.removeEventListener?t.removeEventListener(r,n,e.capture):t.detachEvent?t.detachEvent(X(r),n):t.addListener&&t.removeListener&&t.removeListener(n),(r=Z(t))?(B(r,e),0==r.h&&(r.src=null,t[q]=null)):U(e)}}}function X(e){return e in H?H[e]:H[e]="on"+e}function J(e,t){if(e.da)e=!0;else{t=new M(t,this);var r=e.listener,n=e.ha||e.src;e.fa&&Q(e),e=r.call(n,t)}return e}function Z(e){return(e=e[q])instanceof V?e:null}var ee="__closure_events_fn_"+(1e9*Math.random()>>>0);function te(e){return"function"===typeof e?e:(e[ee]||(e[ee]=function(t){return e.handleEvent(t)}),e[ee])}function re(){I.call(this),this.i=new V(this),this.M=this,this.F=null}function ne(e,t){var r,n=e.F;if(n)for(r=[];n;n=n.F)r.push(n);if(e=e.M,n=t.type||t,"string"===typeof t)t=new P(t,e);else if(t instanceof P)t.target=t.target||e;else{var a=t;w(t=new P(n,e),a)}if(a=!0,r)for(var i=r.length-1;0<=i;i--){var o=t.g=r[i];a=ae(o,n,!0,t)&&a}if(a=ae(o=t.g=e,n,!0,t)&&a,a=ae(o,n,!1,t)&&a,r)for(i=0;i<r.length;i++)a=ae(o=t.g=r[i],n,!1,t)&&a}function ae(e,t,r,n){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var a=!0,i=0;i<t.length;++i){var o=t[i];if(o&&!o.da&&o.capture==r){var s=o.listener,l=o.ha||o.src;o.fa&&B(e.i,o),a=!1!==s.call(l,n)&&a}}return a&&!n.defaultPrevented}function ie(e,t,r){if("function"===typeof e)r&&(e=c(e,r));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=c(e.handleEvent,e)}return 2147483647<Number(t)?-1:a.setTimeout(e,t||0)}function oe(e){e.g=ie(()=>{e.g=null,e.i&&(e.i=!1,oe(e))},e.l);const t=e.h;e.h=null,e.m.apply(null,t)}d(re,I),re.prototype[L]=!0,re.prototype.removeEventListener=function(e,t,r,n){Y(this,e,t,r,n)},re.prototype.N=function(){if(re.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var r=t.g[e],n=0;n<r.length;n++)U(r[n]);delete t.g[e],t.h--}}this.F=null},re.prototype.K=function(e,t,r,n){return this.i.add(String(e),t,!1,r,n)},re.prototype.L=function(e,t,r,n){return this.i.add(String(e),t,!0,r,n)};class se extends I{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:oe(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function le(e){I.call(this),this.h=e,this.g={}}d(le,I);var ce=[];function ue(e){v(e.g,function(e,t){this.g.hasOwnProperty(t)&&Q(e)},e),e.g={}}le.prototype.N=function(){le.aa.N.call(this),ue(this)},le.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var de=a.JSON.stringify,he=a.JSON.parse,fe=class{stringify(e){return a.JSON.stringify(e,void 0)}parse(e){return a.JSON.parse(e,void 0)}};function pe(){}function me(e){return e.h||(e.h=e.i())}function ge(){}pe.prototype.h=null;var ye={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ve(){P.call(this,"d")}function be(){P.call(this,"c")}d(ve,P),d(be,P);var xe={},we=null;function ke(){return we=we||new re}function je(e){P.call(this,xe.La,e)}function Se(e){const t=ke();ne(t,new je(t))}function Ne(e,t){P.call(this,xe.STAT_EVENT,e),this.stat=t}function Ee(e){const t=ke();ne(t,new Ne(t,e))}function _e(e,t){P.call(this,xe.Ma,e),this.size=t}function Ae(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){e()},t)}function Ce(){this.g=!0}function Te(e,t,r,n){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var r=JSON.parse(t);if(r)for(e=0;e<r.length;e++)if(Array.isArray(r[e])){var n=r[e];if(!(2>n.length)){var a=n[1];if(Array.isArray(a)&&!(1>a.length)){var i=a[0];if("noop"!=i&&"stop"!=i&&"close"!=i)for(var o=1;o<a.length;o++)a[o]=""}}}return de(r)}catch(s){return t}}(e,r)+(n?" "+n:"")})}xe.La="serverreachability",d(je,P),xe.STAT_EVENT="statevent",d(Ne,P),xe.Ma="timingevent",d(_e,P),Ce.prototype.xa=function(){this.g=!1},Ce.prototype.info=function(){};var Oe,Ie={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Pe={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function De(){}function Me(e,t,r,n){this.j=e,this.i=t,this.l=r,this.R=n||1,this.U=new le(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Re}function Re(){this.i=null,this.g="",this.h=!1}d(De,pe),De.prototype.g=function(){return new XMLHttpRequest},De.prototype.i=function(){return{}},Oe=new De;var Le={},Fe={};function ze(e,t,r){e.L=1,e.v=dt(ot(t)),e.m=r,e.P=!0,Ue(e,null)}function Ue(e,t){e.F=Date.now(),$e(e),e.A=ot(e.v);var r=e.A,n=e.R;Array.isArray(n)||(n=[String(n)]),St(r.i,"t",n),e.C=0,r=e.j.J,e.h=new Re,e.g=dr(e.j,r?t:null,!e.m),0<e.O&&(e.M=new se(c(e.Y,e,e.g),e.O)),t=e.U,r=e.g,n=e.ca;var a="readystatechange";Array.isArray(a)||(a&&(ce[0]=a.toString()),a=ce);for(var i=0;i<a.length;i++){var o=K(r,a[i],n||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}t=e.H?b(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Se(),function(e,t,r,n,a,i){e.info(function(){if(e.g)if(i)for(var o="",s=i.split("&"),l=0;l<s.length;l++){var c=s[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");o=2<=d.length&&"type"==d[1]?o+(u+"=")+c+"&":o+(u+"=redacted&")}}else o=null;else o=i;return"XMLHTTP REQ ("+n+") [attempt "+a+"]: "+t+"\n"+r+"\n"+o})}(e.i,e.u,e.A,e.l,e.R,e.m)}function Ve(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function Be(e,t){var r=e.C,n=t.indexOf("\n",r);return-1==n?Fe:(r=Number(t.substring(r,n)),isNaN(r)?Le:(n+=1)+r>t.length?Fe:(t=t.slice(n,n+r),e.C=n+r,t))}function $e(e){e.S=Date.now()+e.I,qe(e,e.I)}function qe(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Ae(c(e.ba,e),t)}function He(e){e.B&&(a.clearTimeout(e.B),e.B=null)}function Ke(e){0==e.j.G||e.J||or(e.j,e)}function We(e){He(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,ue(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function Ge(e,t){try{var r=e.j;if(0!=r.G&&(r.g==e||Ze(r.h,e)))if(!e.K&&Ze(r.h,e)&&3==r.G){try{var n=r.Da.g.parse(t)}catch(u){n=null}if(Array.isArray(n)&&3==n.length){var a=n;if(0==a[0]){e:if(!r.u){if(r.g){if(!(r.g.F+3e3<e.F))break e;ir(r),Yt(r)}rr(r),Ee(18)}}else r.za=a[1],0<r.za-r.T&&37500>a[2]&&r.F&&0==r.v&&!r.C&&(r.C=Ae(c(r.Za,r),6e3));if(1>=Je(r.h)&&r.ca){try{r.ca()}catch(u){}r.ca=void 0}}else lr(r,11)}else if((e.K||r.g==e)&&ir(r),!p(t))for(a=r.Da.g.parse(t),t=0;t<a.length;t++){let c=a[t];if(r.T=c[0],c=c[1],2==r.G)if("c"==c[0]){r.K=c[1],r.ia=c[2];const t=c[3];null!=t&&(r.la=t,r.j.info("VER="+r.la));const a=c[4];null!=a&&(r.Aa=a,r.j.info("SVER="+r.Aa));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(n=1.5*u,r.L=n,r.j.info("backChannelRequestTimeoutMs_="+n)),n=r;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var i=n.h;i.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(i.j=i.l,i.g=new Set,i.h&&(et(i,i.h),i.h=null))}if(n.D){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(n.ya=e,ut(n.I,n.D,e))}}r.G=3,r.l&&r.l.ua(),r.ba&&(r.R=Date.now()-e.F,r.j.info("Handshake RTT: "+r.R+"ms"));var o=e;if((n=r).qa=ur(n,n.J?n.ia:null,n.W),o.K){tt(n.h,o);var s=o,l=n.L;l&&(s.I=l),s.B&&(He(s),$e(s)),n.g=o}else tr(n);0<r.i.length&&Xt(r)}else"stop"!=c[0]&&"close"!=c[0]||lr(r,7);else 3==r.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?lr(r,7):Gt(r):"noop"!=c[0]&&r.l&&r.l.ta(c),r.v=0)}Se()}catch(u){}}Me.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==qt(e)?t.j():this.Y(e)},Me.prototype.Y=function(e){try{if(e==this.g)e:{const h=qt(this.g);var t=this.g.Ba();this.g.Z();if(!(3>h)&&(3!=h||this.g&&(this.h.h||this.g.oa()||Ht(this.g)))){this.J||4!=h||7==t||Se(),He(this);var r=this.g.Z();this.X=r;t:if(Ve(this)){var n=Ht(this.g);e="";var i=n.length,o=4==qt(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){We(this),Ke(this);var s="";break t}this.h.i=new a.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(n[t],{stream:!(o&&t==i-1)});n.length=0,this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.oa();if(this.o=200==r,function(e,t,r,n,a,i,o){e.info(function(){return"XMLHTTP RESP ("+n+") [ attempt "+a+"]: "+t+"\n"+r+"\n"+i+" "+o})}(this.i,this.u,this.A,this.l,this.R,h,r),this.o){if(this.T&&!this.K){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!p(l)){var u=l;break t}}u=null}if(!(r=u)){this.o=!1,this.s=3,Ee(12),We(this),Ke(this);break e}Te(this.i,this.l,r,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ge(this,r)}if(this.P){let e;for(r=!0;!this.J&&this.C<s.length;){if(e=Be(this,s),e==Fe){4==h&&(this.s=4,Ee(14),r=!1),Te(this.i,this.l,null,"[Incomplete Response]");break}if(e==Le){this.s=4,Ee(15),Te(this.i,this.l,s,"[Invalid Chunk]"),r=!1;break}Te(this.i,this.l,e,null),Ge(this,e)}if(Ve(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=h||0!=s.length||this.h.h||(this.s=1,Ee(16),r=!1),this.o=this.o&&r,r){if(0<s.length&&!this.W){this.W=!0;var d=this.j;d.g==this&&d.ba&&!d.M&&(d.j.info("Great, no buffering proxy detected. Bytes received: "+s.length),nr(d),d.M=!0,Ee(11))}}else Te(this.i,this.l,s,"[Invalid Chunked Response]"),We(this),Ke(this)}else Te(this.i,this.l,s,null),Ge(this,s);4==h&&We(this),this.o&&!this.J&&(4==h?or(this.j,this):(this.o=!1,$e(this)))}else(function(e){const t={};e=(e.g&&2<=qt(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let n=0;n<e.length;n++){if(p(e[n]))continue;var r=k(e[n]);const a=r[0];if("string"!==typeof(r=r[1]))continue;r=r.trim();const i=t[a]||[];t[a]=i,i.push(r)}!function(e,t){for(const r in e)t.call(void 0,e[r],r,e)}(t,function(e){return e.join(", ")})})(this.g),400==r&&0<s.indexOf("Unknown SID")?(this.s=3,Ee(12)):(this.s=0,Ee(13)),We(this),Ke(this)}}}catch(h){}},Me.prototype.cancel=function(){this.J=!0,We(this)},Me.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.i,this.A),2!=this.L&&(Se(),Ee(17)),We(this),this.s=2,Ke(this)):qe(this,this.S-e)};var Ye=class{constructor(e,t){this.g=e,this.map=t}};function Qe(e){this.l=e||10,a.PerformanceNavigationTiming?e=0<(e=a.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Xe(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Je(e){return e.h?1:e.g?e.g.size:0}function Ze(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function et(e,t){e.g?e.g.add(t):e.h=t}function tt(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function rt(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const r of e.g.values())t=t.concat(r.D);return t}return h(e.i)}function nt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(i(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var r=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(i(e)||"string"===typeof e){var t=[];e=e.length;for(var r=0;r<e;r++)t.push(r);return t}t=[],r=0;for(const n in e)t[r++]=n;return t}}}(e),n=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(i(e)){for(var t=[],r=e.length,n=0;n<r;n++)t.push(e[n]);return t}for(n in t=[],r=0,e)t[r++]=e[n];return t}(e),a=n.length,o=0;o<a;o++)t.call(void 0,n[o],r&&r[o],e)}Qe.prototype.cancel=function(){if(this.i=rt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var at=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function it(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof it){this.h=e.h,st(this,e.j),this.o=e.o,this.g=e.g,lt(this,e.s),this.l=e.l;var t=e.i,r=new xt;r.i=t.i,t.g&&(r.g=new Map(t.g),r.h=t.h),ct(this,r),this.m=e.m}else e&&(t=String(e).match(at))?(this.h=!1,st(this,t[1]||"",!0),this.o=ht(t[2]||""),this.g=ht(t[3]||"",!0),lt(this,t[4]),this.l=ht(t[5]||"",!0),ct(this,t[6]||"",!0),this.m=ht(t[7]||"")):(this.h=!1,this.i=new xt(null,this.h))}function ot(e){return new it(e)}function st(e,t,r){e.j=r?ht(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function lt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function ct(e,t,r){t instanceof xt?(e.i=t,function(e,t){t&&!e.j&&(wt(e),e.i=null,e.g.forEach(function(e,t){var r=t.toLowerCase();t!=r&&(kt(this,t),St(this,r,e))},e)),e.j=t}(e.i,e.h)):(r||(t=ft(t,vt)),e.i=new xt(t,e.h))}function ut(e,t,r){e.i.set(t,r)}function dt(e){return ut(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function ht(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ft(e,t,r){return"string"===typeof e?(e=encodeURI(e).replace(t,pt),r&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function pt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}it.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ft(t,mt,!0),":");var r=this.g;return(r||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(ft(t,mt,!0),"@"),e.push(encodeURIComponent(String(r)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(r=this.s)&&e.push(":",String(r))),(r=this.l)&&(this.g&&"/"!=r.charAt(0)&&e.push("/"),e.push(ft(r,"/"==r.charAt(0)?yt:gt,!0))),(r=this.i.toString())&&e.push("?",r),(r=this.m)&&e.push("#",ft(r,bt)),e.join("")};var mt=/[#\/\?@]/g,gt=/[#\?:]/g,yt=/[#\?]/g,vt=/[#\?@]/g,bt=/#/g;function xt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function wt(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var r=0;r<e.length;r++){var n=e[r].indexOf("="),a=null;if(0<=n){var i=e[r].substring(0,n);a=e[r].substring(n+1)}else i=e[r];t(i,a?decodeURIComponent(a.replace(/\+/g," ")):"")}}}(e.i,function(t,r){e.add(decodeURIComponent(t.replace(/\+/g," ")),r)}))}function kt(e,t){wt(e),t=Nt(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function jt(e,t){return wt(e),t=Nt(e,t),e.g.has(t)}function St(e,t,r){kt(e,t),0<r.length&&(e.i=null,e.g.set(Nt(e,t),h(r)),e.h+=r.length)}function Nt(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Et(e,t,r,n,a){try{a&&(a.onload=null,a.onerror=null,a.onabort=null,a.ontimeout=null),n(r)}catch(i){}}function _t(){this.g=new fe}function At(e,t,r){const n=r||"";try{nt(e,function(e,r){let a=e;o(e)&&(a=de(e)),t.push(n+r+"="+encodeURIComponent(a))})}catch(pH){throw t.push(n+"type="+encodeURIComponent("_badmap")),pH}}function Ct(e){this.l=e.Ub||null,this.j=e.eb||!1}function Tt(e,t){re.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Ot(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function It(e){e.readyState=4,e.l=null,e.j=null,e.v=null,Pt(e)}function Pt(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Dt(e){let t="";return v(e,function(e,r){t+=r,t+=":",t+=e,t+="\r\n"}),t}function Mt(e,t,r){e:{for(n in r){var n=!1;break e}n=!0}n||(r=Dt(r),"string"===typeof e?null!=r&&encodeURIComponent(String(r)):ut(e,t,r))}function Rt(e){re.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=xt.prototype).add=function(e,t){wt(this),this.i=null,e=Nt(this,e);var r=this.g.get(e);return r||this.g.set(e,r=[]),r.push(t),this.h+=1,this},e.forEach=function(e,t){wt(this),this.g.forEach(function(r,n){r.forEach(function(r){e.call(t,r,n,this)},this)},this)},e.na=function(){wt(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),r=[];for(let n=0;n<t.length;n++){const a=e[n];for(let e=0;e<a.length;e++)r.push(t[n])}return r},e.V=function(e){wt(this);let t=[];if("string"===typeof e)jt(this,e)&&(t=t.concat(this.g.get(Nt(this,e))));else{e=Array.from(this.g.values());for(let r=0;r<e.length;r++)t=t.concat(e[r])}return t},e.set=function(e,t){return wt(this),this.i=null,jt(this,e=Nt(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var r=0;r<t.length;r++){var n=t[r];const i=encodeURIComponent(String(n)),o=this.V(n);for(n=0;n<o.length;n++){var a=i;""!==o[n]&&(a+="="+encodeURIComponent(String(o[n]))),e.push(a)}}return this.i=e.join("&")},d(Ct,pe),Ct.prototype.g=function(){return new Tt(this.l,this.j)},Ct.prototype.i=function(e){return function(){return e}}({}),d(Tt,re),(e=Tt.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,Pt(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||a).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,It(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Pt(this)),this.g&&(this.readyState=3,Pt(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if("undefined"!==typeof a.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ot(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?It(this):Pt(this),3==this.readyState&&Ot(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,It(this))},e.Qa=function(e){this.g&&(this.response=e,It(this))},e.ga=function(){this.g&&It(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var r=t.next();!r.done;)r=r.value,e.push(r[0]+": "+r[1]),r=t.next();return e.join("\r\n")},Object.defineProperty(Tt.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),d(Rt,re);var Lt=/^https?$/i,Ft=["POST","PUT"];function zt(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,Ut(e),Bt(e)}function Ut(e){e.A||(e.A=!0,ne(e,"complete"),ne(e,"error"))}function Vt(e){if(e.h&&"undefined"!=typeof n&&(!e.v[1]||4!=qt(e)||2!=e.Z()))if(e.u&&4==qt(e))ie(e.Ea,0,e);else if(ne(e,"readystatechange"),4==qt(e)){e.h=!1;try{const n=e.Z();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var r;if(!(r=t)){var i;if(i=0===n){var o=String(e.D).match(at)[1]||null;!o&&a.self&&a.self.location&&(o=a.self.location.protocol.slice(0,-1)),i=!Lt.test(o?o.toLowerCase():"")}r=i}if(r)ne(e,"complete"),ne(e,"success");else{e.m=6;try{var s=2<qt(e)?e.g.statusText:""}catch(l){s=""}e.l=s+" ["+e.Z()+"]",Ut(e)}}finally{Bt(e)}}}function Bt(e,t){if(e.g){$t(e);const r=e.g,n=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||ne(e,"ready");try{r.onreadystatechange=n}catch(pH){}}}function $t(e){e.I&&(a.clearTimeout(e.I),e.I=null)}function qt(e){return e.g?e.g.readyState:0}function Ht(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Kt(e,t,r){return r&&r.internalChannelParams&&r.internalChannelParams[e]||t}function Wt(e){this.Aa=0,this.i=[],this.j=new Ce,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Kt("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Kt("baseRetryDelayMs",5e3,e),this.cb=Kt("retryDelaySeedMs",1e4,e),this.Wa=Kt("forwardChannelMaxRetries",2,e),this.wa=Kt("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new Qe(e&&e.concurrentRequestLimit),this.Da=new _t,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Gt(e){if(Qt(e),3==e.G){var t=e.U++,r=ot(e.I);if(ut(r,"SID",e.K),ut(r,"RID",t),ut(r,"TYPE","terminate"),Zt(e,r),(t=new Me(e,e.j,t)).L=2,t.v=dt(ot(r)),r=!1,a.navigator&&a.navigator.sendBeacon)try{r=a.navigator.sendBeacon(t.v.toString(),"")}catch(n){}!r&&a.Image&&((new Image).src=t.v,r=!0),r||(t.g=dr(t.j,null),t.g.ea(t.v)),t.F=Date.now(),$e(t)}cr(e)}function Yt(e){e.g&&(nr(e),e.g.cancel(),e.g=null)}function Qt(e){Yt(e),e.u&&(a.clearTimeout(e.u),e.u=null),ir(e),e.h.cancel(),e.s&&("number"===typeof e.s&&a.clearTimeout(e.s),e.s=null)}function Xt(e){if(!Xe(e.h)&&!e.s){e.s=!0;var t=e.Ga;_||T(),A||(_(),A=!0),C.add(t,e),e.B=0}}function Jt(e,t){var r;r=t?t.l:e.U++;const n=ot(e.I);ut(n,"SID",e.K),ut(n,"RID",r),ut(n,"AID",e.T),Zt(e,n),e.m&&e.o&&Mt(n,e.m,e.o),r=new Me(e,e.j,r,e.B+1),null===e.m&&(r.H=e.o),t&&(e.i=t.D.concat(e.i)),t=er(e,r,1e3),r.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),et(e.h,r),ze(r,n,t)}function Zt(e,t){e.H&&v(e.H,function(e,r){ut(t,r,e)}),e.l&&nt({},function(e,r){ut(t,r,e)})}function er(e,t,r){r=Math.min(e.i.length,r);var n=e.l?c(e.l.Na,e.l,e):null;e:{var a=e.i;let t=-1;for(;;){const e=["count="+r];-1==t?0<r?(t=a[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let o=!0;for(let s=0;s<r;s++){let r=a[s].g;const l=a[s].map;if(r-=t,0>r)t=Math.max(0,a[s].g-100),o=!1;else try{At(l,e,"req"+r+"_")}catch(i){n&&n(l)}}if(o){n=e.join("&");break e}}}return e=e.i.splice(0,r),t.D=e,n}function tr(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;_||T(),A||(_(),A=!0),C.add(t,e),e.v=0}}function rr(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=Ae(c(e.Fa,e),sr(e,e.v)),e.v++,!0)}function nr(e){null!=e.A&&(a.clearTimeout(e.A),e.A=null)}function ar(e){e.g=new Me(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=ot(e.qa);ut(t,"RID","rpc"),ut(t,"SID",e.K),ut(t,"AID",e.T),ut(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&ut(t,"TO",e.ja),ut(t,"TYPE","xmlhttp"),Zt(e,t),e.m&&e.o&&Mt(t,e.m,e.o),e.L&&(e.g.I=e.L);var r=e.g;e=e.ia,r.L=1,r.v=dt(ot(t)),r.m=null,r.P=!0,Ue(r,e)}function ir(e){null!=e.C&&(a.clearTimeout(e.C),e.C=null)}function or(e,t){var r=null;if(e.g==t){ir(e),nr(e),e.g=null;var n=2}else{if(!Ze(e.h,t))return;r=t.D,tt(e.h,t),n=1}if(0!=e.G)if(t.o)if(1==n){r=t.m?t.m.length:0,t=Date.now()-t.F;var a=e.B;ne(n=ke(),new _e(n,r)),Xt(e)}else tr(e);else if(3==(a=t.s)||0==a&&0<t.X||!(1==n&&function(e,t){return!(Je(e.h)>=e.h.j-(e.s?1:0))&&(e.s?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa))&&(e.s=Ae(c(e.Ga,e,t),sr(e,e.B)),e.B++,!0))}(e,t)||2==n&&rr(e)))switch(r&&0<r.length&&(t=e.h,t.i=t.i.concat(r)),a){case 1:lr(e,5);break;case 4:lr(e,10);break;case 3:lr(e,6);break;default:lr(e,2)}}function sr(e,t){let r=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(r*=2),r*t}function lr(e,t){if(e.j.info("Error code "+t),2==t){var r=c(e.fb,e),n=e.Xa;const t=!n;n=new it(n||"//www.google.com/images/cleardot.gif"),a.location&&"http"==a.location.protocol||st(n,"https"),dt(n),t?function(e,t){const r=new Ce;if(a.Image){const n=new Image;n.onload=u(Et,r,"TestLoadImage: loaded",!0,t,n),n.onerror=u(Et,r,"TestLoadImage: error",!1,t,n),n.onabort=u(Et,r,"TestLoadImage: abort",!1,t,n),n.ontimeout=u(Et,r,"TestLoadImage: timeout",!1,t,n),a.setTimeout(function(){n.ontimeout&&n.ontimeout()},1e4),n.src=e}else t(!1)}(n.toString(),r):function(e,t){new Ce;const r=new AbortController,n=setTimeout(()=>{r.abort(),Et(0,0,!1,t)},1e4);fetch(e,{signal:r.signal}).then(e=>{clearTimeout(n),e.ok?Et(0,0,!0,t):Et(0,0,!1,t)}).catch(()=>{clearTimeout(n),Et(0,0,!1,t)})}(n.toString(),r)}else Ee(2);e.G=0,e.l&&e.l.sa(t),cr(e),Qt(e)}function cr(e){if(e.G=0,e.ka=[],e.l){const t=rt(e.h);0==t.length&&0==e.i.length||(f(e.ka,t),f(e.ka,e.i),e.h.i.length=0,h(e.i),e.i.length=0),e.l.ra()}}function ur(e,t,r){var n=r instanceof it?ot(r):new it(r);if(""!=n.g)t&&(n.g=t+"."+n.g),lt(n,n.s);else{var i=a.location;n=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var o=new it(null);n&&st(o,n),t&&(o.g=t),i&&lt(o,i),r&&(o.l=r),n=o}return r=e.D,t=e.ya,r&&t&&ut(n,r,t),ut(n,"VER",e.la),Zt(e,n),n}function dr(e,t,r){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new Rt(new Ct({eb:r})):new Rt(e.pa)).Ha(e.J),t}function hr(){}function fr(){}function pr(e,t){re.call(this),this.g=new Wt(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!p(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!p(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new yr(this)}function mr(e){ve.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const r in t){e=r;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function gr(){be.call(this),this.status=1}function yr(e){this.g=e}(e=Rt.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,r,n){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Oe.g(),this.v=this.o?me(this.o):me(Oe),this.g.onreadystatechange=c(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(o){return void zt(this,o)}if(e=r||"",r=new Map(this.headers),n)if(Object.getPrototypeOf(n)===Object.prototype)for(var i in n)r.set(i,n[i]);else{if("function"!==typeof n.keys||"function"!==typeof n.get)throw Error("Unknown input type for opt_headers: "+String(n));for(const e of n.keys())r.set(e,n.get(e))}n=Array.from(r.keys()).find(e=>"content-type"==e.toLowerCase()),i=a.FormData&&e instanceof a.FormData,!(0<=Array.prototype.indexOf.call(Ft,t,void 0))||n||i||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[a,s]of r)this.g.setRequestHeader(a,s);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{$t(this),this.u=!0,this.g.send(e),this.u=!1}catch(o){zt(this,o)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,ne(this,"complete"),ne(this,"abort"),Bt(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Bt(this,!0)),Rt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Vt(this):this.bb())},e.bb=function(){Vt(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<qt(this)?this.g.status:-1}catch(xV){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(xV){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),he(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=Wt.prototype).la=8,e.G=1,e.connect=function(e,t,r,n){Ee(0),this.W=e,this.H=t||{},r&&void 0!==n&&(this.H.OSID=r,this.H.OAID=n),this.F=this.X,this.I=ur(this,null,this.W),Xt(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const a=new Me(this,this.j,e);let i=this.o;if(this.S&&(i?(i=b(i),w(i,this.S)):i=this.S),null!==this.m||this.O||(a.H=i,i=null),this.P)e:{for(var t=0,r=0;r<this.i.length;r++){var n=this.i[r];if(void 0===(n="__data__"in n.map&&"string"===typeof(n=n.map.__data__)?n.length:void 0))break;if(4096<(t+=n)){t=r;break e}if(4096===t||r===this.i.length-1){t=r+1;break e}}t=1e3}else t=1e3;t=er(this,a,t),ut(r=ot(this.I),"RID",e),ut(r,"CVER",22),this.D&&ut(r,"X-HTTP-Session-Id",this.D),Zt(this,r),i&&(this.O?t="headers="+encodeURIComponent(String(Dt(i)))+"&"+t:this.m&&Mt(r,this.m,i)),et(this.h,a),this.Ua&&ut(r,"TYPE","init"),this.P?(ut(r,"$req",t),ut(r,"SID","null"),a.T=!0,ze(a,r,null)):ze(a,r,t),this.G=2}}else 3==this.G&&(e?Jt(this,e):0==this.i.length||Xe(this.h)||Jt(this))},e.Fa=function(){if(this.u=null,ar(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=Ae(c(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ee(10),Yt(this),ar(this))},e.Za=function(){null!=this.C&&(this.C=null,Yt(this),rr(this),Ee(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),Ee(2)):(this.j.info("Failed to ping google.com"),Ee(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=hr.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},fr.prototype.g=function(e,t){return new pr(e,t)},d(pr,re),pr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},pr.prototype.close=function(){Gt(this.g)},pr.prototype.o=function(e){var t=this.g;if("string"===typeof e){var r={};r.__data__=e,e=r}else this.u&&((r={}).__data__=de(e),e=r);t.i.push(new Ye(t.Ya++,e)),3==t.G&&Xt(t)},pr.prototype.N=function(){this.g.l=null,delete this.j,Gt(this.g),delete this.g,pr.aa.N.call(this)},d(mr,ve),d(gr,be),d(yr,hr),yr.prototype.ua=function(){ne(this.g,"a")},yr.prototype.ta=function(e){ne(this.g,new mr(e))},yr.prototype.sa=function(e){ne(this.g,new gr)},yr.prototype.ra=function(){ne(this.g,"b")},fr.prototype.createWebChannel=fr.prototype.g,pr.prototype.send=pr.prototype.o,pr.prototype.open=pr.prototype.m,pr.prototype.close=pr.prototype.close,as=os.createWebChannelTransport=function(){return new fr},ns=os.getStatEventTarget=function(){return ke()},rs=os.Event=xe,ts=os.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ie.NO_ERROR=0,Ie.TIMEOUT=8,Ie.HTTP_ERROR=6,es=os.ErrorCode=Ie,Pe.COMPLETE="complete",Zo=os.EventType=Pe,ge.EventType=ye,ye.OPEN="a",ye.CLOSE="b",ye.ERROR="c",ye.MESSAGE="d",re.prototype.listen=re.prototype.K,Jo=os.WebChannel=ge,os.FetchXmlHttpFactory=Ct,Rt.prototype.listenOnce=Rt.prototype.L,Rt.prototype.getLastError=Rt.prototype.Ka,Rt.prototype.getLastErrorCode=Rt.prototype.Ba,Rt.prototype.getStatus=Rt.prototype.Z,Rt.prototype.getResponseJson=Rt.prototype.Oa,Rt.prototype.getResponseText=Rt.prototype.oa,Rt.prototype.send=Rt.prototype.ea,Rt.prototype.setWithCredentials=Rt.prototype.Ha,Xo=os.XhrIo=Rt}).apply("undefined"!==typeof is?is:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const ss="@firebase/firestore",ls="4.9.0";class cs{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}cs.UNAUTHENTICATED=new cs(null),cs.GOOGLE_CREDENTIALS=new cs("google-credentials-uid"),cs.FIRST_PARTY=new cs("first-party-uid"),cs.MOCK_USER=new cs("mock-user");let us="12.0.0";const ds=new Zt("@firebase/firestore");function hs(){return ds.logLevel}function fs(e){if(ds.logLevel<=Gt.DEBUG){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];const a=r.map(gs);ds.debug(`Firestore (${us}): ${e}`,...a)}}function ps(e){if(ds.logLevel<=Gt.ERROR){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];const a=r.map(gs);ds.error(`Firestore (${us}): ${e}`,...a)}}function ms(e){if(ds.logLevel<=Gt.WARN){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];const a=r.map(gs);ds.warn(`Firestore (${us}): ${e}`,...a)}}function gs(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function ys(e,t,r){let n="Unexpected state";"string"==typeof t?n=t:r=t,vs(e,n,r)}function vs(e,t,r){let n=`FIRESTORE (${us}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(void 0!==r)try{n+=" CONTEXT: "+JSON.stringify(r)}catch(e){n+=" CONTEXT: "+r}throw ps(n),new Error(n)}function bs(e,t,r,n){let a="Unexpected state";"string"==typeof r?a=r:n=r,e||vs(t,a,n)}function xs(e,t){return e}const ws={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ks extends It{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class js{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Ss{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Ns{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(cs.UNAUTHENTICATED))}shutdown(){}}class Es{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class _s{constructor(e){this.t=e,this.currentUser=cs.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){bs(void 0===this.o,42304);let r=this.i;const n=e=>this.i!==r?(r=this.i,t(e)):Promise.resolve();let a=new js;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new js,e.enqueueRetryable(()=>n(this.currentUser))};const i=()=>{const t=a;e.enqueueRetryable(async()=>{await t.promise,await n(this.currentUser)})},o=e=>{fs("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),i())};this.t.onInit(e=>o(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?o(e):(fs("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new js)}},0),i()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(fs("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(bs("string"==typeof t.accessToken,31837,{l:t}),new Ss(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return bs(null===e||"string"==typeof e,2055,{h:e}),new cs(e)}}class As{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=cs.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Cs{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new As(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(cs.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ts{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Os{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,en(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){bs(void 0===this.o,3512);const r=e=>{null!=e.error&&fs("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);const r=e.token!==this.m;return this.m=e.token,fs("FirebaseAppCheckTokenProvider",`Received ${r?"new":"existing"} token.`),r?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable(()=>r(t))};const n=e=>{fs("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(e=>n(e)),setTimeout(()=>{if(!this.appCheck){const e=this.V.getImmediate({optional:!0});e?n(e):fs("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Ts(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?(bs("string"==typeof e.token,44558,{tokenResult:e}),this.m=e.token,new Ts(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Is(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),r=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(r);else for(let n=0;n<e;n++)r[n]=Math.floor(256*Math.random());return r}class Ps{static newId(){const e=62*Math.floor(256/62);let t="";for(;t.length<20;){const r=Is(40);for(let n=0;n<r.length;++n)t.length<20&&r[n]<e&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(r[n]%62))}return t}}function Ds(e,t){return e<t?-1:e>t?1:0}function Ms(e,t){const r=Math.min(e.length,t.length);for(let n=0;n<r;n++){const r=e.charAt(n),a=t.charAt(n);if(r!==a)return Fs(r)===Fs(a)?Ds(r,a):Fs(r)?1:-1}return Ds(e.length,t.length)}const Rs=55296,Ls=57343;function Fs(e){const t=e.charCodeAt(0);return t>=Rs&&t<=Ls}function zs(e,t,r){return e.length===t.length&&e.every((e,n)=>r(e,t[n]))}const Us="__name__";class Vs{constructor(e,t,r){void 0===t?t=0:t>e.length&&ys(637,{offset:t,range:e.length}),void 0===r?r=e.length-t:r>e.length-t&&ys(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===Vs.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Vs?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let n=0;n<r;n++){const r=Vs.compareSegments(e.get(n),t.get(n));if(0!==r)return r}return Ds(e.length,t.length)}static compareSegments(e,t){const r=Vs.isNumericId(e),n=Vs.isNumericId(t);return r&&!n?-1:!r&&n?1:r&&n?Vs.extractNumericId(e).compare(Vs.extractNumericId(t)):Ms(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Wo.fromString(e.substring(4,e.length-2))}}class Bs extends Vs{construct(e,t,r){return new Bs(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];for(const a of r){if(a.indexOf("//")>=0)throw new ks(ws.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);e.push(...a.split("/").filter(e=>e.length>0))}return new Bs(e)}static emptyPath(){return new Bs([])}}const $s=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class qs extends Vs{construct(e,t,r){return new qs(e,t,r)}static isValidIdentifier(e){return $s.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),qs.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===Us}static keyField(){return new qs([Us])}static fromServerFormat(e){const t=[];let r="",n=0;const a=()=>{if(0===r.length)throw new ks(ws.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let i=!1;for(;n<e.length;){const t=e[n];if("\\"===t){if(n+1===e.length)throw new ks(ws.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[n+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new ks(ws.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=t,n+=2}else"`"===t?(i=!i,n++):"."!==t||i?(r+=t,n++):(a(),n++)}if(a(),i)throw new ks(ws.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new qs(t)}static emptyPath(){return new qs([])}}class Hs{constructor(e){this.path=e}static fromPath(e){return new Hs(Bs.fromString(e))}static fromName(e){return new Hs(Bs.fromString(e).popFirst(5))}static empty(){return new Hs(Bs.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Bs.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Bs.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Hs(new Bs(e.slice()))}}function Ks(e,t,r){if(!r)throw new ks(ws.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function Ws(e){if(!Hs.isDocumentKey(e))throw new ks(ws.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function Gs(e){if(Hs.isDocumentKey(e))throw new ks(ws.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function Ys(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}function Qs(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":ys(12329,{type:typeof e})}function Xs(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new ks(ws.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=Qs(e);throw new ks(ws.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${r}`)}}return e}function Js(e,t){const r={typeString:e};return t&&(r.value=t),r}function Zs(e,t){if(!Ys(e))throw new ks(ws.INVALID_ARGUMENT,"JSON must be an object");let r;for(const n in t)if(t[n]){const a=t[n].typeString,i="value"in t[n]?{value:t[n].value}:void 0;if(!(n in e)){r=`JSON missing required field: '${n}'`;break}const o=e[n];if(a&&typeof o!==a){r=`JSON field '${n}' must be a ${a}.`;break}if(void 0!==i&&o!==i.value){r=`Expected '${n}' field to equal '${i.value}'`;break}}if(r)throw new ks(ws.INVALID_ARGUMENT,r);return!0}const el=-62135596800,tl=1e6;class rl{static now(){return rl.fromMillis(Date.now())}static fromDate(e){return rl.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*tl);return new rl(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ks(ws.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ks(ws.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<el)throw new ks(ws.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ks(ws.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/tl}_compareTo(e){return this.seconds===e.seconds?Ds(this.nanoseconds,e.nanoseconds):Ds(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:rl._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Zs(e,rl._jsonSchema))return new rl(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-el;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}rl._jsonSchemaVersion="firestore/timestamp/1.0",rl._jsonSchema={type:Js("string",rl._jsonSchemaVersion),seconds:Js("number"),nanoseconds:Js("number")};class nl{static fromTimestamp(e){return new nl(e)}static min(){return new nl(new rl(0,0))}static max(){return new nl(new rl(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const al=-1;class il{constructor(e,t,r,n){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=n}}il.UNKNOWN_ID=-1;function ol(e,t){const r=e.toTimestamp().seconds,n=e.toTimestamp().nanoseconds+1,a=nl.fromTimestamp(1e9===n?new rl(r+1,0):new rl(r,n));return new ll(a,Hs.empty(),t)}function sl(e){return new ll(e.readTime,e.key,al)}class ll{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new ll(nl.min(),Hs.empty(),al)}static max(){return new ll(nl.max(),Hs.empty(),al)}}function cl(e,t){let r=e.readTime.compareTo(t.readTime);return 0!==r?r:(r=Hs.comparator(e.documentKey,t.documentKey),0!==r?r:Ds(e.largestBatchId,t.largestBatchId))}const ul="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class dl{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}async function hl(e){if(e.code!==ws.FAILED_PRECONDITION||e.message!==ul)throw e;fs("LocalStore","Unexpectedly lost primary lease")}class fl{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ys(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new fl((r,n)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(r,n)},this.catchCallback=e=>{this.wrapFailure(t,e).next(r,n)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof fl?t:fl.resolve(t)}catch(e){return fl.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):fl.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):fl.reject(t)}static resolve(e){return new fl((t,r)=>{t(e)})}static reject(e){return new fl((t,r)=>{r(e)})}static waitFor(e){return new fl((t,r)=>{let n=0,a=0,i=!1;e.forEach(e=>{++n,e.next(()=>{++a,i&&a===n&&t()},e=>r(e))}),i=!0,a===n&&t()})}static or(e){let t=fl.resolve(!1);for(const r of e)t=t.next(e=>e?fl.resolve(e):r());return t}static forEach(e,t){const r=[];return e.forEach((e,n)=>{r.push(t.call(this,e,n))}),this.waitFor(r)}static mapArray(e,t){return new fl((r,n)=>{const a=e.length,i=new Array(a);let o=0;for(let s=0;s<a;s++){const l=s;t(e[l]).next(e=>{i[l]=e,++o,o===a&&r(i)},e=>n(e))}})}static doWhile(e,t){return new fl((r,n)=>{const a=()=>{!0===e()?t().next(()=>{a()},n):r()};a()})}}function pl(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function ml(e){return"IndexedDbTransactionError"===e.name}class gl{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ae(e),this.ue=e=>t.writeSequenceNumber(e))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}gl.ce=-1;const yl=-1;function vl(e){return null==e}function bl(e){return 0===e&&1/e==-1/0}function xl(e){return"number"==typeof e&&Number.isInteger(e)&&!bl(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const wl="\x01";function kl(e){let t="";for(let r=0;r<e.length;r++)t.length>0&&(t=Sl(t)),t=jl(e.get(r),t);return Sl(t)}function jl(e,t){let r=t;const n=e.length;for(let a=0;a<n;a++){const t=e.charAt(a);switch(t){case"\0":r+="\x01\x10";break;case wl:r+="\x01\x11";break;default:r+=t}}return r}function Sl(e){return e+wl+"\x01"}const Nl="remoteDocuments",El="owner",_l="mutationQueues",Al="mutations";const Cl="documentMutations",Tl="remoteDocumentsV14",Ol="remoteDocumentGlobal",Il="targets",Pl="targetDocuments",Dl="targetGlobal",Ml="collectionParents",Rl="clientMetadata",Ll="bundles",Fl="namedQueries",zl="indexConfiguration",Ul="indexState",Vl="indexEntries",Bl="documentOverlays",$l="globals",ql=[_l,Al,Cl,Nl,Il,El,Dl,Pl,Rl,Ol,Ml,Ll,Fl],Hl=[_l,Al,Cl,Tl,Il,El,Dl,Pl,Rl,Ol,Ml,Ll,Fl,Bl],Kl=Hl,Wl=[...Kl,zl,Ul,Vl];function Gl(e){let t=0;for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&t++;return t}function Yl(e,t){for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&t(r,e[r])}function Ql(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class Xl{constructor(e,t){this.comparator=e,this.root=t||Zl.EMPTY}insert(e,t){return new Xl(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Zl.BLACK,null,null))}remove(e){return new Xl(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Zl.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(0===n)return t+r.left.size;n<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Jl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Jl(this.root,e,this.comparator,!1)}getReverseIterator(){return new Jl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Jl(this.root,e,this.comparator,!0)}}class Jl{constructor(e,t,r,n){this.isReverse=n,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&n&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(0===a){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Zl{constructor(e,t,r,n,a){this.key=e,this.value=t,this.color=null!=r?r:Zl.RED,this.left=null!=n?n:Zl.EMPTY,this.right=null!=a?a:Zl.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,n,a){return new Zl(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=n?n:this.left,null!=a?a:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let n=this;const a=r(e,n.key);return n=a<0?n.copy(null,null,null,n.left.insert(e,t,r),null):0===a?n.copy(null,t,null,null,null):n.copy(null,null,null,null,n.right.insert(e,t,r)),n.fixUp()}removeMin(){if(this.left.isEmpty())return Zl.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,n=this;if(t(e,n.key)<0)n.left.isEmpty()||n.left.isRed()||n.left.left.isRed()||(n=n.moveRedLeft()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed()&&(n=n.rotateRight()),n.right.isEmpty()||n.right.isRed()||n.right.left.isRed()||(n=n.moveRedRight()),0===t(e,n.key)){if(n.right.isEmpty())return Zl.EMPTY;r=n.right.min(),n=n.copy(r.key,r.value,null,null,n.right.removeMin())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Zl.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Zl.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ys(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ys(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ys(27949);return e+(this.isRed()?0:1)}}Zl.EMPTY=null,Zl.RED=!0,Zl.BLACK=!1,Zl.EMPTY=new class{constructor(){this.size=0}get key(){throw ys(57766)}get value(){throw ys(16141)}get color(){throw ys(16727)}get left(){throw ys(29726)}get right(){throw ys(36894)}copy(e,t,r,n,a){return this}insert(e,t,r){return new Zl(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ec{constructor(e){this.comparator=e,this.data=new Xl(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const n=r.getNext();if(this.comparator(n.key,e[1])>=0)return;t(n.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new tc(this.data.getIterator())}getIteratorFrom(e){return new tc(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof ec))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,n=r.getNext().key;if(0!==this.comparator(e,n))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new ec(this.comparator);return t.data=e,t}}class tc{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class rc{constructor(e){this.fields=e,e.sort(qs.comparator)}static empty(){return new rc([])}unionWith(e){let t=new ec(qs.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new rc(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return zs(this.fields,e.fields,(e,t)=>e.isEqual(t))}}class nc extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ac{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new nc("Invalid base64 string: "+e):e}}(e);return new ac(t)}static fromUint8Array(e){const t=function(e){let t="";for(let r=0;r<e.length;++r)t+=String.fromCharCode(e[r]);return t}(e);return new ac(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ds(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ac.EMPTY_BYTE_STRING=new ac("");const ic=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function oc(e){if(bs(!!e,39018),"string"==typeof e){let t=0;const r=ic.exec(e);if(bs(!!r,46558,{timestamp:e}),r[1]){let e=r[1];e=(e+"000000000").substr(0,9),t=Number(e)}const n=new Date(e);return{seconds:Math.floor(n.getTime()/1e3),nanos:t}}return{seconds:sc(e.seconds),nanos:sc(e.nanos)}}function sc(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function lc(e){return"string"==typeof e?ac.fromBase64String(e):ac.fromUint8Array(e)}const cc="server_timestamp",uc="__type__",dc="__previous_value__",hc="__local_write_time__";function fc(e){const t=(e?.mapValue?.fields||{})[uc]?.stringValue;return t===cc}function pc(e){const t=e.mapValue.fields[dc];return fc(t)?pc(t):t}function mc(e){const t=oc(e.mapValue.fields[hc].timestampValue);return new rl(t.seconds,t.nanos)}class gc{constructor(e,t,r,n,a,i,o,s,l,c){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=n,this.ssl=a,this.forceLongPolling=i,this.autoDetectLongPolling=o,this.longPollingOptions=s,this.useFetchStreams=l,this.isUsingEmulator=c}}const yc="(default)";class vc{constructor(e,t){this.projectId=e,this.database=t||yc}static empty(){return new vc("","")}get isDefaultDatabase(){return this.database===yc}isEqual(e){return e instanceof vc&&e.projectId===this.projectId&&e.database===this.database}}const bc="__type__",xc="__max__",wc={mapValue:{fields:{__type__:{stringValue:xc}}}},kc="__vector__",jc="value";function Sc(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?fc(e)?4:Vc(e)?9007199254740991:zc(e)?10:11:ys(28295,{value:e})}function Nc(e,t){if(e===t)return!0;const r=Sc(e);if(r!==Sc(t))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return mc(e).isEqual(mc(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const r=oc(e.timestampValue),n=oc(t.timestampValue);return r.seconds===n.seconds&&r.nanos===n.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return lc(e.bytesValue).isEqual(lc(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return sc(e.geoPointValue.latitude)===sc(t.geoPointValue.latitude)&&sc(e.geoPointValue.longitude)===sc(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return sc(e.integerValue)===sc(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const r=sc(e.doubleValue),n=sc(t.doubleValue);return r===n?bl(r)===bl(n):isNaN(r)&&isNaN(n)}return!1}(e,t);case 9:return zs(e.arrayValue.values||[],t.arrayValue.values||[],Nc);case 10:case 11:return function(e,t){const r=e.mapValue.fields||{},n=t.mapValue.fields||{};if(Gl(r)!==Gl(n))return!1;for(const a in r)if(r.hasOwnProperty(a)&&(void 0===n[a]||!Nc(r[a],n[a])))return!1;return!0}(e,t);default:return ys(52216,{left:e})}}function Ec(e,t){return void 0!==(e.values||[]).find(e=>Nc(e,t))}function _c(e,t){if(e===t)return 0;const r=Sc(e),n=Sc(t);if(r!==n)return Ds(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return Ds(e.booleanValue,t.booleanValue);case 2:return function(e,t){const r=sc(e.integerValue||e.doubleValue),n=sc(t.integerValue||t.doubleValue);return r<n?-1:r>n?1:r===n?0:isNaN(r)?isNaN(n)?0:-1:1}(e,t);case 3:return Ac(e.timestampValue,t.timestampValue);case 4:return Ac(mc(e),mc(t));case 5:return Ms(e.stringValue,t.stringValue);case 6:return function(e,t){const r=lc(e),n=lc(t);return r.compareTo(n)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const r=e.split("/"),n=t.split("/");for(let a=0;a<r.length&&a<n.length;a++){const e=Ds(r[a],n[a]);if(0!==e)return e}return Ds(r.length,n.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const r=Ds(sc(e.latitude),sc(t.latitude));return 0!==r?r:Ds(sc(e.longitude),sc(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return Cc(e.arrayValue,t.arrayValue);case 10:return function(e,t){const r=e.fields||{},n=t.fields||{},a=r[jc]?.arrayValue,i=n[jc]?.arrayValue,o=Ds(a?.values?.length||0,i?.values?.length||0);return 0!==o?o:Cc(a,i)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===wc.mapValue&&t===wc.mapValue)return 0;if(e===wc.mapValue)return 1;if(t===wc.mapValue)return-1;const r=e.fields||{},n=Object.keys(r),a=t.fields||{},i=Object.keys(a);n.sort(),i.sort();for(let o=0;o<n.length&&o<i.length;++o){const e=Ms(n[o],i[o]);if(0!==e)return e;const t=_c(r[n[o]],a[i[o]]);if(0!==t)return t}return Ds(n.length,i.length)}(e.mapValue,t.mapValue);default:throw ys(23264,{he:r})}}function Ac(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Ds(e,t);const r=oc(e),n=oc(t),a=Ds(r.seconds,n.seconds);return 0!==a?a:Ds(r.nanos,n.nanos)}function Cc(e,t){const r=e.values||[],n=t.values||[];for(let a=0;a<r.length&&a<n.length;++a){const e=_c(r[a],n[a]);if(e)return e}return Ds(r.length,n.length)}function Tc(e){return Oc(e)}function Oc(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=oc(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return lc(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return Hs.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return`geo(${e.latitude},${e.longitude})`}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",r=!0;for(const n of e.values||[])r?r=!1:t+=",",t+=Oc(n);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let r="{",n=!0;for(const a of t)n?n=!1:r+=",",r+=`${a}:${Oc(e.fields[a])}`;return r+"}"}(e.mapValue):ys(61005,{value:e})}function Ic(e){switch(Sc(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=pc(e);return t?16+Ic(t):16;case 5:return 2*e.stringValue.length;case 6:return lc(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(e){return(e.values||[]).reduce((e,t)=>e+Ic(t),0)}(e.arrayValue);case 10:case 11:return function(e){let t=0;return Yl(e.fields,(e,r)=>{t+=e.length+Ic(r)}),t}(e.mapValue);default:throw ys(13486,{value:e})}}function Pc(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function Dc(e){return!!e&&"integerValue"in e}function Mc(e){return!!e&&"arrayValue"in e}function Rc(e){return!!e&&"nullValue"in e}function Lc(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Fc(e){return!!e&&"mapValue"in e}function zc(e){const t=(e?.mapValue?.fields||{})[bc]?.stringValue;return t===kc}function Uc(e){if(e.geoPointValue)return{geoPointValue:{...e.geoPointValue}};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:{...e.timestampValue}};if(e.mapValue){const t={mapValue:{fields:{}}};return Yl(e.mapValue.fields,(e,r)=>t.mapValue.fields[e]=Uc(r)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let r=0;r<(e.arrayValue.values||[]).length;++r)t.arrayValue.values[r]=Uc(e.arrayValue.values[r]);return t}return{...e}}function Vc(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===xc}class Bc{constructor(e){this.value=e}static empty(){return new Bc({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Fc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Uc(t)}setAll(e){let t=qs.emptyPath(),r={},n=[];e.forEach((e,a)=>{if(!t.isImmediateParentOf(a)){const e=this.getFieldsMap(t);this.applyChanges(e,r,n),r={},n=[],t=a.popLast()}e?r[a.lastSegment()]=Uc(e):n.push(a.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,n)}delete(e){const t=this.field(e.popLast());Fc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Nc(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let n=t.mapValue.fields[e.get(r)];Fc(n)&&n.mapValue.fields||(n={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=n),t=n}return t.mapValue.fields}applyChanges(e,t,r){Yl(t,(t,r)=>e[t]=r);for(const n of r)delete e[n]}clone(){return new Bc(Uc(this.value))}}function $c(e){const t=[];return Yl(e.fields,(e,r)=>{const n=new qs([e]);if(Fc(r)){const e=$c(r.mapValue).fields;if(0===e.length)t.push(n);else for(const r of e)t.push(n.child(r))}else t.push(n)}),new rc(t)}class qc{constructor(e,t,r,n,a,i,o){this.key=e,this.documentType=t,this.version=r,this.readTime=n,this.createTime=a,this.data=i,this.documentState=o}static newInvalidDocument(e){return new qc(e,0,nl.min(),nl.min(),nl.min(),Bc.empty(),0)}static newFoundDocument(e,t,r,n){return new qc(e,1,t,nl.min(),r,n,0)}static newNoDocument(e,t){return new qc(e,2,t,nl.min(),nl.min(),Bc.empty(),0)}static newUnknownDocument(e,t){return new qc(e,3,t,nl.min(),nl.min(),Bc.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(nl.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Bc.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Bc.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=nl.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof qc&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new qc(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Hc{constructor(e,t){this.position=e,this.inclusive=t}}function Kc(e,t,r){let n=0;for(let a=0;a<e.position.length;a++){const i=t[a],o=e.position[a];if(n=i.field.isKeyField()?Hs.comparator(Hs.fromName(o.referenceValue),r.key):_c(o,r.data.field(i.field)),"desc"===i.dir&&(n*=-1),0!==n)break}return n}function Wc(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let r=0;r<e.position.length;r++)if(!Nc(e.position[r],t.position[r]))return!1;return!0}class Gc{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function Yc(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class Qc{}class Xc extends Qc{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new iu(e,t,r):"array-contains"===t?new cu(e,r):"in"===t?new uu(e,r):"not-in"===t?new du(e,r):"array-contains-any"===t?new hu(e,r):new Xc(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new ou(e,r):new su(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&void 0===t.nullValue&&this.matchesComparison(_c(t,this.value)):null!==t&&Sc(this.value)===Sc(t)&&this.matchesComparison(_c(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ys(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Jc extends Qc{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Jc(e,t)}matches(e){return Zc(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.Pe||(this.Pe=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Zc(e){return"and"===e.op}function eu(e){return tu(e)&&Zc(e)}function tu(e){for(const t of e.filters)if(t instanceof Jc)return!1;return!0}function ru(e){if(e instanceof Xc)return e.field.canonicalString()+e.op.toString()+Tc(e.value);if(eu(e))return e.filters.map(e=>ru(e)).join(",");{const t=e.filters.map(e=>ru(e)).join(",");return`${e.op}(${t})`}}function nu(e,t){return e instanceof Xc?function(e,t){return t instanceof Xc&&e.op===t.op&&e.field.isEqual(t.field)&&Nc(e.value,t.value)}(e,t):e instanceof Jc?function(e,t){return t instanceof Jc&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((e,r,n)=>e&&nu(r,t.filters[n]),!0)}(e,t):void ys(19439)}function au(e){return e instanceof Xc?function(e){return`${e.field.canonicalString()} ${e.op} ${Tc(e.value)}`}(e):e instanceof Jc?function(e){return e.op.toString()+" {"+e.getFilters().map(au).join(" ,")+"}"}(e):"Filter"}class iu extends Xc{constructor(e,t,r){super(e,t,r),this.key=Hs.fromName(r.referenceValue)}matches(e){const t=Hs.comparator(e.key,this.key);return this.matchesComparison(t)}}class ou extends Xc{constructor(e,t){super(e,"in",t),this.keys=lu("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class su extends Xc{constructor(e,t){super(e,"not-in",t),this.keys=lu("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function lu(e,t){return(t.arrayValue?.values||[]).map(e=>Hs.fromName(e.referenceValue))}class cu extends Xc{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Mc(t)&&Ec(t.arrayValue,this.value)}}class uu extends Xc{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Ec(this.value.arrayValue,t)}}class du extends Xc{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ec(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&void 0===t.nullValue&&!Ec(this.value.arrayValue,t)}}class hu extends Xc{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Mc(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>Ec(this.value.arrayValue,e))}}class fu{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=n,this.limit=a,this.startAt=i,this.endAt=o,this.Te=null}}function pu(e){return new fu(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function mu(e){const t=xs(e);if(null===t.Te){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(e=>ru(e)).join(","),e+="|ob:",e+=t.orderBy.map(e=>function(e){return e.field.canonicalString()+e.dir}(e)).join(","),vl(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(e=>Tc(e)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(e=>Tc(e)).join(",")),t.Te=e}return t.Te}function gu(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let r=0;r<e.orderBy.length;r++)if(!Yc(e.orderBy[r],t.orderBy[r]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let r=0;r<e.filters.length;r++)if(!nu(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Wc(e.startAt,t.startAt)&&Wc(e.endAt,t.endAt)}function yu(e){return Hs.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class vu{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=n,this.limit=a,this.limitType=i,this.startAt=o,this.endAt=s,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function bu(e,t,r,n,a,i,o,s){return new vu(e,t,r,n,a,i,o,s)}function xu(e){return new vu(e)}function wu(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function ku(e){return null!==e.collectionGroup}function ju(e){const t=xs(e);if(null===t.Ie){t.Ie=[];const e=new Set;for(const a of t.explicitOrderBy)t.Ie.push(a),e.add(a.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",n=function(e){let t=new ec(qs.comparator);return e.filters.forEach(e=>{e.getFlattenedFilters().forEach(e=>{e.isInequality()&&(t=t.add(e.field))})}),t}(t);n.forEach(n=>{e.has(n.canonicalString())||n.isKeyField()||t.Ie.push(new Gc(n,r))}),e.has(qs.keyField().canonicalString())||t.Ie.push(new Gc(qs.keyField(),r))}return t.Ie}function Su(e){const t=xs(e);return t.Ee||(t.Ee=Nu(t,ju(e))),t.Ee}function Nu(e,t){if("F"===e.limitType)return pu(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(e=>{const t="desc"===e.dir?"asc":"desc";return new Gc(e.field,t)});const r=e.endAt?new Hc(e.endAt.position,e.endAt.inclusive):null,n=e.startAt?new Hc(e.startAt.position,e.startAt.inclusive):null;return pu(e.path,e.collectionGroup,t,e.filters,e.limit,r,n)}}function Eu(e,t){const r=e.filters.concat([t]);return new vu(e.path,e.collectionGroup,e.explicitOrderBy.slice(),r,e.limit,e.limitType,e.startAt,e.endAt)}function _u(e,t,r){return new vu(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,r,e.startAt,e.endAt)}function Au(e,t){return gu(Su(e),Su(t))&&e.limitType===t.limitType}function Cu(e){return`${mu(Su(e))}|lt:${e.limitType}`}function Tu(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(e=>au(e)).join(", ")}]`),vl(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e)).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(e=>Tc(e)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(e=>Tc(e)).join(",")),`Target(${t})`}(Su(e))}; limitType=${e.limitType})`}function Ou(e,t){return t.isFoundDocument()&&function(e,t){const r=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(r):Hs.isDocumentKey(e.path)?e.path.isEqual(r):e.path.isImmediateParentOf(r)}(e,t)&&function(e,t){for(const r of ju(e))if(!r.field.isKeyField()&&null===t.data.field(r.field))return!1;return!0}(e,t)&&function(e,t){for(const r of e.filters)if(!r.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,r){const n=Kc(e,t,r);return e.inclusive?n<=0:n<0}(e.startAt,ju(e),t))&&!(e.endAt&&!function(e,t,r){const n=Kc(e,t,r);return e.inclusive?n>=0:n>0}(e.endAt,ju(e),t))}(e,t)}function Iu(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Pu(e){return(t,r)=>{let n=!1;for(const a of ju(e)){const e=Du(a,t,r);if(0!==e)return e;n=n||a.field.isKeyField()}return 0}}function Du(e,t,r){const n=e.field.isKeyField()?Hs.comparator(t.key,r.key):function(e,t,r){const n=t.data.field(e),a=r.data.field(e);return null!==n&&null!==a?_c(n,a):ys(42886)}(e.field,t,r);switch(e.dir){case"asc":return n;case"desc":return-1*n;default:return ys(19790,{direction:e.dir})}}class Mu{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[n,a]of r)if(this.equalsFn(n,e))return a}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),n=this.inner[r];if(void 0===n)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<n.length;a++)if(this.equalsFn(n[a][0],e))return void(n[a]=[e,t]);n.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let n=0;n<r.length;n++)if(this.equalsFn(r[n][0],e))return 1===r.length?delete this.inner[t]:r.splice(n,1),this.innerSize--,!0;return!1}forEach(e){Yl(this.inner,(t,r)=>{for(const[n,a]of r)e(n,a)})}isEmpty(){return Ql(this.inner)}size(){return this.innerSize}}const Ru=new Xl(Hs.comparator);function Lu(){return Ru}const Fu=new Xl(Hs.comparator);function zu(){let e=Fu;for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];for(const a of r)e=e.insert(a.key,a);return e}function Uu(e){let t=Fu;return e.forEach((e,r)=>t=t.insert(e,r.overlayedDocument)),t}function Vu(){return $u()}function Bu(){return $u()}function $u(){return new Mu(e=>e.toString(),(e,t)=>e.isEqual(t))}const qu=new Xl(Hs.comparator),Hu=new ec(Hs.comparator);function Ku(){let e=Hu;for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];for(const a of r)e=e.add(a);return e}const Wu=new ec(Ds);function Gu(){return Wu}function Yu(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:bl(t)?"-0":t}}function Qu(e){return{integerValue:""+e}}function Xu(e,t){return xl(t)?Qu(t):Yu(e,t)}class Ju{constructor(){this._=void 0}}function Zu(e,t,r){return e instanceof rd?function(e,t){const r={fields:{[uc]:{stringValue:cc},[hc]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&fc(t)&&(t=pc(t)),t&&(r.fields[dc]=t),{mapValue:r}}(r,t):e instanceof nd?ad(e,t):e instanceof id?od(e,t):function(e,t){const r=td(e,t),n=ld(r)+ld(e.Ae);return Dc(r)&&Dc(e.Ae)?Qu(n):Yu(e.serializer,n)}(e,t)}function ed(e,t,r){return e instanceof nd?ad(e,t):e instanceof id?od(e,t):r}function td(e,t){return e instanceof sd?function(e){return Dc(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class rd extends Ju{}class nd extends Ju{constructor(e){super(),this.elements=e}}function ad(e,t){const r=cd(t);for(const n of e.elements)r.some(e=>Nc(e,n))||r.push(n);return{arrayValue:{values:r}}}class id extends Ju{constructor(e){super(),this.elements=e}}function od(e,t){let r=cd(t);for(const n of e.elements)r=r.filter(e=>!Nc(e,n));return{arrayValue:{values:r}}}class sd extends Ju{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function ld(e){return sc(e.integerValue||e.doubleValue)}function cd(e){return Mc(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class ud{constructor(e,t){this.field=e,this.transform=t}}class dd{constructor(e,t){this.version=e,this.transformResults=t}}class hd{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new hd}static exists(e){return new hd(void 0,e)}static updateTime(e){return new hd(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function fd(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class pd{}function md(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Nd(e.key,hd.none()):new xd(e.key,e.data,hd.none());{const r=e.data,n=Bc.empty();let a=new ec(qs.comparator);for(let e of t.fields)if(!a.has(e)){let t=r.field(e);null===t&&e.length>1&&(e=e.popLast(),t=r.field(e)),null===t?n.delete(e):n.set(e,t),a=a.add(e)}return new wd(e.key,n,new rc(a.toArray()),hd.none())}}function gd(e,t,r){e instanceof xd?function(e,t,r){const n=e.value.clone(),a=jd(e.fieldTransforms,t,r.transformResults);n.setAll(a),t.convertToFoundDocument(r.version,n).setHasCommittedMutations()}(e,t,r):e instanceof wd?function(e,t,r){if(!fd(e.precondition,t))return void t.convertToUnknownDocument(r.version);const n=jd(e.fieldTransforms,t,r.transformResults),a=t.data;a.setAll(kd(e)),a.setAll(n),t.convertToFoundDocument(r.version,a).setHasCommittedMutations()}(e,t,r):function(e,t,r){t.convertToNoDocument(r.version).setHasCommittedMutations()}(0,t,r)}function yd(e,t,r,n){return e instanceof xd?function(e,t,r,n){if(!fd(e.precondition,t))return r;const a=e.value.clone(),i=Sd(e.fieldTransforms,n,t);return a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null}(e,t,r,n):e instanceof wd?function(e,t,r,n){if(!fd(e.precondition,t))return r;const a=Sd(e.fieldTransforms,n,t),i=t.data;return i.setAll(kd(e)),i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null===r?null:r.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>e.field))}(e,t,r,n):function(e,t,r){return fd(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):r}(e,t,r)}function vd(e,t){let r=null;for(const n of e.fieldTransforms){const e=t.data.field(n.field),a=td(n.transform,e||null);null!=a&&(null===r&&(r=Bc.empty()),r.set(n.field,a))}return r||null}function bd(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&zs(e,t,(e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof nd&&t instanceof nd||e instanceof id&&t instanceof id?zs(e.elements,t.elements,Nc):e instanceof sd&&t instanceof sd?Nc(e.Ae,t.Ae):e instanceof rd&&t instanceof rd}(e.transform,t.transform)}(e,t))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class xd extends pd{constructor(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=n,this.type=0}getFieldMask(){return null}}class wd extends pd{constructor(e,t,r,n){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=n,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function kd(e){const t=new Map;return e.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const n=e.data.field(r);t.set(r,n)}}),t}function jd(e,t,r){const n=new Map;bs(e.length===r.length,32656,{Re:r.length,Ve:e.length});for(let a=0;a<r.length;a++){const i=e[a],o=i.transform,s=t.data.field(i.field);n.set(i.field,ed(o,s,r[a]))}return n}function Sd(e,t,r){const n=new Map;for(const a of e){const e=a.transform,i=r.data.field(a.field);n.set(a.field,Zu(e,i,t))}return n}class Nd extends pd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Ed extends pd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class _d{constructor(e,t,r,n){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=n}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let n=0;n<this.mutations.length;n++){const t=this.mutations[n];t.key.isEqual(e.key)&&gd(t,e,r[n])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=yd(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=yd(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=Bu();return this.mutations.forEach(n=>{const a=e.get(n.key),i=a.overlayedDocument;let o=this.applyToLocalView(i,a.mutatedFields);o=t.has(n.key)?null:o;const s=md(i,o);null!==s&&r.set(n.key,s),i.isValidDocument()||i.convertToNoDocument(nl.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ku())}isEqual(e){return this.batchId===e.batchId&&zs(this.mutations,e.mutations,(e,t)=>bd(e,t))&&zs(this.baseMutations,e.baseMutations,(e,t)=>bd(e,t))}}class Ad{constructor(e,t,r,n){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=n}static from(e,t,r){bs(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let n=qu;const a=e.mutations;for(let i=0;i<a.length;i++)n=n.insert(a[i].key,r[i].version);return new Ad(e,t,r,n)}}class Cd{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Td{constructor(e,t){this.count=e,this.unchangedNames=t}}var Od,Id;function Pd(e){switch(e){case ws.OK:return ys(64938);case ws.CANCELLED:case ws.UNKNOWN:case ws.DEADLINE_EXCEEDED:case ws.RESOURCE_EXHAUSTED:case ws.INTERNAL:case ws.UNAVAILABLE:case ws.UNAUTHENTICATED:return!1;case ws.INVALID_ARGUMENT:case ws.NOT_FOUND:case ws.ALREADY_EXISTS:case ws.PERMISSION_DENIED:case ws.FAILED_PRECONDITION:case ws.ABORTED:case ws.OUT_OF_RANGE:case ws.UNIMPLEMENTED:case ws.DATA_LOSS:return!0;default:return ys(15467,{code:e})}}function Dd(e){if(void 0===e)return ps("GRPC error has no .code"),ws.UNKNOWN;switch(e){case Od.OK:return ws.OK;case Od.CANCELLED:return ws.CANCELLED;case Od.UNKNOWN:return ws.UNKNOWN;case Od.DEADLINE_EXCEEDED:return ws.DEADLINE_EXCEEDED;case Od.RESOURCE_EXHAUSTED:return ws.RESOURCE_EXHAUSTED;case Od.INTERNAL:return ws.INTERNAL;case Od.UNAVAILABLE:return ws.UNAVAILABLE;case Od.UNAUTHENTICATED:return ws.UNAUTHENTICATED;case Od.INVALID_ARGUMENT:return ws.INVALID_ARGUMENT;case Od.NOT_FOUND:return ws.NOT_FOUND;case Od.ALREADY_EXISTS:return ws.ALREADY_EXISTS;case Od.PERMISSION_DENIED:return ws.PERMISSION_DENIED;case Od.FAILED_PRECONDITION:return ws.FAILED_PRECONDITION;case Od.ABORTED:return ws.ABORTED;case Od.OUT_OF_RANGE:return ws.OUT_OF_RANGE;case Od.UNIMPLEMENTED:return ws.UNIMPLEMENTED;case Od.DATA_LOSS:return ws.DATA_LOSS;default:return ys(39323,{code:e})}}(Id=Od||(Od={}))[Id.OK=0]="OK",Id[Id.CANCELLED=1]="CANCELLED",Id[Id.UNKNOWN=2]="UNKNOWN",Id[Id.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Id[Id.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Id[Id.NOT_FOUND=5]="NOT_FOUND",Id[Id.ALREADY_EXISTS=6]="ALREADY_EXISTS",Id[Id.PERMISSION_DENIED=7]="PERMISSION_DENIED",Id[Id.UNAUTHENTICATED=16]="UNAUTHENTICATED",Id[Id.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Id[Id.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Id[Id.ABORTED=10]="ABORTED",Id[Id.OUT_OF_RANGE=11]="OUT_OF_RANGE",Id[Id.UNIMPLEMENTED=12]="UNIMPLEMENTED",Id[Id.INTERNAL=13]="INTERNAL",Id[Id.UNAVAILABLE=14]="UNAVAILABLE",Id[Id.DATA_LOSS=15]="DATA_LOSS";let Md=null;function Rd(){return new TextEncoder}const Ld=new Wo([4294967295,4294967295],0);function Fd(e){const t=Rd().encode(e),r=new Go;return r.update(t),new Uint8Array(r.digest())}function zd(e){const t=new DataView(e.buffer),r=t.getUint32(0,!0),n=t.getUint32(4,!0),a=t.getUint32(8,!0),i=t.getUint32(12,!0);return[new Wo([r,n],0),new Wo([a,i],0)]}class Ud{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Vd(`Invalid padding: ${t}`);if(r<0)throw new Vd(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new Vd(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new Vd(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Wo.fromNumber(this.ge)}ye(e,t,r){let n=e.add(t.multiply(Wo.fromNumber(r)));return 1===n.compare(Ld)&&(n=new Wo([n.getBits(0),n.getBits(1)],0)),n.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.ge)return!1;const t=Fd(e),[r,n]=zd(t);for(let a=0;a<this.hashCount;a++){const e=this.ye(r,n,a);if(!this.we(e))return!1}return!0}static create(e,t,r){const n=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),i=new Ud(a,n,t);return r.forEach(e=>i.insert(e)),i}insert(e){if(0===this.ge)return;const t=Fd(e),[r,n]=zd(t);for(let a=0;a<this.hashCount;a++){const e=this.ye(r,n,a);this.Se(e)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Vd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Bd{constructor(e,t,r,n,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=n,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const n=new Map;return n.set(e,$d.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Bd(nl.min(),n,new Xl(Ds),Lu(),Ku())}}class $d{constructor(e,t,r,n,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=n,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new $d(r,t,Ku(),Ku(),Ku())}}class qd{constructor(e,t,r,n){this.be=e,this.removedTargetIds=t,this.key=r,this.De=n}}class Hd{constructor(e,t){this.targetId=e,this.Ce=t}}class Kd{constructor(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ac.EMPTY_BYTE_STRING,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=n}}class Wd{constructor(){this.ve=0,this.Fe=Qd(),this.Me=ac.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return 0!==this.ve}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ku(),t=Ku(),r=Ku();return this.Fe.forEach((n,a)=>{switch(a){case 0:e=e.add(n);break;case 2:t=t.add(n);break;case 1:r=r.add(n);break;default:ys(38017,{changeType:a})}}),new $d(this.Me,this.xe,e,t,r)}qe(){this.Oe=!1,this.Fe=Qd()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,bs(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Gd{constructor(e){this.Ge=e,this.ze=new Map,this.je=Lu(),this.Je=Yd(),this.He=Yd(),this.Ye=new Xl(Ds)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,t=>{const r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:ys(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach((e,r)=>{this.rt(r)&&t(r)})}st(e){const t=e.targetId,r=e.Ce.count,n=this.ot(t);if(n){const a=n.target;if(yu(a))if(0===r){const e=new Hs(a.path);this.et(t,e,qc.newNoDocument(e,nl.min()))}else bs(1===r,20013,{expectedCount:r});else{const n=this._t(t);if(n!==r){const r=this.ut(e),a=r?this.ct(r,e,n):1;if(0!==a){this.it(t);const e=2===a?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,e)}Md?.lt(function(e,t,r,n,a){const i={localCacheCount:e,existenceFilterCount:t.count,databaseId:r.database,projectId:r.projectId},o=t.unchangedNames;return o&&(i.bloomFilter={applied:0===a,hashCount:o?.hashCount??0,bitmapLength:o?.bits?.bitmap?.length??0,padding:o?.bits?.padding??0,mightContain:e=>n?.mightContain(e)??!1}),i}(n,e.Ce,this.Ge.ht(),r,a))}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:n=0},hashCount:a=0}=t;let i,o;try{i=lc(r).toUint8Array()}catch(e){if(e instanceof nc)return ms("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{o=new Ud(i,n,a)}catch(e){return ms(e instanceof Vd?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===o.ge?null:o}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){const r=this.Ge.getRemoteKeysForTarget(t);let n=0;return r.forEach(r=>{const a=this.Ge.ht(),i=`projects/${a.projectId}/databases/${a.database}/documents/${r.path.canonicalString()}`;e.mightContain(i)||(this.et(t,r,null),n++)}),n}Tt(e){const t=new Map;this.ze.forEach((r,n)=>{const a=this.ot(n);if(a){if(r.current&&yu(a.target)){const t=new Hs(a.target.path);this.It(t).has(n)||this.Et(n,t)||this.et(n,t,qc.newNoDocument(t,e))}r.Be&&(t.set(n,r.ke()),r.qe())}});let r=Ku();this.He.forEach((e,t)=>{let n=!0;t.forEachWhile(e=>{const t=this.ot(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(n=!1,!1)}),n&&(r=r.add(e))}),this.je.forEach((t,r)=>r.setReadTime(e));const n=new Bd(e,t,this.Ye,this.je,r);return this.je=Lu(),this.Je=Yd(),this.He=Yd(),this.Ye=new Xl(Ds),n}Xe(e,t){if(!this.rt(e))return;const r=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,r),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;const n=this.nt(e);this.Et(e,t)?n.Qe(t,1):n.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new Wd,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new ec(Ds),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new ec(Ds),this.Je=this.Je.insert(e,t)),t}rt(e){const t=null!==this.ot(e);return t||fs("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Wd),this.Ge.getRemoteKeysForTarget(e).forEach(t=>{this.et(e,t,null)})}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Yd(){return new Xl(Hs.comparator)}function Qd(){return new Xl(Hs.comparator)}const Xd={asc:"ASCENDING",desc:"DESCENDING"},Jd={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Zd={and:"AND",or:"OR"};class eh{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function th(e,t){return e.useProto3Json||vl(t)?t:{value:t}}function rh(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function nh(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function ah(e,t){return rh(e,t.toTimestamp())}function ih(e){return bs(!!e,49232),nl.fromTimestamp(function(e){const t=oc(e);return new rl(t.seconds,t.nanos)}(e))}function oh(e,t){return sh(e,t).canonicalString()}function sh(e,t){const r=function(e){return new Bs(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?r:r.child(t)}function lh(e){const t=Bs.fromString(e);return bs(Ah(t),10190,{key:t.toString()}),t}function ch(e,t){return oh(e.databaseId,t.path)}function uh(e,t){const r=lh(t);if(r.get(1)!==e.databaseId.projectId)throw new ks(ws.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+e.databaseId.projectId);if(r.get(3)!==e.databaseId.database)throw new ks(ws.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+e.databaseId.database);return new Hs(ph(r))}function dh(e,t){return oh(e.databaseId,t)}function hh(e){const t=lh(e);return 4===t.length?Bs.emptyPath():ph(t)}function fh(e){return new Bs(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function ph(e){return bs(e.length>4&&"documents"===e.get(4),29091,{key:e.toString()}),e.popFirst(5)}function mh(e,t,r){return{name:ch(e,t),fields:r.value.mapValue.fields}}function gh(e,t){let r;if(t instanceof xd)r={update:mh(e,t.key,t.value)};else if(t instanceof Nd)r={delete:ch(e,t.key)};else if(t instanceof wd)r={update:mh(e,t.key,t.data),updateMask:_h(t.fieldMask)};else{if(!(t instanceof Ed))return ys(16599,{Vt:t.type});r={verify:ch(e,t.key)}}return t.fieldTransforms.length>0&&(r.updateTransforms=t.fieldTransforms.map(e=>function(e,t){const r=t.transform;if(r instanceof rd)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(r instanceof nd)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:r.elements}};if(r instanceof id)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:r.elements}};if(r instanceof sd)return{fieldPath:t.field.canonicalString(),increment:r.Ae};throw ys(20930,{transform:t.transform})}(0,e))),t.precondition.isNone||(r.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:ah(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:ys(27497)}(e,t.precondition)),r}function yh(e,t){return{documents:[dh(e,t.path)]}}function vh(e,t){const r={structuredQuery:{}},n=t.path;let a;null!==t.collectionGroup?(a=n,r.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(a=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=dh(e,a);const i=function(e){if(0!==e.length)return Eh(Jc.create(e,"and"))}(t.filters);i&&(r.structuredQuery.where=i);const o=function(e){if(0!==e.length)return e.map(e=>function(e){return{field:Sh(e.field),direction:wh(e.dir)}}(e))}(t.orderBy);o&&(r.structuredQuery.orderBy=o);const s=th(e,t.limit);return null!==s&&(r.structuredQuery.limit=s),t.startAt&&(r.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(r.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{ft:r,parent:a}}function bh(e){let t=hh(e.parent);const r=e.structuredQuery,n=r.from?r.from.length:0;let a=null;if(n>0){bs(1===n,65062);const e=r.from[0];e.allDescendants?a=e.collectionId:t=t.child(e.collectionId)}let i=[];r.where&&(i=function(e){const t=xh(e);return t instanceof Jc&&eu(t)?t.getFilters():[t]}(r.where));let o=[];r.orderBy&&(o=function(e){return e.map(e=>function(e){return new Gc(Nh(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))}(r.orderBy));let s=null;r.limit&&(s=function(e){let t;return t="object"==typeof e?e.value:e,vl(t)?null:t}(r.limit));let l=null;r.startAt&&(l=function(e){const t=!!e.before,r=e.values||[];return new Hc(r,t)}(r.startAt));let c=null;return r.endAt&&(c=function(e){const t=!e.before,r=e.values||[];return new Hc(r,t)}(r.endAt)),bu(t,a,o,i,s,"F",l,c)}function xh(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Nh(e.unaryFilter.field);return Xc.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=Nh(e.unaryFilter.field);return Xc.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const n=Nh(e.unaryFilter.field);return Xc.create(n,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Nh(e.unaryFilter.field);return Xc.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ys(61313);default:return ys(60726)}}(e):void 0!==e.fieldFilter?function(e){return Xc.create(Nh(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ys(58110);default:return ys(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Jc.create(e.compositeFilter.filters.map(e=>xh(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return ys(1026)}}(e.compositeFilter.op))}(e):ys(30097,{filter:e})}function wh(e){return Xd[e]}function kh(e){return Jd[e]}function jh(e){return Zd[e]}function Sh(e){return{fieldPath:e.canonicalString()}}function Nh(e){return qs.fromServerFormat(e.fieldPath)}function Eh(e){return e instanceof Xc?function(e){if("=="===e.op){if(Lc(e.value))return{unaryFilter:{field:Sh(e.field),op:"IS_NAN"}};if(Rc(e.value))return{unaryFilter:{field:Sh(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Lc(e.value))return{unaryFilter:{field:Sh(e.field),op:"IS_NOT_NAN"}};if(Rc(e.value))return{unaryFilter:{field:Sh(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Sh(e.field),op:kh(e.op),value:e.value}}}(e):e instanceof Jc?function(e){const t=e.getFilters().map(e=>Eh(e));return 1===t.length?t[0]:{compositeFilter:{op:jh(e.op),filters:t}}}(e):ys(54877,{filter:e})}function _h(e){const t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function Ah(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class Ch{constructor(e,t,r,n){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:nl.min(),i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:nl.min(),o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:ac.EMPTY_BYTE_STRING,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=n,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=i,this.resumeToken=o,this.expectedCount=s}withSequenceNumber(e){return new Ch(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ch(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ch(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ch(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Th{constructor(e){this.yt=e}}function Oh(e){const t=bh({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?_u(t,t.limit,"L"):t}class Ih{constructor(){}Dt(e,t){this.Ct(e,t),t.vt()}Ct(e,t){if("nullValue"in e)this.Ft(t,5);else if("booleanValue"in e)this.Ft(t,10),t.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(t,15),t.Mt(sc(e.integerValue));else if("doubleValue"in e){const r=sc(e.doubleValue);isNaN(r)?this.Ft(t,13):(this.Ft(t,15),bl(r)?t.Mt(0):t.Mt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ft(t,20),"string"==typeof r&&(r=oc(r)),t.xt(`${r.seconds||""}`),t.Mt(r.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,t),this.Nt(t);else if("bytesValue"in e)this.Ft(t,30),t.Bt(lc(e.bytesValue)),this.Nt(t);else if("referenceValue"in e)this.Lt(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.Ft(t,45),t.Mt(r.latitude||0),t.Mt(r.longitude||0)}else"mapValue"in e?Vc(e)?this.Ft(t,Number.MAX_SAFE_INTEGER):zc(e)?this.kt(e.mapValue,t):(this.qt(e.mapValue,t),this.Nt(t)):"arrayValue"in e?(this.Qt(e.arrayValue,t),this.Nt(t)):ys(19022,{$t:e})}Ot(e,t){this.Ft(t,25),this.Ut(e,t)}Ut(e,t){t.xt(e)}qt(e,t){const r=e.fields||{};this.Ft(t,55);for(const n of Object.keys(r))this.Ot(n,t),this.Ct(r[n],t)}kt(e,t){const r=e.fields||{};this.Ft(t,53);const n=jc,a=r[n].arrayValue?.values?.length||0;this.Ft(t,15),t.Mt(sc(a)),this.Ot(n,t),this.Ct(r[n],t)}Qt(e,t){const r=e.values||[];this.Ft(t,50);for(const n of r)this.Ct(n,t)}Lt(e,t){this.Ft(t,37),Hs.fromName(e).path.forEach(e=>{this.Ft(t,60),this.Ut(e,t)})}Ft(e,t){e.Mt(t)}Nt(e){e.Mt(2)}}Ih.Kt=new Ih;class Ph{constructor(){this.Cn=new Dh}addToCollectionParentIndex(e,t){return this.Cn.add(t),fl.resolve()}getCollectionParents(e,t){return fl.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return fl.resolve()}deleteFieldIndex(e,t){return fl.resolve()}deleteAllFieldIndexes(e){return fl.resolve()}createTargetIndexes(e,t){return fl.resolve()}getDocumentsMatchingTarget(e,t){return fl.resolve(null)}getIndexType(e,t){return fl.resolve(0)}getFieldIndexes(e,t){return fl.resolve([])}getNextCollectionGroupToUpdate(e){return fl.resolve(null)}getMinOffset(e,t){return fl.resolve(ll.min())}getMinOffsetFromCollectionGroup(e,t){return fl.resolve(ll.min())}updateCollectionGroup(e,t,r){return fl.resolve()}updateIndexEntries(e,t){return fl.resolve()}}class Dh{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),n=this.index[t]||new ec(Bs.comparator),a=!n.has(r);return this.index[t]=n.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),n=this.index[t];return n&&n.has(r)}getEntries(e){return(this.index[e]||new ec(Bs.comparator)).toArray()}}new Uint8Array(0);const Mh={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Rh=41943040;class Lh{static withCacheSize(e){return new Lh(e,Lh.DEFAULT_COLLECTION_PERCENTILE,Lh.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}Lh.DEFAULT_COLLECTION_PERCENTILE=10,Lh.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Lh.DEFAULT=new Lh(Rh,Lh.DEFAULT_COLLECTION_PERCENTILE,Lh.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Lh.DISABLED=new Lh(-1,0,0);class Fh{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Fh(0)}static cr(){return new Fh(-1)}}const zh="LruGarbageCollector",Uh=1048576;function Vh(e,t){let[r,n]=e,[a,i]=t;const o=Ds(r,a);return 0===o?Ds(n,i):o}class Bh{constructor(e){this.Ir=e,this.buffer=new ec(Vh),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();Vh(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class $h{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return null!==this.Rr}Vr(e){fs(zh,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){ml(e)?fs(zh,"Ignoring IndexedDB error during garbage collection: ",e):await hl(e)}await this.Vr(3e5)})}}class qh{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next(e=>Math.floor(t/100*e))}nthSequenceNumber(e,t){if(0===t)return fl.resolve(gl.ce);const r=new Bh(t);return this.mr.forEachTarget(e,e=>r.Ar(e.sequenceNumber)).next(()=>this.mr.pr(e,e=>r.Ar(e))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.mr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(fs("LruGarbageCollector","Garbage collection skipped; disabled"),fl.resolve(Mh)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(fs("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Mh):this.yr(e,t))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let r,n,a,i,o,s,l;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(t=>(t>this.params.maximumSequenceNumbersToCollect?(fs("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${t}`),n=this.params.maximumSequenceNumbersToCollect):n=t,i=Date.now(),this.nthSequenceNumber(e,n))).next(n=>(r=n,o=Date.now(),this.removeTargets(e,r,t))).next(t=>(a=t,s=Date.now(),this.removeOrphanedDocuments(e,r))).next(e=>(l=Date.now(),hs()<=Gt.DEBUG&&fs("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${i-c}ms\n\tDetermined least recently used ${n} in `+(o-i)+"ms\n"+`\tRemoved ${a} targets in `+(s-o)+"ms\n"+`\tRemoved ${e} documents in `+(l-s)+"ms\n"+`Total Duration: ${l-c}ms`),fl.resolve({didRun:!0,sequenceNumbersCollected:n,targetsRemoved:a,documentsRemoved:e})))}}function Hh(e,t){return new qh(e,t)}class Kh{constructor(){this.changes=new Mu(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,qc.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?fl.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Wh{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Gh{constructor(e,t,r,n){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=n}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(n=>(r=n,this.remoteDocumentCache.getEntry(e,t))).next(e=>(null!==r&&yd(r.mutation,e,rc.empty(),rl.now()),e))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.getLocalViewOfDocuments(e,t,Ku()).next(()=>t))}getLocalViewOfDocuments(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ku();const n=Vu();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,r).next(e=>{let t=zu();return e.forEach((e,r)=>{t=t.insert(e,r.overlayedDocument)}),t}))}getOverlayedDocuments(e,t){const r=Vu();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Ku()))}populateOverlays(e,t,r){const n=[];return r.forEach(e=>{t.has(e)||n.push(e)}),this.documentOverlayCache.getOverlays(e,n).next(e=>{e.forEach((e,r)=>{t.set(e,r)})})}computeViews(e,t,r,n){let a=Lu();const i=$u(),o=$u();return t.forEach((e,t)=>{const o=r.get(t.key);n.has(t.key)&&(void 0===o||o.mutation instanceof wd)?a=a.insert(t.key,t):void 0!==o?(i.set(t.key,o.mutation.getFieldMask()),yd(o.mutation,t,o.mutation.getFieldMask(),rl.now())):i.set(t.key,rc.empty())}),this.recalculateAndSaveOverlays(e,a).next(e=>(e.forEach((e,t)=>i.set(e,t)),t.forEach((e,t)=>o.set(e,new Wh(t,i.get(e)??null))),o))}recalculateAndSaveOverlays(e,t){const r=$u();let n=new Xl((e,t)=>e-t),a=Ku();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>{for(const a of e)a.keys().forEach(e=>{const i=t.get(e);if(null===i)return;let o=r.get(e)||rc.empty();o=a.applyToLocalView(i,o),r.set(e,o);const s=(n.get(a.batchId)||Ku()).add(e);n=n.insert(a.batchId,s)})}).next(()=>{const i=[],o=n.getReverseIterator();for(;o.hasNext();){const n=o.getNext(),s=n.key,l=n.value,c=Bu();l.forEach(e=>{if(!a.has(e)){const n=md(t.get(e),r.get(e));null!==n&&c.set(e,n),a=a.add(e)}}),i.push(this.documentOverlayCache.saveOverlays(e,s,c))}return fl.waitFor(i)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,t,r,n){return function(e){return Hs.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):ku(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,n):this.getDocumentsMatchingCollectionQuery(e,t,r,n)}getNextDocuments(e,t,r,n){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,n).next(a=>{const i=n-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,n-a.size):fl.resolve(Vu());let o=al,s=a;return i.next(t=>fl.forEach(t,(t,r)=>(o<r.largestBatchId&&(o=r.largestBatchId),a.get(t)?fl.resolve():this.remoteDocumentCache.getEntry(e,t).next(e=>{s=s.insert(t,e)}))).next(()=>this.populateOverlays(e,t,a)).next(()=>this.computeViews(e,s,t,Ku())).next(e=>({batchId:o,changes:Uu(e)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Hs(t)).next(e=>{let t=zu();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}getDocumentsMatchingCollectionGroupQuery(e,t,r,n){const a=t.collectionGroup;let i=zu();return this.indexManager.getCollectionParents(e,a).next(o=>fl.forEach(o,o=>{const s=function(e,t){return new vu(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(a));return this.getDocumentsMatchingCollectionQuery(e,s,r,n).next(e=>{e.forEach((e,t)=>{i=i.insert(e,t)})})}).next(()=>i))}getDocumentsMatchingCollectionQuery(e,t,r,n){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(i=>(a=i,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,a,n))).next(e=>{a.forEach((t,r)=>{const n=r.getKey();null===e.get(n)&&(e=e.insert(n,qc.newInvalidDocument(n)))});let r=zu();return e.forEach((e,n)=>{const i=a.get(e);void 0!==i&&yd(i.mutation,n,rc.empty(),rl.now()),Ou(t,n)&&(r=r.insert(e,n))}),r})}}class Yh{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return fl.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:ih(e.createTime)}}(t)),fl.resolve()}getNamedQuery(e,t){return fl.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,function(e){return{name:e.name,query:Oh(e.bundledQuery),readTime:ih(e.readTime)}}(t)),fl.resolve()}}class Qh{constructor(){this.overlays=new Xl(Hs.comparator),this.qr=new Map}getOverlay(e,t){return fl.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Vu();return fl.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&r.set(t,e)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((r,n)=>{this.St(e,t,n)}),fl.resolve()}removeOverlaysForBatchId(e,t,r){const n=this.qr.get(r);return void 0!==n&&(n.forEach(e=>this.overlays=this.overlays.remove(e)),this.qr.delete(r)),fl.resolve()}getOverlaysForCollection(e,t,r){const n=Vu(),a=t.length+1,i=new Hs(t.child("")),o=this.overlays.getIteratorFrom(i);for(;o.hasNext();){const e=o.getNext().value,i=e.getKey();if(!t.isPrefixOf(i.path))break;i.path.length===a&&e.largestBatchId>r&&n.set(e.getKey(),e)}return fl.resolve(n)}getOverlaysForCollectionGroup(e,t,r,n){let a=new Xl((e,t)=>e-t);const i=this.overlays.getIterator();for(;i.hasNext();){const e=i.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>r){let t=a.get(e.largestBatchId);null===t&&(t=Vu(),a=a.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const o=Vu(),s=a.getIterator();for(;s.hasNext()&&(s.getNext().value.forEach((e,t)=>o.set(e,t)),!(o.size()>=n)););return fl.resolve(o)}St(e,t,r){const n=this.overlays.get(r.key);if(null!==n){const e=this.qr.get(n.largestBatchId).delete(r.key);this.qr.set(n.largestBatchId,e)}this.overlays=this.overlays.insert(r.key,new Cd(t,r));let a=this.qr.get(t);void 0===a&&(a=Ku(),this.qr.set(t,a)),this.qr.set(t,a.add(r.key))}}class Xh{constructor(){this.sessionToken=ac.EMPTY_BYTE_STRING}getSessionToken(e){return fl.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,fl.resolve()}}class Jh{constructor(){this.Qr=new ec(Zh.$r),this.Ur=new ec(Zh.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const r=new Zh(e,t);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.Gr(new Zh(e,t))}zr(e,t){e.forEach(e=>this.removeReference(e,t))}jr(e){const t=new Hs(new Bs([])),r=new Zh(t,e),n=new Zh(t,e+1),a=[];return this.Ur.forEachInRange([r,n],e=>{this.Gr(e),a.push(e.key)}),a}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new Hs(new Bs([])),r=new Zh(t,e),n=new Zh(t,e+1);let a=Ku();return this.Ur.forEachInRange([r,n],e=>{a=a.add(e.key)}),a}containsKey(e){const t=new Zh(e,0),r=this.Qr.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Zh{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return Hs.comparator(e.key,t.key)||Ds(e.Yr,t.Yr)}static Kr(e,t){return Ds(e.Yr,t.Yr)||Hs.comparator(e.key,t.key)}}class ef{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new ec(Zh.$r)}checkEmpty(e){return fl.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,n){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const i=new _d(a,t,r,n);this.mutationQueue.push(i);for(const o of n)this.Zr=this.Zr.add(new Zh(o.key,a)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return fl.resolve(i)}lookupMutationBatch(e,t){return fl.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,n=this.ei(r),a=n<0?0:n;return fl.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return fl.resolve(0===this.mutationQueue.length?yl:this.tr-1)}getAllMutationBatches(e){return fl.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Zh(t,0),n=new Zh(t,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([r,n],e=>{const t=this.Xr(e.Yr);a.push(t)}),fl.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new ec(Ds);return t.forEach(e=>{const t=new Zh(e,0),n=new Zh(e,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([t,n],e=>{r=r.add(e.Yr)})}),fl.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,n=r.length+1;let a=r;Hs.isDocumentKey(a)||(a=a.child(""));const i=new Zh(new Hs(a),0);let o=new ec(Ds);return this.Zr.forEachWhile(e=>{const t=e.key.path;return!!r.isPrefixOf(t)&&(t.length===n&&(o=o.add(e.Yr)),!0)},i),fl.resolve(this.ti(o))}ti(e){const t=[];return e.forEach(e=>{const r=this.Xr(e);null!==r&&t.push(r)}),t}removeMutationBatch(e,t){bs(0===this.ni(t.batchId,"removed"),55003),this.mutationQueue.shift();let r=this.Zr;return fl.forEach(t.mutations,n=>{const a=new Zh(n.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,n.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,t){const r=new Zh(t,0),n=this.Zr.firstAfterOrEqual(r);return fl.resolve(t.isEqual(n&&n.key))}performConsistencyCheck(e){return this.mutationQueue.length,fl.resolve()}ni(e,t){return this.ei(e)}ei(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class tf{constructor(e){this.ri=e,this.docs=new Xl(Hs.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,n=this.docs.get(r),a=n?n.size:0,i=this.ri(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:i}),this.size+=i-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return fl.resolve(r?r.document.mutableCopy():qc.newInvalidDocument(t))}getEntries(e,t){let r=Lu();return t.forEach(e=>{const t=this.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():qc.newInvalidDocument(e))}),fl.resolve(r)}getDocumentsMatchingQuery(e,t,r,n){let a=Lu();const i=t.path,o=new Hs(i.child("__id-9223372036854775808__")),s=this.docs.getIteratorFrom(o);for(;s.hasNext();){const{key:e,value:{document:o}}=s.getNext();if(!i.isPrefixOf(e.path))break;e.path.length>i.length+1||cl(sl(o),r)<=0||(n.has(o.key)||Ou(t,o))&&(a=a.insert(o.key,o.mutableCopy()))}return fl.resolve(a)}getAllFromCollectionGroup(e,t,r,n){ys(9500)}ii(e,t){return fl.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new rf(this)}getSize(e){return fl.resolve(this.size)}}class rf extends Kh{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach((r,n)=>{n.isValidDocument()?t.push(this.Nr.addEntry(e,n)):this.Nr.removeEntry(r)}),fl.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}class nf{constructor(e){this.persistence=e,this.si=new Mu(e=>mu(e),gu),this.lastRemoteSnapshotVersion=nl.min(),this.highestTargetId=0,this.oi=0,this._i=new Jh,this.targetCount=0,this.ai=Fh.ur()}forEachTarget(e,t){return this.si.forEach((e,r)=>t(r)),fl.resolve()}getLastRemoteSnapshotVersion(e){return fl.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return fl.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),fl.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.oi&&(this.oi=t),fl.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new Fh(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,fl.resolve()}updateTargetData(e,t){return this.Pr(t),fl.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,fl.resolve()}removeTargets(e,t,r){let n=0;const a=[];return this.si.forEach((i,o)=>{o.sequenceNumber<=t&&null===r.get(o.targetId)&&(this.si.delete(i),a.push(this.removeMatchingKeysForTargetId(e,o.targetId)),n++)}),fl.waitFor(a).next(()=>n)}getTargetCount(e){return fl.resolve(this.targetCount)}getTargetData(e,t){const r=this.si.get(t)||null;return fl.resolve(r)}addMatchingKeys(e,t,r){return this._i.Wr(t,r),fl.resolve()}removeMatchingKeys(e,t,r){this._i.zr(t,r);const n=this.persistence.referenceDelegate,a=[];return n&&t.forEach(t=>{a.push(n.markPotentiallyOrphaned(e,t))}),fl.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),fl.resolve()}getMatchingKeysForTargetId(e,t){const r=this._i.Hr(t);return fl.resolve(r)}containsKey(e,t){return fl.resolve(this._i.containsKey(t))}}class af{constructor(e,t){this.ui={},this.overlays={},this.ci=new gl(0),this.li=!1,this.li=!0,this.hi=new Xh,this.referenceDelegate=e(this),this.Pi=new nf(this),this.indexManager=new Ph,this.remoteDocumentCache=function(e){return new tf(e)}(e=>this.referenceDelegate.Ti(e)),this.serializer=new Th(t),this.Ii=new Yh(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Qh,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ui[e.toKey()];return r||(r=new ef(t,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,r){fs("MemoryPersistence","Starting transaction:",e);const n=new of(this.ci.next());return this.referenceDelegate.Ei(),r(n).next(e=>this.referenceDelegate.di(n).next(()=>e)).toPromise().then(e=>(n.raiseOnCommittedEvent(),e))}Ai(e,t){return fl.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,t)))}}class of extends dl{constructor(e){super(),this.currentSequenceNumber=e}}class sf{constructor(e){this.persistence=e,this.Ri=new Jh,this.Vi=null}static mi(e){return new sf(e)}get fi(){if(this.Vi)return this.Vi;throw ys(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.fi.delete(r.toString()),fl.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.fi.add(r.toString()),fl.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),fl.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach(e=>this.fi.add(e.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.fi.add(e.toString()))}).next(()=>r.removeTargetData(e,t))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return fl.forEach(this.fi,r=>{const n=Hs.fromPath(r);return this.gi(e,n).next(e=>{e||t.removeEntry(n,nl.min())})}).next(()=>(this.Vi=null,t.apply(e)))}updateLimboDocument(e,t){return this.gi(e,t).next(e=>{e?this.fi.delete(t.toString()):this.fi.add(t.toString())})}Ti(e){return 0}gi(e,t){return fl.or([()=>fl.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class lf{constructor(e,t){this.persistence=e,this.pi=new Mu(e=>kl(e.path),(e,t)=>e.isEqual(t)),this.garbageCollector=Hh(this,t)}static mi(e,t){return new lf(e,t)}Ei(){}di(e){return fl.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(e=>t.next(t=>e+t))}wr(e){let t=0;return this.pr(e,e=>{t++}).next(()=>t)}pr(e,t){return fl.forEach(this.pi,(r,n)=>this.br(e,r,n).next(e=>e?fl.resolve():t(n)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const n=this.persistence.getRemoteDocumentCache(),a=n.newChangeBuffer();return n.ii(e,n=>this.br(e,n,t).next(e=>{e||(r++,a.removeEntry(n,nl.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),fl.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),fl.resolve()}removeReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),fl.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),fl.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Ic(e.data.value)),t}br(e,t,r){return fl.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const e=this.pi.get(t);return fl.resolve(void 0!==e&&e>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class cf{constructor(e,t,r,n){this.targetId=e,this.fromCache=t,this.Es=r,this.ds=n}static As(e,t){let r=Ku(),n=Ku();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:n=n.add(a.doc.key)}return new cf(e,t.fromCache,r,n)}}class uf{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class df{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=Tt()?8:pl(At())>0?6:4}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,n){const a={result:null};return this.ys(e,t).next(e=>{a.result=e}).next(()=>{if(!a.result)return this.ws(e,t,n,r).next(e=>{a.result=e})}).next(()=>{if(a.result)return;const r=new uf;return this.Ss(e,t,r).next(n=>{if(a.result=n,this.Vs)return this.bs(e,t,r,n.size)})}).next(()=>a.result)}bs(e,t,r,n){return r.documentReadCount<this.fs?(hs()<=Gt.DEBUG&&fs("QueryEngine","SDK will not create cache indexes for query:",Tu(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),fl.resolve()):(hs()<=Gt.DEBUG&&fs("QueryEngine","Query:",Tu(t),"scans",r.documentReadCount,"local documents and returns",n,"documents as results."),r.documentReadCount>this.gs*n?(hs()<=Gt.DEBUG&&fs("QueryEngine","The SDK decides to create cache indexes for query:",Tu(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Su(t))):fl.resolve())}ys(e,t){if(wu(t))return fl.resolve(null);let r=Su(t);return this.indexManager.getIndexType(e,r).next(n=>0===n?null:(null!==t.limit&&1===n&&(t=_u(t,null,"F"),r=Su(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(n=>{const a=Ku(...n);return this.ps.getDocuments(e,a).next(n=>this.indexManager.getMinOffset(e,r).next(r=>{const i=this.Ds(t,n);return this.Cs(t,i,a,r.readTime)?this.ys(e,_u(t,null,"F")):this.vs(e,i,t,r)}))})))}ws(e,t,r,n){return wu(t)||n.isEqual(nl.min())?fl.resolve(null):this.ps.getDocuments(e,r).next(a=>{const i=this.Ds(t,a);return this.Cs(t,i,r,n)?fl.resolve(null):(hs()<=Gt.DEBUG&&fs("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Tu(t)),this.vs(e,i,t,ol(n,al)).next(e=>e))})}Ds(e,t){let r=new ec(Pu(e));return t.forEach((t,n)=>{Ou(e,n)&&(r=r.add(n))}),r}Cs(e,t,r,n){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const a="F"===e.limitType?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(n)>0)}Ss(e,t,r){return hs()<=Gt.DEBUG&&fs("QueryEngine","Using full collection scan to execute query:",Tu(t)),this.ps.getDocumentsMatchingQuery(e,t,ll.min(),r)}vs(e,t,r,n){return this.ps.getDocumentsMatchingQuery(e,r,n).next(e=>(t.forEach(t=>{e=e.insert(t.key,t)}),e))}}const hf="LocalStore";class ff{constructor(e,t,r,n){this.persistence=e,this.Fs=t,this.serializer=n,this.Ms=new Xl(Ds),this.xs=new Mu(e=>mu(e),gu),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Gh(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ms))}}function pf(e,t,r,n){return new ff(e,t,r,n)}async function mf(e,t){const r=xs(e);return await r.persistence.runTransaction("Handle user change","readonly",e=>{let n;return r.mutationQueue.getAllMutationBatches(e).next(a=>(n=a,r.Bs(t),r.mutationQueue.getAllMutationBatches(e))).next(t=>{const a=[],i=[];let o=Ku();for(const e of n){a.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}for(const e of t){i.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}return r.localDocuments.getDocuments(e,o).next(e=>({Ls:e,removedBatchIds:a,addedBatchIds:i}))})})}function gf(e){const t=xs(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Pi.getLastRemoteSnapshotVersion(e))}function yf(e,t,r){let n=Ku(),a=Ku();return r.forEach(e=>n=n.add(e)),t.getEntries(e,n).next(e=>{let n=Lu();return r.forEach((r,i)=>{const o=e.get(r);i.isFoundDocument()!==o.isFoundDocument()&&(a=a.add(r)),i.isNoDocument()&&i.version.isEqual(nl.min())?(t.removeEntry(r,i.readTime),n=n.insert(r,i)):!o.isValidDocument()||i.version.compareTo(o.version)>0||0===i.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(i),n=n.insert(r,i)):fs(hf,"Ignoring outdated watch update for ",r,". Current version:",o.version," Watch version:",i.version)}),{ks:n,qs:a}})}function vf(e,t){const r=xs(e);return r.persistence.runTransaction("Get next mutation batch","readonly",e=>(void 0===t&&(t=yl),r.mutationQueue.getNextMutationBatchAfterBatchId(e,t)))}function bf(e,t){const r=xs(e);return r.persistence.runTransaction("Allocate target","readwrite",e=>{let n;return r.Pi.getTargetData(e,t).next(a=>a?(n=a,fl.resolve(n)):r.Pi.allocateTargetId(e).next(a=>(n=new Ch(t,a,"TargetPurposeListen",e.currentSequenceNumber),r.Pi.addTargetData(e,n).next(()=>n))))}).then(e=>{const n=r.Ms.get(e.targetId);return(null===n||e.snapshotVersion.compareTo(n.snapshotVersion)>0)&&(r.Ms=r.Ms.insert(e.targetId,e),r.xs.set(t,e.targetId)),e})}async function xf(e,t,r){const n=xs(e),a=n.Ms.get(t),i=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",i,e=>n.persistence.referenceDelegate.removeTarget(e,a))}catch(e){if(!ml(e))throw e;fs(hf,`Failed to update sequence numbers for target ${t}: ${e}`)}n.Ms=n.Ms.remove(t),n.xs.delete(a.target)}function wf(e,t,r){const n=xs(e);let a=nl.min(),i=Ku();return n.persistence.runTransaction("Execute query","readwrite",e=>function(e,t,r){const n=xs(e),a=n.xs.get(r);return void 0!==a?fl.resolve(n.Ms.get(a)):n.Pi.getTargetData(t,r)}(n,e,Su(t)).next(t=>{if(t)return a=t.lastLimboFreeSnapshotVersion,n.Pi.getMatchingKeysForTargetId(e,t.targetId).next(e=>{i=e})}).next(()=>n.Fs.getDocumentsMatchingQuery(e,t,r?a:nl.min(),r?i:Ku())).next(e=>(kf(n,Iu(t),e),{documents:e,Qs:i})))}function kf(e,t,r){let n=e.Os.get(t)||nl.min();r.forEach((e,t)=>{t.readTime.compareTo(n)>0&&(n=t.readTime)}),e.Os.set(t,n)}class jf{constructor(){this.activeTargetIds=Gu()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Sf{constructor(){this.Mo=new jf,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,r){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new jf,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Nf{Oo(e){}shutdown(){}}const Ef="ConnectivityMonitor";class _f{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){fs(Ef,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){fs(Ef,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Af=null;function Cf(){return null===Af?Af=268435456+Math.round(2147483648*Math.random()):Af++,"0x"+Af.toString(16)}const Tf="RestConnection",Of={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class If{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),n=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${r}/databases/${n}`,this.Wo=this.databaseId.database===yc?`project_id=${r}`:`project_id=${r}&database_id=${n}`}Go(e,t,r,n,a){const i=Cf(),o=this.zo(e,t.toUriEncodedString());fs(Tf,`Sending RPC '${e}' ${i}:`,o,r);const s={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(s,n,a);const{host:l}=new URL(o),c=jt(l);return this.Jo(e,o,s,r,c).then(t=>(fs(Tf,`Received RPC '${e}' ${i}: `,t),t),t=>{throw ms(Tf,`RPC '${e}' ${i} failed with error: `,t,"url: ",o,"request:",r),t})}Ho(e,t,r,n,a,i){return this.Go(e,t,r,n,a)}jo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+us,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,r)=>e[r]=t),r&&r.headers.forEach((t,r)=>e[r]=t)}zo(e,t){const r=Of[e];return`${this.Uo}/v1/${t}:${r}`}terminate(){}}class Pf{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Df="WebChannelConnection";class Mf extends If{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,n,a){const i=Cf();return new Promise((a,o)=>{const s=new Xo;s.setWithCredentials(!0),s.listenOnce(Zo.COMPLETE,()=>{try{switch(s.getLastErrorCode()){case es.NO_ERROR:const t=s.getResponseJson();fs(Df,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(t)),a(t);break;case es.TIMEOUT:fs(Df,`RPC '${e}' ${i} timed out`),o(new ks(ws.DEADLINE_EXCEEDED,"Request time out"));break;case es.HTTP_ERROR:const r=s.getStatus();if(fs(Df,`RPC '${e}' ${i} failed with status:`,r,"response text:",s.getResponseText()),r>0){let e=s.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=e?.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(ws).indexOf(t)>=0?t:ws.UNKNOWN}(t.status);o(new ks(e,t.message))}else o(new ks(ws.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new ks(ws.UNAVAILABLE,"Connection failed."));break;default:ys(9055,{l_:e,streamId:i,h_:s.getLastErrorCode(),P_:s.getLastError()})}}finally{fs(Df,`RPC '${e}' ${i} completed.`)}});const l=JSON.stringify(n);fs(Df,`RPC '${e}' ${i} sending request:`,n),s.send(t,"POST",l,r,15)})}T_(e,t,r){const n=Cf(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=as(),o=ns(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(s.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(s.useFetchStreams=!0),this.jo(s.initMessageHeaders,t,r),s.encodeInitMessageHeaders=!0;const c=a.join("");fs(Df,`Creating RPC '${e}' stream ${n}: ${c}`,s);const u=i.createWebChannel(c,s);this.I_(u);let d=!1,h=!1;const f=new Pf({Yo:t=>{h?fs(Df,`Not sending because RPC '${e}' stream ${n} is closed:`,t):(d||(fs(Df,`Opening RPC '${e}' stream ${n} transport.`),u.open(),d=!0),fs(Df,`RPC '${e}' stream ${n} sending:`,t),u.send(t))},Zo:()=>u.close()}),p=(e,t,r)=>{e.listen(t,e=>{try{r(e)}catch(e){setTimeout(()=>{throw e},0)}})};return p(u,Jo.EventType.OPEN,()=>{h||(fs(Df,`RPC '${e}' stream ${n} transport opened.`),f.o_())}),p(u,Jo.EventType.CLOSE,()=>{h||(h=!0,fs(Df,`RPC '${e}' stream ${n} transport closed`),f.a_(),this.E_(u))}),p(u,Jo.EventType.ERROR,t=>{h||(h=!0,ms(Df,`RPC '${e}' stream ${n} transport errored. Name:`,t.name,"Message:",t.message),f.a_(new ks(ws.UNAVAILABLE,"The operation could not be completed")))}),p(u,Jo.EventType.MESSAGE,t=>{if(!h){const r=t.data[0];bs(!!r,16349);const a=r,i=a?.error||a[0]?.error;if(i){fs(Df,`RPC '${e}' stream ${n} received error:`,i);const t=i.status;let r=function(e){const t=Od[e];if(void 0!==t)return Dd(t)}(t),a=i.message;void 0===r&&(r=ws.INTERNAL,a="Unknown error status: "+t+" with message "+i.message),h=!0,f.a_(new ks(r,a)),u.close()}else fs(Df,`RPC '${e}' stream ${n} received:`,r),f.u_(r)}}),p(o,rs.STAT_EVENT,t=>{t.stat===ts.PROXY?fs(Df,`RPC '${e}' stream ${n} detected buffering proxy`):t.stat===ts.NOPROXY&&fs(Df,`RPC '${e}' stream ${n} detected no buffering proxy`)}),setTimeout(()=>{f.__()},0),f}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(t=>t===e)}}function Rf(){return"undefined"!=typeof document?document:null}function Lf(e){return new eh(e,!0)}class Ff{constructor(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.Mi=e,this.timerId=t,this.d_=r,this.A_=n,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),n=Math.max(0,t-r);n>0&&fs("ExponentialBackoff",`Backing off for ${n} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,n,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){null!==this.m_&&(this.m_.skipDelay(),this.m_=null)}cancel(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const zf="PersistentStream";class Uf{constructor(e,t,r,n,a,i,o,s){this.Mi=e,this.S_=r,this.b_=n,this.connection=a,this.authCredentialsProvider=i,this.appCheckCredentialsProvider=o,this.listener=s,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Ff(e,t)}x_(){return 1===this.state||5===this.state||this.O_()}O_(){return 2===this.state||3===this.state}start(){this.F_=0,4!==this.state?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&null===this.C_&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,4!==e?this.M_.reset():t&&t.code===ws.RESOURCE_EXHAUSTED?(ps(t.toString()),ps("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===ws.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(e=>{let[r,n]=e;this.D_===t&&this.G_(r,n)},t=>{e(()=>{const e=new ks(ws.UNKNOWN,"Fetching auth token failed: "+t.message);return this.z_(e)})})}G_(e,t){const r=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(e=>{r(()=>this.z_(e))}),this.stream.onMessage(e=>{r(()=>1==++this.F_?this.J_(e):this.onNext(e))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return fs(zf,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget(()=>this.D_===e?t():(fs(zf,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Vf extends Uf{constructor(e,t,r,n,a,i){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,n,i),this.serializer=a}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=function(e,t){let r;if("targetChange"in t){t.targetChange;const n=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:ys(39313,{state:e})}(t.targetChange.targetChangeType||"NO_CHANGE"),a=t.targetChange.targetIds||[],i=function(e,t){return e.useProto3Json?(bs(void 0===t||"string"==typeof t,58123),ac.fromBase64String(t||"")):(bs(void 0===t||t instanceof Buffer||t instanceof Uint8Array,16193),ac.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,s=o&&function(e){const t=void 0===e.code?ws.UNKNOWN:Dd(e.code);return new ks(t,e.message||"")}(o);r=new Kd(n,a,i,s||null)}else if("documentChange"in t){t.documentChange;const n=t.documentChange;n.document,n.document.name,n.document.updateTime;const a=uh(e,n.document.name),i=ih(n.document.updateTime),o=n.document.createTime?ih(n.document.createTime):nl.min(),s=new Bc({mapValue:{fields:n.document.fields}}),l=qc.newFoundDocument(a,i,o,s),c=n.targetIds||[],u=n.removedTargetIds||[];r=new qd(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const n=t.documentDelete;n.document;const a=uh(e,n.document),i=n.readTime?ih(n.readTime):nl.min(),o=qc.newNoDocument(a,i),s=n.removedTargetIds||[];r=new qd([],s,o.key,o)}else if("documentRemove"in t){t.documentRemove;const n=t.documentRemove;n.document;const a=uh(e,n.document),i=n.removedTargetIds||[];r=new qd([],i,a,null)}else{if(!("filter"in t))return ys(11601,{Rt:t});{t.filter;const e=t.filter;e.targetId;const{count:n=0,unchangedNames:a}=e,i=new Td(n,a),o=e.targetId;r=new Hd(o,i)}}return r}(this.serializer,e),r=function(e){if(!("targetChange"in e))return nl.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?nl.min():t.readTime?ih(t.readTime):nl.min()}(e);return this.listener.H_(t,r)}Y_(e){const t={};t.database=fh(this.serializer),t.addTarget=function(e,t){let r;const n=t.target;if(r=yu(n)?{documents:yh(e,n)}:{query:vh(e,n).ft},r.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){r.resumeToken=nh(e,t.resumeToken);const n=th(e,t.expectedCount);null!==n&&(r.expectedCount=n)}else if(t.snapshotVersion.compareTo(nl.min())>0){r.readTime=rh(e,t.snapshotVersion.toTimestamp());const n=th(e,t.expectedCount);null!==n&&(r.expectedCount=n)}return r}(this.serializer,e);const r=function(e,t){const r=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ys(28987,{purpose:e})}}(t.purpose);return null==r?null:{"goog-listen-tags":r}}(this.serializer,e);r&&(t.labels=r),this.q_(t)}Z_(e){const t={};t.database=fh(this.serializer),t.removeTarget=e,this.q_(t)}}class Bf extends Uf{constructor(e,t,r,n,a,i){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,n,i),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return bs(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,bs(!e.writeResults||0===e.writeResults.length,55816),this.listener.ta()}onNext(e){bs(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=function(e,t){return e&&e.length>0?(bs(void 0!==t,14353),e.map(e=>function(e,t){let r=e.updateTime?ih(e.updateTime):ih(t);return r.isEqual(nl.min())&&(r=ih(t)),new dd(r,e.transformResults||[])}(e,t))):[]}(e.writeResults,e.commitTime),r=ih(e.commitTime);return this.listener.na(r,t)}ra(){const e={};e.database=fh(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map(e=>gh(this.serializer,e))};this.q_(t)}}class $f{}class qf extends $f{constructor(e,t,r,n){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=n,this.ia=!1}sa(){if(this.ia)throw new ks(ws.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,r,n){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(a=>{let[i,o]=a;return this.connection.Go(e,sh(t,r),n,i,o)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===ws.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new ks(ws.UNKNOWN,e.toString())})}Ho(e,t,r,n,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(i=>{let[o,s]=i;return this.connection.Ho(e,sh(t,r),n,o,s,a)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===ws.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new ks(ws.UNKNOWN,e.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class Hf{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){0===this.oa&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){"Online"===this.state?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,"Online"===e&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ps(t),this.aa=!1):fs("OnlineStateTracker",t)}Pa(){null!==this._a&&(this._a.cancel(),this._a=null)}}const Kf="RemoteStore";class Wf{constructor(e,t,r,n,a){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo(e=>{r.enqueueAndForget(async()=>{rp(this)&&(fs(Kf,"Restarting streams for network reachability change."),await async function(e){const t=xs(e);t.Ea.add(4),await Yf(t),t.Ra.set("Unknown"),t.Ea.delete(4),await Gf(t)}(this))})}),this.Ra=new Hf(r,n)}}async function Gf(e){if(rp(e))for(const t of e.da)await t(!0)}async function Yf(e){for(const t of e.da)await t(!1)}function Qf(e,t){const r=xs(e);r.Ia.has(t.targetId)||(r.Ia.set(t.targetId,t),tp(r)?ep(r):wp(r).O_()&&Jf(r,t))}function Xf(e,t){const r=xs(e),n=wp(r);r.Ia.delete(t),n.O_()&&Zf(r,t),0===r.Ia.size&&(n.O_()?n.L_():rp(r)&&r.Ra.set("Unknown"))}function Jf(e,t){if(e.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(nl.min())>0){const r=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(r)}wp(e).Y_(t)}function Zf(e,t){e.Va.Ue(t),wp(e).Z_(t)}function ep(e){e.Va=new Gd({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),wp(e).start(),e.Ra.ua()}function tp(e){return rp(e)&&!wp(e).x_()&&e.Ia.size>0}function rp(e){return 0===xs(e).Ea.size}function np(e){e.Va=void 0}async function ap(e){e.Ra.set("Online")}async function ip(e){e.Ia.forEach((t,r)=>{Jf(e,t)})}async function op(e,t){np(e),tp(e)?(e.Ra.ha(t),ep(e)):e.Ra.set("Unknown")}async function sp(e,t,r){if(e.Ra.set("Online"),t instanceof Kd&&2===t.state&&t.cause)try{await async function(e,t){const r=t.cause;for(const n of t.targetIds)e.Ia.has(n)&&(await e.remoteSyncer.rejectListen(n,r),e.Ia.delete(n),e.Va.removeTarget(n))}(e,t)}catch(r){fs(Kf,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await lp(e,r)}else if(t instanceof qd?e.Va.Ze(t):t instanceof Hd?e.Va.st(t):e.Va.tt(t),!r.isEqual(nl.min()))try{const t=await gf(e.localStore);r.compareTo(t)>=0&&await function(e,t){const r=e.Va.Tt(t);return r.targetChanges.forEach((r,n)=>{if(r.resumeToken.approximateByteSize()>0){const a=e.Ia.get(n);a&&e.Ia.set(n,a.withResumeToken(r.resumeToken,t))}}),r.targetMismatches.forEach((t,r)=>{const n=e.Ia.get(t);if(!n)return;e.Ia.set(t,n.withResumeToken(ac.EMPTY_BYTE_STRING,n.snapshotVersion)),Zf(e,t);const a=new Ch(n.target,t,r,n.sequenceNumber);Jf(e,a)}),e.remoteSyncer.applyRemoteEvent(r)}(e,r)}catch(t){fs(Kf,"Failed to raise snapshot:",t),await lp(e,t)}}async function lp(e,t,r){if(!ml(t))throw t;e.Ea.add(1),await Yf(e),e.Ra.set("Offline"),r||(r=()=>gf(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{fs(Kf,"Retrying IndexedDB access"),await r(),e.Ea.delete(1),await Gf(e)})}function cp(e,t){return t().catch(r=>lp(e,r,t))}async function up(e){const t=xs(e),r=kp(t);let n=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:yl;for(;dp(t);)try{const e=await vf(t.localStore,n);if(null===e){0===t.Ta.length&&r.L_();break}n=e.batchId,hp(t,e)}catch(e){await lp(t,e)}fp(t)&&pp(t)}function dp(e){return rp(e)&&e.Ta.length<10}function hp(e,t){e.Ta.push(t);const r=kp(e);r.O_()&&r.X_&&r.ea(t.mutations)}function fp(e){return rp(e)&&!kp(e).x_()&&e.Ta.length>0}function pp(e){kp(e).start()}async function mp(e){kp(e).ra()}async function gp(e){const t=kp(e);for(const r of e.Ta)t.ea(r.mutations)}async function yp(e,t,r){const n=e.Ta.shift(),a=Ad.from(n,t,r);await cp(e,()=>e.remoteSyncer.applySuccessfulWrite(a)),await up(e)}async function vp(e,t){t&&kp(e).X_&&await async function(e,t){if(function(e){return Pd(e)&&e!==ws.ABORTED}(t.code)){const r=e.Ta.shift();kp(e).B_(),await cp(e,()=>e.remoteSyncer.rejectFailedWrite(r.batchId,t)),await up(e)}}(e,t),fp(e)&&pp(e)}async function bp(e,t){const r=xs(e);r.asyncQueue.verifyOperationInProgress(),fs(Kf,"RemoteStore received new credentials");const n=rp(r);r.Ea.add(3),await Yf(r),n&&r.Ra.set("Unknown"),await r.remoteSyncer.handleCredentialChange(t),r.Ea.delete(3),await Gf(r)}async function xp(e,t){const r=xs(e);t?(r.Ea.delete(2),await Gf(r)):t||(r.Ea.add(2),await Yf(r),r.Ra.set("Unknown"))}function wp(e){return e.ma||(e.ma=function(e,t,r){const n=xs(e);return n.sa(),new Vf(t,n.connection,n.authCredentials,n.appCheckCredentials,n.serializer,r)}(e.datastore,e.asyncQueue,{Xo:ap.bind(null,e),t_:ip.bind(null,e),r_:op.bind(null,e),H_:sp.bind(null,e)}),e.da.push(async t=>{t?(e.ma.B_(),tp(e)?ep(e):e.Ra.set("Unknown")):(await e.ma.stop(),np(e))})),e.ma}function kp(e){return e.fa||(e.fa=function(e,t,r){const n=xs(e);return n.sa(),new Bf(t,n.connection,n.authCredentials,n.appCheckCredentials,n.serializer,r)}(e.datastore,e.asyncQueue,{Xo:()=>Promise.resolve(),t_:mp.bind(null,e),r_:vp.bind(null,e),ta:gp.bind(null,e),na:yp.bind(null,e)}),e.da.push(async t=>{t?(e.fa.B_(),await up(e)):(await e.fa.stop(),e.Ta.length>0&&(fs(Kf,`Stopping write stream with ${e.Ta.length} pending writes`),e.Ta=[]))})),e.fa}class jp{constructor(e,t,r,n,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=n,this.removalCallback=a,this.deferred=new js,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,n,a){const i=Date.now()+r,o=new jp(e,t,i,n,a);return o.start(r),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ks(ws.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Sp(e,t){if(ps("AsyncQueue",`${t}: ${e}`),ml(e))return new ks(ws.UNAVAILABLE,`${t}: ${e}`);throw e}class Np{static emptySet(e){return new Np(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Hs.comparator(t.key,r.key):(e,t)=>Hs.comparator(e.key,t.key),this.keyedMap=zu(),this.sortedSet=new Xl(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Np))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,n=r.getNext().key;if(!e.isEqual(n))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Np;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class Ep{constructor(){this.ga=new Xl(Hs.comparator)}track(e){const t=e.doc.key,r=this.ga.get(t);r?0!==e.type&&3===r.type?this.ga=this.ga.insert(t,e):3===e.type&&1!==r.type?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.ga=this.ga.remove(t):1===e.type&&2===r.type?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):ys(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal((t,r)=>{e.push(r)}),e}}class _p{constructor(e,t,r,n,a,i,o,s,l){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=n,this.mutatedKeys=a,this.fromCache=i,this.syncStateChanged=o,this.excludesMetadataChanges=s,this.hasCachedResults=l}static fromInitialDocuments(e,t,r,n,a){const i=[];return t.forEach(e=>{i.push({type:0,doc:e})}),new _p(e,t,Np.emptySet(t),i,r,n,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Au(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let n=0;n<t.length;n++)if(t[n].type!==r[n].type||!t[n].doc.isEqual(r[n].doc))return!1;return!0}}class Ap{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class Cp{constructor(){this.queries=Tp(),this.onlineState="Unknown",this.Ca=new Set}terminate(){!function(e,t){const r=xs(e),n=r.queries;r.queries=Tp(),n.forEach((e,r)=>{for(const n of r.Sa)n.onError(t)})}(this,new ks(ws.ABORTED,"Firestore shutting down"))}}function Tp(){return new Mu(e=>Cu(e),Au)}async function Op(e,t){const r=xs(e);let n=3;const a=t.query;let i=r.queries.get(a);i?!i.ba()&&t.Da()&&(n=2):(i=new Ap,n=t.Da()?0:1);try{switch(n){case 0:i.wa=await r.onListen(a,!0);break;case 1:i.wa=await r.onListen(a,!1);break;case 2:await r.onFirstRemoteStoreListen(a)}}catch(e){const r=Sp(e,`Initialization of query '${Tu(t.query)}' failed`);return void t.onError(r)}r.queries.set(a,i),i.Sa.push(t),t.va(r.onlineState),i.wa&&t.Fa(i.wa)&&Mp(r)}async function Ip(e,t){const r=xs(e),n=t.query;let a=3;const i=r.queries.get(n);if(i){const e=i.Sa.indexOf(t);e>=0&&(i.Sa.splice(e,1),0===i.Sa.length?a=t.Da()?0:1:!i.ba()&&t.Da()&&(a=2))}switch(a){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function Pp(e,t){const r=xs(e);let n=!1;for(const a of t){const e=a.query,t=r.queries.get(e);if(t){for(const e of t.Sa)e.Fa(a)&&(n=!0);t.wa=a}}n&&Mp(r)}function Dp(e,t,r){const n=xs(e),a=n.queries.get(t);if(a)for(const i of a.Sa)i.onError(r);n.queries.delete(t)}function Mp(e){e.Ca.forEach(e=>{e.next()})}var Rp,Lp;(Lp=Rp||(Rp={})).Ma="default",Lp.Cache="cache";class Fp{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const t=[];for(const r of e.docChanges)3!==r.type&&t.push(r);e=new _p(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache)return!0;if(!this.Da())return!0;const r="Offline"!==t;return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}ka(e){e=_p.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Rp.Cache}}class zp{constructor(e){this.key=e}}class Up{constructor(e){this.key=e}}class Vp{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ku(),this.mutatedKeys=Ku(),this.eu=Pu(e),this.tu=new Np(this.eu)}get nu(){return this.Ya}ru(e,t){const r=t?t.iu:new Ep,n=t?t.tu:this.tu;let a=t?t.mutatedKeys:this.mutatedKeys,i=n,o=!1;const s="F"===this.query.limitType&&n.size===this.query.limit?n.last():null,l="L"===this.query.limitType&&n.size===this.query.limit?n.first():null;if(e.inorderTraversal((e,t)=>{const c=n.get(e),u=Ou(this.query,t)?t:null,d=!!c&&this.mutatedKeys.has(c.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?d!==h&&(r.track({type:3,doc:u}),f=!0):this.su(c,u)||(r.track({type:2,doc:u}),f=!0,(s&&this.eu(u,s)>0||l&&this.eu(u,l)<0)&&(o=!0)):!c&&u?(r.track({type:0,doc:u}),f=!0):c&&!u&&(r.track({type:1,doc:c}),f=!0,(s||l)&&(o=!0)),f&&(u?(i=i.add(u),a=h?a.add(e):a.delete(e)):(i=i.delete(e),a=a.delete(e)))}),null!==this.query.limit)for(;i.size>this.query.limit;){const e="F"===this.query.limitType?i.last():i.first();i=i.delete(e.key),a=a.delete(e.key),r.track({type:1,doc:e})}return{tu:i,iu:r,Cs:o,mutatedKeys:a}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,n){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const i=e.iu.ya();i.sort((e,t)=>function(e,t){const r=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ys(20277,{Rt:e})}};return r(e)-r(t)}(e.type,t.type)||this.eu(e.doc,t.doc)),this.ou(r),n=n??!1;const o=t&&!n?this._u():[],s=0===this.Xa.size&&this.current&&!n?1:0,l=s!==this.Za;return this.Za=s,0!==i.length||l?{snapshot:new _p(this.query,e.tu,a,i,e.mutatedKeys,0===s,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:o}:{au:o}}va(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Ep,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(e=>this.Ya=this.Ya.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this.Ya=this.Ya.delete(e)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ku(),this.tu.forEach(e=>{this.uu(e.key)&&(this.Xa=this.Xa.add(e.key))});const t=[];return e.forEach(e=>{this.Xa.has(e)||t.push(new Up(e))}),this.Xa.forEach(r=>{e.has(r)||t.push(new zp(r))}),t}cu(e){this.Ya=e.Qs,this.Xa=Ku();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return _p.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,0===this.Za,this.hasCachedResults)}}const Bp="SyncEngine";class $p{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class qp{constructor(e){this.key=e,this.hu=!1}}class Hp{constructor(e,t,r,n,a,i){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=n,this.currentUser=a,this.maxConcurrentLimboResolutions=i,this.Pu={},this.Tu=new Mu(e=>Cu(e),Au),this.Iu=new Map,this.Eu=new Set,this.du=new Xl(Hs.comparator),this.Au=new Map,this.Ru=new Jh,this.Vu={},this.mu=new Map,this.fu=Fh.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return!0===this.gu}}async function Kp(e,t){let r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const n=fm(e);let a;const i=n.Tu.get(t);return i?(n.sharedClientState.addLocalQueryTarget(i.targetId),a=i.view.lu()):a=await Gp(n,t,r,!0),a}async function Wp(e,t){const r=fm(e);await Gp(r,t,!0,!1)}async function Gp(e,t,r,n){const a=await bf(e.localStore,Su(t)),i=a.targetId,o=e.sharedClientState.addLocalQueryTarget(i,r);let s;return n&&(s=await Yp(e,t,i,"current"===o,a.resumeToken)),e.isPrimaryClient&&r&&Qf(e.remoteStore,a),s}async function Yp(e,t,r,n,a){e.pu=(t,r,n)=>async function(e,t,r,n){let a=t.view.ru(r);a.Cs&&(a=await wf(e.localStore,t.query,!1).then(e=>{let{documents:r}=e;return t.view.ru(r,a)}));const i=n&&n.targetChanges.get(t.targetId),o=n&&null!=n.targetMismatches.get(t.targetId),s=t.view.applyChanges(a,e.isPrimaryClient,i,o);return sm(e,t.targetId,s.au),s.snapshot}(e,t,r,n);const i=await wf(e.localStore,t,!0),o=new Vp(t,i.Qs),s=o.ru(i.documents),l=$d.createSynthesizedTargetChangeForCurrentChange(r,n&&"Offline"!==e.onlineState,a),c=o.applyChanges(s,e.isPrimaryClient,l);sm(e,r,c.au);const u=new $p(t,r,o);return e.Tu.set(t,u),e.Iu.has(r)?e.Iu.get(r).push(t):e.Iu.set(r,[t]),c.snapshot}async function Qp(e,t,r){const n=xs(e),a=n.Tu.get(t),i=n.Iu.get(a.targetId);if(i.length>1)return n.Iu.set(a.targetId,i.filter(e=>!Au(e,t))),void n.Tu.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(a.targetId),n.sharedClientState.isActiveQueryTarget(a.targetId)||await xf(n.localStore,a.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(a.targetId),r&&Xf(n.remoteStore,a.targetId),im(n,a.targetId)}).catch(hl)):(im(n,a.targetId),await xf(n.localStore,a.targetId,!0))}async function Xp(e,t){const r=xs(e),n=r.Tu.get(t),a=r.Iu.get(n.targetId);r.isPrimaryClient&&1===a.length&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),Xf(r.remoteStore,n.targetId))}async function Jp(e,t){const r=xs(e);try{const e=await function(e,t){const r=xs(e),n=t.snapshotVersion;let a=r.Ms;return r.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{const i=r.Ns.newChangeBuffer({trackRemovals:!0});a=r.Ms;const o=[];t.targetChanges.forEach((i,s)=>{const l=a.get(s);if(!l)return;o.push(r.Pi.removeMatchingKeys(e,i.removedDocuments,s).next(()=>r.Pi.addMatchingKeys(e,i.addedDocuments,s)));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(s)?c=c.withResumeToken(ac.EMPTY_BYTE_STRING,nl.min()).withLastLimboFreeSnapshotVersion(nl.min()):i.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(i.resumeToken,n)),a=a.insert(s,c),function(e,t,r){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size>0)}(l,c,i)&&o.push(r.Pi.updateTargetData(e,c))});let s=Lu(),l=Ku();if(t.documentUpdates.forEach(n=>{t.resolvedLimboDocuments.has(n)&&o.push(r.persistence.referenceDelegate.updateLimboDocument(e,n))}),o.push(yf(e,i,t.documentUpdates).next(e=>{s=e.ks,l=e.qs})),!n.isEqual(nl.min())){const t=r.Pi.getLastRemoteSnapshotVersion(e).next(t=>r.Pi.setTargetsMetadata(e,e.currentSequenceNumber,n));o.push(t)}return fl.waitFor(o).next(()=>i.apply(e)).next(()=>r.localDocuments.getLocalViewOfDocuments(e,s,l)).next(()=>s)}).then(e=>(r.Ms=a,e))}(r.localStore,t);t.targetChanges.forEach((e,t)=>{const n=r.Au.get(t);n&&(bs(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1,22616),e.addedDocuments.size>0?n.hu=!0:e.modifiedDocuments.size>0?bs(n.hu,14607):e.removedDocuments.size>0&&(bs(n.hu,42227),n.hu=!1))}),await um(r,e,t)}catch(e){await hl(e)}}function Zp(e,t,r){const n=xs(e);if(n.isPrimaryClient&&0===r||!n.isPrimaryClient&&1===r){const e=[];n.Tu.forEach((r,n)=>{const a=n.view.va(t);a.snapshot&&e.push(a.snapshot)}),function(e,t){const r=xs(e);r.onlineState=t;let n=!1;r.queries.forEach((e,r)=>{for(const a of r.Sa)a.va(t)&&(n=!0)}),n&&Mp(r)}(n.eventManager,t),e.length&&n.Pu.H_(e),n.onlineState=t,n.isPrimaryClient&&n.sharedClientState.setOnlineState(t)}}async function em(e,t,r){const n=xs(e);n.sharedClientState.updateQueryState(t,"rejected",r);const a=n.Au.get(t),i=a&&a.key;if(i){let e=new Xl(Hs.comparator);e=e.insert(i,qc.newNoDocument(i,nl.min()));const r=Ku().add(i),a=new Bd(nl.min(),new Map,new Xl(Ds),e,r);await Jp(n,a),n.du=n.du.remove(i),n.Au.delete(t),cm(n)}else await xf(n.localStore,t,!1).then(()=>im(n,t,r)).catch(hl)}async function tm(e,t){const r=xs(e),n=t.batch.batchId;try{const e=await function(e,t){const r=xs(e);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{const n=t.batch.keys(),a=r.Ns.newChangeBuffer({trackRemovals:!0});return function(e,t,r,n){const a=r.batch,i=a.keys();let o=fl.resolve();return i.forEach(e=>{o=o.next(()=>n.getEntry(t,e)).next(t=>{const i=r.docVersions.get(e);bs(null!==i,48541),t.version.compareTo(i)<0&&(a.applyToRemoteDocument(t,r),t.isValidDocument()&&(t.setReadTime(r.commitVersion),n.addEntry(t)))})}),o.next(()=>e.mutationQueue.removeMutationBatch(t,a))}(r,e,t,a).next(()=>a.apply(e)).next(()=>r.mutationQueue.performConsistencyCheck(e)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(e,n,t.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=Ku();for(let r=0;r<e.mutationResults.length;++r)e.mutationResults[r].transformResults.length>0&&(t=t.add(e.batch.mutations[r].key));return t}(t))).next(()=>r.localDocuments.getDocuments(e,n))})}(r.localStore,t);am(r,n,null),nm(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await um(r,e)}catch(e){await hl(e)}}async function rm(e,t,r){const n=xs(e);try{const e=await function(e,t){const r=xs(e);return r.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let n;return r.mutationQueue.lookupMutationBatch(e,t).next(t=>(bs(null!==t,37113),n=t.keys(),r.mutationQueue.removeMutationBatch(e,t))).next(()=>r.mutationQueue.performConsistencyCheck(e)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(e,n,t)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,n)).next(()=>r.localDocuments.getDocuments(e,n))})}(n.localStore,t);am(n,t,r),nm(n,t),n.sharedClientState.updateMutationState(t,"rejected",r),await um(n,e)}catch(r){await hl(r)}}function nm(e,t){(e.mu.get(t)||[]).forEach(e=>{e.resolve()}),e.mu.delete(t)}function am(e,t,r){const n=xs(e);let a=n.Vu[n.currentUser.toKey()];if(a){const e=a.get(t);e&&(r?e.reject(r):e.resolve(),a=a.remove(t)),n.Vu[n.currentUser.toKey()]=a}}function im(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const n of e.Iu.get(t))e.Tu.delete(n),r&&e.Pu.yu(n,r);e.Iu.delete(t),e.isPrimaryClient&&e.Ru.jr(t).forEach(t=>{e.Ru.containsKey(t)||om(e,t)})}function om(e,t){e.Eu.delete(t.path.canonicalString());const r=e.du.get(t);null!==r&&(Xf(e.remoteStore,r),e.du=e.du.remove(t),e.Au.delete(r),cm(e))}function sm(e,t,r){for(const n of r)n instanceof zp?(e.Ru.addReference(n.key,t),lm(e,n)):n instanceof Up?(fs(Bp,"Document no longer in limbo: "+n.key),e.Ru.removeReference(n.key,t),e.Ru.containsKey(n.key)||om(e,n.key)):ys(19791,{wu:n})}function lm(e,t){const r=t.key,n=r.path.canonicalString();e.du.get(r)||e.Eu.has(n)||(fs(Bp,"New document in limbo: "+r),e.Eu.add(n),cm(e))}function cm(e){for(;e.Eu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const r=new Hs(Bs.fromString(t)),n=e.fu.next();e.Au.set(n,new qp(r)),e.du=e.du.insert(r,n),Qf(e.remoteStore,new Ch(Su(xu(r.path)),n,"TargetPurposeLimboResolution",gl.ce))}}async function um(e,t,r){const n=xs(e),a=[],i=[],o=[];n.Tu.isEmpty()||(n.Tu.forEach((e,s)=>{o.push(n.pu(s,t,r).then(e=>{if((e||r)&&n.isPrimaryClient){const t=e?!e.fromCache:r?.targetChanges.get(s.targetId)?.current;n.sharedClientState.updateQueryState(s.targetId,t?"current":"not-current")}if(e){a.push(e);const t=cf.As(s.targetId,e);i.push(t)}}))}),await Promise.all(o),n.Pu.H_(a),await async function(e,t){const r=xs(e);try{await r.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>fl.forEach(t,t=>fl.forEach(t.Es,n=>r.persistence.referenceDelegate.addReference(e,t.targetId,n)).next(()=>fl.forEach(t.ds,n=>r.persistence.referenceDelegate.removeReference(e,t.targetId,n)))))}catch(e){if(!ml(e))throw e;fs(hf,"Failed to update sequence numbers: "+e)}for(const n of t){const e=n.targetId;if(!n.fromCache){const t=r.Ms.get(e),n=t.snapshotVersion,a=t.withLastLimboFreeSnapshotVersion(n);r.Ms=r.Ms.insert(e,a)}}}(n.localStore,i))}async function dm(e,t){const r=xs(e);if(!r.currentUser.isEqual(t)){fs(Bp,"User change. New user:",t.toKey());const e=await mf(r.localStore,t);r.currentUser=t,function(e,t){e.mu.forEach(e=>{e.forEach(e=>{e.reject(new ks(ws.CANCELLED,t))})}),e.mu.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await um(r,e.Ls)}}function hm(e,t){const r=xs(e),n=r.Au.get(t);if(n&&n.hu)return Ku().add(n.key);{let e=Ku();const n=r.Iu.get(t);if(!n)return e;for(const t of n){const n=r.Tu.get(t);e=e.unionWith(n.view.nu)}return e}}function fm(e){const t=xs(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Jp.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=hm.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=em.bind(null,t),t.Pu.H_=Pp.bind(null,t.eventManager),t.Pu.yu=Dp.bind(null,t.eventManager),t}function pm(e){const t=xs(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=tm.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=rm.bind(null,t),t}class mm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Lf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return pf(this.persistence,new df,e.initialUser,this.serializer)}Cu(e){return new af(sf.mi,this.serializer)}Du(e){return new Sf}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}mm.provider={build:()=>new mm};class gm extends mm{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){bs(this.persistence.referenceDelegate instanceof lf,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new $h(r,e.asyncQueue,t)}Cu(e){const t=void 0!==this.cacheSizeBytes?Lh.withCacheSize(this.cacheSizeBytes):Lh.DEFAULT;return new af(e=>lf.mi(e,t),this.serializer)}}class ym{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Zp(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=dm.bind(null,this.syncEngine),await xp(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Cp}createDatastore(e){const t=Lf(e.databaseInfo.databaseId),r=function(e){return new Mf(e)}(e.databaseInfo);return function(e,t,r,n){return new qf(e,t,r,n)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(e,t,r,n,a){return new Wf(e,t,r,n,a)}(this.localStore,this.datastore,e.asyncQueue,e=>Zp(this.syncEngine,e,0),_f.v()?new _f:new Nf)}createSyncEngine(e,t){return function(e,t,r,n,a,i,o){const s=new Hp(e,t,r,n,a,i);return o&&(s.gu=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await async function(e){const t=xs(e);fs(Kf,"RemoteStore shutting down."),t.Ea.add(5),await Yf(t),t.Aa.shutdown(),t.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}ym.provider={build:()=>new ym};class vm{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ps("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout(()=>{this.muted||e(t)},0)}}const bm="FirestoreClient";class xm{constructor(e,t,r,n,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=n,this.user=cs.UNAUTHENTICATED,this.clientId=Ps.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async e=>{fs(bm,"Received user=",e.uid),await this.authCredentialListener(e),this.user=e}),this.appCheckCredentials.start(r,e=>(fs(bm,"Received new app check token=",e),this.appCheckCredentialListener(e,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new js;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=Sp(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function wm(e,t){e.asyncQueue.verifyOperationInProgress(),fs(bm,"Initializing OfflineComponentProvider");const r=e.configuration;await t.initialize(r);let n=r.initialUser;e.setCredentialChangeListener(async e=>{n.isEqual(e)||(await mf(t.localStore,e),n=e)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function km(e,t){e.asyncQueue.verifyOperationInProgress();const r=await jm(e);fs(bm,"Initializing OnlineComponentProvider"),await t.initialize(r,e.configuration),e.setCredentialChangeListener(e=>bp(t.remoteStore,e)),e.setAppCheckTokenChangeListener((e,r)=>bp(t.remoteStore,r)),e._onlineComponents=t}async function jm(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){fs(bm,"Using user provided OfflineComponentProvider");try{await wm(e,e._uninitializedComponentsProvider._offline)}catch(t){const r=t;if(!function(e){return"FirebaseError"===e.name?e.code===ws.FAILED_PRECONDITION||e.code===ws.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(r))throw r;ms("Error using user provided cache. Falling back to memory cache: "+r),await wm(e,new mm)}}else fs(bm,"Using default OfflineComponentProvider"),await wm(e,new gm(void 0));return e._offlineComponents}async function Sm(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(fs(bm,"Using user provided OnlineComponentProvider"),await km(e,e._uninitializedComponentsProvider._online)):(fs(bm,"Using default OnlineComponentProvider"),await km(e,new ym))),e._onlineComponents}function Nm(e){return Sm(e).then(e=>e.syncEngine)}async function Em(e){const t=await Sm(e),r=t.eventManager;return r.onListen=Kp.bind(null,t.syncEngine),r.onUnlisten=Qp.bind(null,t.syncEngine),r.onFirstRemoteStoreListen=Wp.bind(null,t.syncEngine),r.onLastRemoteStoreUnlisten=Xp.bind(null,t.syncEngine),r}function _m(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const n=new js;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,r,n,a){const i=new vm({next:r=>{i.Nu(),t.enqueueAndForget(()=>Ip(e,o)),r.fromCache&&"server"===n.source?a.reject(new ks(ws.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):a.resolve(r)},error:e=>a.reject(e)}),o=new Fp(r,i,{includeMetadataChanges:!0,qa:!0});return Op(e,o)}(await Em(e),e.asyncQueue,t,r,n)),n.promise}function Am(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const Cm=new Map,Tm="firestore.googleapis.com",Om=!0;class Im{constructor(e){if(void 0===e.host){if(void 0!==e.ssl)throw new ks(ws.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Tm,this.ssl=Om}else this.host=e.host,this.ssl=e.ssl??Om;if(this.isUsingEmulator=void 0!==e.emulatorOptions,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=Rh;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<Uh)throw new ks(ws.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,r,n){if(!0===t&&!0===n)throw new ks(ws.INVALID_ARGUMENT,`${e} and ${r} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Am(e.experimentalLongPollingOptions??{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new ks(ws.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new ks(ws.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new ks(ws.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Pm{constructor(e,t,r,n){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=n,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Im({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ks(ws.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new ks(ws.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Im(e),this._emulatorOptions=e.emulatorOptions||{},void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Ns;switch(e.type){case"firstParty":return new Cs(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new ks(ws.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Cm.get(e);t&&(fs("ComponentProvider","Removing Datastore"),Cm.delete(e),t.terminate())}(this),Promise.resolve()}}function Dm(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e=Xs(e,Pm);const a=jt(t),i=e._getSettings(),o={...i,emulatorOptions:e._getEmulatorOptions()},s=`${t}:${r}`;a&&(St(`https://${s}`),_t("Firestore",!0)),i.host!==Tm&&i.host!==s&&ms("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...i,host:s,ssl:a,emulatorOptions:n};if(!Mt(l,o)&&(e._setSettings(l),n.mockUserToken)){let t,r;if("string"==typeof n.mockUserToken)t=n.mockUserToken,r=cs.MOCK_USER;else{t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=t||"demo-project",n=e.iat||0,a=e.sub||e.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const i={iss:`https://securetoken.google.com/${r}`,aud:r,iat:n,exp:n+3600,auth_time:n,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...e};return[mt(JSON.stringify({alg:"none",type:"JWT"})),mt(JSON.stringify(i)),""].join(".")}(n.mockUserToken,e._app?.options.projectId);const a=n.mockUserToken.sub||n.mockUserToken.user_id;if(!a)throw new ks(ws.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");r=new cs(a)}e._authCredentials=new Es(new Ss(t,r))}}class Mm{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Mm(this.firestore,e,this._query)}}class Rm{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Lm(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Rm(this.firestore,e,this._key)}toJSON(){return{type:Rm._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(Zs(t,Rm._jsonSchema))return new Rm(e,r||null,new Hs(Bs.fromString(t.referencePath)))}}Rm._jsonSchemaVersion="firestore/documentReference/1.0",Rm._jsonSchema={type:Js("string",Rm._jsonSchemaVersion),referencePath:Js("string")};class Lm extends Mm{constructor(e,t,r){super(e,t,xu(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Rm(this.firestore,null,new Hs(e))}withConverter(e){return new Lm(this.firestore,e,this._path)}}function Fm(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),a=2;a<r;a++)n[a-2]=arguments[a];if(e=Bt(e),Ks("collection","path",t),e instanceof Pm){const r=Bs.fromString(t,...n);return Gs(r),new Lm(e,null,r)}{if(!(e instanceof Rm||e instanceof Lm))throw new ks(ws.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(Bs.fromString(t,...n));return Gs(r),new Lm(e.firestore,null,r)}}function zm(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),a=2;a<r;a++)n[a-2]=arguments[a];if(e=Bt(e),1===arguments.length&&(t=Ps.newId()),Ks("doc","path",t),e instanceof Pm){const r=Bs.fromString(t,...n);return Ws(r),new Rm(e,null,new Hs(r))}{if(!(e instanceof Rm||e instanceof Lm))throw new ks(ws.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(Bs.fromString(t,...n));return Ws(r),new Rm(e.firestore,e instanceof Lm?e.converter:null,new Hs(r))}}const Um="AsyncQueue";class Vm{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Ff(this,"async_queue_retry"),this._c=()=>{const e=Rf();e&&fs(Um,"Visibility state changed to "+e.visibilityState),this.M_.w_()},this.ac=e;const t=Rf();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Rf();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const t=new js;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(0!==this.Xu.length){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(pH){if(!ml(pH))throw pH;fs(Um,"Operation failed with retryable error: "+pH)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const t=this.ac.then(()=>(this.rc=!0,e().catch(e=>{throw this.nc=e,this.rc=!1,ps("INTERNAL UNHANDLED ERROR: ",Bm(e)),e}).then(e=>(this.rc=!1,e))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const n=jp.createAndSchedule(this,e,t,r,e=>this.hc(e));return this.tc.push(n),n}uc(){this.nc&&ys(47125,{Pc:Bm(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do{e=this.ac,await e}while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const t of this.tc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function Bm(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}function $m(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const n of t)if(n in r&&"function"==typeof r[n])return!0;return!1}(e,["next","error","complete"])}class qm extends Pm{constructor(e,t,r,n){super(e,t,r,n),this.type="firestore",this._queue=new Vm,this._persistenceKey=n?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Vm(e),this._firestoreClient=void 0,await e}}}function Hm(e){if(e._terminated)throw new ks(ws.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||Km(e),e._firestoreClient}function Km(e){const t=e._freezeSettings(),r=function(e,t,r,n){return new gc(e,t,r,n.host,n.ssl,n.experimentalForceLongPolling,n.experimentalAutoDetectLongPolling,Am(n.experimentalLongPollingOptions),n.useFetchStreams,n.isUsingEmulator)}(e._databaseId,e._app?.options.appId||"",e._persistenceKey,t);e._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(e._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),e._firestoreClient=new xm(e._authCredentials,e._appCheckCredentials,e._queue,r,e._componentsProvider&&function(e){const t=e?._online.build();return{_offline:e?._offline.build(t),_online:t}}(e._componentsProvider))}class Wm{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Wm(ac.fromBase64String(e))}catch(e){throw new ks(ws.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new Wm(ac.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Wm._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Zs(e,Wm._jsonSchema))return Wm.fromBase64String(e.bytes)}}Wm._jsonSchemaVersion="firestore/bytes/1.0",Wm._jsonSchema={type:Js("string",Wm._jsonSchemaVersion),bytes:Js("string")};class Gm{constructor(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];for(let n=0;n<t.length;++n)if(0===t[n].length)throw new ks(ws.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qs(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Ym{constructor(e){this._methodName=e}}class Qm{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ks(ws.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ks(ws.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ds(this._lat,e._lat)||Ds(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Qm._jsonSchemaVersion}}static fromJSON(e){if(Zs(e,Qm._jsonSchema))return new Qm(e.latitude,e.longitude)}}Qm._jsonSchemaVersion="firestore/geoPoint/1.0",Qm._jsonSchema={type:Js("string",Qm._jsonSchemaVersion),latitude:Js("number"),longitude:Js("number")};class Xm{constructor(e){this._values=(e||[]).map(e=>e)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;++r)if(e[r]!==t[r])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Xm._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Zs(e,Xm._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(e=>"number"==typeof e))return new Xm(e.vectorValues);throw new ks(ws.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Xm._jsonSchemaVersion="firestore/vectorValue/1.0",Xm._jsonSchema={type:Js("string",Xm._jsonSchemaVersion),vectorValues:Js("object")};const Jm=/^__.*__$/;class Zm{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new wd(e,this.data,this.fieldMask,t,this.fieldTransforms):new xd(e,this.data,t,this.fieldTransforms)}}class eg{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new wd(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function tg(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ys(40011,{Ac:e})}}class rg{constructor(e,t,r,n,a,i){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=n,void 0===a&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=i||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new rg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.gc(e),r}yc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return vg(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(0===e.length)throw this.Sc("Document fields must not be empty");if(tg(this.Ac)&&Jm.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class ng{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Lf(e)}Cc(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new rg({Ac:e,methodName:t,Dc:r,path:qs.emptyPath(),fc:!1,bc:n},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ag(e){const t=e._freezeSettings(),r=Lf(e._databaseId);return new ng(e._databaseId,!!t.ignoreUndefinedProperties,r)}function ig(e,t,r,n,a){let i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const o=e.Cc(i.merge||i.mergeFields?2:0,t,r,a);pg("Data must be an object, but it was:",o,n);const s=hg(n,o);let l,c;if(i.merge)l=new rc(o.fieldMask),c=o.fieldTransforms;else if(i.mergeFields){const e=[];for(const n of i.mergeFields){const a=mg(t,n,r);if(!o.contains(a))throw new ks(ws.INVALID_ARGUMENT,`Field '${a}' is specified in your field mask but missing from your input data.`);bg(e,a)||e.push(a)}l=new rc(e),c=o.fieldTransforms.filter(e=>l.covers(e.field))}else l=null,c=o.fieldTransforms;return new Zm(new Bc(s),l,c)}class og extends Ym{_toFieldTransform(e){if(2!==e.Ac)throw 1===e.Ac?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof og}}class sg extends Ym{constructor(e,t){super(e),this.Fc=t}_toFieldTransform(e){const t=new sd(e.serializer,Xu(e.serializer,this.Fc));return new ud(e.path,t)}isEqual(e){return e instanceof sg&&this.Fc===e.Fc}}function lg(e,t,r,n){const a=e.Cc(1,t,r);pg("Data must be an object, but it was:",a,n);const i=[],o=Bc.empty();Yl(n,(e,n)=>{const s=yg(t,e,r);n=Bt(n);const l=a.yc(s);if(n instanceof og)i.push(s);else{const e=dg(n,l);null!=e&&(i.push(s),o.set(s,e))}});const s=new rc(i);return new eg(o,s,a.fieldTransforms)}function cg(e,t,r,n,a,i){const o=e.Cc(1,t,r),s=[mg(t,n,r)],l=[a];if(i.length%2!=0)throw new ks(ws.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<i.length;h+=2)s.push(mg(t,i[h])),l.push(i[h+1]);const c=[],u=Bc.empty();for(let h=s.length-1;h>=0;--h)if(!bg(c,s[h])){const e=s[h];let t=l[h];t=Bt(t);const r=o.yc(e);if(t instanceof og)c.push(e);else{const n=dg(t,r);null!=n&&(c.push(e),u.set(e,n))}}const d=new rc(c);return new eg(u,d,o.fieldTransforms)}function ug(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return dg(r,e.Cc(n?4:3,t))}function dg(e,t){if(fg(e=Bt(e)))return pg("Unsupported field value:",t,e),hg(e,t);if(e instanceof Ym)return function(e,t){if(!tg(t.Ac))throw t.Sc(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.Sc(`${e._methodName}() is not currently supported inside arrays`);const r=e._toFieldTransform(t);r&&t.fieldTransforms.push(r)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.fc&&4!==t.Ac)throw t.Sc("Nested arrays are not supported");return function(e,t){const r=[];let n=0;for(const a of e){let e=dg(a,t.wc(n));null==e&&(e={nullValue:"NULL_VALUE"}),r.push(e),n++}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=Bt(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Xu(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const r=rl.fromDate(e);return{timestampValue:rh(t.serializer,r)}}if(e instanceof rl){const r=new rl(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:rh(t.serializer,r)}}if(e instanceof Qm)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Wm)return{bytesValue:nh(t.serializer,e._byteString)};if(e instanceof Rm){const r=t.databaseId,n=e.firestore._databaseId;if(!n.isEqual(r))throw t.Sc(`Document reference is for database ${n.projectId}/${n.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:oh(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof Xm)return function(e,t){return{mapValue:{fields:{[bc]:{stringValue:kc},[jc]:{arrayValue:{values:e.toArray().map(e=>{if("number"!=typeof e)throw t.Sc("VectorValues must only contain numeric values.");return Yu(t.serializer,e)})}}}}}}(e,t);throw t.Sc(`Unsupported field value: ${Qs(e)}`)}(e,t)}function hg(e,t){const r={};return Ql(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Yl(e,(e,n)=>{const a=dg(n,t.mc(e));null!=a&&(r[e]=a)}),{mapValue:{fields:r}}}function fg(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof rl||e instanceof Qm||e instanceof Wm||e instanceof Rm||e instanceof Ym||e instanceof Xm)}function pg(e,t,r){if(!fg(r)||!Ys(r)){const n=Qs(r);throw"an object"===n?t.Sc(e+" a custom object"):t.Sc(e+" "+n)}}function mg(e,t,r){if((t=Bt(t))instanceof Gm)return t._internalPath;if("string"==typeof t)return yg(e,t);throw vg("Field path arguments must be of type string or ",e,!1,void 0,r)}const gg=new RegExp("[~\\*/\\[\\]]");function yg(e,t,r){if(t.search(gg)>=0)throw vg(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,r);try{return new Gm(...t.split("."))._internalPath}catch(Zy){throw vg(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,r)}}function vg(e,t,r,n,a){const i=n&&!n.isEmpty(),o=void 0!==a;let s=`Function ${t}() called with invalid data`;r&&(s+=" (via `toFirestore()`)"),s+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${n}`),o&&(l+=` in document ${a}`),l+=")"),new ks(ws.INVALID_ARGUMENT,s+e+l)}function bg(e,t){return e.some(e=>e.isEqual(t))}class xg{constructor(e,t,r,n,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=n,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Rm(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new wg(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(kg("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class wg extends xg{data(){return super.data()}}function kg(e,t){return"string"==typeof t?yg(e,t):t instanceof Gm?t._internalPath:t._delegate._internalPath}function jg(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new ks(ws.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Sg{}class Ng extends Sg{}function Eg(e,t){let r=[];for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i];t instanceof Sg&&r.push(t),r=r.concat(a),function(e){const t=e.filter(e=>e instanceof Cg).length,r=e.filter(e=>e instanceof _g).length;if(t>1||t>0&&r>0)throw new ks(ws.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const o of r)e=o._apply(e);return e}class _g extends Ng{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new _g(e,t,r)}_apply(e){const t=this._parse(e);return Dg(e._query,t),new Mm(e.firestore,e.converter,Eu(e._query,t))}_parse(e){const t=ag(e.firestore),r=function(e,t,r,n,a,i,o){let s;if(a.isKeyField()){if("array-contains"===i||"array-contains-any"===i)throw new ks(ws.INVALID_ARGUMENT,`Invalid Query. You can't perform '${i}' queries on documentId().`);if("in"===i||"not-in"===i){Pg(o,i);const t=[];for(const r of o)t.push(Ig(n,e,r));s={arrayValue:{values:t}}}else s=Ig(n,e,o)}else"in"!==i&&"not-in"!==i&&"array-contains-any"!==i||Pg(o,i),s=ug(r,t,o,"in"===i||"not-in"===i);return Xc.create(a,i,s)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return r}}function Ag(e,t,r){const n=t,a=kg("where",e);return _g._create(a,n,r)}class Cg extends Sg{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Cg(e,t)}_parse(e){const t=this._queryConstraints.map(t=>t._parse(e)).filter(e=>e.getFilters().length>0);return 1===t.length?t[0]:Jc.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let r=e;const n=t.getFlattenedFilters();for(const a of n)Dg(r,a),r=Eu(r,a)}(e._query,t),new Mm(e.firestore,e.converter,Eu(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Tg extends Ng{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Tg(e,t)}_apply(e){const t=function(e,t,r){if(null!==e.startAt)throw new ks(ws.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new ks(ws.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Gc(t,r)}(e._query,this._field,this._direction);return new Mm(e.firestore,e.converter,function(e,t){const r=e.explicitOrderBy.concat([t]);return new vu(e.path,e.collectionGroup,r,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}function Og(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",r=kg("orderBy",e);return Tg._create(r,t)}function Ig(e,t,r){if("string"==typeof(r=Bt(r))){if(""===r)throw new ks(ws.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ku(t)&&-1!==r.indexOf("/"))throw new ks(ws.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=t.path.child(Bs.fromString(r));if(!Hs.isDocumentKey(n))throw new ks(ws.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return Pc(e,new Hs(n))}if(r instanceof Rm)return Pc(e,r._key);throw new ks(ws.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Qs(r)}.`)}function Pg(e,t){if(!Array.isArray(e)||0===e.length)throw new ks(ws.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function Dg(e,t){const r=function(e,t){for(const r of e)for(const e of r.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==r)throw r===t.op?new ks(ws.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ks(ws.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${r.toString()}' filters.`)}class Mg{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Sc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return sc(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(lc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ys(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const r={};return Yl(e,(e,n)=>{r[e]=this.convertValue(n,t)}),r}convertVectorValue(e){const t=e.fields?.[jc].arrayValue?.values?.map(e=>sc(e.doubleValue));return new Xm(t)}convertGeoPoint(e){return new Qm(sc(e.latitude),sc(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=pc(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(mc(e));default:return null}}convertTimestamp(e){const t=oc(e);return new rl(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Bs.fromString(e);bs(Ah(r),9688,{name:e});const n=new vc(r.get(1),r.get(3)),a=new Hs(r.popFirst(5));return n.isEqual(t)||ps(`Document ${a} contains a document reference within a different database (${n.projectId}/${n.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}function Rg(e,t,r){let n;return n=e?r&&(r.merge||r.mergeFields)?e.toFirestore(t,r):e.toFirestore(t):t,n}class Lg{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Fg extends xg{constructor(e,t,r,n,a,i){super(e,t,r,n,i),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new zg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const r=this._document.data.field(kg("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ks(ws.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Fg._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),e&&e.isValidDocument()&&e.isFoundDocument()?(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t):t}}Fg._jsonSchemaVersion="firestore/documentSnapshot/1.0",Fg._jsonSchema={type:Js("string",Fg._jsonSchemaVersion),bundleSource:Js("string","DocumentSnapshot"),bundleName:Js("string"),bundle:Js("string")};class zg extends Fg{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class Ug{constructor(e,t,r,n){this._firestore=e,this._userDataWriter=t,this._snapshot=n,this.metadata=new Lg(n.hasPendingWrites,n.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new zg(this._firestore,this._userDataWriter,r.key,r,new Lg(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new ks(ws.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(r=>{const n=new zg(e._firestore,e._userDataWriter,r.doc.key,r.doc,new Lg(e._snapshot.mutatedKeys.has(r.doc.key),e._snapshot.fromCache),e.query.converter);return r.doc,{type:"added",doc:n,oldIndex:-1,newIndex:t++}})}{let r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{const n=new zg(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Lg(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let a=-1,i=-1;return 0!==t.type&&(a=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(r=r.add(t.doc),i=r.indexOf(t.doc.key)),{type:Vg(t.type),doc:n,oldIndex:a,newIndex:i}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ks(ws.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ug._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Ps.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],n=[];return this.docs.forEach(e=>{null!==e._document&&(t.push(e._document),r.push(this._userDataWriter.convertObjectMap(e._document.data.value.mapValue.fields,"previous")),n.push(e.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Vg(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ys(61501,{type:e})}}Ug._jsonSchemaVersion="firestore/querySnapshot/1.0",Ug._jsonSchema={type:Js("string",Ug._jsonSchemaVersion),bundleSource:Js("string","QuerySnapshot"),bundleName:Js("string"),bundle:Js("string")};class Bg extends Mg{constructor(e){super(),this.firestore=e}convertBytes(e){return new Wm(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Rm(this.firestore,null,t)}}function $g(e){e=Xs(e,Mm);const t=Xs(e.firestore,qm),r=Hm(t),n=new Bg(t);return jg(e._query),_m(r,e._query).then(r=>new Ug(t,n,e,r))}function qg(e,t,r){e=Xs(e,Rm);const n=Xs(e.firestore,qm),a=ag(n);let i;for(var o=arguments.length,s=new Array(o>3?o-3:0),l=3;l<o;l++)s[l-3]=arguments[l];return i="string"==typeof(t=Bt(t))||t instanceof Gm?cg(a,"updateDoc",e._key,t,r,s):lg(a,"updateDoc",e._key,t),Wg(n,[i.toMutation(e._key,hd.exists(!0))])}function Hg(e,t){const r=Xs(e.firestore,qm),n=zm(e),a=Rg(e.converter,t);return Wg(r,[ig(ag(e.firestore),"addDoc",n._key,a,null!==e.converter,{}).toMutation(n._key,hd.exists(!1))]).then(()=>n)}function Kg(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];e=Bt(e);let a={includeMetadataChanges:!1,source:"default"},i=0;"object"!=typeof r[i]||$m(r[i])||(a=r[i++]);const o={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if($m(r[i])){const e=r[i];r[i]=e.next?.bind(e),r[i+1]=e.error?.bind(e),r[i+2]=e.complete?.bind(e)}let s,l,c;if(e instanceof Rm)l=Xs(e.firestore,qm),c=xu(e._key.path),s={next:t=>{r[i]&&r[i](Gg(l,e,t))},error:r[i+1],complete:r[i+2]};else{const t=Xs(e,Mm);l=Xs(t.firestore,qm),c=t._query;const n=new Bg(l);s={next:e=>{r[i]&&r[i](new Ug(l,n,t,e))},error:r[i+1],complete:r[i+2]},jg(e._query)}return function(e,t,r,n){const a=new vm(n),i=new Fp(t,a,r);return e.asyncQueue.enqueueAndForget(async()=>Op(await Em(e),i)),()=>{a.Nu(),e.asyncQueue.enqueueAndForget(async()=>Ip(await Em(e),i))}}(Hm(l),c,o,s)}function Wg(e,t){return function(e,t){const r=new js;return e.asyncQueue.enqueueAndForget(async()=>async function(e,t,r){const n=pm(e);try{const e=await function(e,t){const r=xs(e),n=rl.now(),a=t.reduce((e,t)=>e.add(t.key),Ku());let i,o;return r.persistence.runTransaction("Locally write mutations","readwrite",e=>{let s=Lu(),l=Ku();return r.Ns.getEntries(e,a).next(e=>{s=e,s.forEach((e,t)=>{t.isValidDocument()||(l=l.add(e))})}).next(()=>r.localDocuments.getOverlayedDocuments(e,s)).next(a=>{i=a;const o=[];for(const e of t){const t=vd(e,i.get(e.key).overlayedDocument);null!=t&&o.push(new wd(e.key,t,$c(t.value.mapValue),hd.exists(!0)))}return r.mutationQueue.addMutationBatch(e,n,o,t)}).next(t=>{o=t;const n=t.applyToLocalDocumentSet(i,l);return r.documentOverlayCache.saveOverlays(e,t.batchId,n)})}).then(()=>({batchId:o.batchId,changes:Uu(i)}))}(n.localStore,t);n.sharedClientState.addPendingMutation(e.batchId),function(e,t,r){let n=e.Vu[e.currentUser.toKey()];n||(n=new Xl(Ds)),n=n.insert(t,r),e.Vu[e.currentUser.toKey()]=n}(n,e.batchId,r),await um(n,e.changes),await up(n.remoteStore)}catch(e){const t=Sp(e,"Failed to persist write");r.reject(t)}}(await Nm(e),t,r)),r.promise}(Hm(e),t)}function Gg(e,t,r){const n=r.docs.get(t._key),a=new Bg(e);return new Fg(e,a,t._key,n,new Lg(r.hasPendingWrites,r.fromCache),t.converter)}class Yg{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=ag(e)}set(e,t,r){this._verifyNotCommitted();const n=Qg(e,this._firestore),a=Rg(n.converter,t,r),i=ig(this._dataReader,"WriteBatch.set",n._key,a,null!==n.converter,r);return this._mutations.push(i.toMutation(n._key,hd.none())),this}update(e,t,r){this._verifyNotCommitted();const n=Qg(e,this._firestore);let a;for(var i=arguments.length,o=new Array(i>3?i-3:0),s=3;s<i;s++)o[s-3]=arguments[s];return a="string"==typeof(t=Bt(t))||t instanceof Gm?cg(this._dataReader,"WriteBatch.update",n._key,t,r,o):lg(this._dataReader,"WriteBatch.update",n._key,t),this._mutations.push(a.toMutation(n._key,hd.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Qg(e,this._firestore);return this._mutations=this._mutations.concat(new Nd(t._key,hd.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ks(ws.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Qg(e,t){if((e=Bt(e)).firestore!==t)throw new ks(ws.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}function Xg(e){return new sg("increment",e)}function Jg(e){return Hm(e=Xs(e,qm)),new Yg(e,t=>Wg(e,t))}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){us=e}(nn),Jr(new $t("firestore",(e,r)=>{let{instanceIdentifier:n,options:a}=r;const i=e.getProvider("app").getImmediate(),o=new qm(new _s(e.getProvider("auth-internal")),new Os(i,e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new ks(ws.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new vc(e.options.projectId,t)}(i,n),i);return a={useFetchStreams:t,...a},o._setSettings(a),o},"PUBLIC").setMultipleInstances(!0)),sn(ss,ls,e),sn(ss,ls,"esm2020")}();const Zg=an({apiKey:"AIzaSyARjanzH8bylb2FsQdz60yI2hs8ud-yqwc",authDomain:"budget-backend-09.firebaseapp.com",projectId:"budget-backend-09",storageBucket:"budget-backend-09.firebasestorage.app",messagingSenderId:"499758129287",appId:"1:499758129287:web:d8764dc451a1e1c6941822",measurementId:"G-HBS9QEKQZ8"}),ey=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:on();const t=Zr(e,"auth");if(t.isInitialized())return t.getImmediate();const r=function(e,t){const r=Zr(e,"auth");if(r.isInitialized()){const e=r.getImmediate();if(Mt(r.getOptions(),t??{}))return e;jn(e,"already-initialized")}return r.initialize({options:t})}(e,{popupRedirectResolver:Uo,persistence:[Yi,Ci,Di]}),n=wt("authTokenSyncURL");if(n&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(n,location.origin);if(location.origin===e.origin){const t=(a=e.toString(),async e=>{const t=e&&await e.getIdTokenResult(),r=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>qo)return;const n=t?.token;Ho!==n&&(Ho=n,await fetch(a,{method:n?"POST":"DELETE",headers:n?{Authorization:`Bearer ${n}`}:{}}))});!function(e,t,r){Bt(e).beforeAuthStateChanged(t,r)}(r,t,()=>t(r.currentUser)),function(e,t,r,n){Bt(e).onIdTokenChanged(t,r,n)}(r,e=>t(e))}}var a;const i=bt("auth");return i&&Ha(r,`http://${i}`),r}(Zg),ty=new ui,ry=function(e,t){const r="object"==typeof e?e:on(),n="string"==typeof e?e:t||yc,a=Zr(r,"firestore").getImmediate({identifier:n});if(!a._initialized){const e=(e=>{const t=bt(e);if(!t)return;const r=t.lastIndexOf(":");if(r<=0||r+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const n=parseInt(t.substring(r+1),10);return"["===t[0]?[t.substring(1,r-1),n]:[t.substring(0,r),n]})("firestore");e&&Dm(a,...e)}return a}(Zg);var ny=r(579);const ay=(0,t.createContext)();function iy(){return(0,t.useContext)(ay)}function oy(e){let{children:r}=e;const[n,a]=(0,t.useState)(null),[i,o]=(0,t.useState)(!0);(0,t.useEffect)(()=>{const e=function(e,t,r,n){return Bt(e).onAuthStateChanged(t,r,n)}(ey,e=>{a(e),o(!1)});return e},[]);const s={currentUser:n,loginWithGoogle:async()=>{try{const e=await async function(e,t,r){if(en(e.app))return Promise.reject(Sn(e,"operation-not-supported-in-this-environment"));const n=Pa(e);_n(e,t,si);const a=to(n,r);return new lo(n,"signInViaPopup",t,a).executeNotNull()}(ey,ty);return e.user}catch(e){throw console.error("Google login error:",e),e}},signUpWithEmail:async(e,t,r)=>{try{const n=await async function(e,t,r){if(en(e.app))return Promise.reject(En(e));const n=Pa(e),a=$a(n,{returnSecureToken:!0,email:t,password:r,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",fi,"EMAIL_PASSWORD_PROVIDER"),i=await a.catch(t=>{throw"auth/password-does-not-meet-requirements"===t.code&&ji(e),t}),o=await pi._fromIdTokenResponse(n,"signIn",i);return await n._updateCurrentUser(o.user),o}(ey,t,r);return await Si(n.user,{displayName:e}),n.user}catch(n){throw console.error("Email signup error:",n),n}},loginWithEmail:async(e,t)=>{try{const r=await function(e,t,r){return en(e.app)?Promise.reject(En(e)):wi(Bt(e),oi.credential(t,r)).catch(async t=>{throw"auth/password-does-not-meet-requirements"===t.code&&ji(e),t})}(ey,e,t);return r.user}catch(r){throw console.error("Email login error:",r),r}},logout:async()=>{try{await function(e){return Bt(e).signOut()}(ey)}catch(e){throw console.error("Logout error:",e),e}},loading:i};return(0,ny.jsx)(ay.Provider,{value:s,children:r})}const sy=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ly=e=>{const t=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()))(e);return t.charAt(0).toUpperCase()+t.slice(1)},cy=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>Boolean(e)&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()},uy=e=>{for(const t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};var dy={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const hy=(0,t.forwardRef)((e,r)=>{let{color:n="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:s="",children:l,iconNode:c,...u}=e;return(0,t.createElement)("svg",{ref:r,...dy,width:a,height:a,stroke:n,strokeWidth:o?24*Number(i)/Number(a):i,className:cy("lucide",s),...!l&&!uy(u)&&{"aria-hidden":"true"},...u},[...c.map(e=>{let[r,n]=e;return(0,t.createElement)(r,n)}),...Array.isArray(l)?l:[l]])}),fy=(e,r)=>{const n=(0,t.forwardRef)((n,a)=>{let{className:i,...o}=n;return(0,t.createElement)(hy,{ref:a,iconNode:r,className:cy(`lucide-${sy(ly(e))}`,`lucide-${e}`,i),...o})});return n.displayName=ly(e),n},py=fy("credit-card",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),my=fy("chart-pie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]),gy=fy("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]),yy=fy("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),vy=fy("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]]),by=fy("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),xy=fy("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),wy=fy("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),ky=fy("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),jy=fy("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Sy=fy("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]),Ny=fy("globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]),Ey=fy("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]),_y=e=>{let{size:t="md",className:r=""}=e;const n="/pesa/logo.png";return(0,ny.jsx)("img",{src:n,alt:"Pesa Logo",className:`${{sm:"w-5 h-5",md:"w-8 h-8",lg:"w-10 h-10",xl:"w-12 h-12"}[t]} ${r}`,style:{objectFit:"contain"},onError:e=>{console.error("Logo failed to load from:",n),e.target.style.display="none"}})};const Ay=function(){const e=re(),{loginWithGoogle:r,signUpWithEmail:n,loginWithEmail:a}=iy(),[i,o]=(0,t.useState)(!1),[s,l]=(0,t.useState)(!1),[c,u]=(0,t.useState)(!1),[d,h]=(0,t.useState)(!1),[f,p]=(0,t.useState)(""),[m,g]=(0,t.useState)({name:"",email:"",password:"",confirmPassword:""}),[y,v]=(0,t.useState)({}),[b,x]=(0,t.useState)(""),w=async t=>{if(t&&t.preventDefault(),(()=>{const e={};return i&&!m.name.trim()?e.name="Name is required":i&&m.name.trim().length<2&&(e.name="Name must be at least 2 characters"),m.email.trim()?/\S+@\S+\.\S+/.test(m.email)||(e.email="Please enter a valid email"):e.email="Email is required",m.password?m.password.length<6&&(e.password="Password must be at least 6 characters"):e.password="Password is required",i&&m.password!==m.confirmPassword&&(e.confirmPassword="Passwords do not match"),v(e),0===Object.keys(e).length})())try{u(!0),v({}),x(""),i?(await n(m.name,m.email,m.password),x("Account created successfully! Welcome to Pesa!")):(await a(m.email,m.password),x("Welcome back! Redirecting to your dashboard...")),setTimeout(()=>{e("/")},1500)}catch(r){console.error("Authentication error:",r);let e="An error occurred. Please try again.";switch(r.code){case"auth/user-not-found":e="No account found with this email address.";break;case"auth/wrong-password":e="Incorrect password. Please try again.";break;case"auth/email-already-in-use":e="An account with this email already exists.";break;case"auth/weak-password":e="Password should be at least 6 characters long.";break;case"auth/invalid-email":e="Please enter a valid email address.";break;case"auth/too-many-requests":e="Too many failed attempts. Please try again later.";break;case"auth/network-request-failed":e="Network error. Please check your connection.";break;default:e=r.message||"Authentication failed. Please try again."}v({submit:e})}finally{u(!1)}},k=async()=>{if(f.trim())if(/\S+@\S+\.\S+/.test(f))try{u(!0),v({}),await async function(e,t,r){const n=Pa(e),a={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};r&&ki(n,a,r),await $a(n,a,"getOobCode",Ja,"EMAIL_PASSWORD_PROVIDER")}(ey,f),x("Password reset email sent! Check your inbox."),h(!1),p("")}catch(e){console.error("Password reset error:",e);let t="Failed to send reset email. Please try again.";switch(e.code){case"auth/user-not-found":t="No account found with this email address.";break;case"auth/invalid-email":t="Please enter a valid email address.";break;case"auth/too-many-requests":t="Too many requests. Please try again later.";break;default:t=e.message||"Failed to send reset email."}v({submit:t})}finally{u(!1)}else v({submit:"Please enter a valid email address"});else v({submit:"Please enter your email address"})},j=e=>{"Enter"!==e.key||c||(d?k():w())};return(0,ny.jsxs)("div",{className:"h-screen bg-gradient-to-br from-orange-50 via-white to-orange-100 flex overflow-hidden",children:[(0,ny.jsxs)("div",{className:"hidden lg:flex lg:w-1/2 bg-gradient-to-br from-emerald-900 via-teal-900 to-cyan-900 p-8 flex-col justify-between relative overflow-hidden",children:[(0,ny.jsxs)("div",{className:"absolute inset-0 opacity-30",children:[(0,ny.jsx)("div",{className:"absolute top-16 left-16 w-48 h-48 bg-cyan-500 rounded-full blur-3xl animate-pulse"}),(0,ny.jsx)("div",{className:"absolute bottom-24 right-12 w-64 h-64 bg-emerald-400 rounded-full blur-3xl animate-pulse delay-1000"}),(0,ny.jsx)("div",{className:"absolute top-1/2 left-1/3 w-24 h-24 bg-teal-400 rounded-full blur-2xl animate-pulse delay-500"})]}),(0,ny.jsxs)("div",{className:"relative z-10",children:[(0,ny.jsxs)("div",{className:"flex items-center space-x-3 mb-12",children:[(0,ny.jsx)("div",{className:"w-12 h-12 bg-transparent rounded-2xl flex items-center justify-center",children:(0,ny.jsx)(_y,{size:"md",className:""})}),(0,ny.jsx)("span",{className:"text-3xl font-bold text-white",children:"Pesa"})]}),(0,ny.jsxs)("div",{className:"max-w-md",children:[(0,ny.jsxs)("h1",{className:"text-4xl font-bold text-white mb-6 leading-tight",children:["Smart Money,",(0,ny.jsx)("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-orange-400 to-pink-400",children:" Smarter You"})]}),(0,ny.jsx)("p",{className:"text-lg text-gray-300 mb-8 leading-relaxed",children:"Experience the future of personal finance with intelligent tracking, insights, and growth."}),(0,ny.jsxs)("div",{className:"space-y-4",children:[(0,ny.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ny.jsx)("div",{className:"w-8 h-8 bg-gradient-to-r from-green-400 to-emerald-500 rounded-lg flex items-center justify-center",children:(0,ny.jsx)(py,{className:"w-4 h-4 text-white"})}),(0,ny.jsx)("span",{className:"text-white font-medium",children:"Multi-currency accounts (INR & USD)"})]}),(0,ny.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ny.jsx)("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-400 to-cyan-500 rounded-lg flex items-center justify-center",children:(0,ny.jsx)(my,{className:"w-4 h-4 text-white"})}),(0,ny.jsx)("span",{className:"text-white font-medium",children:"Transaction tracking & analytics"})]}),(0,ny.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ny.jsx)("div",{className:"w-8 h-8 bg-gradient-to-r from-purple-400 to-violet-500 rounded-lg flex items-center justify-center",children:(0,ny.jsx)(gy,{className:"w-4 h-4 text-white"})}),(0,ny.jsx)("span",{className:"text-white font-medium",children:"Net worth monitoring"})]})]})]})]}),(0,ny.jsx)("div",{className:"relative z-10",children:(0,ny.jsxs)("div",{className:"text-left",children:[(0,ny.jsx)("p",{className:"text-gray-400 text-sm mb-2",children:"\xa9 2025 Pesa. All rights reserved."}),(0,ny.jsx)("p",{className:"text-gray-500 text-xs",children:"Made with \u2764\ufe0f by @thedev09"})]})})]}),(0,ny.jsx)("div",{className:"w-full lg:w-1/2 flex items-center justify-center p-6",children:(0,ny.jsxs)("div",{className:"w-full max-w-sm",children:[(0,ny.jsxs)("div",{className:"lg:hidden flex items-center justify-center space-x-3 mb-6",children:[(0,ny.jsx)("div",{className:"w-10 h-10 bg-transparent rounded-xl flex items-center justify-center",children:(0,ny.jsx)(_y,{size:"md",className:""})}),(0,ny.jsx)("span",{className:"text-2xl font-bold text-gray-900",children:"Pesa"})]}),(0,ny.jsxs)("div",{className:"text-center mb-6",children:[(0,ny.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-1",children:d?"Reset Password":i?"Create Account":"Welcome Back"}),(0,ny.jsx)("p",{className:"text-gray-600 text-sm",children:d?"Enter your email to receive reset instructions":i?"Start your financial journey today":"Sign in to access your dashboard"})]}),b&&(0,ny.jsx)("div",{className:"mb-4 p-3 bg-green-50 border border-green-200 rounded-lg",children:(0,ny.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ny.jsx)(yy,{className:"w-4 h-4 text-green-600"}),(0,ny.jsx)("p",{className:"text-green-700 text-sm font-medium",children:b})]})}),y.submit&&(0,ny.jsx)("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg text-red-700 text-sm",children:y.submit}),d?(0,ny.jsxs)("div",{className:"space-y-4",children:[(0,ny.jsxs)("div",{children:[(0,ny.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),(0,ny.jsxs)("div",{className:"relative",children:[(0,ny.jsx)(vy,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,ny.jsx)("input",{type:"email",value:f,onChange:e=>p(e.target.value),onKeyPress:j,placeholder:"Enter your email",className:"w-full pl-10 pr-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all duration-300"})]})]}),(0,ny.jsx)("button",{onClick:k,disabled:c,className:"w-full bg-gradient-to-r from-orange-500 to-orange-600 text-white py-3 px-6 rounded-xl font-semibold shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",children:c?(0,ny.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,ny.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),(0,ny.jsx)("span",{children:"Sending..."})]}):"Send Reset Email"}),(0,ny.jsx)("button",{onClick:()=>{h(!1),p(""),v({})},className:"w-full text-gray-600 hover:text-gray-800 py-2 text-sm transition-colors duration-300",children:"\u2190 Back to Sign In"})]}):(0,ny.jsxs)(ny.Fragment,{children:[(0,ny.jsx)("button",{onClick:async()=>{try{u(!0),v({}),x(""),await r(),x("Successfully signed in with Google! Redirecting..."),setTimeout(()=>{e("/")},1500)}catch(t){console.error("Google authentication error:",t);let e="Google sign-in failed. Please try again.";switch(t.code){case"auth/popup-closed-by-user":e="Sign-in was cancelled. Please try again.";break;case"auth/popup-blocked":e="Pop-up was blocked. Please allow pop-ups and try again.";break;case"auth/account-exists-with-different-credential":e="An account already exists with the same email but different sign-in method.";break;case"auth/network-request-failed":e="Network error. Please check your connection.";break;default:e=t.message||"Google sign-in failed. Please try again."}v({submit:e})}finally{u(!1)}},disabled:c,className:"w-full flex items-center justify-center gap-3 bg-white border-2 border-gray-200 rounded-xl px-4 py-3 text-gray-700 font-medium hover:bg-gray-50 hover:border-gray-300 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm hover:shadow-md group",children:c?(0,ny.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-gray-700"}):(0,ny.jsxs)(ny.Fragment,{children:[(0,ny.jsxs)("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",children:[(0,ny.jsx)("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),(0,ny.jsx)("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),(0,ny.jsx)("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),(0,ny.jsx)("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),(0,ny.jsx)("span",{children:"Continue with Google"}),(0,ny.jsx)(by,{className:"w-3 h-3 group-hover:translate-x-1 transition-transform duration-300"})]})}),(0,ny.jsxs)("div",{className:"my-6 flex items-center",children:[(0,ny.jsx)("div",{className:"flex-1 border-t border-gray-200"}),(0,ny.jsx)("span",{className:"px-3 text-xs text-gray-500 bg-white",children:"or continue with email"}),(0,ny.jsx)("div",{className:"flex-1 border-t border-gray-200"})]}),(0,ny.jsxs)("div",{className:"space-y-4",onKeyPress:j,children:[i&&(0,ny.jsxs)("div",{children:[(0,ny.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),(0,ny.jsxs)("div",{className:"relative",children:[(0,ny.jsx)(xy,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,ny.jsx)("input",{type:"text",value:m.name,onChange:e=>g({...m,name:e.target.value}),placeholder:"Enter your full name",className:"w-full pl-10 pr-4 py-3 border-2 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all duration-300 "+(y.name?"border-red-300":"border-gray-200")})]}),y.name&&(0,ny.jsx)("p",{className:"mt-1 text-xs text-red-600",children:y.name})]}),(0,ny.jsxs)("div",{children:[(0,ny.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),(0,ny.jsxs)("div",{className:"relative",children:[(0,ny.jsx)(vy,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,ny.jsx)("input",{type:"email",value:m.email,onChange:e=>g({...m,email:e.target.value}),placeholder:"Enter your email",className:"w-full pl-10 pr-4 py-3 border-2 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all duration-300 "+(y.email?"border-red-300":"border-gray-200")})]}),y.email&&(0,ny.jsx)("p",{className:"mt-1 text-xs text-red-600",children:y.email})]}),(0,ny.jsxs)("div",{children:[(0,ny.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),(0,ny.jsxs)("div",{className:"relative",children:[(0,ny.jsx)(wy,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,ny.jsx)("input",{type:s?"text":"password",value:m.password,onChange:e=>g({...m,password:e.target.value}),placeholder:"Enter your password",className:"w-full pl-10 pr-10 py-3 border-2 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all duration-300 "+(y.password?"border-red-300":"border-gray-200")}),(0,ny.jsx)("button",{type:"button",onClick:()=>l(!s),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors duration-300",children:s?(0,ny.jsx)(ky,{className:"w-4 h-4"}):(0,ny.jsx)(jy,{className:"w-4 h-4"})})]}),y.password&&(0,ny.jsx)("p",{className:"mt-1 text-xs text-red-600",children:y.password})]}),i&&(0,ny.jsxs)("div",{children:[(0,ny.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm Password"}),(0,ny.jsxs)("div",{className:"relative",children:[(0,ny.jsx)(wy,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,ny.jsx)("input",{type:s?"text":"password",value:m.confirmPassword,onChange:e=>g({...m,confirmPassword:e.target.value}),placeholder:"Confirm your password",className:"w-full pl-10 pr-4 py-3 border-2 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all duration-300 "+(y.confirmPassword?"border-red-300":"border-gray-200")})]}),y.confirmPassword&&(0,ny.jsx)("p",{className:"mt-1 text-xs text-red-600",children:y.confirmPassword})]}),!i&&(0,ny.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ny.jsxs)("label",{className:"flex items-center",children:[(0,ny.jsx)("input",{type:"checkbox",className:"w-3 h-3 text-orange-600 bg-gray-100 border-gray-300 rounded focus:ring-orange-500 focus:ring-2"}),(0,ny.jsx)("span",{className:"ml-2 text-xs text-gray-600",children:"Remember me"})]}),(0,ny.jsx)("button",{type:"button",className:"text-xs text-orange-600 hover:text-orange-500 font-medium transition-colors duration-300",onClick:()=>h(!0),children:"Forgot password?"})]}),(0,ny.jsx)("button",{onClick:w,disabled:c,className:"w-full bg-gradient-to-r from-orange-500 to-orange-600 text-white py-3 px-6 rounded-xl font-semibold shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none group",children:c?(0,ny.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,ny.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),(0,ny.jsx)("span",{children:i?"Creating Account...":"Signing In..."})]}):(0,ny.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,ny.jsx)("span",{children:i?"Create Account":"Sign In"}),(0,ny.jsx)(by,{className:"w-4 h-4 group-hover:translate-x-1 transition-transform duration-300"})]})})]}),(0,ny.jsx)("div",{className:"mt-6 text-center",children:(0,ny.jsxs)("p",{className:"text-gray-600 text-sm",children:[i?"Already have an account?":"Don't have an account?"," ",(0,ny.jsx)("button",{onClick:()=>{o(!i),g({name:"",email:"",password:"",confirmPassword:""}),v({}),x("")},className:"text-orange-600 hover:text-orange-500 font-semibold transition-colors duration-300",children:i?"Sign In":"Sign Up"})]})}),(0,ny.jsxs)("div",{className:"mt-6 flex items-center justify-center space-x-4 text-xs text-gray-500",children:[(0,ny.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,ny.jsx)(Sy,{className:"w-3 h-3"}),(0,ny.jsx)("span",{children:"Secure"})]}),(0,ny.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,ny.jsx)(Ny,{className:"w-3 h-3"}),(0,ny.jsx)("span",{children:"Trusted"})]}),(0,ny.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,ny.jsx)(Ey,{className:"w-3 h-3"}),(0,ny.jsx)("span",{children:"Reliable"})]})]}),(0,ny.jsx)("div",{className:"mt-4 text-center text-xs text-gray-500",children:(0,ny.jsxs)("p",{children:["By continuing, you agree to Pesa's"," ",(0,ny.jsx)("button",{className:"text-orange-600 hover:underline",onClick:()=>{window.open("/terms","_blank")},children:"Terms"})," and ",(0,ny.jsx)("button",{className:"text-orange-600 hover:underline",onClick:()=>{window.open("/privacy","_blank")},children:"Privacy Policy"})]})})]})]})})]})},Cy=fy("house",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]),Ty=fy("wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]),Oy=fy("chart-no-axes-column-increasing",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]),Iy=fy("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),Py=fy("settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Dy=fy("sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),My=fy("moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]),Ry=fy("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),Ly=fy("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]]);const Fy=function(e){let{theme:r,toggleTheme:n}=e;const{currentUser:a,logout:i}=iy(),o=re(),[s,l]=t.useState(!1),c=[{id:"overview",path:"/",label:"Overview",icon:Cy},{id:"accounts",path:"/accounts",label:"Accounts",icon:Ty},{id:"transactions",path:"/transactions",label:"Transactions",icon:py},{id:"analytics",path:"/analytics",label:"Analytics",icon:Oy},{id:"subscriptions",path:"/subscriptions",label:"Subscriptions",icon:Iy},{id:"settings",path:"/settings",label:"Settings",icon:Py}],u=()=>null!==a&&void 0!==a&&a.displayName?a.displayName:"User";return t.useEffect(()=>{const e=e=>{s&&l(!1)};return document.addEventListener("click",e),()=>document.removeEventListener("click",e)},[s]),(0,ny.jsx)("nav",{className:"bg-white dark:bg-gray-900/95 backdrop-blur border-b border-gray-200 dark:border-gray-800 sticky top-0 z-50",children:(0,ny.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,ny.jsxs)("div",{className:"flex justify-between items-center h-16",children:[(0,ny.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ny.jsx)("div",{className:"w-8 h-8 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg flex items-center justify-center shadow-sm",children:(0,ny.jsx)(_y,{size:"sm",className:""})}),(0,ny.jsx)("span",{className:"text-xl font-semibold dark:text-white",children:"Pesa"})]}),(0,ny.jsx)("div",{className:"hidden md:flex absolute left-1/2 transform -translate-x-1/2",children:(0,ny.jsx)("div",{className:"flex space-x-1",children:c.map(e=>(0,ny.jsx)(it,{to:e.path,className:e=>{let{isActive:t}=e;return"px-4 py-2 rounded-lg text-sm font-medium transition-colors "+(t?"bg-orange-100 dark:bg-orange-500/20 text-orange-700 dark:text-orange-300":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-gray-800")},children:(0,ny.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ny.jsx)(e.icon,{className:"w-4 h-4"}),(0,ny.jsx)("span",{children:e.label})]})},e.id))})}),(0,ny.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ny.jsx)("button",{onClick:n,className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",children:"dark"===r?(0,ny.jsx)(Dy,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"}):(0,ny.jsx)(My,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})}),(0,ny.jsxs)("div",{className:"relative",children:[(0,ny.jsxs)("button",{onClick:e=>{e.stopPropagation(),l(!s)},className:"flex items-center space-x-2 p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",children:[(0,ny.jsx)("div",{className:"w-8 h-8 bg-orange-500 rounded-full flex items-center justify-center",children:(0,ny.jsx)("span",{className:"text-white text-sm font-medium",children:u().charAt(0).toUpperCase()})}),(0,ny.jsx)(Ry,{className:"w-4 h-4 text-gray-600 dark:text-gray-400"})]}),s&&(0,ny.jsxs)("div",{className:"absolute right-0 mt-2 w-48 bg-white dark:bg-gray-800 rounded-lg shadow-lg dark:shadow-2xl border border-gray-200 dark:border-gray-700 py-1 z-50",children:[(0,ny.jsxs)("div",{className:"px-4 py-2 border-b border-gray-200 dark:border-gray-700",children:[(0,ny.jsx)("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:u()}),(0,ny.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:null===a||void 0===a?void 0:a.email})]}),(0,ny.jsxs)("button",{onClick:async()=>{try{await i(),o("/login")}catch(e){console.error("Logout error:",e)}},className:"w-full text-left px-4 py-2 text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-500/10 flex items-center space-x-2",children:[(0,ny.jsx)(Ly,{className:"w-4 h-4"}),(0,ny.jsx)("span",{children:"Sign out"})]})]})]})]})]})})})},zy=fy("arrow-down-right",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]),Uy=fy("arrow-up-right",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]),Vy=fy("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]),By=fy("bitcoin",[["path",{d:"M11.767 19.089c4.924.868 6.14-6.025 1.216-6.894m-1.216 6.894L5.86 18.047m5.908 1.042-.347 1.97m1.563-8.864c4.924.869 6.14-6.025 1.215-6.893m-1.215 6.893-3.94-.694m5.155-6.2L8.29 4.26m5.908 1.042.348-1.97M7.48 20.364l3.126-17.727",key:"yr8idg"}]]),$y=fy("building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]),qy=fy("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),Hy=fy("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),Ky=fy("trending-down",[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]]),Wy=fy("ellipsis-vertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]),Gy=fy("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]),Yy=fy("trash-2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),Qy=fy("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Xy=fy("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),Jy=fy("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);function Zy(e){var t,r,n="";if("string"==typeof e||"number"==typeof e)n+=e;else if("object"==typeof e)if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=Zy(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function ev(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=Zy(e))&&(n&&(n+=" "),n+=t);return n}var tv=r(7820),rv=r.n(tv),nv=r(7770),av=r.n(nv),iv=e=>0===e?0:e>0?1:-1,ov=e=>"number"==typeof e&&e!=+e,sv=e=>"string"===typeof e&&e.indexOf("%")===e.length-1,lv=e=>("number"===typeof e||e instanceof Number)&&!ov(e),cv=e=>lv(e)||"string"===typeof e,uv=0,dv=e=>{var t=++uv;return"".concat(e||"").concat(t)},hv=function(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!lv(e)&&"string"!==typeof e)return n;if(sv(e)){if(null==t)return n;var i=e.indexOf("%");r=t*parseFloat(e.slice(0,i))/100}else r=+e;return ov(r)&&(r=n),a&&null!=t&&r>t&&(r=t),r},fv=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++){if(r[e[n]])return!0;r[e[n]]=!0}return!1},pv=(e,t)=>lv(e)&&lv(t)?r=>e+r*(t-e):()=>t;function mv(e,t,r){return lv(e)&&lv(t)?e+r*(t-e):t}function gv(e,t,r){if(e&&e.length)return e.find(e=>e&&("function"===typeof t?t(e):av()(e,t))===r)}var yv=e=>null===e||"undefined"===typeof e,vv=e=>yv(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),bv=function(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),a=2;a<r;a++)n[a-2]=arguments[a]};function xv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function wv(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?xv(Object(r),!0).forEach(function(t){kv(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xv(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function kv(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var jv=(0,t.forwardRef)((e,r)=>{var{aspect:n,initialDimension:a={width:-1,height:-1},width:i="100%",height:o="100%",minWidth:s=0,minHeight:l,maxHeight:c,children:u,debounce:d=0,id:h,className:f,onResize:p,style:m={}}=e,g=(0,t.useRef)(null),y=(0,t.useRef)();y.current=p,(0,t.useImperativeHandle)(r,()=>g.current);var[v,b]=(0,t.useState)({containerWidth:a.width,containerHeight:a.height}),x=(0,t.useCallback)((e,t)=>{b(r=>{var n=Math.round(e),a=Math.round(t);return r.containerWidth===n&&r.containerHeight===a?r:{containerWidth:n,containerHeight:a}})},[]);(0,t.useEffect)(()=>{var e=e=>{var t,{width:r,height:n}=e[0].contentRect;x(r,n),null===(t=y.current)||void 0===t||t.call(y,r,n)};d>0&&(e=rv()(e,d,{trailing:!0,leading:!1}));var t=new ResizeObserver(e),{width:r,height:n}=g.current.getBoundingClientRect();return x(r,n),t.observe(g.current),()=>{t.disconnect()}},[x,d]);var w=(0,t.useMemo)(()=>{var{containerWidth:e,containerHeight:r}=v;if(e<0||r<0)return null;bv(sv(i)||sv(o),"The width(%s) and height(%s) are both fixed numbers,\n       maybe you don't need to use a ResponsiveContainer.",i,o),bv(!n||n>0,"The aspect(%s) must be greater than zero.",n);var a=sv(i)?e:i,d=sv(o)?r:o;return n&&n>0&&(a?d=a/n:d&&(a=d*n),c&&d>c&&(d=c)),bv(a>0||d>0,"The width(%s) and height(%s) of chart should be greater than 0,\n       please check the style of container, or the props width(%s) and height(%s),\n       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the\n       height and width.",a,d,i,o,s,l,n),t.Children.map(u,e=>(0,t.cloneElement)(e,{width:a,height:d,style:wv({width:a,height:d},e.props.style)}))},[n,u,o,c,l,s,v,i]);return t.createElement("div",{id:h?"".concat(h):void 0,className:ev("recharts-responsive-container",f),style:wv(wv({},m),{},{width:i,height:o,minWidth:s,minHeight:l,maxHeight:c}),ref:g},t.createElement("div",{style:{width:0,height:0,overflow:"visible"}},w))});function Sv(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Nv=(()=>"function"===typeof Symbol&&Symbol.observable||"@@observable")(),Ev=()=>Math.random().toString(36).substring(7).split("").join("."),_v={INIT:`@@redux/INIT${Ev()}`,REPLACE:`@@redux/REPLACE${Ev()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Ev()}`};function Av(e){if("object"!==typeof e||null===e)return!1;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||null===Object.getPrototypeOf(e)}function Cv(e,t,r){if("function"!==typeof e)throw new Error(Sv(2));if("function"===typeof t&&"function"===typeof r||"function"===typeof r&&"function"===typeof arguments[3])throw new Error(Sv(0));if("function"===typeof t&&"undefined"===typeof r&&(r=t,t=void 0),"undefined"!==typeof r){if("function"!==typeof r)throw new Error(Sv(1));return r(Cv)(e,t)}let n=e,a=t,i=new Map,o=i,s=0,l=!1;function c(){o===i&&(o=new Map,i.forEach((e,t)=>{o.set(t,e)}))}function u(){if(l)throw new Error(Sv(3));return a}function d(e){if("function"!==typeof e)throw new Error(Sv(4));if(l)throw new Error(Sv(5));let t=!0;c();const r=s++;return o.set(r,e),function(){if(t){if(l)throw new Error(Sv(6));t=!1,c(),o.delete(r),i=null}}}function h(e){if(!Av(e))throw new Error(Sv(7));if("undefined"===typeof e.type)throw new Error(Sv(8));if("string"!==typeof e.type)throw new Error(Sv(17));if(l)throw new Error(Sv(9));try{l=!0,a=n(a,e)}finally{l=!1}return(i=o).forEach(e=>{e()}),e}h({type:_v.INIT});return{dispatch:h,subscribe:d,getState:u,replaceReducer:function(e){if("function"!==typeof e)throw new Error(Sv(10));n=e,h({type:_v.REPLACE})},[Nv]:function(){const e=d;return{subscribe(t){if("object"!==typeof t||null===t)throw new Error(Sv(11));function r(){const e=t;e.next&&e.next(u())}r();return{unsubscribe:e(r)}},[Nv](){return this}}}}}function Tv(e){const t=Object.keys(e),r={};for(let i=0;i<t.length;i++){const n=t[i];0,"function"===typeof e[n]&&(r[n]=e[n])}const n=Object.keys(r);let a;try{!function(e){Object.keys(e).forEach(t=>{const r=e[t];if("undefined"===typeof r(void 0,{type:_v.INIT}))throw new Error(Sv(12));if("undefined"===typeof r(void 0,{type:_v.PROBE_UNKNOWN_ACTION()}))throw new Error(Sv(13))})}(r)}catch(pH){a=pH}return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(a)throw a;let i=!1;const o={};for(let a=0;a<n.length;a++){const s=n[a],l=r[s],c=e[s],u=l(c,t);if("undefined"===typeof u){t&&t.type;throw new Error(Sv(14))}o[s]=u,i=i||u!==c}return i=i||n.length!==Object.keys(e).length,i?o:e}}function Ov(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return 0===t.length?e=>e:1===t.length?t[0]:t.reduce((e,t)=>function(){return e(t(...arguments))})}function Iv(e){return Av(e)&&"type"in e&&"string"===typeof e.type}function Pv(e){return t=>{let{dispatch:r,getState:n}=t;return t=>a=>"function"===typeof a?a(r,n,e):t(a)}}var Dv=Pv(),Mv=Pv,Rv=Symbol.for("immer-nothing"),Lv=Symbol.for("immer-draftable"),Fv=Symbol.for("immer-state");function zv(e){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Uv=Object.getPrototypeOf;function Vv(e){return!!e&&!!e[Fv]}function Bv(e){return!!e&&(qv(e)||Array.isArray(e)||!!e[Lv]||!!e.constructor?.[Lv]||Yv(e)||Qv(e))}var $v=Object.prototype.constructor.toString();function qv(e){if(!e||"object"!==typeof e)return!1;const t=Uv(e);if(null===t)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object||"function"==typeof r&&Function.toString.call(r)===$v}function Hv(e,t){0===Kv(e)?Reflect.ownKeys(e).forEach(r=>{t(r,e[r],e)}):e.forEach((r,n)=>t(n,r,e))}function Kv(e){const t=e[Fv];return t?t.type_:Array.isArray(e)?1:Yv(e)?2:Qv(e)?3:0}function Wv(e,t){return 2===Kv(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Gv(e,t,r){const n=Kv(e);2===n?e.set(t,r):3===n?e.add(r):e[t]=r}function Yv(e){return e instanceof Map}function Qv(e){return e instanceof Set}function Xv(e){return e.copy_||e.base_}function Jv(e,t){if(Yv(e))return new Map(e);if(Qv(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=qv(e);if(!0===t||"class_only"===t&&!r){const t=Object.getOwnPropertyDescriptors(e);delete t[Fv];let r=Reflect.ownKeys(t);for(let n=0;n<r.length;n++){const a=r[n],i=t[a];!1===i.writable&&(i.writable=!0,i.configurable=!0),(i.get||i.set)&&(t[a]={configurable:!0,writable:!0,enumerable:i.enumerable,value:e[a]})}return Object.create(Uv(e),t)}{const t=Uv(e);if(null!==t&&r)return{...e};const n=Object.create(t);return Object.assign(n,e)}}function Zv(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return tb(e)||Vv(e)||!Bv(e)||(Kv(e)>1&&(e.set=e.add=e.clear=e.delete=eb),Object.freeze(e),t&&Object.entries(e).forEach(e=>{let[t,r]=e;return Zv(r,!0)})),e}function eb(){zv(2)}function tb(e){return Object.isFrozen(e)}var rb,nb={};function ab(e){const t=nb[e];return t||zv(0),t}function ib(){return rb}function ob(e,t){t&&(ab("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function sb(e){lb(e),e.drafts_.forEach(ub),e.drafts_=null}function lb(e){e===rb&&(rb=e.parent_)}function cb(e){return rb={drafts_:[],parent_:rb,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function ub(e){const t=e[Fv];0===t.type_||1===t.type_?t.revoke_():t.revoked_=!0}function db(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return void 0!==e&&e!==r?(r[Fv].modified_&&(sb(t),zv(4)),Bv(e)&&(e=hb(t,e),t.parent_||pb(t,e)),t.patches_&&ab("Patches").generateReplacementPatches_(r[Fv].base_,e,t.patches_,t.inversePatches_)):e=hb(t,r,[]),sb(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==Rv?e:void 0}function hb(e,t,r){if(tb(t))return t;const n=t[Fv];if(!n)return Hv(t,(a,i)=>fb(e,n,t,a,i,r)),t;if(n.scope_!==e)return t;if(!n.modified_)return pb(e,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const t=n.copy_;let a=t,i=!1;3===n.type_&&(a=new Set(t),t.clear(),i=!0),Hv(a,(a,o)=>fb(e,n,t,a,o,r,i)),pb(e,t,!1),r&&e.patches_&&ab("Patches").generatePatches_(n,r,e.patches_,e.inversePatches_)}return n.copy_}function fb(e,t,r,n,a,i,o){if(Vv(a)){const o=hb(e,a,i&&t&&3!==t.type_&&!Wv(t.assigned_,n)?i.concat(n):void 0);if(Gv(r,n,o),!Vv(o))return;e.canAutoFreeze_=!1}else o&&r.add(a);if(Bv(a)&&!tb(a)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;hb(e,a),t&&t.scope_.parent_||"symbol"===typeof n||!Object.prototype.propertyIsEnumerable.call(r,n)||pb(e,a)}}function pb(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Zv(t,r)}var mb={get(e,t){if(t===Fv)return e;const r=Xv(e);if(!Wv(r,t))return function(e,t,r){const n=vb(t,r);return n?"value"in n?n.value:n.get?.call(e.draft_):void 0}(e,r,t);const n=r[t];return e.finalized_||!Bv(n)?n:n===yb(e.base_,t)?(xb(e),e.copy_[t]=wb(n,e)):n},has:(e,t)=>t in Xv(e),ownKeys:e=>Reflect.ownKeys(Xv(e)),set(e,t,r){const n=vb(Xv(e),t);if(n?.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const n=yb(Xv(e),t),a=n?.[Fv];if(a&&a.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(function(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}(r,n)&&(void 0!==r||Wv(e.base_,t)))return!0;xb(e),bb(e)}return e.copy_[t]===r&&(void 0!==r||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty:(e,t)=>(void 0!==yb(e.base_,t)||t in e.base_?(e.assigned_[t]=!1,xb(e),bb(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0),getOwnPropertyDescriptor(e,t){const r=Xv(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n?{writable:!0,configurable:1!==e.type_||"length"!==t,enumerable:n.enumerable,value:r[t]}:n},defineProperty(){zv(11)},getPrototypeOf:e=>Uv(e.base_),setPrototypeOf(){zv(12)}},gb={};function yb(e,t){const r=e[Fv];return(r?Xv(r):e)[t]}function vb(e,t){if(!(t in e))return;let r=Uv(e);for(;r;){const e=Object.getOwnPropertyDescriptor(r,t);if(e)return e;r=Uv(r)}}function bb(e){e.modified_||(e.modified_=!0,e.parent_&&bb(e.parent_))}function xb(e){e.copy_||(e.copy_=Jv(e.base_,e.scope_.immer_.useStrictShallowCopy_))}Hv(mb,(e,t)=>{gb[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),gb.deleteProperty=function(e,t){return gb.set.call(this,e,t,void 0)},gb.set=function(e,t,r){return mb.set.call(this,e[0],t,r,e[0])};function wb(e,t){const r=Yv(e)?ab("MapSet").proxyMap_(e,t):Qv(e)?ab("MapSet").proxySet_(e,t):function(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:ib(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=n,i=mb;r&&(a=[n],i=gb);const{revoke:o,proxy:s}=Proxy.revocable(a,i);return n.draft_=s,n.revoke_=o,s}(e,t);return(t?t.scope_:ib()).drafts_.push(r),r}function kb(e){return Vv(e)||zv(10),jb(e)}function jb(e){if(!Bv(e)||tb(e))return e;const t=e[Fv];let r;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=Jv(e,t.scope_.immer_.useStrictShallowCopy_)}else r=Jv(e,!0);return Hv(r,(e,t)=>{Gv(r,e,jb(t))}),t&&(t.finalized_=!1),r}var Sb=new class{constructor(e){var t=this;this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,r)=>{if("function"===typeof e&&"function"!==typeof t){const r=t;t=e;const n=this;return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r;for(var a=arguments.length,i=new Array(a>1?a-1:0),o=1;o<a;o++)i[o-1]=arguments[o];return n.produce(e,e=>t.call(this,e,...i))}}let n;if("function"!==typeof t&&zv(6),void 0!==r&&"function"!==typeof r&&zv(7),Bv(e)){const a=cb(this),i=wb(e,void 0);let o=!0;try{n=t(i),o=!1}finally{o?sb(a):lb(a)}return ob(a,r),db(n,a)}if(!e||"object"!==typeof e){if(n=t(e),void 0===n&&(n=e),n===Rv&&(n=void 0),this.autoFreeze_&&Zv(n,!0),r){const t=[],a=[];ab("Patches").generateReplacementPatches_(e,n,t,a),r(t,a)}return n}zv(1)},this.produceWithPatches=(e,r)=>{if("function"===typeof e)return function(r){for(var n=arguments.length,a=new Array(n>1?n-1:0),i=1;i<n;i++)a[i-1]=arguments[i];return t.produceWithPatches(r,t=>e(t,...a))};let n,a;const i=this.produce(e,r,(e,t)=>{n=e,a=t});return[i,n,a]},"boolean"===typeof e?.autoFreeze&&this.setAutoFreeze(e.autoFreeze),"boolean"===typeof e?.useStrictShallowCopy&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){Bv(e)||zv(8),Vv(e)&&(e=kb(e));const t=cb(this),r=wb(e,void 0);return r[Fv].isManual_=!0,lb(t),r}finishDraft(e,t){const r=e&&e[Fv];r&&r.isManual_||zv(9);const{scope_:n}=r;return ob(n,t),db(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const n=t[r];if(0===n.path.length&&"replace"===n.op){e=n.value;break}}r>-1&&(t=t.slice(r+1));const n=ab("Patches").applyPatches_;return Vv(e)?n(e,t):this.produce(e,e=>n(e,t))}},Nb=Sb.produce;Sb.produceWithPatches.bind(Sb),Sb.setAutoFreeze.bind(Sb),Sb.setUseStrictShallowCopy.bind(Sb),Sb.applyPatches.bind(Sb),Sb.createDraft.bind(Sb),Sb.finishDraft.bind(Sb);var Eb="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"===typeof arguments[0]?Ov:Ov.apply(null,arguments)};"undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;function _b(e,t){function r(){if(t){let r=t(...arguments);if(!r)throw new Error(wx(0));return{type:e,payload:r.payload,..."meta"in r&&{meta:r.meta},..."error"in r&&{error:r.error}}}return{type:e,payload:arguments.length<=0?void 0:arguments[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=t=>Iv(t)&&t.type===e,r}var Ab=class e extends Array{constructor(){super(...arguments),Object.setPrototypeOf(this,e.prototype)}static get[Symbol.species](){return e}concat(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return super.concat.apply(this,t)}prepend(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return 1===r.length&&Array.isArray(r[0])?new e(...r[0].concat(this)):new e(...r.concat(this))}};function Cb(e){return Bv(e)?Nb(e,()=>{}):e}function Tb(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}var Ob="RTK_autoBatch",Ib=e=>t=>{setTimeout(t,e)},Pb=e=>function(t){const{autoBatch:r=!0}=t??{};let n=new Ab(e);return r&&n.push(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{type:"raf"};return t=>function(){const r=t(...arguments);let n=!0,a=!1,i=!1;const o=new Set,s="tick"===e.type?queueMicrotask:"raf"===e.type?"undefined"!==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame:Ib(10):"callback"===e.type?e.queueNotification:Ib(e.timeout),l=()=>{i=!1,a&&(a=!1,o.forEach(e=>e()))};return Object.assign({},r,{subscribe(e){const t=r.subscribe(()=>n&&e());return o.add(e),()=>{t(),o.delete(e)}},dispatch(e){try{return n=!e?.meta?.[Ob],a=!n,a&&(i||(i=!0,s(l))),r.dispatch(e)}finally{n=!0}}})}}("object"===typeof r?r:void 0)),n};function Db(e){const t=function(e){const{thunk:t=!0,immutableCheck:r=!0,serializableCheck:n=!0,actionCreatorCheck:a=!0}=e??{};let i=new Ab;return t&&(function(e){return"boolean"===typeof e}(t)?i.push(Dv):i.push(Mv(t.extraArgument))),i},{reducer:r,middleware:n,devTools:a=!0,duplicateMiddlewareCheck:i=!0,preloadedState:o,enhancers:s}=e||{};let l,c;if("function"===typeof r)l=r;else{if(!Av(r))throw new Error(wx(1));l=Tv(r)}c="function"===typeof n?n(t):t();let u=Ov;a&&(u=Eb({trace:!1,..."object"===typeof a&&a}));const d=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return e=>(r,n)=>{const a=e(r,n);let i=()=>{throw new Error(Sv(15))};const o={getState:a.getState,dispatch:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return i(e,...r)}},s=t.map(e=>e(o));return i=Ov(...s)(a.dispatch),{...a,dispatch:i}}}(...c),h=Pb(d);return Cv(l,o,u(..."function"===typeof s?s(h):h()))}function Mb(e){const t={},r=[];let n;const a={addCase(e,r){const n="string"===typeof e?e:e.type;if(!n)throw new Error(wx(28));if(n in t)throw new Error(wx(29));return t[n]=r,a},addMatcher:(e,t)=>(r.push({matcher:e,reducer:t}),a),addDefaultCase:e=>(n=e,a)};return e(a),[t,r,n]}var Rb=function(){let e="",t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21;for(;t--;)e+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return e};var Lb=Symbol.for("rtk-slice-createasyncthunk");function Fb(e,t){return`${e}/${t}`}function zb(){let{creators:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=e?.asyncThunk?.[Lb];return function(e){const{name:r,reducerPath:n=r}=e;if(!r)throw new Error(wx(11));const a=("function"===typeof e.reducers?e.reducers(function(){function e(e,t){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...t}}return e.withTypes=()=>e,{reducer:e=>Object.assign({[e.name](){return e(...arguments)}}[e.name],{_reducerDefinitionType:"reducer"}),preparedReducer:(e,t)=>({_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}),asyncThunk:e}}()):e.reducers)||{},i=Object.keys(a),o={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},s={addCase(e,t){const r="string"===typeof e?e:e.type;if(!r)throw new Error(wx(12));if(r in o.sliceCaseReducersByType)throw new Error(wx(13));return o.sliceCaseReducersByType[r]=t,s},addMatcher:(e,t)=>(o.sliceMatchers.push({matcher:e,reducer:t}),s),exposeAction:(e,t)=>(o.actionCreators[e]=t,s),exposeCaseReducer:(e,t)=>(o.sliceCaseReducersByName[e]=t,s)};function l(){const[t={},r=[],n]="function"===typeof e.extraReducers?Mb(e.extraReducers):[e.extraReducers],a={...t,...o.sliceCaseReducersByType};return function(e,t){let r,[n,a,i]=Mb(t);if(function(e){return"function"===typeof e}(e))r=()=>Cb(e());else{const t=Cb(e);r=()=>t}function o(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r(),t=arguments.length>1?arguments[1]:void 0,o=[n[t.type],...a.filter(e=>{let{matcher:r}=e;return r(t)}).map(e=>{let{reducer:t}=e;return t})];return 0===o.filter(e=>!!e).length&&(o=[i]),o.reduce((e,r)=>{if(r){if(Vv(e)){const n=r(e,t);return void 0===n?e:n}if(Bv(e))return Nb(e,e=>r(e,t));{const n=r(e,t);if(void 0===n){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return n}}return e},e)}return o.getInitialState=r,o}(e.initialState,e=>{for(let t in a)e.addCase(t,a[t]);for(let t of o.sliceMatchers)e.addMatcher(t.matcher,t.reducer);for(let t of r)e.addMatcher(t.matcher,t.reducer);n&&e.addDefaultCase(n)})}i.forEach(n=>{const i=a[n],o={reducerName:n,type:Fb(r,n),createNotation:"function"===typeof e.reducers};!function(e){return"asyncThunk"===e._reducerDefinitionType}(i)?function(e,t,r){let n,a,{type:i,reducerName:o,createNotation:s}=e;if("reducer"in t){if(s&&!function(e){return"reducerWithPrepare"===e._reducerDefinitionType}(t))throw new Error(wx(17));n=t.reducer,a=t.prepare}else n=t;r.addCase(i,n).exposeCaseReducer(o,n).exposeAction(o,a?_b(i,a):_b(i))}(o,i,s):function(e,t,r,n){let{type:a,reducerName:i}=e;if(!n)throw new Error(wx(18));const{payloadCreator:o,fulfilled:s,pending:l,rejected:c,settled:u,options:d}=t,h=n(a,o,d);r.exposeAction(i,h),s&&r.addCase(h.fulfilled,s);l&&r.addCase(h.pending,l);c&&r.addCase(h.rejected,c);u&&r.addMatcher(h.settled,u);r.exposeCaseReducer(i,{fulfilled:s||Bb,pending:l||Bb,rejected:c||Bb,settled:u||Bb})}(o,i,s,t)});const c=e=>e,u=new Map,d=new WeakMap;let h;function f(e,t){return h||(h=l()),h(e,t)}function p(){return h||(h=l()),h.getInitialState()}function m(t){let r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(e){let a=e[t];return"undefined"===typeof a&&r&&(a=Tb(d,n,p)),a}function a(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c;const n=Tb(u,r,()=>new WeakMap);return Tb(n,t,()=>{const n={};for(const[a,i]of Object.entries(e.selectors??{}))n[a]=Ub(i,t,()=>Tb(d,t,p),r);return n})}return{reducerPath:t,getSelectors:a,get selectors(){return a(n)},selectSlice:n}}const g={name:r,reducer:f,actions:o.actionCreators,caseReducers:o.sliceCaseReducersByName,getInitialState:p,...m(n),injectInto(e){let{reducerPath:t,...r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const a=t??n;return e.inject({reducerPath:a,reducer:f},r),{...g,...m(a,!0)}}};return g}}function Ub(e,t,r,n){function a(a){let i=t(a);"undefined"===typeof i&&n&&(i=r());for(var o=arguments.length,s=new Array(o>1?o-1:0),l=1;l<o;l++)s[l-1]=arguments[l];return e(i,...s)}return a.unwrapped=e,a}var Vb=zb();function Bb(){}var $b="listener",qb="completed",Hb="cancelled",Kb=`task-${Hb}`,Wb=`task-${qb}`,Gb=`${$b}-${Hb}`,Yb=`${$b}-${qb}`,Qb=class{constructor(e){this.code=e,this.message=`task ${Hb} (reason: ${e})`}name="TaskAbortError";message},Xb=(e,t)=>{if("function"!==typeof e)throw new TypeError(wx(32))},Jb=()=>{},Zb=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Jb;return e.catch(t),e},ex=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),tx=(e,t)=>{const r=e.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},rx=e=>{if(e.aborted){const{reason:t}=e;throw new Qb(t)}};function nx(e,t){let r=Jb;return new Promise((n,a)=>{const i=()=>a(new Qb(e.reason));e.aborted?i():(r=ex(e,i),t.finally(()=>r()).then(n,a))}).finally(()=>{r=Jb})}var ax=e=>t=>Zb(nx(e,t).then(t=>(rx(e),t))),ix=e=>{const t=ax(e);return e=>t(new Promise(t=>setTimeout(t,e)))},{assign:ox}=Object,sx={},lx="listenerMiddleware",cx=(e,t)=>(r,n)=>{Xb(r);const a=new AbortController;var i;i=a,ex(e,()=>tx(i,e.reason));const o=(async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof Qb?"cancelled":"rejected",error:r}}finally{t?.()}})(async()=>{rx(e),rx(a.signal);const t=await r({pause:ax(a.signal),delay:ix(a.signal),signal:a.signal});return rx(a.signal),t},()=>tx(a,Wb));return n?.autoJoin&&t.push(o.catch(Jb)),{result:ax(e)(o),cancel(){tx(a,Kb)}}},ux=(e,t)=>(r,n)=>Zb((async(r,n)=>{rx(t);let a=()=>{};const i=[new Promise((t,n)=>{let i=e({predicate:r,effect:(e,r)=>{r.unsubscribe(),t([e,r.getState(),r.getOriginalState()])}});a=()=>{i(),n()}})];null!=n&&i.push(new Promise(e=>setTimeout(e,n,null)));try{const e=await nx(t,Promise.race(i));return rx(t),e}finally{a()}})(r,n)),dx=e=>{let{type:t,actionCreator:r,matcher:n,predicate:a,effect:i}=e;if(t)a=_b(t).match;else if(r)t=r.type,a=r.match;else if(n)a=n;else if(!a)throw new Error(wx(21));return Xb(i),{predicate:a,type:t,effect:i}},hx=ox(e=>{const{type:t,predicate:r,effect:n}=dx(e);return{id:Rb(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(wx(22))}}},{withTypes:()=>hx}),fx=(e,t)=>{const{type:r,effect:n,predicate:a}=dx(t);return Array.from(e.values()).find(e=>("string"===typeof r?e.type===r:e.predicate===a)&&e.effect===n)},px=e=>{e.pending.forEach(e=>{tx(e,Gb)})},mx=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},gx=ox(_b(`${lx}/add`),{withTypes:()=>gx}),yx=_b(`${lx}/removeAll`),vx=ox(_b(`${lx}/remove`),{withTypes:()=>vx}),bx=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];console.error(`${lx}/error`,...t)},xx=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=new Map,{extra:r,onError:n=bx}=e;Xb(n);const a=e=>(e=>(e.unsubscribe=()=>t.delete(e.id),t.set(e.id,e),t=>{e.unsubscribe(),t?.cancelActive&&px(e)}))(fx(t,e)??hx(e));ox(a,{withTypes:()=>a});const i=e=>{const r=fx(t,e);return r&&(r.unsubscribe(),e.cancelActive&&px(r)),!!r};ox(i,{withTypes:()=>i});const o=async(e,i,o,s)=>{const l=new AbortController,c=ux(a,l.signal),u=[];try{e.pending.add(l),await Promise.resolve(e.effect(i,ox({},o,{getOriginalState:s,condition:(e,t)=>c(e,t).then(Boolean),take:c,delay:ix(l.signal),pause:ax(l.signal),extra:r,signal:l.signal,fork:cx(l.signal,u),unsubscribe:e.unsubscribe,subscribe:()=>{t.set(e.id,e)},cancelActiveListeners:()=>{e.pending.forEach((e,t,r)=>{e!==l&&(tx(e,Gb),r.delete(e))})},cancel:()=>{tx(l,Gb),e.pending.delete(l)},throwIfCancelled:()=>{rx(l.signal)}})))}catch(d){d instanceof Qb||mx(n,d,{raisedBy:"effect"})}finally{await Promise.all(u),tx(l,Yb),e.pending.delete(l)}},s=(e=>()=>{e.forEach(px),e.clear()})(t);return{middleware:e=>r=>l=>{if(!Iv(l))return r(l);if(gx.match(l))return a(l.payload);if(yx.match(l))return void s();if(vx.match(l))return i(l.payload);let c=e.getState();const u=()=>{if(c===sx)throw new Error(wx(23));return c};let d;try{if(d=r(l),t.size>0){const r=e.getState(),a=Array.from(t.values());for(const t of a){let a=!1;try{a=t.predicate(l,r,c)}catch(h){a=!1,mx(n,h,{raisedBy:"predicate"})}a&&o(t,l,e,u)}}}finally{c=sx}return d},startListening:a,stopListening:i,clearListeners:s}};Symbol.for("rtk-state-proxy-original");function wx(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}function kx(e,t){if(t){var r=Number.parseInt(t,10);if(!ov(r))return null===e||void 0===e?void 0:e[r]}}var jx=Vb({name:"options",initialState:{chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},reducers:{createEventEmitter:e=>{null==e.eventEmitter&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Sx=jx.reducer,{createEventEmitter:Nx}=jx.actions;r(7237);function Ex(e){e()}var _x={notify(){},get:()=>[]};function Ax(e,t){let r,n=_x,a=0,i=!1;function o(){c.onStateChange&&c.onStateChange()}function s(){a++,r||(r=t?t.addNestedSub(o):e.subscribe(o),n=function(){let e=null,t=null;return{clear(){e=null,t=null},notify(){Ex(()=>{let t=e;for(;t;)t.callback(),t=t.next})},get(){const t=[];let r=e;for(;r;)t.push(r),r=r.next;return t},subscribe(r){let n=!0;const a=t={callback:r,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){n&&null!==e&&(n=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}())}function l(){a--,r&&0===a&&(r(),r=void 0,n.clear(),n=_x)}const c={addNestedSub:function(e){s();const t=n.subscribe(e);let r=!1;return()=>{r||(r=!0,t(),l())}},notifyNestedSubs:function(){n.notify()},handleChangeWrapper:o,isSubscribed:function(){return i},trySubscribe:function(){i||(i=!0,s())},tryUnsubscribe:function(){i&&(i=!1,l())},getListeners:()=>n};return c}var Cx=(()=>!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement))(),Tx=(()=>"undefined"!==typeof navigator&&"ReactNative"===navigator.product)(),Ox=(()=>Cx||Tx?t.useLayoutEffect:t.useEffect)();Object.defineProperty,Object.getOwnPropertyNames,Object.getOwnPropertySymbols,Object.getOwnPropertyDescriptor,Object.getPrototypeOf,Object.prototype;var Ix=Symbol.for("react-redux-context"),Px="undefined"!==typeof globalThis?globalThis:{};function Dx(){if(!t.createContext)return{};const e=Px[Ix]??=new Map;let r=e.get(t.createContext);return r||(r=t.createContext(null),e.set(t.createContext,r)),r}var Mx=Dx();var Rx=function(e){const{children:r,context:n,serverState:a,store:i}=e,o=t.useMemo(()=>{const e=Ax(i);return{store:i,subscription:e,getServerState:a?()=>a:void 0}},[i,a]),s=t.useMemo(()=>i.getState(),[i]);Ox(()=>{const{subscription:e}=o;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),s!==i.getState()&&e.notifyNestedSubs(),()=>{e.tryUnsubscribe(),e.onStateChange=void 0}},[o,s]);const l=n||Mx;return t.createElement(l.Provider,{value:o},r)};var Lx=Symbol.for("immer-nothing"),Fx=Symbol.for("immer-draftable"),zx=Symbol.for("immer-state");function Ux(e){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Vx=Object.getPrototypeOf;function Bx(e){return!!e&&!!e[zx]}function $x(e){return!!e&&(Hx(e)||Array.isArray(e)||!!e[Fx]||!!e.constructor?.[Fx]||Qx(e)||Xx(e))}var qx=Object.prototype.constructor.toString();function Hx(e){if(!e||"object"!==typeof e)return!1;const t=Vx(e);if(null===t)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object||"function"==typeof r&&Function.toString.call(r)===qx}function Kx(e,t){0===Wx(e)?Reflect.ownKeys(e).forEach(r=>{t(r,e[r],e)}):e.forEach((r,n)=>t(n,r,e))}function Wx(e){const t=e[zx];return t?t.type_:Array.isArray(e)?1:Qx(e)?2:Xx(e)?3:0}function Gx(e,t){return 2===Wx(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Yx(e,t,r){const n=Wx(e);2===n?e.set(t,r):3===n?e.add(r):e[t]=r}function Qx(e){return e instanceof Map}function Xx(e){return e instanceof Set}function Jx(e){return e.copy_||e.base_}function Zx(e,t){if(Qx(e))return new Map(e);if(Xx(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=Hx(e);if(!0===t||"class_only"===t&&!r){const t=Object.getOwnPropertyDescriptors(e);delete t[zx];let r=Reflect.ownKeys(t);for(let n=0;n<r.length;n++){const a=r[n],i=t[a];!1===i.writable&&(i.writable=!0,i.configurable=!0),(i.get||i.set)&&(t[a]={configurable:!0,writable:!0,enumerable:i.enumerable,value:e[a]})}return Object.create(Vx(e),t)}{const t=Vx(e);if(null!==t&&r)return{...e};const n=Object.create(t);return Object.assign(n,e)}}function ew(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return rw(e)||Bx(e)||!$x(e)||(Wx(e)>1&&(e.set=e.add=e.clear=e.delete=tw),Object.freeze(e),t&&Object.entries(e).forEach(e=>{let[t,r]=e;return ew(r,!0)})),e}function tw(){Ux(2)}function rw(e){return Object.isFrozen(e)}var nw,aw={};function iw(e){const t=aw[e];return t||Ux(0),t}function ow(){return nw}function sw(e,t){t&&(iw("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function lw(e){cw(e),e.drafts_.forEach(dw),e.drafts_=null}function cw(e){e===nw&&(nw=e.parent_)}function uw(e){return nw={drafts_:[],parent_:nw,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function dw(e){const t=e[zx];0===t.type_||1===t.type_?t.revoke_():t.revoked_=!0}function hw(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return void 0!==e&&e!==r?(r[zx].modified_&&(lw(t),Ux(4)),$x(e)&&(e=fw(t,e),t.parent_||mw(t,e)),t.patches_&&iw("Patches").generateReplacementPatches_(r[zx].base_,e,t.patches_,t.inversePatches_)):e=fw(t,r,[]),lw(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==Lx?e:void 0}function fw(e,t,r){if(rw(t))return t;const n=t[zx];if(!n)return Kx(t,(a,i)=>pw(e,n,t,a,i,r)),t;if(n.scope_!==e)return t;if(!n.modified_)return mw(e,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const t=n.copy_;let a=t,i=!1;3===n.type_&&(a=new Set(t),t.clear(),i=!0),Kx(a,(a,o)=>pw(e,n,t,a,o,r,i)),mw(e,t,!1),r&&e.patches_&&iw("Patches").generatePatches_(n,r,e.patches_,e.inversePatches_)}return n.copy_}function pw(e,t,r,n,a,i,o){if(Bx(a)){const o=fw(e,a,i&&t&&3!==t.type_&&!Gx(t.assigned_,n)?i.concat(n):void 0);if(Yx(r,n,o),!Bx(o))return;e.canAutoFreeze_=!1}else o&&r.add(a);if($x(a)&&!rw(a)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;fw(e,a),t&&t.scope_.parent_||"symbol"===typeof n||!Object.prototype.propertyIsEnumerable.call(r,n)||mw(e,a)}}function mw(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&ew(t,r)}var gw={get(e,t){if(t===zx)return e;const r=Jx(e);if(!Gx(r,t))return function(e,t,r){const n=bw(t,r);return n?"value"in n?n.value:n.get?.call(e.draft_):void 0}(e,r,t);const n=r[t];return e.finalized_||!$x(n)?n:n===vw(e.base_,t)?(ww(e),e.copy_[t]=kw(n,e)):n},has:(e,t)=>t in Jx(e),ownKeys:e=>Reflect.ownKeys(Jx(e)),set(e,t,r){const n=bw(Jx(e),t);if(n?.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const n=vw(Jx(e),t),a=n?.[zx];if(a&&a.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(function(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}(r,n)&&(void 0!==r||Gx(e.base_,t)))return!0;ww(e),xw(e)}return e.copy_[t]===r&&(void 0!==r||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty:(e,t)=>(void 0!==vw(e.base_,t)||t in e.base_?(e.assigned_[t]=!1,ww(e),xw(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0),getOwnPropertyDescriptor(e,t){const r=Jx(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n?{writable:!0,configurable:1!==e.type_||"length"!==t,enumerable:n.enumerable,value:r[t]}:n},defineProperty(){Ux(11)},getPrototypeOf:e=>Vx(e.base_),setPrototypeOf(){Ux(12)}},yw={};function vw(e,t){const r=e[zx];return(r?Jx(r):e)[t]}function bw(e,t){if(!(t in e))return;let r=Vx(e);for(;r;){const e=Object.getOwnPropertyDescriptor(r,t);if(e)return e;r=Vx(r)}}function xw(e){e.modified_||(e.modified_=!0,e.parent_&&xw(e.parent_))}function ww(e){e.copy_||(e.copy_=Zx(e.base_,e.scope_.immer_.useStrictShallowCopy_))}Kx(gw,(e,t)=>{yw[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),yw.deleteProperty=function(e,t){return yw.set.call(this,e,t,void 0)},yw.set=function(e,t,r){return gw.set.call(this,e[0],t,r,e[0])};function kw(e,t){const r=Qx(e)?iw("MapSet").proxyMap_(e,t):Xx(e)?iw("MapSet").proxySet_(e,t):function(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:ow(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=n,i=gw;r&&(a=[n],i=yw);const{revoke:o,proxy:s}=Proxy.revocable(a,i);return n.draft_=s,n.revoke_=o,s}(e,t);return(t?t.scope_:ow()).drafts_.push(r),r}function jw(e){if(!$x(e)||rw(e))return e;const t=e[zx];let r;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=Zx(e,t.scope_.immer_.useStrictShallowCopy_)}else r=Zx(e,!0);return Kx(r,(e,t)=>{Yx(r,e,jw(t))}),t&&(t.finalized_=!1),r}var Sw=new class{constructor(e){var t=this;this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,r)=>{if("function"===typeof e&&"function"!==typeof t){const r=t;t=e;const n=this;return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r;for(var a=arguments.length,i=new Array(a>1?a-1:0),o=1;o<a;o++)i[o-1]=arguments[o];return n.produce(e,e=>t.call(this,e,...i))}}let n;if("function"!==typeof t&&Ux(6),void 0!==r&&"function"!==typeof r&&Ux(7),$x(e)){const a=uw(this),i=kw(e,void 0);let o=!0;try{n=t(i),o=!1}finally{o?lw(a):cw(a)}return sw(a,r),hw(n,a)}if(!e||"object"!==typeof e){if(n=t(e),void 0===n&&(n=e),n===Lx&&(n=void 0),this.autoFreeze_&&ew(n,!0),r){const t=[],a=[];iw("Patches").generateReplacementPatches_(e,n,t,a),r(t,a)}return n}Ux(1)},this.produceWithPatches=(e,r)=>{if("function"===typeof e)return function(r){for(var n=arguments.length,a=new Array(n>1?n-1:0),i=1;i<n;i++)a[i-1]=arguments[i];return t.produceWithPatches(r,t=>e(t,...a))};let n,a;const i=this.produce(e,r,(e,t)=>{n=e,a=t});return[i,n,a]},"boolean"===typeof e?.autoFreeze&&this.setAutoFreeze(e.autoFreeze),"boolean"===typeof e?.useStrictShallowCopy&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){$x(e)||Ux(8),Bx(e)&&(e=function(e){Bx(e)||Ux(10);return jw(e)}(e));const t=uw(this),r=kw(e,void 0);return r[zx].isManual_=!0,cw(t),r}finishDraft(e,t){const r=e&&e[zx];r&&r.isManual_||Ux(9);const{scope_:n}=r;return sw(n,t),hw(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const n=t[r];if(0===n.path.length&&"replace"===n.op){e=n.value;break}}r>-1&&(t=t.slice(r+1));const n=iw("Patches").applyPatches_;return Bx(e)?n(e,t):this.produce(e,e=>n(e,t))}};Sw.produce,Sw.produceWithPatches.bind(Sw),Sw.setAutoFreeze.bind(Sw),Sw.setUseStrictShallowCopy.bind(Sw),Sw.applyPatches.bind(Sw),Sw.createDraft.bind(Sw),Sw.finishDraft.bind(Sw);var Nw={active:!1,index:null,dataKey:void 0,coordinate:void 0},Ew=Vb({name:"tooltip",initialState:{itemInteraction:{click:Nw,hover:Nw},axisInteraction:{click:Nw,hover:Nw},keyboardInteraction:Nw,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},reducers:{addTooltipEntrySettings(e,t){e.tooltipItemPayloads.push(t.payload)},removeTooltipEntrySettings(e,t){var r=kb(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:_w,removeTooltipEntrySettings:Aw,setTooltipSettingsState:Cw,setActiveMouseOverItemIndex:Tw,mouseLeaveItem:Ow,mouseLeaveChart:Iw,setActiveClickItemIndex:Pw,setMouseOverAxisIndex:Dw,setMouseClickAxisIndex:Mw,setSyncInteraction:Rw,setKeyboardInteraction:Lw}=Ew.actions,Fw=Ew.reducer,zw=Vb({name:"chartData",initialState:{chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},reducers:{setChartData(e,t){if(e.chartData=t.payload,null==t.payload)return e.dataStartIndex=0,void(e.dataEndIndex=0);t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;null!=r&&(e.dataStartIndex=r),null!=n&&(e.dataEndIndex=n)}}}),{setChartData:Uw,setDataStartEndIndexes:Vw,setComputedData:Bw}=zw.actions,$w=zw.reducer,qw=Vb({name:"chartLayout",initialState:{layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){e.margin.top=t.payload.top,e.margin.right=t.payload.right,e.margin.bottom=t.payload.bottom,e.margin.left=t.payload.left},setScale(e,t){e.scale=t.payload}}}),{setMargin:Hw,setLayout:Kw,setChartSize:Ww,setScale:Gw}=qw.actions,Yw=qw.reducer;function Qw(e){if("function"!==typeof e)throw new TypeError(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expected a function, instead received "+typeof e)}var Xw=e=>Array.isArray(e)?e:[e];function Jw(e){const t=Array.isArray(e[0])?e[0]:e;return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expected all items to be functions, instead received the following types: ";if(!e.every(e=>"function"===typeof e)){const r=e.map(e=>"function"===typeof e?`function ${e.name||"unnamed"}()`:typeof e).join(", ");throw new TypeError(`${t}[${r}]`)}}(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}Symbol(),Object.getPrototypeOf({});var Zw="undefined"!==typeof WeakRef?WeakRef:class{constructor(e){this.value=e}deref(){return this.value}};function ek(){return{s:0,v:void 0,o:null,p:null}}function tk(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r={s:0,v:void 0,o:null,p:null};const{resultEqualityCheck:n}=t;let a,i=0;function o(){let t=r;const{length:o}=arguments;for(let e=0,r=o;e<r;e++){const r=arguments[e];if("function"===typeof r||"object"===typeof r&&null!==r){let e=t.o;null===e&&(t.o=e=new WeakMap);const n=e.get(r);void 0===n?(t=ek(),e.set(r,t)):t=n}else{let e=t.p;null===e&&(t.p=e=new Map);const n=e.get(r);void 0===n?(t=ek(),e.set(r,t)):t=n}}const s=t;let l;if(1===t.s)l=t.v;else if(l=e.apply(null,arguments),i++,n){const e=a?.deref?.()??a;null!=e&&n(e,l)&&(l=e,0!==i&&i--);a="object"===typeof l&&null!==l||"function"===typeof l?new Zw(l):l}return s.s=1,s.v=l,l}return o.clearCache=()=>{r={s:0,v:void 0,o:null,p:null},o.resetResultsCount()},o.resultsCount=()=>i,o.resetResultsCount=()=>{i=0},o}function rk(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];const a="function"===typeof e?{memoize:e,memoizeOptions:r}:e,i=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];let n,i=0,o=0,s={},l=t.pop();"object"===typeof l&&(s=l,l=t.pop()),Qw(l,`createSelector expects an output function after the inputs, but received: [${typeof l}]`);const c={...a,...s},{memoize:u,memoizeOptions:d=[],argsMemoize:h=tk,argsMemoizeOptions:f=[],devModeChecks:p={}}=c,m=Xw(d),g=Xw(f),y=Jw(t),v=u(function(){return i++,l.apply(null,arguments)},...m);const b=h(function(){o++;const e=function(e,t){const r=[],{length:n}=e;for(let a=0;a<n;a++)r.push(e[a].apply(null,t));return r}(y,arguments);return n=v.apply(null,e),n},...g);return Object.assign(b,{resultFunc:l,memoizedResultFunc:v,dependencies:y,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>n,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:u,argsMemoize:h})};return Object.assign(i,{withTypes:()=>i}),i}var nk=rk(tk),ak=Object.assign(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:nk;!function(e){if("object"!==typeof e)throw new TypeError(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expected an object, instead received "+typeof e)}(e,"createStructuredSelector expects first argument to be an object where each property is a selector, instead received a "+typeof e);const r=Object.keys(e),n=t(r.map(t=>e[t]),function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((e,t,n)=>(e[r[n]]=t,e),{})});return n},{withTypes:()=>ak}),ik=r(8443),ok=(0,t.createContext)(null),sk=e=>e,lk=()=>{var e=(0,t.useContext)(ok);return e?e.store.dispatch:sk},ck=()=>{},uk=()=>ck,dk=(e,t)=>e===t;function hk(e){var r=(0,t.useContext)(ok);return(0,ik.useSyncExternalStoreWithSelector)(r?r.subscription.addNestedSub:uk,r?r.store.getState:ck,r?r.store.getState:ck,r?e:ck,dk)}var fk=r(3821),pk=r.n(fk),mk=e=>e.legend.settings,gk=nk([e=>e.legend.payload,mk],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?pk()(n,r):n});function yk(e,t){if((a=e.length)>1)for(var r,n,a,i=1,o=e[t[0]],s=o.length;i<a;++i)for(n=o,o=e[t[i]],r=0;r<s;++r)o[r][1]+=o[r][0]=isNaN(n[r][1])?n[r][0]:n[r][1]}Array.prototype.slice;function vk(e){return"object"===typeof e&&"length"in e?e:Array.from(e)}function bk(e){return function(){return e}}function xk(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function wk(e,t){return e[t]}function kk(e){const t=[];return t.key=e,t}function jk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Sk(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?jk(Object(r),!0).forEach(function(t){Nk(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jk(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Nk(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Ek=Math.PI/180,_k=e=>180*e/Math.PI,Ak=(e,t,r,n)=>({x:e+Math.cos(-Ek*n)*r,y:t+Math.sin(-Ek*n)*r}),Ck=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{top:0,right:0,bottom:0,left:0,width:0,height:0,brushBottom:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(t-(r.top||0)-(r.bottom||0)))/2},Tk=(e,t)=>{var{x:r,y:n}=e,{cx:a,cy:i}=t,o=((e,t)=>{var{x:r,y:n}=e,{x:a,y:i}=t;return Math.sqrt((r-a)**2+(n-i)**2)})({x:r,y:n},{x:a,y:i});if(o<=0)return{radius:o,angle:0};var s=(r-a)/o,l=Math.acos(s);return n>i&&(l=2*Math.PI-l),{radius:o,angle:_k(l),angleInRadian:l}},Ok=(e,t)=>{var{startAngle:r,endAngle:n}=t,a=Math.floor(r/360),i=Math.floor(n/360);return e+360*Math.min(a,i)},Ik=(e,t)=>{var{x:r,y:n}=e,{radius:a,angle:i}=Tk({x:r,y:n},t),{innerRadius:o,outerRadius:s}=t;if(a<o||a>s)return null;if(0===a)return null;var l,{startAngle:c,endAngle:u}=(e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),a=Math.floor(r/360),i=Math.min(n,a);return{startAngle:t-360*i,endAngle:r-360*i}})(t),d=i;if(c<=u){for(;d>u;)d-=360;for(;d<c;)d+=360;l=d>=c&&d<=u}else{for(;d>c;)d-=360;for(;d<u;)d+=360;l=d>=u&&d<=c}return l?Sk(Sk({},t),{},{radius:a,angle:Ok(d,t)}):null};function Pk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Dk(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Pk(Object(r),!0).forEach(function(t){Mk(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pk(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Mk(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Rk(e,t,r){return yv(e)||yv(t)?r:cv(t)?av()(e,t,r):"function"===typeof t?t(e):r}var Lk=(e,t)=>"horizontal"===e&&"xAxis"===t||"vertical"===e&&"yAxis"===t||"centric"===e&&"angleAxis"===t||"radial"===e&&"radiusAxis"===t,Fk=(e,t,r,n)=>{if(n)return e.map(e=>e.coordinate);var a,i,o=e.map(e=>(e.coordinate===t&&(a=!0),e.coordinate===r&&(i=!0),e.coordinate));return a||o.push(t),i||o.push(r),o},zk=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:a,range:i,scale:o,realScaleType:s,isCategorical:l,categoricalDomain:c,tickCount:u,ticks:d,niceTicks:h,axisType:f}=e;if(!o)return null;var p="scaleBand"===s&&o.bandwidth?o.bandwidth()/2:2,m=(t||r)&&"category"===a&&o.bandwidth?o.bandwidth()/p:0;return m="angleAxis"===f&&i&&i.length>=2?2*iv(i[0]-i[1])*m:m,t&&(d||h)?(d||h||[]).map((e,t)=>{var r=n?n.indexOf(e):e;return{coordinate:o(r)+m,value:e,offset:m,index:t}}).filter(e=>!ov(e.coordinate)):l&&c?c.map((e,t)=>({coordinate:o(e)+m,value:e,index:t,offset:m})):o.ticks&&!r&&null!=u?o.ticks(u).map((e,t)=>({coordinate:o(e)+m,value:e,offset:m,index:t})):o.domain().map((e,t)=>({coordinate:o(e)+m,value:n?n[e]:e,index:t,offset:m}))},Uk=1e-4,Vk={sign:e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,i=0,o=0;o<t;++o){var s=ov(e[o][r][1])?e[o][r][0]:e[o][r][1];s>=0?(e[o][r][0]=a,e[o][r][1]=a+s,a=e[o][r][1]):(e[o][r][0]=i,e[o][r][1]=i+s,i=e[o][r][1])}},expand:function(e,t){if((n=e.length)>0){for(var r,n,a,i=0,o=e[0].length;i<o;++i){for(a=r=0;r<n;++r)a+=e[r][i][1]||0;if(a)for(r=0;r<n;++r)e[r][i][1]/=a}yk(e,t)}},none:yk,silhouette:function(e,t){if((r=e.length)>0){for(var r,n=0,a=e[t[0]],i=a.length;n<i;++n){for(var o=0,s=0;o<r;++o)s+=e[o][n][1]||0;a[n][1]+=a[n][0]=-s/2}yk(e,t)}},wiggle:function(e,t){if((a=e.length)>0&&(n=(r=e[t[0]]).length)>0){for(var r,n,a,i=0,o=1;o<n;++o){for(var s=0,l=0,c=0;s<a;++s){for(var u=e[t[s]],d=u[o][1]||0,h=(d-(u[o-1][1]||0))/2,f=0;f<s;++f){var p=e[t[f]];h+=(p[o][1]||0)-(p[o-1][1]||0)}l+=d,c+=h*d}r[o-1][1]+=r[o-1][0]=i,l&&(i-=c/l)}r[o-1][1]+=r[o-1][0]=i,yk(e,t)}},positive:e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,i=0;i<t;++i){var o=ov(e[i][r][1])?e[i][r][0]:e[i][r][1];o>=0?(e[i][r][0]=a,e[i][r][1]=a+o,a=e[i][r][1]):(e[i][r][0]=0,e[i][r][1]=0)}}},Bk=(e,t,r)=>{var n=Vk[r],a=function(){var e=bk([]),t=xk,r=yk,n=wk;function a(a){var i,o,s=Array.from(e.apply(this,arguments),kk),l=s.length,c=-1;for(const e of a)for(i=0,++c;i<l;++i)(s[i][c]=[0,+n(e,s[i].key,c,a)]).data=e;for(i=0,o=vk(t(s));i<l;++i)s[o[i]].index=i;return r(s,o),s}return a.keys=function(t){return arguments.length?(e="function"===typeof t?t:bk(Array.from(t)),a):e},a.value=function(e){return arguments.length?(n="function"===typeof e?e:bk(+e),a):n},a.order=function(e){return arguments.length?(t=null==e?xk:"function"===typeof e?e:bk(Array.from(e)),a):t},a.offset=function(e){return arguments.length?(r=null==e?yk:e,a):r},a}().keys(t).value((e,t)=>+Rk(e,t,0)).order(xk).offset(n);return a(e)};function $k(e){return null==e?void 0:String(e)}function qk(e){var{axis:t,ticks:r,bandSize:n,entry:a,index:i,dataKey:o}=e;if("category"===t.type){if(!t.allowDuplicatedCategory&&t.dataKey&&!yv(a[t.dataKey])){var s=gv(r,"value",a[t.dataKey]);if(s)return s.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var l=Rk(a,yv(o)?t.dataKey:o);return yv(l)?null:t.scale(l)}var Hk=e=>{var{axis:t,ticks:r,offset:n,bandSize:a,entry:i,index:o}=e;if("category"===t.type)return r[o]?r[o].coordinate+n:null;var s=Rk(i,t.dataKey,t.scale.domain()[o]);return yv(s)?null:t.scale(s)-a/2+n},Kk=(e,t,r)=>{var n;if(null!=e)return n=Object.keys(e).reduce((n,a)=>{var i=e[a],{stackedData:o}=i,s=o.reduce((e,n)=>{var a=(e=>{var t=e.flat(2).filter(lv);return[Math.min(...t),Math.max(...t)]})(n.slice(t,r+1));return[Math.min(e[0],a[0]),Math.max(e[1],a[1])]},[1/0,-1/0]);return[Math.min(s[0],n[0]),Math.max(s[1],n[1])]},[1/0,-1/0]),[n[0]===1/0?0:n[0],n[1]===-1/0?0:n[1]]},Wk=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Gk=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Yk=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var a=pk()(t,e=>e.coordinate),i=1/0,o=1,s=a.length;o<s;o++){var l=a[o],c=a[o-1];i=Math.min((l.coordinate||0)-(c.coordinate||0),i)}return i===1/0?0:i}return r?void 0:0};function Qk(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:a,name:i}=e;return Dk(Dk({},t),{},{dataKey:r,payload:n,value:a,name:i})}function Xk(e,t){return e?String(e):"string"===typeof t?t:void 0}var Jk=e=>e.layout.width,Zk=e=>e.layout.height,ej=e=>e.layout.scale,tj=e=>e.layout.margin,rj=nk(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),nj=nk(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),aj="data-recharts-item-index",ij="data-recharts-item-data-key";function oj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function sj(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?oj(Object(r),!0).forEach(function(t){lj(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oj(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function lj(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var cj=nk([Jk,Zk,tj,e=>e.brush.height,rj,nj,mk,e=>e.legend.size],(e,t,r,n,a,i,o,s)=>{var l=i.reduce((e,t)=>{var{orientation:r}=t;if(!t.mirror&&!t.hide){var n="number"===typeof t.width?t.width:60;return sj(sj({},e),{},{[r]:e[r]+n})}return e},{left:r.left||0,right:r.right||0}),c=a.reduce((e,t)=>{var{orientation:r}=t;return t.mirror||t.hide?e:sj(sj({},e),{},{[r]:av()(e,"".concat(r))+t.height})},{top:r.top||0,bottom:r.bottom||0}),u=sj(sj({},c),l),d=u.bottom;u.bottom+=n,u=((e,t,r)=>{if(t&&r){var{width:n,height:a}=r,{align:i,verticalAlign:o,layout:s}=t;if(("vertical"===s||"horizontal"===s&&"middle"===o)&&"center"!==i&&lv(e[i]))return Dk(Dk({},e),{},{[i]:e[i]+(n||0)});if(("horizontal"===s||"vertical"===s&&"center"===i)&&"middle"!==o&&lv(e[o]))return Dk(Dk({},e),{},{[o]:e[o]+(a||0)})}return e})(u,o,s);var h=e-u.left-u.right,f=t-u.top-u.bottom;return sj(sj({brushBottom:d},u),{},{width:Math.max(h,0),height:Math.max(f,0)})}),uj=nk(cj,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),dj=nk(Jk,Zk,(e,t)=>({x:0,y:0,width:e,height:t})),hj=(0,t.createContext)(null),fj=()=>null!=(0,t.useContext)(hj),pj=e=>e.brush,mj=nk([pj,cj,tj],(e,t,r)=>({height:e.height,x:lv(e.x)?e.x:t.left,y:lv(e.y)?e.y:t.top+t.height+t.brushBottom-((null===r||void 0===r?void 0:r.bottom)||0),width:lv(e.width)?e.width:t.width})),gj=()=>{var e,t=fj(),r=hk(uj),n=hk(mj),a=null===(e=hk(pj))||void 0===e?void 0:e.padding;return t&&n&&a?{width:n.width-a.left-a.right,height:n.height-a.top-a.bottom,x:a.left,y:a.top}:r},yj={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},vj=()=>{var e;return null!==(e=hk(cj))&&void 0!==e?e:yj},bj=()=>hk(Jk),xj=()=>hk(Zk),wj={top:0,right:0,bottom:0,left:0},kj=e=>e.layout.layoutType,jj=()=>hk(kj),Sj=r(9859),Nj=r.n(Sj);function Ej(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function _j(e,t){switch(arguments.length){case 0:break;case 1:"function"===typeof e?this.interpolator(e):this.range(e);break;default:this.domain(e),"function"===typeof t?this.interpolator(t):this.range(t)}return this}class Aj extends Map{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ij;if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=e)for(const[r,n]of e)this.set(r,n)}get(e){return super.get(Cj(this,e))}has(e){return super.has(Cj(this,e))}set(e,t){return super.set(Tj(this,e),t)}delete(e){return super.delete(Oj(this,e))}}Set;function Cj(e,t){let{_intern:r,_key:n}=e;const a=n(t);return r.has(a)?r.get(a):t}function Tj(e,t){let{_intern:r,_key:n}=e;const a=n(t);return r.has(a)?r.get(a):(r.set(a,t),t)}function Oj(e,t){let{_intern:r,_key:n}=e;const a=n(t);return r.has(a)&&(t=r.get(a),r.delete(a)),t}function Ij(e){return null!==e&&"object"===typeof e?e.valueOf():e}const Pj=Symbol("implicit");function Dj(){var e=new Aj,t=[],r=[],n=Pj;function a(a){let i=e.get(a);if(void 0===i){if(n!==Pj)return n;e.set(a,i=t.push(a)-1)}return r[i%r.length]}return a.domain=function(r){if(!arguments.length)return t.slice();t=[],e=new Aj;for(const n of r)e.has(n)||e.set(n,t.push(n)-1);return a},a.range=function(e){return arguments.length?(r=Array.from(e),a):r.slice()},a.unknown=function(e){return arguments.length?(n=e,a):n},a.copy=function(){return Dj(t,r).unknown(n)},Ej.apply(a,arguments),a}function Mj(){var e,t,r=Dj().unknown(void 0),n=r.domain,a=r.range,i=0,o=1,s=!1,l=0,c=0,u=.5;function d(){var r=n().length,d=o<i,h=d?o:i,f=d?i:o;e=(f-h)/Math.max(1,r-l+2*c),s&&(e=Math.floor(e)),h+=(f-h-e*(r-l))*u,t=e*(1-l),s&&(h=Math.round(h),t=Math.round(t));var p=function(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=0|Math.max(0,Math.ceil((t-e)/r)),i=new Array(a);++n<a;)i[n]=e+n*r;return i}(r).map(function(t){return h+e*t});return a(d?p.reverse():p)}return delete r.unknown,r.domain=function(e){return arguments.length?(n(e),d()):n()},r.range=function(e){return arguments.length?([i,o]=e,i=+i,o=+o,d()):[i,o]},r.rangeRound=function(e){return[i,o]=e,i=+i,o=+o,s=!0,d()},r.bandwidth=function(){return t},r.step=function(){return e},r.round=function(e){return arguments.length?(s=!!e,d()):s},r.padding=function(e){return arguments.length?(l=Math.min(1,c=+e),d()):l},r.paddingInner=function(e){return arguments.length?(l=Math.min(1,e),d()):l},r.paddingOuter=function(e){return arguments.length?(c=+e,d()):c},r.align=function(e){return arguments.length?(u=Math.max(0,Math.min(1,e)),d()):u},r.copy=function(){return Mj(n(),[i,o]).round(s).paddingInner(l).paddingOuter(c).align(u)},Ej.apply(d(),arguments)}function Rj(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return Rj(t())},e}function Lj(){return Rj(Mj.apply(null,arguments).paddingInner(1))}const Fj=Math.sqrt(50),zj=Math.sqrt(10),Uj=Math.sqrt(2);function Vj(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),o=i>=Fj?10:i>=zj?5:i>=Uj?2:1;let s,l,c;return a<0?(c=Math.pow(10,-a)/o,s=Math.round(e*c),l=Math.round(t*c),s/c<e&&++s,l/c>t&&--l,c=-c):(c=Math.pow(10,a)*o,s=Math.round(e/c),l=Math.round(t/c),s*c<e&&++s,l*c>t&&--l),l<s&&.5<=r&&r<2?Vj(e,t,2*r):[s,l,c]}function Bj(e,t,r){if(!((r=+r)>0))return[];if((e=+e)===(t=+t))return[e];const n=t<e,[a,i,o]=n?Vj(t,e,r):Vj(e,t,r);if(!(i>=a))return[];const s=i-a+1,l=new Array(s);if(n)if(o<0)for(let c=0;c<s;++c)l[c]=(i-c)/-o;else for(let c=0;c<s;++c)l[c]=(i-c)*o;else if(o<0)for(let c=0;c<s;++c)l[c]=(a+c)/-o;else for(let c=0;c<s;++c)l[c]=(a+c)*o;return l}function $j(e,t,r){return Vj(e=+e,t=+t,r=+r)[2]}function qj(e,t,r){r=+r;const n=(t=+t)<(e=+e),a=n?$j(t,e,r):$j(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function Hj(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Kj(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Wj(e){let t,r,n;function a(e,n){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(a<i){if(0!==t(n,n))return i;do{const t=a+i>>>1;r(e[t],n)<0?a=t+1:i=t}while(a<i)}return a}return 2!==e.length?(t=Hj,r=(t,r)=>Hj(e(t),r),n=(t,r)=>e(t)-r):(t=e===Hj||e===Kj?e:Gj,r=e,n=e),{left:a,center:function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const i=a(e,t,r,(arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length)-1);return i>r&&n(e[i-1],t)>-n(e[i],t)?i-1:i},right:function(e,n){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(a<i){if(0!==t(n,n))return i;do{const t=a+i>>>1;r(e[t],n)<=0?a=t+1:i=t}while(a<i)}return a}}}function Gj(){return 0}function Yj(e){return null===e?NaN:+e}const Qj=Wj(Hj),Xj=Qj.right,Jj=(Qj.left,Wj(Yj).center,Xj);function Zj(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function eS(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function tS(){}var rS=.7,nS=1/rS,aS="\\s*([+-]?\\d+)\\s*",iS="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",oS="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",sS=/^#([0-9a-f]{3,8})$/,lS=new RegExp(`^rgb\\(${aS},${aS},${aS}\\)$`),cS=new RegExp(`^rgb\\(${oS},${oS},${oS}\\)$`),uS=new RegExp(`^rgba\\(${aS},${aS},${aS},${iS}\\)$`),dS=new RegExp(`^rgba\\(${oS},${oS},${oS},${iS}\\)$`),hS=new RegExp(`^hsl\\(${iS},${oS},${oS}\\)$`),fS=new RegExp(`^hsla\\(${iS},${oS},${oS},${iS}\\)$`),pS={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function mS(){return this.rgb().formatHex()}function gS(){return this.rgb().formatRgb()}function yS(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=sS.exec(e))?(r=t[1].length,t=parseInt(t[1],16),6===r?vS(t):3===r?new wS(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===r?bS(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===r?bS(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=lS.exec(e))?new wS(t[1],t[2],t[3],1):(t=cS.exec(e))?new wS(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=uS.exec(e))?bS(t[1],t[2],t[3],t[4]):(t=dS.exec(e))?bS(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=hS.exec(e))?_S(t[1],t[2]/100,t[3]/100,1):(t=fS.exec(e))?_S(t[1],t[2]/100,t[3]/100,t[4]):pS.hasOwnProperty(e)?vS(pS[e]):"transparent"===e?new wS(NaN,NaN,NaN,0):null}function vS(e){return new wS(e>>16&255,e>>8&255,255&e,1)}function bS(e,t,r,n){return n<=0&&(e=t=r=NaN),new wS(e,t,r,n)}function xS(e,t,r,n){return 1===arguments.length?((a=e)instanceof tS||(a=yS(a)),a?new wS((a=a.rgb()).r,a.g,a.b,a.opacity):new wS):new wS(e,t,r,null==n?1:n);var a}function wS(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}function kS(){return`#${ES(this.r)}${ES(this.g)}${ES(this.b)}`}function jS(){const e=SS(this.opacity);return`${1===e?"rgb(":"rgba("}${NS(this.r)}, ${NS(this.g)}, ${NS(this.b)}${1===e?")":`, ${e})`}`}function SS(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function NS(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function ES(e){return((e=NS(e))<16?"0":"")+e.toString(16)}function _S(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new CS(e,t,r,n)}function AS(e){if(e instanceof CS)return new CS(e.h,e.s,e.l,e.opacity);if(e instanceof tS||(e=yS(e)),!e)return new CS;if(e instanceof CS)return e;var t=(e=e.rgb()).r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),o=NaN,s=i-a,l=(i+a)/2;return s?(o=t===i?(r-n)/s+6*(r<n):r===i?(n-t)/s+2:(t-r)/s+4,s/=l<.5?i+a:2-i-a,o*=60):s=l>0&&l<1?0:o,new CS(o,s,l,e.opacity)}function CS(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}function TS(e){return(e=(e||0)%360)<0?e+360:e}function OS(e){return Math.max(0,Math.min(1,e||0))}function IS(e,t,r){return 255*(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)}function PS(e,t,r,n,a){var i=e*e,o=i*e;return((1-3*e+3*i-o)*t+(4-6*i+3*o)*r+(1+3*e+3*i-3*o)*n+o*a)/6}Zj(tS,yS,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:mS,formatHex:mS,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return AS(this).formatHsl()},formatRgb:gS,toString:gS}),Zj(wS,xS,eS(tS,{brighter(e){return e=null==e?nS:Math.pow(nS,e),new wS(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?rS:Math.pow(rS,e),new wS(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new wS(NS(this.r),NS(this.g),NS(this.b),SS(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:kS,formatHex:kS,formatHex8:function(){return`#${ES(this.r)}${ES(this.g)}${ES(this.b)}${ES(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:jS,toString:jS})),Zj(CS,function(e,t,r,n){return 1===arguments.length?AS(e):new CS(e,t,r,null==n?1:n)},eS(tS,{brighter(e){return e=null==e?nS:Math.pow(nS,e),new CS(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?rS:Math.pow(rS,e),new CS(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new wS(IS(e>=240?e-240:e+120,a,n),IS(e,a,n),IS(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new CS(TS(this.h),OS(this.s),OS(this.l),SS(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=SS(this.opacity);return`${1===e?"hsl(":"hsla("}${TS(this.h)}, ${100*OS(this.s)}%, ${100*OS(this.l)}%${1===e?")":`, ${e})`}`}}));const DS=e=>()=>e;function MS(e,t){return function(r){return e+r*t}}function RS(e){return 1===(e=+e)?LS:function(t,r){return r-t?function(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}(t,r,e):DS(isNaN(t)?r:t)}}function LS(e,t){var r=t-e;return r?MS(e,r):DS(isNaN(e)?t:e)}const FS=function e(t){var r=RS(t);function n(e,t){var n=r((e=xS(e)).r,(t=xS(t)).r),a=r(e.g,t.g),i=r(e.b,t.b),o=LS(e.opacity,t.opacity);return function(t){return e.r=n(t),e.g=a(t),e.b=i(t),e.opacity=o(t),e+""}}return n.gamma=e,n}(1);function zS(e){return function(t){var r,n,a=t.length,i=new Array(a),o=new Array(a),s=new Array(a);for(r=0;r<a;++r)n=xS(t[r]),i[r]=n.r||0,o[r]=n.g||0,s[r]=n.b||0;return i=e(i),o=e(o),s=e(s),n.opacity=1,function(e){return n.r=i(e),n.g=o(e),n.b=s(e),n+""}}}zS(function(e){var t=e.length-1;return function(r){var n=r<=0?r=0:r>=1?(r=1,t-1):Math.floor(r*t),a=e[n],i=e[n+1],o=n>0?e[n-1]:2*a-i,s=n<t-1?e[n+2]:2*i-a;return PS((r-n/t)*t,o,a,i,s)}}),zS(function(e){var t=e.length;return function(r){var n=Math.floor(((r%=1)<0?++r:r)*t),a=e[(n+t-1)%t],i=e[n%t],o=e[(n+1)%t],s=e[(n+2)%t];return PS((r-n/t)*t,a,i,o,s)}});function US(e,t){var r,n=t?t.length:0,a=e?Math.min(n,e.length):0,i=new Array(a),o=new Array(n);for(r=0;r<a;++r)i[r]=GS(e[r],t[r]);for(;r<n;++r)o[r]=t[r];return function(e){for(r=0;r<a;++r)o[r]=i[r](e);return o}}function VS(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function BS(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function $S(e,t){var r,n={},a={};for(r in null!==e&&"object"===typeof e||(e={}),null!==t&&"object"===typeof t||(t={}),t)r in e?n[r]=GS(e[r],t[r]):a[r]=t[r];return function(e){for(r in n)a[r]=n[r](e);return a}}var qS=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,HS=new RegExp(qS.source,"g");function KS(e,t){var r,n,a,i=qS.lastIndex=HS.lastIndex=0,o=-1,s=[],l=[];for(e+="",t+="";(r=qS.exec(e))&&(n=HS.exec(t));)(a=n.index)>i&&(a=t.slice(i,a),s[o]?s[o]+=a:s[++o]=a),(r=r[0])===(n=n[0])?s[o]?s[o]+=n:s[++o]=n:(s[++o]=null,l.push({i:o,x:BS(r,n)})),i=HS.lastIndex;return i<t.length&&(a=t.slice(i),s[o]?s[o]+=a:s[++o]=a),s.length<2?l[0]?function(e){return function(t){return e(t)+""}}(l[0].x):function(e){return function(){return e}}(t):(t=l.length,function(e){for(var r,n=0;n<t;++n)s[(r=l[n]).i]=r.x(e);return s.join("")})}function WS(e,t){t||(t=[]);var r,n=e?Math.min(t.length,e.length):0,a=t.slice();return function(i){for(r=0;r<n;++r)a[r]=e[r]*(1-i)+t[r]*i;return a}}function GS(e,t){var r,n=typeof t;return null==t||"boolean"===n?DS(t):("number"===n?BS:"string"===n?(r=yS(t))?(t=r,FS):KS:t instanceof yS?FS:t instanceof Date?VS:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}(t)?WS:Array.isArray(t)?US:"function"!==typeof t.valueOf&&"function"!==typeof t.toString||isNaN(t)?$S:BS)(e,t)}function YS(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function QS(e){return+e}var XS=[0,1];function JS(e){return e}function ZS(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:function(e){return function(){return e}}(isNaN(t)?NaN:.5)}function eN(e,t,r){var n=e[0],a=e[1],i=t[0],o=t[1];return a<n?(n=ZS(a,n),i=r(o,i)):(n=ZS(n,a),i=r(i,o)),function(e){return i(n(e))}}function tN(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)a[o]=ZS(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(t){var r=Jj(e,t,1,n)-1;return i[r](a[r](t))}}function rN(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function nN(){var e,t,r,n,a,i,o=XS,s=XS,l=GS,c=JS;function u(){var e=Math.min(o.length,s.length);return c!==JS&&(c=function(e,t){var r;return e>t&&(r=e,e=t,t=r),function(r){return Math.max(e,Math.min(t,r))}}(o[0],o[e-1])),n=e>2?tN:eN,a=i=null,d}function d(t){return null==t||isNaN(t=+t)?r:(a||(a=n(o.map(e),s,l)))(e(c(t)))}return d.invert=function(r){return c(t((i||(i=n(s,o.map(e),BS)))(r)))},d.domain=function(e){return arguments.length?(o=Array.from(e,QS),u()):o.slice()},d.range=function(e){return arguments.length?(s=Array.from(e),u()):s.slice()},d.rangeRound=function(e){return s=Array.from(e),l=YS,u()},d.clamp=function(e){return arguments.length?(c=!!e||JS,u()):c!==JS},d.interpolate=function(e){return arguments.length?(l=e,u()):l},d.unknown=function(e){return arguments.length?(r=e,d):r},function(r,n){return e=r,t=n,u()}}function aN(){return nN()(JS,JS)}var iN,oN=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function sN(e){if(!(t=oN.exec(e)))throw new Error("invalid format: "+e);var t;return new lN({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function lN(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function cN(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function uN(e){return(e=cN(Math.abs(e)))?e[1]:NaN}function dN(e,t){var r=cN(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}sN.prototype=lN.prototype,lN.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const hN={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>dN(100*e,t),r:dN,s:function(e,t){var r=cN(e,t);if(!r)return e+"";var n=r[0],a=r[1],i=a-(iN=3*Math.max(-8,Math.min(8,Math.floor(a/3))))+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+cN(e,Math.max(0,t+i-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function fN(e){return e}var pN,mN,gN,yN=Array.prototype.map,vN=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function bN(e){var t,r,n=void 0===e.grouping||void 0===e.thousands?fN:(t=yN.call(e.grouping,Number),r=e.thousands+"",function(e,n){for(var a=e.length,i=[],o=0,s=t[0],l=0;a>0&&s>0&&(l+s+1>n&&(s=Math.max(1,n-l)),i.push(e.substring(a-=s,a+s)),!((l+=s+1)>n));)s=t[o=(o+1)%t.length];return i.reverse().join(r)}),a=void 0===e.currency?"":e.currency[0]+"",i=void 0===e.currency?"":e.currency[1]+"",o=void 0===e.decimal?".":e.decimal+"",s=void 0===e.numerals?fN:function(e){return function(t){return t.replace(/[0-9]/g,function(t){return e[+t]})}}(yN.call(e.numerals,String)),l=void 0===e.percent?"%":e.percent+"",c=void 0===e.minus?"\u2212":e.minus+"",u=void 0===e.nan?"NaN":e.nan+"";function d(e){var t=(e=sN(e)).fill,r=e.align,d=e.sign,h=e.symbol,f=e.zero,p=e.width,m=e.comma,g=e.precision,y=e.trim,v=e.type;"n"===v?(m=!0,v="g"):hN[v]||(void 0===g&&(g=12),y=!0,v="g"),(f||"0"===t&&"="===r)&&(f=!0,t="0",r="=");var b="$"===h?a:"#"===h&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",x="$"===h?i:/[%p]/.test(v)?l:"",w=hN[v],k=/[defgprs%]/.test(v);function j(e){var a,i,l,h=b,j=x;if("c"===v)j=w(e)+j,e="";else{var S=(e=+e)<0||1/e<0;if(e=isNaN(e)?u:w(Math.abs(e),g),y&&(e=function(e){e:for(var t,r=e.length,n=1,a=-1;n<r;++n)switch(e[n]){case".":a=t=n;break;case"0":0===a&&(a=n),t=n;break;default:if(!+e[n])break e;a>0&&(a=0)}return a>0?e.slice(0,a)+e.slice(t+1):e}(e)),S&&0===+e&&"+"!==d&&(S=!1),h=(S?"("===d?d:c:"-"===d||"("===d?"":d)+h,j=("s"===v?vN[8+iN/3]:"")+j+(S&&"("===d?")":""),k)for(a=-1,i=e.length;++a<i;)if(48>(l=e.charCodeAt(a))||l>57){j=(46===l?o+e.slice(a+1):e.slice(a))+j,e=e.slice(0,a);break}}m&&!f&&(e=n(e,1/0));var N=h.length+e.length+j.length,E=N<p?new Array(p-N+1).join(t):"";switch(m&&f&&(e=n(E+e,E.length?p-j.length:1/0),E=""),r){case"<":e=h+e+j+E;break;case"=":e=h+E+e+j;break;case"^":e=E.slice(0,N=E.length>>1)+h+e+j+E.slice(N);break;default:e=E+h+e+j}return s(e)}return g=void 0===g?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),j.toString=function(){return e+""},j}return{format:d,formatPrefix:function(e,t){var r=d(((e=sN(e)).type="f",e)),n=3*Math.max(-8,Math.min(8,Math.floor(uN(t)/3))),a=Math.pow(10,-n),i=vN[8+n/3];return function(e){return r(a*e)+i}}}}function xN(e,t,r,n){var a,i=qj(e,t,r);switch((n=sN(null==n?",f":n)).type){case"s":var o=Math.max(Math.abs(e),Math.abs(t));return null!=n.precision||isNaN(a=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(uN(t)/3)))-uN(Math.abs(e)))}(i,o))||(n.precision=a),gN(n,o);case"":case"e":case"g":case"p":case"r":null!=n.precision||isNaN(a=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,uN(t)-uN(e))+1}(i,Math.max(Math.abs(e),Math.abs(t))))||(n.precision=a-("e"===n.type));break;case"f":case"%":null!=n.precision||isNaN(a=function(e){return Math.max(0,-uN(Math.abs(e)))}(i))||(n.precision=a-2*("%"===n.type))}return mN(n)}function wN(e){var t=e.domain;return e.ticks=function(e){var r=t();return Bj(r[0],r[r.length-1],null==e?10:e)},e.tickFormat=function(e,r){var n=t();return xN(n[0],n[n.length-1],null==e?10:e,r)},e.nice=function(r){null==r&&(r=10);var n,a,i=t(),o=0,s=i.length-1,l=i[o],c=i[s],u=10;for(c<l&&(a=l,l=c,c=a,a=o,o=s,s=a);u-- >0;){if((a=$j(l,c,r))===n)return i[o]=l,i[s]=c,t(i);if(a>0)l=Math.floor(l/a)*a,c=Math.ceil(c/a)*a;else{if(!(a<0))break;l=Math.ceil(l*a)/a,c=Math.floor(c*a)/a}n=a}return e},e}function kN(){var e=aN();return e.copy=function(){return rN(e,kN())},Ej.apply(e,arguments),wN(e)}function jN(e){var t;function r(e){return null==e||isNaN(e=+e)?t:e}return r.invert=r,r.domain=r.range=function(t){return arguments.length?(e=Array.from(t,QS),r):e.slice()},r.unknown=function(e){return arguments.length?(t=e,r):t},r.copy=function(){return jN(e).unknown(t)},e=arguments.length?Array.from(e,QS):[0,1],wN(r)}function SN(e,t){var r,n=0,a=(e=e.slice()).length-1,i=e[n],o=e[a];return o<i&&(r=n,n=a,a=r,r=i,i=o,o=r),e[n]=t.floor(i),e[a]=t.ceil(o),e}function NN(e){return Math.log(e)}function EN(e){return Math.exp(e)}function _N(e){return-Math.log(-e)}function AN(e){return-Math.exp(-e)}function CN(e){return isFinite(e)?+("1e"+e):e<0?0:e}function TN(e){return(t,r)=>-e(-t,r)}function ON(e){const t=e(NN,EN),r=t.domain;let n,a,i=10;function o(){return n=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}(i),a=function(e){return 10===e?CN:e===Math.E?Math.exp:t=>Math.pow(e,t)}(i),r()[0]<0?(n=TN(n),a=TN(a),e(_N,AN)):e(NN,EN),t}return t.base=function(e){return arguments.length?(i=+e,o()):i},t.domain=function(e){return arguments.length?(r(e),o()):r()},t.ticks=e=>{const t=r();let o=t[0],s=t[t.length-1];const l=s<o;l&&([o,s]=[s,o]);let c,u,d=n(o),h=n(s);const f=null==e?10:+e;let p=[];if(!(i%1)&&h-d<f){if(d=Math.floor(d),h=Math.ceil(h),o>0){for(;d<=h;++d)for(c=1;c<i;++c)if(u=d<0?c/a(-d):c*a(d),!(u<o)){if(u>s)break;p.push(u)}}else for(;d<=h;++d)for(c=i-1;c>=1;--c)if(u=d>0?c/a(-d):c*a(d),!(u<o)){if(u>s)break;p.push(u)}2*p.length<f&&(p=Bj(o,s,f))}else p=Bj(d,h,Math.min(h-d,f)).map(a);return l?p.reverse():p},t.tickFormat=(e,r)=>{if(null==e&&(e=10),null==r&&(r=10===i?"s":","),"function"!==typeof r&&(i%1||null!=(r=sN(r)).precision||(r.trim=!0),r=mN(r)),e===1/0)return r;const o=Math.max(1,i*e/t.ticks().length);return e=>{let t=e/a(Math.round(n(e)));return t*i<i-.5&&(t*=i),t<=o?r(e):""}},t.nice=()=>r(SN(r(),{floor:e=>a(Math.floor(n(e))),ceil:e=>a(Math.ceil(n(e)))})),t}function IN(){const e=ON(nN()).domain([1,10]);return e.copy=()=>rN(e,IN()).base(e.base()),Ej.apply(e,arguments),e}function PN(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function DN(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function MN(e){var t=1,r=e(PN(t),DN(t));return r.constant=function(r){return arguments.length?e(PN(t=+r),DN(t)):t},wN(r)}function RN(){var e=MN(nN());return e.copy=function(){return rN(e,RN()).constant(e.constant())},Ej.apply(e,arguments)}function LN(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function FN(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function zN(e){return e<0?-e*e:e*e}function UN(e){var t=e(JS,JS),r=1;return t.exponent=function(t){return arguments.length?1===(r=+t)?e(JS,JS):.5===r?e(FN,zN):e(LN(r),LN(1/r)):r},wN(t)}function VN(){var e=UN(nN());return e.copy=function(){return rN(e,VN()).exponent(e.exponent())},Ej.apply(e,arguments),e}function BN(){return VN.apply(null,arguments).exponent(.5)}function $N(e){return Math.sign(e)*e*e}function qN(){var e,t=aN(),r=[0,1],n=!1;function a(r){var a=function(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}(t(r));return isNaN(a)?e:n?Math.round(a):a}return a.invert=function(e){return t.invert($N(e))},a.domain=function(e){return arguments.length?(t.domain(e),a):t.domain()},a.range=function(e){return arguments.length?(t.range((r=Array.from(e,QS)).map($N)),a):r.slice()},a.rangeRound=function(e){return a.range(e).round(!0)},a.round=function(e){return arguments.length?(n=!!e,a):n},a.clamp=function(e){return arguments.length?(t.clamp(e),a):t.clamp()},a.unknown=function(t){return arguments.length?(e=t,a):e},a.copy=function(){return qN(t.domain(),r).round(n).clamp(t.clamp()).unknown(e)},Ej.apply(a,arguments),wN(a)}function HN(e,t){let r;if(void 0===t)for(const n of e)null!=n&&(r<n||void 0===r&&n>=n)&&(r=n);else{let n=-1;for(let a of e)null!=(a=t(a,++n,e))&&(r<a||void 0===r&&a>=a)&&(r=a)}return r}function KN(e,t){let r;if(void 0===t)for(const n of e)null!=n&&(r>n||void 0===r&&n>=n)&&(r=n);else{let n=-1;for(let a of e)null!=(a=t(a,++n,e))&&(r>a||void 0===r&&a>=a)&&(r=a)}return r}function WN(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Hj;if(e===Hj)return GN;if("function"!==typeof e)throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||0===n?n:(0===e(r,r))-(0===e(t,t))}}function GN(e,t){return(null==e||!(e>=e))-(null==t||!(t>=t))||(e<t?-1:e>t?1:0)}function YN(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0,a=arguments.length>4?arguments[4]:void 0;if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=void 0===a?GN:WN(a);n>r;){if(n-r>600){const i=n-r+1,o=t-r+1,s=Math.log(i),l=.5*Math.exp(2*s/3),c=.5*Math.sqrt(s*l*(i-l)/i)*(o-i/2<0?-1:1);YN(e,t,Math.max(r,Math.floor(t-o*l/i+c)),Math.min(n,Math.floor(t+(i-o)*l/i+c)),a)}const i=e[t];let o=r,s=n;for(QN(e,r,t),a(e[n],i)>0&&QN(e,r,n);o<s;){for(QN(e,o,s),++o,--s;a(e[o],i)<0;)++o;for(;a(e[s],i)>0;)--s}0===a(e[r],i)?QN(e,r,s):(++s,QN(e,s,n)),s<=t&&(r=s+1),t<=s&&(n=s-1)}return e}function QN(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function XN(e,t,r){if(e=Float64Array.from(function*(e,t){if(void 0===t)for(let r of e)null!=r&&(r=+r)>=r&&(yield r);else{let r=-1;for(let n of e)null!=(n=t(n,++r,e))&&(n=+n)>=n&&(yield n)}}(e,r)),(n=e.length)&&!isNaN(t=+t)){if(t<=0||n<2)return KN(e);if(t>=1)return HN(e);var n,a=(n-1)*t,i=Math.floor(a),o=HN(YN(e,i).subarray(0,i+1));return o+(KN(e.subarray(i+1))-o)*(a-i)}}function JN(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Yj;if((n=e.length)&&!isNaN(t=+t)){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),o=+r(e[i],i,e);return o+(+r(e[i+1],i+1,e)-o)*(a-i)}}function ZN(){var e,t=[],r=[],n=[];function a(){var e=0,a=Math.max(1,r.length);for(n=new Array(a-1);++e<a;)n[e-1]=JN(t,e/a);return i}function i(t){return null==t||isNaN(t=+t)?e:r[Jj(n,t)]}return i.invertExtent=function(e){var a=r.indexOf(e);return a<0?[NaN,NaN]:[a>0?n[a-1]:t[0],a<n.length?n[a]:t[t.length-1]]},i.domain=function(e){if(!arguments.length)return t.slice();t=[];for(let r of e)null==r||isNaN(r=+r)||t.push(r);return t.sort(Hj),a()},i.range=function(e){return arguments.length?(r=Array.from(e),a()):r.slice()},i.unknown=function(t){return arguments.length?(e=t,i):e},i.quantiles=function(){return n.slice()},i.copy=function(){return ZN().domain(t).range(r).unknown(e)},Ej.apply(i,arguments)}function eE(){var e,t=0,r=1,n=1,a=[.5],i=[0,1];function o(t){return null!=t&&t<=t?i[Jj(a,t,0,n)]:e}function s(){var e=-1;for(a=new Array(n);++e<n;)a[e]=((e+1)*r-(e-n)*t)/(n+1);return o}return o.domain=function(e){return arguments.length?([t,r]=e,t=+t,r=+r,s()):[t,r]},o.range=function(e){return arguments.length?(n=(i=Array.from(e)).length-1,s()):i.slice()},o.invertExtent=function(e){var o=i.indexOf(e);return o<0?[NaN,NaN]:o<1?[t,a[0]]:o>=n?[a[n-1],r]:[a[o-1],a[o]]},o.unknown=function(t){return arguments.length?(e=t,o):o},o.thresholds=function(){return a.slice()},o.copy=function(){return eE().domain([t,r]).range(i).unknown(e)},Ej.apply(wN(o),arguments)}function tE(){var e,t=[.5],r=[0,1],n=1;function a(a){return null!=a&&a<=a?r[Jj(t,a,0,n)]:e}return a.domain=function(e){return arguments.length?(t=Array.from(e),n=Math.min(t.length,r.length-1),a):t.slice()},a.range=function(e){return arguments.length?(r=Array.from(e),n=Math.min(t.length,r.length-1),a):r.slice()},a.invertExtent=function(e){var n=r.indexOf(e);return[t[n-1],t[n]]},a.unknown=function(t){return arguments.length?(e=t,a):e},a.copy=function(){return tE().domain(t).range(r).unknown(e)},Ej.apply(a,arguments)}pN=bN({thousands:",",grouping:[3],currency:["$",""]}),mN=pN.format,gN=pN.formatPrefix;const rE=1e3,nE=6e4,aE=36e5,iE=864e5,oE=6048e5,sE=2592e6,lE=31536e6,cE=new Date,uE=new Date;function dE(e,t,r,n){function a(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return a.floor=t=>(e(t=new Date(+t)),t),a.ceil=r=>(e(r=new Date(r-1)),t(r,1),e(r),r),a.round=e=>{const t=a(e),r=a.ceil(e);return e-t<r-e?t:r},a.offset=(e,r)=>(t(e=new Date(+e),null==r?1:Math.floor(r)),e),a.range=(r,n,i)=>{const o=[];if(r=a.ceil(r),i=null==i?1:Math.floor(i),!(r<n)||!(i>0))return o;let s;do{o.push(s=new Date(+r)),t(r,i),e(r)}while(s<r&&r<n);return o},a.filter=r=>dE(t=>{if(t>=t)for(;e(t),!r(t);)t.setTime(t-1)},(e,n)=>{if(e>=e)if(n<0)for(;++n<=0;)for(;t(e,-1),!r(e););else for(;--n>=0;)for(;t(e,1),!r(e););}),r&&(a.count=(t,n)=>(cE.setTime(+t),uE.setTime(+n),e(cE),e(uE),Math.floor(r(cE,uE))),a.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?a.filter(n?t=>n(t)%e===0:t=>a.count(0,t)%e===0):a:null)),a}const hE=dE(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);hE.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?dE(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):hE:null);hE.range;const fE=dE(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*rE)},(e,t)=>(t-e)/rE,e=>e.getUTCSeconds()),pE=(fE.range,dE(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*rE)},(e,t)=>{e.setTime(+e+t*nE)},(e,t)=>(t-e)/nE,e=>e.getMinutes())),mE=(pE.range,dE(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*nE)},(e,t)=>(t-e)/nE,e=>e.getUTCMinutes())),gE=(mE.range,dE(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*rE-e.getMinutes()*nE)},(e,t)=>{e.setTime(+e+t*aE)},(e,t)=>(t-e)/aE,e=>e.getHours())),yE=(gE.range,dE(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*aE)},(e,t)=>(t-e)/aE,e=>e.getUTCHours())),vE=(yE.range,dE(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*nE)/iE,e=>e.getDate()-1)),bE=(vE.range,dE(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/iE,e=>e.getUTCDate()-1)),xE=(bE.range,dE(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/iE,e=>Math.floor(e/iE)));xE.range;function wE(e){return dE(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(e,t)=>{e.setDate(e.getDate()+7*t)},(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*nE)/oE)}const kE=wE(0),jE=wE(1),SE=wE(2),NE=wE(3),EE=wE(4),_E=wE(5),AE=wE(6);kE.range,jE.range,SE.range,NE.range,EE.range,_E.range,AE.range;function CE(e){return dE(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+7*t)},(e,t)=>(t-e)/oE)}const TE=CE(0),OE=CE(1),IE=CE(2),PE=CE(3),DE=CE(4),ME=CE(5),RE=CE(6),LE=(TE.range,OE.range,IE.range,PE.range,DE.range,ME.range,RE.range,dE(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear()),e=>e.getMonth())),FE=(LE.range,dE(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear()),e=>e.getUTCMonth())),zE=(FE.range,dE(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear()));zE.every=e=>isFinite(e=Math.floor(e))&&e>0?dE(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)}):null;zE.range;const UE=dE(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());UE.every=e=>isFinite(e=Math.floor(e))&&e>0?dE(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)}):null;UE.range;function VE(e,t,r,n,a,i){const o=[[fE,1,rE],[fE,5,5e3],[fE,15,15e3],[fE,30,3e4],[i,1,nE],[i,5,3e5],[i,15,9e5],[i,30,18e5],[a,1,aE],[a,3,108e5],[a,6,216e5],[a,12,432e5],[n,1,iE],[n,2,1728e5],[r,1,oE],[t,1,sE],[t,3,7776e6],[e,1,lE]];function s(t,r,n){const a=Math.abs(r-t)/n,i=Wj(e=>{let[,,t]=e;return t}).right(o,a);if(i===o.length)return e.every(qj(t/lE,r/lE,n));if(0===i)return hE.every(Math.max(qj(t,r,n),1));const[s,l]=o[a/o[i-1][2]<o[i][2]/a?i-1:i];return s.every(l)}return[function(e,t,r){const n=t<e;n&&([e,t]=[t,e]);const a=r&&"function"===typeof r.range?r:s(e,t,r),i=a?a.range(e,+t+1):[];return n?i.reverse():i},s]}const[BE,$E]=VE(UE,FE,TE,xE,yE,mE),[qE,HE]=VE(zE,LE,kE,vE,gE,pE);function KE(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function WE(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function GE(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}var YE,QE,XE,JE={"-":"",_:" ",0:"0"},ZE=/^\s*\d+/,e_=/^%/,t_=/[\\^$*+?|[\]().{}]/g;function r_(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function n_(e){return e.replace(t_,"\\$&")}function a_(e){return new RegExp("^(?:"+e.map(n_).join("|")+")","i")}function i_(e){return new Map(e.map((e,t)=>[e.toLowerCase(),t]))}function o_(e,t,r){var n=ZE.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function s_(e,t,r){var n=ZE.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function l_(e,t,r){var n=ZE.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function c_(e,t,r){var n=ZE.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function u_(e,t,r){var n=ZE.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function d_(e,t,r){var n=ZE.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function h_(e,t,r){var n=ZE.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function f_(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function p_(e,t,r){var n=ZE.exec(t.slice(r,r+1));return n?(e.q=3*n[0]-3,r+n[0].length):-1}function m_(e,t,r){var n=ZE.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function g_(e,t,r){var n=ZE.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function y_(e,t,r){var n=ZE.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function v_(e,t,r){var n=ZE.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function b_(e,t,r){var n=ZE.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function x_(e,t,r){var n=ZE.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function w_(e,t,r){var n=ZE.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function k_(e,t,r){var n=ZE.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function j_(e,t,r){var n=e_.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function S_(e,t,r){var n=ZE.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function N_(e,t,r){var n=ZE.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function E_(e,t){return r_(e.getDate(),t,2)}function __(e,t){return r_(e.getHours(),t,2)}function A_(e,t){return r_(e.getHours()%12||12,t,2)}function C_(e,t){return r_(1+vE.count(zE(e),e),t,3)}function T_(e,t){return r_(e.getMilliseconds(),t,3)}function O_(e,t){return T_(e,t)+"000"}function I_(e,t){return r_(e.getMonth()+1,t,2)}function P_(e,t){return r_(e.getMinutes(),t,2)}function D_(e,t){return r_(e.getSeconds(),t,2)}function M_(e){var t=e.getDay();return 0===t?7:t}function R_(e,t){return r_(kE.count(zE(e)-1,e),t,2)}function L_(e){var t=e.getDay();return t>=4||0===t?EE(e):EE.ceil(e)}function F_(e,t){return e=L_(e),r_(EE.count(zE(e),e)+(4===zE(e).getDay()),t,2)}function z_(e){return e.getDay()}function U_(e,t){return r_(jE.count(zE(e)-1,e),t,2)}function V_(e,t){return r_(e.getFullYear()%100,t,2)}function B_(e,t){return r_((e=L_(e)).getFullYear()%100,t,2)}function $_(e,t){return r_(e.getFullYear()%1e4,t,4)}function q_(e,t){var r=e.getDay();return r_((e=r>=4||0===r?EE(e):EE.ceil(e)).getFullYear()%1e4,t,4)}function H_(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+r_(t/60|0,"0",2)+r_(t%60,"0",2)}function K_(e,t){return r_(e.getUTCDate(),t,2)}function W_(e,t){return r_(e.getUTCHours(),t,2)}function G_(e,t){return r_(e.getUTCHours()%12||12,t,2)}function Y_(e,t){return r_(1+bE.count(UE(e),e),t,3)}function Q_(e,t){return r_(e.getUTCMilliseconds(),t,3)}function X_(e,t){return Q_(e,t)+"000"}function J_(e,t){return r_(e.getUTCMonth()+1,t,2)}function Z_(e,t){return r_(e.getUTCMinutes(),t,2)}function eA(e,t){return r_(e.getUTCSeconds(),t,2)}function tA(e){var t=e.getUTCDay();return 0===t?7:t}function rA(e,t){return r_(TE.count(UE(e)-1,e),t,2)}function nA(e){var t=e.getUTCDay();return t>=4||0===t?DE(e):DE.ceil(e)}function aA(e,t){return e=nA(e),r_(DE.count(UE(e),e)+(4===UE(e).getUTCDay()),t,2)}function iA(e){return e.getUTCDay()}function oA(e,t){return r_(OE.count(UE(e)-1,e),t,2)}function sA(e,t){return r_(e.getUTCFullYear()%100,t,2)}function lA(e,t){return r_((e=nA(e)).getUTCFullYear()%100,t,2)}function cA(e,t){return r_(e.getUTCFullYear()%1e4,t,4)}function uA(e,t){var r=e.getUTCDay();return r_((e=r>=4||0===r?DE(e):DE.ceil(e)).getUTCFullYear()%1e4,t,4)}function dA(){return"+0000"}function hA(){return"%"}function fA(e){return+e}function pA(e){return Math.floor(+e/1e3)}function mA(e){return new Date(e)}function gA(e){return e instanceof Date?+e:+new Date(+e)}function yA(e,t,r,n,a,i,o,s,l,c){var u=aN(),d=u.invert,h=u.domain,f=c(".%L"),p=c(":%S"),m=c("%I:%M"),g=c("%I %p"),y=c("%a %d"),v=c("%b %d"),b=c("%B"),x=c("%Y");function w(e){return(l(e)<e?f:s(e)<e?p:o(e)<e?m:i(e)<e?g:n(e)<e?a(e)<e?y:v:r(e)<e?b:x)(e)}return u.invert=function(e){return new Date(d(e))},u.domain=function(e){return arguments.length?h(Array.from(e,gA)):h().map(mA)},u.ticks=function(t){var r=h();return e(r[0],r[r.length-1],null==t?10:t)},u.tickFormat=function(e,t){return null==t?w:c(t)},u.nice=function(e){var r=h();return e&&"function"===typeof e.range||(e=t(r[0],r[r.length-1],null==e?10:e)),e?h(SN(r,e)):u},u.copy=function(){return rN(u,yA(e,t,r,n,a,i,o,s,l,c))},u}function vA(){return Ej.apply(yA(qE,HE,zE,LE,kE,vE,gE,pE,fE,QE).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function bA(){return Ej.apply(yA(BE,$E,UE,FE,TE,bE,yE,mE,fE,XE).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function xA(){var e,t,r,n,a,i=0,o=1,s=JS,l=!1;function c(t){return null==t||isNaN(t=+t)?a:s(0===r?.5:(t=(n(t)-e)*r,l?Math.max(0,Math.min(1,t)):t))}function u(e){return function(t){var r,n;return arguments.length?([r,n]=t,s=e(r,n),c):[s(0),s(1)]}}return c.domain=function(a){return arguments.length?([i,o]=a,e=n(i=+i),t=n(o=+o),r=e===t?0:1/(t-e),c):[i,o]},c.clamp=function(e){return arguments.length?(l=!!e,c):l},c.interpolator=function(e){return arguments.length?(s=e,c):s},c.range=u(GS),c.rangeRound=u(YS),c.unknown=function(e){return arguments.length?(a=e,c):a},function(a){return n=a,e=a(i),t=a(o),r=e===t?0:1/(t-e),c}}function wA(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function kA(){var e=wN(xA()(JS));return e.copy=function(){return wA(e,kA())},_j.apply(e,arguments)}function jA(){var e=ON(xA()).domain([1,10]);return e.copy=function(){return wA(e,jA()).base(e.base())},_j.apply(e,arguments)}function SA(){var e=MN(xA());return e.copy=function(){return wA(e,SA()).constant(e.constant())},_j.apply(e,arguments)}function NA(){var e=UN(xA());return e.copy=function(){return wA(e,NA()).exponent(e.exponent())},_j.apply(e,arguments)}function EA(){return NA.apply(null,arguments).exponent(.5)}function _A(){var e=[],t=JS;function r(r){if(null!=r&&!isNaN(r=+r))return t((Jj(e,r,1)-1)/(e.length-1))}return r.domain=function(t){if(!arguments.length)return e.slice();e=[];for(let r of t)null==r||isNaN(r=+r)||e.push(r);return e.sort(Hj),r},r.interpolator=function(e){return arguments.length?(t=e,r):t},r.range=function(){return e.map((r,n)=>t(n/(e.length-1)))},r.quantiles=function(t){return Array.from({length:t+1},(r,n)=>XN(e,n/t))},r.copy=function(){return _A(t).domain(e)},_j.apply(r,arguments)}function AA(){var e,t,r,n,a,i,o,s=0,l=.5,c=1,u=1,d=JS,h=!1;function f(e){return isNaN(e=+e)?o:(e=.5+((e=+i(e))-t)*(u*e<u*t?n:a),d(h?Math.max(0,Math.min(1,e)):e))}function p(e){return function(t){var r,n,a;return arguments.length?([r,n,a]=t,d=function(e,t){void 0===t&&(t=e,e=GS);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(e){var t=Math.max(0,Math.min(n-1,Math.floor(e*=n)));return i[t](e-t)}}(e,[r,n,a]),f):[d(0),d(.5),d(1)]}}return f.domain=function(o){return arguments.length?([s,l,c]=o,e=i(s=+s),t=i(l=+l),r=i(c=+c),n=e===t?0:.5/(t-e),a=t===r?0:.5/(r-t),u=t<e?-1:1,f):[s,l,c]},f.clamp=function(e){return arguments.length?(h=!!e,f):h},f.interpolator=function(e){return arguments.length?(d=e,f):d},f.range=p(GS),f.rangeRound=p(YS),f.unknown=function(e){return arguments.length?(o=e,f):o},function(o){return i=o,e=o(s),t=o(l),r=o(c),n=e===t?0:.5/(t-e),a=t===r?0:.5/(r-t),u=t<e?-1:1,f}}function CA(){var e=wN(AA()(JS));return e.copy=function(){return wA(e,CA())},_j.apply(e,arguments)}function TA(){var e=ON(AA()).domain([.1,1,10]);return e.copy=function(){return wA(e,TA()).base(e.base())},_j.apply(e,arguments)}function OA(){var e=MN(AA());return e.copy=function(){return wA(e,OA()).constant(e.constant())},_j.apply(e,arguments)}function IA(){var e=UN(AA());return e.copy=function(){return wA(e,IA()).exponent(e.exponent())},_j.apply(e,arguments)}function PA(){return IA.apply(null,arguments).exponent(.5)}!function(e){YE=function(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,o=e.shortDays,s=e.months,l=e.shortMonths,c=a_(a),u=i_(a),d=a_(i),h=i_(i),f=a_(o),p=i_(o),m=a_(s),g=i_(s),y=a_(l),v=i_(l),b={a:function(e){return o[e.getDay()]},A:function(e){return i[e.getDay()]},b:function(e){return l[e.getMonth()]},B:function(e){return s[e.getMonth()]},c:null,d:E_,e:E_,f:O_,g:B_,G:q_,H:__,I:A_,j:C_,L:T_,m:I_,M:P_,p:function(e){return a[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:fA,s:pA,S:D_,u:M_,U:R_,V:F_,w:z_,W:U_,x:null,X:null,y:V_,Y:$_,Z:H_,"%":hA},x={a:function(e){return o[e.getUTCDay()]},A:function(e){return i[e.getUTCDay()]},b:function(e){return l[e.getUTCMonth()]},B:function(e){return s[e.getUTCMonth()]},c:null,d:K_,e:K_,f:X_,g:lA,G:uA,H:W_,I:G_,j:Y_,L:Q_,m:J_,M:Z_,p:function(e){return a[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:fA,s:pA,S:eA,u:tA,U:rA,V:aA,w:iA,W:oA,x:null,X:null,y:sA,Y:cA,Z:dA,"%":hA},w={a:function(e,t,r){var n=f.exec(t.slice(r));return n?(e.w=p.get(n[0].toLowerCase()),r+n[0].length):-1},A:function(e,t,r){var n=d.exec(t.slice(r));return n?(e.w=h.get(n[0].toLowerCase()),r+n[0].length):-1},b:function(e,t,r){var n=y.exec(t.slice(r));return n?(e.m=v.get(n[0].toLowerCase()),r+n[0].length):-1},B:function(e,t,r){var n=m.exec(t.slice(r));return n?(e.m=g.get(n[0].toLowerCase()),r+n[0].length):-1},c:function(e,r,n){return S(e,t,r,n)},d:g_,e:g_,f:k_,g:h_,G:d_,H:v_,I:v_,j:y_,L:w_,m:m_,M:b_,p:function(e,t,r){var n=c.exec(t.slice(r));return n?(e.p=u.get(n[0].toLowerCase()),r+n[0].length):-1},q:p_,Q:S_,s:N_,S:x_,u:s_,U:l_,V:c_,w:o_,W:u_,x:function(e,t,n){return S(e,r,t,n)},X:function(e,t,r){return S(e,n,t,r)},y:h_,Y:d_,Z:f_,"%":j_};function k(e,t){return function(r){var n,a,i,o=[],s=-1,l=0,c=e.length;for(r instanceof Date||(r=new Date(+r));++s<c;)37===e.charCodeAt(s)&&(o.push(e.slice(l,s)),null!=(a=JE[n=e.charAt(++s)])?n=e.charAt(++s):a="e"===n?" ":"0",(i=t[n])&&(n=i(r,a)),o.push(n),l=s+1);return o.push(e.slice(l,s)),o.join("")}}function j(e,t){return function(r){var n,a,i=GE(1900,void 0,1);if(S(i,e,r+="",0)!=r.length)return null;if("Q"in i)return new Date(i.Q);if("s"in i)return new Date(1e3*i.s+("L"in i?i.L:0));if(t&&!("Z"in i)&&(i.Z=0),"p"in i&&(i.H=i.H%12+12*i.p),void 0===i.m&&(i.m="q"in i?i.q:0),"V"in i){if(i.V<1||i.V>53)return null;"w"in i||(i.w=1),"Z"in i?(a=(n=WE(GE(i.y,0,1))).getUTCDay(),n=a>4||0===a?OE.ceil(n):OE(n),n=bE.offset(n,7*(i.V-1)),i.y=n.getUTCFullYear(),i.m=n.getUTCMonth(),i.d=n.getUTCDate()+(i.w+6)%7):(a=(n=KE(GE(i.y,0,1))).getDay(),n=a>4||0===a?jE.ceil(n):jE(n),n=vE.offset(n,7*(i.V-1)),i.y=n.getFullYear(),i.m=n.getMonth(),i.d=n.getDate()+(i.w+6)%7)}else("W"in i||"U"in i)&&("w"in i||(i.w="u"in i?i.u%7:"W"in i?1:0),a="Z"in i?WE(GE(i.y,0,1)).getUTCDay():KE(GE(i.y,0,1)).getDay(),i.m=0,i.d="W"in i?(i.w+6)%7+7*i.W-(a+5)%7:i.w+7*i.U-(a+6)%7);return"Z"in i?(i.H+=i.Z/100|0,i.M+=i.Z%100,WE(i)):KE(i)}}function S(e,t,r,n){for(var a,i,o=0,s=t.length,l=r.length;o<s;){if(n>=l)return-1;if(37===(a=t.charCodeAt(o++))){if(a=t.charAt(o++),!(i=w[a in JE?t.charAt(o++):a])||(n=i(e,r,n))<0)return-1}else if(a!=r.charCodeAt(n++))return-1}return n}return b.x=k(r,b),b.X=k(n,b),b.c=k(t,b),x.x=k(r,x),x.X=k(n,x),x.c=k(t,x),{format:function(e){var t=k(e+="",b);return t.toString=function(){return e},t},parse:function(e){var t=j(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=k(e+="",x);return t.toString=function(){return e},t},utcParse:function(e){var t=j(e+="",!0);return t.toString=function(){return e},t}}}(e),QE=YE.format,YE.parse,XE=YE.utcFormat,YE.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var DA=e=>e.chartData,MA=nk([DA],e=>{var t=null!=e.chartData?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),RA=(e,t,r,n)=>n?MA(e):DA(e);function LA(e){return Number.isFinite(e)}function FA(e){return"number"===typeof e&&e>0&&Number.isFinite(e)}function zA(e){if(Array.isArray(e)&&2===e.length){var[t,r]=e;if(LA(t)&&LA(r))return!0}return!1}function UA(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}var VA=r(8210),BA=r.n(VA),$A=e=>e,qA={"@@functional/placeholder":!0},HA=e=>e===qA,KA=e=>function t(){return 0===arguments.length||1===arguments.length&&HA(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},WA=(e,t)=>1===e?t:KA(function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];var i=n.filter(e=>e!==qA).length;return i>=e?t(...n):WA(e-i,KA(function(){for(var e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];var i=n.map(e=>HA(e)?r.shift():e);return t(...i,...r)}))}),GA=e=>WA(e.length,e),YA=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},QA=GA((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(e=>t[e]).map(e)),XA=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),JA=e=>{var t=null,r=null;return function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return t&&a.every((e,r)=>{var n;return e===(null===(n=t)||void 0===n?void 0:n[r])})?r:(t=a,r=e(...a))}};function ZA(e){return 0===e?1:Math.floor(new(BA())(e).abs().log(10).toNumber())+1}function eC(e,t,r){for(var n=new(BA())(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}GA((e,t,r)=>{var n=+e;return n+r*(+t-n)}),GA((e,t,r)=>{var n=t-+e;return(r-e)/(n=n||1/0)}),GA((e,t,r)=>{var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});var tC=e=>{var[t,r]=e,[n,a]=[t,r];return t>r&&([n,a]=[r,t]),[n,a]},rC=(e,t,r)=>{if(e.lte(0))return new(BA())(0);var n=ZA(e.toNumber()),a=new(BA())(10).pow(n),i=e.div(a),o=1!==n?.05:.1,s=new(BA())(Math.ceil(i.div(o).toNumber())).add(r).mul(o).mul(a);return t?new(BA())(s.toNumber()):new(BA())(Math.ceil(s.toNumber()))},nC=(e,t,r)=>{var n=new(BA())(1),a=new(BA())(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new(BA())(10).pow(ZA(e)-1),a=new(BA())(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new(BA())(Math.floor(e)))}else 0===e?a=new(BA())(Math.floor((t-1)/2)):r||(a=new(BA())(Math.floor(e)));var o=Math.floor((t-1)/2);return function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(!t.length)return $A;var n=t.reverse(),a=n[0],i=n.slice(1);return function(){return i.reduce((e,t)=>t(e),a(...arguments))}}(QA(e=>a.add(new(BA())(e-o).mul(n)).toNumber()),YA)(0,t)},aC=function(e,t,r,n){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new(BA())(0),tickMin:new(BA())(0),tickMax:new(BA())(0)};var i,o=rC(new(BA())(t).sub(e).div(r-1),n,a);i=e<=0&&t>=0?new(BA())(0):(i=new(BA())(e).add(t).div(2)).sub(new(BA())(i).mod(o));var s=Math.ceil(i.sub(e).div(o).toNumber()),l=Math.ceil(new(BA())(t).sub(i).div(o).toNumber()),c=s+l+1;return c>r?aC(e,t,r,n,a+1):(c<r&&(l=t>0?l+(r-c):l,s=t>0?s:s+(r-c)),{step:o,tickMin:i.sub(new(BA())(s).mul(o)),tickMax:i.add(new(BA())(l).mul(o))})};var iC=JA(function(e){var[t,r]=e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=Math.max(n,2),[o,s]=tC([t,r]);if(o===-1/0||s===1/0){var l=s===1/0?[o,...YA(0,n-1).map(()=>1/0)]:[...YA(0,n-1).map(()=>-1/0),s];return t>r?XA(l):l}if(o===s)return nC(o,n,a);var{step:c,tickMin:u,tickMax:d}=aC(o,s,i,a,0),h=eC(u,d.add(new(BA())(.1).mul(c)),c);return t>r?XA(h):h}),oC=JA(function(e,t){var[r,n]=e,a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],[i,o]=tC([r,n]);if(i===-1/0||o===1/0)return[r,n];if(i===o)return[i];var s=Math.max(t,2),l=rC(new(BA())(o).sub(i).div(s-1),a,0),c=[...eC(new(BA())(i),new(BA())(o),l),o];return!1===a&&(c=c.map(e=>Math.round(e))),r>n?XA(c):c}),sC=e=>e.rootProps.maxBarSize,lC=e=>e.rootProps.barCategoryGap,cC=e=>e.rootProps.stackOffset,uC=e=>e.options.chartName,dC=e=>e.rootProps.syncId,hC=e=>e.rootProps.syncMethod,fC=e=>e.options.eventEmitter,pC=0,mC="auto",gC=!0,yC=!1,vC=!0,bC=0,xC="auto",wC=!0,kC=5,jC=(e,t)=>{if(e&&t)return null!==e&&void 0!==e&&e.reversed?[t[1],t[0]]:t},SC={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:pC,includeHidden:!1,name:void 0,reversed:!1,scale:mC,tick:gC,tickCount:void 0,ticks:void 0,type:"category",unit:void 0},NC={allowDataOverflow:yC,allowDecimals:!1,allowDuplicatedCategory:vC,dataKey:void 0,domain:void 0,id:bC,includeHidden:!1,name:void 0,reversed:!1,scale:xC,tick:wC,tickCount:kC,ticks:void 0,type:"number",unit:void 0},EC={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,dataKey:void 0,domain:void 0,id:pC,includeHidden:!1,name:void 0,reversed:!1,scale:mC,tick:gC,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},_C={allowDataOverflow:yC,allowDecimals:!1,allowDuplicatedCategory:vC,dataKey:void 0,domain:void 0,id:bC,includeHidden:!1,name:void 0,reversed:!1,scale:xC,tick:wC,tickCount:kC,ticks:void 0,type:"category",unit:void 0},AC=(e,t)=>null!=e.polarAxis.angleAxis[t]?e.polarAxis.angleAxis[t]:"radial"===e.layout.layoutType?EC:SC,CC=(e,t)=>null!=e.polarAxis.radiusAxis[t]?e.polarAxis.radiusAxis[t]:"radial"===e.layout.layoutType?_C:NC,TC=e=>e.polarOptions,OC=nk([Jk,Zk,cj],Ck),IC=nk([TC,OC],(e,t)=>{if(null!=e)return hv(e.innerRadius,t,0)}),PC=nk([TC,OC],(e,t)=>{if(null!=e)return hv(e.outerRadius,t,.8*t)}),DC=nk([TC],e=>{if(null==e)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]}),MC=(nk([AC,DC],jC),nk([OC,IC,PC],(e,t,r)=>{if(null!=e&&null!=t&&null!=r)return[t,r]})),RC=(nk([CC,MC],jC),nk([kj,TC,IC,PC,Jk,Zk],(e,t,r,n,a,i)=>{if(("centric"===e||"radial"===e)&&null!=t&&null!=r&&null!=n){var{cx:o,cy:s,startAngle:l,endAngle:c}=t;return{cx:hv(o,a,a/2),cy:hv(s,i,i/2),innerRadius:r,outerRadius:n,startAngle:l,endAngle:c,clockWise:!1}}})),LC=(e,t)=>t,FC=(e,t,r)=>r;function zC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function UC(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?zC(Object(r),!0).forEach(function(t){VC(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zC(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function VC(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var BC=[0,"auto"],$C={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},qC=(e,t)=>{var r=e.cartesianAxis.xAxis[t];return null==r?$C:r},HC={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:BC,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:60},KC=(e,t)=>{var r=e.cartesianAxis.yAxis[t];return null==r?HC:r},WC={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},GC=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return null==r?WC:r},YC=(e,t,r)=>{switch(t){case"xAxis":return qC(e,r);case"yAxis":return KC(e,r);case"zAxis":return GC(e,r);case"angleAxis":return AC(e,r);case"radiusAxis":return CC(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},QC=(e,t,r)=>{switch(t){case"xAxis":return qC(e,r);case"yAxis":return KC(e,r);case"angleAxis":return AC(e,r);case"radiusAxis":return CC(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},XC=e=>e.graphicalItems.countOfBars>0;function JC(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var ZC=e=>e.graphicalItems.cartesianItems,eT=nk([LC,FC],JC),tT=(e,t,r)=>e.filter(r).filter(e=>!0===(null===t||void 0===t?void 0:t.includeHidden)||!e.hide),rT=nk([ZC,YC,eT],tT),nT=e=>e.filter(e=>void 0===e.stackId),aT=nk([rT],nT),iT=e=>e.map(e=>e.data).filter(Boolean).flat(1),oT=nk([rT],iT),sT=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:a}=t;return e.length>0?e:r.slice(n,a+1)},lT=nk([oT,RA],sT),cT=(e,t,r)=>null!=(null===t||void 0===t?void 0:t.dataKey)?e.map(e=>({value:Rk(e,t.dataKey)})):r.length>0?r.map(e=>e.dataKey).flatMap(t=>e.map(e=>({value:Rk(e,t)}))):e.map(e=>({value:e})),uT=nk([lT,YC,rT],cT);function dT(e,t){switch(e){case"xAxis":return"x"===t.direction;case"yAxis":return"y"===t.direction;default:return!1}}function hT(e){return e.filter(e=>cv(e)||e instanceof Date).map(Number).filter(e=>!1===ov(e))}function fT(e,t,r){return!r||"number"!==typeof t||ov(t)?[]:r.length?hT(r.flatMap(r=>{var n,a,i=Rk(e,r.dataKey);if(Array.isArray(i)?[n,a]=i:n=a=i,LA(n)&&LA(a))return[t-n,t+a]})):[]}var pT=(e,t,r)=>{var n=t.reduce((e,t)=>(null==t.stackId||(null==e[t.stackId]&&(e[t.stackId]=[]),e[t.stackId].push(t)),e),{});return Object.fromEntries(Object.entries(n).map(t=>{var[n,a]=t,i=a.map(e=>e.dataKey);return[n,{stackedData:Bk(e,i,r),graphicalItems:a}]}))},mT=nk([lT,rT,cC],pT),gT=(e,t,r)=>{var{dataStartIndex:n,dataEndIndex:a}=t;if("zAxis"!==r){var i=Kk(e,n,a);if(null==i||0!==i[0]||0!==i[1])return i}},yT=nk([mT,DA,LC],gT),vT=(e,t,r,n)=>r.length>0?e.flatMap(e=>r.flatMap(r=>{var a,i,o=null===(a=r.errorBars)||void 0===a?void 0:a.filter(e=>dT(n,e)),s=Rk(e,null!==(i=t.dataKey)&&void 0!==i?i:r.dataKey);return{value:s,errorDomain:fT(e,s,o)}})).filter(Boolean):null!=(null===t||void 0===t?void 0:t.dataKey)?e.map(e=>({value:Rk(e,t.dataKey),errorDomain:[]})):e.map(e=>({value:e,errorDomain:[]})),bT=nk(lT,YC,aT,LC,vT);function xT(e){var{value:t}=e;if(cv(t)||t instanceof Date)return t}var wT=e=>{var t;if(null==e||!("domain"in e))return BC;if(null!=e.domain)return e.domain;if(null!=e.ticks){if("number"===e.type){var r=hT(e.ticks);return[Math.min(...r),Math.max(...r)]}if("category"===e.type)return e.ticks.map(String)}return null!==(t=null===e||void 0===e?void 0:e.domain)&&void 0!==t?t:BC},kT=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t.filter(Boolean);if(0!==n.length){var a=n.flat();return[Math.min(...a),Math.max(...a)]}},jT=e=>e.referenceElements.dots,ST=(e,t,r)=>e.filter(e=>"extendDomain"===e.ifOverflow).filter(e=>"xAxis"===t?e.xAxisId===r:e.yAxisId===r),NT=nk([jT,LC,FC],ST),ET=e=>e.referenceElements.areas,_T=nk([ET,LC,FC],ST),AT=e=>e.referenceElements.lines,CT=nk([AT,LC,FC],ST),TT=(e,t)=>{var r=hT(e.map(e=>"xAxis"===t?e.x:e.y));if(0!==r.length)return[Math.min(...r),Math.max(...r)]},OT=nk(NT,LC,TT),IT=(e,t)=>{var r=hT(e.flatMap(e=>["xAxis"===t?e.x1:e.y1,"xAxis"===t?e.x2:e.y2]));if(0!==r.length)return[Math.min(...r),Math.max(...r)]},PT=nk([_T,LC],IT),DT=(e,t)=>{var r=hT(e.map(e=>"xAxis"===t?e.x:e.y));if(0!==r.length)return[Math.min(...r),Math.max(...r)]},MT=nk(CT,LC,DT),RT=nk(OT,MT,PT,(e,t,r)=>kT(e,r,t)),LT=nk([YC],wT),FT=(e,t,r,n,a)=>{var i=function(e,t){if(t&&"function"!==typeof e&&Array.isArray(e)&&2===e.length){var r,n,[a,i]=e;if(LA(a))r=a;else if("function"===typeof a)return;if(LA(i))n=i;else if("function"===typeof i)return;var o=[r,n];if(zA(o))return o}}(t,e.allowDataOverflow);return null!=i?i:function(e,t,r){if(r||null!=t){if("function"===typeof e&&null!=t)try{var n=e(t,r);if(zA(n))return UA(n,t,r)}catch(f){}if(Array.isArray(e)&&2===e.length){var a,i,[o,s]=e;if("auto"===o)null!=t&&(a=Math.min(...t));else if(lv(o))a=o;else if("function"===typeof o)try{null!=t&&(a=o(null===t||void 0===t?void 0:t[0]))}catch(p){}else if("string"===typeof o&&Wk.test(o)){var l=Wk.exec(o);if(null==l||null==t)a=void 0;else{var c=+l[1];a=t[0]-c}}else a=null===t||void 0===t?void 0:t[0];if("auto"===s)null!=t&&(i=Math.max(...t));else if(lv(s))i=s;else if("function"===typeof s)try{null!=t&&(i=s(null===t||void 0===t?void 0:t[1]))}catch(m){}else if("string"===typeof s&&Gk.test(s)){var u=Gk.exec(s);if(null==u||null==t)i=void 0;else{var d=+u[1];i=t[1]+d}}else i=null===t||void 0===t?void 0:t[1];var h=[a,i];if(zA(h))return null==t?h:UA(h,t,r)}}}(t,kT(r,a,(e=>{var t=hT(e.flatMap(e=>[e.value,e.errorDomain]).flat(1));if(0!==t.length)return[Math.min(...t),Math.max(...t)]})(n)),e.allowDataOverflow)},zT=nk([YC,LT,yT,bT,RT],FT),UT=[0,1],VT=(e,t,r,n,a,i,o)=>{if(null!=e&&null!=r&&0!==r.length){var{dataKey:s,type:l}=e,c=Lk(t,i);return c&&null==s?Nj()(0,r.length):"category"===l?((e,t,r)=>{var n=e.map(xT).filter(e=>null!=e);return r&&(null==t.dataKey||t.allowDuplicatedCategory&&fv(n))?Nj()(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))})(n,e,c):"expand"===a?UT:o}},BT=nk([YC,kj,lT,uT,cC,LC,zT],VT),$T=(t,r,n,a,i)=>{if(null!=t){var{scale:o,type:s}=t;if("auto"===o)return"radial"===r&&"radiusAxis"===i?"band":"radial"===r&&"angleAxis"===i?"linear":"category"===s&&a&&(a.indexOf("LineChart")>=0||a.indexOf("AreaChart")>=0||a.indexOf("ComposedChart")>=0&&!n)?"point":"category"===s?"band":"linear";if("string"===typeof o){var l="scale".concat(vv(o));return l in e?l:"point"}}},qT=nk([YC,kj,XC,uC,LC],$T);function HT(t,r,n,a){if(null!=n&&null!=a){if("function"===typeof t.scale)return t.scale.copy().domain(n).range(a);var i=function(t){if(null!=t){if(t in e)return e[t]();var r="scale".concat(vv(t));return r in e?e[r]():void 0}}(r);if(null!=i){var o=i.domain(n).range(a);return(e=>{var t=e.domain();if(t&&!(t.length<=2)){var r=t.length,n=e.range(),a=Math.min(n[0],n[1])-Uk,i=Math.max(n[0],n[1])+Uk,o=e(t[0]),s=e(t[r-1]);(o<a||o>i||s<a||s>i)&&e.domain([t[0],t[r-1]])}})(o),o}}}var KT=(e,t,r)=>{var n=wT(t);if("auto"===r||"linear"===r)return null!=t&&t.tickCount&&Array.isArray(n)&&("auto"===n[0]||"auto"===n[1])&&zA(e)?iC(e,t.tickCount,t.allowDecimals):null!=t&&t.tickCount&&"number"===t.type&&zA(e)?oC(e,t.tickCount,t.allowDecimals):void 0},WT=nk([BT,QC,qT],KT),GT=(e,t,r,n)=>{if("angleAxis"!==n&&"number"===(null===e||void 0===e?void 0:e.type)&&zA(t)&&Array.isArray(r)&&r.length>0){var a=t[0],i=r[0],o=t[1],s=r[r.length-1];return[Math.min(a,i),Math.max(o,s)]}return t},YT=nk([YC,BT,WT,LC],GT),QT=nk(uT,YC,(e,t)=>{if(t&&"number"===t.type){var r=1/0,n=Array.from(hT(e.map(e=>e.value))).sort((e,t)=>e-t);if(n.length<2)return 1/0;var a=n[n.length-1]-n[0];if(0===a)return 1/0;for(var i=0;i<n.length-1;i++){var o=n[i+1]-n[i];r=Math.min(r,o)}return r/a}}),XT=nk(QT,kj,lC,cj,(e,t,r,n)=>n,(e,t,r,n,a)=>{if(!LA(e))return 0;var i="vertical"===t?n.height:n.width;if("gap"===a)return e*i/2;if("no-gap"===a){var o=hv(r,e*i),s=e*i/2;return s-o-(s-o)/i*o}return 0}),JT=nk(qC,(e,t)=>{var r=qC(e,t);return null==r||"string"!==typeof r.padding?0:XT(e,"xAxis",t,r.padding)},(e,t)=>{var r,n;if(null==e)return{left:0,right:0};var{padding:a}=e;return"string"===typeof a?{left:t,right:t}:{left:(null!==(r=a.left)&&void 0!==r?r:0)+t,right:(null!==(n=a.right)&&void 0!==n?n:0)+t}}),ZT=nk(KC,(e,t)=>{var r=KC(e,t);return null==r||"string"!==typeof r.padding?0:XT(e,"yAxis",t,r.padding)},(e,t)=>{var r,n;if(null==e)return{top:0,bottom:0};var{padding:a}=e;return"string"===typeof a?{top:t,bottom:t}:{top:(null!==(r=a.top)&&void 0!==r?r:0)+t,bottom:(null!==(n=a.bottom)&&void 0!==n?n:0)+t}}),eO=nk([cj,JT,mj,pj,(e,t,r)=>r],(e,t,r,n,a)=>{var{padding:i}=n;return a?[i.left,r.width-i.right]:[e.left+t.left,e.left+e.width-t.right]}),tO=nk([cj,kj,ZT,mj,pj,(e,t,r)=>r],(e,t,r,n,a,i)=>{var{padding:o}=a;return i?[n.height-o.bottom,o.top]:"horizontal"===t?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),rO=(e,t,r,n)=>{var a;switch(t){case"xAxis":return eO(e,r,n);case"yAxis":return tO(e,r,n);case"zAxis":return null===(a=GC(e,r))||void 0===a?void 0:a.range;case"angleAxis":return DC(e);case"radiusAxis":return MC(e,r);default:return}},nO=nk([YC,rO],jC),aO=nk([YC,qT,YT,nO],HT);nk(rT,LC,(e,t)=>e.flatMap(e=>{var t;return null!==(t=e.errorBars)&&void 0!==t?t:[]}).filter(e=>dT(t,e)));function iO(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var oO=(e,t)=>t,sO=(e,t,r)=>r,lO=nk(rj,oO,sO,(e,t,r)=>e.filter(e=>e.orientation===t).filter(e=>e.mirror===r).sort(iO)),cO=nk(nj,oO,sO,(e,t,r)=>e.filter(e=>e.orientation===t).filter(e=>e.mirror===r).sort(iO)),uO=(e,t)=>({width:e.width,height:t.height}),dO=nk(cj,qC,uO),hO=nk(Zk,cj,lO,oO,sO,(e,t,r,n,a)=>{var i,o={};return r.forEach(r=>{var s=uO(t,r);null==i&&(i=((e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}})(t,n,e));var l="top"===n&&!a||"bottom"===n&&a;o[r.id]=i-Number(l)*s.height,i+=(l?-1:1)*s.height}),o}),fO=nk(Jk,cj,cO,oO,sO,(e,t,r,n,a)=>{var i,o={};return r.forEach(r=>{var s=((e,t)=>({width:"number"===typeof t.width?t.width:60,height:e.height}))(t,r);null==i&&(i=((e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}})(t,n,e));var l="left"===n&&!a||"right"===n&&a;o[r.id]=i-Number(l)*s.width,i+=(l?-1:1)*s.width}),o}),pO=nk(cj,KC,(e,t)=>({width:"number"===typeof t.width?t.width:60,height:e.height})),mO=(e,t,r)=>{switch(t){case"xAxis":return dO(e,r).width;case"yAxis":return pO(e,r).height;default:return}},gO=(e,t,r,n)=>{if(null!=r){var{allowDuplicatedCategory:a,type:i,dataKey:o}=r,s=Lk(e,n),l=t.map(e=>e.value);return o&&s&&"category"===i&&a&&fv(l)?l:void 0}},yO=nk([kj,uT,YC,LC],gO),vO=(e,t,r,n)=>{if(null!=r&&null!=r.dataKey){var{type:a,scale:i}=r;return!Lk(e,n)||"number"!==a&&"auto"===i?void 0:t.map(e=>e.value)}},bO=nk([kj,uT,QC,LC],vO),xO=nk([kj,(e,t,r)=>{switch(t){case"xAxis":return qC(e,r);case"yAxis":return KC(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},qT,aO,yO,bO,rO,WT,LC],(e,t,r,n,a,i,o,s,l)=>{if(null==t)return null;var c=Lk(e,l);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:l,categoricalDomain:i,duplicateDomain:a,isCategorical:c,niceTicks:s,range:o,realScaleType:r,scale:n}}),wO=nk([kj,QC,qT,aO,WT,rO,yO,bO,LC],(e,t,r,n,a,i,o,s,l)=>{if(null!=t&&null!=n){var c=Lk(e,l),{type:u,ticks:d,tickCount:h}=t,f="scaleBand"===r&&"function"===typeof n.bandwidth?n.bandwidth()/2:2,p="category"===u&&n.bandwidth?n.bandwidth()/f:0;p="angleAxis"===l&&null!=i&&i.length>=2?2*iv(i[0]-i[1])*p:p;var m=d||a;return m?m.map((e,t)=>{var r=o?o.indexOf(e):e;return{index:t,coordinate:n(r)+p,value:e,offset:p}}).filter(e=>!ov(e.coordinate)):c&&s?s.map((e,t)=>({coordinate:n(e)+p,value:e,index:t,offset:p})):n.ticks?n.ticks(h).map(e=>({coordinate:n(e)+p,value:e,offset:p})):n.domain().map((e,t)=>({coordinate:n(e)+p,value:o?o[e]:e,index:t,offset:p}))}}),kO=nk([kj,QC,aO,rO,yO,bO,LC],(e,t,r,n,a,i,o)=>{if(null!=t&&null!=r&&null!=n&&n[0]!==n[1]){var s=Lk(e,o),{tickCount:l}=t,c=0;return c="angleAxis"===o&&(null===n||void 0===n?void 0:n.length)>=2?2*iv(n[0]-n[1])*c:c,s&&i?i.map((e,t)=>({coordinate:r(e)+c,value:e,index:t,offset:c})):r.ticks?r.ticks(l).map(e=>({coordinate:r(e)+c,value:e,offset:c})):r.domain().map((e,t)=>({coordinate:r(e)+c,value:a?a[e]:e,index:t,offset:c}))}}),jO=nk(YC,aO,(e,t)=>{if(null!=e&&null!=t)return UC(UC({},e),{},{scale:t})}),SO=nk([YC,qT,BT,nO],HT),NO=(nk((e,t,r)=>GC(e,r),SO,(e,t)=>{if(null!=e&&null!=t)return UC(UC({},e),{},{scale:t})}),nk([kj,rj,nj],(e,t,r)=>{switch(e){case"horizontal":return t.some(e=>e.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(e=>e.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}})),EO=e=>e.options.defaultTooltipEventType,_O=e=>e.options.validateTooltipEventTypes;function AO(e,t,r){if(null==e)return t;var n=e?"axis":"item";return null==r?t:r.includes(n)?n:t}function CO(e,t){return AO(t,EO(e),_O(e))}var TO=(e,t)=>{var r,n=Number(t);if(!ov(n)&&null!=t)return n>=0?null===e||void 0===e||null===(r=e[n])||void 0===r?void 0:r.value:void 0};function OO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function IO(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?OO(Object(r),!0).forEach(function(t){PO(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OO(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function PO(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var DO=(e,t,r,n)=>{if(null==t)return Nw;var a=function(e,t,r){return"axis"===t?"click"===r?e.axisInteraction.click:e.axisInteraction.hover:"click"===r?e.itemInteraction.click:e.itemInteraction.hover}(e,t,r);if(null==a)return Nw;if(a.active)return a;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&null!=e.syncInteraction.index)return e.syncInteraction;var i=!0===e.settings.active;if(null!=a.index){if(i)return IO(IO({},a),{},{active:!0})}else if(null!=n)return{active:!0,coordinate:void 0,dataKey:void 0,index:n};return IO(IO({},Nw),{},{coordinate:a.coordinate})},MO=(e,t)=>{var r=null===e||void 0===e?void 0:e.index;if(null==r)return null;var n=Number(r);if(!LA(n))return r;var a=1/0;return t.length>0&&(a=t.length-1),String(Math.max(0,Math.min(n,a)))},RO=(e,t,r,n,a,i,o,s)=>{if(null!=i&&null!=s){var l=o[0],c=null==l?void 0:s(l.positions,i);if(null!=c)return c;var u=null===a||void 0===a?void 0:a[Number(i)];if(u)return"horizontal"===r?{x:u.coordinate,y:(n.top+t)/2}:{x:(n.left+e)/2,y:u.coordinate}}},LO=(e,t,r,n)=>{return"axis"===t?e.tooltipItemPayloads:0===e.tooltipItemPayloads.length?[]:null==(a="hover"===r?e.itemInteraction.hover.dataKey:e.itemInteraction.click.dataKey)&&null!=n?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(e=>{var t;return(null===(t=e.settings)||void 0===t?void 0:t.dataKey)===a});var a},FO=e=>e.options.tooltipPayloadSearcher,zO=e=>e.tooltip;function UO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function VO(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?UO(Object(r),!0).forEach(function(t){BO(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UO(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function BO(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var $O=(e,t,r,n,a,i,o)=>{if(null!=t&&null!=i){var{chartData:s,computedData:l,dataStartIndex:c,dataEndIndex:u}=r;return e.reduce((e,r)=>{var d,h,f,p,m,g,{dataDefinedOnItem:y,settings:v}=r,b=function(e,t){return null!=e?e:t}(y,s),x=(h=b,f=c,p=u,Array.isArray(h)&&h&&f+p!==0?h.slice(f,p+1):h),w=null!==(d=null===v||void 0===v?void 0:v.dataKey)&&void 0!==d?d:null===n||void 0===n?void 0:n.dataKey,k=null===v||void 0===v?void 0:v.nameKey;(m=null!==n&&void 0!==n&&n.dataKey&&Array.isArray(x)&&!Array.isArray(x[0])&&"axis"===o?gv(x,n.dataKey,a):i(x,t,l,k),Array.isArray(m))?m.forEach(t=>{var r=VO(VO({},v),{},{name:t.name,unit:t.unit,color:void 0,fill:void 0});e.push(Qk({tooltipEntrySettings:r,dataKey:t.dataKey,payload:t.payload,value:Rk(t.payload,t.dataKey),name:t.name}))}):e.push(Qk({tooltipEntrySettings:v,dataKey:w,payload:m,value:Rk(m,w),name:null!==(g=Rk(m,k))&&void 0!==g?g:null===v||void 0===v?void 0:v.name}));return e},[])}},qO=e=>{var t=kj(e);return"horizontal"===t?"xAxis":"vertical"===t?"yAxis":"centric"===t?"angleAxis":"radiusAxis"},HO=e=>e.tooltip.settings.axisId,KO=e=>{var t=qO(e),r=HO(e);return QC(e,t,r)},WO=nk([KO,kj,XC,uC,qO],$T),GO=nk([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),YO=nk([qO,HO],JC),QO=nk([GO,KO,YO],tT),XO=nk([QO],iT),JO=nk([XO,DA],sT),ZO=nk([JO,KO,QO],cT),eI=nk([KO],wT),tI=nk([JO,QO,cC],pT),rI=nk([tI,DA,qO],gT),nI=nk([QO],nT),aI=nk([JO,KO,nI,qO],vT),iI=nk([jT,qO,HO],ST),oI=nk([iI,qO],TT),sI=nk([ET,qO,HO],ST),lI=nk([sI,qO],IT),cI=nk([AT,qO,HO],ST),uI=nk([cI,qO],DT),dI=nk([oI,uI,lI],kT),hI=nk([KO,eI,rI,aI,dI],FT),fI=nk([KO,kj,JO,ZO,cC,qO,hI],VT),pI=nk([fI,KO,WO],KT),mI=nk([KO,fI,pI,qO],GT),gI=e=>{var t=qO(e),r=HO(e);return rO(e,t,r,!1)},yI=nk([KO,gI],jC),vI=nk([KO,WO,mI,yI],HT),bI=nk([kj,ZO,KO,qO],gO),xI=nk([kj,ZO,KO,qO],vO),wI=nk([kj,KO,WO,vI,gI,bI,xI,qO],(e,t,r,n,a,i,o,s)=>{if(t){var{type:l}=t,c=Lk(e,s);if(n){var u="scaleBand"===r&&n.bandwidth?n.bandwidth()/2:2,d="category"===l&&n.bandwidth?n.bandwidth()/u:0;return d="angleAxis"===s&&null!=a&&(null===a||void 0===a?void 0:a.length)>=2?2*iv(a[0]-a[1])*d:d,c&&o?o.map((e,t)=>({coordinate:n(e)+d,value:e,index:t,offset:d})):n.domain().map((e,t)=>({coordinate:n(e)+d,value:i?i[e]:e,index:t,offset:d}))}}}),kI=nk([EO,_O,e=>e.tooltip.settings],(e,t,r)=>AO(r.shared,e,t)),jI=e=>e.tooltip.settings.trigger,SI=e=>e.tooltip.settings.defaultIndex,NI=nk([zO,kI,jI,SI],DO),EI=nk([NI,JO],MO),_I=nk([wI,EI],TO),AI=nk([NI],e=>{if(e)return e.dataKey}),CI=nk([zO,kI,jI,SI],LO),TI=nk([Jk,Zk,kj,cj,wI,SI,CI,FO],RO),OI=nk([NI,TI],(e,t)=>null!==e&&void 0!==e&&e.coordinate?e.coordinate:t),II=nk([NI],e=>e.active),PI=nk([CI,EI,DA,KO,_I,FO,kI],$O),DI=nk([PI],e=>{if(null!=e){var t=e.map(e=>e.payload).filter(e=>null!=e);return Array.from(new Set(t))}}),MI=()=>hk(uC),RI=(e,t)=>t,LI=(e,t,r)=>r,FI=(e,t,r,n)=>n,zI=nk(wI,e=>pk()(e,e=>e.coordinate)),UI=nk([zO,RI,LI,FI],DO),VI=nk([UI,JO],MO),BI=nk([zO,RI,LI,FI],LO),$I=nk([Jk,Zk,kj,cj,wI,FI,BI,FO],RO),qI=nk([UI,$I],(e,t)=>{var r;return null!==(r=e.coordinate)&&void 0!==r?r:t}),HI=nk(wI,VI,TO),KI=nk([BI,VI,DA,KO,HI,FO,RI],$O),WI=nk([UI],e=>({isActive:e.active,activeIndex:e.index})),GI=nk([(e,t)=>t,kj,RC,qO,yI,wI,zI,cj],(e,t,r,n,a,i,o,s)=>{if(e&&t&&n&&a&&i){var l=function(e,t,r,n,a){return"horizontal"===r||"vertical"===r?e>=a.left&&e<=a.left+a.width&&t>=a.top&&t<=a.top+a.height?{x:e,y:t}:null:n?Ik({x:e,y:t},n):null}(e.chartX,e.chartY,t,r,s);if(l){var c=((e,t)=>"horizontal"===t?e.x:"vertical"===t?e.y:"centric"===t?e.angle:e.radius)(l,t),u=((e,t,r,n,a)=>{var i,o=-1,s=null!==(i=null===t||void 0===t?void 0:t.length)&&void 0!==i?i:0;if(s<=1||null==e)return 0;if("angleAxis"===n&&null!=a&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var l=0;l<s;l++){var c=l>0?r[l-1].coordinate:r[s-1].coordinate,u=r[l].coordinate,d=l>=s-1?r[0].coordinate:r[l+1].coordinate,h=void 0;if(iv(u-c)!==iv(d-u)){var f=[];if(iv(d-u)===iv(a[1]-a[0])){h=d;var p=u+a[1]-a[0];f[0]=Math.min(p,(p+c)/2),f[1]=Math.max(p,(p+c)/2)}else{h=c;var m=d+a[1]-a[0];f[0]=Math.min(u,(m+u)/2),f[1]=Math.max(u,(m+u)/2)}var g=[Math.min(u,(h+u)/2),Math.max(u,(h+u)/2)];if(e>g[0]&&e<=g[1]||e>=f[0]&&e<=f[1]){({index:o}=r[l]);break}}else{var y=Math.min(c,d),v=Math.max(c,d);if(e>(y+u)/2&&e<=(v+u)/2){({index:o}=r[l]);break}}}else if(t)for(var b=0;b<s;b++)if(0===b&&e<=(t[b].coordinate+t[b+1].coordinate)/2||b>0&&b<s-1&&e>(t[b].coordinate+t[b-1].coordinate)/2&&e<=(t[b].coordinate+t[b+1].coordinate)/2||b===s-1&&e>(t[b].coordinate+t[b-1].coordinate)/2){({index:o}=t[b]);break}return o})(c,o,i,n,a),d=((e,t,r,n)=>{var a=t.find(e=>e&&e.index===r);if(a){if("horizontal"===e)return{x:a.coordinate,y:n.y};if("vertical"===e)return{x:n.x,y:a.coordinate};if("centric"===e){var i=a.coordinate,{radius:o}=n;return Dk(Dk(Dk({},n),Ak(n.cx,n.cy,o,i)),{},{angle:i,radius:o})}var s=a.coordinate,{angle:l}=n;return Dk(Dk(Dk({},n),Ak(n.cx,n.cy,s,l)),{},{angle:l,radius:s})}return{x:0,y:0}})(t,i,u,l);return{activeIndex:String(u),activeCoordinate:d}}}}),YI=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},QI=_b("mouseClick"),XI=xx();XI.startListening({actionCreator:QI,effect:(e,t)=>{var r=e.payload,n=GI(t.getState(),YI(r));null!=(null===n||void 0===n?void 0:n.activeIndex)&&t.dispatch(Mw({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var JI=_b("mouseMove"),ZI=xx();function eP(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":t}function tP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function rP(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?tP(Object(r),!0).forEach(function(t){nP(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tP(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function nP(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}ZI.startListening({actionCreator:JI,effect:(e,t)=>{var r=e.payload,n=t.getState(),a=CO(n,n.tooltip.settings.shared),i=GI(n,YI(r));"axis"===a&&(null!=(null===i||void 0===i?void 0:i.activeIndex)?t.dispatch(Dw({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate})):t.dispatch(Iw()))}});var aP=Vb({name:"cartesianAxis",initialState:{xAxis:{},yAxis:{},zAxis:{}},reducers:{addXAxis(e,t){e.xAxis[t.payload.id]=t.payload},removeXAxis(e,t){delete e.xAxis[t.payload.id]},addYAxis(e,t){e.yAxis[t.payload.id]=t.payload},removeYAxis(e,t){delete e.yAxis[t.payload.id]},addZAxis(e,t){e.zAxis[t.payload.id]=t.payload},removeZAxis(e,t){delete e.zAxis[t.payload.id]},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload;e.yAxis[r]&&(e.yAxis[r]=rP(rP({},e.yAxis[r]),{},{width:n}))}}}),{addXAxis:iP,removeXAxis:oP,addYAxis:sP,removeYAxis:lP,addZAxis:cP,removeZAxis:uP,updateYAxisWidth:dP}=aP.actions,hP=aP.reducer,fP=Vb({name:"graphicalItems",initialState:{countOfBars:0,cartesianItems:[],polarItems:[]},reducers:{addBar(e){e.countOfBars+=1},removeBar(e){e.countOfBars-=1},addCartesianGraphicalItem(e,t){e.cartesianItems.push(t.payload)},replaceCartesianGraphicalItem(e,t){var{prev:r,next:n}=t.payload,a=kb(e).cartesianItems.indexOf(r);a>-1&&(e.cartesianItems[a]=n)},removeCartesianGraphicalItem(e,t){var r=kb(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},addPolarGraphicalItem(e,t){e.polarItems.push(t.payload)},removePolarGraphicalItem(e,t){var r=kb(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)}}}),{addBar:pP,removeBar:mP,addCartesianGraphicalItem:gP,replaceCartesianGraphicalItem:yP,removeCartesianGraphicalItem:vP,addPolarGraphicalItem:bP,removePolarGraphicalItem:xP}=fP.actions,wP=fP.reducer,kP=Vb({name:"referenceElements",initialState:{dots:[],areas:[],lines:[]},reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=kb(e).dots.findIndex(e=>e===t.payload);-1!==r&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=kb(e).areas.findIndex(e=>e===t.payload);-1!==r&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=kb(e).lines.findIndex(e=>e===t.payload);-1!==r&&e.lines.splice(r,1)}}}),{addDot:jP,removeDot:SP,addArea:NP,removeArea:EP,addLine:_P,removeLine:AP}=kP.actions,CP=kP.reducer,TP={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},OP=Vb({name:"brush",initialState:TP,reducers:{setBrushSettings:(e,t)=>null==t.payload?TP:t.payload}}),{setBrushSettings:IP}=OP.actions,PP=OP.reducer,DP=Vb({name:"legend",initialState:{settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload(e,t){e.payload.push(t.payload)},removeLegendPayload(e,t){var r=kb(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)}}}),{setLegendSize:MP,setLegendSettings:RP,addLegendPayload:LP,removeLegendPayload:FP}=DP.actions,zP=DP.reducer,UP={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},VP=Vb({name:"rootProps",initialState:UP,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=null!==(r=t.payload.barGap)&&void 0!==r?r:UP.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),BP=VP.reducer,{updateOptions:$P}=VP.actions,qP=Vb({name:"polarAxis",initialState:{radiusAxis:{},angleAxis:{}},reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:HP,removeRadiusAxis:KP,addAngleAxis:WP,removeAngleAxis:GP}=qP.actions,YP=qP.reducer,QP=Vb({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:XP}=QP.actions,JP=QP.reducer,ZP=_b("keyDown"),eD=_b("focus"),tD=xx();tD.startListening({actionCreator:ZP,effect:(e,t)=>{var r=t.getState();if(!1!==r.rootProps.accessibilityLayer){var{keyboardInteraction:n}=r.tooltip,a=e.payload;if("ArrowRight"===a||"ArrowLeft"===a||"Enter"===a){var i=Number(MO(n,JO(r))),o=wI(r);if("Enter"!==a){var s=i+("ArrowRight"===a?1:-1)*("left-to-right"===NO(r)?1:-1);if(!(null==o||s>=o.length||s<0)){var l=$I(r,"axis","hover",String(s));t.dispatch(Lw({active:!0,activeIndex:s.toString(),activeDataKey:void 0,activeCoordinate:l}))}}else{var c=$I(r,"axis","hover",String(n.index));t.dispatch(Lw({active:!n.active,activeIndex:n.index,activeDataKey:n.dataKey,activeCoordinate:c}))}}}}}),tD.startListening({actionCreator:eD,effect:(e,t)=>{var r=t.getState();if(!1!==r.rootProps.accessibilityLayer){var{keyboardInteraction:n}=r.tooltip;if(!n.active&&null==n.index){var a=$I(r,"axis","hover",String("0"));t.dispatch(Lw({activeDataKey:void 0,active:!0,activeIndex:"0",activeCoordinate:a}))}}}});var rD=_b("externalEvent"),nD=xx();nD.startListening({actionCreator:rD,effect:(e,t)=>{if(null!=e.payload.handler){var r=t.getState(),n={activeCoordinate:OI(r),activeDataKey:AI(r),activeIndex:EI(r),activeLabel:_I(r),activeTooltipIndex:EI(r),isTooltipActive:II(r)};e.payload.handler(n,e.payload.reactEvent)}}});var aD=nk([zO],e=>e.tooltipItemPayloads),iD=nk([aD,FO,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,n)=>{var a=e.find(e=>e.settings.dataKey===n);if(null!=a){var{positions:i}=a;if(null!=i)return t(i,r)}}),oD=_b("touchMove"),sD=xx();sD.startListening({actionCreator:oD,effect:(e,t)=>{var r=e.payload,n=t.getState(),a=CO(n,n.tooltip.settings.shared);if("axis"===a){var i=GI(n,YI({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));null!=(null===i||void 0===i?void 0:i.activeIndex)&&t.dispatch(Dw({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate}))}else if("item"===a){var o,s=r.touches[0],l=document.elementFromPoint(s.clientX,s.clientY);if(!l||!l.getAttribute)return;var c=l.getAttribute(aj),u=null!==(o=l.getAttribute(ij))&&void 0!==o?o:void 0,d=iD(t.getState(),c,u);t.dispatch(Tw({activeDataKey:u,activeIndex:c,activeCoordinate:d}))}}});var lD=Tv({brush:PP,cartesianAxis:hP,chartData:$w,graphicalItems:wP,layout:Yw,legend:zP,options:Sx,polarAxis:YP,polarOptions:JP,referenceElements:CP,rootProps:BP,tooltip:Fw});function cD(e){var{preloadedState:r,children:n,reduxStoreName:a}=e,i=fj(),o=(0,t.useRef)(null);if(i)return n;null==o.current&&(o.current=function(e){return Db({reducer:lD,preloadedState:e,middleware:e=>e({serializableCheck:!1}).concat([XI.middleware,ZI.middleware,tD.middleware,nD.middleware,sD.middleware]),devTools:{serialize:{replacer:eP},name:"recharts-".concat(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Chart")}})}(r,a));var s=ok;return t.createElement(Rx,{context:s,store:o.current},n)}var uD=e=>{var{chartData:r}=e,n=lk(),a=fj();return(0,t.useEffect)(()=>a?()=>{}:(n(Uw(r)),()=>{n(Uw(void 0))}),[r,n,a]),null};function dD(e){var{layout:r,width:n,height:a,margin:i}=e,o=lk(),s=fj();return(0,t.useEffect)(()=>{s||(o(Kw(r)),o(Ww({width:n,height:a})),o(Hw(i)))},[o,s,r,n,a,i]),null}function hD(e){var r=lk();return(0,t.useEffect)(()=>{r($P(e))},[r,e]),null}var fD=r(2086),pD=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],mD=["points","pathLength"],gD={svg:["viewBox","children"],polygon:mD,polyline:mD},yD=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],vD=(e,r)=>{if(!e||"function"===typeof e||"boolean"===typeof e)return null;var n=e;if((0,t.isValidElement)(e)&&(n=e.props),"object"!==typeof n&&"function"!==typeof n)return null;var a={};return Object.keys(n).forEach(e=>{yD.includes(e)&&(a[e]=r||(t=>n[e](n,t)))}),a},bD=(e,t,r)=>{if(null===e||"object"!==typeof e&&"function"!==typeof e)return null;var n=null;return Object.keys(e).forEach(a=>{var i=e[a];yD.includes(a)&&"function"===typeof i&&(n||(n={}),n[a]=((e,t,r)=>n=>(e(t,r,n),null))(i,t,r))}),n},xD=e=>"string"===typeof e?e:e?e.displayName||e.name||"Component":"",wD=null,kD=null,jD=e=>{if(e===wD&&Array.isArray(kD))return kD;var r=[];return t.Children.forEach(e,e=>{yv(e)||((0,fD.isFragment)(e)?r=r.concat(jD(e.props.children)):r.push(e))}),kD=r,wD=e,r};function SD(e,t){var r=[],n=[];return n=Array.isArray(t)?t.map(e=>xD(e)):[xD(t)],jD(e).forEach(e=>{var t=av()(e,"type.displayName")||av()(e,"type.name");-1!==n.indexOf(t)&&r.push(e)}),r}var ND=e=>!e||"object"!==typeof e||!("clipDot"in e)||Boolean(e.clipDot),ED=(e,r,n)=>{if(!e||"function"===typeof e||"boolean"===typeof e)return null;var a=e;if((0,t.isValidElement)(e)&&(a=e.props),"object"!==typeof a&&"function"!==typeof a)return null;var i={};return Object.keys(a).forEach(e=>{var t;((e,t,r,n)=>{var a,i=null!==(a=n&&(null===gD||void 0===gD?void 0:gD[n]))&&void 0!==a?a:[];return t.startsWith("data-")||"function"!==typeof e&&(n&&i.includes(t)||pD.includes(t))||r&&yD.includes(t)})(null===(t=a)||void 0===t?void 0:t[e],e,r,n)&&(i[e]=a[e])}),i},_D=()=>hk(e=>e.rootProps.accessibilityLayer),AD=["children","width","height","viewBox","className","style","title","desc"];function CD(){return CD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},CD.apply(null,arguments)}var TD=(0,t.forwardRef)((e,r)=>{var{children:n,width:a,height:i,viewBox:o,className:s,style:l,title:c,desc:u}=e,d=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,AD),h=o||{width:a,height:i,x:0,y:0},f=ev("recharts-surface",s);return t.createElement("svg",CD({},ED(d,!0,"svg"),{className:f,width:a,height:i,style:l,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height),ref:r}),t.createElement("title",null,c),t.createElement("desc",null,u),n)}),OD=["children"];function ID(){return ID=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ID.apply(null,arguments)}var PD={width:"100%",height:"100%"},DD=(0,t.forwardRef)((e,r)=>{var n=bj(),a=xj(),i=_D();if(!FA(n)||!FA(a))return null;var o,s,{children:l,otherAttributes:c,title:u,desc:d}=e;return o="number"===typeof c.tabIndex?c.tabIndex:i?0:void 0,s="string"===typeof c.role?c.role:i?"application":void 0,t.createElement(TD,ID({},c,{title:u,desc:d,role:s,tabIndex:o,width:n,height:a,style:PD,ref:r}),l)}),MD=e=>{var{children:r}=e,n=hk(mj);if(!n)return null;var{width:a,height:i,y:o,x:s}=n;return t.createElement(TD,{width:a,height:i,x:s,y:o},r)},RD=(0,t.forwardRef)((e,r)=>{var{children:n}=e,a=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,OD);return fj()?t.createElement(MD,null,n):t.createElement(DD,ID({ref:r},a),n)});var LD=new(r(8499)),FD="recharts.syncEvent.tooltip",zD="recharts.syncEvent.brush";function UD(e){return e.tooltip.syncInteraction}var VD=()=>{};function BD(){var e=lk();(0,t.useEffect)(()=>{e(Nx())},[e]),function(){var e=hk(dC),r=hk(fC),n=lk(),a=hk(hC),i=hk(wI),o=jj(),s=gj(),l=hk(e=>e.rootProps.className);(0,t.useEffect)(()=>{if(null==e)return VD;var t=(t,l,c)=>{if(r!==c&&e===t)if("index"!==a){if(null!=i){var u;if("function"===typeof a){var d={activeTooltipIndex:null==l.payload.index?void 0:Number(l.payload.index),isTooltipActive:l.payload.active,activeIndex:null==l.payload.index?void 0:Number(l.payload.index),activeLabel:l.payload.label,activeDataKey:l.payload.dataKey,activeCoordinate:l.payload.coordinate},h=a(i,d);u=i[h]}else"value"===a&&(u=i.find(e=>String(e.value)===l.payload.label));var{coordinate:f}=l.payload;if(null!=u&&!1!==l.payload.active&&null!=f&&null!=s){var{x:p,y:m}=f,g=Math.min(p,s.x+s.width),y=Math.min(m,s.y+s.height),v={x:"horizontal"===o?u.coordinate:g,y:"horizontal"===o?y:u.coordinate},b=Rw({active:l.payload.active,coordinate:v,dataKey:l.payload.dataKey,index:String(u.index),label:l.payload.label});n(b)}else n(Rw({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}))}}else n(l)};return LD.on(FD,t),()=>{LD.off(FD,t)}},[l,n,r,e,a,i,o,s])}(),function(){var e=hk(dC),r=hk(fC),n=lk();(0,t.useEffect)(()=>{if(null==e)return VD;var t=(t,a,i)=>{r!==i&&e===t&&n(Vw(a))};return LD.on(zD,t),()=>{LD.off(zD,t)}},[n,r,e])}()}function $D(e,r,n,a,i,o){var s=hk(t=>((e,t,r)=>{if(null!=t){var n=zO(e);return"axis"===t?"hover"===r?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:"hover"===r?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}})(t,e,r)),l=hk(fC),c=hk(dC),u=hk(hC),d=hk(UD),h=null===d||void 0===d?void 0:d.active;(0,t.useEffect)(()=>{if(!h&&null!=c&&null!=l){var e=Rw({active:o,coordinate:n,dataKey:s,index:i,label:"number"===typeof a?String(a):a});LD.emit(FD,c,e,l)}},[h,n,s,i,a,l,c,u,o])}var qD=(0,t.createContext)(null),HD=(0,t.createContext)(null);function KD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function WD(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?KD(Object(r),!0).forEach(function(t){GD(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KD(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function GD(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var YD=(0,t.forwardRef)((e,r)=>{var{children:n,className:a,height:i,onClick:o,onContextMenu:s,onDoubleClick:l,onMouseDown:c,onMouseEnter:u,onMouseLeave:d,onMouseMove:h,onMouseUp:f,onTouchEnd:p,onTouchMove:m,onTouchStart:g,style:y,width:v}=e,b=lk(),[x,w]=(0,t.useState)(null),[k,j]=(0,t.useState)(null);BD();var S=function(){var e=lk(),[r,n]=(0,t.useState)(null),a=hk(ej);return(0,t.useEffect)(()=>{if(null!=r){var t=r.getBoundingClientRect().width/r.offsetWidth;LA(t)&&t!==a&&e(Gw(t))}},[r,e,a]),n}(),N=(0,t.useCallback)(e=>{S(e),"function"===typeof r&&r(e),w(e),j(e)},[S,r,w,j]),E=(0,t.useCallback)(e=>{b(QI(e)),b(rD({handler:o,reactEvent:e}))},[b,o]),_=(0,t.useCallback)(e=>{b(JI(e)),b(rD({handler:u,reactEvent:e}))},[b,u]),A=(0,t.useCallback)(e=>{b(Iw()),b(rD({handler:d,reactEvent:e}))},[b,d]),C=(0,t.useCallback)(e=>{b(JI(e)),b(rD({handler:h,reactEvent:e}))},[b,h]),T=(0,t.useCallback)(()=>{b(eD())},[b]),O=(0,t.useCallback)(e=>{b(ZP(e.key))},[b]),I=(0,t.useCallback)(e=>{b(rD({handler:s,reactEvent:e}))},[b,s]),P=(0,t.useCallback)(e=>{b(rD({handler:l,reactEvent:e}))},[b,l]),D=(0,t.useCallback)(e=>{b(rD({handler:c,reactEvent:e}))},[b,c]),M=(0,t.useCallback)(e=>{b(rD({handler:f,reactEvent:e}))},[b,f]),R=(0,t.useCallback)(e=>{b(rD({handler:g,reactEvent:e}))},[b,g]),L=(0,t.useCallback)(e=>{b(oD(e)),b(rD({handler:m,reactEvent:e}))},[b,m]),F=(0,t.useCallback)(e=>{b(rD({handler:p,reactEvent:e}))},[b,p]);return t.createElement(qD.Provider,{value:x},t.createElement(HD.Provider,{value:k},t.createElement("div",{className:ev("recharts-wrapper",a),style:WD({position:"relative",cursor:"default",width:v,height:i},y),onClick:E,onContextMenu:I,onDoubleClick:P,onFocus:T,onKeyDown:O,onMouseDown:D,onMouseEnter:_,onMouseLeave:A,onMouseMove:C,onMouseUp:M,onTouchEnd:F,onTouchMove:L,onTouchStart:R,ref:N},n)))}),QD=nk([cj],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),XD=nk([QD,Jk,Zk],(e,t,r)=>{if(e&&null!=t&&null!=r)return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),JD=()=>hk(XD),ZD=(0,t.createContext)(void 0),eM=e=>{var{children:r}=e,[n]=(0,t.useState)("".concat(dv("recharts"),"-clip")),a=JD();if(null==a)return null;var{x:i,y:o,width:s,height:l}=a;return t.createElement(ZD.Provider,{value:n},t.createElement("defs",null,t.createElement("clipPath",{id:n},t.createElement("rect",{x:i,y:o,height:l,width:s}))),r)},tM=["children","className","width","height","style","compact","title","desc"];var rM=(0,t.forwardRef)((e,r)=>{var{children:n,className:a,width:i,height:o,style:s,compact:l,title:c,desc:u}=e,d=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,tM),h=ED(d,!1);return l?t.createElement(RD,{otherAttributes:h,title:c,desc:u},n):t.createElement(YD,{className:a,style:s,width:i,height:o,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},t.createElement(RD,{otherAttributes:h,title:c,desc:u,ref:r},t.createElement(eM,null,n)))});function nM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function aM(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iM(e,t){var r=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?nM(Object(r),!0).forEach(function(t){aM(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nM(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},e),n=t;return Object.keys(t).reduce((e,t)=>(void 0===e[t]&&void 0!==n[t]&&(e[t]=n[t]),e),r)}var oM=["width","height"];function sM(){return sM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sM.apply(null,arguments)}var lM={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},cM=(0,t.forwardRef)(function(e,r){var n,a=iM(e.categoricalChartProps,lM),{width:i,height:o}=a,s=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(a,oM);if(!FA(i)||!FA(o))return null;var{chartName:l,defaultTooltipEventType:c,validateTooltipEventTypes:u,tooltipPayloadSearcher:d,categoricalChartProps:h}=e,f={chartName:l,defaultTooltipEventType:c,validateTooltipEventTypes:u,tooltipPayloadSearcher:d,eventEmitter:void 0};return t.createElement(cD,{preloadedState:{options:f},reduxStoreName:null!==(n=h.id)&&void 0!==n?n:l},t.createElement(uD,{chartData:h.data}),t.createElement(dD,{width:i,height:o,layout:a.layout,margin:a.margin}),t.createElement(hD,{accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className}),t.createElement(rM,sM({},s,{width:i,height:o,ref:r})))}),uM=["axis"],dM=(0,t.forwardRef)((e,r)=>t.createElement(cM,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:uM,tooltipPayloadSearcher:kx,categoricalChartProps:e,ref:r})),hM=!("undefined"!==typeof window&&window.document&&Boolean(window.document.createElement)&&window.setTimeout);function fM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function pM(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?fM(Object(r),!0).forEach(function(t){mM(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fM(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function mM(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var gM={widthCache:{},cacheCount:0},yM={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},vM="recharts_measurement_span";var bM=function(e){if(void 0===e||null===e||hM)return{width:0,height:0};var t=function(e){var t=pM({},e);return Object.keys(t).forEach(e=>{t[e]||delete t[e]}),t}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}),r=JSON.stringify({text:e,copyStyle:t});if(gM.widthCache[r])return gM.widthCache[r];try{var n=document.getElementById(vM);n||((n=document.createElement("span")).setAttribute("id",vM),n.setAttribute("aria-hidden","true"),document.body.appendChild(n));var a=pM(pM({},yM),t);Object.assign(n.style,a),n.textContent="".concat(e);var i=n.getBoundingClientRect(),o={width:i.width,height:i.height};return gM.widthCache[r]=o,++gM.cacheCount>2e3&&(gM.cacheCount=0,gM.widthCache={}),o}catch(s){return{width:0,height:0}}};function xM(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class wM{static create(e){return new wM(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:t,position:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(void 0!==e){if(r)switch(r){case"start":default:return this.scale(e);case"middle":var n=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+n;case"end":var a=this.bandwidth?this.bandwidth():0;return this.scale(e)+a}if(t){var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}return this.scale(e)}}isInRange(e){var t=this.range(),r=t[0],n=t[t.length-1];return r<=n?e>=r&&e<=n:e>=n&&e<=r}}xM(wM,"EPS",1e-4);function kM(e,t,r){if(t<1)return[];if(1===t&&void 0===r)return e;for(var n=[],a=0;a<e.length;a+=t){if(void 0!==r&&!0!==r(e[a]))return;n.push(e[a])}return n}function jM(e,t,r){return function(e){var{width:t,height:r}=e,n=function(e){return(e%180+180)%180}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0),a=n*Math.PI/180,i=Math.atan(r/t),o=a>i&&a<Math.PI-i?r/Math.sin(a):t/Math.cos(a);return Math.abs(o)}({width:e.width+t.width,height:e.height+t.height},r)}function SM(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function NM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function EM(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?NM(Object(r),!0).forEach(function(t){_M(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NM(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function _M(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AM(e,t,r){var n,{tick:a,ticks:i,viewBox:o,minTickGap:s,orientation:l,interval:c,tickFormatter:u,unit:d,angle:h}=e;if(!i||!i.length||!a)return[];if(lv(c)||hM)return null!==(n=function(e,t){return kM(e,t+1)}(i,lv(c)?c:0))&&void 0!==n?n:[];var f=[],p="top"===l||"bottom"===l?"width":"height",m=d&&"width"===p?bM(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},g=(e,n)=>{var a="function"===typeof u?u(e.value,n):e.value;return"width"===p?jM(bM(a,{fontSize:t,letterSpacing:r}),m,h):bM(a,{fontSize:t,letterSpacing:r})[p]},y=i.length>=2?iv(i[1].coordinate-i[0].coordinate):1,v=function(e,t,r){var n="width"===r,{x:a,y:i,width:o,height:s}=e;return 1===t?{start:n?a:i,end:n?a+o:i+s}:{start:n?a+o:i+s,end:n?a:i}}(o,y,p);return"equidistantPreserveStart"===c?function(e,t,r,n,a){for(var i,o=(n||[]).slice(),{start:s,end:l}=t,c=0,u=1,d=s,h=function(){var t=null===n||void 0===n?void 0:n[c];if(void 0===t)return{v:kM(n,u)};var i,o=c,h=()=>(void 0===i&&(i=r(t,o)),i),f=t.coordinate,p=0===c||SM(e,f,h,d,l);p||(c=0,d=s,u+=1),p&&(d=f+e*(h()/2+a),c+=u)};u<=o.length;)if(i=h())return i.v;return[]}(y,v,g,i,s):(f="preserveStart"===c||"preserveStartEnd"===c?function(e,t,r,n,a,i){var o=(n||[]).slice(),s=o.length,{start:l,end:c}=t;if(i){var u=n[s-1],d=r(u,s-1),h=e*(u.coordinate+e*d/2-c);o[s-1]=u=EM(EM({},u),{},{tickCoord:h>0?u.coordinate-h*e:u.coordinate}),SM(e,u.tickCoord,()=>d,l,c)&&(c=u.tickCoord-e*(d/2+a),o[s-1]=EM(EM({},u),{},{isShow:!0}))}for(var f=i?s-1:s,p=function(t){var n,i=o[t],s=()=>(void 0===n&&(n=r(i,t)),n);if(0===t){var u=e*(i.coordinate-e*s()/2-l);o[t]=i=EM(EM({},i),{},{tickCoord:u<0?i.coordinate-u*e:i.coordinate})}else o[t]=i=EM(EM({},i),{},{tickCoord:i.coordinate});SM(e,i.tickCoord,s,l,c)&&(l=i.tickCoord+e*(s()/2+a),o[t]=EM(EM({},i),{},{isShow:!0}))},m=0;m<f;m++)p(m);return o}(y,v,g,i,s,"preserveStartEnd"===c):function(e,t,r,n,a){for(var i=(n||[]).slice(),o=i.length,{start:s}=t,{end:l}=t,c=function(t){var n,c=i[t],u=()=>(void 0===n&&(n=r(c,t)),n);if(t===o-1){var d=e*(c.coordinate+e*u()/2-l);i[t]=c=EM(EM({},c),{},{tickCoord:d>0?c.coordinate-d*e:c.coordinate})}else i[t]=c=EM(EM({},c),{},{tickCoord:c.coordinate});SM(e,c.tickCoord,u,s,l)&&(l=c.tickCoord-e*(u()/2+a),i[t]=EM(EM({},c),{},{isShow:!0}))},u=o-1;u>=0;u--)c(u);return i}(y,v,g,i,s),f.filter(e=>e.isShow))}function CM(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}var TM=["children","className"];function OM(){return OM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},OM.apply(null,arguments)}var IM=t.forwardRef((e,r)=>{var{children:n,className:a}=e,i=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,TM),o=ev("recharts-layer",a);return t.createElement("g",OM({className:o},ED(i,!0),{ref:r}),n)}),PM=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,DM=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,MM=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,RM=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,LM={cm:96/2.54,mm:96/25.4,pt:96/72,pc:16,in:96,Q:96/101.6,px:1},FM=Object.keys(LM),zM="NaN";class UM{static parse(e){var t,[,r,n]=null!==(t=RM.exec(e))&&void 0!==t?t:[];return new UM(parseFloat(r),null!==n&&void 0!==n?n:"")}constructor(e,t){this.num=e,this.unit=t,this.num=e,this.unit=t,ov(e)&&(this.unit=""),""===t||MM.test(t)||(this.num=NaN,this.unit=""),FM.includes(t)&&(this.num=function(e,t){return e*LM[t]}(e,t),this.unit="px")}add(e){return this.unit!==e.unit?new UM(NaN,""):new UM(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new UM(NaN,""):new UM(this.num-e.num,this.unit)}multiply(e){return""!==this.unit&&""!==e.unit&&this.unit!==e.unit?new UM(NaN,""):new UM(this.num*e.num,this.unit||e.unit)}divide(e){return""!==this.unit&&""!==e.unit&&this.unit!==e.unit?new UM(NaN,""):new UM(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return ov(this.num)}}function VM(e){if(e.includes(zM))return zM;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,a,i]=null!==(r=PM.exec(t))&&void 0!==r?r:[],o=UM.parse(null!==n&&void 0!==n?n:""),s=UM.parse(null!==i&&void 0!==i?i:""),l="*"===a?o.multiply(s):o.divide(s);if(l.isNaN())return zM;t=t.replace(PM,l.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var c,[,u,d,h]=null!==(c=DM.exec(t))&&void 0!==c?c:[],f=UM.parse(null!==u&&void 0!==u?u:""),p=UM.parse(null!==h&&void 0!==h?h:""),m="+"===d?f.add(p):f.subtract(p);if(m.isNaN())return zM;t=t.replace(DM,m.toString())}return t}var BM=/\(([^()]*)\)/;function $M(e){var t=e.replace(/\s+/g,"");return t=function(e){for(var t,r=e;null!=(t=BM.exec(r));){var[,n]=t;r=r.replace(BM,VM(n))}return r}(t),t=VM(t)}function qM(e){var t=function(e){try{return $M(e)}catch(t){return zM}}(e.slice(5,-1));return t===zM?"":t}var HM=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],KM=["dx","dy","angle","className","breakAll"];function WM(){return WM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},WM.apply(null,arguments)}function GM(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var YM=/[ \f\n\r\t\v\u2028\u2029]+/,QM=e=>{var{children:t,breakAll:r,style:n}=e;try{var a=[];return yv(t)||(a=r?t.toString().split(""):t.toString().split(YM)),{wordsWithComputedWidth:a.map(e=>({word:e,width:bM(e,n).width})),spaceWidth:r?0:bM("\xa0",n).width}}catch(i){return null}},XM=e=>[{words:yv(e)?[]:e.toString().split(YM)}],JM=e=>{var{width:t,scaleToFit:r,children:n,style:a,breakAll:i,maxLines:o}=e;if((t||r)&&!hM){var s=QM({breakAll:i,children:n,style:a});if(!s)return XM(n);var{wordsWithComputedWidth:l,spaceWidth:c}=s;return((e,t,r,n,a)=>{var{maxLines:i,children:o,style:s,breakAll:l}=e,c=lv(i),u=o,d=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce((e,t)=>{var{word:i,width:o}=t,s=e[e.length-1];if(s&&(null==n||a||s.width+o+r<Number(n)))s.words.push(i),s.width+=o+r;else{var l={words:[i],width:o};e.push(l)}return e},[])},h=d(t),f=e=>e.reduce((e,t)=>e.width>t.width?e:t);if(!c||a)return h;if(!(h.length>i||f(h).width>Number(n)))return h;for(var p,m=e=>{var t=u.slice(0,e),r=QM({breakAll:l,style:s,children:t+"\u2026"}).wordsWithComputedWidth,a=d(r);return[a.length>i||f(a).width>Number(n),a]},g=0,y=u.length-1,v=0;g<=y&&v<=u.length-1;){var b=Math.floor((g+y)/2),x=b-1,[w,k]=m(x),[j]=m(b);if(w||j||(g=b+1),w&&j&&(y=b-1),!w&&j){p=k;break}v++}return p||h})({breakAll:i,children:n,maxLines:o,style:a},l,c,t,r)}return XM(n)},ZM="#808080",eR=(0,t.forwardRef)((e,r)=>{var{x:n=0,y:a=0,lineHeight:i="1em",capHeight:o="0.71em",scaleToFit:s=!1,textAnchor:l="start",verticalAnchor:c="end",fill:u=ZM}=e,d=GM(e,HM),h=(0,t.useMemo)(()=>JM({breakAll:d.breakAll,children:d.children,maxLines:d.maxLines,scaleToFit:s,style:d.style,width:d.width}),[d.breakAll,d.children,d.maxLines,s,d.style,d.width]),{dx:f,dy:p,angle:m,className:g,breakAll:y}=d,v=GM(d,KM);if(!cv(n)||!cv(a))return null;var b,x=n+(lv(f)?f:0),w=a+(lv(p)?p:0);switch(c){case"start":b=qM("calc(".concat(o,")"));break;case"middle":b=qM("calc(".concat((h.length-1)/2," * -").concat(i," + (").concat(o," / 2))"));break;default:b=qM("calc(".concat(h.length-1," * -").concat(i,")"))}var k=[];if(s){var j=h[0].width,{width:S}=d;k.push("scale(".concat(lv(S)?S/j:1,")"))}return m&&k.push("rotate(".concat(m,", ").concat(x,", ").concat(w,")")),k.length&&(v.transform=k.join(" ")),t.createElement("text",WM({},ED(v,!0),{ref:r,x:x,y:w,className:ev("recharts-text",g),textAnchor:l,fill:u.includes("url")?ZM:u}),h.map((e,r)=>{var n=e.words.join(y?"":" ");return t.createElement("tspan",{x:x,dy:0===r?b:i,key:"".concat(n,"-").concat(r)},n)}))});eR.displayName="Text";var tR=["offset"],rR=["labelRef"];function nR(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function aR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function iR(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?aR(Object(r),!0).forEach(function(t){oR(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aR(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function oR(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sR(){return sR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sR.apply(null,arguments)}var lR=e=>null!=e&&"function"===typeof e,cR=(e,r,n)=>{var a,i,{position:o,viewBox:s,offset:l,className:c}=e,{cx:u,cy:d,innerRadius:h,outerRadius:f,startAngle:p,endAngle:m,clockWise:g}=s,y=(h+f)/2,v=((e,t)=>iv(t-e)*Math.min(Math.abs(t-e),360))(p,m),b=v>=0?1:-1;"insideStart"===o?(a=p+b*l,i=g):"insideEnd"===o?(a=m-b*l,i=!g):"end"===o&&(a=m+b*l,i=g),i=v<=0?i:!i;var x=Ak(u,d,y,a),w=Ak(u,d,y,a+359*(i?1:-1)),k="M".concat(x.x,",").concat(x.y,"\n    A").concat(y,",").concat(y,",0,1,").concat(i?0:1,",\n    ").concat(w.x,",").concat(w.y),j=yv(e.id)?dv("recharts-radial-line-"):e.id;return t.createElement("text",sR({},n,{dominantBaseline:"central",className:ev("recharts-radial-bar-label",c)}),t.createElement("defs",null,t.createElement("path",{id:j,d:k})),t.createElement("textPath",{xlinkHref:"#".concat(j)},r))};function uR(e){var r,{offset:n=5}=e,a=iR({offset:n},nR(e,tR)),{viewBox:i,position:o,value:s,children:l,content:c,className:u="",textBreakAll:d,labelRef:h}=a,f=gj(),p=i||f;if(!p||yv(s)&&yv(l)&&!(0,t.isValidElement)(c)&&"function"!==typeof c)return null;if((0,t.isValidElement)(c)){var{labelRef:m}=a,g=nR(a,rR);return(0,t.cloneElement)(c,g)}if("function"===typeof c){if(r=(0,t.createElement)(c,a),(0,t.isValidElement)(r))return r}else r=(e=>{var{value:t,formatter:r}=e,n=yv(e.children)?t:e.children;return"function"===typeof r?r(n):n})(a);var y=(e=>"cx"in e&&lv(e.cx))(p),v=ED(a,!0);if(y&&("insideStart"===o||"insideEnd"===o||"end"===o))return cR(a,r,v);var b=y?(e=>{var{viewBox:t,offset:r,position:n}=e,{cx:a,cy:i,innerRadius:o,outerRadius:s,startAngle:l,endAngle:c}=t,u=(l+c)/2;if("outside"===n){var{x:d,y:h}=Ak(a,i,s+r,u);return{x:d,y:h,textAnchor:d>=a?"start":"end",verticalAnchor:"middle"}}if("center"===n)return{x:a,y:i,textAnchor:"middle",verticalAnchor:"middle"};if("centerTop"===n)return{x:a,y:i,textAnchor:"middle",verticalAnchor:"start"};if("centerBottom"===n)return{x:a,y:i,textAnchor:"middle",verticalAnchor:"end"};var f=(o+s)/2,{x:p,y:m}=Ak(a,i,f,u);return{x:p,y:m,textAnchor:"middle",verticalAnchor:"middle"}})(a):((e,t)=>{var{parentViewBox:r,offset:n,position:a}=e,{x:i,y:o,width:s,height:l}=t,c=l>=0?1:-1,u=c*n,d=c>0?"end":"start",h=c>0?"start":"end",f=s>=0?1:-1,p=f*n,m=f>0?"end":"start",g=f>0?"start":"end";if("top"===a)return iR(iR({},{x:i+s/2,y:o-c*n,textAnchor:"middle",verticalAnchor:d}),r?{height:Math.max(o-r.y,0),width:s}:{});if("bottom"===a)return iR(iR({},{x:i+s/2,y:o+l+u,textAnchor:"middle",verticalAnchor:h}),r?{height:Math.max(r.y+r.height-(o+l),0),width:s}:{});if("left"===a){var y={x:i-p,y:o+l/2,textAnchor:m,verticalAnchor:"middle"};return iR(iR({},y),r?{width:Math.max(y.x-r.x,0),height:l}:{})}if("right"===a){var v={x:i+s+p,y:o+l/2,textAnchor:g,verticalAnchor:"middle"};return iR(iR({},v),r?{width:Math.max(r.x+r.width-v.x,0),height:l}:{})}var b=r?{width:s,height:l}:{};return"insideLeft"===a?iR({x:i+p,y:o+l/2,textAnchor:g,verticalAnchor:"middle"},b):"insideRight"===a?iR({x:i+s-p,y:o+l/2,textAnchor:m,verticalAnchor:"middle"},b):"insideTop"===a?iR({x:i+s/2,y:o+u,textAnchor:"middle",verticalAnchor:h},b):"insideBottom"===a?iR({x:i+s/2,y:o+l-u,textAnchor:"middle",verticalAnchor:d},b):"insideTopLeft"===a?iR({x:i+p,y:o+u,textAnchor:g,verticalAnchor:h},b):"insideTopRight"===a?iR({x:i+s-p,y:o+u,textAnchor:m,verticalAnchor:h},b):"insideBottomLeft"===a?iR({x:i+p,y:o+l-u,textAnchor:g,verticalAnchor:d},b):"insideBottomRight"===a?iR({x:i+s-p,y:o+l-u,textAnchor:m,verticalAnchor:d},b):a&&"object"===typeof a&&(lv(a.x)||sv(a.x))&&(lv(a.y)||sv(a.y))?iR({x:i+hv(a.x,s),y:o+hv(a.y,l),textAnchor:"end",verticalAnchor:"end"},b):iR({x:i+s/2,y:o+l/2,textAnchor:"middle",verticalAnchor:"middle"},b)})(a,p);return t.createElement(eR,sR({ref:h,className:ev("recharts-label",u)},v,b,{breakAll:d}),r)}uR.displayName="Label";var dR=e=>{var{cx:t,cy:r,angle:n,startAngle:a,endAngle:i,r:o,radius:s,innerRadius:l,outerRadius:c,x:u,y:d,top:h,left:f,width:p,height:m,clockWise:g,labelViewBox:y}=e;if(y)return y;if(lv(p)&&lv(m)){if(lv(u)&&lv(d))return{x:u,y:d,width:p,height:m};if(lv(h)&&lv(f))return{x:h,y:f,width:p,height:m}}return lv(u)&&lv(d)?{x:u,y:d,width:0,height:0}:lv(t)&&lv(r)?{cx:t,cy:r,startAngle:a||n||0,endAngle:i||n||0,innerRadius:l||0,outerRadius:c||s||o||0,clockWise:g}:e.viewBox?e.viewBox:void 0};uR.parseViewBox=dR,uR.renderCallByParent=function(e,r){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.children&&n&&!e.label)return null;var{children:a,labelRef:i}=e,o=dR(e),s=SD(a,uR).map((e,n)=>(0,t.cloneElement)(e,{viewBox:r||o,key:"label-".concat(n)}));if(!n)return s;var l=((e,r,n)=>{if(!e)return null;var a={viewBox:r,labelRef:n};return!0===e?t.createElement(uR,sR({key:"label-implicit"},a)):cv(e)?t.createElement(uR,sR({key:"label-implicit",value:e},a)):(0,t.isValidElement)(e)?e.type===uR?(0,t.cloneElement)(e,iR({key:"label-implicit"},a)):t.createElement(uR,sR({key:"label-implicit",content:e},a)):lR(e)?t.createElement(uR,sR({key:"label-implicit",content:e},a)):e&&"object"===typeof e?t.createElement(uR,sR({},e,{key:"label-implicit"},a)):null})(e.label,r||o,i);return[l,...s]};var hR=["viewBox"],fR=["viewBox"];function pR(){return pR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pR.apply(null,arguments)}function mR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function gR(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?mR(Object(r),!0).forEach(function(t){vR(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mR(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function yR(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function vR(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class bR extends t.Component{constructor(e){super(e),this.tickRefs=t.createRef(),this.tickRefs.current=[],this.state={fontSize:"",letterSpacing:""}}shouldComponentUpdate(e,t){var{viewBox:r}=e,n=yR(e,hR),a=this.props,{viewBox:i}=a,o=yR(a,fR);return!CM(r,i)||!CM(n,o)||!CM(t,this.state)}getTickLineCoord(e){var t,r,n,a,i,o,{x:s,y:l,width:c,height:u,orientation:d,tickSize:h,mirror:f,tickMargin:p}=this.props,m=f?-1:1,g=e.tickSize||h,y=lv(e.tickCoord)?e.tickCoord:e.coordinate;switch(d){case"top":t=r=e.coordinate,o=(n=(a=l+ +!f*u)-m*g)-m*p,i=y;break;case"left":n=a=e.coordinate,i=(t=(r=s+ +!f*c)-m*g)-m*p,o=y;break;case"right":n=a=e.coordinate,i=(t=(r=s+ +f*c)+m*g)+m*p,o=y;break;default:t=r=e.coordinate,o=(n=(a=l+ +f*u)+m*g)+m*p,i=y}return{line:{x1:t,y1:n,x2:r,y2:a},tick:{x:i,y:o}}}getTickTextAnchor(){var e,{orientation:t,mirror:r}=this.props;switch(t){case"left":e=r?"start":"end";break;case"right":e=r?"end":"start";break;default:e="middle"}return e}getTickVerticalAnchor(){var{orientation:e,mirror:t}=this.props;switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}renderAxisLine(){var{x:e,y:r,width:n,height:a,orientation:i,mirror:o,axisLine:s}=this.props,l=gR(gR(gR({},ED(this.props,!1)),ED(s,!1)),{},{fill:"none"});if("top"===i||"bottom"===i){var c=+("top"===i&&!o||"bottom"===i&&o);l=gR(gR({},l),{},{x1:e,y1:r+c*a,x2:e+n,y2:r+c*a})}else{var u=+("left"===i&&!o||"right"===i&&o);l=gR(gR({},l),{},{x1:e+u*n,y1:r,x2:e+u*n,y2:r+a})}return t.createElement("line",pR({},l,{className:ev("recharts-cartesian-axis-line",av()(s,"className"))}))}static renderTickItem(e,r,n){var a,i=ev(r.className,"recharts-cartesian-axis-tick-value");if(t.isValidElement(e))a=t.cloneElement(e,gR(gR({},r),{},{className:i}));else if("function"===typeof e)a=e(gR(gR({},r),{},{className:i}));else{var o="recharts-cartesian-axis-tick-value";"boolean"!==typeof e&&(o=ev(o,e.className)),a=t.createElement(eR,pR({},r,{className:o}),n)}return a}renderTicks(e,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],{tickLine:a,stroke:i,tick:o,tickFormatter:s,unit:l}=this.props,c=AM(gR(gR({},this.props),{},{ticks:n}),e,r),u=this.getTickTextAnchor(),d=this.getTickVerticalAnchor(),h=ED(this.props,!1),f=ED(o,!1),p=gR(gR({},h),{},{fill:"none"},ED(a,!1)),m=c.map((e,r)=>{var{line:n,tick:m}=this.getTickLineCoord(e),g=gR(gR(gR(gR({textAnchor:u,verticalAnchor:d},h),{},{stroke:"none",fill:i},f),m),{},{index:r,payload:e,visibleTicksCount:c.length,tickFormatter:s});return t.createElement(IM,pR({className:"recharts-cartesian-axis-tick",key:"tick-".concat(e.value,"-").concat(e.coordinate,"-").concat(e.tickCoord)},bD(this.props,e,r)),a&&t.createElement("line",pR({},p,n,{className:ev("recharts-cartesian-axis-tick-line",av()(a,"className"))})),o&&bR.renderTickItem(o,g,"".concat("function"===typeof s?s(e.value,r):e.value).concat(l||"")))});return m.length>0?t.createElement("g",{className:"recharts-cartesian-axis-ticks"},m):null}render(){var{axisLine:e,width:r,height:n,className:a,hide:i}=this.props;if(i)return null;var{ticks:o}=this.props;return null!=r&&r<=0||null!=n&&n<=0?null:t.createElement(IM,{className:ev("recharts-cartesian-axis",a),ref:e=>{if(e){var t=e.getElementsByClassName("recharts-cartesian-axis-tick-value");this.tickRefs.current=Array.from(t);var r=t[0];if(r){var n=window.getComputedStyle(r).fontSize,a=window.getComputedStyle(r).letterSpacing;n===this.state.fontSize&&a===this.state.letterSpacing||this.setState({fontSize:window.getComputedStyle(r).fontSize,letterSpacing:window.getComputedStyle(r).letterSpacing})}}}},e&&this.renderAxisLine(),this.renderTicks(this.state.fontSize,this.state.letterSpacing,o),uR.renderCallByParent(this.props))}}vR(bR,"displayName","CartesianAxis"),vR(bR,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var xR=["x1","y1","x2","y2","key"],wR=["offset"],kR=["xAxisId","yAxisId"],jR=["xAxisId","yAxisId"];function SR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function NR(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?SR(Object(r),!0).forEach(function(t){ER(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SR(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function ER(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _R(){return _R=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_R.apply(null,arguments)}function AR(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var CR=e=>{var{fill:r}=e;if(!r||"none"===r)return null;var{fillOpacity:n,x:a,y:i,width:o,height:s,ry:l}=e;return t.createElement("rect",{x:a,y:i,ry:l,width:o,height:s,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function TR(e,r){var n;if(t.isValidElement(e))n=t.cloneElement(e,r);else if("function"===typeof e)n=e(r);else{var{x1:a,y1:i,x2:o,y2:s,key:l}=r,c=AR(r,xR),u=ED(c,!1),{offset:d}=u,h=AR(u,wR);n=t.createElement("line",_R({},h,{x1:a,y1:i,x2:o,y2:s,fill:"none",key:l}))}return n}function OR(e){var{x:r,width:n,horizontal:a=!0,horizontalPoints:i}=e;if(!a||!i||!i.length)return null;var{xAxisId:o,yAxisId:s}=e,l=AR(e,kR),c=i.map((e,t)=>{var i=NR(NR({},l),{},{x1:r,y1:e,x2:r+n,y2:e,key:"line-".concat(t),index:t});return TR(a,i)});return t.createElement("g",{className:"recharts-cartesian-grid-horizontal"},c)}function IR(e){var{y:r,height:n,vertical:a=!0,verticalPoints:i}=e;if(!a||!i||!i.length)return null;var{xAxisId:o,yAxisId:s}=e,l=AR(e,jR),c=i.map((e,t)=>{var i=NR(NR({},l),{},{x1:e,y1:r,x2:e,y2:r+n,key:"line-".concat(t),index:t});return TR(a,i)});return t.createElement("g",{className:"recharts-cartesian-grid-vertical"},c)}function PR(e){var{horizontalFill:r,fillOpacity:n,x:a,y:i,width:o,height:s,horizontalPoints:l,horizontal:c=!0}=e;if(!c||!r||!r.length)return null;var u=l.map(e=>Math.round(e+i-i)).sort((e,t)=>e-t);i!==u[0]&&u.unshift(0);var d=u.map((e,l)=>{var c=!u[l+1]?i+s-e:u[l+1]-e;if(c<=0)return null;var d=l%r.length;return t.createElement("rect",{key:"react-".concat(l),y:e,x:a,height:c,width:o,stroke:"none",fill:r[d],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return t.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function DR(e){var{vertical:r=!0,verticalFill:n,fillOpacity:a,x:i,y:o,width:s,height:l,verticalPoints:c}=e;if(!r||!n||!n.length)return null;var u=c.map(e=>Math.round(e+i-i)).sort((e,t)=>e-t);i!==u[0]&&u.unshift(0);var d=u.map((e,r)=>{var c=!u[r+1]?i+s-e:u[r+1]-e;if(c<=0)return null;var d=r%n.length;return t.createElement("rect",{key:"react-".concat(r),x:e,y:o,width:c,height:l,stroke:"none",fill:n[d],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return t.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var MR=(e,t)=>{var{xAxis:r,width:n,height:a,offset:i}=e;return Fk(AM(NR(NR(NR({},bR.defaultProps),r),{},{ticks:zk(r,!0),viewBox:{x:0,y:0,width:n,height:a}})),i.left,i.left+i.width,t)},RR=(e,t)=>{var{yAxis:r,width:n,height:a,offset:i}=e;return Fk(AM(NR(NR(NR({},bR.defaultProps),r),{},{ticks:zk(r,!0),viewBox:{x:0,y:0,width:n,height:a}})),i.top,i.top+i.height,t)},LR={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function FR(e){var r=bj(),n=xj(),a=vj(),i=NR(NR({},iM(e,LR)),{},{x:lv(e.x)?e.x:a.left,y:lv(e.y)?e.y:a.top,width:lv(e.width)?e.width:a.width,height:lv(e.height)?e.height:a.height}),{xAxisId:o,yAxisId:s,x:l,y:c,width:u,height:d,syncWithTicks:h,horizontalValues:f,verticalValues:p}=i,m=fj(),g=hk(e=>xO(e,"xAxis",o,m)),y=hk(e=>xO(e,"yAxis",s,m));if(!lv(u)||u<=0||!lv(d)||d<=0||!lv(l)||l!==+l||!lv(c)||c!==+c)return null;var v=i.verticalCoordinatesGenerator||MR,b=i.horizontalCoordinatesGenerator||RR,{horizontalPoints:x,verticalPoints:w}=i;if((!x||!x.length)&&"function"===typeof b){var k=f&&f.length,j=b({yAxis:y?NR(NR({},y),{},{ticks:k?f:y.ticks}):void 0,width:r,height:n,offset:a},!!k||h);bv(Array.isArray(j),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof j,"]")),Array.isArray(j)&&(x=j)}if((!w||!w.length)&&"function"===typeof v){var S=p&&p.length,N=v({xAxis:g?NR(NR({},g),{},{ticks:S?p:g.ticks}):void 0,width:r,height:n,offset:a},!!S||h);bv(Array.isArray(N),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof N,"]")),Array.isArray(N)&&(w=N)}return t.createElement("g",{className:"recharts-cartesian-grid"},t.createElement(CR,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),t.createElement(PR,_R({},i,{horizontalPoints:x})),t.createElement(DR,_R({},i,{verticalPoints:w})),t.createElement(OR,_R({},i,{offset:a,horizontalPoints:x,xAxis:g,yAxis:y})),t.createElement(IR,_R({},i,{offset:a,verticalPoints:w,xAxis:g,yAxis:y})))}FR.displayName="CartesianGrid";var zR=["children"],UR=["dangerouslySetInnerHTML","ticks"];function VR(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BR(){return BR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},BR.apply(null,arguments)}function $R(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function qR(e){var r=lk(),n=(0,t.useMemo)(()=>{var{children:t}=e;return $R(e,zR)},[e]),a=hk(e=>qC(e,n.id)),i=n===a;return(0,t.useEffect)(()=>(r(iP(n)),()=>{r(oP(n))}),[n,r]),i?e.children:null}var HR=e=>{var{xAxisId:r,className:n}=e,a=hk(dj),i=fj(),o="xAxis",s=hk(e=>aO(e,o,r,i)),l=hk(e=>wO(e,o,r,i)),c=hk(e=>dO(e,r)),u=hk(e=>((e,t)=>{var r=cj(e),n=qC(e,t);if(null!=n){var a=hO(e,n.orientation,n.mirror)[t];return null==a?{x:r.left,y:0}:{x:r.left,y:a}}})(e,r));if(null==c||null==u)return null;var{dangerouslySetInnerHTML:d,ticks:h}=e,f=$R(e,UR);return t.createElement(bR,BR({},f,{scale:s,x:u.x,y:u.y,width:c.width,height:c.height,className:ev("recharts-".concat(o," ").concat(o),n),viewBox:a,ticks:l}))},KR=e=>{var r,n,a,i,o;return t.createElement(qR,{interval:null!==(r=e.interval)&&void 0!==r?r:"preserveEnd",id:e.xAxisId,scale:e.scale,type:e.type,padding:e.padding,allowDataOverflow:e.allowDataOverflow,domain:e.domain,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,includeHidden:null!==(n=e.includeHidden)&&void 0!==n&&n,reversed:e.reversed,ticks:e.ticks,height:e.height,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:null!==(a=e.angle)&&void 0!==a?a:0,minTickGap:null!==(i=e.minTickGap)&&void 0!==i?i:5,tick:null===(o=e.tick)||void 0===o||o,tickFormatter:e.tickFormatter},t.createElement(HR,e))};class WR extends t.Component{render(){return t.createElement(KR,this.props)}}VR(WR,"displayName","XAxis"),VR(WR,"defaultProps",{allowDataOverflow:$C.allowDataOverflow,allowDecimals:$C.allowDecimals,allowDuplicatedCategory:$C.allowDuplicatedCategory,height:$C.height,hide:!1,mirror:$C.mirror,orientation:$C.orientation,padding:$C.padding,reversed:$C.reversed,scale:$C.scale,tickCount:$C.tickCount,type:$C.type,xAxisId:0});var GR=["dangerouslySetInnerHTML","ticks"];function YR(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QR(){return QR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},QR.apply(null,arguments)}function XR(e){var r=lk();return(0,t.useEffect)(()=>(r(sP(e)),()=>{r(lP(e))}),[e,r]),null}var JR=e=>{var r,{yAxisId:n,className:a,width:i,label:o}=e,s=(0,t.useRef)(null),l=(0,t.useRef)(null),c=hk(dj),u=fj(),d=lk(),h="yAxis",f=hk(e=>aO(e,h,n,u)),p=hk(e=>pO(e,n)),m=hk(e=>((e,t)=>{var r=cj(e),n=KC(e,t);if(null!=n){var a=fO(e,n.orientation,n.mirror)[t];return null==a?{x:0,y:r.top}:{x:a,y:r.top}}})(e,n)),g=hk(e=>wO(e,h,n,u));if((0,t.useLayoutEffect)(()=>{var e;if("auto"===i&&p&&!lR(o)&&!(0,t.isValidElement)(o)){var r=s.current,a=null===r||void 0===r||null===(e=r.tickRefs)||void 0===e?void 0:e.current,{tickSize:c,tickMargin:u}=r.props,h=(e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:a=0,tickMargin:i=0}=e,o=0;if(t){t.forEach(e=>{if(e){var t=e.getBoundingClientRect();t.width>o&&(o=t.width)}});var s=r?r.getBoundingClientRect().width:0,l=o+(a+i)+s+(r?n:0);return Math.round(l)}return 0})({ticks:a,label:l.current,labelGapWithTick:5,tickSize:c,tickMargin:u});Math.round(p.width)!==Math.round(h)&&d(dP({id:n,width:h}))}},[s,null===s||void 0===s||null===(r=s.current)||void 0===r||null===(r=r.tickRefs)||void 0===r?void 0:r.current,null===p||void 0===p?void 0:p.width,p,d,o,n,i]),null==p||null==m)return null;var{dangerouslySetInnerHTML:y,ticks:v}=e,b=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,GR);return t.createElement(bR,QR({},b,{ref:s,labelRef:l,scale:f,x:m.x,y:m.y,width:p.width,height:p.height,className:ev("recharts-".concat(h," ").concat(h),a),viewBox:c,ticks:g}))},ZR=e=>{var r,n,a,i,o;return t.createElement(t.Fragment,null,t.createElement(XR,{interval:null!==(r=e.interval)&&void 0!==r?r:"preserveEnd",id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:null!==(n=e.includeHidden)&&void 0!==n&&n,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:null!==(a=e.angle)&&void 0!==a?a:0,minTickGap:null!==(i=e.minTickGap)&&void 0!==i?i:5,tick:null===(o=e.tick)||void 0===o||o,tickFormatter:e.tickFormatter}),t.createElement(JR,e))},eL={allowDataOverflow:HC.allowDataOverflow,allowDecimals:HC.allowDecimals,allowDuplicatedCategory:HC.allowDuplicatedCategory,hide:!1,mirror:HC.mirror,orientation:HC.orientation,padding:HC.padding,reversed:HC.reversed,scale:HC.scale,tickCount:HC.tickCount,type:HC.type,width:HC.width,yAxisId:0};class tL extends t.Component{render(){return t.createElement(ZR,this.props)}}YR(tL,"displayName","YAxis"),YR(tL,"defaultProps",eL);var rL=r(7950);function nL(){return nL=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nL.apply(null,arguments)}function aL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function iL(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?aL(Object(r),!0).forEach(function(t){oL(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aL(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function oL(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sL(e){return Array.isArray(e)&&cv(e[0])&&cv(e[1])?e.join(" ~ "):e}var lL=e=>{var{separator:r=" : ",contentStyle:n={},itemStyle:a={},labelStyle:i={},payload:o,formatter:s,itemSorter:l,wrapperClassName:c,labelClassName:u,label:d,labelFormatter:h,accessibilityLayer:f=!1}=e,p=iL({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),m=iL({margin:0},i),g=!yv(d),y=g?d:"",v=ev("recharts-default-tooltip",c),b=ev("recharts-tooltip-label",u);g&&h&&void 0!==o&&null!==o&&(y=h(d,o));var x=f?{role:"status","aria-live":"assertive"}:{};return t.createElement("div",nL({className:v,style:p},x),t.createElement("p",{className:b,style:m},t.isValidElement(y)?y:"".concat(y)),(()=>{if(o&&o.length){var e=(l?pk()(o,l):o).map((e,n)=>{if("none"===e.type)return null;var i=e.formatter||s||sL,{value:l,name:c}=e,u=l,d=c;if(i){var h=i(l,c,e,n,o);if(Array.isArray(h))[u,d]=h;else{if(null==h)return null;u=h}}var f=iL({display:"block",paddingTop:4,paddingBottom:4,color:e.color||"#000"},a);return t.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(n),style:f},cv(d)?t.createElement("span",{className:"recharts-tooltip-item-name"},d):null,cv(d)?t.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,t.createElement("span",{className:"recharts-tooltip-item-value"},u),t.createElement("span",{className:"recharts-tooltip-item-unit"},e.unit||""))});return t.createElement("ul",{className:"recharts-tooltip-item-list",style:{padding:0,margin:0}},e)}return null})())},cL="recharts-tooltip-wrapper",uL={visibility:"hidden"};function dL(e){var{coordinate:t,translateX:r,translateY:n}=e;return ev(cL,{["".concat(cL,"-right")]:lv(r)&&t&&lv(t.x)&&r>=t.x,["".concat(cL,"-left")]:lv(r)&&t&&lv(t.x)&&r<t.x,["".concat(cL,"-bottom")]:lv(n)&&t&&lv(t.y)&&n>=t.y,["".concat(cL,"-top")]:lv(n)&&t&&lv(t.y)&&n<t.y})}function hL(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:a,position:i,reverseDirection:o,tooltipDimension:s,viewBox:l,viewBoxDimension:c}=e;if(i&&lv(i[n]))return i[n];var u=r[n]-s-(a>0?a:0),d=r[n]+a;if(t[n])return o[n]?u:d;var h=l[n];return null==h?0:o[n]?u<h?Math.max(d,h):Math.max(u,h):null==c?0:d+s>h+c?Math.max(u,h):Math.max(d,h)}function fL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function pL(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?fL(Object(r),!0).forEach(function(t){mL(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fL(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function mL(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class gL extends t.PureComponent{constructor(){super(...arguments),mL(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),mL(this,"handleKeyDown",e=>{var t,r,n,a;"Escape"===e.key&&this.setState({dismissed:!0,dismissedAtCoordinate:{x:null!==(t=null===(r=this.props.coordinate)||void 0===r?void 0:r.x)&&void 0!==t?t:0,y:null!==(n=null===(a=this.props.coordinate)||void 0===a?void 0:a.y)&&void 0!==n?n:0}})})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,t;this.state.dismissed&&((null===(e=this.props.coordinate)||void 0===e?void 0:e.x)===this.state.dismissedAtCoordinate.x&&(null===(t=this.props.coordinate)||void 0===t?void 0:t.y)===this.state.dismissedAtCoordinate.y||(this.state.dismissed=!1))}render(){var{active:e,allowEscapeViewBox:r,animationDuration:n,animationEasing:a,children:i,coordinate:o,hasPayload:s,isAnimationActive:l,offset:c,position:u,reverseDirection:d,useTranslate3d:h,viewBox:f,wrapperStyle:p,lastBoundingBox:m,innerRef:g,hasPortalFromProps:y}=this.props,{cssClasses:v,cssProperties:b}=function(e){var t,r,n,{allowEscapeViewBox:a,coordinate:i,offsetTopLeft:o,position:s,reverseDirection:l,tooltipBox:c,useTranslate3d:u,viewBox:d}=e;return t=c.height>0&&c.width>0&&i?function(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}({translateX:r=hL({allowEscapeViewBox:a,coordinate:i,key:"x",offsetTopLeft:o,position:s,reverseDirection:l,tooltipDimension:c.width,viewBox:d,viewBoxDimension:d.width}),translateY:n=hL({allowEscapeViewBox:a,coordinate:i,key:"y",offsetTopLeft:o,position:s,reverseDirection:l,tooltipDimension:c.height,viewBox:d,viewBoxDimension:d.height}),useTranslate3d:u}):uL,{cssProperties:t,cssClasses:dL({translateX:r,translateY:n,coordinate:i})}}({allowEscapeViewBox:r,coordinate:o,offsetTopLeft:c,position:u,reverseDirection:d,tooltipBox:{height:m.height,width:m.width},useTranslate3d:h,viewBox:f}),x=y?{}:pL(pL({transition:l&&e?"transform ".concat(n,"ms ").concat(a):void 0},b),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&s?"visible":"hidden",position:"absolute",top:0,left:0}),w=pL(pL({},x),{},{visibility:!this.state.dismissed&&e&&s?"visible":"hidden"},p);return t.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:v,style:w,ref:g},i)}}var yL=r(4332),vL=r.n(yL);function bL(e,t,r){return!0===t?vL()(e,r):"function"===typeof t?vL()(e,t):e}function xL(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],[r,n]=(0,t.useState)({height:0,left:0,top:0,width:0}),a=(0,t.useCallback)(e=>{if(null!=e){var t=e.getBoundingClientRect(),a={height:t.height,left:t.left,top:t.top,width:t.width};(Math.abs(a.height-r.height)>1||Math.abs(a.left-r.left)>1||Math.abs(a.top-r.top)>1||Math.abs(a.width-r.width)>1)&&n({height:a.height,left:a.left,top:a.top,width:a.width})}},[r.width,r.height,r.top,r.left,...e]);return[r,a]}function wL(){}function kL(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function jL(e){this._context=e}function SL(e){this._context=e}function NL(e){this._context=e}jL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:kL(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:kL(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},SL.prototype={areaStart:wL,areaEnd:wL,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:kL(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},NL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:kL(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};class EL{constructor(e,t){this._context=e,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,t,e,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,e,this._y0,e,t)}this._x0=e,this._y0=t}}function _L(e){this._context=e}function AL(e){this._context=e}function CL(e){return new AL(e)}function TL(e){return e<0?-1:1}function OL(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),o=(r-e._y1)/(a||n<0&&-0),s=(i*a+o*n)/(n+a);return(TL(i)+TL(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(s))||0}function IL(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function PL(e,t,r){var n=e._x0,a=e._y0,i=e._x1,o=e._y1,s=(i-n)/3;e._context.bezierCurveTo(n+s,a+s*t,i-s,o-s*r,i,o)}function DL(e){this._context=e}function ML(e){this._context=new RL(e)}function RL(e){this._context=e}function LL(e){this._context=e}function FL(e){var t,r,n=e.length-1,a=new Array(n),i=new Array(n),o=new Array(n);for(a[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<n-1;++t)a[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[n-1]=2,i[n-1]=7,o[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=a[t]/i[t-1],i[t]-=r,o[t]-=r*o[t-1];for(a[n-1]=o[n-1]/i[n-1],t=n-2;t>=0;--t)a[t]=(o[t]-a[t+1])/i[t];for(i[n-1]=(e[n]+a[n-1])/2,t=0;t<n-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function zL(e,t){this._context=e,this._t=t}_L.prototype={areaStart:wL,areaEnd:wL,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}},AL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}},DL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:PL(this,this._t0,IL(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,PL(this,IL(this,r=OL(this,e,t)),r);break;default:PL(this,this._t0,r=OL(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}},(ML.prototype=Object.create(DL.prototype)).point=function(e,t){DL.prototype.point.call(this,t,e)},RL.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}},LL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===r)this._context.lineTo(e[1],t[1]);else for(var n=FL(e),a=FL(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[o],t[o]);(this._line||0!==this._line&&1===r)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}},zL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}}this._x=e,this._y=t}};const UL=Math.PI,VL=2*UL,BL=1e-6,$L=VL-BL;function qL(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}class HL{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==e?qL:function(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return qL;const r=10**t;return function(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=Math.round(arguments[t]*r)/r+e[t]}}(e)}moveTo(e,t){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,t){this._append`L${this._x1=+e},${this._y1=+t}`}quadraticCurveTo(e,t,r,n){this._append`Q${+e},${+t},${this._x1=+r},${this._y1=+n}`}bezierCurveTo(e,t,r,n,a,i){this._append`C${+e},${+t},${+r},${+n},${this._x1=+a},${this._y1=+i}`}arcTo(e,t,r,n,a){if(e=+e,t=+t,r=+r,n=+n,(a=+a)<0)throw new Error(`negative radius: ${a}`);let i=this._x1,o=this._y1,s=r-e,l=n-t,c=i-e,u=o-t,d=c*c+u*u;if(null===this._x1)this._append`M${this._x1=e},${this._y1=t}`;else if(d>BL)if(Math.abs(u*s-l*c)>BL&&a){let h=r-i,f=n-o,p=s*s+l*l,m=h*h+f*f,g=Math.sqrt(p),y=Math.sqrt(d),v=a*Math.tan((UL-Math.acos((p+d-m)/(2*g*y)))/2),b=v/y,x=v/g;Math.abs(b-1)>BL&&this._append`L${e+b*c},${t+b*u}`,this._append`A${a},${a},0,0,${+(u*h>c*f)},${this._x1=e+x*s},${this._y1=t+x*l}`}else this._append`L${this._x1=e},${this._y1=t}`;else;}arc(e,t,r,n,a,i){if(e=+e,t=+t,i=!!i,(r=+r)<0)throw new Error(`negative radius: ${r}`);let o=r*Math.cos(n),s=r*Math.sin(n),l=e+o,c=t+s,u=1^i,d=i?n-a:a-n;null===this._x1?this._append`M${l},${c}`:(Math.abs(this._x1-l)>BL||Math.abs(this._y1-c)>BL)&&this._append`L${l},${c}`,r&&(d<0&&(d=d%VL+VL),d>$L?this._append`A${r},${r},0,1,${u},${e-o},${t-s}A${r},${r},0,1,${u},${this._x1=l},${this._y1=c}`:d>BL&&this._append`A${r},${r},0,${+(d>=UL)},${u},${this._x1=e+r*Math.cos(a)},${this._y1=t+r*Math.sin(a)}`)}rect(e,t,r,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}h${r=+r}v${+n}h${-r}Z`}toString(){return this._}}function KL(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(null==r)t=null;else{const e=Math.floor(r);if(!(e>=0))throw new RangeError(`invalid digits: ${r}`);t=e}return e},()=>new HL(t)}function WL(e){return e[0]}function GL(e){return e[1]}function YL(e,t){var r=bk(!0),n=null,a=CL,i=null,o=KL(s);function s(s){var l,c,u,d=(s=vk(s)).length,h=!1;for(null==n&&(i=a(u=o())),l=0;l<=d;++l)!(l<d&&r(c=s[l],l,s))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+e(c,l,s),+t(c,l,s));if(u)return i=null,u+""||null}return e="function"===typeof e?e:void 0===e?WL:bk(e),t="function"===typeof t?t:void 0===t?GL:bk(t),s.x=function(t){return arguments.length?(e="function"===typeof t?t:bk(+t),s):e},s.y=function(e){return arguments.length?(t="function"===typeof e?e:bk(+e),s):t},s.defined=function(e){return arguments.length?(r="function"===typeof e?e:bk(!!e),s):r},s.curve=function(e){return arguments.length?(a=e,null!=n&&(i=a(n)),s):a},s.context=function(e){return arguments.length?(null==e?n=i=null:i=a(n=e),s):n},s}function QL(e,t,r){var n=null,a=bk(!0),i=null,o=CL,s=null,l=KL(c);function c(c){var u,d,h,f,p,m=(c=vk(c)).length,g=!1,y=new Array(m),v=new Array(m);for(null==i&&(s=o(p=l())),u=0;u<=m;++u){if(!(u<m&&a(f=c[u],u,c))===g)if(g=!g)d=u,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),h=u-1;h>=d;--h)s.point(y[h],v[h]);s.lineEnd(),s.areaEnd()}g&&(y[u]=+e(f,u,c),v[u]=+t(f,u,c),s.point(n?+n(f,u,c):y[u],r?+r(f,u,c):v[u]))}if(p)return s=null,p+""||null}function u(){return YL().defined(a).curve(o).context(i)}return e="function"===typeof e?e:void 0===e?WL:bk(+e),t="function"===typeof t?t:bk(void 0===t?0:+t),r="function"===typeof r?r:void 0===r?GL:bk(+r),c.x=function(t){return arguments.length?(e="function"===typeof t?t:bk(+t),n=null,c):e},c.x0=function(t){return arguments.length?(e="function"===typeof t?t:bk(+t),c):e},c.x1=function(e){return arguments.length?(n=null==e?null:"function"===typeof e?e:bk(+e),c):n},c.y=function(e){return arguments.length?(t="function"===typeof e?e:bk(+e),r=null,c):t},c.y0=function(e){return arguments.length?(t="function"===typeof e?e:bk(+e),c):t},c.y1=function(e){return arguments.length?(r=null==e?null:"function"===typeof e?e:bk(+e),c):r},c.lineX0=c.lineY0=function(){return u().x(e).y(t)},c.lineY1=function(){return u().x(e).y(r)},c.lineX1=function(){return u().x(n).y(t)},c.defined=function(e){return arguments.length?(a="function"===typeof e?e:bk(!!e),c):a},c.curve=function(e){return arguments.length?(o=e,null!=i&&(s=o(i)),c):o},c.context=function(e){return arguments.length?(null==e?i=s=null:s=o(i=e),c):i},c}function XL(){return XL=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},XL.apply(null,arguments)}function JL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function ZL(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?JL(Object(r),!0).forEach(function(t){eF(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JL(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function eF(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var tF={curveBasisClosed:function(e){return new SL(e)},curveBasisOpen:function(e){return new NL(e)},curveBasis:function(e){return new jL(e)},curveBumpX:function(e){return new EL(e,!0)},curveBumpY:function(e){return new EL(e,!1)},curveLinearClosed:function(e){return new _L(e)},curveLinear:CL,curveMonotoneX:function(e){return new DL(e)},curveMonotoneY:function(e){return new ML(e)},curveNatural:function(e){return new LL(e)},curveStep:function(e){return new zL(e,.5)},curveStepAfter:function(e){return new zL(e,1)},curveStepBefore:function(e){return new zL(e,0)}},rF=e=>LA(e.x)&&LA(e.y),nF=e=>e.x,aF=e=>e.y,iF=e=>{var t,{type:r="linear",points:n=[],baseLine:a,layout:i,connectNulls:o=!1}=e,s=((e,t)=>{if("function"===typeof e)return e;var r="curve".concat(vv(e));return"curveMonotone"!==r&&"curveBump"!==r||!t?tF[r]||CL:tF["".concat(r).concat("vertical"===t?"Y":"X")]})(r,i),l=o?n.filter(rF):n;if(Array.isArray(a)){var c=o?a.filter(e=>rF(e)):a,u=l.map((e,t)=>ZL(ZL({},e),{},{base:c[t]}));return(t="vertical"===i?QL().y(aF).x1(nF).x0(e=>e.base.x):QL().x(nF).y1(aF).y0(e=>e.base.y)).defined(rF).curve(s),t(u)}return(t="vertical"===i&&lv(a)?QL().y(aF).x1(nF).x0(a):lv(a)?QL().x(nF).y1(aF).y0(a):YL().x(nF).y(aF)).defined(rF).curve(s),t(l)},oF=e=>{var{className:r,points:n,path:a,pathRef:i}=e;if((!n||!n.length)&&!a)return null;var o=n&&n.length?iF(e):a;return t.createElement("path",XL({},ED(e,!1),vD(e),{className:ev("recharts-curve",r),d:null===o?void 0:o,ref:i}))},sF=["x","y","top","left","width","height","className"];function lF(){return lF=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lF.apply(null,arguments)}function cF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function uF(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var dF=(e,t,r,n,a,i)=>"M".concat(e,",").concat(a,"v").concat(n,"M").concat(i,",").concat(t,"h").concat(r),hF=e=>{var{x:r=0,y:n=0,top:a=0,left:i=0,width:o=0,height:s=0,className:l}=e,c=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,sF),u=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?cF(Object(r),!0).forEach(function(t){uF(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cF(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({x:r,y:n,top:a,left:i,width:o,height:s},c);return lv(r)&&lv(n)&&lv(o)&&lv(s)&&lv(a)&&lv(i)?t.createElement("path",lF({},ED(u,!0),{className:ev("recharts-cross",l),d:dF(r,n,o,s,a,i)})):null};var fF=r(4250),pF=r.n(fF);var mF=1e-4,gF=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],yF=(e,t)=>e.map((e,r)=>e*t**r).reduce((e,t)=>e+t),vF=(e,t)=>r=>{var n=gF(e,t);return yF(n,r)},bF=function(){for(var e,t,r,n,a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];if(1===i.length)switch(i[0]){case"linear":[e,r,t,n]=[0,0,1,1];break;case"ease":[e,r,t,n]=[.25,.1,.25,1];break;case"ease-in":[e,r,t,n]=[.42,0,1,1];break;case"ease-out":[e,r,t,n]=[.42,0,.58,1];break;case"ease-in-out":[e,r,t,n]=[0,0,.58,1];break;default:var s=i[0].split("(");"cubic-bezier"===s[0]&&4===s[1].split(")")[0].split(",").length&&([e,r,t,n]=s[1].split(")")[0].split(",").map(e=>parseFloat(e)))}else 4===i.length&&([e,r,t,n]=i);var l,c,u=vF(e,t),d=vF(r,n),h=(l=e,c=t,e=>{var t=[...gF(l,c).map((e,t)=>e*t).slice(1),0];return yF(t,e)}),f=e=>e>1?1:e<0?0:e,p=e=>{for(var t=e>1?1:e,r=t,n=0;n<8;++n){var a=u(r)-t,i=h(r);if(Math.abs(a-t)<mF||i<mF)return d(r);r=f(r-a/i)}return d(r)};return p.isStepper=!1,p},xF=e=>{if("string"===typeof e)switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return bF(e);case"spring":return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{stiff:t=100,damping:r=8,dt:n=17}=e,a=(e,a,i)=>{var o=i+(-(e-a)*t-i*r)*n/1e3,s=i*n/1e3+e;return Math.abs(s-a)<mF&&Math.abs(o)<mF?[a,0]:[s,o]};return a.isStepper=!0,a.dt=n,a}();default:if("cubic-bezier"===e.split("(")[0])return bF(e)}return"function"===typeof e?e:null};function wF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function kF(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?wF(Object(r),!0).forEach(function(t){jF(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wF(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function jF(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var SF=(e,t)=>Object.keys(t).reduce((r,n)=>kF(kF({},r),{},{[n]:e(n,t[n])}),{});function NF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function EF(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?NF(Object(r),!0).forEach(function(t){_F(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NF(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function _F(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var AF=(e,t,r)=>e+(t-e)*r,CF=e=>{var{from:t,to:r}=e;return t!==r},TF=(e,t,r)=>{var n=SF((t,r)=>{if(CF(r)){var[n,a]=e(r.from,r.to,r.velocity);return EF(EF({},r),{},{from:n,velocity:a})}return r},t);return r<1?SF((e,t)=>CF(t)?EF(EF({},t),{},{velocity:AF(t.velocity,n[e].velocity,r),from:AF(t.from,n[e].from,r)}):t,t):TF(e,n,r-1)};function OF(e,t,r,n,a,i){var o,s=n.reduce((r,n)=>EF(EF({},r),{},{[n]:{from:e[n],velocity:0,to:t[n]}}),{}),l=null,c=n=>{o||(o=n);var u=(n-o)/r.dt;s=TF(r,s,u),a(EF(EF(EF({},e),t),SF((e,t)=>t.from,s))),o=n,Object.values(s).filter(CF).length&&(l=i.setTimeout(c))};return()=>(l=i.setTimeout(c),()=>{l()})}const IF=(e,t,r,n,a,i)=>{var o,s,l=(o=e,s=t,[Object.keys(o),Object.keys(s)].reduce((e,t)=>e.filter(e=>t.includes(e))));return!0===r.isStepper?OF(e,t,r,l,a,i):function(e,t,r,n,a,i,o){var s,l=null,c=a.reduce((r,n)=>EF(EF({},r),{},{[n]:[e[n],t[n]]}),{}),u=a=>{s||(s=a);var d=(a-s)/n,h=SF((e,t)=>AF(...t,r(d)),c);if(i(EF(EF(EF({},e),t),h)),d<1)l=o.setTimeout(u);else{var f=SF((e,t)=>AF(...t,r(1)),c);i(EF(EF(EF({},e),t),f))}};return()=>(l=o.setTimeout(u),()=>{l()})}(e,t,r,n,l,a,i)};class PF{setTimeout(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=performance.now(),n=null,a=i=>{i-r>=t?e(i):"function"===typeof requestAnimationFrame&&(n=requestAnimationFrame(a))};return n=requestAnimationFrame(a),()=>{cancelAnimationFrame(n)}}}var DF=["children","begin","duration","attributeName","easing","isActive","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart","animationManager"];function MF(){return MF=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},MF.apply(null,arguments)}function RF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function LF(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?RF(Object(r),!0).forEach(function(t){FF(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RF(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function FF(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zF(){return function(e){var t=()=>null,r=!1,n=null,a=i=>{if(!r){if(Array.isArray(i)){if(!i.length)return;var o=i,[s,...l]=o;return"number"===typeof s?void(n=e.setTimeout(a.bind(null,l),s)):(a(s),void(n=e.setTimeout(a.bind(null,l))))}"object"===typeof i&&t(i),"function"===typeof i&&i()}};return{stop:()=>{r=!0},start:e=>{r=!1,n&&(n(),n=null),a(e)},subscribe:e=>(t=e,()=>{t=()=>null}),getTimeoutController:()=>e}}(new PF)}class UF extends t.PureComponent{constructor(e,t){super(e,t),FF(this,"mounted",!1),FF(this,"manager",null),FF(this,"stopJSAnimation",null),FF(this,"unSubscribe",null);var{isActive:r,attributeName:n,from:a,to:i,children:o,duration:s,animationManager:l}=this.props;if(this.manager=l,this.handleStyleChange=this.handleStyleChange.bind(this),this.changeStyle=this.changeStyle.bind(this),!r||s<=0)return this.state={style:{}},void("function"===typeof o&&(this.state={style:i}));if(a){if("function"===typeof o)return void(this.state={style:a});this.state={style:n?{[n]:a}:a}}else this.state={style:{}}}componentDidMount(){var{isActive:e,canBegin:t}=this.props;this.mounted=!0,e&&t&&this.runAnimation(this.props)}componentDidUpdate(e){var{isActive:t,canBegin:r,attributeName:n,shouldReAnimate:a,to:i,from:o}=this.props,{style:s}=this.state;if(r)if(t){if(!(pF()(e.to,i)&&e.canBegin&&e.isActive)){var l=!e.canBegin||!e.isActive;this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var c=l||a?o:e.to;if(this.state&&s){var u={style:n?{[n]:c}:c};(n&&s[n]!==c||!n&&s!==c)&&this.setState(u)}this.runAnimation(LF(LF({},this.props),{},{from:c,begin:0}))}}else{var d={style:n?{[n]:i}:i};this.state&&s&&(n&&s[n]!==i||!n&&s!==i)&&this.setState(d)}}componentWillUnmount(){this.mounted=!1;var{onAnimationEnd:e}=this.props;this.unSubscribe&&this.unSubscribe(),this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation(),e&&e()}handleStyleChange(e){this.changeStyle(e)}changeStyle(e){this.mounted&&this.setState({style:e})}runJSAnimation(e){var{from:t,to:r,duration:n,easing:a,begin:i,onAnimationEnd:o,onAnimationStart:s}=e,l=IF(t,r,xF(a),n,this.changeStyle,this.manager.getTimeoutController());this.manager.start([s,i,()=>{this.stopJSAnimation=l()},n,o])}runAnimation(e){var{begin:t,duration:r,attributeName:n,to:a,easing:i,onAnimationStart:o,onAnimationEnd:s,children:l}=e;if(this.unSubscribe=this.manager.subscribe(this.handleStyleChange),"function"!==typeof i&&"function"!==typeof l&&"spring"!==i){var c=n?{[n]:a}:a,u=((e,t,r)=>e.map(e=>{return"".concat((n=e,n.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())))," ").concat(t,"ms ").concat(r);var n}).join(","))(Object.keys(c),r,i);this.manager.start([o,t,LF(LF({},c),{},{transition:u}),r,s])}else this.runJSAnimation(e)}render(){var e=this.props,{children:r,begin:n,duration:a,attributeName:i,easing:o,isActive:s,from:l,to:c,canBegin:u,onAnimationEnd:d,shouldReAnimate:h,onAnimationReStart:f,animationManager:p}=e,m=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,DF),g=t.Children.count(r),y=this.state.style;if("function"===typeof r)return r(y);if(!s||0===g||a<=0)return r;var v=e=>{var{style:r={},className:n}=e.props;return(0,t.cloneElement)(e,LF(LF({},m),{},{style:LF(LF({},r),y),className:n}))};return 1===g?v(t.Children.only(r)):t.createElement("div",null,t.Children.map(r,e=>v(e)))}}FF(UF,"displayName","Animate"),FF(UF,"defaultProps",{begin:0,duration:1e3,attributeName:"",easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}});var VF=(0,t.createContext)(null);function BF(e){var r,n,a=(0,t.useContext)(VF);return t.createElement(UF,MF({},e,{animationManager:null!==(r=null!==(n=e.animationManager)&&void 0!==n?n:a)&&void 0!==r?r:zF()}))}function $F(){return $F=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$F.apply(null,arguments)}var qF=(e,t,r,n,a)=>{var i,o=Math.min(Math.abs(r)/2,Math.abs(n)/2),s=n>=0?1:-1,l=r>=0?1:-1,c=n>=0&&r>=0||n<0&&r<0?1:0;if(o>0&&a instanceof Array){for(var u=[0,0,0,0],d=0;d<4;d++)u[d]=a[d]>o?o:a[d];i="M".concat(e,",").concat(t+s*u[0]),u[0]>0&&(i+="A ".concat(u[0],",").concat(u[0],",0,0,").concat(c,",").concat(e+l*u[0],",").concat(t)),i+="L ".concat(e+r-l*u[1],",").concat(t),u[1]>0&&(i+="A ".concat(u[1],",").concat(u[1],",0,0,").concat(c,",\n        ").concat(e+r,",").concat(t+s*u[1])),i+="L ".concat(e+r,",").concat(t+n-s*u[2]),u[2]>0&&(i+="A ".concat(u[2],",").concat(u[2],",0,0,").concat(c,",\n        ").concat(e+r-l*u[2],",").concat(t+n)),i+="L ".concat(e+l*u[3],",").concat(t+n),u[3]>0&&(i+="A ".concat(u[3],",").concat(u[3],",0,0,").concat(c,",\n        ").concat(e,",").concat(t+n-s*u[3])),i+="Z"}else if(o>0&&a===+a&&a>0){var h=Math.min(o,a);i="M ".concat(e,",").concat(t+s*h,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+l*h,",").concat(t,"\n            L ").concat(e+r-l*h,",").concat(t,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+r,",").concat(t+s*h,"\n            L ").concat(e+r,",").concat(t+n-s*h,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+r-l*h,",").concat(t+n,"\n            L ").concat(e+l*h,",").concat(t+n,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e,",").concat(t+n-s*h," Z")}else i="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return i},HF={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},KF=e=>{var r=iM(e,HF),n=(0,t.useRef)(null),[a,i]=(0,t.useState)(-1);(0,t.useEffect)(()=>{if(n.current&&n.current.getTotalLength)try{var e=n.current.getTotalLength();e&&i(e)}catch(t){}},[]);var{x:o,y:s,width:l,height:c,radius:u,className:d}=r,{animationEasing:h,animationDuration:f,animationBegin:p,isAnimationActive:m,isUpdateAnimationActive:g}=r;if(o!==+o||s!==+s||l!==+l||c!==+c||0===l||0===c)return null;var y=ev("recharts-rectangle",d);return g?t.createElement(BF,{canBegin:a>0,from:{width:l,height:c,x:o,y:s},to:{width:l,height:c,x:o,y:s},duration:f,animationEasing:h,isActive:g},e=>{var{width:i,height:o,x:s,y:l}=e;return t.createElement(BF,{canBegin:a>0,from:"0px ".concat(-1===a?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:p,duration:f,isActive:m,easing:h},t.createElement("path",$F({},ED(r,!0),{className:y,d:qF(s,l,i,o,u),ref:n})))}):t.createElement("path",$F({},ED(r,!0),{className:y,d:qF(o,s,l,c,u)}))};function WF(e){var{cx:t,cy:r,radius:n,startAngle:a,endAngle:i}=e;return{points:[Ak(t,r,n,a),Ak(t,r,n,i)],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}function GF(){return GF=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},GF.apply(null,arguments)}var YF=e=>{var{cx:t,cy:r,radius:n,angle:a,sign:i,isExternal:o,cornerRadius:s,cornerIsExternal:l}=e,c=s*(o?1:-1)+n,u=Math.asin(s/c)/Ek,d=l?a:a+i*u,h=l?a-i*u:a;return{center:Ak(t,r,c,d),circleTangency:Ak(t,r,n,d),lineTangency:Ak(t,r,c*Math.cos(u*Ek),h),theta:u}},QF=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:i,endAngle:o}=e,s=((e,t)=>iv(t-e)*Math.min(Math.abs(t-e),359.999))(i,o),l=i+s,c=Ak(t,r,a,i),u=Ak(t,r,a,l),d="M ".concat(c.x,",").concat(c.y,"\n    A ").concat(a,",").concat(a,",0,\n    ").concat(+(Math.abs(s)>180),",").concat(+(i>l),",\n    ").concat(u.x,",").concat(u.y,"\n  ");if(n>0){var h=Ak(t,r,n,i),f=Ak(t,r,n,l);d+="L ".concat(f.x,",").concat(f.y,"\n            A ").concat(n,",").concat(n,",0,\n            ").concat(+(Math.abs(s)>180),",").concat(+(i<=l),",\n            ").concat(h.x,",").concat(h.y," Z")}else d+="L ".concat(t,",").concat(r," Z");return d},XF={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},JF=e=>{var r=iM(e,XF),{cx:n,cy:a,innerRadius:i,outerRadius:o,cornerRadius:s,forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d,className:h}=r;if(o<i||u===d)return null;var f,p=ev("recharts-sector",h),m=o-i,g=hv(s,m,0,!0);return f=g>0&&Math.abs(u-d)<360?(e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,cornerRadius:i,forceCornerRadius:o,cornerIsExternal:s,startAngle:l,endAngle:c}=e,u=iv(c-l),{circleTangency:d,lineTangency:h,theta:f}=YF({cx:t,cy:r,radius:a,angle:l,sign:u,cornerRadius:i,cornerIsExternal:s}),{circleTangency:p,lineTangency:m,theta:g}=YF({cx:t,cy:r,radius:a,angle:c,sign:-u,cornerRadius:i,cornerIsExternal:s}),y=s?Math.abs(l-c):Math.abs(l-c)-f-g;if(y<0)return o?"M ".concat(h.x,",").concat(h.y,"\n        a").concat(i,",").concat(i,",0,0,1,").concat(2*i,",0\n        a").concat(i,",").concat(i,",0,0,1,").concat(2*-i,",0\n      "):QF({cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:l,endAngle:c});var v="M ".concat(h.x,",").concat(h.y,"\n    A").concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(d.x,",").concat(d.y,"\n    A").concat(a,",").concat(a,",0,").concat(+(y>180),",").concat(+(u<0),",").concat(p.x,",").concat(p.y,"\n    A").concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(m.x,",").concat(m.y,"\n  ");if(n>0){var{circleTangency:b,lineTangency:x,theta:w}=YF({cx:t,cy:r,radius:n,angle:l,sign:u,isExternal:!0,cornerRadius:i,cornerIsExternal:s}),{circleTangency:k,lineTangency:j,theta:S}=YF({cx:t,cy:r,radius:n,angle:c,sign:-u,isExternal:!0,cornerRadius:i,cornerIsExternal:s}),N=s?Math.abs(l-c):Math.abs(l-c)-w-S;if(N<0&&0===i)return"".concat(v,"L").concat(t,",").concat(r,"Z");v+="L".concat(j.x,",").concat(j.y,"\n      A").concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(k.x,",").concat(k.y,"\n      A").concat(n,",").concat(n,",0,").concat(+(N>180),",").concat(+(u>0),",").concat(b.x,",").concat(b.y,"\n      A").concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(x.x,",").concat(x.y,"Z")}else v+="L".concat(t,",").concat(r,"Z");return v})({cx:n,cy:a,innerRadius:i,outerRadius:o,cornerRadius:Math.min(g,m/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d}):QF({cx:n,cy:a,innerRadius:i,outerRadius:o,startAngle:u,endAngle:d}),t.createElement("path",GF({},ED(r,!0),{className:p,d:f}))};function ZF(e,t,r){var n,a,i,o;if("horizontal"===e)i=n=t.x,a=r.top,o=r.top+r.height;else if("vertical"===e)o=a=t.y,n=r.left,i=r.left+r.width;else if(null!=t.cx&&null!=t.cy){if("centric"!==e)return WF(t);var{cx:s,cy:l,innerRadius:c,outerRadius:u,angle:d}=t,h=Ak(s,l,c,d),f=Ak(s,l,u,d);n=h.x,a=h.y,i=f.x,o=f.y}return[{x:n,y:a},{x:i,y:o}]}function ez(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function tz(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ez(Object(r),!0).forEach(function(t){rz(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ez(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function rz(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var nz=()=>{var e=hk(KO),t=hk(wI),r=hk(vI);return Yk(tz(tz({},e),{},{scale:r}),t)};function az(){return az=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},az.apply(null,arguments)}function iz(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function oz(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?iz(Object(r),!0).forEach(function(t){sz(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iz(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function sz(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lz(e){var r,n,{coordinate:a,payload:i,index:o,offset:s,tooltipAxisBandSize:l,layout:c,cursor:u,tooltipEventType:d,chartName:h}=e,f=a,p=i,m=o;if(!u||!f||"ScatterChart"!==h&&"axis"!==d)return null;if("ScatterChart"===h)r=f,n=hF;else if("BarChart"===h)r=function(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:"horizontal"===e?t.x-a:r.left+.5,y:"horizontal"===e?r.top+.5:t.y-a,width:"horizontal"===e?n:r.width-1,height:"horizontal"===e?r.height-1:n}}(c,f,s,l),n=KF;else if("radial"===c){var{cx:g,cy:y,radius:v,startAngle:b,endAngle:x}=WF(f);r={cx:g,cy:y,startAngle:b,endAngle:x,innerRadius:v,outerRadius:v},n=JF}else r={points:ZF(c,f,s)},n=oF;var w="object"===typeof u&&"className"in u?u.className:void 0,k=oz(oz(oz(oz({stroke:"#ccc",pointerEvents:"none"},s),r),ED(u,!1)),{},{payload:p,payloadIndex:m,className:ev("recharts-tooltip-cursor",w)});return(0,t.isValidElement)(u)?(0,t.cloneElement)(u,k):(0,t.createElement)(n,k)}function cz(e){var r=nz(),n=vj(),a=jj(),i=MI();return t.createElement(lz,az({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:n,layout:a,tooltipAxisBandSize:r,chartName:i}))}function uz(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function dz(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?uz(Object(r),!0).forEach(function(t){hz(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uz(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function hz(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fz(e){return e.dataKey}var pz=[],mz={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!hM,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function gz(e){var r=iM(e,mz),{active:n,allowEscapeViewBox:a,animationDuration:i,animationEasing:o,content:s,filterNull:l,isAnimationActive:c,offset:u,payloadUniqBy:d,position:h,reverseDirection:f,useTranslate3d:p,wrapperStyle:m,cursor:g,shared:y,trigger:v,defaultIndex:b,portal:x,axisId:w}=r,k=lk(),j="number"===typeof b?String(b):b;(0,t.useEffect)(()=>{k(Cw({shared:y,trigger:v,axisId:w,active:n,defaultIndex:j}))},[k,y,v,w,n,j]);var S=gj(),N=_D(),E=function(e){return hk(t=>CO(t,e))}(y),{activeIndex:_,isActive:A}=hk(e=>WI(e,E,v,j)),C=hk(e=>KI(e,E,v,j)),T=hk(e=>HI(e,E,v,j)),O=hk(e=>qI(e,E,v,j)),I=C,P=(0,t.useContext)(qD),D=null!==n&&void 0!==n?n:A,[M,R]=xL([I,D]),L="axis"===E?T:void 0;$D(E,v,O,L,_,D);var F=null!==x&&void 0!==x?x:P;if(null==F)return null;var z=null!==I&&void 0!==I?I:pz;D||(z=pz),l&&z.length&&(z=bL(I.filter(e=>null!=e.value&&(!0!==e.hide||r.includeHidden)),d,fz));var U=z.length>0,V=t.createElement(gL,{allowEscapeViewBox:a,animationDuration:i,animationEasing:o,isAnimationActive:c,active:D,coordinate:O,hasPayload:U,offset:u,position:h,reverseDirection:f,useTranslate3d:p,viewBox:S,wrapperStyle:m,lastBoundingBox:M,innerRef:R,hasPortalFromProps:Boolean(x)},function(e,r){return t.isValidElement(e)?t.cloneElement(e,r):"function"===typeof e?t.createElement(e,r):t.createElement(lL,r)}(s,dz(dz({},r),{},{payload:z,label:L,active:D,coordinate:O,accessibilityLayer:N})));return t.createElement(t.Fragment,null,(0,rL.createPortal)(V,F),D&&t.createElement(cz,{cursor:g,tooltipEventType:E,coordinate:O,payload:I,index:_}))}function yz(){return yz=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yz.apply(null,arguments)}var vz=e=>{var{cx:r,cy:n,r:a,className:i}=e,o=ev("recharts-dot",i);return r===+r&&n===+n&&a===+a?t.createElement("circle",yz({},ED(e,!1),vD(e),{className:o,cx:r,cy:n,r:a})):null},bz=r(356),xz=r.n(bz),wz=["valueAccessor"],kz=["data","dataKey","clockWise","id","textBreakAll"];function jz(){return jz=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jz.apply(null,arguments)}function Sz(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Nz(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Sz(Object(r),!0).forEach(function(t){Ez(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Sz(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Ez(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _z(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var Az=e=>Array.isArray(e.value)?xz()(e.value):e.value;function Cz(e){var{valueAccessor:r=Az}=e,n=_z(e,wz),{data:a,dataKey:i,clockWise:o,id:s,textBreakAll:l}=n,c=_z(n,kz);return a&&a.length?t.createElement(IM,{className:"recharts-label-list"},a.map((e,n)=>{var a=yv(i)?r(e,n):Rk(e&&e.payload,i),u=yv(s)?{}:{id:"".concat(s,"-").concat(n)};return t.createElement(uR,jz({},ED(e,!0),c,u,{parentViewBox:e.parentViewBox,value:a,textBreakAll:l,viewBox:uR.parseViewBox(yv(o)?e:Nz(Nz({},e),{},{clockWise:o})),key:"label-".concat(n),index:n}))})):null}function Tz(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Oz(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Tz(Object(r),!0).forEach(function(t){Iz(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Tz(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Iz(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pz(e){var r=lk(),n=(0,t.useRef)(null);return(0,t.useEffect)(()=>{var t=Oz(Oz({},e),{},{stackId:$k(e.stackId)});null===n.current?r(gP(t)):n.current!==t&&r(yP({prev:n.current,next:t})),n.current=t},[r,e]),(0,t.useEffect)(()=>()=>{n.current&&(r(vP(n.current)),n.current=null)},[r]),null}function Dz(e){var r=lk();return(0,t.useEffect)(()=>(r(bP(e)),()=>{r(xP(e))}),[r,e]),null}Cz.displayName="LabelList",Cz.renderCallByParent=function(e,r){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.children&&n&&!e.label)return null;var{children:a}=e,i=SD(a,Cz).map((e,n)=>(0,t.cloneElement)(e,{data:r,key:"labelList-".concat(n)}));if(!n)return i;var o=function(e,r){return e?!0===e?t.createElement(Cz,{key:"labelList-implicit",data:r}):t.isValidElement(e)||lR(e)?t.createElement(Cz,{key:"labelList-implicit",data:r,content:e}):"object"===typeof e?t.createElement(Cz,jz({data:r},e,{key:"labelList-implicit"})):null:null}(e.label,r);return[o,...i]};var Mz=["children"];var Rz=()=>{},Lz=(0,t.createContext)({addErrorBar:Rz,removeErrorBar:Rz}),Fz={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},zz=(0,t.createContext)(Fz);function Uz(e){var{children:r}=e,n=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,Mz);return t.createElement(zz.Provider,{value:n},r)}var Vz=e=>{var{children:r,xAxisId:n,yAxisId:a,zAxisId:i,dataKey:o,data:s,stackId:l,hide:c,type:u,barSize:d}=e,[h,f]=t.useState([]),p=(0,t.useCallback)(e=>{f(t=>[...t,e])},[f]),m=(0,t.useCallback)(e=>{f(t=>t.filter(t=>t!==e))},[f]),g=fj();return t.createElement(Lz.Provider,{value:{addErrorBar:p,removeErrorBar:m}},t.createElement(Pz,{type:u,data:s,xAxisId:n,yAxisId:a,zAxisId:i,dataKey:o,errorBars:h,stackId:l,hide:c,barSize:d,isPanorama:g}),r)};function Bz(e){var{addErrorBar:r,removeErrorBar:n}=(0,t.useContext)(Lz);return(0,t.useEffect)(()=>(r(e),()=>{n(e)}),[r,n,e]),null}var $z=["direction","width","dataKey","isAnimationActive","animationBegin","animationDuration","animationEasing"];function qz(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Hz(){return Hz=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hz.apply(null,arguments)}function Kz(e){var{direction:r,width:n,dataKey:a,isAnimationActive:i,animationBegin:o,animationDuration:s,animationEasing:l}=e,c=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,$z),u=ED(c,!1),{data:d,dataPointFormatter:h,xAxisId:f,yAxisId:p,errorBarOffset:m}=(0,t.useContext)(zz),g=(e=>{var t=fj();return hk(r=>jO(r,"xAxis",e,t))})(f),y=(e=>{var t=fj();return hk(r=>jO(r,"yAxis",e,t))})(p);if(null==(null===g||void 0===g?void 0:g.scale)||null==(null===y||void 0===y?void 0:y.scale)||null==d)return null;if("x"===r&&"number"!==g.type)return null;var v=d.map(e=>{var{x:c,y:d,value:f,errorVal:p}=h(e,a,r);if(!p)return null;var v,b,x=[];if(Array.isArray(p)?[v,b]=p:v=b=p,"x"===r){var{scale:w}=g,k=d+m,j=k+n,S=k-n,N=w(f-v),E=w(f+b);x.push({x1:E,y1:j,x2:E,y2:S}),x.push({x1:N,y1:k,x2:E,y2:k}),x.push({x1:N,y1:j,x2:N,y2:S})}else if("y"===r){var{scale:_}=y,A=c+m,C=A-n,T=A+n,O=_(f-v),I=_(f+b);x.push({x1:C,y1:I,x2:T,y2:I}),x.push({x1:A,y1:O,x2:A,y2:I}),x.push({x1:C,y1:O,x2:T,y2:O})}var P="".concat(c+m,"px ").concat(d+m,"px");return t.createElement(IM,Hz({className:"recharts-errorBar",key:"bar-".concat(x.map(e=>"".concat(e.x1,"-").concat(e.x2,"-").concat(e.y1,"-").concat(e.y2)))},u),x.map(e=>{var r=i?{transformOrigin:"".concat(e.x1-5,"px")}:void 0;return t.createElement(BF,{from:{transform:"scaleY(0)",transformOrigin:P},to:{transform:"scaleY(1)",transformOrigin:P},begin:o,easing:l,isActive:i,duration:s,key:"line-".concat(e.x1,"-").concat(e.x2,"-").concat(e.y1,"-").concat(e.y2),style:{transformOrigin:P}},t.createElement("line",Hz({},e,{style:r})))}))});return t.createElement(IM,{className:"recharts-errorBars"},v)}var Wz=(0,t.createContext)(void 0);function Gz(e){var{direction:r,children:n}=e;return t.createElement(Wz.Provider,{value:r},n)}var Yz={stroke:"black",strokeWidth:1.5,width:5,offset:0,isAnimationActive:!0,animationBegin:0,animationDuration:400,animationEasing:"ease-in-out"};function Qz(e){var r=function(e){var r=(0,t.useContext)(Wz);return null!=e?e:null!=r?r:"x"}(e.direction),{width:n,isAnimationActive:a,animationBegin:i,animationDuration:o,animationEasing:s}=iM(e,Yz);return t.createElement(t.Fragment,null,t.createElement(Bz,{dataKey:e.dataKey,direction:r}),t.createElement(Kz,Hz({},e,{direction:r,width:n,isAnimationActive:a,animationBegin:i,animationDuration:o,animationEasing:s})))}class Xz extends t.Component{render(){return t.createElement(Qz,this.props)}}function Jz(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Zz(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Jz(Object(r),!0).forEach(function(t){eU(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Jz(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function eU(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}qz(Xz,"defaultProps",Yz),qz(Xz,"displayName","ErrorBar");function tU(e){var{points:r,mainColor:n,activeDot:a,itemDataKey:i}=e,o=hk(EI),s=hk(DI);if(null==r||null==s)return null;var l=r.find(e=>s.includes(e.payload));return yv(l)?null:(e=>{var{point:r,childIndex:n,mainColor:a,activeDot:i,dataKey:o}=e;if(!1===i||null==r.x||null==r.y)return null;var s,l=Zz(Zz({index:n,dataKey:o,cx:r.x,cy:r.y,r:4,fill:null!==a&&void 0!==a?a:"none",strokeWidth:2,stroke:"#fff",payload:r.payload,value:r.value},ED(i,!1)),vD(i));return s=(0,t.isValidElement)(i)?(0,t.cloneElement)(i,l):"function"===typeof i?i(l):t.createElement(vz,l),t.createElement(IM,{className:"recharts-active-dot"},s)})({point:l,childIndex:Number(o),mainColor:n,dataKey:i,activeDot:a})}function rU(e){var{fn:r,args:n}=e,a=lk(),i=fj();return(0,t.useEffect)(()=>{if(!i){var e=r(n);return a(_w(e)),()=>{a(Aw(e))}}},[r,n,a,i]),null}function nU(e,t){var r,n,a=hk(t=>qC(t,e)),i=hk(e=>KC(e,t)),o=null!==(r=null===a||void 0===a?void 0:a.allowDataOverflow)&&void 0!==r?r:$C.allowDataOverflow,s=null!==(n=null===i||void 0===i?void 0:i.allowDataOverflow)&&void 0!==n?n:HC.allowDataOverflow;return{needClip:o||s,needClipX:o,needClipY:s}}function aU(e){var{xAxisId:r,yAxisId:n,clipPathId:a}=e,i=JD(),{needClipX:o,needClipY:s,needClip:l}=nU(r,n);if(!l)return null;var{x:c,y:u,width:d,height:h}=i;return t.createElement("clipPath",{id:"clipPath-".concat(a)},t.createElement("rect",{x:o?c:c-d/2,y:s?u:u-h/2,width:o?d:2*d,height:s?h:2*h}))}var iU=(e,t,r,n)=>jO(e,"xAxis",t,n),oU=(e,t,r,n)=>kO(e,"xAxis",t,n),sU=(e,t,r,n)=>jO(e,"yAxis",r,n),lU=(e,t,r,n)=>kO(e,"yAxis",r,n),cU=nk([kj,iU,sU,oU,lU],(e,t,r,n,a)=>Lk(e,"xAxis")?Yk(t,n,!1):Yk(r,a,!1)),uU=nk([ZC,(e,t,r,n,a)=>a],(e,t)=>{if(e.some(e=>"line"===e.type&&t.dataKey===e.dataKey&&t.data===e.data))return t}),dU=nk([kj,iU,sU,oU,lU,uU,cU,RA],(e,t,r,n,a,i,o,s)=>{var{chartData:l,dataStartIndex:c,dataEndIndex:u}=s;if(null!=i&&null!=t&&null!=r&&null!=n&&null!=a&&0!==n.length&&0!==a.length&&null!=o){var d,{dataKey:h,data:f}=i;if(null!=(d=null!=f&&f.length>0?f:null===l||void 0===l?void 0:l.slice(c,u+1)))return function(e){var{layout:t,xAxis:r,yAxis:n,xAxisTicks:a,yAxisTicks:i,dataKey:o,bandSize:s,displayedData:l}=e;return l.map((e,l)=>{var c=Rk(e,o);return"horizontal"===t?{x:qk({axis:r,ticks:a,bandSize:s,entry:e,index:l}),y:yv(c)?null:n.scale(c),value:c,payload:e}:{x:yv(c)?null:r.scale(c),y:qk({axis:n,ticks:i,bandSize:s,entry:e,index:l}),value:c,payload:e}})}({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:a,dataKey:h,bandSize:o,displayedData:d})}}),hU=()=>{};function fU(e){var{legendPayload:r}=e,n=lk(),a=fj();return(0,t.useEffect)(()=>a?hU:(n(LP(r)),()=>{n(FP(r))}),[n,a,r]),null}function pU(e){var{legendPayload:r}=e,n=lk(),a=hk(kj);return(0,t.useEffect)(()=>"centric"!==a&&"radial"!==a?hU:(n(LP(r)),()=>{n(FP(r))}),[n,a,r]),null}function mU(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"animation-",n=(0,t.useRef)(dv(r)),a=(0,t.useRef)(e);return a.current!==e&&(n.current=dv(r),a.current=e),n.current}var gU=["type","layout","connectNulls","needClip"],yU=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId"];function vU(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function bU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function xU(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?bU(Object(r),!0).forEach(function(t){wU(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bU(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function wU(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kU(){return kU=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kU.apply(null,arguments)}var jU=e=>{var{dataKey:t,name:r,stroke:n,legendType:a,hide:i}=e;return[{inactive:i,dataKey:t,type:a,color:n,value:Xk(r,t),payload:e}]};function SU(e){var{dataKey:t,data:r,stroke:n,strokeWidth:a,fill:i,name:o,hide:s,unit:l}=e;return{dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:a,fill:i,dataKey:t,nameKey:void 0,name:Xk(o,t),hide:s,type:e.tooltipType,color:e.stroke,unit:l}}}var NU=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function EU(e,t){for(var r=e.length%2!==0?[...e,0]:e,n=[],a=0;a<t;++a)n=[...n,...r];return n}function _U(e){var{clipPathId:r,points:n,props:a}=e,{dot:i,dataKey:o,needClip:s}=a;if(!function(e,t){return null!=e&&(!!t||1===e.length)}(n,i))return null;var l=ND(i),c=ED(a,!1),u=ED(i,!0),d=n.map((e,r)=>{var a=xU(xU(xU({key:"dot-".concat(r),r:3},c),u),{},{index:r,cx:e.x,cy:e.y,dataKey:o,value:e.value,payload:e.payload,points:n});return function(e,r){var n;if(t.isValidElement(e))n=t.cloneElement(e,r);else if("function"===typeof e)n=e(r);else{var a=ev("recharts-line-dot","boolean"!==typeof e?e.className:"");n=t.createElement(vz,kU({},r,{className:a}))}return n}(i,a)}),h={clipPath:s?"url(#clipPath-".concat(l?"":"dots-").concat(r,")"):null};return t.createElement(IM,kU({className:"recharts-line-dots",key:"dots"},h),d)}function AU(e){var{clipPathId:r,pathRef:n,points:a,strokeDasharray:i,props:o,showLabels:s}=e,{type:l,layout:c,connectNulls:u,needClip:d}=o,h=vU(o,gU),f=xU(xU({},ED(h,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:d?"url(#clipPath-".concat(r,")"):null,points:a,type:l,layout:c,connectNulls:u,strokeDasharray:null!==i&&void 0!==i?i:o.strokeDasharray});return t.createElement(t.Fragment,null,(null===a||void 0===a?void 0:a.length)>1&&t.createElement(oF,kU({},f,{pathRef:n})),t.createElement(_U,{points:a,clipPathId:r,props:o}),s&&Cz.renderCallByParent(o,a))}function CU(e){var{clipPathId:r,props:n,pathRef:a,previousPointsRef:i,longestAnimatedLengthRef:o}=e,{points:s,strokeDasharray:l,isAnimationActive:c,animationBegin:u,animationDuration:d,animationEasing:h,animateNewValues:f,width:p,height:m,onAnimationEnd:g,onAnimationStart:y}=n,v=i.current,b=mU(n,"recharts-line-"),[x,w]=(0,t.useState)(!1),k=(0,t.useCallback)(()=>{"function"===typeof g&&g(),w(!1)},[g]),j=(0,t.useCallback)(()=>{"function"===typeof y&&y(),w(!0)},[y]),S=function(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch(t){return 0}}(a.current),N=o.current;return t.createElement(BF,{begin:u,duration:d,isActive:c,easing:h,from:{t:0},to:{t:1},onAnimationEnd:k,onAnimationStart:j,key:b},e=>{var c,{t:u}=e,d=pv(N,S+N),h=Math.min(d(u),S);if(l){var g="".concat(l).split(/[,\s]+/gim).map(e=>parseFloat(e));c=((e,t,r)=>{var n=r.reduce((e,t)=>e+t);if(!n)return NU(t,e);for(var a=Math.floor(e/n),i=e%n,o=t-e,s=[],l=0,c=0;l<r.length;c+=r[l],++l)if(c+r[l]>i){s=[...r.slice(0,l),i-c];break}var u=s.length%2===0?[0,o]:[o];return[...EU(r,a),...s,...u].map(e=>"".concat(e,"px")).join(", ")})(h,S,g)}else c=NU(S,h);if(v){var y=v.length/s.length,b=1===u?s:s.map((e,t)=>{var r=Math.floor(t*y);if(v[r]){var n=v[r],a=pv(n.x,e.x),i=pv(n.y,e.y);return xU(xU({},e),{},{x:a(u),y:i(u)})}if(f){var o=pv(2*p,e.x),s=pv(m/2,e.y);return xU(xU({},e),{},{x:o(u),y:s(u)})}return xU(xU({},e),{},{x:e.x,y:e.y})});return i.current=b,t.createElement(AU,{props:n,points:b,clipPathId:r,pathRef:a,showLabels:!x,strokeDasharray:c})}return u>0&&S>0&&(i.current=s,o.current=h),t.createElement(AU,{props:n,points:s,clipPathId:r,pathRef:a,showLabels:!x,strokeDasharray:c})})}function TU(e){var{clipPathId:r,props:n}=e,{points:a,isAnimationActive:i}=n,o=(0,t.useRef)(null),s=(0,t.useRef)(0),l=(0,t.useRef)(null),c=o.current;return i&&a&&a.length&&c!==a?t.createElement(CU,{props:n,clipPathId:r,previousPointsRef:o,longestAnimatedLengthRef:s,pathRef:l}):t.createElement(AU,{props:n,points:a,clipPathId:r,pathRef:l,showLabels:!0})}var OU=(e,t)=>({x:e.x,y:e.y,value:e.value,errorVal:Rk(e.payload,t)});class IU extends t.Component{constructor(){super(...arguments),wU(this,"id",dv("recharts-line-"))}render(){var e,{hide:r,dot:n,points:a,className:i,xAxisId:o,yAxisId:s,top:l,left:c,width:u,height:d,id:h,needClip:f,layout:p}=this.props;if(r)return null;var m=ev("recharts-line",i),g=yv(h)?this.id:h,{r:y=3,strokeWidth:v=2}=null!==(e=ED(n,!1))&&void 0!==e?e:{r:3,strokeWidth:2},b=ND(n),x=2*y+v;return t.createElement(t.Fragment,null,t.createElement(IM,{className:m},f&&t.createElement("defs",null,t.createElement(aU,{clipPathId:g,xAxisId:o,yAxisId:s}),!b&&t.createElement("clipPath",{id:"clipPath-dots-".concat(g)},t.createElement("rect",{x:c-x/2,y:l-x/2,width:u+x,height:d+x}))),t.createElement(TU,{props:this.props,clipPathId:g}),t.createElement(Gz,{direction:"horizontal"===p?"y":"x"},t.createElement(Uz,{xAxisId:o,yAxisId:s,data:a,dataPointFormatter:OU,errorBarOffset:0},this.props.children))),t.createElement(tU,{activeDot:this.props.activeDot,points:a,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var PU={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!hM,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function DU(e){var r=iM(e,PU),{activeDot:n,animateNewValues:a,animationBegin:i,animationDuration:o,animationEasing:s,connectNulls:l,dot:c,hide:u,isAnimationActive:d,label:h,legendType:f,xAxisId:p,yAxisId:m}=r,g=vU(r,yU),{needClip:y}=nU(p,m),{height:v,width:b,x:x,y:w}=JD(),k=jj(),j=fj(),S=(0,t.useMemo)(()=>({dataKey:e.dataKey,data:e.data}),[e.dataKey,e.data]),N=hk(e=>dU(e,p,m,j,S));return"horizontal"!==k&&"vertical"!==k?null:t.createElement(IU,kU({},g,{connectNulls:l,dot:c,activeDot:n,animateNewValues:a,animationBegin:i,animationDuration:o,animationEasing:s,isAnimationActive:d,hide:u,label:h,legendType:f,xAxisId:p,yAxisId:m,points:N,layout:k,height:v,width:b,left:x,top:w,needClip:y}))}class MU extends t.PureComponent{render(){return t.createElement(Vz,{type:"line",data:this.props.data,xAxisId:this.props.xAxisId,yAxisId:this.props.yAxisId,zAxisId:0,dataKey:this.props.dataKey,stackId:void 0,hide:this.props.hide,barSize:void 0},t.createElement(fU,{legendPayload:jU(this.props)}),t.createElement(rU,{fn:SU,args:this.props}),t.createElement(DU,this.props))}}wU(MU,"displayName","Line"),wU(MU,"defaultProps",PU);const RU=84,LU={income:["Salary","Gift","Payouts","Gambling","Investments","Business","Freelance","Rental Income","Interest","Dividends","Bonus","Commission","Refunds","Other Income"],expense:["Food & Dining","Travel","Entertainment","Friends & Family","Shopping","Utilities","Healthcare","Personal Care","Gifts & Donations","Bills","Groceries","Vehicle","Subscriptions","Hobbies","Eval","Other Expenses"],transfer:["Self Transfer","Account Transfer","Wallet Transfer"],adjustment:["Balance Reconciliation","Bank Interest","Bank Charges","Missed Transaction","Other Adjustment"]},FU={bank:["UPI","Bank Transfer","Debit Card","Credit Card","Cash","Net Banking"],crypto:["Crypto Transfer","Crypto Card","Exchange Transfer","DeFi Transaction"]};const zU=function(e){var r,n;let{accounts:a,transactions:i}=e;const o=re(),{currentUser:s}=iy(),[l,c]=(0,t.useState)("INR"),[u,d]=(0,t.useState)([]),[h,f]=(0,t.useState)(!0),[p,m]=(0,t.useState)("yearly"),[g,y]=(0,t.useState)(!1),[v,b]=(0,t.useState)(!1),[x,w]=(0,t.useState)(!1),[k,j]=(0,t.useState)(null),[S,N]=(0,t.useState)(!1),[E,_]=(0,t.useState)(null),A=()=>{const e=new Date;return`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")}T${String(e.getHours()).padStart(2,"0")}:${String(e.getMinutes()).padStart(2,"0")}`},[C,T]=(0,t.useState)({type:"expense",amount:"",currency:"INR",accountId:"",toAccountId:"",category:"",paymentMode:"",notes:"",newBalance:"",date:A(),isIncrease:!0});(0,t.useEffect)(()=>{s&&O()},[s,p]),(0,t.useEffect)(()=>{const e=()=>_(null);return document.addEventListener("click",e),()=>document.removeEventListener("click",e)},[]),(0,t.useEffect)(()=>{g&&T(e=>({...e,date:A()}))},[g]),(0,t.useEffect)(()=>{const e=e=>{"Escape"===e.key&&(g&&(y(!1),F()),v&&(b(!1),j(null),F()),x&&(w(!1),j(null)))};if(g||v||x)return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[g,v,x]);const O=async()=>{if(s)try{const e=Eg(Fm(ry,"users",s.uid,"netWorthSnapshots"),Og("date","desc")),t=(await $g(e)).docs.map(e=>({date:e.id,value:e.data().totalNetWorth}));let r=[];new Date;switch(p){case"weekly":r=t.slice(0,7).reverse().map(e=>({label:new Date(e.date).toLocaleDateString("en-IN",{day:"numeric",month:"short"}),netWorth:e.value}));break;case"monthly":r=t.slice(0,30).reverse().map(e=>({label:new Date(e.date).toLocaleDateString("en-IN",{day:"numeric",month:"short"}),netWorth:e.value}));break;case"yearly":const e={};t.forEach(t=>{const r=new Date(t.date),n=`${r.getFullYear()}-${r.getMonth()}`;e[n]||(e[n]={date:r,value:t.value,month:r.toLocaleDateString("en-IN",{month:"short",year:"2-digit"})})}),r=Object.values(e).slice(0,12).reverse().map(e=>({label:e.month,netWorth:e.value}));break;case"all":const n={};t.forEach(e=>{const t=new Date(e.date).getFullYear();n[t]||(n[t]={year:t,value:e.value})}),r=Object.values(n).reverse().map(e=>({label:e.year.toString(),netWorth:e.value}))}d(r),f(!1)}catch(e){console.error("Error loading net worth data:",e),f(!1)}},I=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"INR";return new Intl.NumberFormat("en-IN",{style:"currency",currency:t,minimumFractionDigits:"USD"===t?2:0,maximumFractionDigits:"USD"===t?2:0}).format(e)},P=(e,t)=>"USD"===t?e*RU:e,D=e=>new Date(e).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"}),M=e=>a.find(t=>t.id===e),R=e=>({income:(0,ny.jsx)(zy,{className:"w-5 h-5 text-green-600 dark:text-green-400"}),expense:(0,ny.jsx)(Uy,{className:"w-5 h-5 text-red-600 dark:text-red-400"}),transfer:(0,ny.jsx)(Vy,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),adjustment:(0,ny.jsx)(Ty,{className:"w-5 h-5 text-orange-600 dark:text-orange-400"})}[e]||null),L=e=>({income:"bg-green-100 dark:bg-green-500/10",expense:"bg-red-100 dark:bg-red-500/10",transfer:"bg-blue-100 dark:bg-blue-500/10",adjustment:"bg-orange-100 dark:bg-orange-500/10"}[e]||"bg-gray-100 dark:bg-gray-800"),F=()=>{T({type:"expense",amount:"",currency:"INR",accountId:"",toAccountId:"",category:"",paymentMode:"",notes:"",newBalance:"",date:A(),isIncrease:!0})},z=a.reduce((e,t)=>e+P(t.balance,t.currency),0),U=a.filter(e=>"bank"===e.type),V=a.filter(e=>"crypto"===e.type),B=U.reduce((e,t)=>e+P(t.balance,t.currency),0),$=V.reduce((e,t)=>e+P(t.balance,t.currency),0),q=(new Date).getMonth(),H=(new Date).getFullYear(),K=i.filter(e=>{const t=new Date(e.date);return t.getMonth()===q&&t.getFullYear()===H}),W=K.filter(e=>"income"===e.type).reduce((e,t)=>e+(t.amountInINR||P(t.amount,t.currency)),0),G=K.filter(e=>"expense"===e.type).reduce((e,t)=>e+(t.amountInINR||P(t.amount,t.currency)),0),Y=W-G,Q=0===q?11:q-1,X=0===q?H-1:H,J=i.filter(e=>{const t=new Date(e.date);return t.getMonth()===Q&&t.getFullYear()===X}),Z=J.filter(e=>"income"===e.type).reduce((e,t)=>e+(t.amountInINR||P(t.amount,t.currency)),0),ee=J.filter(e=>"expense"===e.type).reduce((e,t)=>e+(t.amountInINR||P(t.amount,t.currency)),0),te=Z>0?(W-Z)/Z*100:0,ne=ee>0?(G-ee)/ee*100:0,ae=[...i].slice(0,5),ie=(new Date).getHours();let oe="Good morning",se=Dy;ie>=12&&ie<17?(oe="Good afternoon",se=Dy):ie>=17?(oe="Good evening",se=My):ie<5&&(oe="Good night",se=My);const le=(()=>{if(null===s||void 0===s||!s.displayName)return"User";const e=s.displayName,t=e.match(/(?:Mr\.|Mrs\.|Ms\.|Dr\.|Prof\.)?\s*(.+)/i);if(t){return t[1].trim().split(" ")[0]}return e.split(" ")[0]})();return(0,ny.jsxs)("div",{className:"p-6 space-y-6 animate-fade-in relative min-h-screen transition-all duration-500",children:[(0,ny.jsx)("div",{className:"flex items-center justify-between",children:(0,ny.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,ny.jsx)("div",{className:"p-3 bg-white dark:bg-white/5 rounded-full shadow-sm dark:shadow-lg transition-all duration-300 backdrop-blur-sm",children:(0,ny.jsx)(se,{className:"w-6 h-6 text-orange-500"})}),(0,ny.jsxs)("div",{children:[(0,ny.jsxs)("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white transition-colors duration-300",children:[oe,", ",le]}),(0,ny.jsx)("p",{className:"text-gray-600 dark:text-gray-400 transition-colors duration-300",children:"Here's your financial overview"})]})]})}),(0,ny.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6",children:[(0,ny.jsxs)("div",{className:"lg:col-span-4 bg-white dark:bg-white/5 rounded-2xl p-6 backdrop-blur-sm h-full shadow-lg dark:shadow-2xl transition-all duration-300 hover:shadow-xl dark:hover:shadow-3xl hover:transform hover:scale-[1.02]",children:[(0,ny.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,ny.jsx)("h3",{className:"text-sm text-gray-600 dark:text-gray-400 transition-colors duration-300",children:"Total Balance"}),(0,ny.jsxs)("select",{value:l,onChange:e=>c(e.target.value),className:"text-sm border-0 bg-transparent focus:outline-none text-gray-600 dark:text-gray-400 cursor-pointer transition-colors duration-300",children:[(0,ny.jsx)("option",{value:"INR",children:"INR"}),(0,ny.jsx)("option",{value:"USD",children:"USD"})]})]}),(0,ny.jsxs)("div",{className:"mb-4",children:[(0,ny.jsx)("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white transition-colors duration-300",children:"INR"===l?I(z,"INR"):I((ce=z,ce/RU),"USD")}),(0,ny.jsxs)("p",{className:"text-sm text-green-500 dark:text-green-400 flex items-center mt-1 transition-colors duration-300",children:[(0,ny.jsx)(gy,{className:"w-4 h-4 mr-1"}),Y>=0?"Positive":"Negative"," savings this month"]})]}),(0,ny.jsxs)("div",{className:"flex space-x-3 mb-6",children:[(0,ny.jsxs)("button",{onClick:()=>{T(e=>({...e,type:"transfer"})),y(!0)},className:"flex-1 bg-gray-900 dark:bg-gray-800 text-white py-2 px-4 rounded-lg flex items-center justify-center space-x-2 hover:bg-gray-800 dark:hover:bg-gray-700 transition-all duration-300 transform hover:-translate-y-0.5 shadow-md dark:shadow-lg",children:[(0,ny.jsx)(Vy,{className:"w-4 h-4"}),(0,ny.jsx)("span",{children:"Transfer"})]}),(0,ny.jsxs)("button",{onClick:()=>y(!0),className:"flex-1 bg-orange-500 hover:bg-orange-600 text-white py-2 px-4 rounded-lg flex items-center justify-center space-x-2 transition-all duration-300 transform hover:-translate-y-0.5 shadow-md dark:shadow-lg",children:[(0,ny.jsx)(qy,{className:"w-4 h-4"}),(0,ny.jsx)("span",{children:"Add Transaction"})]})]}),(0,ny.jsxs)("div",{children:[(0,ny.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,ny.jsxs)("h4",{className:"text-sm text-gray-600 dark:text-gray-400 transition-colors duration-300",children:["Accounts | Total ",a.length]}),(0,ny.jsxs)("button",{onClick:()=>o("/accounts"),className:"text-xs text-orange-500 hover:text-orange-600 dark:hover:text-orange-400 flex items-center transition-colors duration-300",children:["View all",(0,ny.jsx)(Hy,{className:"w-3 h-3 ml-1"})]})]}),(0,ny.jsxs)("div",{className:"space-y-3",children:[(0,ny.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-white/3 rounded-lg backdrop-blur-sm transition-all duration-300 hover:bg-gray-100 dark:hover:bg-white/5",children:[(0,ny.jsxs)("div",{children:[(0,ny.jsxs)("p",{className:"text-sm font-medium text-gray-900 dark:text-white transition-colors duration-300",children:["Bank (INR) (",U.length,")"]}),(0,ny.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 transition-colors duration-300",children:"Total Balance"})]}),(0,ny.jsx)("p",{className:"text-sm font-semibold text-gray-900 dark:text-white transition-colors duration-300",children:I(B,"INR")})]}),(0,ny.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-white/3 rounded-lg backdrop-blur-sm transition-all duration-300 hover:bg-gray-100 dark:hover:bg-white/5",children:[(0,ny.jsxs)("div",{children:[(0,ny.jsxs)("p",{className:"text-sm font-medium text-gray-900 dark:text-white transition-colors duration-300",children:["Crypto/USD (",V.length,")"]}),(0,ny.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 transition-colors duration-300",children:"Total Balance"})]}),(0,ny.jsx)("p",{className:"text-sm font-semibold text-gray-900 dark:text-white transition-colors duration-300",children:I($,"INR")})]})]})]})]}),(0,ny.jsx)("div",{className:"lg:col-span-3 bg-white dark:bg-white/5 rounded-2xl p-6 backdrop-blur-sm h-full shadow-lg dark:shadow-2xl transition-all duration-300 hover:transform hover:scale-[1.02]",children:(0,ny.jsxs)("div",{className:"h-full flex flex-col justify-between space-y-3",children:[(0,ny.jsx)("div",{className:"bg-white dark:bg-white/5 rounded-xl p-3 flex-1 border border-gray-200 dark:border-white/10 backdrop-blur-sm transition-all duration-300 hover:bg-gray-50 dark:hover:bg-white/8",children:(0,ny.jsxs)("div",{className:"flex items-center justify-between h-full",children:[(0,ny.jsxs)("div",{children:[(0,ny.jsx)("h3",{className:"text-xs text-gray-500 dark:text-gray-400 transition-colors duration-300",children:"Monthly Income"}),(0,ny.jsx)("h2",{className:"text-lg font-bold mt-1 text-gray-900 dark:text-white transition-colors duration-300",children:I(W)}),(0,ny.jsxs)("p",{className:"text-xs mt-1 transition-colors duration-300 "+(te>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"),children:[te>=0?"\u2191":"\u2193"," ",Math.abs(te).toFixed(1),"% than last month"]})]}),(0,ny.jsx)("div",{className:"w-8 h-8 bg-green-100 dark:bg-green-500/20 rounded-lg flex items-center justify-center backdrop-blur-sm transition-colors duration-300",children:(0,ny.jsx)(zy,{className:"w-4 h-4 text-green-600 dark:text-green-400"})})]})}),(0,ny.jsx)("div",{className:"bg-white dark:bg-white/5 rounded-xl p-3 flex-1 border border-gray-200 dark:border-white/10 backdrop-blur-sm transition-all duration-300 hover:bg-gray-50 dark:hover:bg-white/8",children:(0,ny.jsxs)("div",{className:"flex items-center justify-between h-full",children:[(0,ny.jsxs)("div",{children:[(0,ny.jsx)("h3",{className:"text-xs text-gray-500 dark:text-gray-400 transition-colors duration-300",children:"Monthly Expense"}),(0,ny.jsx)("h2",{className:"text-lg font-bold mt-1 text-gray-900 dark:text-white transition-colors duration-300",children:I(G)}),(0,ny.jsxs)("p",{className:"text-xs mt-1 transition-colors duration-300 "+(ne>=0?"text-red-600 dark:text-red-400":"text-green-600 dark:text-green-400"),children:[ne>=0?"\u2191":"\u2193"," ",Math.abs(ne).toFixed(1),"% than last month"]})]}),(0,ny.jsx)("div",{className:"w-8 h-8 bg-red-100 dark:bg-red-500/20 rounded-lg flex items-center justify-center backdrop-blur-sm transition-colors duration-300",children:(0,ny.jsx)(Uy,{className:"w-4 h-4 text-red-600 dark:text-red-400"})})]})}),(0,ny.jsx)("div",{className:"bg-white dark:bg-white/5 rounded-xl p-3 flex-1 border border-gray-200 dark:border-white/10 backdrop-blur-sm transition-all duration-300 hover:bg-gray-50 dark:hover:bg-white/8",children:(0,ny.jsxs)("div",{className:"flex items-center justify-between h-full",children:[(0,ny.jsxs)("div",{children:[(0,ny.jsx)("h3",{className:"text-xs text-gray-500 dark:text-gray-400 transition-colors duration-300",children:"Monthly Savings"}),(0,ny.jsxs)("h2",{className:"text-lg font-bold mt-1 text-gray-900 dark:text-white transition-colors duration-300",children:[Y>=0?"":"-",I(Math.abs(Y))]}),(0,ny.jsxs)("p",{className:"text-xs mt-1 transition-colors duration-300 "+(Y>=0?"text-blue-600 dark:text-blue-400":"text-orange-600 dark:text-orange-400"),children:[Y>=0?"Saved":"Overspent"," this month"]})]}),(0,ny.jsx)("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center backdrop-blur-sm transition-colors duration-300 "+(Y>=0?"bg-blue-100 dark:bg-blue-500/20":"bg-orange-100 dark:bg-orange-500/20"),children:Y>=0?(0,ny.jsx)(gy,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"}):(0,ny.jsx)(Ky,{className:"w-4 h-4 text-orange-600 dark:text-orange-400"})})]})})]})}),(0,ny.jsxs)("div",{className:"lg:col-span-5 bg-white dark:bg-white/5 rounded-2xl p-6 backdrop-blur-sm h-full flex flex-col shadow-lg dark:shadow-2xl transition-all duration-300 hover:transform hover:scale-[1.02]",children:[(0,ny.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,ny.jsx)("h3",{className:"text-base font-semibold text-gray-900 dark:text-white transition-colors duration-300",children:"Net Worth Overview"}),(0,ny.jsxs)("select",{value:p,onChange:e=>m(e.target.value),className:"text-sm bg-white dark:bg-white/5 border border-gray-300 dark:border-white/10 rounded-lg px-3 py-1 text-gray-900 dark:text-gray-100 backdrop-blur-sm transition-colors duration-300",children:[(0,ny.jsx)("option",{value:"weekly",children:"Weekly"}),(0,ny.jsx)("option",{value:"monthly",children:"Monthly"}),(0,ny.jsx)("option",{value:"yearly",children:"Yearly"}),(0,ny.jsx)("option",{value:"all",children:"All Time"})]})]}),(0,ny.jsx)("div",{className:"flex-1",children:h?(0,ny.jsx)("div",{className:"h-full flex items-center justify-center",children:(0,ny.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-orange-500"})}):u.length>0?(0,ny.jsx)(jv,{width:"100%",height:"100%",children:(0,ny.jsxs)(dM,{data:u,margin:{top:10,right:10,left:0,bottom:40},children:[(0,ny.jsx)("defs",{children:(0,ny.jsxs)("linearGradient",{id:"colorNetWorth",x1:"0",y1:"0",x2:"0",y2:"1",children:[(0,ny.jsx)("stop",{offset:"5%",stopColor:"#f97316",stopOpacity:.3}),(0,ny.jsx)("stop",{offset:"95%",stopColor:"#f97316",stopOpacity:0})]})}),(0,ny.jsx)(FR,{strokeDasharray:"3 3",stroke:"currentColor",opacity:.1,className:"text-gray-300 dark:text-gray-600"}),(0,ny.jsx)(WR,{dataKey:"label",stroke:"currentColor",fontSize:10,angle:-45,textAnchor:"end",className:"text-gray-600 dark:text-gray-400"}),(0,ny.jsx)(tL,{stroke:"currentColor",fontSize:10,tickFormatter:e=>`\u20b9${(e=>{const t=Math.abs(e);return t>=1e7?(e/1e7).toFixed(1).replace(/\.0$/,"")+"Cr":t>=1e5?(e/1e5).toFixed(1).replace(/\.0$/,"")+"L":t>=1e3?(e/1e3).toFixed(0)+"k":e.toString()})(e)}`,width:50,className:"text-gray-600 dark:text-gray-400"}),(0,ny.jsx)(gz,{formatter:e=>I(e,"INR"),contentStyle:{backgroundColor:"var(--bg-elevated)",border:"1px solid var(--border-primary)",borderRadius:"8px",color:"var(--text-primary)"},labelStyle:{color:"var(--text-tertiary)"}}),(0,ny.jsx)(MU,{type:"monotone",dataKey:"netWorth",stroke:"#f97316",strokeWidth:2,dot:{fill:"#f97316",r:3},activeDot:{r:5},fill:"url(#colorNetWorth)"})]})}):(0,ny.jsx)("div",{className:"h-full flex items-center justify-center text-gray-500 dark:text-gray-400 text-sm transition-colors duration-300",children:"No data available"})})]})]}),(0,ny.jsxs)("div",{className:"bg-white dark:bg-white/5 rounded-2xl p-6 backdrop-blur-sm shadow-lg dark:shadow-2xl transition-all duration-300 hover:transform hover:scale-[1.01]",children:[(0,ny.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,ny.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white transition-colors duration-300",children:"Recent Transactions"}),(0,ny.jsxs)("button",{onClick:()=>o("/transactions"),className:"text-sm text-orange-500 hover:text-orange-600 dark:hover:text-orange-400 flex items-center transition-colors duration-300",children:["View all",(0,ny.jsx)(Hy,{className:"w-4 h-4 ml-1"})]})]}),(0,ny.jsx)("div",{className:"overflow-x-auto",children:(0,ny.jsxs)("table",{className:"w-full",children:[(0,ny.jsx)("thead",{children:(0,ny.jsxs)("tr",{className:"text-left text-sm text-gray-600 dark:text-gray-400 border-b border-gray-200 dark:border-white/10 transition-colors duration-300",children:[(0,ny.jsx)("th",{className:"pb-3 font-medium",children:"Date"}),(0,ny.jsx)("th",{className:"pb-3 font-medium",children:"Type"}),(0,ny.jsx)("th",{className:"pb-3 font-medium",children:"Amount"}),(0,ny.jsx)("th",{className:"pb-3 font-medium",children:"Payment Mode"}),(0,ny.jsx)("th",{className:"pb-3 font-medium",children:"Account"}),(0,ny.jsx)("th",{className:"pb-3 font-medium",children:"Category"}),(0,ny.jsx)("th",{className:"pb-3 font-medium",children:"Notes"}),(0,ny.jsx)("th",{className:"pb-3 font-medium text-center",children:"Actions"})]})}),(0,ny.jsx)("tbody",{children:ae.length>0?ae.map(e=>{return(0,ny.jsxs)("tr",{className:"border-b border-gray-100 dark:border-white/5 hover:bg-gray-50 dark:hover:bg-white/5 transition-all duration-300",children:[(0,ny.jsx)("td",{className:"py-4",children:(0,ny.jsxs)("div",{children:[(0,ny.jsx)("p",{className:"text-sm font-medium text-gray-900 dark:text-white transition-colors duration-300",children:D(e.date)}),(0,ny.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 transition-colors duration-300",children:(t=e.date,new Date(t).toLocaleTimeString("en-IN",{hour:"2-digit",minute:"2-digit"}))})]})}),(0,ny.jsx)("td",{className:"py-4",children:(0,ny.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ny.jsx)("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center transition-colors duration-300 ${L(e.type)}`,children:R(e.type)}),(0,ny.jsx)("span",{className:"text-sm font-medium text-gray-900 dark:text-white capitalize transition-colors duration-300",children:e.type})]})}),(0,ny.jsx)("td",{className:"py-4",children:(0,ny.jsxs)("span",{className:"text-sm font-medium transition-colors duration-300 "+("income"===e.type?"text-green-600 dark:text-green-400":"expense"===e.type?"text-red-600 dark:text-red-400":"text-gray-900 dark:text-white"),children:["expense"===e.type?"-":"income"===e.type?"+":"",I(e.amount,e.currency)]})}),(0,ny.jsx)("td",{className:"py-4 text-sm text-gray-600 dark:text-gray-400 transition-colors duration-300",children:e.paymentMode||"-"}),(0,ny.jsx)("td",{className:"py-4 text-sm text-gray-600 dark:text-gray-400 transition-colors duration-300",children:e.accountName||"-"}),(0,ny.jsx)("td",{className:"py-4 text-sm text-gray-600 dark:text-gray-400 transition-colors duration-300",children:e.category||"-"}),(0,ny.jsx)("td",{className:"py-4 text-sm text-gray-600 dark:text-gray-400 transition-colors duration-300",children:(0,ny.jsx)("span",{className:"truncate block max-w-[150px]",title:e.notes,children:e.notes||"-"})}),(0,ny.jsx)("td",{className:"py-4 text-center",children:(0,ny.jsxs)("div",{className:"relative",children:[(0,ny.jsx)("button",{onClick:t=>{t.stopPropagation(),_(E===e.id?null:e.id)},className:"p-1 hover:bg-gray-100 dark:hover:bg-gray-700 rounded transition-colors duration-300",children:(0,ny.jsx)(Wy,{className:"w-4 h-4 text-gray-600 dark:text-gray-400"})}),E===e.id&&(0,ny.jsxs)("div",{className:"absolute right-0 mt-2 w-40 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 py-1 z-10",children:[(0,ny.jsxs)("button",{onClick:()=>(e=>{var t;j(e),T({type:e.type,amount:e.amount.toString(),currency:e.currency,accountId:e.accountId,toAccountId:e.toAccountId||"",category:e.category,paymentMode:e.paymentMode||"",notes:e.notes||"",date:e.date,isIncrease:null===(t=e.isIncrease)||void 0===t||t}),b(!0),_(null)})(e),className:"w-full text-left px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center space-x-2 transition-colors duration-300",children:[(0,ny.jsx)(Gy,{className:"w-4 h-4"}),(0,ny.jsx)("span",{children:"Edit"})]}),(0,ny.jsxs)("button",{onClick:()=>(e=>{j(e),w(!0),_(null)})(e),className:"w-full text-left px-4 py-2 text-sm text-red-600 dark:text-red-400 hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center space-x-2 transition-colors duration-300",children:[(0,ny.jsx)(Yy,{className:"w-4 h-4"}),(0,ny.jsx)("span",{children:"Delete"})]})]})]})})]},e.id);var t}):(0,ny.jsx)("tr",{children:(0,ny.jsx)("td",{colSpan:"8",className:"py-8 text-center text-gray-500 dark:text-gray-400 transition-colors duration-300",children:"No transactions yet. Add your first transaction to get started!"})})})]})})]}),g&&(0,ny.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",onClick:e=>{e.target===e.currentTarget&&(y(!1),F())},children:(0,ny.jsxs)("div",{className:"bg-white dark:bg-gray-900 rounded-2xl p-6 w-full max-w-2xl max-h-[95vh] overflow-y-auto backdrop-blur-sm border border-gray-200 dark:border-gray-700",children:[(0,ny.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,ny.jsx)("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Add Transaction"}),(0,ny.jsx)("button",{onClick:()=>{y(!1),F()},className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition-colors duration-300",children:(0,ny.jsx)(Qy,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})})]}),(0,ny.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),s&&!S&&C.accountId&&("transfer"!==C.type||C.amount&&C.toAccountId)&&("adjustment"!==C.type||C.newBalance)&&(!["income","expense"].includes(C.type)||C.amount&&C.category))try{N(!0);const e=Jg(ry),t=M(C.accountId);if(!t)throw new Error("Account not found");let r,n={userId:s.uid,accountId:C.accountId,accountName:t.name,currency:t.currency,date:C.date,notes:C.notes,createdAt:(new Date).toISOString()};if("adjustment"===C.type){const a=parseFloat(C.newBalance),i=t.balance;r=a-i,n={...n,type:"adjustment",amount:Math.abs(r),amountInINR:P(Math.abs(r),t.currency),exchangeRate:"USD"===t.currency?RU:1,isIncrease:r>=0,category:"Balance Reconciliation",paymentMode:"Account Adjustment",newBalance:a,previousBalance:i};const o=zm(ry,"users",s.uid,"accounts",C.accountId);e.update(o,{balance:a,lastActivityAt:(new Date).toISOString(),updatedAt:(new Date).toISOString()})}else{r=parseFloat(C.amount);const a=P(r,t.currency);if(n={...n,type:C.type,amount:r,amountInINR:a,exchangeRate:"USD"===t.currency?RU:1},"transfer"===C.type){const a=M(C.toAccountId);if(!a)throw new Error("Destination account not found");if(C.accountId===C.toAccountId)throw new Error("Cannot transfer to same account");n.toAccountId=C.toAccountId,n.toAccountName=a.name,n.fromAccountId=C.accountId,n.category="Self Transfer",n.paymentMode="Account Transfer";const i=zm(ry,"users",s.uid,"accounts",C.accountId),o=zm(ry,"users",s.uid,"accounts",C.toAccountId);e.update(i,{balance:Xg(-r),lastActivityAt:(new Date).toISOString(),updatedAt:(new Date).toISOString()});const l=t.currency!==a.currency?"USD"===t.currency?r*RU:r/RU:r;e.update(o,{balance:Xg(l),lastActivityAt:(new Date).toISOString(),updatedAt:(new Date).toISOString()}),t.currency!==a.currency&&(n.convertedAmount=l,n.toCurrency=a.currency)}else{n.category=C.category,n.paymentMode=C.paymentMode;const t=zm(ry,"users",s.uid,"accounts",C.accountId),a="income"===C.type?r:-r;e.update(t,{balance:Xg(a),lastActivityAt:(new Date).toISOString(),updatedAt:(new Date).toISOString()})}}const a=zm(Fm(ry,"users",s.uid,"transactions"));e.set(a,n),await e.commit(),y(!1),F(),window.location.reload()}catch(t){console.error("Error adding transaction:",t),alert("Error adding transaction. Please try again.")}finally{N(!1)}},className:"space-y-4",children:[(0,ny.jsxs)("div",{children:[(0,ny.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Transaction Type"}),(0,ny.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:[{value:"income",label:"Income",icon:zy,color:"green"},{value:"expense",label:"Expense",icon:Uy,color:"red"},{value:"transfer",label:"Transfer",icon:Vy,color:"blue"},{value:"adjustment",label:"Adjustment",icon:Ty,color:"orange"}].map(e=>{const t=e.icon,r=C.type===e.value;return(0,ny.jsxs)("button",{type:"button",onClick:()=>T({...C,type:e.value,category:"",paymentMode:""}),className:"p-2 rounded-lg border-2 transition-all duration-300 flex flex-col items-center space-y-1 "+(r?`border-${e.color}-500 bg-${e.color}-50 dark:bg-${e.color}-500/10`:"border-gray-300 dark:border-gray-600 hover:border-gray-400 dark:hover:border-gray-500"),children:[(0,ny.jsx)(t,{className:"w-4 h-4 "+(r?`text-${e.color}-600 dark:text-${e.color}-400`:"text-gray-600 dark:text-gray-400")}),(0,ny.jsx)("span",{className:"text-xs font-medium "+(r?`text-${e.color}-700 dark:text-${e.color}-300`:"text-gray-700 dark:text-gray-300"),children:e.label})]},e.value)})})]}),(0,ny.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,ny.jsxs)("div",{children:[(0,ny.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"transfer"===C.type?"From Account":"Account"}),(0,ny.jsxs)("select",{value:C.accountId,onChange:e=>T({...C,accountId:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300 text-sm",required:!0,children:[(0,ny.jsx)("option",{value:"",children:"Select account"}),a.map(e=>(0,ny.jsxs)("option",{value:e.id,children:[e.name," (",e.currency,") - ",I(e.balance,e.currency)]},e.id))]})]}),"adjustment"!==C.type&&(0,ny.jsxs)("div",{children:[(0,ny.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Amount"}),(0,ny.jsx)("input",{type:"number",step:"0.01",value:C.amount,onChange:e=>T({...C,amount:e.target.value}),placeholder:"0.00",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300 text-sm",required:!0})]}),"adjustment"===C.type&&(0,ny.jsxs)("div",{children:[(0,ny.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"New Balance"}),(0,ny.jsx)("input",{type:"number",step:"0.01",value:C.newBalance,onChange:e=>T({...C,newBalance:e.target.value}),placeholder:"0.00",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300 text-sm",required:!0})]})]}),"transfer"===C.type&&(0,ny.jsxs)("div",{children:[(0,ny.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"To Account"}),(0,ny.jsxs)("select",{value:C.toAccountId,onChange:e=>T({...C,toAccountId:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300 text-sm",required:!0,children:[(0,ny.jsx)("option",{value:"",children:"Select destination account"}),a.filter(e=>e.id!==C.accountId).map(e=>(0,ny.jsxs)("option",{value:e.id,children:[e.name," (",e.currency,") - ",I(e.balance,e.currency)]},e.id))]}),C.accountId&&C.toAccountId&&(()=>{const e=M(C.accountId),t=M(C.toAccountId);if(e&&t&&e.currency!==t.currency&&C.amount){const r="USD"===e.currency?parseFloat(C.amount)*RU:parseFloat(C.amount)/RU;return(0,ny.jsxs)("p",{className:"text-xs text-blue-600 dark:text-blue-400 mt-1",children:["Will receive: ",I(r,t.currency)]})}return null})()]}),["income","expense"].includes(C.type)&&(0,ny.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,ny.jsxs)("div",{children:[(0,ny.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Category"}),(0,ny.jsxs)("select",{value:C.category,onChange:e=>T({...C,category:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300 text-sm",required:!0,children:[(0,ny.jsx)("option",{value:"",children:"Select category"}),null===(r=LU[C.type])||void 0===r?void 0:r.map(e=>(0,ny.jsx)("option",{value:e,children:e},e))]})]}),(0,ny.jsxs)("div",{children:[(0,ny.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Payment Mode"}),(0,ny.jsxs)("select",{value:C.paymentMode,onChange:e=>T({...C,paymentMode:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300 text-sm",children:[(0,ny.jsx)("option",{value:"",children:"Select payment mode"}),C.accountId&&(e=>{const t=M(C.accountId);return t?null===(e=FU[t.type])||void 0===e?void 0:e.map(e=>(0,ny.jsx)("option",{value:e,children:e},e)):null})()]})]})]}),(0,ny.jsxs)("div",{children:[(0,ny.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Date & Time"}),(0,ny.jsx)("input",{type:"datetime-local",value:C.date,onChange:e=>T({...C,date:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300 text-sm",required:!0})]}),(0,ny.jsxs)("div",{children:[(0,ny.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Notes (Optional)"}),(0,ny.jsx)("textarea",{value:C.notes,onChange:e=>T({...C,notes:e.target.value}),placeholder:"Add any additional notes...",rows:2,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300 text-sm"})]}),(0,ny.jsxs)("div",{className:"flex space-x-3 pt-2",children:[(0,ny.jsx)("button",{type:"button",onClick:()=>{y(!1),F()},className:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors duration-300 text-sm",children:"Cancel"}),(0,ny.jsx)("button",{type:"submit",disabled:S||!C.accountId||"transfer"===C.type&&(!C.amount||!C.toAccountId)||"adjustment"===C.type&&!C.newBalance||["income","expense"].includes(C.type)&&(!C.amount||!C.category),className:"flex-1 bg-orange-500 hover:bg-orange-600 text-white px-4 py-2 rounded-lg transition-colors duration-300 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2 text-sm",children:S?(0,ny.jsxs)(ny.Fragment,{children:[(0,ny.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),(0,ny.jsx)("span",{children:"Adding..."})]}):(0,ny.jsxs)(ny.Fragment,{children:[(0,ny.jsx)(Xy,{className:"w-4 h-4"}),(0,ny.jsx)("span",{children:"Add Transaction"})]})})]})]})]})}),v&&k&&(0,ny.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",onClick:e=>{e.target===e.currentTarget&&(b(!1),j(null),F())},children:(0,ny.jsxs)("div",{className:"bg-white dark:bg-gray-900 rounded-2xl p-6 w-full max-w-lg backdrop-blur-sm border border-gray-200 dark:border-gray-700",children:[(0,ny.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,ny.jsx)("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Edit Transaction"}),(0,ny.jsx)("button",{onClick:()=>{b(!1),j(null),F()},className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition-colors duration-300",children:(0,ny.jsx)(Qy,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})})]}),(0,ny.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),s&&k&&!S)try{N(!0);const e=zm(ry,"users",s.uid,"transactions",k.id);await qg(e,{category:C.category,paymentMode:C.paymentMode,notes:C.notes,updatedAt:(new Date).toISOString()}),b(!1),j(null),F(),window.location.reload()}catch(t){console.error("Error updating transaction:",t),alert("Error updating transaction. Please try again.")}finally{N(!1)}},className:"space-y-4",children:[(0,ny.jsx)("div",{className:"bg-yellow-50 dark:bg-yellow-500/10 border border-yellow-200 dark:border-yellow-500/20 rounded-lg p-4 mb-4",children:(0,ny.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,ny.jsx)(Jy,{className:"w-5 h-5 text-yellow-600 dark:text-yellow-400 flex-shrink-0 mt-0.5"}),(0,ny.jsxs)("div",{children:[(0,ny.jsx)("h3",{className:"text-sm font-medium text-yellow-800 dark:text-yellow-300 mb-1",children:"Limited Edit Mode"}),(0,ny.jsx)("p",{className:"text-xs text-yellow-700 dark:text-yellow-400",children:"You can only edit category, payment mode, and notes. Amount and account changes affect balances and require deletion + re-creation."})]})]})}),["income","expense"].includes(k.type)&&(0,ny.jsxs)(ny.Fragment,{children:[(0,ny.jsxs)("div",{children:[(0,ny.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Category"}),(0,ny.jsxs)("select",{value:C.category,onChange:e=>T({...C,category:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300",required:!0,children:[(0,ny.jsx)("option",{value:"",children:"Select category"}),null===(n=LU[C.type])||void 0===n?void 0:n.map(e=>(0,ny.jsx)("option",{value:e,children:e},e))]})]}),(0,ny.jsxs)("div",{children:[(0,ny.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Payment Mode"}),(0,ny.jsxs)("select",{value:C.paymentMode,onChange:e=>T({...C,paymentMode:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300",children:[(0,ny.jsx)("option",{value:"",children:"Select payment mode"}),(e=>{const t=M(C.accountId);return t?null===(e=FU[t.type])||void 0===e?void 0:e.map(e=>(0,ny.jsx)("option",{value:e,children:e},e)):null})()]})]})]}),(0,ny.jsxs)("div",{children:[(0,ny.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Notes"}),(0,ny.jsx)("textarea",{value:C.notes,onChange:e=>T({...C,notes:e.target.value}),placeholder:"Add any additional notes...",rows:2,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300"})]}),(0,ny.jsxs)("div",{className:"flex space-x-3 pt-4",children:[(0,ny.jsx)("button",{type:"button",onClick:()=>{b(!1),j(null),F()},className:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors duration-300",children:"Cancel"}),(0,ny.jsx)("button",{type:"submit",disabled:S||["income","expense"].includes(k.type)&&!C.category,className:"flex-1 bg-orange-500 hover:bg-orange-600 text-white px-4 py-2 rounded-lg transition-colors duration-300 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:S?(0,ny.jsxs)(ny.Fragment,{children:[(0,ny.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),(0,ny.jsx)("span",{children:"Updating..."})]}):(0,ny.jsxs)(ny.Fragment,{children:[(0,ny.jsx)(Xy,{className:"w-4 h-4"}),(0,ny.jsx)("span",{children:"Update Transaction"})]})})]})]})]})}),x&&k&&(0,ny.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",onClick:e=>{e.target===e.currentTarget&&(w(!1),j(null))},children:(0,ny.jsxs)("div",{className:"bg-white dark:bg-gray-900 rounded-2xl p-6 w-full max-w-md backdrop-blur-sm border border-gray-200 dark:border-gray-700",children:[(0,ny.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,ny.jsx)("div",{className:"w-10 h-10 bg-red-100 dark:bg-red-500/20 rounded-lg flex items-center justify-center",children:(0,ny.jsx)(Jy,{className:"w-5 h-5 text-red-600 dark:text-red-400"})}),(0,ny.jsx)("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Delete Transaction"})]}),(0,ny.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Are you sure you want to delete this transaction? This action will also reverse any balance changes."}),(0,ny.jsxs)("div",{className:"bg-gray-50 dark:bg-white/5 rounded-lg p-4 mb-6",children:[(0,ny.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,ny.jsx)("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center ${L(k.type)}`,children:R(k.type)}),(0,ny.jsxs)("div",{children:[(0,ny.jsxs)("p",{className:"font-medium text-gray-900 dark:text-white",children:["adjustment"===k.type&&(k.isIncrease?"+":"-"),I(k.amount,k.currency)]}),(0,ny.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[k.category," \u2022 ",D(k.date)]})]})]}),k.notes&&(0,ny.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-2",children:['"',k.notes,'"']})]}),(0,ny.jsxs)("div",{className:"flex space-x-3",children:[(0,ny.jsx)("button",{type:"button",onClick:()=>{w(!1),j(null)},className:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors duration-300",children:"Cancel"}),(0,ny.jsx)("button",{onClick:async()=>{if(s&&k&&!S)try{N(!0);const e=Jg(ry);if(M(k.accountId)){const t=zm(ry,"users",s.uid,"accounts",k.accountId);let r=0;switch(k.type){case"income":r=-k.amount;break;case"expense":r=k.amount;break;case"adjustment":r=k.isIncrease?-k.amount:k.amount;break;case"transfer":if(r=k.amount,k.toAccountId){const t=zm(ry,"users",s.uid,"accounts",k.toAccountId);if(M(k.toAccountId)){const r=k.convertedAmount||k.amount;e.update(t,{balance:Xg(-r),updatedAt:(new Date).toISOString()})}}}0!==r&&e.update(t,{balance:Xg(r),updatedAt:(new Date).toISOString()})}const t=zm(ry,"users",s.uid,"transactions",k.id);e.delete(t),await e.commit(),w(!1),j(null),window.location.reload()}catch(e){console.error("Error deleting transaction:",e),alert("Error deleting transaction. Please try again.")}finally{N(!1)}},disabled:S,className:"flex-1 bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg transition-colors duration-300 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:S?(0,ny.jsxs)(ny.Fragment,{children:[(0,ny.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),(0,ny.jsx)("span",{children:"Deleting..."})]}):(0,ny.jsxs)(ny.Fragment,{children:[(0,ny.jsx)(Yy,{className:"w-4 h-4"}),(0,ny.jsx)("span",{children:"Delete Transaction"})]})})]})]})}),(0,ny.jsxs)("div",{className:"fixed bottom-6 right-6 group",children:[(0,ny.jsx)("button",{onClick:()=>y(!0),className:"w-14 h-14 bg-orange-500 hover:bg-orange-600 text-white rounded-full shadow-lg dark:shadow-2xl transition-all duration-300 flex items-center justify-center transform hover:-translate-y-1 hover:shadow-xl dark:hover:shadow-3xl",children:(0,ny.jsx)(qy,{className:"w-6 h-6"})}),(0,ny.jsx)("span",{className:"absolute right-16 top-1/2 transform -translate-y-1/2 bg-gray-900 dark:bg-black text-white px-3 py-2 rounded-lg text-sm whitespace-nowrap opacity-0 group-hover:opacity-100 transition-all duration-300 shadow-lg dark:shadow-2xl pointer-events-none",children:"Add Transaction"})]})]});var ce},UU=fy("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]]),VU=fy("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),BU=fy("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]),$U=84,qU={income:["Salary","Gift","Payouts","Gambling","Investments","Business","Freelance","Rental Income","Interest","Dividends","Bonus","Commission","Refunds","Other Income"],expense:["Food & Dining","Travel","Entertainment","Friends & Family","Shopping","Utilities","Healthcare","Personal Care","Gifts & Donations","Bills","Groceries","Vehicle","Subscriptions","Hobbies","Eval","Other Expenses"],transfer:["Self Transfer","Account Transfer","Wallet Transfer"],adjustment:["Balance Reconciliation","Bank Interest","Bank Charges","Missed Transaction","Other Adjustment"]},HU={bank:["UPI","Bank Transfer","Debit Card","Credit Card","Cash","Net Banking"],crypto:["Crypto Transfer","Crypto Card","Exchange Transfer","DeFi Transaction"]};const KU=function(e){var r,n;let{accounts:a,transactions:i}=e;const o=Z(),s=re(),{currentUser:l}=iy(),c=new URLSearchParams(o.search).get("mode"),[u,d]=(0,t.useState)("add"===c),[h,f]=(0,t.useState)(!1),[p,m]=(0,t.useState)(!1),[g,y]=(0,t.useState)(!1),[v,b]=(0,t.useState)(null),[x,w]=(0,t.useState)(!1),[k,j]=(0,t.useState)(null),S=()=>{const e=new Date;return`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")}T${String(e.getHours()).padStart(2,"0")}:${String(e.getMinutes()).padStart(2,"0")}`},[N,E]=(0,t.useState)({type:"transfer"===c?"transfer":"expense",amount:"",currency:"INR",accountId:"",toAccountId:"",category:"",paymentMode:"",notes:"",newBalance:"",date:S(),isIncrease:!0}),_=new Date,A=new Date(_.getFullYear(),_.getMonth(),1).toISOString().split("T")[0],C=new Date(_.getFullYear(),_.getMonth()+1,0).toISOString().split("T")[0],[T,O]=(0,t.useState)({search:"",type:"all",accountId:"all",category:"all",paymentMode:"all",datePreset:"thisMonth",dateFrom:A,dateTo:C,amountMin:"",amountMax:""}),[I,P]=(0,t.useState)(1),[D]=(0,t.useState)(20);(0,t.useEffect)(()=>{const e=()=>j(null);return document.addEventListener("click",e),()=>document.removeEventListener("click",e)},[]),(0,t.useEffect)(()=>{c&&s("/transactions",{replace:!0})},[c,s]),(0,t.useEffect)(()=>{u&&E(e=>({...e,date:S()}))},[u]),(0,t.useEffect)(()=>{const e=e=>{"Escape"===e.key&&(u&&(d(!1),V()),h&&(f(!1),b(null),V()),p&&(m(!1),b(null)))};if(u||h||p)return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[u,h,p]);const M=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"INR";return new Intl.NumberFormat("en-IN",{style:"currency",currency:t,minimumFractionDigits:"USD"===t?2:0,maximumFractionDigits:"USD"===t?2:0}).format(e)},R=(e,t)=>"USD"===t?e*$U:e,L=e=>new Date(e).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"}),F=e=>a.find(t=>t.id===e),z=e=>({income:(0,ny.jsx)(zy,{className:"w-5 h-5 text-green-600 dark:text-green-400"}),expense:(0,ny.jsx)(Uy,{className:"w-5 h-5 text-red-600 dark:text-red-400"}),transfer:(0,ny.jsx)(Vy,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),adjustment:(0,ny.jsx)(Ty,{className:"w-5 h-5 text-orange-600 dark:text-orange-400"})}[e]||null),U=e=>({income:"bg-green-100 dark:bg-green-500/10",expense:"bg-red-100 dark:bg-red-500/10",transfer:"bg-blue-100 dark:bg-blue-500/10",adjustment:"bg-orange-100 dark:bg-orange-500/10"}[e]||"bg-gray-100 dark:bg-gray-800"),V=()=>{E({type:"expense",amount:"",currency:"INR",accountId:"",toAccountId:"",category:"",paymentMode:"",notes:"",newBalance:"",date:S(),isIncrease:!0})},B=i.filter(e=>{var t,r;if(T.search&&(null===(t=e.notes)||void 0===t||!t.toLowerCase().includes(T.search.toLowerCase()))&&(null===(r=e.category)||void 0===r||!r.toLowerCase().includes(T.search.toLowerCase())))return!1;if("all"!==T.type&&e.type!==T.type)return!1;if("all"!==T.accountId&&e.accountId!==T.accountId)return!1;if("all"!==T.category&&e.category!==T.category)return!1;if("all"!==T.paymentMode&&e.paymentMode!==T.paymentMode)return!1;if("thisMonth"===T.datePreset){const t=new Date(e.date),r=new Date,n=t.getMonth(),a=t.getFullYear(),i=r.getMonth(),o=r.getFullYear();if(n!==i||a!==o)return!1}else if("thisWeek"===T.datePreset){const t=new Date(e.date),r=new Date,n=new Date(r);n.setDate(r.getDate()-r.getDay()),n.setHours(0,0,0,0);const a=new Date(n);if(a.setDate(n.getDate()+6),a.setHours(23,59,59,999),t<n||t>a)return!1}else if("thisYear"===T.datePreset){const t=new Date(e.date),r=new Date;if(t.getFullYear()!==r.getFullYear())return!1}else if("custom"===T.datePreset&&(T.dateFrom||T.dateTo)){const t=new Date(e.date);if(T.dateFrom){if(t<new Date(T.dateFrom+"T00:00:00"))return!1}if(T.dateTo){if(t>new Date(T.dateTo+"T23:59:59.999"))return!1}}return!(T.amountMin&&e.amount<parseFloat(T.amountMin))&&!(T.amountMax&&e.amount>parseFloat(T.amountMax))}),$=I*D,q=$-D,H=B.slice(q,$),K=Math.ceil(B.length/D),W=B.filter(e=>"income"===e.type).reduce((e,t)=>e+R(t.amount,t.currency),0),G=B.filter(e=>"expense"===e.type).reduce((e,t)=>e+R(t.amount,t.currency),0),Y=W-G;return(0,ny.jsxs)("div",{className:"p-6 space-y-6 animate-fade-in relative min-h-screen transition-all duration-500",children:[(0,ny.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ny.jsxs)("div",{children:[(0,ny.jsx)("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white transition-colors duration-300",children:"Transactions"}),(0,ny.jsx)("p",{className:"text-gray-600 dark:text-gray-400 transition-colors duration-300",children:"Track and manage your financial transactions"})]}),(0,ny.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ny.jsx)("button",{onClick:()=>y(!g),className:"p-2 rounded-lg shadow-sm dark:shadow-lg hover:shadow-md dark:hover:shadow-xl transition-all duration-300 backdrop-blur-sm "+(g?"bg-orange-500 text-white":"bg-white dark:bg-white/5 text-gray-600 dark:text-gray-400"),children:(0,ny.jsx)(UU,{className:"w-5 h-5"})}),(0,ny.jsxs)("button",{onClick:()=>d(!0),className:"bg-orange-500 hover:bg-orange-600 text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-all duration-300 transform hover:-translate-y-0.5 shadow-md dark:shadow-lg",children:[(0,ny.jsx)(qy,{className:"w-4 h-4"}),(0,ny.jsx)("span",{children:"Add Transaction"})]})]})]}),(0,ny.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,ny.jsxs)("div",{className:"bg-white dark:bg-white/5 rounded-xl p-4 backdrop-blur-sm shadow-lg dark:shadow-2xl transition-all duration-300 hover:transform hover:scale-[1.02]",children:[(0,ny.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,ny.jsx)("h3",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Transactions"}),(0,ny.jsx)("div",{className:"w-8 h-8 bg-blue-100 dark:bg-blue-500/20 rounded-lg flex items-center justify-center",children:(0,ny.jsx)(VU,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"})})]}),(0,ny.jsx)("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:B.length.toLocaleString()})]}),(0,ny.jsxs)("div",{className:"bg-white dark:bg-white/5 rounded-xl p-4 backdrop-blur-sm shadow-lg dark:shadow-2xl transition-all duration-300 hover:transform hover:scale-[1.02]",children:[(0,ny.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,ny.jsx)("h3",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Income"}),(0,ny.jsx)("div",{className:"w-8 h-8 bg-green-100 dark:bg-green-500/20 rounded-lg flex items-center justify-center",children:(0,ny.jsx)(zy,{className:"w-4 h-4 text-green-600 dark:text-green-400"})})]}),(0,ny.jsx)("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:M(W,"INR")})]}),(0,ny.jsxs)("div",{className:"bg-white dark:bg-white/5 rounded-xl p-4 backdrop-blur-sm shadow-lg dark:shadow-2xl transition-all duration-300 hover:transform hover:scale-[1.02]",children:[(0,ny.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,ny.jsx)("h3",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Expense"}),(0,ny.jsx)("div",{className:"w-8 h-8 bg-red-100 dark:bg-red-500/20 rounded-lg flex items-center justify-center",children:(0,ny.jsx)(Uy,{className:"w-4 h-4 text-red-600 dark:text-red-400"})})]}),(0,ny.jsx)("p",{className:"text-2xl font-bold text-red-600 dark:text-red-400",children:M(G,"INR")})]}),(0,ny.jsxs)("div",{className:"bg-white dark:bg-white/5 rounded-xl p-4 backdrop-blur-sm shadow-lg dark:shadow-2xl transition-all duration-300 hover:transform hover:scale-[1.02]",children:[(0,ny.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,ny.jsx)("h3",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Net Amount"}),(0,ny.jsx)("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center "+(Y>=0?"bg-blue-100 dark:bg-blue-500/20":"bg-orange-100 dark:bg-orange-500/20"),children:(0,ny.jsx)(Ty,{className:"w-4 h-4 "+(Y>=0?"text-blue-600 dark:text-blue-400":"text-orange-600 dark:text-orange-400")})})]}),(0,ny.jsxs)("p",{className:"text-2xl font-bold "+(Y>=0?"text-blue-600 dark:text-blue-400":"text-orange-600 dark:text-orange-400"),children:[Y>=0?"":"-",M(Math.abs(Y),"INR")]})]})]}),g&&(0,ny.jsxs)("div",{className:"bg-white dark:bg-white/5 rounded-2xl p-6 backdrop-blur-sm shadow-lg dark:shadow-2xl transition-all duration-300",children:[(0,ny.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,ny.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Filters"}),(0,ny.jsx)("button",{onClick:()=>{O({search:"",type:"all",accountId:"all",category:"all",paymentMode:"all",datePreset:"thisMonth",amountMin:"",amountMax:"",dateFrom:new Date((new Date).getFullYear(),(new Date).getMonth(),1).toISOString().split("T")[0],dateTo:new Date((new Date).getFullYear(),(new Date).getMonth()+1,0).toISOString().split("T")[0]})},className:"text-sm text-orange-500 hover:text-orange-600 dark:hover:text-orange-400 transition-colors duration-300",children:"Clear All"})]}),(0,ny.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[(0,ny.jsxs)("div",{children:[(0,ny.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Search"}),(0,ny.jsxs)("div",{className:"relative",children:[(0,ny.jsx)(BU,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,ny.jsx)("input",{type:"text",value:T.search,onChange:e=>O({...T,search:e.target.value}),placeholder:"Search transactions...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300"})]})]}),(0,ny.jsxs)("div",{children:[(0,ny.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Time Period"}),(0,ny.jsxs)("select",{value:T.datePreset,onChange:e=>(e=>{const t=new Date;let r="",n="";switch(e){case"thisWeek":const e=new Date(t);e.setDate(t.getDate()-t.getDay());const a=new Date(e);a.setDate(e.getDate()+6),r=e.toISOString().split("T")[0],n=a.toISOString().split("T")[0];break;case"thisMonth":r=new Date(t.getFullYear(),t.getMonth(),1).toISOString().split("T")[0],n=new Date(t.getFullYear(),t.getMonth()+1,0).toISOString().split("T")[0];break;case"thisYear":r=new Date(t.getFullYear(),0,1).toISOString().split("T")[0],n=new Date(t.getFullYear(),11,31).toISOString().split("T")[0];break;case"allTime":r="",n=""}O({...T,datePreset:e,dateFrom:r,dateTo:n})})(e.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300",children:[(0,ny.jsx)("option",{value:"thisWeek",children:"This Week"}),(0,ny.jsx)("option",{value:"thisMonth",children:"This Month"}),(0,ny.jsx)("option",{value:"thisYear",children:"This Year"}),(0,ny.jsx)("option",{value:"allTime",children:"All Time"}),(0,ny.jsx)("option",{value:"custom",children:"Custom Range"})]})]}),"custom"===T.datePreset&&(0,ny.jsxs)(ny.Fragment,{children:[(0,ny.jsxs)("div",{children:[(0,ny.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"From Date"}),(0,ny.jsx)("input",{type:"date",value:T.dateFrom,onChange:e=>O({...T,dateFrom:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300"})]}),(0,ny.jsxs)("div",{children:[(0,ny.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"To Date"}),(0,ny.jsx)("input",{type:"date",value:T.dateTo,onChange:e=>O({...T,dateTo:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300"})]})]}),(0,ny.jsxs)("div",{children:[(0,ny.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Type"}),(0,ny.jsxs)("select",{value:T.type,onChange:e=>O({...T,type:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300",children:[(0,ny.jsx)("option",{value:"all",children:"All Types"}),(0,ny.jsx)("option",{value:"income",children:"Income"}),(0,ny.jsx)("option",{value:"expense",children:"Expense"}),(0,ny.jsx)("option",{value:"transfer",children:"Transfer"}),(0,ny.jsx)("option",{value:"adjustment",children:"Adjustment"})]})]}),(0,ny.jsxs)("div",{children:[(0,ny.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Account"}),(0,ny.jsxs)("select",{value:T.accountId,onChange:e=>O({...T,accountId:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300",children:[(0,ny.jsx)("option",{value:"all",children:"All Accounts"}),a.map(e=>(0,ny.jsx)("option",{value:e.id,children:e.name},e.id))]})]})]})]}),(0,ny.jsxs)("div",{className:"bg-white dark:bg-white/5 rounded-2xl backdrop-blur-sm shadow-lg dark:shadow-2xl transition-all duration-300 overflow-hidden",children:[(0,ny.jsx)("div",{className:"overflow-x-auto",children:(0,ny.jsxs)("table",{className:"w-full",children:[(0,ny.jsx)("thead",{className:"bg-gray-50 dark:bg-white/5 border-b border-gray-200 dark:border-white/10",children:(0,ny.jsxs)("tr",{children:[(0,ny.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Date & Time"}),(0,ny.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Type"}),(0,ny.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Amount"}),(0,ny.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Account"}),(0,ny.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Category"}),(0,ny.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Payment Mode"}),(0,ny.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Notes"}),(0,ny.jsx)("th",{className:"px-6 py-4 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),(0,ny.jsx)("tbody",{className:"divide-y divide-gray-200 dark:divide-white/10",children:H.length>0?H.map(e=>{const t=F(e.accountId),r=(e.toAccountId&&F(e.toAccountId),t?(n=t.type,a=t.subtype,"crypto"===n?By:"Credit Card"===a?py:$y):$y);var n,a,i;return(0,ny.jsxs)("tr",{className:"hover:bg-gray-50 dark:hover:bg-white/5 transition-all duration-300",children:[(0,ny.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,ny.jsxs)("div",{children:[(0,ny.jsx)("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:L(e.date)}),(0,ny.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:(i=e.date,new Date(i).toLocaleTimeString("en-IN",{hour:"2-digit",minute:"2-digit"}))})]})}),(0,ny.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,ny.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ny.jsx)("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center ${U(e.type)}`,children:z(e.type)}),(0,ny.jsxs)("div",{children:[(0,ny.jsx)("span",{className:"text-sm font-medium text-gray-900 dark:text-white capitalize",children:e.type}),"adjustment"===e.type&&(0,ny.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[e.isIncrease?"+":"-"," Balance"]})]})]})}),(0,ny.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,ny.jsxs)("span",{className:"text-sm font-medium "+("income"===e.type?"text-green-600 dark:text-green-400":"expense"===e.type?"text-red-600 dark:text-red-400":"adjustment"===e.type?e.isIncrease?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400":"text-gray-900 dark:text-white"),children:["expense"===e.type?"-":"income"===e.type?"+":"adjustment"===e.type?e.isIncrease?"+":"-":"",M(e.amount,e.currency)]}),"INR"!==e.currency&&"transfer"!==e.type&&(0,ny.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["\u2248 ",M(R(e.amount,e.currency),"INR")]}),"transfer"===e.type&&e.convertedAmount&&e.currency!==e.toCurrency&&(0,ny.jsxs)("p",{className:"text-xs text-blue-600 dark:text-blue-400",children:["\u2192 ",M(e.convertedAmount,e.toCurrency)]})]}),(0,ny.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,ny.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ny.jsx)("div",{className:"w-6 h-6 rounded-md flex items-center justify-center "+("crypto"===(null===t||void 0===t?void 0:t.type)?"bg-orange-100 dark:bg-orange-500/20":"bg-blue-100 dark:bg-blue-500/20"),children:(0,ny.jsx)(r,{className:"w-4 h-4 "+("crypto"===(null===t||void 0===t?void 0:t.type)?"text-orange-600 dark:text-orange-400":"text-blue-600 dark:text-blue-400")})}),(0,ny.jsxs)("div",{children:[(0,ny.jsx)("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:e.accountName||(null===t||void 0===t?void 0:t.name)||"Unknown"}),"transfer"===e.type&&e.toAccountName&&(0,ny.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["\u2192 ",e.toAccountName]}),e.accountDeleted&&(0,ny.jsx)("p",{className:"text-xs text-red-500 dark:text-red-400",children:"Deleted Account"})]})]})}),(0,ny.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600 dark:text-gray-400",children:e.category||"-"}),(0,ny.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600 dark:text-gray-400",children:e.paymentMode||"-"}),(0,ny.jsx)("td",{className:"px-6 py-4",children:(0,ny.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400 max-w-[150px] break-words",children:e.notes?(0,ny.jsx)("span",{title:e.notes,children:e.notes}):"-"})}),(0,ny.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:(0,ny.jsxs)("div",{className:"relative",children:[(0,ny.jsx)("button",{onClick:t=>{t.stopPropagation(),j(k===e.id?null:e.id)},className:"p-1 hover:bg-gray-100 dark:hover:bg-gray-700 rounded transition-colors duration-300",children:(0,ny.jsx)(Wy,{className:"w-4 h-4 text-gray-600 dark:text-gray-400"})}),k===e.id&&(0,ny.jsxs)("div",{className:"absolute right-0 mt-2 w-40 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 py-1 z-10",children:[(0,ny.jsxs)("button",{onClick:()=>(e=>{var t;b(e),E({type:e.type,amount:e.amount.toString(),currency:e.currency,accountId:e.accountId,toAccountId:e.toAccountId||"",category:e.category,paymentMode:e.paymentMode||"",notes:e.notes||"",date:e.date,isIncrease:null===(t=e.isIncrease)||void 0===t||t}),f(!0),j(null)})(e),className:"w-full text-left px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center space-x-2 transition-colors duration-300",children:[(0,ny.jsx)(Gy,{className:"w-4 h-4"}),(0,ny.jsx)("span",{children:"Edit"})]}),(0,ny.jsxs)("button",{onClick:()=>(e=>{b(e),m(!0),j(null)})(e),className:"w-full text-left px-4 py-2 text-sm text-red-600 dark:text-red-400 hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center space-x-2 transition-colors duration-300",children:[(0,ny.jsx)(Yy,{className:"w-4 h-4"}),(0,ny.jsx)("span",{children:"Delete"})]})]})]})})]},e.id)}):(0,ny.jsx)("tr",{children:(0,ny.jsx)("td",{colSpan:"8",className:"px-6 py-12 text-center",children:(0,ny.jsxs)("div",{className:"text-gray-500 dark:text-gray-400",children:[(0,ny.jsx)(VU,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),(0,ny.jsx)("p",{className:"text-lg font-medium mb-2",children:"No transactions found"}),(0,ny.jsx)("p",{className:"text-sm",children:"Add your first transaction or adjust your filters"})]})})})})]})}),K>1&&(0,ny.jsxs)("div",{className:"px-6 py-4 border-t border-gray-200 dark:border-white/10 flex items-center justify-between",children:[(0,ny.jsxs)("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:["Showing ",q+1," to ",Math.min($,B.length)," of ",B.length," transactions"]}),(0,ny.jsxs)("div",{className:"flex space-x-1",children:[(0,ny.jsx)("button",{onClick:()=>P(Math.max(1,I-1)),disabled:1===I,className:"px-3 py-1 text-sm border border-gray-300 dark:border-gray-600 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-300",children:"Previous"}),Array.from({length:Math.min(5,K)},(e,t)=>{let r;return r=K<=5||I<=3?t+1:I>=K-2?K-4+t:I-2+t,(0,ny.jsx)("button",{onClick:()=>P(r),className:"px-3 py-1 text-sm border rounded-md transition-colors duration-300 "+(I===r?"bg-orange-500 text-white border-orange-500":"border-gray-300 dark:border-gray-600 hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300"),children:r},r)}),(0,ny.jsx)("button",{onClick:()=>P(Math.min(K,I+1)),disabled:I===K,className:"px-3 py-1 text-sm border border-gray-300 dark:border-gray-600 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-300",children:"Next"})]})]})]}),u&&(0,ny.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",onClick:e=>{e.target===e.currentTarget&&(d(!1),V())},children:(0,ny.jsxs)("div",{className:"bg-white dark:bg-gray-900 rounded-2xl p-6 w-full max-w-2xl max-h-[95vh] overflow-y-auto backdrop-blur-sm border border-gray-200 dark:border-gray-700",children:[(0,ny.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,ny.jsx)("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Add Transaction"}),(0,ny.jsx)("button",{onClick:()=>{d(!1),V()},className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition-colors duration-300",children:(0,ny.jsx)(Qy,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})})]}),(0,ny.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),l&&!x&&N.accountId&&("transfer"!==N.type||N.amount&&N.toAccountId)&&("adjustment"!==N.type||N.newBalance)&&(!["income","expense"].includes(N.type)||N.amount&&N.category))try{w(!0);const e=Jg(ry),t=F(N.accountId);if(!t)throw new Error("Account not found");let r,n={userId:l.uid,accountId:N.accountId,accountName:t.name,currency:t.currency,date:N.date,notes:N.notes,createdAt:(new Date).toISOString()};if("adjustment"===N.type){const a=parseFloat(N.newBalance),i=t.balance;r=a-i,n={...n,type:"adjustment",amount:Math.abs(r),amountInINR:R(Math.abs(r),t.currency),exchangeRate:"USD"===t.currency?$U:1,isIncrease:r>=0,category:"Balance Reconciliation",paymentMode:"Account Adjustment",newBalance:a,previousBalance:i};const o=zm(ry,"users",l.uid,"accounts",N.accountId);e.update(o,{balance:a,lastActivityAt:(new Date).toISOString(),updatedAt:(new Date).toISOString()})}else{r=parseFloat(N.amount);const a=R(r,t.currency);if(n={...n,type:N.type,amount:r,amountInINR:a,exchangeRate:"USD"===t.currency?$U:1},"transfer"===N.type){const a=F(N.toAccountId);if(!a)throw new Error("Destination account not found");if(N.accountId===N.toAccountId)throw new Error("Cannot transfer to same account");n.toAccountId=N.toAccountId,n.toAccountName=a.name,n.fromAccountId=N.accountId,n.category="Self Transfer",n.paymentMode="Account Transfer";const i=zm(ry,"users",l.uid,"accounts",N.accountId),o=zm(ry,"users",l.uid,"accounts",N.toAccountId);e.update(i,{balance:Xg(-r),lastActivityAt:(new Date).toISOString(),updatedAt:(new Date).toISOString()});const s=t.currency!==a.currency?"USD"===t.currency?r*$U:r/$U:r;e.update(o,{balance:Xg(s),lastActivityAt:(new Date).toISOString(),updatedAt:(new Date).toISOString()}),t.currency!==a.currency&&(n.convertedAmount=s,n.toCurrency=a.currency)}else{n.category=N.category,n.paymentMode=N.paymentMode;const t=zm(ry,"users",l.uid,"accounts",N.accountId),a="income"===N.type?r:-r;e.update(t,{balance:Xg(a),lastActivityAt:(new Date).toISOString(),updatedAt:(new Date).toISOString()})}}const a=zm(Fm(ry,"users",l.uid,"transactions"));e.set(a,n),await e.commit(),d(!1),V()}catch(t){console.error("Error adding transaction:",t),alert("Error adding transaction. Please try again.")}finally{w(!1)}},className:"space-y-4",children:[(0,ny.jsxs)("div",{children:[(0,ny.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Transaction Type"}),(0,ny.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:[{value:"income",label:"Income",icon:zy,color:"green"},{value:"expense",label:"Expense",icon:Uy,color:"red"},{value:"transfer",label:"Transfer",icon:Vy,color:"blue"},{value:"adjustment",label:"Adjustment",icon:Ty,color:"orange"}].map(e=>{const t=e.icon,r=N.type===e.value;return(0,ny.jsxs)("button",{type:"button",onClick:()=>E({...N,type:e.value,category:"",paymentMode:""}),className:"p-2 rounded-lg border-2 transition-all duration-300 flex flex-col items-center space-y-1 "+(r?`border-${e.color}-500 bg-${e.color}-50 dark:bg-${e.color}-500/10`:"border-gray-300 dark:border-gray-600 hover:border-gray-400 dark:hover:border-gray-500"),children:[(0,ny.jsx)(t,{className:"w-4 h-4 "+(r?`text-${e.color}-600 dark:text-${e.color}-400`:"text-gray-600 dark:text-gray-400")}),(0,ny.jsx)("span",{className:"text-xs font-medium "+(r?`text-${e.color}-700 dark:text-${e.color}-300`:"text-gray-700 dark:text-gray-300"),children:e.label})]},e.value)})})]}),(0,ny.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,ny.jsxs)("div",{children:[(0,ny.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"transfer"===N.type?"From Account":"Account"}),(0,ny.jsxs)("select",{value:N.accountId,onChange:e=>E({...N,accountId:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300 text-sm",required:!0,children:[(0,ny.jsx)("option",{value:"",children:"Select account"}),a.map(e=>(0,ny.jsxs)("option",{value:e.id,children:[e.name," (",e.currency,") - ",M(e.balance,e.currency)]},e.id))]})]}),"adjustment"!==N.type&&(0,ny.jsxs)("div",{children:[(0,ny.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Amount"}),(0,ny.jsx)("input",{type:"number",step:"0.01",value:N.amount,onChange:e=>E({...N,amount:e.target.value}),placeholder:"0.00",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300 text-sm",required:!0})]}),"adjustment"===N.type&&(0,ny.jsxs)("div",{children:[(0,ny.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"New Balance"}),(0,ny.jsx)("input",{type:"number",step:"0.01",value:N.newBalance,onChange:e=>E({...N,newBalance:e.target.value}),placeholder:"0.00",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300 text-sm",required:!0})]})]}),"transfer"===N.type&&(0,ny.jsxs)("div",{children:[(0,ny.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"To Account"}),(0,ny.jsxs)("select",{value:N.toAccountId,onChange:e=>E({...N,toAccountId:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300 text-sm",required:!0,children:[(0,ny.jsx)("option",{value:"",children:"Select destination account"}),a.filter(e=>e.id!==N.accountId).map(e=>(0,ny.jsxs)("option",{value:e.id,children:[e.name," (",e.currency,") - ",M(e.balance,e.currency)]},e.id))]}),N.accountId&&N.toAccountId&&(()=>{const e=F(N.accountId),t=F(N.toAccountId);if(e&&t&&e.currency!==t.currency&&N.amount){const r="USD"===e.currency?parseFloat(N.amount)*$U:parseFloat(N.amount)/$U;return(0,ny.jsxs)("p",{className:"text-xs text-blue-600 dark:text-blue-400 mt-1",children:["Will receive: ",M(r,t.currency)]})}return null})()]}),["income","expense"].includes(N.type)&&(0,ny.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,ny.jsxs)("div",{children:[(0,ny.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Category"}),(0,ny.jsxs)("select",{value:N.category,onChange:e=>E({...N,category:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300 text-sm",required:!0,children:[(0,ny.jsx)("option",{value:"",children:"Select category"}),null===(r=qU[N.type])||void 0===r?void 0:r.map(e=>(0,ny.jsx)("option",{value:e,children:e},e))]})]}),(0,ny.jsxs)("div",{children:[(0,ny.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Payment Mode"}),(0,ny.jsxs)("select",{value:N.paymentMode,onChange:e=>E({...N,paymentMode:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300 text-sm",children:[(0,ny.jsx)("option",{value:"",children:"Select payment mode"}),N.accountId&&(e=>{const t=F(N.accountId);return t?null===(e=HU[t.type])||void 0===e?void 0:e.map(e=>(0,ny.jsx)("option",{value:e,children:e},e)):null})()]})]})]}),(0,ny.jsxs)("div",{children:[(0,ny.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Date & Time"}),(0,ny.jsx)("input",{type:"datetime-local",value:N.date,onChange:e=>E({...N,date:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300 text-sm",required:!0})]}),(0,ny.jsxs)("div",{children:[(0,ny.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Notes (Optional)"}),(0,ny.jsx)("textarea",{value:N.notes,onChange:e=>E({...N,notes:e.target.value}),placeholder:"Add any additional notes...",rows:2,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300 text-sm"})]}),(0,ny.jsxs)("div",{className:"flex space-x-3 pt-2",children:[(0,ny.jsx)("button",{type:"button",onClick:()=>{d(!1),V()},className:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors duration-300 text-sm",children:"Cancel"}),(0,ny.jsx)("button",{type:"submit",disabled:x||!N.accountId||"transfer"===N.type&&(!N.amount||!N.toAccountId)||"adjustment"===N.type&&!N.newBalance||["income","expense"].includes(N.type)&&(!N.amount||!N.category),className:"flex-1 bg-orange-500 hover:bg-orange-600 text-white px-4 py-2 rounded-lg transition-colors duration-300 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2 text-sm",children:x?(0,ny.jsxs)(ny.Fragment,{children:[(0,ny.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),(0,ny.jsx)("span",{children:"Adding..."})]}):(0,ny.jsxs)(ny.Fragment,{children:[(0,ny.jsx)(Xy,{className:"w-4 h-4"}),(0,ny.jsx)("span",{children:"Add Transaction"})]})})]})]})]})}),h&&v&&(0,ny.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",onClick:e=>{e.target===e.currentTarget&&(f(!1),b(null),V())},children:(0,ny.jsxs)("div",{className:"bg-white dark:bg-gray-900 rounded-2xl p-6 w-full max-w-lg backdrop-blur-sm border border-gray-200 dark:border-gray-700",children:[(0,ny.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,ny.jsx)("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Edit Transaction"}),(0,ny.jsx)("button",{onClick:()=>{f(!1),b(null),V()},className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition-colors duration-300",children:(0,ny.jsx)(Qy,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})})]}),(0,ny.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),l&&v&&!x)try{w(!0);const e=zm(ry,"users",l.uid,"transactions",v.id);await qg(e,{category:N.category,paymentMode:N.paymentMode,notes:N.notes,updatedAt:(new Date).toISOString()}),f(!1),b(null),V()}catch(t){console.error("Error updating transaction:",t),alert("Error updating transaction. Please try again.")}finally{w(!1)}},className:"space-y-4",children:[(0,ny.jsx)("div",{className:"bg-yellow-50 dark:bg-yellow-500/10 border border-yellow-200 dark:border-yellow-500/20 rounded-lg p-4 mb-4",children:(0,ny.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,ny.jsx)(Jy,{className:"w-5 h-5 text-yellow-600 dark:text-yellow-400 flex-shrink-0 mt-0.5"}),(0,ny.jsxs)("div",{children:[(0,ny.jsx)("h3",{className:"text-sm font-medium text-yellow-800 dark:text-yellow-300 mb-1",children:"Limited Edit Mode"}),(0,ny.jsx)("p",{className:"text-xs text-yellow-700 dark:text-yellow-400",children:"You can only edit category, payment mode, and notes. Amount and account changes affect balances and require deletion + re-creation."})]})]})}),["income","expense"].includes(v.type)&&(0,ny.jsxs)(ny.Fragment,{children:[(0,ny.jsxs)("div",{children:[(0,ny.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Category"}),(0,ny.jsxs)("select",{value:N.category,onChange:e=>E({...N,category:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300",required:!0,children:[(0,ny.jsx)("option",{value:"",children:"Select category"}),null===(n=qU[N.type])||void 0===n?void 0:n.map(e=>(0,ny.jsx)("option",{value:e,children:e},e))]})]}),(0,ny.jsxs)("div",{children:[(0,ny.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Payment Mode"}),(0,ny.jsxs)("select",{value:N.paymentMode,onChange:e=>E({...N,paymentMode:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300",children:[(0,ny.jsx)("option",{value:"",children:"Select payment mode"}),(e=>{const t=F(N.accountId);return t?null===(e=HU[t.type])||void 0===e?void 0:e.map(e=>(0,ny.jsx)("option",{value:e,children:e},e)):null})()]})]})]}),(0,ny.jsxs)("div",{children:[(0,ny.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Notes"}),(0,ny.jsx)("textarea",{value:N.notes,onChange:e=>E({...N,notes:e.target.value}),placeholder:"Add any additional notes...",rows:2,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300"})]}),(0,ny.jsxs)("div",{className:"flex space-x-3 pt-4",children:[(0,ny.jsx)("button",{type:"button",onClick:()=>{f(!1),b(null),V()},className:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors duration-300",children:"Cancel"}),(0,ny.jsx)("button",{type:"submit",disabled:x||["income","expense"].includes(v.type)&&!N.category,className:"flex-1 bg-orange-500 hover:bg-orange-600 text-white px-4 py-2 rounded-lg transition-colors duration-300 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:x?(0,ny.jsxs)(ny.Fragment,{children:[(0,ny.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),(0,ny.jsx)("span",{children:"Updating..."})]}):(0,ny.jsxs)(ny.Fragment,{children:[(0,ny.jsx)(Xy,{className:"w-4 h-4"}),(0,ny.jsx)("span",{children:"Update Transaction"})]})})]})]})]})}),p&&v&&(0,ny.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",onClick:e=>{e.target===e.currentTarget&&(m(!1),b(null))},children:(0,ny.jsxs)("div",{className:"bg-white dark:bg-gray-900 rounded-2xl p-6 w-full max-w-md backdrop-blur-sm border border-gray-200 dark:border-gray-700",children:[(0,ny.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,ny.jsx)("div",{className:"w-10 h-10 bg-red-100 dark:bg-red-500/20 rounded-lg flex items-center justify-center",children:(0,ny.jsx)(Jy,{className:"w-5 h-5 text-red-600 dark:text-red-400"})}),(0,ny.jsx)("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Delete Transaction"})]}),(0,ny.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Are you sure you want to delete this transaction? This action will also reverse any balance changes."}),(0,ny.jsxs)("div",{className:"bg-gray-50 dark:bg-white/5 rounded-lg p-4 mb-6",children:[(0,ny.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,ny.jsx)("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center ${U(v.type)}`,children:z(v.type)}),(0,ny.jsxs)("div",{children:[(0,ny.jsxs)("p",{className:"font-medium text-gray-900 dark:text-white",children:["adjustment"===v.type&&(v.isIncrease?"+":"-"),M(v.amount,v.currency)]}),(0,ny.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[v.category," \u2022 ",L(v.date)]})]})]}),v.notes&&(0,ny.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-2",children:['"',v.notes,'"']})]}),(0,ny.jsxs)("div",{className:"flex space-x-3",children:[(0,ny.jsx)("button",{type:"button",onClick:()=>{m(!1),b(null)},className:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors duration-300",children:"Cancel"}),(0,ny.jsx)("button",{onClick:async()=>{if(l&&v&&!x)try{w(!0);const e=Jg(ry);if(F(v.accountId)){const t=zm(ry,"users",l.uid,"accounts",v.accountId);let r=0;switch(v.type){case"income":r=-v.amount;break;case"expense":r=v.amount;break;case"adjustment":r=v.isIncrease?-v.amount:v.amount;break;case"transfer":if(r=v.amount,v.toAccountId){const t=zm(ry,"users",l.uid,"accounts",v.toAccountId);if(F(v.toAccountId)){const r=v.convertedAmount||v.amount;e.update(t,{balance:Xg(-r),updatedAt:(new Date).toISOString()})}}}0!==r&&e.update(t,{balance:Xg(r),updatedAt:(new Date).toISOString()})}const t=zm(ry,"users",l.uid,"transactions",v.id);e.delete(t),await e.commit(),m(!1),b(null)}catch(e){console.error("Error deleting transaction:",e),alert("Error deleting transaction. Please try again.")}finally{w(!1)}},disabled:x,className:"flex-1 bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg transition-colors duration-300 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:x?(0,ny.jsxs)(ny.Fragment,{children:[(0,ny.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),(0,ny.jsx)("span",{children:"Deleting..."})]}):(0,ny.jsxs)(ny.Fragment,{children:[(0,ny.jsx)(Yy,{className:"w-4 h-4"}),(0,ny.jsx)("span",{children:"Delete Transaction"})]})})]})]})}),(0,ny.jsxs)("button",{onClick:()=>d(!0),className:"fixed bottom-6 right-6 w-14 h-14 bg-orange-500 hover:bg-orange-600 text-white rounded-full shadow-lg dark:shadow-2xl transition-all duration-300 flex items-center justify-center group transform hover:-translate-y-1 hover:shadow-xl dark:hover:shadow-3xl",children:[(0,ny.jsx)(qy,{className:"w-6 h-6"}),(0,ny.jsx)("span",{className:"absolute right-16 bg-gray-900 dark:bg-black text-white px-3 py-2 rounded-lg text-sm whitespace-nowrap opacity-0 group-hover:opacity-100 transition-all duration-300 shadow-lg dark:shadow-2xl pointer-events-none",children:"Add Transaction"})]})]})},WU=fy("arrow-up",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]),GU=fy("arrow-down",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]),YU=fy("activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]),QU=fy("target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),XU=fy("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);var JU=["axis"],ZU=(0,t.forwardRef)((e,r)=>t.createElement(cM,{chartName:"ComposedChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:JU,tooltipPayloadSearcher:kx,categoricalChartProps:e,ref:r}));Math.abs,Math.atan2;const eV=Math.cos,tV=(Math.max,Math.min,Math.sin),rV=Math.sqrt,nV=Math.PI,aV=2*nV;const iV={draw(e,t){const r=rV(t/nV);e.moveTo(r,0),e.arc(0,0,r,0,aV)}},oV={draw(e,t){const r=rV(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},sV=rV(1/3),lV=2*sV,cV={draw(e,t){const r=rV(t/lV),n=r*sV;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},uV={draw(e,t){const r=rV(t),n=-r/2;e.rect(n,n,r,r)}},dV=tV(nV/10)/tV(7*nV/10),hV=tV(aV/10)*dV,fV=-eV(aV/10)*dV,pV={draw(e,t){const r=rV(.8908130915292852*t),n=hV*r,a=fV*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const t=aV*i/5,o=eV(t),s=tV(t);e.lineTo(s*r,-o*r),e.lineTo(o*n-s*a,s*n+o*a)}e.closePath()}},mV=rV(3),gV={draw(e,t){const r=-rV(t/(3*mV));e.moveTo(0,2*r),e.lineTo(-mV*r,-r),e.lineTo(mV*r,-r),e.closePath()}},yV=-.5,vV=rV(3)/2,bV=1/rV(12),xV=3*(bV/2+1),wV={draw(e,t){const r=rV(t/xV),n=r/2,a=r*bV,i=n,o=r*bV+r,s=-i,l=o;e.moveTo(n,a),e.lineTo(i,o),e.lineTo(s,l),e.lineTo(yV*n-vV*a,vV*n+yV*a),e.lineTo(yV*i-vV*o,vV*i+yV*o),e.lineTo(yV*s-vV*l,vV*s+yV*l),e.lineTo(yV*n+vV*a,yV*a-vV*n),e.lineTo(yV*i+vV*o,yV*o-vV*i),e.lineTo(yV*s+vV*l,yV*l-vV*s),e.closePath()}};rV(3),rV(3);var kV=["type","size","sizeType"];function jV(){return jV=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jV.apply(null,arguments)}function SV(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function NV(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?SV(Object(r),!0).forEach(function(t){EV(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SV(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function EV(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var _V={symbolCircle:iV,symbolCross:oV,symbolDiamond:cV,symbolSquare:uV,symbolStar:pV,symbolTriangle:gV,symbolWye:wV},AV=Math.PI/180,CV=e=>{var{type:r="circle",size:n=64,sizeType:a="area"}=e,i=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,kV),o=NV(NV({},i),{},{type:r,size:n,sizeType:a}),{className:s,cx:l,cy:c}=o,u=ED(o,!0);return l===+l&&c===+c&&n===+n?t.createElement("path",jV({},u,{className:ev("recharts-symbols",s),transform:"translate(".concat(l,", ").concat(c,")"),d:(()=>{var e=(e=>{var t="symbol".concat(vv(e));return _V[t]||iV})(r),t=function(e,t){let r=null,n=KL(a);function a(){let a;if(r||(r=a=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),a)return r=null,a+""||null}return e="function"===typeof e?e:bk(e||iV),t="function"===typeof t?t:bk(void 0===t?64:+t),a.type=function(t){return arguments.length?(e="function"===typeof t?t:bk(t),a):e},a.size=function(e){return arguments.length?(t="function"===typeof e?e:bk(+e),a):t},a.context=function(e){return arguments.length?(r=null==e?null:e,a):r},a}().type(e).size(((e,t,r)=>{if("area"===t)return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return.5*e*e/Math.sqrt(3);case"square":return e*e;case"star":var n=18*AV;return 1.25*e*e*(Math.tan(n)-Math.tan(2*n)*Math.tan(n)**2);case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}})(n,a,r));return t()})()})):null};function TV(){return TV=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},TV.apply(null,arguments)}function OV(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function IV(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}CV.registerSymbol=(e,t)=>{_V["symbol".concat(vv(e))]=t};var PV=32;class DV extends t.PureComponent{renderIcon(e,r){var{inactiveColor:n}=this.props,a=16,i=PV/6,o=PV/3,s=e.inactive?n:e.color,l=null!==r&&void 0!==r?r:e.type;if("none"===l)return null;if("plainline"===l)return t.createElement("line",{strokeWidth:4,fill:"none",stroke:s,strokeDasharray:e.payload.strokeDasharray,x1:0,y1:a,x2:PV,y2:a,className:"recharts-legend-icon"});if("line"===l)return t.createElement("path",{strokeWidth:4,fill:"none",stroke:s,d:"M0,".concat(a,"h").concat(o,"\n            A").concat(i,",").concat(i,",0,1,1,").concat(2*o,",").concat(a,"\n            H").concat(PV,"M").concat(2*o,",").concat(a,"\n            A").concat(i,",").concat(i,",0,1,1,").concat(o,",").concat(a),className:"recharts-legend-icon"});if("rect"===l)return t.createElement("path",{stroke:"none",fill:s,d:"M0,".concat(4,"h").concat(PV,"v").concat(24,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(t.isValidElement(e.legendIcon)){var c=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?OV(Object(r),!0).forEach(function(t){IV(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OV(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},e);return delete c.legendIcon,t.cloneElement(e.legendIcon,c)}return t.createElement(CV,{fill:s,cx:a,cy:a,size:PV,sizeType:"diameter",type:l})}renderItems(){var{payload:e,iconSize:r,layout:n,formatter:a,inactiveColor:i,iconType:o}=this.props,s={x:0,y:0,width:PV,height:PV},l={display:"horizontal"===n?"inline-block":"block",marginRight:10},c={display:"inline-block",verticalAlign:"middle",marginRight:4};return e.map((e,n)=>{var u=e.formatter||a,d=ev({"recharts-legend-item":!0,["legend-item-".concat(n)]:!0,inactive:e.inactive});if("none"===e.type)return null;var h=e.inactive?i:e.color,f=u?u(e.value,e,n):e.value;return t.createElement("li",TV({className:d,style:l,key:"legend-item-".concat(n)},bD(this.props,e,n)),t.createElement(TD,{width:r,height:r,viewBox:s,style:c,"aria-label":"".concat(f," legend icon")},this.renderIcon(e,o)),t.createElement("span",{className:"recharts-legend-item-text",style:{color:h}},f))})}render(){var{payload:e,layout:r,align:n}=this.props;if(!e||!e.length)return null;var a={padding:0,margin:0,textAlign:"horizontal"===r?n:"left"};return t.createElement("ul",{className:"recharts-default-legend",style:a},this.renderItems())}}IV(DV,"displayName","Legend"),IV(DV,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var MV=["contextPayload"];function RV(){return RV=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},RV.apply(null,arguments)}function LV(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function FV(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?LV(Object(r),!0).forEach(function(t){zV(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LV(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function zV(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UV(e){return e.value}function VV(e){var{contextPayload:r}=e,n=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,MV),a=bL(r,e.payloadUniqBy,UV),i=FV(FV({},n),{},{payload:a});return t.isValidElement(e.content)?t.cloneElement(e.content,i):"function"===typeof e.content?t.createElement(e.content,i):t.createElement(DV,i)}function BV(e){var r=lk();return(0,t.useEffect)(()=>{r(RP(e))},[r,e]),null}function $V(e){var r=lk();return(0,t.useEffect)(()=>(r(MP(e)),()=>{r(MP({width:0,height:0}))}),[r,e]),null}function qV(e){var r=hk(gk),n=(0,t.useContext)(HD),a=(()=>{var e;return null!==(e=hk(e=>e.layout.margin))&&void 0!==e?e:wj})(),{width:i,height:o,wrapperStyle:s,portal:l}=e,[c,u]=xL([r]),d=bj(),h=xj(),f=d-(a.left||0)-(a.right||0),p=HV.getWidthOrHeight(e.layout,o,i,f),m=l?s:FV(FV({position:"absolute",width:(null===p||void 0===p?void 0:p.width)||i||"auto",height:(null===p||void 0===p?void 0:p.height)||o||"auto"},function(e,t,r,n,a,i){var o,s,{layout:l,align:c,verticalAlign:u}=t;return e&&(void 0!==e.left&&null!==e.left||void 0!==e.right&&null!==e.right)||(o="center"===c&&"vertical"===l?{left:((n||0)-i.width)/2}:"right"===c?{right:r&&r.right||0}:{left:r&&r.left||0}),e&&(void 0!==e.top&&null!==e.top||void 0!==e.bottom&&null!==e.bottom)||(s="middle"===u?{top:((a||0)-i.height)/2}:"bottom"===u?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),FV(FV({},o),s)}(s,e,a,d,h,c)),s),g=null!==l&&void 0!==l?l:n;if(null==g)return null;var y=t.createElement("div",{className:"recharts-legend-wrapper",style:m,ref:u},t.createElement(BV,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),t.createElement($V,{width:c.width,height:c.height}),t.createElement(VV,RV({},e,p,{margin:a,chartWidth:d,chartHeight:h,contextPayload:r})));return(0,rL.createPortal)(y,g)}class HV extends t.PureComponent{static getWidthOrHeight(e,t,r,n){return"vertical"===e&&lv(t)?{height:t}:"horizontal"===e?{width:r||n}:null}render(){return t.createElement(qV,this.props)}}zV(HV,"displayName","Legend"),zV(HV,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});var KV=(e,t,r,n)=>jO(e,"xAxis",t,n),WV=(e,t,r,n)=>kO(e,"xAxis",t,n),GV=(e,t,r,n)=>jO(e,"yAxis",r,n),YV=(e,t,r,n)=>kO(e,"yAxis",r,n),QV=nk([kj,KV,GV,WV,YV],(e,t,r,n,a)=>Lk(e,"xAxis")?Yk(t,n,!1):Yk(r,a,!1)),XV=nk([ZC,(e,t,r,n,a)=>a],(e,t)=>{if(e.some(e=>"area"===e.type&&t.dataKey===e.dataKey&&$k(t.stackId)===e.stackId&&t.data===e.data))return t}),JV=nk([kj,KV,GV,WV,YV,(e,t,r,n,a)=>{var i,o,s=kj(e);if(null!=(o=Lk(s,"xAxis")?mT(e,"yAxis",r,n):mT(e,"xAxis",t,n))){var{dataKey:l,stackId:c}=a;if(null!=c){var u=null===(i=o[c])||void 0===i?void 0:i.stackedData;return null===u||void 0===u?void 0:u.find(e=>e.key===l)}}},RA,QV,XV],(e,t,r,n,a,i,o,s,l)=>{var{chartData:c,dataStartIndex:u,dataEndIndex:d}=o;if(null!=l&&("horizontal"===e||"vertical"===e)&&null!=t&&null!=r&&null!=n&&null!=a&&0!==n.length&&0!==a.length&&null!=s){var h,{data:f}=l;if(null!=(h=f&&f.length>0?f:null===c||void 0===c?void 0:c.slice(u,d+1))){return function(e){var t,{areaSettings:{connectNulls:r,baseValue:n,dataKey:a},stackedData:i,layout:o,chartBaseValue:s,xAxis:l,yAxis:c,displayedData:u,dataStartIndex:d,xAxisTicks:h,yAxisTicks:f,bandSize:p}=e,m=i&&i.length,g=bB(o,s,n,l,c),y="horizontal"===o,v=!1,b=u.map((e,t)=>{var n;m?n=i[d+t]:(n=Rk(e,a),Array.isArray(n)?v=!0:n=[g,n]);var o=null==n[1]||m&&!r&&null==Rk(e,a);return y?{x:qk({axis:l,ticks:h,bandSize:p,entry:e,index:t}),y:o?null:c.scale(n[1]),value:n,payload:e}:{x:o?null:l.scale(n[1]),y:qk({axis:c,ticks:f,bandSize:p,entry:e,index:t}),value:n,payload:e}});t=m||v?b.map(e=>{var t=Array.isArray(e.value)?e.value[0]:null;return y?{x:e.x,y:null!=t&&null!=e.y?c.scale(t):null}:{x:null!=t?l.scale(t):null,y:e.y}}):y?c.scale(g):l.scale(g);return{points:b,baseLine:t,isRange:v}}({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:a,dataStartIndex:u,areaSettings:l,stackedData:i,displayedData:h,chartBaseValue:undefined,bandSize:s})}}}),ZV=["layout","type","stroke","connectNulls","isRange"],eB=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function tB(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function rB(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function nB(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?rB(Object(r),!0).forEach(function(t){aB(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rB(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function aB(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iB(){return iB=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},iB.apply(null,arguments)}function oB(e,t){return e&&"none"!==e?e:t}var sB=e=>{var{dataKey:t,name:r,stroke:n,fill:a,legendType:i,hide:o}=e;return[{inactive:o,dataKey:t,type:i,color:oB(n,a),value:Xk(r,t),payload:e}]};function lB(e){var{dataKey:t,data:r,stroke:n,strokeWidth:a,fill:i,name:o,hide:s,unit:l}=e;return{dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:a,fill:i,dataKey:t,nameKey:void 0,name:Xk(o,t),hide:s,type:e.tooltipType,color:oB(n,i),unit:l}}}function cB(e){var{clipPathId:r,points:n,props:a}=e,{needClip:i,dot:o,dataKey:s}=a;if(!function(e,t){return null!=e&&(!!t||1===e.length)}(n,o))return null;var l=ND(o),c=ED(a,!1),u=ED(o,!0),d=n.map((e,r)=>{var a=nB(nB(nB({key:"dot-".concat(r),r:3},c),u),{},{index:r,cx:e.x,cy:e.y,dataKey:s,value:e.value,payload:e.payload,points:n});return((e,r)=>{var n;if(t.isValidElement(e))n=t.cloneElement(e,r);else if("function"===typeof e)n=e(r);else{var a=ev("recharts-area-dot","boolean"!==typeof e?e.className:"");n=t.createElement(vz,iB({},r,{className:a}))}return n})(o,a)}),h={clipPath:i?"url(#clipPath-".concat(l?"":"dots-").concat(r,")"):void 0};return t.createElement(IM,iB({className:"recharts-area-dots"},h),d)}function uB(e){var{points:r,baseLine:n,needClip:a,clipPathId:i,props:o,showLabels:s}=e,{layout:l,type:c,stroke:u,connectNulls:d,isRange:h}=o,f=tB(o,ZV);return t.createElement(t.Fragment,null,(null===r||void 0===r?void 0:r.length)>1&&t.createElement(IM,{clipPath:a?"url(#clipPath-".concat(i,")"):void 0},t.createElement(oF,iB({},ED(f,!0),{points:r,connectNulls:d,type:c,baseLine:n,layout:l,stroke:"none",className:"recharts-area-area"})),"none"!==u&&t.createElement(oF,iB({},ED(o,!1),{className:"recharts-area-curve",layout:l,type:c,connectNulls:d,fill:"none",points:r})),"none"!==u&&h&&t.createElement(oF,iB({},ED(o,!1),{className:"recharts-area-curve",layout:l,type:c,connectNulls:d,fill:"none",points:n}))),t.createElement(cB,{points:r,props:o,clipPathId:i}),s&&Cz.renderCallByParent(o,r))}function dB(e){var{alpha:r,baseLine:n,points:a,strokeWidth:i}=e,o=a[0].y,s=a[a.length-1].y;if(!LA(o)||!LA(s))return null;var l=r*Math.abs(o-s),c=Math.max(...a.map(e=>e.x||0));return lv(n)?c=Math.max(n,c):n&&Array.isArray(n)&&n.length&&(c=Math.max(...n.map(e=>e.x||0),c)),lv(c)?t.createElement("rect",{x:0,y:o<s?o:o-l,width:c+(i?parseInt("".concat(i),10):1),height:Math.floor(l)}):null}function hB(e){var{alpha:r,baseLine:n,points:a,strokeWidth:i}=e,o=a[0].x,s=a[a.length-1].x;if(!LA(o)||!LA(s))return null;var l=r*Math.abs(o-s),c=Math.max(...a.map(e=>e.y||0));return lv(n)?c=Math.max(n,c):n&&Array.isArray(n)&&n.length&&(c=Math.max(...n.map(e=>e.y||0),c)),lv(c)?t.createElement("rect",{x:o<s?o:o-l,y:0,width:l,height:Math.floor(c+(i?parseInt("".concat(i),10):1))}):null}function fB(e){var{alpha:r,layout:n,points:a,baseLine:i,strokeWidth:o}=e;return"vertical"===n?t.createElement(dB,{alpha:r,points:a,baseLine:i,strokeWidth:o}):t.createElement(hB,{alpha:r,points:a,baseLine:i,strokeWidth:o})}function pB(e){var{needClip:r,clipPathId:n,props:a,previousPointsRef:i,previousBaselineRef:o}=e,{points:s,baseLine:l,isAnimationActive:c,animationBegin:u,animationDuration:d,animationEasing:h,onAnimationStart:f,onAnimationEnd:p}=a,m=mU(a,"recharts-area-"),[g,y]=(0,t.useState)(!0),v=(0,t.useCallback)(()=>{"function"===typeof p&&p(),y(!1)},[p]),b=(0,t.useCallback)(()=>{"function"===typeof f&&f(),y(!0)},[f]),x=i.current,w=o.current;return t.createElement(BF,{begin:u,duration:d,isActive:c,easing:h,from:{t:0},to:{t:1},onAnimationEnd:v,onAnimationStart:b,key:m},e=>{var{t:c}=e;if(x){var u,d=x.length/s.length,h=1===c?s:s.map((e,t)=>{var r=Math.floor(t*d);if(x[r]){var n=x[r];return nB(nB({},e),{},{x:mv(n.x,e.x,c),y:mv(n.y,e.y,c)})}return e});return u=lv(l)?mv(w,l,c):yv(l)||ov(l)?mv(w,0,c):l.map((e,t)=>{var r=Math.floor(t*d);if(Array.isArray(w)&&w[r]){var n=w[r];return nB(nB({},e),{},{x:mv(n.x,e.x,c),y:mv(n.y,e.y,c)})}return e}),c>0&&(i.current=h,o.current=u),t.createElement(uB,{points:h,baseLine:u,needClip:r,clipPathId:n,props:a,showLabels:!g})}return c>0&&(i.current=s,o.current=l),t.createElement(IM,null,t.createElement("defs",null,t.createElement("clipPath",{id:"animationClipPath-".concat(n)},t.createElement(fB,{alpha:c,points:s,baseLine:l,layout:a.layout,strokeWidth:a.strokeWidth}))),t.createElement(IM,{clipPath:"url(#animationClipPath-".concat(n,")")},t.createElement(uB,{points:s,baseLine:l,needClip:r,clipPathId:n,props:a,showLabels:!0})))})}function mB(e){var{needClip:r,clipPathId:n,props:a}=e,{points:i,baseLine:o,isAnimationActive:s}=a,l=(0,t.useRef)(null),c=(0,t.useRef)(),u=l.current,d=c.current;return s&&i&&i.length&&(u!==i||d!==o)?t.createElement(pB,{needClip:r,clipPathId:n,props:a,previousPointsRef:l,previousBaselineRef:c}):t.createElement(uB,{points:i,baseLine:o,needClip:r,clipPathId:n,props:a,showLabels:!0})}class gB extends t.PureComponent{constructor(){super(...arguments),aB(this,"id",dv("recharts-area-"))}render(){var e,{hide:r,dot:n,points:a,className:i,top:o,left:s,needClip:l,xAxisId:c,yAxisId:u,width:d,height:h,id:f,baseLine:p}=this.props;if(r)return null;var m=ev("recharts-area",i),g=yv(f)?this.id:f,{r:y=3,strokeWidth:v=2}=null!==(e=ED(n,!1))&&void 0!==e?e:{r:3,strokeWidth:2},b=ND(n),x=2*y+v;return t.createElement(t.Fragment,null,t.createElement(IM,{className:m},l&&t.createElement("defs",null,t.createElement(aU,{clipPathId:g,xAxisId:c,yAxisId:u}),!b&&t.createElement("clipPath",{id:"clipPath-dots-".concat(g)},t.createElement("rect",{x:s-x/2,y:o-x/2,width:d+x,height:h+x}))),t.createElement(mB,{needClip:l,clipPathId:g,props:this.props})),t.createElement(tU,{points:a,mainColor:oB(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}),this.props.isRange&&Array.isArray(p)&&t.createElement(tU,{points:p,mainColor:oB(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}))}}var yB={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:!hM,legendType:"line",stroke:"#3182bd",xAxisId:0,yAxisId:0};function vB(e){var r,n=iM(e,yB),{activeDot:a,animationBegin:i,animationDuration:o,animationEasing:s,connectNulls:l,dot:c,fill:u,fillOpacity:d,hide:h,isAnimationActive:f,legendType:p,stroke:m,xAxisId:g,yAxisId:y}=n,v=tB(n,eB),b=jj(),x=MI(),{needClip:w}=nU(g,y),k=fj(),j=(0,t.useMemo)(()=>({baseValue:e.baseValue,stackId:e.stackId,connectNulls:l,data:e.data,dataKey:e.dataKey}),[e.baseValue,e.stackId,l,e.data,e.dataKey]),{points:S,isRange:N,baseLine:E}=null!==(r=hk(e=>JV(e,g,y,k,j)))&&void 0!==r?r:{},{height:_,width:A,x:C,y:T}=JD();return"horizontal"!==b&&"vertical"!==b||"AreaChart"!==x&&"ComposedChart"!==x?null:t.createElement(gB,iB({},v,{activeDot:a,animationBegin:i,animationDuration:o,animationEasing:s,baseLine:E,connectNulls:l,dot:c,fill:u,fillOpacity:d,height:_,hide:h,layout:b,isAnimationActive:f,isRange:N,legendType:p,needClip:w,points:S,stroke:m,width:A,left:C,top:T,xAxisId:g,yAxisId:y}))}var bB=(e,t,r,n,a)=>{var i=null!==r&&void 0!==r?r:t;if(lv(i))return i;var o="horizontal"===e?a:n,s=o.scale.domain();if("number"===o.type){var l=Math.max(s[0],s[1]),c=Math.min(s[0],s[1]);return"dataMin"===i?c:"dataMax"===i||l<0?l:Math.max(Math.min(s[0],s[1]),0)}return"dataMin"===i?s[0]:"dataMax"===i?s[1]:s[0]};class xB extends t.PureComponent{render(){return t.createElement(Vz,{type:"area",data:this.props.data,dataKey:this.props.dataKey,xAxisId:this.props.xAxisId,yAxisId:this.props.yAxisId,zAxisId:0,stackId:this.props.stackId,hide:this.props.hide,barSize:void 0},t.createElement(fU,{legendPayload:sB(this.props)}),t.createElement(rU,{fn:lB,args:this.props}),t.createElement(vB,this.props))}}function wB(e){var r=lk();return(0,t.useEffect)(()=>{r(XP(e))},[r,e]),null}aB(xB,"displayName","Area"),aB(xB,"defaultProps",yB);var kB=["width","height","layout"];function jB(){return jB=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jB.apply(null,arguments)}var SB={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index",layout:"radial"},NB=(0,t.forwardRef)(function(e,r){var n,a=iM(e.categoricalChartProps,SB),{width:i,height:o,layout:s}=a,l=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(a,kB);if(!FA(i)||!FA(o))return null;var{chartName:c,defaultTooltipEventType:u,validateTooltipEventTypes:d,tooltipPayloadSearcher:h}=e,f={chartName:c,defaultTooltipEventType:u,validateTooltipEventTypes:d,tooltipPayloadSearcher:h,eventEmitter:void 0};return t.createElement(cD,{preloadedState:{options:f},reduxStoreName:null!==(n=a.id)&&void 0!==n?n:c},t.createElement(uD,{chartData:a.data}),t.createElement(dD,{width:i,height:o,layout:s,margin:a.margin}),t.createElement(hD,{accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className}),t.createElement(wB,{cx:a.cx,cy:a.cy,startAngle:a.startAngle,endAngle:a.endAngle,innerRadius:a.innerRadius,outerRadius:a.outerRadius}),t.createElement(rM,jB({width:i,height:o},l,{ref:r})))}),EB=["item"],_B={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},AB=(0,t.forwardRef)((e,r)=>{var n=iM(e,_B);return t.createElement(NB,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:EB,tooltipPayloadSearcher:kx,categoricalChartProps:n,ref:r})}),CB=e=>e.graphicalItems.polarItems,TB=nk([LC,FC],JC),OB=nk([CB,YC,TB],tT),IB=nk([OB],iT),PB=nk([IB,MA],sT),DB=nk([PB,YC,OB],cT),MB=nk([PB,YC,OB],(e,t,r)=>r.length>0?e.flatMap(e=>r.flatMap(r=>{var n;return{value:Rk(e,null!==(n=t.dataKey)&&void 0!==n?n:r.dataKey),errorDomain:[]}})).filter(Boolean):null!=(null===t||void 0===t?void 0:t.dataKey)?e.map(e=>({value:Rk(e,t.dataKey),errorDomain:[]})):e.map(e=>({value:e,errorDomain:[]}))),RB=()=>{},LB=nk([YC,LT,RB,MB,RB],FT),FB=nk([YC,kj,PB,DB,cC,LC,LB],VT),zB=nk([FB,YC,qT],KT);nk([YC,FB,zB,LC],GT);function UB(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function VB(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?UB(Object(r),!0).forEach(function(t){BB(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UB(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function BB(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var $B=(e,t)=>t,qB=[],HB=(e,t,r)=>0===(null===r||void 0===r?void 0:r.length)?qB:r,KB=nk([MA,$B,HB],(e,t,r)=>{var n,{chartData:a}=e;if((n=null!=(null===t||void 0===t?void 0:t.data)&&t.data.length>0?t.data:a)&&n.length||null==r||(n=r.map(e=>VB(VB({},t.presentationProps),e.props))),null!=n)return n}),WB=nk([KB,$B,HB],(e,t,r)=>{if(null!=e)return e.map((e,n)=>{var a,i,o=Rk(e,t.nameKey,t.name);return i=null!==r&&void 0!==r&&null!==(a=r[n])&&void 0!==a&&null!==(a=a.props)&&void 0!==a&&a.fill?r[n].props.fill:"object"===typeof e&&null!=e&&"fill"in e?e.fill:t.fill,{value:Xk(o,t.dataKey),color:i,payload:e,type:t.legendType}})}),GB=nk([CB,$B],(e,t)=>{if(e.some(e=>"pie"===e.type&&t.dataKey===e.dataKey&&t.data===e.data))return t}),YB=nk([KB,GB,HB,cj],(e,t,r,n)=>{if(null!=t&&null!=e)return function(e){var t,r,n,{pieSettings:a,displayedData:i,cells:o,offset:s}=e,{cornerRadius:l,startAngle:c,endAngle:u,dataKey:d,nameKey:h,tooltipType:f}=a,p=Math.abs(a.minAngle),m=k$(c,u),g=Math.abs(m),y=i.length<=1?0:null!==(t=a.paddingAngle)&&void 0!==t?t:0,v=i.filter(e=>0!==Rk(e,d,0)).length,b=g-v*p-(g>=360?v:v-1)*y,x=i.reduce((e,t)=>{var r=Rk(t,d,0);return e+(lv(r)?r:0)},0);x>0&&(r=i.map((e,t)=>{var r,i=Rk(e,d,0),u=Rk(e,h,t),g=w$(a,s,e),v=(lv(i)?i:0)/x,w=m$(m$({},e),o&&o[t]&&o[t].props),k=(r=t?n.endAngle+iv(m)*y*(0!==i?1:0):c)+iv(m)*((0!==i?p:0)+v*b),j=(r+k)/2,S=(g.innerRadius+g.outerRadius)/2,N=[{name:u,value:i,payload:w,dataKey:d,type:f}],E=Ak(g.cx,g.cy,S,j);return n=m$(m$(m$(m$({},a.presentationProps),{},{percent:v,cornerRadius:l,name:u,tooltipPayload:N,midAngle:j,middleRadius:S,tooltipPosition:E},w),g),{},{value:Rk(e,d),startAngle:r,endAngle:k,payload:w,paddingAngle:iv(m)*y})}));return r}({offset:n,pieSettings:t,displayedData:e,cells:r})}),QB=e=>null;QB.displayName="Cell";var XB=r(9397),JB=r.n(XB);function ZB(){return ZB=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ZB.apply(null,arguments)}var e$=(e,t,r,n,a)=>{var i,o=r-n;return i="M ".concat(e,",").concat(t),i+="L ".concat(e+r,",").concat(t),i+="L ".concat(e+r-o/2,",").concat(t+a),i+="L ".concat(e+r-o/2-n,",").concat(t+a),i+="L ".concat(e,",").concat(t," Z")},t$={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},r$=e=>{var r=iM(e,t$),n=(0,t.useRef)(),[a,i]=(0,t.useState)(-1);(0,t.useEffect)(()=>{if(n.current&&n.current.getTotalLength)try{var e=n.current.getTotalLength();e&&i(e)}catch(t){}},[]);var{x:o,y:s,upperWidth:l,lowerWidth:c,height:u,className:d}=r,{animationEasing:h,animationDuration:f,animationBegin:p,isUpdateAnimationActive:m}=r;if(o!==+o||s!==+s||l!==+l||c!==+c||u!==+u||0===l&&0===c||0===u)return null;var g=ev("recharts-trapezoid",d);return m?t.createElement(BF,{canBegin:a>0,from:{upperWidth:0,lowerWidth:0,height:u,x:o,y:s},to:{upperWidth:l,lowerWidth:c,height:u,x:o,y:s},duration:f,animationEasing:h,isActive:m},e=>{var{upperWidth:i,lowerWidth:o,height:s,x:l,y:c}=e;return t.createElement(BF,{canBegin:a>0,from:"0px ".concat(-1===a?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:p,duration:f,easing:h},t.createElement("path",ZB({},ED(r,!0),{className:g,d:e$(l,c,i,o,s),ref:n})))}):t.createElement("g",null,t.createElement("path",ZB({},ED(r,!0),{className:g,d:e$(o,s,l,c,u)})))},n$=["option","shapeType","propTransformer","activeClassName","isActive"];function a$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function i$(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a$(Object(r),!0).forEach(function(t){o$(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a$(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function o$(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s$(e,t){return i$(i$({},t),e)}function l$(e){var{shapeType:r,elementProps:n}=e;switch(r){case"rectangle":return t.createElement(KF,n);case"trapezoid":return t.createElement(r$,n);case"sector":return t.createElement(JF,n);case"symbols":if(function(e){return"symbols"===e}(r))return t.createElement(CV,n);break;default:return null}}function c$(e){var r,{option:n,shapeType:a,propTransformer:i=s$,activeClassName:o="recharts-active-shape",isActive:s}=e,l=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,n$);if((0,t.isValidElement)(n))r=(0,t.cloneElement)(n,i$(i$({},l),function(e){return(0,t.isValidElement)(e)?e.props:e}(n)));else if("function"===typeof n)r=n(l);else if(JB()(n)&&"boolean"!==typeof n){var c=i(n,l);r=t.createElement(l$,{shapeType:a,elementProps:c})}else{var u=l;r=t.createElement(l$,{shapeType:a,elementProps:u})}return s?t.createElement(IM,{className:o},r):r}var u$=(e,t)=>{var r=lk();return(n,a)=>i=>{null===e||void 0===e||e(n,a,i),r(Tw({activeIndex:String(a),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}},d$=e=>{var t=lk();return(r,n)=>a=>{null===e||void 0===e||e(r,n,a),t(Ow())}},h$=(e,t)=>{var r=lk();return(n,a)=>i=>{null===e||void 0===e||e(n,a,i),r(Pw({activeIndex:String(a),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}},f$=["onMouseEnter","onClick","onMouseLeave"];function p$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function m$(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p$(Object(r),!0).forEach(function(t){g$(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p$(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function g$(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y$(){return y$=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},y$.apply(null,arguments)}function v$(e){var r=(0,t.useMemo)(()=>ED(e,!1),[e]),n=(0,t.useMemo)(()=>SD(e.children,QB),[e.children]),a=(0,t.useMemo)(()=>({name:e.name,nameKey:e.nameKey,tooltipType:e.tooltipType,data:e.data,dataKey:e.dataKey,cx:e.cx,cy:e.cy,startAngle:e.startAngle,endAngle:e.endAngle,minAngle:e.minAngle,paddingAngle:e.paddingAngle,innerRadius:e.innerRadius,outerRadius:e.outerRadius,cornerRadius:e.cornerRadius,legendType:e.legendType,fill:e.fill,presentationProps:r}),[e.cornerRadius,e.cx,e.cy,e.data,e.dataKey,e.endAngle,e.innerRadius,e.minAngle,e.name,e.nameKey,e.outerRadius,e.paddingAngle,e.startAngle,e.tooltipType,e.legendType,e.fill,r]),i=hk(e=>WB(e,a,n));return t.createElement(pU,{legendPayload:i})}function b$(e){var{dataKey:t,nameKey:r,sectors:n,stroke:a,strokeWidth:i,fill:o,name:s,hide:l,tooltipType:c}=e;return{dataDefinedOnItem:null===n||void 0===n?void 0:n.map(e=>e.tooltipPayload),positions:null===n||void 0===n?void 0:n.map(e=>e.tooltipPosition),settings:{stroke:a,strokeWidth:i,fill:o,dataKey:t,nameKey:r,name:Xk(s,t),hide:l,type:c,color:o,unit:""}}}var x$=(e,t)=>e>t?"start":e<t?"end":"middle",w$=(e,t,r)=>{var{top:n,left:a,width:i,height:o}=t,s=Ck(i,o),l=a+hv(e.cx,i,i/2),c=n+hv(e.cy,o,o/2),u=hv(e.innerRadius,s,0),d=((e,t,r)=>"function"===typeof t?t(e):hv(t,r,.8*r))(r,e.outerRadius,s);return{cx:l,cy:c,innerRadius:u,outerRadius:d,maxRadius:e.maxRadius||Math.sqrt(i*i+o*o)/2}},k$=(e,t)=>iv(t-e)*Math.min(Math.abs(t-e),360);function j$(e){var{sectors:r,props:n,showLabels:a}=e,{label:i,labelLine:o,dataKey:s}=n;if(!a||!i||!r)return null;var l=ED(n,!1),c=ED(i,!1),u=ED(o,!1),d="object"===typeof i&&"offsetRadius"in i&&i.offsetRadius||20,h=r.map((e,r)=>{var n=(e.startAngle+e.endAngle)/2,a=Ak(e.cx,e.cy,e.outerRadius+d,n),h=m$(m$(m$(m$({},l),e),{},{stroke:"none"},c),{},{index:r,textAnchor:x$(a.x,e.cx)},a),f=m$(m$(m$(m$({},l),e),{},{fill:"none",stroke:e.fill},u),{},{index:r,points:[Ak(e.cx,e.cy,e.outerRadius,n),a],key:"line"});return t.createElement(IM,{key:"label-".concat(e.startAngle,"-").concat(e.endAngle,"-").concat(e.midAngle,"-").concat(r)},o&&((e,r)=>{if(t.isValidElement(e))return t.cloneElement(e,r);if("function"===typeof e)return e(r);var n=ev("recharts-pie-label-line","boolean"!==typeof e?e.className:"");return t.createElement(oF,y$({},r,{type:"linear",className:n}))})(o,f),((e,r,n)=>{if(t.isValidElement(e))return t.cloneElement(e,r);var a=n;if("function"===typeof e&&(a=e(r),t.isValidElement(a)))return a;var i=ev("recharts-pie-label-text","boolean"!==typeof e&&"function"!==typeof e?e.className:"");return t.createElement(eR,y$({},r,{alignmentBaseline:"middle",className:i}),a)})(i,h,Rk(e,s)))});return t.createElement(IM,{className:"recharts-pie-labels"},h)}function S$(e){var{sectors:r,activeShape:n,inactiveShape:a,allOtherPieProps:i,showLabels:o}=e,s=hk(EI),{onMouseEnter:l,onClick:c,onMouseLeave:u}=i,d=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(i,f$),h=u$(l,i.dataKey),f=d$(u),p=h$(c,i.dataKey);return null==r?null:t.createElement(t.Fragment,null,r.map((e,o)=>{if(0===(null===e||void 0===e?void 0:e.startAngle)&&0===(null===e||void 0===e?void 0:e.endAngle)&&1!==r.length)return null;var l=n&&String(o)===s,c=l?n:s?a:null,u=m$(m$({},e),{},{stroke:e.stroke,tabIndex:-1,[aj]:o,[ij]:i.dataKey});return t.createElement(IM,y$({tabIndex:-1,className:"recharts-pie-sector"},bD(d,e,o),{onMouseEnter:h(e,o),onMouseLeave:f(e,o),onClick:p(e,o),key:"sector-".concat(null===e||void 0===e?void 0:e.startAngle,"-").concat(null===e||void 0===e?void 0:e.endAngle,"-").concat(e.midAngle,"-").concat(o)}),t.createElement(c$,y$({option:c,isActive:l,shapeType:"sector"},u)))}),t.createElement(j$,{sectors:r,props:i,showLabels:o}))}function N$(e){var{props:r,previousSectorsRef:n}=e,{sectors:a,isAnimationActive:i,animationBegin:o,animationDuration:s,animationEasing:l,activeShape:c,inactiveShape:u,onAnimationStart:d,onAnimationEnd:h}=r,f=mU(r,"recharts-pie-"),p=n.current,[m,g]=(0,t.useState)(!0),y=(0,t.useCallback)(()=>{"function"===typeof h&&h(),g(!1)},[h]),v=(0,t.useCallback)(()=>{"function"===typeof d&&d(),g(!0)},[d]);return t.createElement(BF,{begin:o,duration:s,isActive:i,easing:l,from:{t:0},to:{t:1},onAnimationStart:v,onAnimationEnd:y,key:f},e=>{var{t:i}=e,o=[],s=(a&&a[0]).startAngle;return a.forEach((e,t)=>{var r=p&&p[t],n=t>0?av()(e,"paddingAngle",0):0;if(r){var a=pv(r.endAngle-r.startAngle,e.endAngle-e.startAngle),l=m$(m$({},e),{},{startAngle:s+n,endAngle:s+a(i)+n});o.push(l),s=l.endAngle}else{var{endAngle:c,startAngle:u}=e,d=pv(0,c-u)(i),h=m$(m$({},e),{},{startAngle:s+n,endAngle:s+d+n});o.push(h),s=h.endAngle}}),n.current=o,t.createElement(IM,null,t.createElement(S$,{sectors:o,activeShape:c,inactiveShape:u,allOtherPieProps:r,showLabels:!m}))})}function E$(e){var{sectors:r,isAnimationActive:n,activeShape:a,inactiveShape:i}=e,o=(0,t.useRef)(null),s=o.current;return n&&r&&r.length&&(!s||s!==r)?t.createElement(N$,{props:e,previousSectorsRef:o}):t.createElement(S$,{sectors:r,activeShape:a,inactiveShape:i,allOtherPieProps:e,showLabels:!0})}function _$(e){var{hide:r,className:n,rootTabIndex:a}=e,i=ev("recharts-pie",n);return r?null:t.createElement(IM,{tabIndex:a,className:i},t.createElement(E$,e))}var A$={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!hM,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function C$(e){var r=iM(e,A$),n=(0,t.useMemo)(()=>SD(e.children,QB),[e.children]),a=ED(r,!1),i=(0,t.useMemo)(()=>({name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,data:r.data,dataKey:r.dataKey,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,minAngle:r.minAngle,paddingAngle:r.paddingAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,legendType:r.legendType,fill:r.fill,presentationProps:a}),[r.cornerRadius,r.cx,r.cy,r.data,r.dataKey,r.endAngle,r.innerRadius,r.minAngle,r.name,r.nameKey,r.outerRadius,r.paddingAngle,r.startAngle,r.tooltipType,r.legendType,r.fill,a]),o=hk(e=>YB(e,i,n));return t.createElement(t.Fragment,null,t.createElement(rU,{fn:b$,args:m$(m$({},r),{},{sectors:o})}),t.createElement(_$,y$({},r,{sectors:o})))}class T$ extends t.PureComponent{constructor(){super(...arguments),g$(this,"id",dv("recharts-pie-"))}render(){return t.createElement(t.Fragment,null,t.createElement(Dz,{data:this.props.data,dataKey:this.props.dataKey,hide:this.props.hide,angleAxisId:0,radiusAxisId:0,stackId:void 0,barSize:void 0,type:"pie"}),t.createElement(v$,this.props),t.createElement(C$,this.props),this.props.children)}}g$(T$,"displayName","Pie"),g$(T$,"defaultProps",A$);var O$=["axis","item"],I$=(0,t.forwardRef)((e,r)=>t.createElement(cM,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:O$,tooltipPayloadSearcher:kx,categoricalChartProps:e,ref:r})),P$="Invariant failed";var D$=["x","y"];function M$(){return M$=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},M$.apply(null,arguments)}function R$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function L$(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?R$(Object(r),!0).forEach(function(t){F$(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):R$(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function F$(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function z$(e,t){var{x:r,y:n}=e,a=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,D$),i="".concat(r),o=parseInt(i,10),s="".concat(n),l=parseInt(s,10),c="".concat(t.height||a.height),u=parseInt(c,10),d="".concat(t.width||a.width),h=parseInt(d,10);return L$(L$(L$(L$(L$({},t),a),o?{x:o}:{}),l?{y:l}:{}),{},{height:u,width:h,name:t.name,radius:t.radius})}function U$(e){return t.createElement(c$,M$({shapeType:"rectangle",propTransformer:z$,activeClassName:"recharts-active-bar"},e))}var V$=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(r,n)=>{if(lv(e))return e;var a=lv(r)||yv(r);return a?e(r,n):(a||function(e){if(!e)throw new Error(P$)}(!1),t)}},B$=()=>{var e=lk();return(0,t.useEffect)(()=>(e(pP()),()=>{e(mP())})),null};function $$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function q$(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?$$(Object(r),!0).forEach(function(t){H$(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$$(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function H$(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var K$=(e,t,r,n,a)=>a,W$=(e,t,r)=>{var n=null!==r&&void 0!==r?r:e;if(!yv(n))return hv(n,t,0)},G$=nk([kj,ZC,(e,t)=>t,(e,t,r)=>r,(e,t,r,n)=>n],(e,t,r,n,a)=>t.filter(t=>"horizontal"===e?t.xAxisId===r:t.yAxisId===n).filter(e=>e.isPanorama===a).filter(e=>!1===e.hide).filter(e=>"bar"===e.type));function Y$(e){return null!=e.stackId&&null!=e.dataKey}var Q$=nk([G$,e=>e.rootProps.barSize,(e,t,r)=>"horizontal"===kj(e)?mO(e,"xAxis",t):mO(e,"yAxis",r)],(e,t,r)=>{var n=e.filter(Y$),a=e.filter(e=>null==e.stackId),i=n.reduce((e,t)=>(e[t.stackId]||(e[t.stackId]=[]),e[t.stackId].push(t),e),{});return[...Object.entries(i).map(e=>{var[n,a]=e;return{stackId:n,dataKeys:a.map(e=>e.dataKey),barSize:W$(t,r,a[0].barSize)}}),...a.map(e=>({stackId:void 0,dataKeys:[e.dataKey].filter(e=>null!=e),barSize:W$(t,r,e.barSize)}))]}),X$=(e,t,r,n)=>{var a,i;return"horizontal"===kj(e)?(a=jO(e,"xAxis",t,n),i=kO(e,"xAxis",t,n)):(a=jO(e,"yAxis",r,n),i=kO(e,"yAxis",r,n)),Yk(a,i)};var J$=nk([Q$,sC,e=>e.rootProps.barGap,lC,(e,t,r,n,a)=>{var i,o,s,l,c=kj(e),u=sC(e),{maxBarSize:d}=a,h=yv(d)?u:d;return"horizontal"===c?(s=jO(e,"xAxis",t,n),l=kO(e,"xAxis",t,n)):(s=jO(e,"yAxis",r,n),l=kO(e,"yAxis",r,n)),null!==(i=null!==(o=Yk(s,l,!0))&&void 0!==o?o:h)&&void 0!==i?i:0},X$,(e,t,r,n,a)=>a.maxBarSize],(e,t,r,n,a,i,o)=>{var s=yv(o)?t:o,l=function(e,t,r,n,a){var i=n.length;if(!(i<1)){var o,s=hv(e,r,0,!0),l=[];if(LA(n[0].barSize)){var c=!1,u=r/i,d=n.reduce((e,t)=>e+(t.barSize||0),0);(d+=(i-1)*s)>=r&&(d-=(i-1)*s,s=0),d>=r&&u>0&&(c=!0,d=i*(u*=.9));var h={offset:((r-d)/2|0)-s,size:0};o=n.reduce((e,t)=>{var r,n=[...e,{stackId:t.stackId,dataKeys:t.dataKeys,position:{offset:h.offset+h.size+s,size:c?u:null!==(r=t.barSize)&&void 0!==r?r:0}}];return h=n[n.length-1].position,n},l)}else{var f=hv(t,r,0,!0);r-2*f-(i-1)*s<=0&&(s=0);var p=(r-2*f-(i-1)*s)/i;p>1&&(p>>=0);var m=LA(a)?Math.min(p,a):p;o=n.reduce((e,t,r)=>[...e,{stackId:t.stackId,dataKeys:t.dataKeys,position:{offset:f+(p+s)*r+(p-m)/2,size:m}}],l)}return o}}(r,n,a!==i?a:i,e,s);return a!==i&&null!=l&&(l=l.map(e=>q$(q$({},e),{},{position:q$(q$({},e.position),{},{offset:e.position.offset-a/2})}))),l}),Z$=nk([J$,K$],(e,t)=>{if(null!=e){var r=e.find(e=>e.stackId===t.stackId&&e.dataKeys.includes(t.dataKey));if(null!=r)return r.position}}),eq=nk([ZC,K$],(e,t)=>{if(e.some(e=>"bar"===e.type&&t.dataKey===e.dataKey&&t.stackId===e.stackId&&t.stackId===e.stackId))return t}),tq=nk([(e,t,r,n)=>"horizontal"===kj(e)?mT(e,"yAxis",r,n):mT(e,"xAxis",t,n),K$],(e,t)=>{if(e&&null!=(null===t||void 0===t?void 0:t.dataKey)){var{stackId:r}=t;if(null!=r){var n=e[r];if(n){var{stackedData:a}=n;if(a)return a.find(e=>e.key===t.dataKey)}}}}),rq=nk([cj,(e,t,r,n)=>jO(e,"xAxis",t,n),(e,t,r,n)=>jO(e,"yAxis",r,n),(e,t,r,n)=>kO(e,"xAxis",t,n),(e,t,r,n)=>kO(e,"yAxis",r,n),Z$,kj,RA,X$,tq,eq,(e,t,r,n,a,i)=>i],(e,t,r,n,a,i,o,s,l,c,u,d)=>{var{chartData:h,dataStartIndex:f,dataEndIndex:p}=s;if(null!=u&&null!=i&&("horizontal"===o||"vertical"===o)&&null!=t&&null!=r&&null!=n&&null!=a&&null!=l){var m,{data:g}=u;if(null!=(m=null!=g&&g.length>0?g:null===h||void 0===h?void 0:h.slice(f,p+1)))return function(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:a,bandSize:i,xAxis:o,yAxis:s,xAxisTicks:l,yAxisTicks:c,stackedData:u,displayedData:d,offset:h,cells:f}=e,p="horizontal"===t?s:o,m=u?p.scale.domain():null,g=(e=>{var{numericAxis:t}=e,r=t.scale.domain();if("number"===t.type){var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return n<=0&&a>=0?0:a<0?a:n}return r[0]})({numericAxis:p});return d.map((e,d)=>{var p,y,v,b,x,w;u?p=((e,t)=>{if(!t||2!==t.length||!lv(t[0])||!lv(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),a=[e[0],e[1]];return(!lv(e[0])||e[0]<r)&&(a[0]=r),(!lv(e[1])||e[1]>n)&&(a[1]=n),a[0]>n&&(a[0]=n),a[1]<r&&(a[1]=r),a})(u[d],m):(p=Rk(e,r),Array.isArray(p)||(p=[g,p]));var k=V$(n,yq)(p[1],d);if("horizontal"===t){var j,[S,N]=[s.scale(p[0]),s.scale(p[1])];y=Hk({axis:o,ticks:l,bandSize:i,offset:a.offset,entry:e,index:d}),v=null!==(j=null!==N&&void 0!==N?N:S)&&void 0!==j?j:void 0,b=a.size;var E=S-N;if(x=ov(E)?0:E,w={x:y,y:h.top,width:b,height:h.height},Math.abs(k)>0&&Math.abs(x)<Math.abs(k)){var _=iv(x||k)*(Math.abs(k)-Math.abs(x));v-=_,x+=_}}else{var[A,C]=[o.scale(p[0]),o.scale(p[1])];if(y=A,v=Hk({axis:s,ticks:c,bandSize:i,offset:a.offset,entry:e,index:d}),b=C-A,x=a.size,w={x:h.left,y:v,width:h.width,height:x},Math.abs(k)>0&&Math.abs(b)<Math.abs(k))b+=iv(b||k)*(Math.abs(k)-Math.abs(b))}return lq(lq({},e),{},{x:y,y:v,width:b,height:x,value:u?p:p[1],payload:e,background:w,tooltipPosition:{x:y+b/2,y:v+x/2}},f&&f[d]&&f[d].props)})}({layout:o,barSettings:u,pos:i,bandSize:l,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:a,stackedData:c,displayedData:m,offset:e,cells:d})}}),nq=["onMouseEnter","onMouseLeave","onClick"],aq=["value","background","tooltipPosition"],iq=["onMouseEnter","onClick","onMouseLeave"];function oq(){return oq=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},oq.apply(null,arguments)}function sq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function lq(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?sq(Object(r),!0).forEach(function(t){cq(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sq(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function cq(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uq(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var dq=e=>{var{dataKey:t,name:r,fill:n,legendType:a,hide:i}=e;return[{inactive:i,dataKey:t,type:a,color:n,value:Xk(r,t),payload:e}]};function hq(e){var{dataKey:t,stroke:r,strokeWidth:n,fill:a,name:i,hide:o,unit:s}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:a,dataKey:t,nameKey:void 0,name:Xk(i,t),hide:o,type:e.tooltipType,color:e.fill,unit:s}}}function fq(e){var r=hk(EI),{data:n,dataKey:a,background:i,allOtherBarProps:o}=e,{onMouseEnter:s,onMouseLeave:l,onClick:c}=o,u=uq(o,nq),d=u$(s,a),h=d$(l),f=h$(c,a);if(!i||null==n)return null;var p=ED(i,!1);return t.createElement(t.Fragment,null,n.map((e,n)=>{var{value:o,background:s,tooltipPosition:l}=e,c=uq(e,aq);if(!s)return null;var m=d(e,n),g=h(e,n),y=f(e,n),v=lq(lq(lq(lq(lq({option:i,isActive:String(n)===r},c),{},{fill:"#eee"},s),p),bD(u,e,n)),{},{onMouseEnter:m,onMouseLeave:g,onClick:y,dataKey:a,index:n,className:"recharts-bar-background-rectangle"});return t.createElement(U$,oq({key:"background-bar-".concat(n)},v))}))}function pq(e){var{data:r,props:n,showLabels:a}=e,i=ED(n,!1),{shape:o,dataKey:s,activeBar:l}=n,c=hk(EI),u=hk(AI),{onMouseEnter:d,onClick:h,onMouseLeave:f}=n,p=uq(n,iq),m=u$(d,s),g=d$(f),y=h$(h,s);return r?t.createElement(t.Fragment,null,r.map((e,r)=>{var n=l&&String(r)===c&&(null==u||s===u),a=n?l:o,d=lq(lq(lq({},i),e),{},{isActive:n,option:a,index:r,dataKey:s});return t.createElement(IM,oq({className:"recharts-bar-rectangle"},bD(p,e,r),{onMouseEnter:m(e,r),onMouseLeave:g(e,r),onClick:y(e,r),key:"rectangle-".concat(null===e||void 0===e?void 0:e.x,"-").concat(null===e||void 0===e?void 0:e.y,"-").concat(null===e||void 0===e?void 0:e.value,"-").concat(r)}),t.createElement(U$,d))}),a&&Cz.renderCallByParent(n,r)):null}function mq(e){var{props:r,previousRectanglesRef:n}=e,{data:a,layout:i,isAnimationActive:o,animationBegin:s,animationDuration:l,animationEasing:c,onAnimationEnd:u,onAnimationStart:d}=r,h=n.current,f=mU(r,"recharts-bar-"),[p,m]=(0,t.useState)(!1),g=(0,t.useCallback)(()=>{"function"===typeof u&&u(),m(!1)},[u]),y=(0,t.useCallback)(()=>{"function"===typeof d&&d(),m(!0)},[d]);return t.createElement(BF,{begin:s,duration:l,isActive:o,easing:c,from:{t:0},to:{t:1},onAnimationEnd:g,onAnimationStart:y,key:f},e=>{var{t:o}=e,s=1===o?a:a.map((e,t)=>{var r=h&&h[t];if(r){var n=pv(r.x,e.x),a=pv(r.y,e.y),s=pv(r.width,e.width),l=pv(r.height,e.height);return lq(lq({},e),{},{x:n(o),y:a(o),width:s(o),height:l(o)})}if("horizontal"===i){var c=pv(0,e.height)(o);return lq(lq({},e),{},{y:e.y+e.height-c,height:c})}var u=pv(0,e.width)(o);return lq(lq({},e),{},{width:u})});return o>0&&(n.current=s),t.createElement(IM,null,t.createElement(pq,{props:r,data:s,showLabels:!p}))})}function gq(e){var{data:r,isAnimationActive:n}=e,a=(0,t.useRef)(null);return n&&r&&r.length&&(null==a.current||a.current!==r)?t.createElement(mq,{previousRectanglesRef:a,props:e}):t.createElement(pq,{props:e,data:r,showLabels:!0})}var yq=0,vq=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:Rk(e,t)}};class bq extends t.PureComponent{constructor(){super(...arguments),cq(this,"id",dv("recharts-bar-"))}render(){var{hide:e,data:r,dataKey:n,className:a,xAxisId:i,yAxisId:o,needClip:s,background:l,id:c,layout:u}=this.props;if(e)return null;var d=ev("recharts-bar",a),h=yv(c)?this.id:c;return t.createElement(IM,{className:d},s&&t.createElement("defs",null,t.createElement(aU,{clipPathId:h,xAxisId:i,yAxisId:o})),t.createElement(IM,{className:"recharts-bar-rectangles",clipPath:s?"url(#clipPath-".concat(h,")"):null},t.createElement(fq,{data:r,dataKey:n,background:l,allOtherBarProps:this.props}),t.createElement(gq,this.props)),t.createElement(Gz,{direction:"horizontal"===u?"y":"x"},this.props.children))}}var xq={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!hM,legendType:"rect",minPointSize:yq,xAxisId:0,yAxisId:0};function wq(e){var r,{xAxisId:n,yAxisId:a,hide:i,legendType:o,minPointSize:s,activeBar:l,animationBegin:c,animationDuration:u,animationEasing:d,isAnimationActive:h}=iM(e,xq),{needClip:f}=nU(n,a),p=jj(),m=fj(),g=(0,t.useMemo)(()=>({barSize:e.barSize,data:void 0,dataKey:e.dataKey,maxBarSize:e.maxBarSize,minPointSize:s,stackId:$k(e.stackId)}),[e.barSize,e.dataKey,e.maxBarSize,s,e.stackId]),y=SD(e.children,QB),v=hk(e=>rq(e,n,a,m,g,y));if("vertical"!==p&&"horizontal"!==p)return null;var b=null===v||void 0===v?void 0:v[0];return r=null==b||null==b.height||null==b.width?0:"vertical"===p?b.height/2:b.width/2,t.createElement(Uz,{xAxisId:n,yAxisId:a,data:v,dataPointFormatter:vq,errorBarOffset:r},t.createElement(bq,oq({},e,{layout:p,needClip:f,data:v,xAxisId:n,yAxisId:a,hide:i,legendType:o,minPointSize:s,activeBar:l,animationBegin:c,animationDuration:u,animationEasing:d,isAnimationActive:h})))}class kq extends t.PureComponent{render(){return t.createElement(Vz,{type:"bar",data:null,xAxisId:this.props.xAxisId,yAxisId:this.props.yAxisId,zAxisId:0,dataKey:this.props.dataKey,stackId:this.props.stackId,hide:this.props.hide,barSize:this.props.barSize},t.createElement(B$,null),t.createElement(fU,{legendPayload:dq(this.props)}),t.createElement(rU,{fn:hq,args:this.props}),t.createElement(wq,this.props))}}cq(kq,"displayName","Bar"),cq(kq,"defaultProps",xq);const jq={categoryColors:["#f97316","#3b82f6","#22c55e","#8b5cf6","#f59e0b","#ef4444","#14b8a6","#f43f5e","#6366f1","#84cc16","#06b6d4","#d946ef","#f97316","#10b981","#f59e0b"],accountColors:{bank:["#3b82f6","#2563eb","#1d4ed8","#1e40af","#1e3a8a","#6366f1","#4f46e5","#4338ca"],crypto:["#f97316","#ea580c","#d97706","#b45309","#92400e","#f59e0b","#d97706","#b45309"]}},Sq={income:["Salary","Gift","Payouts","Gambling","Investments","Business","Freelance","Rental Income","Interest","Dividends","Bonus","Commission","Refunds","Other Income"],expense:["Food & Dining","Travel","Entertainment","Friends & Family","Shopping","Utilities","Healthcare","Personal Care","Gifts & Donations","Bills","Groceries","Vehicle","Subscriptions","Hobbies","Eval","Other Expenses"]};const Nq=function(e){var r,n;let{accounts:a,transactions:i}=e;const{currentUser:o}=iy(),[s,l]=(0,t.useState)("thisYear"),[c,u]=(0,t.useState)("all"),[d,h]=(0,t.useState)("overview"),[f,p]=(0,t.useState)(!1),[m,g]=(0,t.useState)("all"),[y,v]=(0,t.useState)((new Date).getFullYear()),[b,x]=(0,t.useState)([]);(0,t.useEffect)(()=>{(async()=>{if(o)try{const e=Eg(Fm(ry,"users",o.uid,"netWorthSnapshots"),Og("date","desc")),t=await $g(e),r={};t.docs.forEach(e=>{r[e.id]=e.data()}),x(r)}catch(e){console.error("Error loading net worth snapshots:",e)}})()},[o]);const w=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"INR";return new Intl.NumberFormat("en-IN",{style:"currency",currency:t,minimumFractionDigits:"USD"===t?2:0,maximumFractionDigits:"USD"===t?2:0}).format(e)},k=e=>{const t=Math.abs(e);return t>=1e7?(e/1e7).toFixed(1).replace(/\.0$/,"")+"Cr":t>=1e5?(e/1e5).toFixed(1).replace(/\.0$/,"")+"L":t>=1e3?(e/1e3).toFixed(0)+"k":e.toString()},j=(e,t)=>"USD"===t?84*e:e,S=e=>{const t=new Date,r=0===i.length?new Date:new Date(Math.min(...i.map(e=>new Date(e.date))));let n=new Date;switch(e){case"thisWeek":n.setDate(t.getDate()-t.getDay()),n.setHours(0,0,0,0);break;case"thisMonth":n=new Date(t.getFullYear(),t.getMonth(),1);break;case"thisYear":default:n=new Date(t.getFullYear(),0,1);break;case"allTime":n=r}return n<r&&(n=r),{start:n,end:t}},N=(0,t.useMemo)(()=>{const{start:e,end:t}=S(s);return i.filter(r=>{const n=new Date(r.date),a=n>=e&&n<=t,i="all"===c||r.accountId===c,o="all"===m||r.category===m;return a&&i&&o})},[i,s,c,m]),E=(0,t.useMemo)(()=>{const e=N.filter(e=>"income"===e.type).reduce((e,t)=>e+j(t.amount,t.currency),0),t=N.filter(e=>"expense"===e.type).reduce((e,t)=>e+j(t.amount,t.currency),0),r=e-t,n=e>0?r/e*100:0,o=a.reduce((e,t)=>e+j(t.balance,t.currency),0),{start:l,end:c}=S(s),u=new Date(l),d=new Date(l);d.setTime(d.getTime()-(c.getTime()-l.getTime()));const h=i.filter(e=>{const t=new Date(e.date);return t>=d&&t<=u}),f=h.filter(e=>"income"===e.type).reduce((e,t)=>e+j(t.amount,t.currency),0),p=h.filter(e=>"expense"===e.type).reduce((e,t)=>e+j(t.amount,t.currency),0);return{totalIncome:e,totalExpense:t,netSavings:r,savingsRate:n,currentNetWorth:o,transactionCount:N.length,avgTransactionAmount:N.length>0?N.reduce((e,t)=>e+j(t.amount,t.currency),0)/N.length:0,incomeGrowth:f>0?(e-f)/f*100:0,expenseGrowth:p>0?(t-p)/p*100:0}},[N,a,i,s]),_=(0,t.useMemo)(()=>{const e={},{start:t}=S(s);for(let a=new Date(t);a<=new Date;a.setMonth(a.getMonth()+1)){const t=a.toISOString().slice(0,7);e[t]={month:a.toLocaleDateString("en-IN",{month:"short",year:"2-digit"}),income:0,expense:0,transactions:0}}N.forEach(t=>{const r=t.date.slice(0,7);if(e[r]){const n=j(t.amount,t.currency);"income"===t.type?e[r].income+=n:"expense"===t.type&&(e[r].expense+=n),e[r].transactions+=1}});const r=Object.entries(e).sort((e,t)=>{let[r]=e,[n]=t;return r.localeCompare(n)}).map(e=>{let[t,r]=e;const[n,a]=t.split("-");let i=null;for(let o=new Date(parseInt(n),parseInt(a)-1+1,0).getDate();o>=1;o--){const e=`${n}-${a}-${String(o).padStart(2,"0")}`;if(b[e]){i=b[e].totalNetWorth;break}}return"2025"===n&&"01"===a&&null===i&&(i=95e4),null===i&&t===(new Date).toISOString().slice(0,7)&&(i=E.currentNetWorth),{...r,netWorth:i||0,savings:r.income-r.expense}}),n={};Sq.expense.forEach(e=>{n[e]=0}),N.filter(e=>"expense"===e.type).forEach(e=>{const t=e.category||"Other Expenses";void 0!==n[t]?n[t]+=j(e.amount,e.currency):n["Other Expenses"]+=j(e.amount,e.currency)});const i=Object.entries(n).filter(e=>{let[t,r]=e;return r>0}).sort((e,t)=>{let[r,n]=e,[a,i]=t;return i-n}).slice(0,8).map((e,t)=>{let[r,n]=e;return{name:r,value:n,percentage:E.totalExpense>0?n/E.totalExpense*100:0,color:jq.categoryColors[t%jq.categoryColors.length]}}),o=["#3b82f6","#f97316","#22c55e","#8b5cf6","#ef4444","#14b8a6","#f59e0b","#6366f1","#84cc16","#f43f5e"],l=a.filter(e=>!e.isDeleted).map((e,t)=>({name:e.name,value:j(e.balance,e.currency),currency:e.currency,type:e.type,percentage:E.currentNetWorth>0?j(e.balance,e.currency)/E.currentNetWorth*100:0,color:o[t%o.length]})).sort((e,t)=>t.value-e.value);return{monthly:r,categories:i,accounts:l}},[N,a,s,E,b]),A=[{value:"overview",label:"Overview",icon:Oy},{value:"trends",label:"Trends",icon:gy},{value:"categories",label:"Categories",icon:my},{value:"accounts",label:"Accounts",icon:Ty}],C=e=>{let{title:t,value:r,change:n,icon:a,color:i="blue",trend:o=null}=e;return(0,ny.jsxs)("div",{className:"bg-white dark:bg-white/5 rounded-2xl p-6 backdrop-blur-sm shadow-lg dark:shadow-2xl transition-all duration-300 hover:transform hover:scale-[1.02] border border-gray-100 dark:border-white/10",children:[(0,ny.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,ny.jsx)("h3",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:t}),(0,ny.jsx)("div",{className:`w-10 h-10 rounded-xl bg-${i}-100 dark:bg-${i}-500/20 flex items-center justify-center`,children:(0,ny.jsx)(a,{className:`w-5 h-5 text-${i}-600 dark:text-${i}-400`})})]}),(0,ny.jsxs)("div",{className:"space-y-2",children:[(0,ny.jsx)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"number"===typeof r?w(r):r}),void 0!==n&&(0,ny.jsxs)("div",{className:"flex items-center space-x-1 text-sm "+(n>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"),children:[n>=0?(0,ny.jsx)(WU,{className:"w-4 h-4"}):(0,ny.jsx)(GU,{className:"w-4 h-4"}),(0,ny.jsxs)("span",{children:[Math.abs(n).toFixed(1),"% vs last period"]})]}),o&&(0,ny.jsx)("div",{className:"mt-2",children:(0,ny.jsx)("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:(0,ny.jsx)("div",{className:`h-2 rounded-full bg-${i}-500 transition-all duration-500`,style:{width:`${Math.min(100,Math.abs(o))}%`}})})})]})]})},T=e=>{let{active:t,payload:r,label:n}=e;return t&&r&&r.length?(0,ny.jsxs)("div",{className:"bg-white dark:bg-gray-800 p-4 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg backdrop-blur-sm",children:[(0,ny.jsx)("p",{className:"text-sm font-medium text-gray-900 dark:text-white mb-2",children:n}),r.map((e,t)=>(0,ny.jsxs)("div",{className:"flex items-center space-x-2 text-sm",children:[(0,ny.jsx)("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:e.color}}),(0,ny.jsxs)("span",{className:"text-gray-600 dark:text-gray-400",children:[e.dataKey,":"]}),(0,ny.jsx)("span",{className:"font-medium text-gray-900 dark:text-white",children:w(e.value)})]},t))]}):null};return(0,ny.jsxs)("div",{className:"p-6 space-y-6 animate-fade-in relative min-h-screen transition-all duration-500",children:[(0,ny.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4",children:[(0,ny.jsxs)("div",{children:[(0,ny.jsx)("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white transition-colors duration-300",children:"Analytics Dashboard"}),(0,ny.jsx)("p",{className:"text-gray-600 dark:text-gray-400 transition-colors duration-300",children:"Insights into your financial patterns and trends"})]}),(0,ny.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ny.jsx)("button",{onClick:()=>p(!f),className:"p-2 rounded-lg shadow-sm dark:shadow-lg hover:shadow-md dark:hover:shadow-xl transition-all duration-300 backdrop-blur-sm border "+(f?"bg-orange-500 text-white border-orange-500":"bg-white dark:bg-white/5 text-gray-600 dark:text-gray-400 border-gray-200 dark:border-white/10"),title:"Comparison mode",children:(0,ny.jsx)(YU,{className:"w-5 h-5"})}),(0,ny.jsx)("div",{className:"flex bg-white dark:bg-white/5 rounded-lg p-1 shadow-sm dark:shadow-lg backdrop-blur-sm border border-gray-200 dark:border-white/10",children:[{value:"thisWeek",label:"This Week"},{value:"thisMonth",label:"This Month"},{value:"thisYear",label:"This Year"},{value:"allTime",label:"All Time"}].map(e=>(0,ny.jsx)("button",{onClick:()=>l(e.value),className:"px-3 py-1 text-sm rounded-md transition-all duration-300 whitespace-nowrap "+(s===e.value?"bg-orange-500 text-white shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"),children:e.label},e.value))})]})]}),(0,ny.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,ny.jsx)(C,{title:"Total Income",value:E.totalIncome,change:f?E.incomeGrowth:void 0,icon:zy,color:"green"}),(0,ny.jsx)(C,{title:"Total Expenses",value:E.totalExpense,change:f?E.expenseGrowth:void 0,icon:Uy,color:"red"}),(0,ny.jsx)(C,{title:"Net Savings",value:E.netSavings,icon:QU,color:E.netSavings>=0?"blue":"orange",trend:E.savingsRate}),(0,ny.jsx)(C,{title:"Net Worth",value:E.currentNetWorth,icon:gy,color:"purple"})]}),(0,ny.jsxs)("div",{className:"bg-white dark:bg-white/5 rounded-2xl p-6 backdrop-blur-sm shadow-lg dark:shadow-2xl transition-all duration-300 border border-gray-100 dark:border-white/10",children:[(0,ny.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4 mb-6",children:[(0,ny.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,ny.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Financial Insights"}),(0,ny.jsx)("div",{className:"flex bg-gray-100 dark:bg-gray-800 rounded-lg p-1",children:A.map(e=>{const t=e.icon;return(0,ny.jsxs)("button",{onClick:()=>h(e.value),className:"flex items-center space-x-2 px-3 py-2 text-sm rounded-md transition-all duration-300 "+(d===e.value?"bg-orange-500 text-white shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"),children:[(0,ny.jsx)(t,{className:"w-4 h-4"}),(0,ny.jsx)("span",{className:"hidden sm:inline",children:e.label})]},e.value)})})]}),(0,ny.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ny.jsxs)("select",{value:c,onChange:e=>u(e.target.value),className:"px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300",children:[(0,ny.jsx)("option",{value:"all",children:"All Accounts"}),a.filter(e=>!e.isDeleted).map(e=>(0,ny.jsx)("option",{value:e.id,children:e.name},e.id))]}),"categories"===d&&(0,ny.jsxs)("select",{value:m,onChange:e=>g(e.target.value),className:"px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300",children:[(0,ny.jsx)("option",{value:"all",children:"All Categories"}),[...Sq.income,...Sq.expense].map(e=>(0,ny.jsx)("option",{value:e,children:e},e))]})]})]}),(0,ny.jsx)("div",{className:"w-full",children:(()=>{switch(d){case"trends":return(0,ny.jsx)("div",{className:"h-80",children:(0,ny.jsx)(jv,{width:"100%",height:"100%",children:(0,ny.jsxs)(ZU,{data:_.monthly,children:[(0,ny.jsxs)("defs",{children:[(0,ny.jsxs)("linearGradient",{id:"incomeGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[(0,ny.jsx)("stop",{offset:"5%",stopColor:"#22c55e",stopOpacity:.3}),(0,ny.jsx)("stop",{offset:"95%",stopColor:"#22c55e",stopOpacity:0})]}),(0,ny.jsxs)("linearGradient",{id:"expenseGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[(0,ny.jsx)("stop",{offset:"5%",stopColor:"#ef4444",stopOpacity:.3}),(0,ny.jsx)("stop",{offset:"95%",stopColor:"#ef4444",stopOpacity:0})]})]}),(0,ny.jsx)(FR,{strokeDasharray:"3 3",stroke:"currentColor",opacity:.1}),(0,ny.jsx)(WR,{dataKey:"month",stroke:"currentColor",fontSize:12}),(0,ny.jsx)(tL,{stroke:"currentColor",fontSize:12,tickFormatter:k}),(0,ny.jsx)(gz,{content:(0,ny.jsx)(T,{})}),(0,ny.jsx)(HV,{}),(0,ny.jsx)(xB,{type:"monotone",dataKey:"income",stackId:"1",stroke:"#22c55e",fill:"url(#incomeGradient)",name:"Income"}),(0,ny.jsx)(xB,{type:"monotone",dataKey:"expense",stackId:"2",stroke:"#ef4444",fill:"url(#expenseGradient)",name:"Expenses"}),(0,ny.jsx)(MU,{type:"monotone",dataKey:"netWorth",stroke:"#f97316",strokeWidth:3,name:"Net Worth",dot:{fill:"#f97316",r:4}})]})})});case"categories":return(0,ny.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,ny.jsx)("div",{className:"h-80",children:(0,ny.jsx)(jv,{width:"100%",height:"100%",children:(0,ny.jsxs)(AB,{children:[(0,ny.jsx)(T$,{data:_.categories,cx:"50%",cy:"50%",innerRadius:60,outerRadius:120,paddingAngle:2,dataKey:"value",children:_.categories.map((e,t)=>(0,ny.jsx)(QB,{fill:e.color},`cell-${t}`))}),(0,ny.jsx)(gz,{formatter:e=>[w(e),"Amount"],contentStyle:{backgroundColor:"var(--bg-elevated)",border:"1px solid var(--border-primary)",borderRadius:"8px"}})]})})}),(0,ny.jsxs)("div",{className:"space-y-3",children:[(0,ny.jsx)("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Category Breakdown"}),(0,ny.jsx)("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:_.categories.map((e,t)=>(0,ny.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-white/5 rounded-lg",children:[(0,ny.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ny.jsx)("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:e.color}}),(0,ny.jsx)("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:e.name})]}),(0,ny.jsxs)("div",{className:"text-right",children:[(0,ny.jsx)("p",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:w(e.value)}),(0,ny.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[e.percentage.toFixed(1),"%"]})]})]},e.name))})]})]});case"accounts":return(0,ny.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,ny.jsx)("div",{className:"h-80",children:(0,ny.jsx)(jv,{width:"100%",height:"100%",children:(0,ny.jsxs)(AB,{children:[(0,ny.jsx)(T$,{data:_.accounts,cx:"50%",cy:"50%",innerRadius:60,outerRadius:120,paddingAngle:2,dataKey:"value",children:_.accounts.map((e,t)=>(0,ny.jsx)(QB,{fill:e.color},`cell-${t}`))}),(0,ny.jsx)(gz,{formatter:e=>[w(e),"Balance"],contentStyle:{backgroundColor:"var(--bg-elevated)",border:"1px solid var(--border-primary)",borderRadius:"8px"}})]})})}),(0,ny.jsxs)("div",{className:"space-y-3",children:[(0,ny.jsx)("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Account Distribution"}),(0,ny.jsx)("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:_.accounts.map((e,t)=>(0,ny.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-white/5 rounded-lg",children:[(0,ny.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ny.jsx)("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:e.color}}),(0,ny.jsxs)("div",{className:"flex items-center space-x-2",children:["crypto"===e.type?(0,ny.jsx)(By,{className:"w-4 h-4 text-orange-500"}):(0,ny.jsx)($y,{className:"w-4 h-4 text-blue-500"}),(0,ny.jsx)("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:e.name})]})]}),(0,ny.jsxs)("div",{className:"text-right",children:[(0,ny.jsx)("p",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:w(e.value)}),(0,ny.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[e.percentage.toFixed(1),"% \u2022 ",e.currency]})]})]},e.name))})]})]});default:return(0,ny.jsx)("div",{className:"h-80",children:(0,ny.jsx)(jv,{width:"100%",height:"100%",children:(0,ny.jsxs)(I$,{data:_.monthly,children:[(0,ny.jsx)(FR,{strokeDasharray:"3 3",stroke:"currentColor",opacity:.1}),(0,ny.jsx)(WR,{dataKey:"month",stroke:"currentColor",fontSize:12}),(0,ny.jsx)(tL,{stroke:"currentColor",fontSize:12,tickFormatter:k,domain:[0,"dataMax"],ticks:[0,5e5,1e6,15e5,2e6,25e5,3e6]}),(0,ny.jsx)(gz,{content:(0,ny.jsx)(T,{})}),(0,ny.jsx)(HV,{}),(0,ny.jsx)(kq,{dataKey:"income",fill:"#22c55e",name:"Income",radius:[4,4,0,0]}),(0,ny.jsx)(kq,{dataKey:"expense",fill:"#ef4444",name:"Expenses",radius:[4,4,0,0]}),(0,ny.jsx)(kq,{dataKey:"savings",fill:"#f97316",name:"Savings",radius:[4,4,0,0]})]})})})}})()})]}),(0,ny.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,ny.jsxs)("div",{className:"bg-white dark:bg-white/5 rounded-2xl p-6 backdrop-blur-sm shadow-lg dark:shadow-2xl transition-all duration-300 border border-gray-100 dark:border-white/10",children:[(0,ny.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,ny.jsx)("div",{className:"w-8 h-8 bg-blue-100 dark:bg-blue-500/20 rounded-lg flex items-center justify-center",children:(0,ny.jsx)(gy,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"})}),(0,ny.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Key Insights"})]}),(0,ny.jsxs)("div",{className:"space-y-3",children:[E.savingsRate>20&&(0,ny.jsxs)("div",{className:"flex items-start space-x-3 p-3 bg-green-50 dark:bg-green-500/10 rounded-lg border border-green-200 dark:border-green-500/20",children:[(0,ny.jsx)(Ey,{className:"w-5 h-5 text-green-600 dark:text-green-400 flex-shrink-0 mt-0.5"}),(0,ny.jsxs)("div",{children:[(0,ny.jsx)("p",{className:"text-sm font-medium text-green-800 dark:text-green-300",children:"Excellent Savings Rate!"}),(0,ny.jsxs)("p",{className:"text-xs text-green-700 dark:text-green-400",children:["You're saving ",E.savingsRate.toFixed(1),"% of your income. Keep it up!"]})]})]}),E.expenseGrowth>20&&(0,ny.jsxs)("div",{className:"flex items-start space-x-3 p-3 bg-yellow-50 dark:bg-yellow-500/10 rounded-lg border border-yellow-200 dark:border-yellow-500/20",children:[(0,ny.jsx)(XU,{className:"w-5 h-5 text-yellow-600 dark:text-yellow-400 flex-shrink-0 mt-0.5"}),(0,ny.jsxs)("div",{children:[(0,ny.jsx)("p",{className:"text-sm font-medium text-yellow-800 dark:text-yellow-300",children:"Rising Expenses"}),(0,ny.jsxs)("p",{className:"text-xs text-yellow-700 dark:text-yellow-400",children:["Your expenses increased by ",E.expenseGrowth.toFixed(1),"% this period."]})]})]}),_.categories.length>0&&(0,ny.jsxs)("div",{className:"flex items-start space-x-3 p-3 bg-blue-50 dark:bg-blue-500/10 rounded-lg border border-blue-200 dark:border-blue-500/20",children:[(0,ny.jsx)(my,{className:"w-5 h-5 text-blue-600 dark:text-blue-400 flex-shrink-0 mt-0.5"}),(0,ny.jsxs)("div",{children:[(0,ny.jsx)("p",{className:"text-sm font-medium text-blue-800 dark:text-blue-300",children:"Top Expense Category"}),(0,ny.jsxs)("p",{className:"text-xs text-blue-700 dark:text-blue-400",children:[null===(r=_.categories[0])||void 0===r?void 0:r.name," accounts for ",null===(n=_.categories[0])||void 0===n?void 0:n.percentage.toFixed(1),"% of expenses"]})]})]})]})]}),(0,ny.jsxs)("div",{className:"bg-white dark:bg-white/5 rounded-2xl p-6 backdrop-blur-sm shadow-lg dark:shadow-2xl transition-all duration-300 border border-gray-100 dark:border-white/10",children:[(0,ny.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,ny.jsx)("div",{className:"w-8 h-8 bg-orange-100 dark:bg-orange-500/20 rounded-lg flex items-center justify-center",children:(0,ny.jsx)(QU,{className:"w-4 h-4 text-orange-600 dark:text-orange-400"})}),(0,ny.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Financial Health"})]}),(0,ny.jsxs)("div",{className:"space-y-4",children:[(0,ny.jsxs)("div",{className:"bg-gray-50 dark:bg-white/5 rounded-lg p-4",children:[(0,ny.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,ny.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Savings Rate"}),(0,ny.jsxs)("span",{className:"text-sm font-medium "+(E.savingsRate>=20?"text-green-600 dark:text-green-400":E.savingsRate>=10?"text-yellow-600 dark:text-yellow-400":"text-red-600 dark:text-red-400"),children:[E.savingsRate.toFixed(1),"%"]})]}),(0,ny.jsx)("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:(0,ny.jsx)("div",{className:"h-2 rounded-full transition-all duration-500 "+(E.savingsRate>=20?"bg-green-500":E.savingsRate>=10?"bg-yellow-500":"bg-red-500"),style:{width:`${Math.min(100,Math.max(0,E.savingsRate))}%`}})})]}),(0,ny.jsxs)("div",{className:"bg-gray-50 dark:bg-white/5 rounded-lg p-4",children:[(0,ny.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,ny.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Account Diversity"}),(0,ny.jsxs)("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[a.filter(e=>!e.isDeleted).length," accounts"]})]}),(0,ny.jsxs)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:[a.filter(e=>!e.isDeleted&&"bank"===e.type).length," Bank \u2022 ",a.filter(e=>!e.isDeleted&&"crypto"===e.type).length," Crypto"]})]}),(0,ny.jsxs)("div",{className:"bg-gray-50 dark:bg-white/5 rounded-lg p-4",children:[(0,ny.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,ny.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Transaction Volume"}),(0,ny.jsx)("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:E.transactionCount})]}),(0,ny.jsxs)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Avg ",w(E.avgTransactionAmount)," per transaction"]})]})]})]})]}),(0,ny.jsxs)("div",{className:"bg-white dark:bg-white/5 rounded-2xl p-6 backdrop-blur-sm shadow-lg dark:shadow-2xl transition-all duration-300 border border-gray-100 dark:border-white/10",children:[(0,ny.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,ny.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Monthly Breakdown"}),(0,ny.jsx)("select",{value:y,onChange:e=>v(parseInt(e.target.value)),className:"px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300",children:[...new Set(i.map(e=>new Date(e.date).getFullYear()))].sort((e,t)=>t-e).map(e=>(0,ny.jsx)("option",{value:e,children:e},e))})]}),(0,ny.jsx)("div",{className:"overflow-x-auto",children:(0,ny.jsxs)("table",{className:"w-full",children:[(0,ny.jsx)("thead",{className:"bg-gray-50 dark:bg-white/5 border-b border-gray-200 dark:border-white/10",children:(0,ny.jsxs)("tr",{children:[(0,ny.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Month"}),(0,ny.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Income"}),(0,ny.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Expenses"}),(0,ny.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Savings"}),(0,ny.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Rate"}),(0,ny.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Net Worth"})]})}),(0,ny.jsx)("tbody",{className:"divide-y divide-gray-200 dark:divide-white/10",children:(()=>{const e=[],t=new Date,r=y===t.getFullYear()?t.getMonth():11;for(let n=0;n<=r;n++){const t=new Date(y,n,1).toLocaleDateString("en-IN",{month:"long",year:"numeric"}),r=N.filter(e=>{const t=new Date(e.date);return t.getMonth()===n&&t.getFullYear()===y&&"income"===e.type}).reduce((e,t)=>e+j(t.amount,t.currency),0),a=N.filter(e=>{const t=new Date(e.date);return t.getMonth()===n&&t.getFullYear()===y&&"expense"===e.type}).reduce((e,t)=>e+j(t.amount,t.currency),0),i=r-a,o=r>0?i/r*100:0;let s=null;const l=y;for(let e=new Date(l,n+1,0).getDate();e>=1;e--){const t=`${l}-${String(n+1).padStart(2,"0")}-${String(e).padStart(2,"0")}`;if(b[t]){s=b[t].totalNetWorth;break}}2025===y&&0===n&&null===s&&(s=95e4),e.push({key:t,month:n,year:y,income:r,expense:a,savings:i,savingsRate:o,netWorth:s})}return e.reverse().map((e,t)=>(0,ny.jsxs)("tr",{className:"hover:bg-gray-50 dark:hover:bg-white/5 transition-all duration-300",children:[(0,ny.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,ny.jsx)("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:e.key})}),(0,ny.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,ny.jsx)("span",{className:"text-sm font-medium text-green-600 dark:text-green-400",children:w(e.income)})}),(0,ny.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,ny.jsx)("span",{className:"text-sm font-medium text-red-600 dark:text-red-400",children:w(e.expense)})}),(0,ny.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,ny.jsxs)("span",{className:"text-sm font-medium "+(e.savings>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"),children:[e.savings>=0?"":"-",w(Math.abs(e.savings))]})}),(0,ny.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,ny.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ny.jsxs)("span",{className:"text-sm font-medium "+(e.savingsRate>=20?"text-green-600 dark:text-green-400":e.savingsRate>=10?"text-yellow-600 dark:text-yellow-400":"text-red-600 dark:text-red-400"),children:[e.savingsRate.toFixed(1),"%"]}),(0,ny.jsx)("div",{className:"w-16 bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:(0,ny.jsx)("div",{className:"h-2 rounded-full transition-all duration-500 "+(e.savingsRate>=20?"bg-green-500":e.savingsRate>=10?"bg-yellow-500":"bg-red-500"),style:{width:`${Math.min(100,Math.max(0,e.savingsRate))}%`}})})]})}),(0,ny.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,ny.jsx)("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:null!==e.netWorth?w(e.netWorth):"-"})})]},t))})()})]})})]})]})},Eq=fy("piggy-bank",[["path",{d:"M11 17h3v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-3a3.16 3.16 0 0 0 2-2h1a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1h-1a5 5 0 0 0-2-4V3a4 4 0 0 0-3.2 1.6l-.3.4H11a6 6 0 0 0-6 6v1a5 5 0 0 0 2 4v3a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1z",key:"1piglc"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M2 8v1a2 2 0 0 0 2 2h1",key:"1env43"}]]),_q=fy("landmark",[["path",{d:"M10 18v-7",key:"wt116b"}],["path",{d:"M11.12 2.198a2 2 0 0 1 1.76.006l7.866 3.847c.476.233.31.949-.22.949H3.474c-.53 0-.695-.716-.22-.949z",key:"1m329m"}],["path",{d:"M14 18v-7",key:"vav6t3"}],["path",{d:"M18 18v-7",key:"aexdmj"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M6 18v-7",key:"1ivflk"}]]),Aq=fy("grip-vertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]),Cq={bank:{label:"Bank Account",description:"Savings, Current, Credit Card accounts",currencies:["INR","USD"]},crypto:{label:"USD Account",description:"Cryptocurrency, Investment accounts",currencies:["USD","INR"]}},Tq={bank:["Savings","Current","Credit Card","Fixed Deposit"],crypto:["Crypto Wallet","Investment","Trading","Staking"]};const Oq=function(e){let{accounts:r}=e;re();const{currentUser:n}=iy(),[a,i]=(0,t.useState)(!1),[o,s]=(0,t.useState)(!1),[l,c]=(0,t.useState)(!1),[u,d]=(0,t.useState)(null),[h,f]=(0,t.useState)(!0),[p,m]=(0,t.useState)(!1),[g,y]=(0,t.useState)(null),[v,b]=(0,t.useState)(null),[x,w]=(0,t.useState)(null),[k,j]=(0,t.useState)({name:"",type:"bank",subtype:"",currency:"INR",balance:"",description:""}),[S,N]=(0,t.useState)({deleteTransactions:!1}),E=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"INR";if(!h)return"\u2022\u2022\u2022\u2022\u2022\u2022";return new Intl.NumberFormat("en-IN",{style:"currency",currency:t,minimumFractionDigits:"USD"===t?2:0,maximumFractionDigits:"USD"===t?2:0}).format(e)},_=(e,t)=>"USD"===t?84*e:e,A=()=>{j({name:"",type:"bank",subtype:"",currency:"INR",balance:"",description:""})},C=()=>{w(null)};(0,t.useEffect)(()=>{const e=()=>y(null);return document.addEventListener("click",e),()=>document.removeEventListener("click",e)},[]);const T=[...r].sort((e,t)=>(e.displayOrder||0)-(t.displayOrder||0)),O=r.filter(e=>"bank"===e.type),I=r.filter(e=>"crypto"===e.type),P=O.reduce((e,t)=>e+_(t.balance,t.currency),0),D=I.reduce((e,t)=>e+_(t.balance,t.currency),0),M=P+D;return(0,ny.jsxs)("div",{className:"p-6 space-y-6 animate-fade-in relative min-h-screen transition-all duration-500",children:[(0,ny.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ny.jsxs)("div",{children:[(0,ny.jsx)("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white transition-colors duration-300",children:"Accounts"}),(0,ny.jsx)("p",{className:"text-gray-600 dark:text-gray-400 transition-colors duration-300",children:"Manage your bank and crypto accounts"})]}),(0,ny.jsx)("div",{className:"flex items-center",children:(0,ny.jsxs)("button",{onClick:()=>i(!0),className:"bg-orange-500 hover:bg-orange-600 text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-all duration-300 transform hover:-translate-y-0.5 shadow-md dark:shadow-lg",children:[(0,ny.jsx)(qy,{className:"w-4 h-4"}),(0,ny.jsx)("span",{children:"Add Account"})]})})]}),(0,ny.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,ny.jsxs)("div",{className:"bg-white dark:bg-white/5 rounded-2xl p-6 backdrop-blur-sm h-full shadow-lg dark:shadow-2xl transition-all duration-300 hover:shadow-xl dark:hover:shadow-3xl hover:transform hover:scale-[1.02]",children:[(0,ny.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,ny.jsx)("h3",{className:"text-sm text-gray-600 dark:text-gray-400 transition-colors duration-300",children:"Total Balance"}),(0,ny.jsx)(Ty,{className:"w-5 h-5 text-orange-500"})]}),(0,ny.jsx)("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white transition-colors duration-300",children:E(M,"INR")}),(0,ny.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400 transition-colors duration-300 mt-1",children:["$",(M/84).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})," USD"]}),(0,ny.jsxs)("p",{className:"text-sm text-gray-500 dark:text-gray-400 transition-colors duration-300 mt-2",children:["Across ",r.length," accounts"]})]}),(0,ny.jsxs)("div",{className:"bg-white dark:bg-white/5 rounded-2xl p-6 backdrop-blur-sm h-full shadow-lg dark:shadow-2xl transition-all duration-300 hover:shadow-xl dark:hover:shadow-3xl hover:transform hover:scale-[1.02]",children:[(0,ny.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,ny.jsx)("h3",{className:"text-sm text-gray-600 dark:text-gray-400 transition-colors duration-300",children:"INR Accounts"}),(0,ny.jsx)($y,{className:"w-5 h-5 text-blue-500"})]}),(0,ny.jsx)("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white transition-colors duration-300",children:E(P,"INR")}),(0,ny.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400 transition-colors duration-300 mt-1",children:["$",(P/84).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})," USD"]}),(0,ny.jsxs)("p",{className:"text-sm text-gray-500 dark:text-gray-400 transition-colors duration-300 mt-2",children:[O.length," accounts"]})]}),(0,ny.jsxs)("div",{className:"bg-white dark:bg-white/5 rounded-2xl p-6 backdrop-blur-sm h-full shadow-lg dark:shadow-2xl transition-all duration-300 hover:shadow-xl dark:hover:shadow-3xl hover:transform hover:scale-[1.02]",children:[(0,ny.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,ny.jsx)("h3",{className:"text-sm text-gray-600 dark:text-gray-400 transition-colors duration-300",children:"USD Accounts"}),(0,ny.jsx)(By,{className:"w-5 h-5 text-orange-500"})]}),(0,ny.jsxs)("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white transition-colors duration-300",children:["$",(D/84).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]}),(0,ny.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 transition-colors duration-300 mt-1",children:E(D,"INR")}),(0,ny.jsxs)("p",{className:"text-sm text-gray-500 dark:text-gray-400 transition-colors duration-300 mt-2",children:[I.length," accounts"]})]})]}),(0,ny.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:T.length>0?T.map((e,t)=>{const r=(a=e.type,i=e.subtype,"crypto"===a?By:"Credit Card"===i?py:"Fixed Deposit"===i?Eq:_q);var a,i;const o=e.balance<0;return(0,ny.jsxs)("div",{draggable:!0,onDragStart:t=>((e,t)=>{b(t),e.dataTransfer.effectAllowed="move"})(t,e),onDragOver:t=>((e,t)=>{e.preventDefault(),e.dataTransfer.dropEffect="move",w(t.id)})(t,e),onDragLeave:C,onDrop:t=>(async(e,t)=>{if(e.preventDefault(),w(null),v&&t&&v.id!==t.id){if(n&&!p)try{m(!0);const e=Jg(ry),r=zm(ry,"users",n.uid,"accounts",v.id),a=zm(ry,"users",n.uid,"accounts",t.id);e.update(r,{displayOrder:t.displayOrder||0,updatedAt:(new Date).toISOString()}),e.update(a,{displayOrder:v.displayOrder||0,updatedAt:(new Date).toISOString()}),await e.commit()}catch(r){console.error("Error reordering accounts:",r),alert("Error reordering accounts. Please try again.")}finally{m(!1),b(null)}}else b(null)})(t,e),className:`bg-white dark:bg-white/5 rounded-xl p-4 backdrop-blur-sm shadow-lg dark:shadow-2xl transition-all duration-300 hover:transform hover:scale-[1.02] hover:shadow-xl dark:hover:shadow-3xl relative cursor-move ${x===e.id?"ring-2 ring-orange-500 ring-opacity-50":""} ${(null===v||void 0===v?void 0:v.id)===e.id?"opacity-50":""}`,children:[(0,ny.jsx)("div",{className:"absolute top-2 left-2 opacity-30 hover:opacity-70 transition-opacity duration-300",children:(0,ny.jsx)(Aq,{className:"w-4 h-4 text-gray-400"})}),(0,ny.jsxs)("div",{className:"flex items-start justify-between mb-3 ml-6",children:[(0,ny.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ny.jsx)("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center transition-colors duration-300 "+("bank"===e.type?"bg-blue-100 dark:bg-blue-500/20":"bg-orange-100 dark:bg-orange-500/20"),children:(0,ny.jsx)(r,{className:"w-5 h-5 "+("bank"===e.type?"text-blue-600 dark:text-blue-400":"text-orange-600 dark:text-orange-400")})}),(0,ny.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,ny.jsx)("h3",{className:"text-sm font-semibold text-gray-900 dark:text-white transition-colors duration-300 truncate",children:e.name}),(0,ny.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400 transition-colors duration-300 truncate",children:[e.subtype||("crypto"===e.type?"USD Account":Cq[e.type].label)," \u2022 ",e.currency]})]})]}),(0,ny.jsxs)("div",{className:"relative",children:[(0,ny.jsx)("button",{onClick:t=>{t.stopPropagation(),y(g===e.id?null:e.id)},className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors duration-300",children:(0,ny.jsx)(Wy,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})}),g===e.id&&(0,ny.jsxs)("div",{className:"absolute right-0 mt-2 w-48 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 py-1 z-10 backdrop-blur-sm",children:[(0,ny.jsxs)("button",{onClick:()=>(e=>{d(e),j({name:e.name,type:e.type,subtype:e.subtype||"",currency:e.currency,balance:e.balance.toString(),description:e.description||""}),s(!0),y(null)})(e),className:"w-full text-left px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center space-x-2 transition-colors duration-300",children:[(0,ny.jsx)(Gy,{className:"w-4 h-4"}),(0,ny.jsx)("span",{children:"Edit Account"})]}),(0,ny.jsx)("div",{className:"border-t border-gray-200 dark:border-gray-700 my-1"}),(0,ny.jsxs)("button",{onClick:()=>(e=>{d(e),c(!0),y(null)})(e),className:"w-full text-left px-4 py-2 text-sm text-red-600 dark:text-red-400 hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center space-x-2 transition-colors duration-300",children:[(0,ny.jsx)(Yy,{className:"w-4 h-4"}),(0,ny.jsx)("span",{children:"Delete Account"})]})]})]})]}),(0,ny.jsxs)("div",{className:"mb-3",children:[(0,ny.jsx)("div",{className:"text-lg font-bold mb-1 transition-colors duration-300 "+(o?"text-red-600 dark:text-red-400":"text-gray-900 dark:text-white"),children:E(e.balance,e.currency)}),"USD"===e.currency&&(0,ny.jsxs)("div",{className:"text-xs text-gray-500 dark:text-gray-400 transition-colors duration-300",children:["\u2248 ",E(_(e.balance,"USD"),"INR")]}),o&&"Credit Card"===e.subtype&&(0,ny.jsxs)("div",{className:"flex items-center space-x-1 text-xs text-orange-600 dark:text-orange-400 mt-1",children:[(0,ny.jsx)(Jy,{className:"w-3 h-3"}),(0,ny.jsx)("span",{children:"Outstanding"})]})]}),e.description&&(0,ny.jsx)("div",{className:"text-xs text-gray-600 dark:text-gray-400 mb-3 bg-gray-50 dark:bg-white/3 rounded-lg p-2 transition-colors duration-300 line-clamp-2",children:e.description}),(0,ny.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-500 dark:text-gray-400 transition-colors duration-300",children:[(0,ny.jsx)("span",{children:"Last activity"}),(0,ny.jsx)("span",{children:new Date(e.lastActivityAt||e.updatedAt).toLocaleDateString("en-IN",{day:"numeric",month:"short"})})]})]},e.id)}):(0,ny.jsxs)("div",{className:"col-span-full bg-white dark:bg-white/5 rounded-2xl p-12 text-center backdrop-blur-sm shadow-lg dark:shadow-2xl transition-all duration-300",children:[(0,ny.jsx)(Ty,{className:"w-12 h-12 text-gray-400 dark:text-gray-600 mx-auto mb-4"}),(0,ny.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2 transition-colors duration-300",children:"No accounts yet"}),(0,ny.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-6 transition-colors duration-300",children:"Add your first account to start tracking your finances"}),(0,ny.jsxs)("button",{onClick:()=>i(!0),className:"bg-orange-500 hover:bg-orange-600 text-white px-6 py-3 rounded-lg flex items-center space-x-2 mx-auto transition-all duration-300 transform hover:-translate-y-0.5 shadow-md",children:[(0,ny.jsx)(qy,{className:"w-5 h-5"}),(0,ny.jsx)("span",{children:"Add Your First Account"})]})]})}),a&&(0,ny.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",onClick:e=>{e.target===e.currentTarget&&(i(!1),A())},children:(0,ny.jsxs)("div",{className:"bg-white dark:bg-gray-900 rounded-2xl p-6 w-full max-w-2xl backdrop-blur-sm border border-gray-200 dark:border-gray-700",children:[(0,ny.jsx)("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-6 transition-colors duration-300",children:"Add New Account"}),(0,ny.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),n&&!p&&k.name&&k.subtype)try{m(!0);const e={name:k.name,type:k.type,subtype:k.subtype,currency:k.currency,balance:parseFloat(k.balance)||0,description:k.description,isDeleted:!1,userId:n.uid,createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString(),lastActivityAt:(new Date).toISOString(),displayOrder:r.length};await Hg(Fm(ry,"users",n.uid,"accounts"),e),i(!1),A()}catch(t){console.error("Error adding account:",t),alert("Error adding account. Please try again.")}finally{m(!1)}},className:"space-y-6",children:[(0,ny.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,ny.jsxs)("div",{children:[(0,ny.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 transition-colors duration-300",children:"Account Name"}),(0,ny.jsx)("input",{type:"text",value:k.name,onChange:e=>j({...k,name:e.target.value}),placeholder:"e.g., HDFC Savings",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300",required:!0})]}),(0,ny.jsxs)("div",{children:[(0,ny.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 transition-colors duration-300",children:"Account Type"}),(0,ny.jsx)("select",{value:k.type,onChange:e=>j({...k,type:e.target.value,subtype:"",currency:"crypto"===e.target.value?"USD":"INR"}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300",children:Object.entries(Cq).map(e=>{let[t,r]=e;return(0,ny.jsx)("option",{value:t,children:r.label},t)})})]})]}),(0,ny.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,ny.jsxs)("div",{children:[(0,ny.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 transition-colors duration-300",children:"Subtype"}),(0,ny.jsxs)("select",{value:k.subtype,onChange:e=>j({...k,subtype:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300",required:!0,children:[(0,ny.jsx)("option",{value:"",children:"Select subtype"}),Tq[k.type].map(e=>(0,ny.jsx)("option",{value:e,children:e},e))]})]}),(0,ny.jsxs)("div",{children:[(0,ny.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 transition-colors duration-300",children:"Currency"}),(0,ny.jsx)("select",{value:k.currency,onChange:e=>j({...k,currency:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300",children:Cq[k.type].currencies.map(e=>(0,ny.jsx)("option",{value:e,children:e},e))})]})]}),(0,ny.jsxs)("div",{children:[(0,ny.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 transition-colors duration-300",children:"Initial Balance"}),(0,ny.jsx)("input",{type:"number",step:"0.01",value:k.balance,onChange:e=>j({...k,balance:e.target.value}),placeholder:"0.00",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300"})]}),(0,ny.jsxs)("div",{children:[(0,ny.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 transition-colors duration-300",children:"Description (Optional)"}),(0,ny.jsx)("textarea",{value:k.description,onChange:e=>j({...k,description:e.target.value}),placeholder:"Additional notes about this account",rows:3,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300"})]}),(0,ny.jsxs)("div",{className:"flex space-x-3 pt-4",children:[(0,ny.jsx)("button",{type:"button",onClick:()=>{i(!1),A()},className:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors duration-300",children:"Cancel"}),(0,ny.jsx)("button",{type:"submit",disabled:p||!k.name||!k.subtype,className:"flex-1 bg-orange-500 hover:bg-orange-600 text-white px-4 py-2 rounded-lg transition-colors duration-300 disabled:opacity-50 disabled:cursor-not-allowed",children:p?"Adding...":"Add Account"})]})]})]})}),o&&u&&(0,ny.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",onClick:e=>{e.target===e.currentTarget&&(s(!1),d(null),A())},children:(0,ny.jsxs)("div",{className:"bg-white dark:bg-gray-900 rounded-2xl p-6 w-full max-w-2xl backdrop-blur-sm border border-gray-200 dark:border-gray-700",children:[(0,ny.jsx)("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-6 transition-colors duration-300",children:"Edit Account"}),(0,ny.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),n&&u&&!p&&k.name&&k.subtype)try{m(!0);const e=zm(ry,"users",n.uid,"accounts",u.id);await qg(e,{name:k.name,type:k.type,subtype:k.subtype,currency:k.currency,balance:parseFloat(k.balance)||0,description:k.description,updatedAt:(new Date).toISOString()}),s(!1),d(null),A()}catch(t){console.error("Error updating account:",t),alert("Error updating account. Please try again.")}finally{m(!1)}},className:"space-y-6",children:[(0,ny.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,ny.jsxs)("div",{children:[(0,ny.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 transition-colors duration-300",children:"Account Name"}),(0,ny.jsx)("input",{type:"text",value:k.name,onChange:e=>j({...k,name:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300",required:!0})]}),(0,ny.jsxs)("div",{children:[(0,ny.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 transition-colors duration-300",children:"Account Type"}),(0,ny.jsx)("select",{value:k.type,onChange:e=>j({...k,type:e.target.value,subtype:""}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300",children:Object.entries(Cq).map(e=>{let[t,r]=e;return(0,ny.jsx)("option",{value:t,children:r.label},t)})})]})]}),(0,ny.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,ny.jsxs)("div",{children:[(0,ny.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 transition-colors duration-300",children:"Subtype"}),(0,ny.jsxs)("select",{value:k.subtype,onChange:e=>j({...k,subtype:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300",required:!0,children:[(0,ny.jsx)("option",{value:"",children:"Select subtype"}),Tq[k.type].map(e=>(0,ny.jsx)("option",{value:e,children:e},e))]})]}),(0,ny.jsxs)("div",{children:[(0,ny.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 transition-colors duration-300",children:"Currency"}),(0,ny.jsx)("select",{value:k.currency,onChange:e=>j({...k,currency:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300",children:Cq[k.type].currencies.map(e=>(0,ny.jsx)("option",{value:e,children:e},e))})]})]}),(0,ny.jsxs)("div",{children:[(0,ny.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 transition-colors duration-300",children:"Current Balance"}),(0,ny.jsx)("input",{type:"number",step:"0.01",value:k.balance,onChange:e=>j({...k,balance:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300"})]}),(0,ny.jsxs)("div",{children:[(0,ny.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 transition-colors duration-300",children:"Description (Optional)"}),(0,ny.jsx)("textarea",{value:k.description,onChange:e=>j({...k,description:e.target.value}),rows:3,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300"})]}),(0,ny.jsxs)("div",{className:"flex space-x-3 pt-4",children:[(0,ny.jsx)("button",{type:"button",onClick:()=>{s(!1),d(null),A()},className:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors duration-300",children:"Cancel"}),(0,ny.jsx)("button",{type:"submit",disabled:p||!k.name||!k.subtype,className:"flex-1 bg-orange-500 hover:bg-orange-600 text-white px-4 py-2 rounded-lg transition-colors duration-300 disabled:opacity-50 disabled:cursor-not-allowed",children:p?"Updating...":"Update Account"})]})]})]})}),l&&u&&(0,ny.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",onClick:e=>{e.target===e.currentTarget&&(c(!1),d(null),N({deleteTransactions:!1}))},children:(0,ny.jsxs)("div",{className:"bg-white dark:bg-gray-900 rounded-2xl p-6 w-full max-w-md backdrop-blur-sm border border-gray-200 dark:border-gray-700",children:[(0,ny.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,ny.jsx)("div",{className:"w-10 h-10 bg-red-100 dark:bg-red-500/20 rounded-lg flex items-center justify-center",children:(0,ny.jsx)(Jy,{className:"w-5 h-5 text-red-600 dark:text-red-400"})}),(0,ny.jsx)("h2",{className:"text-xl font-bold text-gray-900 dark:text-white transition-colors duration-300",children:"Delete Account"})]}),(0,ny.jsxs)("p",{className:"text-gray-600 dark:text-gray-400 mb-6 transition-colors duration-300",children:["Are you sure you want to delete ",(0,ny.jsxs)("strong",{children:['"',u.name,'"']}),"? This action cannot be undone."]}),(0,ny.jsx)("div",{className:"bg-yellow-50 dark:bg-yellow-500/10 border border-yellow-200 dark:border-yellow-500/20 rounded-lg p-4 mb-6",children:(0,ny.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,ny.jsx)(Jy,{className:"w-5 h-5 text-yellow-600 dark:text-yellow-400 flex-shrink-0 mt-0.5"}),(0,ny.jsxs)("div",{children:[(0,ny.jsx)("h3",{className:"text-sm font-medium text-yellow-800 dark:text-yellow-300 mb-2",children:"What happens to transactions?"}),(0,ny.jsxs)("label",{className:"flex items-start space-x-3",children:[(0,ny.jsx)("input",{type:"checkbox",checked:S.deleteTransactions,onChange:e=>N({...S,deleteTransactions:e.target.checked}),className:"mt-0.5 w-4 h-4 text-orange-600 bg-gray-100 border-gray-300 rounded focus:ring-orange-500 dark:focus:ring-orange-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"}),(0,ny.jsxs)("div",{children:[(0,ny.jsx)("span",{className:"text-sm text-yellow-700 dark:text-yellow-300 block",children:"Delete all transactions from this account"}),(0,ny.jsx)("span",{className:"text-xs text-yellow-600 dark:text-yellow-400 block mt-1",children:S.deleteTransactions?"All transaction history will be permanently lost":"Transactions will be kept but marked as from deleted account"})]})]})]})]})}),(0,ny.jsxs)("div",{className:"flex space-x-3",children:[(0,ny.jsx)("button",{type:"button",onClick:()=>{c(!1),d(null),N({deleteTransactions:!1})},className:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors duration-300",children:"Cancel"}),(0,ny.jsx)("button",{onClick:async()=>{if(n&&u&&!p)try{m(!0);const e=Jg(ry);if(S.deleteTransactions){const t=Eg(Fm(ry,"users",n.uid,"transactions"),Ag("accountId","==",u.id));(await $g(t)).docs.forEach(t=>{e.delete(t.ref)})}else{const t=Eg(Fm(ry,"users",n.uid,"transactions"),Ag("accountId","==",u.id));(await $g(t)).docs.forEach(t=>{e.update(t.ref,{accountDeleted:!0,accountDeletedAt:(new Date).toISOString()})})}const t=zm(ry,"users",n.uid,"accounts",u.id);e.update(t,{isDeleted:!0,deletedAt:(new Date).toISOString()}),await e.commit(),c(!1),d(null),N({deleteTransactions:!1})}catch(e){console.error("Error deleting account:",e),alert("Error deleting account. Please try again.")}finally{m(!1)}},disabled:p,className:"flex-1 bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg transition-colors duration-300 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:p?(0,ny.jsxs)(ny.Fragment,{children:[(0,ny.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),(0,ny.jsx)("span",{children:"Deleting..."})]}):(0,ny.jsxs)(ny.Fragment,{children:[(0,ny.jsx)(Yy,{className:"w-4 h-4"}),(0,ny.jsx)("span",{children:"Delete Account"})]})})]})]})}),(0,ny.jsxs)("button",{onClick:()=>i(!0),className:"fixed bottom-6 right-6 w-14 h-14 bg-orange-500 hover:bg-orange-600 text-white rounded-full shadow-lg dark:shadow-2xl transition-all duration-300 flex items-center justify-center group transform hover:-translate-y-1 hover:shadow-xl dark:hover:shadow-3xl",children:[(0,ny.jsx)(qy,{className:"w-6 h-6"}),(0,ny.jsx)("span",{className:"absolute right-16 top-1/2 transform -translate-y-1/2 bg-gray-900 dark:bg-black text-white px-3 py-2 rounded-lg text-sm whitespace-nowrap opacity-0 group-hover:opacity-100 transition-all duration-300 shadow-lg dark:shadow-2xl pointer-events-none",children:"Add Account"})]})]})};var Iq=r(1561),Pq=r.n(Iq);const Dq=fy("video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]),Mq=fy("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),Rq=fy("cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]),Lq=fy("phone",[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]]),Fq=fy("shopping-bag",[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]]),zq=fy("wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]),Uq=fy("briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]),Vq=fy("book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]]),Bq=fy("package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]),$q=fy("pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]),qq=fy("play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]),Hq=fy("grid-3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]),Kq=fy("list",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]),Wq=fy("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),Gq=fy("bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]),Yq=fy("chevron-up",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),Qq={Entertainment:{icon:Dq,color:"red",services:["Netflix","Disney+","Prime Video","YouTube Premium","Hotstar","Apple TV+","HBO Max","Spotify","Apple Music","Other Entertainment"]},"AI Tools":{icon:Mq,color:"green",services:["ChatGPT","Claude","Midjourney","GitHub Copilot","Notion AI","Grammarly","Other AI Tools"]},"Cloud Storage":{icon:Rq,color:"blue",services:["iCloud","Google One","Dropbox","OneDrive","Box","Other Storage"]},Communication:{icon:Lq,color:"purple",services:["Telegram Premium","WhatsApp Business","Slack","Discord Nitro","Zoom Pro","Other Communication"]},Shopping:{icon:Fq,color:"pink",services:["Amazon Prime","Flipkart Plus","Other Shopping"]},Utilities:{icon:zq,color:"indigo",services:["Airtel","Jio","Vi","Internet","Other Utilities"]},Productivity:{icon:Uq,color:"yellow",services:["Microsoft 365","Adobe Creative","Canva Pro","Figma","Other Productivity"]},"News & Reading":{icon:Vq,color:"gray",services:["Kindle Unlimited","Medium","The Hindu","Times Prime","Other News"]},Finance:{icon:VU,color:"emerald",services:["Truecaller Premium","Banking Apps","Investment Apps","Other Finance"]},Other:{icon:Bq,color:"slate",services:["Other Services"]}},Xq=[{value:"monthly",label:"Monthly",months:1},{value:"quarterly",label:"Quarterly",months:3},{value:"half-yearly",label:"Half Yearly",months:6},{value:"yearly",label:"Yearly",months:12}];const Jq=function(e){var r,n,a;let{accounts:i}=e;const{currentUser:o}=iy(),[s,l]=(0,t.useState)([]),[c,u]=(0,t.useState)(!1),[d,h]=(0,t.useState)(!1),[f,p]=(0,t.useState)(!1),[m,g]=(0,t.useState)(!1),[y,v]=(0,t.useState)(null),[b,x]=(0,t.useState)(!1),[w,k]=(0,t.useState)(null),[j,S]=(0,t.useState)("category"),[N,E]=(0,t.useState)(new Set(["Entertainment","AI Tools"])),[_,A]=(0,t.useState)("all"),[C,T]=(0,t.useState)(""),[O,I]=(0,t.useState)(!1),[P,D]=(0,t.useState)({name:"",category:"Entertainment",serviceName:"",amount:"",currency:"INR",accountId:"",billingCycle:"monthly",nextBillingDate:(new Date).toISOString().split("T")[0],description:"",isActive:!0,notifyBeforeDays:2,autoRenew:!0}),[M,R]=(0,t.useState)({deleteTransactions:!1});(0,t.useEffect)(()=>{if(!o)return;let e;return(async()=>{try{const t=Eg(Fm(ry,"users",o.uid,"subscriptions"),Og("nextBillingDate","asc"));e=Kg(t,e=>{const t=e.docs.map(e=>({id:e.id,...e.data()}));l(t)},e=>{console.error("Error loading subscriptions:",e)})}catch(t){console.error("Error setting up subscription listener:",t)}})(),()=>{e&&e()}},[o]),(0,t.useEffect)(()=>{if(!o||0===s.length)return;let e=!0;return(async()=>{if(!e)return;const t=new Date;t.setHours(0,0,0,0);const r=s.filter(e=>{if(!e.isActive||!e.autoRenew)return!1;const r=new Date(e.nextBillingDate);return r.setHours(0,0,0,0),r<=t&&(!e.lastProcessedDate||new Date(e.lastProcessedDate).toDateString()!==t.toDateString())});if(r.length>0&&e){console.log(`Found ${r.length} due subscriptions`);for(const t of r){if(!e)break;await $(t)}}})(),()=>{e=!1}},[s,o]);const L=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"INR";return new Intl.NumberFormat("en-IN",{style:"currency",currency:t,minimumFractionDigits:"USD"===t?2:0,maximumFractionDigits:"USD"===t?2:0}).format(e)},F=(e,t)=>"USD"===t?84*e:e,z=(e,t)=>{const r=new Date(e),n=Xq.find(e=>e.value===t);return r.setMonth(r.getMonth()+((null===n||void 0===n?void 0:n.months)||1)),r.toISOString().split("T")[0]},U=e=>{const t=new Date;t.setHours(0,0,0,0);const r=new Date(e);r.setHours(0,0,0,0);const n=r-t;return Math.ceil(n/864e5)},V=()=>s.filter(e=>e.isActive).reduce((e,t)=>{const r="yearly"===t.billingCycle?t.amount/12:"quarterly"===t.billingCycle?t.amount/3:"half-yearly"===t.billingCycle?t.amount/6:t.amount;return e+F(r,t.currency)},0),B=()=>{const e={};return s.filter(e=>e.isActive).forEach(t=>{const r=t.category||"Other",n="yearly"===t.billingCycle?t.amount/12:"quarterly"===t.billingCycle?t.amount/3:"half-yearly"===t.billingCycle?t.amount/6:t.amount,a=F(n,t.currency);e[r]=(e[r]||0)+a}),Object.entries(e).sort((e,t)=>{let[,r]=e,[,n]=t;return n-r}).map(e=>{let[t,r]=e;return{category:t,amount:r}})},$=async e=>{if(o&&e)try{const t=Jg(ry),r={type:"expense",amount:e.amount,amountInINR:F(e.amount,e.currency),currency:e.currency,exchangeRate:"USD"===e.currency?84:1,accountId:e.accountId,accountName:e.accountName,category:"Subscriptions",paymentMode:"Auto Debit",notes:`Subscription: ${e.name}`,date:(new Date).toISOString(),userId:o.uid,subscriptionId:e.id,createdAt:(new Date).toISOString()},n=zm(Fm(ry,"users",o.uid,"transactions"));t.set(n,r);const a=zm(ry,"users",o.uid,"accounts",e.accountId);t.update(a,{balance:Xg(-e.amount),lastActivityAt:(new Date).toISOString(),updatedAt:(new Date).toISOString()});const i=zm(ry,"users",o.uid,"subscriptions",e.id);t.update(i,{lastBillingDate:(new Date).toISOString(),lastProcessedDate:(new Date).toISOString(),nextBillingDate:z(e.nextBillingDate,e.billingCycle),totalSpent:Xg(e.amount),transactionCount:Xg(1),updatedAt:(new Date).toISOString()}),await t.commit(),console.log(`Processed subscription: ${e.name}`)}catch(t){console.error("Error processing subscription:",t)}},q=()=>{D({name:"",category:"Entertainment",serviceName:"",amount:"",currency:"INR",accountId:"",billingCycle:"monthly",nextBillingDate:(new Date).toISOString().split("T")[0],description:"",isActive:!0,notifyBeforeDays:2,autoRenew:!0})};(0,t.useEffect)(()=>{const e=()=>k(null);return document.addEventListener("click",e),()=>document.removeEventListener("click",e)},[]);const H=s.reduce((e,t)=>{const r=t.category||"Other";return e[r]||(e[r]=[]),e[r].push(t),e},{}),K=s.filter(e=>{const t="all"===_||e.category===_,r=e.name.toLowerCase().includes(C.toLowerCase())||e.serviceName&&e.serviceName.toLowerCase().includes(C.toLowerCase());return t&&r}),W=e=>{const t=Qq[e.category]||Qq.Other,r=t.icon,n=t.color,a=U(e.nextBillingDate),s=i.find(t=>t.id===e.accountId),l=a<=0;return(0,ny.jsxs)("div",{className:`border border-gray-200 dark:border-white/10 rounded-xl p-4 transition-all duration-300 hover:shadow-md dark:hover:shadow-xl ${e.isActive?"":"opacity-60"} ${l?"ring-2 ring-orange-500 ring-opacity-50":""}`,children:[(0,ny.jsxs)("div",{className:"flex items-start justify-between",children:[(0,ny.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,ny.jsx)("div",{className:`w-12 h-12 rounded-xl bg-${n}-100 dark:bg-${n}-500/20 flex items-center justify-center flex-shrink-0`,children:(0,ny.jsx)(r,{className:`w-6 h-6 text-${n}-600 dark:text-${n}-400`})}),(0,ny.jsxs)("div",{className:"flex-1",children:[(0,ny.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ny.jsx)("h4",{className:"font-semibold text-gray-900 dark:text-white",children:e.name}),!e.isActive&&(0,ny.jsx)("span",{className:"px-2 py-0.5 text-xs bg-gray-200 dark:bg-gray-700 text-gray-600 dark:text-gray-400 rounded-full",children:"Paused"}),l&&e.isActive&&(0,ny.jsx)("span",{className:"px-2 py-0.5 text-xs bg-orange-100 dark:bg-orange-500/20 text-orange-600 dark:text-orange-400 rounded-full",children:"Due"})]}),(0,ny.jsxs)("div",{className:"flex items-center space-x-4 mt-1 text-sm text-gray-600 dark:text-gray-400",children:[(0,ny.jsx)("span",{children:e.serviceName||e.category}),(0,ny.jsx)("span",{children:"\u2022"}),(0,ny.jsx)("span",{className:"capitalize",children:e.billingCycle}),e.isActive&&(0,ny.jsxs)(ny.Fragment,{children:[(0,ny.jsx)("span",{children:"\u2022"}),(0,ny.jsx)("span",{className:""+(a<=3?"text-orange-600 dark:text-orange-400 font-medium":""),children:0===a?"Due today":a<0?`Overdue by ${Math.abs(a)} days`:1===a?"Due tomorrow":`Due in ${a} days`})]})]}),(0,ny.jsxs)("div",{className:"flex items-center space-x-2 mt-2",children:[(0,ny.jsx)(py,{className:"w-4 h-4 text-gray-400"}),(0,ny.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:(null===s||void 0===s?void 0:s.name)||e.accountName||"Unknown Account"})]})]})]}),(0,ny.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,ny.jsxs)("div",{className:"text-right",children:[(0,ny.jsx)("p",{className:"font-semibold text-gray-900 dark:text-white",children:L(e.amount,e.currency)}),"INR"!==e.currency&&(0,ny.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["\u2248 ",L(F(e.amount,e.currency))]})]}),(0,ny.jsxs)("div",{className:"relative",children:[(0,ny.jsx)("button",{onClick:t=>{t.stopPropagation(),k(w===e.id?null:e.id)},className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors duration-300",children:(0,ny.jsx)(Wy,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})}),w===e.id&&(0,ny.jsxs)("div",{className:"absolute right-0 mt-2 w-48 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 py-1 z-10",children:[l&&e.isActive&&(0,ny.jsxs)(ny.Fragment,{children:[(0,ny.jsxs)("button",{onClick:()=>(e=>{v(e),g(!0),k(null)})(e),className:"w-full text-left px-4 py-2 text-sm text-orange-600 dark:text-orange-400 hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center space-x-2 transition-colors duration-300",children:[(0,ny.jsx)(Iy,{className:"w-4 h-4"}),(0,ny.jsx)("span",{children:"Process Now"})]}),(0,ny.jsx)("div",{className:"border-t border-gray-200 dark:border-gray-700 my-1"})]}),(0,ny.jsxs)("button",{onClick:()=>(async e=>{if(o)try{const t=zm(ry,"users",o.uid,"subscriptions",e.id);await qg(t,{isActive:!e.isActive,updatedAt:(new Date).toISOString()})}catch(t){console.error("Error toggling subscription:",t)}})(e),className:"w-full text-left px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center space-x-2 transition-colors duration-300",children:[e.isActive?(0,ny.jsx)($q,{className:"w-4 h-4"}):(0,ny.jsx)(qq,{className:"w-4 h-4"}),(0,ny.jsx)("span",{children:e.isActive?"Pause":"Resume"})]}),(0,ny.jsxs)("button",{onClick:()=>(e=>{v(e),D({name:e.name,category:e.category||"Other",serviceName:e.serviceName||"",amount:e.amount.toString(),currency:e.currency,accountId:e.accountId,billingCycle:e.billingCycle,nextBillingDate:e.nextBillingDate,description:e.description||"",isActive:e.isActive,notifyBeforeDays:e.notifyBeforeDays,autoRenew:e.autoRenew}),h(!0),k(null)})(e),className:"w-full text-left px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center space-x-2 transition-colors duration-300",children:[(0,ny.jsx)(Gy,{className:"w-4 h-4"}),(0,ny.jsx)("span",{children:"Edit"})]}),(0,ny.jsx)("div",{className:"border-t border-gray-200 dark:border-gray-700 my-1"}),(0,ny.jsxs)("button",{onClick:()=>(e=>{v(e),p(!0),k(null)})(e),className:"w-full text-left px-4 py-2 text-sm text-red-600 dark:text-red-400 hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center space-x-2 transition-colors duration-300",children:[(0,ny.jsx)(Yy,{className:"w-4 h-4"}),(0,ny.jsx)("span",{children:"Delete"})]})]})]})]})]}),e.description&&(0,ny.jsx)("p",{className:"mt-3 text-sm text-gray-600 dark:text-gray-400 bg-gray-50 dark:bg-white/5 rounded-lg p-2",children:e.description}),(0,ny.jsxs)("div",{className:"mt-3 flex items-center justify-between text-xs text-gray-500 dark:text-gray-400",children:[(0,ny.jsx)("span",{children:e.totalSpent>0?`Total spent: ${L(e.totalSpent,e.currency)}`:"No transactions yet"}),(0,ny.jsxs)("span",{children:["Next billing: ",new Date(e.nextBillingDate).toLocaleDateString("en-IN")]})]})]},e.id)},G=s.filter(e=>e.isActive).map(e=>({...e,daysUntil:U(e.nextBillingDate)})).filter(e=>e.daysUntil>=0&&e.daysUntil<=7).sort((e,t)=>e.daysUntil-t.daysUntil);return(0,ny.jsxs)("div",{className:"p-6 space-y-6 animate-fade-in relative min-h-screen transition-all duration-500",children:[(0,ny.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ny.jsxs)("div",{children:[(0,ny.jsx)("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white transition-colors duration-300",children:"Subscriptions"}),(0,ny.jsx)("p",{className:"text-gray-600 dark:text-gray-400 transition-colors duration-300",children:"Manage your recurring payments and subscriptions"})]}),(0,ny.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ny.jsxs)("div",{className:"flex bg-white dark:bg-white/5 rounded-lg p-1 shadow-sm dark:shadow-lg backdrop-blur-sm border border-gray-200 dark:border-white/10",children:[(0,ny.jsx)("button",{onClick:()=>S("category"),className:"p-2 rounded-md transition-all duration-300 "+("category"===j?"bg-orange-500 text-white shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"),children:(0,ny.jsx)(Hq,{className:"w-4 h-4"})}),(0,ny.jsx)("button",{onClick:()=>S("list"),className:"p-2 rounded-md transition-all duration-300 "+("list"===j?"bg-orange-500 text-white shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"),children:(0,ny.jsx)(Kq,{className:"w-4 h-4"})})]}),(0,ny.jsx)("button",{onClick:()=>I(!O),className:"p-2 rounded-lg shadow-sm dark:shadow-lg hover:shadow-md dark:hover:shadow-xl transition-all duration-300 backdrop-blur-sm border "+(O?"bg-orange-500 text-white border-orange-500":"bg-white dark:bg-white/5 text-gray-600 dark:text-gray-400 border-gray-200 dark:border-white/10"),children:(0,ny.jsx)(UU,{className:"w-5 h-5"})}),(0,ny.jsxs)("button",{onClick:()=>u(!0),className:"bg-orange-500 hover:bg-orange-600 text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-all duration-300 transform hover:-translate-y-0.5 shadow-md dark:shadow-lg",children:[(0,ny.jsx)(qy,{className:"w-4 h-4"}),(0,ny.jsx)("span",{children:"Add Subscription"})]})]})]}),(0,ny.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,ny.jsxs)("div",{className:"bg-white dark:bg-white/5 rounded-xl p-4 backdrop-blur-sm shadow-lg dark:shadow-2xl transition-all duration-300 hover:transform hover:scale-[1.02]",children:[(0,ny.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,ny.jsx)("h3",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Active Subscriptions"}),(0,ny.jsx)("div",{className:"w-8 h-8 bg-blue-100 dark:bg-blue-500/20 rounded-lg flex items-center justify-center",children:(0,ny.jsx)(Iy,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"})})]}),(0,ny.jsx)("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:s.filter(e=>e.isActive).length}),(0,ny.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:[s.filter(e=>!e.isActive).length," paused"]})]}),(0,ny.jsxs)("div",{className:"bg-white dark:bg-white/5 rounded-xl p-4 backdrop-blur-sm shadow-lg dark:shadow-2xl transition-all duration-300 hover:transform hover:scale-[1.02]",children:[(0,ny.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,ny.jsx)("h3",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Monthly Spend"}),(0,ny.jsx)("div",{className:"w-8 h-8 bg-green-100 dark:bg-green-500/20 rounded-lg flex items-center justify-center",children:(0,ny.jsx)(VU,{className:"w-4 h-4 text-green-600 dark:text-green-400"})})]}),(0,ny.jsx)("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:L(V())}),(0,ny.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Estimated monthly total"})]}),(0,ny.jsxs)("div",{className:"bg-white dark:bg-white/5 rounded-xl p-4 backdrop-blur-sm shadow-lg dark:shadow-2xl transition-all duration-300 hover:transform hover:scale-[1.02]",children:[(0,ny.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,ny.jsx)("h3",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Yearly Projection"}),(0,ny.jsx)("div",{className:"w-8 h-8 bg-orange-100 dark:bg-orange-500/20 rounded-lg flex items-center justify-center",children:(0,ny.jsx)(gy,{className:"w-4 h-4 text-orange-600 dark:text-orange-400"})})]}),(0,ny.jsx)("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:L(s.filter(e=>e.isActive).reduce((e,t)=>{const r="monthly"===t.billingCycle?12*t.amount:"quarterly"===t.billingCycle?4*t.amount:"half-yearly"===t.billingCycle?2*t.amount:t.amount;return e+F(r,t.currency)},0))}),(0,ny.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Based on current subscriptions"})]}),(0,ny.jsxs)("div",{className:"bg-white dark:bg-white/5 rounded-xl p-4 backdrop-blur-sm shadow-lg dark:shadow-2xl transition-all duration-300 hover:transform hover:scale-[1.02]",children:[(0,ny.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,ny.jsx)("h3",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Due This Week"}),(0,ny.jsx)("div",{className:"w-8 h-8 bg-red-100 dark:bg-red-500/20 rounded-lg flex items-center justify-center",children:(0,ny.jsx)(Wq,{className:"w-4 h-4 text-red-600 dark:text-red-400"})})]}),(0,ny.jsx)("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:G.length}),(0,ny.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:G.length>0?`Next: ${G[0].name}`:"No upcoming"})]})]}),O&&(0,ny.jsx)("div",{className:"bg-white dark:bg-white/5 rounded-2xl p-4 backdrop-blur-sm shadow-lg dark:shadow-2xl transition-all duration-300",children:(0,ny.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,ny.jsx)("div",{className:"flex-1",children:(0,ny.jsxs)("div",{className:"relative",children:[(0,ny.jsx)(BU,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,ny.jsx)("input",{type:"text",value:C,onChange:e=>T(e.target.value),placeholder:"Search subscriptions...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300"})]})}),(0,ny.jsx)("div",{className:"flex gap-2",children:(0,ny.jsxs)("select",{value:_,onChange:e=>A(e.target.value),className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300",children:[(0,ny.jsx)("option",{value:"all",children:"All Categories"}),Object.keys(Qq).map(e=>(0,ny.jsx)("option",{value:e,children:e},e))]})})]})}),G.length>0&&(0,ny.jsx)("div",{className:"bg-yellow-50 dark:bg-yellow-500/10 border border-yellow-200 dark:border-yellow-500/20 rounded-lg p-4",children:(0,ny.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,ny.jsx)(Gq,{className:"w-5 h-5 text-yellow-600 dark:text-yellow-400 flex-shrink-0 mt-0.5"}),(0,ny.jsxs)("div",{className:"flex-1",children:[(0,ny.jsx)("h3",{className:"text-sm font-medium text-yellow-800 dark:text-yellow-300 mb-2",children:"Upcoming Billings This Week"}),(0,ny.jsx)("div",{className:"space-y-1",children:G.slice(0,3).map(e=>(0,ny.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,ny.jsxs)("span",{className:"text-yellow-700 dark:text-yellow-400",children:[e.name," - ",0===e.daysUntil?"Due today":`in ${e.daysUntil} days`]}),(0,ny.jsx)("span",{className:"font-medium text-yellow-800 dark:text-yellow-300",children:L(e.amount,e.currency)})]},e.id))})]})]})}),(0,ny.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,ny.jsxs)("div",{className:"lg:col-span-2 space-y-4",children:[(0,ny.jsx)("div",{className:"bg-white dark:bg-white/5 rounded-2xl backdrop-blur-sm shadow-lg dark:shadow-2xl transition-all duration-300",children:(0,ny.jsxs)("div",{className:"p-6",children:[(0,ny.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Your Subscriptions"}),0===K.length?(0,ny.jsxs)("div",{className:"text-center py-12",children:[(0,ny.jsx)(Iy,{className:"w-12 h-12 text-gray-400 dark:text-gray-600 mx-auto mb-4"}),(0,ny.jsx)("p",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No subscriptions yet"}),(0,ny.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-6",children:"Add your first subscription to start tracking recurring payments"}),(0,ny.jsxs)("button",{onClick:()=>u(!0),className:"bg-orange-500 hover:bg-orange-600 text-white px-6 py-3 rounded-lg inline-flex items-center space-x-2 transition-all duration-300 transform hover:-translate-y-0.5 shadow-md",children:[(0,ny.jsx)(qy,{className:"w-5 h-5"}),(0,ny.jsx)("span",{children:"Add Your First Subscription"})]})]}):(0,ny.jsx)(ny.Fragment,{children:"category"===j?(0,ny.jsx)("div",{className:"space-y-4",children:Object.entries(Qq).map(e=>{let[t,r]=e;const n=H[t]||[],a=n.filter(e=>""===C||e.name.toLowerCase().includes(C.toLowerCase())||e.serviceName&&e.serviceName.toLowerCase().includes(C.toLowerCase()));if(0===a.length&&C)return null;const i=(e=>(H[e]||[]).filter(e=>e.isActive).reduce((e,t)=>{const r="yearly"===t.billingCycle?t.amount/12:"quarterly"===t.billingCycle?t.amount/3:"half-yearly"===t.billingCycle?t.amount/6:t.amount;return e+F(r,t.currency)},0))(t),o=r.icon,s=N.has(t);return(0,ny.jsxs)("div",{className:"border border-gray-200 dark:border-white/10 rounded-xl overflow-hidden",children:[(0,ny.jsxs)("button",{onClick:()=>(e=>{const t=new Set(N);t.has(e)?t.delete(e):t.add(e),E(t)})(t),className:"w-full p-4 flex items-center justify-between hover:bg-gray-50 dark:hover:bg-white/5 transition-colors duration-300",children:[(0,ny.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ny.jsx)("div",{className:`w-10 h-10 rounded-xl bg-${r.color}-100 dark:bg-${r.color}-500/20 flex items-center justify-center`,children:(0,ny.jsx)(o,{className:`w-5 h-5 text-${r.color}-600 dark:text-${r.color}-400`})}),(0,ny.jsxs)("div",{className:"text-left",children:[(0,ny.jsx)("h3",{className:"font-semibold text-gray-900 dark:text-white",children:t}),(0,ny.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[n.length," subscriptions \u2022 ",L(i),"/month"]})]})]}),(0,ny.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ny.jsx)("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:L(i)}),s?(0,ny.jsx)(Yq,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"}):(0,ny.jsx)(Ry,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})]})]}),s&&(0,ny.jsx)("div",{className:"border-t border-gray-200 dark:border-white/10 p-4 space-y-3",children:a.length>0?a.map(W):(0,ny.jsx)("p",{className:"text-center text-gray-500 dark:text-gray-400 py-8",children:"No subscriptions in this category"})})]},t)})}):(0,ny.jsx)("div",{className:"space-y-3",children:K.map(W)})})]})}),(0,ny.jsx)("div",{className:"bg-blue-50 dark:bg-blue-500/10 border border-blue-200 dark:border-blue-500/20 rounded-lg p-4",children:(0,ny.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,ny.jsx)(XU,{className:"w-5 h-5 text-blue-600 dark:text-blue-400 flex-shrink-0 mt-0.5"}),(0,ny.jsxs)("div",{children:[(0,ny.jsx)("h4",{className:"text-sm font-medium text-blue-800 dark:text-blue-300 mb-1",children:"How Subscriptions Work"}),(0,ny.jsxs)("ul",{className:"text-xs text-blue-700 dark:text-blue-400 space-y-1",children:[(0,ny.jsx)("li",{children:"\u2022 Subscriptions automatically create expense transactions on their billing date"}),(0,ny.jsx)("li",{children:"\u2022 Account balances are updated when subscriptions are processed"}),(0,ny.jsx)("li",{children:"\u2022 You'll be notified before each billing based on your preferences"}),(0,ny.jsx)("li",{children:"\u2022 Pause subscriptions temporarily without losing your settings"})]})]})]})})]}),(0,ny.jsxs)("div",{className:"space-y-4",children:[(0,ny.jsxs)("div",{className:"bg-white dark:bg-white/5 rounded-2xl p-6 backdrop-blur-sm shadow-lg dark:shadow-2xl transition-all duration-300",children:[(0,ny.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Spending by Category"}),B().length>0?(0,ny.jsx)("div",{className:"space-y-3",children:B().map(e=>{let{category:t,amount:r}=e;const n=r/V()*100;return(0,ny.jsxs)("div",{children:[(0,ny.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,ny.jsx)("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:t}),(0,ny.jsx)("span",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:L(r)})]}),(0,ny.jsx)("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:(0,ny.jsx)("div",{className:"h-2 rounded-full bg-gradient-to-r from-orange-500 to-orange-600 transition-all duration-500",style:{width:`${n}%`}})})]},t)})}):(0,ny.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400 text-center py-4",children:"No active subscriptions"})]}),(0,ny.jsxs)("div",{className:"bg-white dark:bg-white/5 rounded-2xl p-6 backdrop-blur-sm shadow-lg dark:shadow-2xl transition-all duration-300",children:[(0,ny.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Quick Stats"}),(0,ny.jsxs)("div",{className:"space-y-3",children:[(0,ny.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ny.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Average per subscription"}),(0,ny.jsx)("span",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:L(s.filter(e=>e.isActive).length>0?V()/s.filter(e=>e.isActive).length:0)})]}),(0,ny.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ny.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Most expensive"}),(0,ny.jsx)("span",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:s.length>0?s.reduce((e,t)=>F(t.amount,t.currency)>F(e.amount,e.currency)?t:e).name:"-"})]}),(0,ny.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ny.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Yearly subscriptions"}),(0,ny.jsx)("span",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:s.filter(e=>"yearly"===e.billingCycle).length})]}),(0,ny.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ny.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total subscriptions"}),(0,ny.jsx)("span",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:s.length})]})]})]})]})]}),c&&(0,ny.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",onClick:e=>{e.target===e.currentTarget&&(u(!1),q())},children:(0,ny.jsxs)("div",{className:"bg-white dark:bg-gray-900 rounded-2xl p-6 w-full max-w-2xl max-h-[95vh] overflow-y-auto backdrop-blur-sm border border-gray-200 dark:border-gray-700",children:[(0,ny.jsx)("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-6",children:"Add Subscription"}),(0,ny.jsxs)("div",{className:"space-y-4",children:[(0,ny.jsxs)("div",{children:[(0,ny.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Subscription Name"}),(0,ny.jsx)("input",{type:"text",value:P.name,onChange:e=>D({...P,name:e.target.value}),placeholder:"e.g., Netflix Premium, ChatGPT Plus",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300",required:!0})]}),(0,ny.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,ny.jsxs)("div",{children:[(0,ny.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Category"}),(0,ny.jsx)("select",{value:P.category,onChange:e=>D({...P,category:e.target.value,serviceName:""}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300",required:!0,children:Object.keys(Qq).map(e=>(0,ny.jsx)("option",{value:e,children:e},e))})]}),(0,ny.jsxs)("div",{children:[(0,ny.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Service (Optional)"}),(0,ny.jsxs)("select",{value:P.serviceName,onChange:e=>D({...P,serviceName:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300",children:[(0,ny.jsx)("option",{value:"",children:"Select service (optional)"}),null===(r=Qq[P.category])||void 0===r?void 0:r.services.map(e=>(0,ny.jsx)("option",{value:e,children:e},e))]})]})]}),(0,ny.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,ny.jsxs)("div",{children:[(0,ny.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Amount"}),(0,ny.jsx)("input",{type:"number",step:"0.01",value:P.amount,onChange:e=>D({...P,amount:e.target.value}),placeholder:"0.00",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300",required:!0})]}),(0,ny.jsxs)("div",{children:[(0,ny.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Debit Account"}),(0,ny.jsxs)("select",{value:P.accountId,onChange:e=>{const t=i.find(t=>t.id===e.target.value);D({...P,accountId:e.target.value,currency:(null===t||void 0===t?void 0:t.currency)||"INR"})},className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300",required:!0,children:[(0,ny.jsx)("option",{value:"",children:"Select account"}),i.filter(e=>!e.isDeleted).map(e=>(0,ny.jsxs)("option",{value:e.id,children:[e.name," (",e.currency,")"]},e.id))]}),P.accountId&&(0,ny.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:["Currency: ",null===(n=i.find(e=>e.id===P.accountId))||void 0===n?void 0:n.currency]})]}),(0,ny.jsxs)("div",{children:[(0,ny.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Billing Cycle"}),(0,ny.jsx)("select",{value:P.billingCycle,onChange:e=>D({...P,billingCycle:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300",children:Xq.map(e=>(0,ny.jsx)("option",{value:e.value,children:e.label},e.value))})]})]}),(0,ny.jsxs)("div",{children:[(0,ny.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Next Billing Date"}),(0,ny.jsx)("input",{type:"date",value:P.nextBillingDate,onChange:e=>D({...P,nextBillingDate:e.target.value}),min:(new Date).toISOString().split("T")[0],className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300",required:!0})]}),(0,ny.jsxs)("div",{children:[(0,ny.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Description (Optional)"}),(0,ny.jsx)("textarea",{value:P.description,onChange:e=>D({...P,description:e.target.value}),placeholder:"Add any notes about this subscription...",rows:2,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300"})]}),(0,ny.jsx)("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-white/5 rounded-lg",children:(0,ny.jsxs)("div",{className:"flex items-center space-x-6",children:[(0,ny.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,ny.jsx)("input",{type:"checkbox",checked:P.autoRenew,onChange:e=>D({...P,autoRenew:e.target.checked}),className:"w-4 h-4 text-orange-600 bg-gray-100 border-gray-300 rounded focus:ring-orange-500 dark:focus:ring-orange-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"}),(0,ny.jsx)("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Auto-process on billing date"})]}),(0,ny.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ny.jsx)("label",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Notify before"}),(0,ny.jsx)("input",{type:"number",min:"0",max:"30",value:P.notifyBeforeDays,onChange:e=>D({...P,notifyBeforeDays:parseInt(e.target.value)||0}),className:"w-16 px-2 py-1 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300"}),(0,ny.jsx)("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"days"})]})]})}),(0,ny.jsxs)("div",{className:"flex space-x-3 pt-4",children:[(0,ny.jsx)("button",{type:"button",onClick:()=>{u(!1),q()},className:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors duration-300",children:"Cancel"}),(0,ny.jsx)("button",{onClick:async()=>{if(o&&!b&&P.name&&P.amount&&P.accountId)try{x(!0);const e=i.find(e=>e.id===P.accountId);if(!e)throw new Error("Account not found");const t={name:P.name,category:P.category,serviceName:P.serviceName||"",amount:parseFloat(P.amount),currency:e.currency,accountId:P.accountId,accountName:e.name,billingCycle:P.billingCycle,nextBillingDate:P.nextBillingDate,lastBillingDate:null,lastProcessedDate:null,description:P.description,isActive:P.isActive,notifyBeforeDays:P.notifyBeforeDays,autoRenew:P.autoRenew,totalSpent:0,transactionCount:0,userId:o.uid,createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString()};await Hg(Fm(ry,"users",o.uid,"subscriptions"),t),u(!1),q()}catch(e){console.error("Error adding subscription:",e),alert("Error adding subscription. Please try again.")}finally{x(!1)}},disabled:b||!P.name||!P.amount||!P.accountId,className:"flex-1 bg-orange-500 hover:bg-orange-600 text-white px-4 py-2 rounded-lg transition-colors duration-300 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:b?(0,ny.jsxs)(ny.Fragment,{children:[(0,ny.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),(0,ny.jsx)("span",{children:"Adding..."})]}):(0,ny.jsxs)(ny.Fragment,{children:[(0,ny.jsx)(Xy,{className:"w-4 h-4"}),(0,ny.jsx)("span",{children:"Add Subscription"})]})})]})]})]})}),d&&y&&(0,ny.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",onClick:e=>{e.target===e.currentTarget&&(h(!1),v(null),q())},children:(0,ny.jsxs)("div",{className:"bg-white dark:bg-gray-900 rounded-2xl p-6 w-full max-w-2xl max-h-[95vh] overflow-y-auto backdrop-blur-sm border border-gray-200 dark:border-gray-700",children:[(0,ny.jsx)("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-6",children:"Edit Subscription"}),(0,ny.jsx)("div",{className:"bg-blue-50 dark:bg-blue-500/10 border border-blue-200 dark:border-blue-500/20 rounded-lg p-4 mb-6",children:(0,ny.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,ny.jsx)(XU,{className:"w-5 h-5 text-blue-600 dark:text-blue-400 flex-shrink-0 mt-0.5"}),(0,ny.jsxs)("div",{children:[(0,ny.jsx)("h3",{className:"text-sm font-medium text-blue-800 dark:text-blue-300 mb-1",children:"Full Edit Mode"}),(0,ny.jsx)("p",{className:"text-xs text-blue-700 dark:text-blue-400",children:"You can now edit all fields including amount, billing cycle, and account. This will not affect past transactions."})]})]})}),(0,ny.jsxs)("div",{className:"space-y-4",children:[(0,ny.jsxs)("div",{children:[(0,ny.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Subscription Name"}),(0,ny.jsx)("input",{type:"text",value:P.name,onChange:e=>D({...P,name:e.target.value}),placeholder:"e.g., Netflix Premium, ChatGPT Plus",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300",required:!0})]}),(0,ny.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,ny.jsxs)("div",{children:[(0,ny.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Category"}),(0,ny.jsx)("select",{value:P.category,onChange:e=>D({...P,category:e.target.value,serviceName:""}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300",required:!0,children:Object.keys(Qq).map(e=>(0,ny.jsx)("option",{value:e,children:e},e))})]}),(0,ny.jsxs)("div",{children:[(0,ny.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Service (Optional)"}),(0,ny.jsxs)("select",{value:P.serviceName,onChange:e=>D({...P,serviceName:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300",children:[(0,ny.jsx)("option",{value:"",children:"Select service (optional)"}),null===(a=Qq[P.category])||void 0===a?void 0:a.services.map(e=>(0,ny.jsx)("option",{value:e,children:e},e))]})]})]}),(0,ny.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,ny.jsxs)("div",{children:[(0,ny.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Amount"}),(0,ny.jsx)("input",{type:"number",step:"0.01",value:P.amount,onChange:e=>D({...P,amount:e.target.value}),placeholder:"0.00",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300",required:!0})]}),(0,ny.jsxs)("div",{children:[(0,ny.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Debit Account"}),(0,ny.jsxs)("select",{value:P.accountId,onChange:e=>{const t=i.find(t=>t.id===e.target.value);D({...P,accountId:e.target.value,currency:(null===t||void 0===t?void 0:t.currency)||P.currency})},className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300",required:!0,children:[(0,ny.jsx)("option",{value:"",children:"Select account"}),i.filter(e=>!e.isDeleted).map(e=>(0,ny.jsxs)("option",{value:e.id,children:[e.name," (",e.currency,")"]},e.id))]})]}),(0,ny.jsxs)("div",{children:[(0,ny.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Billing Cycle"}),(0,ny.jsx)("select",{value:P.billingCycle,onChange:e=>D({...P,billingCycle:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300",children:Xq.map(e=>(0,ny.jsx)("option",{value:e.value,children:e.label},e.value))})]})]}),(0,ny.jsxs)("div",{children:[(0,ny.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Next Billing Date"}),(0,ny.jsx)("input",{type:"date",value:P.nextBillingDate,onChange:e=>D({...P,nextBillingDate:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300",required:!0})]}),(0,ny.jsxs)("div",{children:[(0,ny.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Description (Optional)"}),(0,ny.jsx)("textarea",{value:P.description,onChange:e=>D({...P,description:e.target.value}),placeholder:"Add any notes about this subscription...",rows:2,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300"})]}),(0,ny.jsx)("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-white/5 rounded-lg",children:(0,ny.jsxs)("div",{className:"flex items-center space-x-6",children:[(0,ny.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,ny.jsx)("input",{type:"checkbox",checked:P.autoRenew,onChange:e=>D({...P,autoRenew:e.target.checked}),className:"w-4 h-4 text-orange-600 bg-gray-100 border-gray-300 rounded focus:ring-orange-500 dark:focus:ring-orange-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"}),(0,ny.jsx)("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Auto-process on billing date"})]}),(0,ny.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ny.jsx)("label",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Notify before"}),(0,ny.jsx)("input",{type:"number",min:"0",max:"30",value:P.notifyBeforeDays,onChange:e=>D({...P,notifyBeforeDays:parseInt(e.target.value)||0}),className:"w-16 px-2 py-1 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300"}),(0,ny.jsx)("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"days"})]})]})}),(0,ny.jsxs)("div",{className:"flex space-x-3 pt-4",children:[(0,ny.jsx)("button",{type:"button",onClick:()=>{h(!1),v(null),q()},className:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors duration-300",children:"Cancel"}),(0,ny.jsx)("button",{onClick:async()=>{if(o&&y&&!b)try{x(!0);const e=zm(ry,"users",o.uid,"subscriptions",y.id),t=i.find(e=>e.id===P.accountId);await qg(e,{name:P.name,category:P.category,serviceName:P.serviceName,amount:parseFloat(P.amount),currency:(null===t||void 0===t?void 0:t.currency)||P.currency,accountId:P.accountId,accountName:(null===t||void 0===t?void 0:t.name)||P.accountName,billingCycle:P.billingCycle,nextBillingDate:P.nextBillingDate,description:P.description,isActive:P.isActive,notifyBeforeDays:P.notifyBeforeDays,autoRenew:P.autoRenew,updatedAt:(new Date).toISOString()}),h(!1),v(null),q()}catch(e){console.error("Error updating subscription:",e),alert("Error updating subscription. Please try again.")}finally{x(!1)}},disabled:b||!P.name||!P.amount||!P.accountId,className:"flex-1 bg-orange-500 hover:bg-orange-600 text-white px-4 py-2 rounded-lg transition-colors duration-300 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:b?(0,ny.jsxs)(ny.Fragment,{children:[(0,ny.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),(0,ny.jsx)("span",{children:"Updating..."})]}):(0,ny.jsxs)(ny.Fragment,{children:[(0,ny.jsx)(Xy,{className:"w-4 h-4"}),(0,ny.jsx)("span",{children:"Update Subscription"})]})})]})]})]})}),f&&y&&(0,ny.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",onClick:e=>{e.target===e.currentTarget&&(p(!1),v(null))},children:(0,ny.jsxs)("div",{className:"bg-white dark:bg-gray-900 rounded-2xl p-6 w-full max-w-md backdrop-blur-sm border border-gray-200 dark:border-gray-700",children:[(0,ny.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,ny.jsx)("div",{className:"w-10 h-10 bg-red-100 dark:bg-red-500/20 rounded-lg flex items-center justify-center",children:(0,ny.jsx)(Jy,{className:"w-5 h-5 text-red-600 dark:text-red-400"})}),(0,ny.jsx)("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Delete Subscription"})]}),(0,ny.jsxs)("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:["Are you sure you want to delete ",(0,ny.jsxs)("strong",{children:['"',y.name,'"']}),"? This action cannot be undone."]}),(0,ny.jsx)("div",{className:"bg-gray-50 dark:bg-white/5 rounded-lg p-4 mb-6",children:(0,ny.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"This will stop tracking this subscription but won't affect any existing transactions."})}),(0,ny.jsxs)("div",{className:"flex space-x-3",children:[(0,ny.jsx)("button",{type:"button",onClick:()=>{p(!1),v(null)},className:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors duration-300",children:"Cancel"}),(0,ny.jsx)("button",{onClick:async()=>{var e;if(o&&y&&!b)try{x(!0);const t=zm(ry,"users",o.uid,"subscriptions",y.id);await(e=t,Wg(Xs(e.firestore,qm),[new Nd(e._key,hd.none())])),p(!1),v(null)}catch(t){console.error("Error deleting subscription:",t),alert("Error deleting subscription. Please try again.")}finally{x(!1)}},disabled:b,className:"flex-1 bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg transition-colors duration-300 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:b?(0,ny.jsxs)(ny.Fragment,{children:[(0,ny.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),(0,ny.jsx)("span",{children:"Deleting..."})]}):(0,ny.jsxs)(ny.Fragment,{children:[(0,ny.jsx)(Yy,{className:"w-4 h-4"}),(0,ny.jsx)("span",{children:"Delete Subscription"})]})})]})]})}),m&&y&&(0,ny.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",onClick:e=>{e.target===e.currentTarget&&(g(!1),v(null))},children:(0,ny.jsxs)("div",{className:"bg-white dark:bg-gray-900 rounded-2xl p-6 w-full max-w-md backdrop-blur-sm border border-gray-200 dark:border-gray-700",children:[(0,ny.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,ny.jsx)("div",{className:"w-10 h-10 bg-orange-100 dark:bg-orange-500/20 rounded-lg flex items-center justify-center",children:(0,ny.jsx)(Iy,{className:"w-5 h-5 text-orange-600 dark:text-orange-400"})}),(0,ny.jsx)("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Process Subscription"})]}),(0,ny.jsxs)("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:["Process ",(0,ny.jsxs)("strong",{children:['"',y.name,'"']})," now? This will create an expense transaction and update your account balance."]}),(0,ny.jsxs)("div",{className:"bg-gray-50 dark:bg-white/5 rounded-lg p-4 mb-6 space-y-2",children:[(0,ny.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,ny.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Amount:"}),(0,ny.jsx)("span",{className:"font-medium text-gray-900 dark:text-white",children:L(y.amount,y.currency)})]}),(0,ny.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,ny.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Account:"}),(0,ny.jsx)("span",{className:"font-medium text-gray-900 dark:text-white",children:y.accountName})]}),(0,ny.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,ny.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Next billing:"}),(0,ny.jsx)("span",{className:"font-medium text-gray-900 dark:text-white",children:z(y.nextBillingDate,y.billingCycle)})]})]}),(0,ny.jsxs)("div",{className:"flex space-x-3",children:[(0,ny.jsx)("button",{type:"button",onClick:()=>{g(!1),v(null)},className:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors duration-300",children:"Cancel"}),(0,ny.jsx)("button",{onClick:async()=>{await $(y),g(!1),v(null)},disabled:b,className:"flex-1 bg-orange-500 hover:bg-orange-600 text-white px-4 py-2 rounded-lg transition-colors duration-300 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:b?(0,ny.jsxs)(ny.Fragment,{children:[(0,ny.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),(0,ny.jsx)("span",{children:"Processing..."})]}):(0,ny.jsxs)(ny.Fragment,{children:[(0,ny.jsx)(Xy,{className:"w-4 h-4"}),(0,ny.jsx)("span",{children:"Process Now"})]})})]})]})}),(0,ny.jsxs)("button",{onClick:()=>u(!0),className:"fixed bottom-6 right-6 w-14 h-14 bg-orange-500 hover:bg-orange-600 text-white rounded-full shadow-lg dark:shadow-2xl transition-all duration-300 flex items-center justify-center group transform hover:-translate-y-1 hover:shadow-xl dark:hover:shadow-3xl",children:[(0,ny.jsx)(qy,{className:"w-6 h-6"}),(0,ny.jsx)("span",{className:"absolute right-16 bg-gray-900 dark:bg-black text-white px-3 py-2 rounded-lg text-sm whitespace-nowrap opacity-0 group-hover:opacity-100 transition-all duration-300 shadow-lg dark:shadow-2xl",children:"Add Subscription"})]})]})},Zq=fy("palette",[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]]),eH=fy("database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),tH=fy("camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),rH=fy("pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]),nH=fy("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]),aH=fy("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]),iH=fy("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]]),oH=fy("file-text",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]),sH=e=>`https://www.gravatar.com/avatar/${btoa(e.toLowerCase().trim()).replace(/[^a-zA-Z0-9]/g,"").substring(0,32)}?d=mp&s=200`,lH=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const r=[{bg:"from-orange-500 to-red-500",text:"text-white"},{bg:"from-blue-500 to-purple-500",text:"text-white"},{bg:"from-green-500 to-teal-500",text:"text-white"},{bg:"from-purple-500 to-pink-500",text:"text-white"},{bg:"from-yellow-500 to-orange-500",text:"text-white"},{bg:"from-indigo-500 to-blue-500",text:"text-white"},{bg:"from-pink-500 to-rose-500",text:"text-white"},{bg:"from-teal-500 to-cyan-500",text:"text-white"}];return{initials:(null===e||void 0===e?void 0:e.split(" ").map(e=>e.charAt(0)).join("").substring(0,2).toUpperCase())||"U",color:r[t%r.length]}},cH=[{id:"cat",emoji:"\ud83d\udc31",name:"Cat"},{id:"dog",emoji:"\ud83d\udc36",name:"Dog"},{id:"fox",emoji:"\ud83e\udd8a",name:"Fox"},{id:"panda",emoji:"\ud83d\udc3c",name:"Panda"},{id:"koala",emoji:"\ud83d\udc28",name:"Koala"},{id:"lion",emoji:"\ud83e\udd81",name:"Lion"},{id:"tiger",emoji:"\ud83d\udc2f",name:"Tiger"},{id:"monkey",emoji:"\ud83d\udc35",name:"Monkey"},{id:"rabbit",emoji:"\ud83d\udc30",name:"Rabbit"},{id:"bear",emoji:"\ud83d\udc3b",name:"Bear"},{id:"unicorn",emoji:"\ud83e\udd84",name:"Unicorn"},{id:"dragon",emoji:"\ud83d\udc32",name:"Dragon"},{id:"robot",emoji:"\ud83e\udd16",name:"Robot"},{id:"alien",emoji:"\ud83d\udc7d",name:"Alien"},{id:"ghost",emoji:"\ud83d\udc7b",name:"Ghost"},{id:"wizard",emoji:"\ud83e\uddd9\u200d\u2642\ufe0f",name:"Wizard"},{id:"ninja",emoji:"\ud83e\udd77",name:"Ninja"},{id:"detective",emoji:"\ud83d\udd75\ufe0f",name:"Detective"},{id:"astronaut",emoji:"\ud83d\udc68\u200d\ud83d\ude80",name:"Astronaut"},{id:"artist",emoji:"\ud83c\udfa8",name:"Artist"},{id:"musician",emoji:"\ud83c\udfb5",name:"Musician"},{id:"chef",emoji:"\ud83d\udc68\u200d\ud83c\udf73",name:"Chef"},{id:"scientist",emoji:"\ud83e\uddea",name:"Scientist"},{id:"developer",emoji:"\ud83d\udcbb",name:"Developer"}];const uH=function(){const{currentUser:e,logout:r}=iy(),[n,a]=(0,t.useState)(!1),[i,o]=(0,t.useState)("profile"),[s,l]=(0,t.useState)(!1),[c,u]=(0,t.useState)(!1),[d,h]=(0,t.useState)(!1),[f,p]=(0,t.useState)(!1),[m,g]=(0,t.useState)(""),[y,v]=(0,t.useState)(!1),[b,x]=(0,t.useState)(""),[w,k]=(0,t.useState)({displayName:"",email:"",avatarType:"initials",avatarData:{colorIndex:0,emojiId:"cat"},hideBalances:!1,requireAuthForView:!1,sessionTimeout:30,theme:"light",currency:"INR",numberFormat:"indian",dateFormat:"DD/MM/YYYY",timeFormat:"12",emailNotifications:!0,pushNotifications:!0,transactionAlerts:!0,monthlyReports:!0,budgetAlerts:!0,defaultAccount:"",defaultPaymentMode:"",autoCategories:!0,roundTransactions:!1,analyticsTimeframe:"monthly",favoriteCharts:["netWorth","categories","trends"],showComparisons:!0,autoBackup:!0,backupFrequency:"weekly",dataRetention:"2years",developerMode:!1,betaFeatures:!1,analytics:!0}),[j,S]=(0,t.useState)([]),[N,E]=(0,t.useState)([]),[_,A]=(0,t.useState)({totalTransactions:0,totalAccounts:0,oldestTransaction:null,dataSize:"0 KB"});(0,t.useEffect)(()=>{C(),T()},[e]);const C=async()=>{if(e)try{const t=Eg(Fm(ry,"users",e.uid,"accounts"),Og("createdAt","desc")),r=(await $g(t)).docs.map(e=>({id:e.id,...e.data()}));S(r);const n=Eg(Fm(ry,"users",e.uid,"transactions"),Og("date","desc")),a=(await $g(n)).docs.map(e=>({id:e.id,...e.data()}));E(a);const i=a.length>0?new Date(a[a.length-1].date):null,o=Math.round((JSON.stringify(r)+JSON.stringify(a)).length/1024);A({totalTransactions:a.length,totalAccounts:r.filter(e=>!e.isDeleted).length,oldestTransaction:i,dataSize:o>1024?`${(o/1024).toFixed(1)} MB`:`${o} KB`})}catch(t){console.error("Error loading data:",t)}},T=()=>{const t=localStorage.getItem(`pesa_preferences_${null===e||void 0===e?void 0:e.uid}`);if(t)try{const e=JSON.parse(t);k(t=>({...t,...e}))}catch(r){console.error("Error loading preferences:",r)}e&&(k(t=>({...t,displayName:e.displayName||"",email:e.email||""})),x(e.displayName||""))},O=async()=>{if(e)try{a(!0),g("saving"),localStorage.setItem(`pesa_preferences_${e.uid}`,JSON.stringify(w)),"dark"===w.theme?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),localStorage.setItem("theme",w.theme),g("saved"),setTimeout(()=>g(""),2e3)}catch(t){console.error("Error saving preferences:",t),g("error"),setTimeout(()=>g(""),2e3)}finally{a(!1)}},I=async()=>{if(e&&b.trim())try{a(!0),g("saving"),await Si(e,{displayName:b.trim()}),k(e=>({...e,displayName:b.trim()})),v(!1),g("saved"),setTimeout(()=>g(""),2e3)}catch(t){console.error("Error updating display name:",t),g("error"),setTimeout(()=>g(""),2e3)}finally{a(!1)}},P=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"w-20 h-20",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"text-2xl";const{avatarType:r,avatarData:n}=w;switch(r){case"gravatar":return(0,ny.jsx)("img",{src:sH(w.email),alt:"Profile",className:`${e} rounded-full object-cover border-2 border-white dark:border-gray-700 shadow-lg`,onError:e=>{e.target.style.display="none",e.target.nextSibling.style.display="flex"}});case"predefined":const r=cH.find(e=>e.id===n.emojiId)||cH[0];return(0,ny.jsx)("div",{className:`${e} rounded-full bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-700 dark:to-gray-800 flex items-center justify-center border-2 border-white dark:border-gray-700 shadow-lg ${t}`,children:r.emoji});default:const{initials:a,color:i}=lH(w.displayName,n.colorIndex);return(0,ny.jsx)("div",{className:`${e} rounded-full bg-gradient-to-br ${i.bg} flex items-center justify-center ${i.text} font-bold ${t} border-2 border-white dark:border-gray-700 shadow-lg`,children:a})}},D=async t=>{if(e)try{a(!0);const r={metadata:{exportDate:(new Date).toISOString(),userId:e.uid,version:"2.0",format:t},accounts:j.filter(e=>!e.isDeleted),transactions:N,preferences:w},n="json"===t?JSON.stringify(r,null,2):M(r),i=new Blob([n],{type:"json"===t?"application/json":"text/csv"}),o=URL.createObjectURL(i),s=document.createElement("a");s.href=o,s.download=`pesa_export_${(new Date).toISOString().split("T")[0]}.${t}`,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(o),u(!1)}catch(r){console.error("Error exporting data:",r),alert("Error exporting data. Please try again.")}finally{a(!1)}},M=e=>{const t=[];return t.push("ACCOUNTS"),t.push("Name,Type,Currency,Balance,Created"),e.accounts.forEach(e=>{t.push(`"${e.name}","${e.type}","${e.currency}",${e.balance},"${e.createdAt}"`)}),t.push(""),t.push("TRANSACTIONS"),t.push("Date,Type,Amount,Currency,Account,Category,Payment Mode,Notes"),e.transactions.forEach(e=>{t.push(`"${e.date}","${e.type}",${e.amount},"${e.currency}","${e.accountName}","${e.category||""}","${e.paymentMode||""}","${e.notes||""}"`)}),t.join("\n")},R=async()=>{try{await r()}catch(e){console.error("Logout error:",e)}},L=[{id:"profile",label:"Profile",icon:xy},{id:"privacy",label:"Privacy & Security",icon:Sy},{id:"display",label:"Display & Theme",icon:Zq},{id:"notifications",label:"Notifications",icon:Gq},{id:"financial",label:"Financial",icon:py},{id:"analytics",label:"Analytics",icon:Oy},{id:"data",label:"Data & Backup",icon:eH},{id:"advanced",label:"Advanced",icon:Py}];return(0,ny.jsxs)("div",{className:"p-6 space-y-6 animate-fade-in relative min-h-screen transition-all duration-500",children:[(0,ny.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ny.jsxs)("div",{children:[(0,ny.jsx)("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white transition-colors duration-300",children:"Settings"}),(0,ny.jsx)("p",{className:"text-gray-600 dark:text-gray-400 transition-colors duration-300",children:"Customize your Pesa experience"})]}),(0,ny.jsxs)("div",{className:"flex items-center space-x-3",children:[m&&(0,ny.jsxs)("div",{className:"flex items-center space-x-2 px-3 py-1 rounded-lg text-sm "+("saving"===m?"bg-blue-100 dark:bg-blue-500/20 text-blue-700 dark:text-blue-300":"saved"===m?"bg-green-100 dark:bg-green-500/20 text-green-700 dark:text-green-300":"bg-red-100 dark:bg-red-500/20 text-red-700 dark:text-red-300"),children:["saving"===m&&(0,ny.jsx)(Iy,{className:"w-4 h-4 animate-spin"}),"saved"===m&&(0,ny.jsx)(Xy,{className:"w-4 h-4"}),"error"===m&&(0,ny.jsx)(Qy,{className:"w-4 h-4"}),(0,ny.jsx)("span",{children:"saving"===m?"Saving...":"saved"===m?"Saved!":"Error saving"})]}),(0,ny.jsxs)("button",{onClick:O,disabled:n,className:"bg-orange-500 hover:bg-orange-600 text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-all duration-300 transform hover:-translate-y-0.5 shadow-md dark:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,ny.jsx)(nH,{className:"w-4 h-4"}),(0,ny.jsx)("span",{children:"Save Changes"})]})]})]}),(0,ny.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[(0,ny.jsx)("div",{className:"lg:col-span-1",children:(0,ny.jsx)("div",{className:"bg-white dark:bg-white/5 rounded-2xl p-4 backdrop-blur-sm shadow-lg dark:shadow-2xl transition-all duration-300 sticky top-6",children:(0,ny.jsx)("nav",{className:"space-y-1",children:L.map(e=>{const t=e.icon;return(0,ny.jsxs)("button",{onClick:()=>o(e.id),className:"w-full text-left px-3 py-3 rounded-lg flex items-center space-x-3 transition-all duration-300 "+(i===e.id?"bg-orange-100 dark:bg-orange-500/20 text-orange-700 dark:text-orange-300":"text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-white/10 hover:text-gray-900 dark:hover:text-white"),children:[(0,ny.jsx)(t,{className:"w-5 h-5"}),(0,ny.jsx)("span",{className:"text-sm font-medium",children:e.label})]},e.id)})})})}),(0,ny.jsx)("div",{className:"lg:col-span-3",children:(0,ny.jsx)("div",{className:"bg-white dark:bg-white/5 rounded-2xl p-6 backdrop-blur-sm shadow-lg dark:shadow-2xl transition-all duration-300",children:(()=>{var t;switch(i){case"profile":return(0,ny.jsxs)("div",{className:"space-y-6",children:[(0,ny.jsxs)("div",{className:"flex items-center space-x-6",children:[(0,ny.jsxs)("div",{className:"relative",children:[P(),(0,ny.jsx)("button",{onClick:()=>p(!0),className:"absolute -bottom-1 -right-1 w-8 h-8 bg-orange-500 hover:bg-orange-600 text-white rounded-full flex items-center justify-center shadow-lg transition-colors duration-300",children:(0,ny.jsx)(tH,{className:"w-4 h-4"})})]}),(0,ny.jsxs)("div",{className:"flex-1",children:[y?(0,ny.jsxs)("div",{className:"space-y-2",children:[(0,ny.jsx)("input",{type:"text",value:b,onChange:e=>x(e.target.value),className:"text-xl font-semibold bg-transparent border-b-2 border-orange-500 focus:outline-none text-gray-900 dark:text-white",placeholder:"Enter your name",autoFocus:!0}),(0,ny.jsxs)("div",{className:"flex space-x-2",children:[(0,ny.jsx)("button",{onClick:I,disabled:n||!b.trim(),className:"px-3 py-1 bg-orange-500 hover:bg-orange-600 text-white text-sm rounded-lg transition-colors duration-300 disabled:opacity-50 disabled:cursor-not-allowed",children:"Save"}),(0,ny.jsx)("button",{onClick:()=>{v(!1),x(w.displayName)},className:"px-3 py-1 bg-gray-300 dark:bg-gray-600 text-gray-700 dark:text-gray-300 text-sm rounded-lg hover:bg-gray-400 dark:hover:bg-gray-500 transition-colors duration-300",children:"Cancel"})]})]}):(0,ny.jsxs)("div",{children:[(0,ny.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ny.jsx)("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:w.displayName||"User"}),(0,ny.jsx)("button",{onClick:()=>v(!0),className:"p-1 hover:bg-gray-100 dark:hover:bg-gray-700 rounded transition-colors duration-300",children:(0,ny.jsx)(rH,{className:"w-4 h-4 text-gray-600 dark:text-gray-400"})})]}),(0,ny.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:null===e||void 0===e?void 0:e.email}),(0,ny.jsxs)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Member since ",new Date(null===e||void 0===e?void 0:e.metadata.creationTime).toLocaleDateString()]})]}),f&&(0,ny.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:(0,ny.jsxs)("div",{className:"bg-white dark:bg-gray-900 rounded-2xl p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto backdrop-blur-sm border border-gray-200 dark:border-gray-700",children:[(0,ny.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,ny.jsx)("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Choose Your Avatar"}),(0,ny.jsx)("button",{onClick:()=>p(!1),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition-colors duration-300",children:(0,ny.jsx)(Qy,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})})]}),(0,ny.jsxs)("div",{className:"space-y-6",children:[(0,ny.jsxs)("div",{className:"text-center",children:[(0,ny.jsx)("div",{className:"inline-block",children:P("w-24 h-24","text-3xl")}),(0,ny.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-2",children:"Current Avatar"})]}),(0,ny.jsxs)("div",{children:[(0,ny.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Avatar Type"}),(0,ny.jsxs)("div",{className:"grid grid-cols-3 gap-3",children:[(0,ny.jsxs)("button",{onClick:()=>k(e=>({...e,avatarType:"initials"})),className:"p-4 border-2 rounded-lg transition-all duration-300 "+("initials"===w.avatarType?"border-orange-500 bg-orange-50 dark:bg-orange-500/10":"border-gray-300 dark:border-gray-600 hover:border-gray-400 dark:hover:border-gray-500"),children:[(0,ny.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-orange-500 to-red-500 rounded-full flex items-center justify-center text-white font-bold text-lg mx-auto mb-2",children:lH(w.displayName).initials}),(0,ny.jsx)("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Initials"})]}),(0,ny.jsxs)("button",{onClick:()=>k(e=>({...e,avatarType:"gravatar"})),className:"p-4 border-2 rounded-lg transition-all duration-300 "+("gravatar"===w.avatarType?"border-orange-500 bg-orange-50 dark:bg-orange-500/10":"border-gray-300 dark:border-gray-600 hover:border-gray-400 dark:hover:border-gray-500"),children:[(0,ny.jsx)("img",{src:sH(w.email),alt:"Gravatar",className:"w-12 h-12 rounded-full mx-auto mb-2 object-cover"}),(0,ny.jsx)("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Gravatar"})]}),(0,ny.jsxs)("button",{onClick:()=>k(e=>({...e,avatarType:"predefined"})),className:"p-4 border-2 rounded-lg transition-all duration-300 "+("predefined"===w.avatarType?"border-orange-500 bg-orange-50 dark:bg-orange-500/10":"border-gray-300 dark:border-gray-600 hover:border-gray-400 dark:hover:border-gray-500"),children:[(0,ny.jsx)("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-700 dark:to-gray-800 flex items-center justify-center text-2xl mx-auto mb-2",children:(null===(t=cH.find(e=>e.id===w.avatarData.emojiId))||void 0===t?void 0:t.emoji)||"\ud83d\udc31"}),(0,ny.jsx)("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Characters"})]})]})]}),"initials"===w.avatarType&&(0,ny.jsxs)("div",{children:[(0,ny.jsx)("h4",{className:"text-md font-medium text-gray-900 dark:text-white mb-3",children:"Color Theme"}),(0,ny.jsx)("div",{className:"grid grid-cols-4 gap-3",children:Array.from({length:8},(e,t)=>{const{color:r}=lH(w.displayName,t);return(0,ny.jsx)("button",{onClick:()=>k(e=>({...e,avatarData:{...e.avatarData,colorIndex:t}})),className:`relative w-16 h-16 rounded-full bg-gradient-to-br ${r.bg} flex items-center justify-center text-white font-bold text-lg border-4 transition-all duration-300 ${w.avatarData.colorIndex===t?"border-orange-500 scale-110":"border-gray-300 dark:border-gray-600 hover:scale-105"}`,children:lH(w.displayName).initials},t)})})]}),"predefined"===w.avatarType&&(0,ny.jsxs)("div",{children:[(0,ny.jsx)("h4",{className:"text-md font-medium text-gray-900 dark:text-white mb-3",children:"Choose Character"}),(0,ny.jsx)("div",{className:"grid grid-cols-6 gap-3 max-h-60 overflow-y-auto",children:cH.map(e=>(0,ny.jsx)("button",{onClick:()=>k(t=>({...t,avatarData:{...t.avatarData,emojiId:e.id}})),className:"relative w-16 h-16 rounded-full bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-700 dark:to-gray-800 flex items-center justify-center text-2xl border-4 transition-all duration-300 hover:scale-105 "+(w.avatarData.emojiId===e.id?"border-orange-500 scale-110":"border-gray-300 dark:border-gray-600"),title:e.name,children:e.emoji},e.id))})]}),"gravatar"===w.avatarType&&(0,ny.jsx)("div",{className:"bg-blue-50 dark:bg-blue-500/10 border border-blue-200 dark:border-blue-500/20 rounded-lg p-4",children:(0,ny.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,ny.jsx)(XU,{className:"w-5 h-5 text-blue-600 dark:text-blue-400 flex-shrink-0 mt-0.5"}),(0,ny.jsxs)("div",{children:[(0,ny.jsx)("h4",{className:"text-sm font-medium text-blue-800 dark:text-blue-300 mb-1",children:"About Gravatar"}),(0,ny.jsx)("p",{className:"text-xs text-blue-700 dark:text-blue-400",children:"Gravatar uses your email to fetch your globally recognized avatar. If you don't have a Gravatar account, a default pattern will be shown."}),(0,ny.jsx)("a",{href:"https://gravatar.com",target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-600 dark:text-blue-400 hover:underline mt-1 inline-block",children:"Set up your Gravatar \u2192"})]})]})}),(0,ny.jsxs)("div",{className:"flex space-x-3 pt-4",children:[(0,ny.jsx)("button",{onClick:()=>p(!1),className:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors duration-300",children:"Cancel"}),(0,ny.jsxs)("button",{onClick:()=>{O(),p(!1)},className:"flex-1 bg-orange-500 hover:bg-orange-600 text-white px-4 py-2 rounded-lg transition-colors duration-300 flex items-center justify-center space-x-2",children:[(0,ny.jsx)(nH,{className:"w-4 h-4"}),(0,ny.jsx)("span",{children:"Save Avatar"})]})]})]})]})})]})]}),(0,ny.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,ny.jsxs)("div",{className:"bg-gray-50 dark:bg-white/5 rounded-xl p-4",children:[(0,ny.jsx)("h4",{className:"font-medium text-gray-900 dark:text-white mb-3",children:"Account Statistics"}),(0,ny.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,ny.jsxs)("div",{className:"flex justify-between",children:[(0,ny.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Total Accounts"}),(0,ny.jsx)("span",{className:"font-medium text-gray-900 dark:text-white",children:_.totalAccounts})]}),(0,ny.jsxs)("div",{className:"flex justify-between",children:[(0,ny.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Total Transactions"}),(0,ny.jsx)("span",{className:"font-medium text-gray-900 dark:text-white",children:_.totalTransactions.toLocaleString()})]}),(0,ny.jsxs)("div",{className:"flex justify-between",children:[(0,ny.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Data Size"}),(0,ny.jsx)("span",{className:"font-medium text-gray-900 dark:text-white",children:_.dataSize})]}),_.oldestTransaction&&(0,ny.jsxs)("div",{className:"flex justify-between",children:[(0,ny.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Using since"}),(0,ny.jsx)("span",{className:"font-medium text-gray-900 dark:text-white",children:_.oldestTransaction.toLocaleDateString()})]})]})]}),(0,ny.jsxs)("div",{className:"bg-gray-50 dark:bg-white/5 rounded-xl p-4",children:[(0,ny.jsx)("h4",{className:"font-medium text-gray-900 dark:text-white mb-3",children:"Quick Actions"}),(0,ny.jsxs)("div",{className:"space-y-2",children:[(0,ny.jsxs)("button",{onClick:()=>u(!0),className:"w-full text-left px-3 py-2 text-sm bg-white dark:bg-white/5 rounded-lg hover:bg-gray-100 dark:hover:bg-white/10 transition-colors duration-300 flex items-center space-x-2",children:[(0,ny.jsx)(aH,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"}),(0,ny.jsx)("span",{children:"Export Data"})]}),(0,ny.jsxs)("button",{onClick:()=>h(!0),className:"w-full text-left px-3 py-2 text-sm bg-white dark:bg-white/5 rounded-lg hover:bg-gray-100 dark:hover:bg-white/10 transition-colors duration-300 flex items-center space-x-2",children:[(0,ny.jsx)(iH,{className:"w-4 h-4 text-green-600 dark:text-green-400"}),(0,ny.jsx)("span",{children:"Import Data"})]}),(0,ny.jsxs)("button",{onClick:R,className:"w-full text-left px-3 py-2 text-sm bg-white dark:bg-white/5 rounded-lg hover:bg-gray-100 dark:hover:bg-white/10 transition-colors duration-300 flex items-center space-x-2",children:[(0,ny.jsx)(Ly,{className:"w-4 h-4 text-orange-600 dark:text-orange-400"}),(0,ny.jsx)("span",{children:"Sign Out"})]})]})]})]})]});case"privacy":return(0,ny.jsxs)("div",{className:"space-y-6",children:[(0,ny.jsx)("div",{className:"bg-blue-50 dark:bg-blue-500/10 border border-blue-200 dark:border-blue-500/20 rounded-lg p-4",children:(0,ny.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,ny.jsx)(Sy,{className:"w-5 h-5 text-blue-600 dark:text-blue-400 flex-shrink-0 mt-0.5"}),(0,ny.jsxs)("div",{children:[(0,ny.jsx)("h3",{className:"text-sm font-medium text-blue-800 dark:text-blue-300 mb-1",children:"Your Privacy Matters"}),(0,ny.jsx)("p",{className:"text-xs text-blue-700 dark:text-blue-400",children:"All your financial data is encrypted and stored securely. We never share your data with third parties."})]})]})}),(0,ny.jsxs)("div",{className:"space-y-4",children:[(0,ny.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ny.jsxs)("div",{children:[(0,ny.jsx)("h4",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Hide Balance Amounts"}),(0,ny.jsx)("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Show \u2022\u2022\u2022\u2022\u2022\u2022\u2022 instead of actual amounts"})]}),(0,ny.jsx)("button",{onClick:()=>k(e=>({...e,hideBalances:!e.hideBalances})),className:"relative inline-flex h-6 w-11 items-center rounded-full transition-colors duration-300 "+(w.hideBalances?"bg-orange-500":"bg-gray-300 dark:bg-gray-600"),children:(0,ny.jsx)("span",{className:"inline-block h-4 w-4 transform rounded-full bg-white transition-transform duration-300 "+(w.hideBalances?"translate-x-6":"translate-x-1")})})]}),(0,ny.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ny.jsxs)("div",{children:[(0,ny.jsx)("h4",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Require Authentication for View"}),(0,ny.jsx)("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Require login confirmation before showing data"})]}),(0,ny.jsx)("button",{onClick:()=>k(e=>({...e,requireAuthForView:!e.requireAuthForView})),className:"relative inline-flex h-6 w-11 items-center rounded-full transition-colors duration-300 "+(w.requireAuthForView?"bg-orange-500":"bg-gray-300 dark:bg-gray-600"),children:(0,ny.jsx)("span",{className:"inline-block h-4 w-4 transform rounded-full bg-white transition-transform duration-300 "+(w.requireAuthForView?"translate-x-6":"translate-x-1")})})]}),(0,ny.jsxs)("div",{children:[(0,ny.jsx)("label",{className:"block text-sm font-medium text-gray-900 dark:text-white mb-2",children:"Session Timeout"}),(0,ny.jsxs)("select",{value:w.sessionTimeout,onChange:e=>k(t=>({...t,sessionTimeout:parseInt(e.target.value)})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300",children:[(0,ny.jsx)("option",{value:15,children:"15 minutes"}),(0,ny.jsx)("option",{value:30,children:"30 minutes"}),(0,ny.jsx)("option",{value:60,children:"1 hour"}),(0,ny.jsx)("option",{value:240,children:"4 hours"}),(0,ny.jsx)("option",{value:480,children:"8 hours"}),(0,ny.jsx)("option",{value:1440,children:"24 hours"})]}),(0,ny.jsx)("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:"Automatically log out after inactivity"})]})]})]});case"display":return(0,ny.jsxs)("div",{className:"space-y-6",children:[(0,ny.jsxs)("div",{children:[(0,ny.jsx)("label",{className:"block text-sm font-medium text-gray-900 dark:text-white mb-3",children:"Theme"}),(0,ny.jsx)("div",{className:"grid grid-cols-2 gap-3",children:[{value:"light",label:"Light",icon:Dy,desc:"Clean and bright interface"},{value:"dark",label:"Dark",icon:My,desc:"Easy on the eyes, perfect for night use"}].map(e=>(0,ny.jsxs)("button",{onClick:()=>k(t=>({...t,theme:e.value})),className:"p-4 border-2 rounded-lg transition-all duration-300 "+(w.theme===e.value?"border-orange-500 bg-orange-50 dark:bg-orange-500/10":"border-gray-300 dark:border-gray-600 hover:border-gray-400 dark:hover:border-gray-500"),children:[(0,ny.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,ny.jsx)(e.icon,{className:"w-5 h-5 "+(w.theme===e.value?"text-orange-600 dark:text-orange-400":"text-gray-600 dark:text-gray-400")}),(0,ny.jsx)("span",{className:"font-medium "+(w.theme===e.value?"text-orange-700 dark:text-orange-300":"text-gray-900 dark:text-white"),children:e.label})]}),(0,ny.jsx)("p",{className:"text-xs text-gray-600 dark:text-gray-400 text-left",children:e.desc})]},e.value))})]}),(0,ny.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,ny.jsxs)("div",{children:[(0,ny.jsx)("label",{className:"block text-sm font-medium text-gray-900 dark:text-white mb-2",children:"Default Currency"}),(0,ny.jsxs)("select",{value:w.currency,onChange:e=>k(t=>({...t,currency:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300",children:[(0,ny.jsx)("option",{value:"INR",children:"Indian Rupee (\u20b9)"}),(0,ny.jsx)("option",{value:"USD",children:"US Dollar ($)"})]})]}),(0,ny.jsxs)("div",{children:[(0,ny.jsx)("label",{className:"block text-sm font-medium text-gray-900 dark:text-white mb-2",children:"Number Format"}),(0,ny.jsxs)("select",{value:w.numberFormat,onChange:e=>k(t=>({...t,numberFormat:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300",children:[(0,ny.jsx)("option",{value:"indian",children:"Indian (1,23,456)"}),(0,ny.jsx)("option",{value:"international",children:"International (123,456)"})]})]}),(0,ny.jsxs)("div",{children:[(0,ny.jsx)("label",{className:"block text-sm font-medium text-gray-900 dark:text-white mb-2",children:"Date Format"}),(0,ny.jsxs)("select",{value:w.dateFormat,onChange:e=>k(t=>({...t,dateFormat:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300",children:[(0,ny.jsx)("option",{value:"DD/MM/YYYY",children:"DD/MM/YYYY"}),(0,ny.jsx)("option",{value:"MM/DD/YYYY",children:"MM/DD/YYYY"}),(0,ny.jsx)("option",{value:"YYYY-MM-DD",children:"YYYY-MM-DD"})]})]}),(0,ny.jsxs)("div",{children:[(0,ny.jsx)("label",{className:"block text-sm font-medium text-gray-900 dark:text-white mb-2",children:"Time Format"}),(0,ny.jsxs)("select",{value:w.timeFormat,onChange:e=>k(t=>({...t,timeFormat:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300",children:[(0,ny.jsx)("option",{value:"12",children:"12 Hour (3:30 PM)"}),(0,ny.jsx)("option",{value:"24",children:"24 Hour (15:30)"})]})]})]})]});case"notifications":return(0,ny.jsxs)("div",{className:"space-y-6",children:[(0,ny.jsx)("div",{className:"bg-green-50 dark:bg-green-500/10 border border-green-200 dark:border-green-500/20 rounded-lg p-4",children:(0,ny.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,ny.jsx)(Gq,{className:"w-5 h-5 text-green-600 dark:text-green-400 flex-shrink-0 mt-0.5"}),(0,ny.jsxs)("div",{children:[(0,ny.jsx)("h3",{className:"text-sm font-medium text-green-800 dark:text-green-300 mb-1",children:"Stay Informed"}),(0,ny.jsx)("p",{className:"text-xs text-green-700 dark:text-green-400",children:"Get notified about important financial events and updates."})]})]})}),(0,ny.jsx)("div",{className:"space-y-4",children:[{key:"emailNotifications",label:"Email Notifications",desc:"Receive notifications via email"},{key:"pushNotifications",label:"Push Notifications",desc:"Browser notifications for important updates"},{key:"transactionAlerts",label:"Transaction Alerts",desc:"Notify when transactions are added"},{key:"monthlyReports",label:"Monthly Reports",desc:"Monthly summary of your finances"},{key:"budgetAlerts",label:"Budget Alerts",desc:"Alerts when approaching spending limits"}].map(e=>(0,ny.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ny.jsxs)("div",{children:[(0,ny.jsx)("h4",{className:"text-sm font-medium text-gray-900 dark:text-white",children:e.label}),(0,ny.jsx)("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:e.desc})]}),(0,ny.jsx)("button",{onClick:()=>k(t=>({...t,[e.key]:!t[e.key]})),className:"relative inline-flex h-6 w-11 items-center rounded-full transition-colors duration-300 "+(w[e.key]?"bg-orange-500":"bg-gray-300 dark:bg-gray-600"),children:(0,ny.jsx)("span",{className:"inline-block h-4 w-4 transform rounded-full bg-white transition-transform duration-300 "+(w[e.key]?"translate-x-6":"translate-x-1")})})]},e.key))})]});case"financial":return(0,ny.jsxs)("div",{className:"space-y-6",children:[(0,ny.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,ny.jsxs)("div",{children:[(0,ny.jsx)("label",{className:"block text-sm font-medium text-gray-900 dark:text-white mb-2",children:"Default Account"}),(0,ny.jsxs)("select",{value:w.defaultAccount,onChange:e=>k(t=>({...t,defaultAccount:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300",children:[(0,ny.jsx)("option",{value:"",children:"Select default account"}),j.filter(e=>!e.isDeleted).map(e=>(0,ny.jsxs)("option",{value:e.id,children:[e.name," (",e.currency,")"]},e.id))]}),(0,ny.jsx)("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:"Pre-selected when adding transactions"})]}),(0,ny.jsxs)("div",{children:[(0,ny.jsx)("label",{className:"block text-sm font-medium text-gray-900 dark:text-white mb-2",children:"Default Payment Mode"}),(0,ny.jsxs)("select",{value:w.defaultPaymentMode,onChange:e=>k(t=>({...t,defaultPaymentMode:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300",children:[(0,ny.jsx)("option",{value:"",children:"Select default payment mode"}),(0,ny.jsx)("option",{value:"UPI",children:"UPI"}),(0,ny.jsx)("option",{value:"Bank Transfer",children:"Bank Transfer"}),(0,ny.jsx)("option",{value:"Debit Card",children:"Debit Card"}),(0,ny.jsx)("option",{value:"Credit Card",children:"Credit Card"}),(0,ny.jsx)("option",{value:"Cash",children:"Cash"})]})]})]}),(0,ny.jsxs)("div",{className:"space-y-4",children:[(0,ny.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ny.jsxs)("div",{children:[(0,ny.jsx)("h4",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Auto-categorize Transactions"}),(0,ny.jsx)("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Automatically suggest categories based on transaction patterns"})]}),(0,ny.jsx)("button",{onClick:()=>k(e=>({...e,autoCategories:!e.autoCategories})),className:"relative inline-flex h-6 w-11 items-center rounded-full transition-colors duration-300 "+(w.autoCategories?"bg-orange-500":"bg-gray-300 dark:bg-gray-600"),children:(0,ny.jsx)("span",{className:"inline-block h-4 w-4 transform rounded-full bg-white transition-transform duration-300 "+(w.autoCategories?"translate-x-6":"translate-x-1")})})]}),(0,ny.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ny.jsxs)("div",{children:[(0,ny.jsx)("h4",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Round Transaction Amounts"}),(0,ny.jsx)("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Round amounts to nearest whole number for cleaner display"})]}),(0,ny.jsx)("button",{onClick:()=>k(e=>({...e,roundTransactions:!e.roundTransactions})),className:"relative inline-flex h-6 w-11 items-center rounded-full transition-colors duration-300 "+(w.roundTransactions?"bg-orange-500":"bg-gray-300 dark:bg-gray-600"),children:(0,ny.jsx)("span",{className:"inline-block h-4 w-4 transform rounded-full bg-white transition-transform duration-300 "+(w.roundTransactions?"translate-x-6":"translate-x-1")})})]})]}),(0,ny.jsxs)("div",{className:"bg-gray-50 dark:bg-white/5 rounded-xl p-4",children:[(0,ny.jsx)("h4",{className:"font-medium text-gray-900 dark:text-white mb-3",children:"Exchange Rate Info"}),(0,ny.jsxs)("div",{className:"text-sm space-y-1",children:[(0,ny.jsxs)("div",{className:"flex justify-between",children:[(0,ny.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Current USD to INR Rate"}),(0,ny.jsxs)("span",{className:"font-medium text-gray-900 dark:text-white",children:["\u20b9",84]})]}),(0,ny.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Fixed rate used for conversions. All USD amounts are converted at this rate."})]})]})]});case"analytics":return(0,ny.jsxs)("div",{className:"space-y-6",children:[(0,ny.jsxs)("div",{children:[(0,ny.jsx)("label",{className:"block text-sm font-medium text-gray-900 dark:text-white mb-3",children:"Default Analytics Timeframe"}),(0,ny.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[{value:"weekly",label:"Weekly"},{value:"monthly",label:"Monthly"},{value:"quarterly",label:"Quarterly"},{value:"yearly",label:"Yearly"}].map(e=>(0,ny.jsx)("button",{onClick:()=>k(t=>({...t,analyticsTimeframe:e.value})),className:"p-3 border-2 rounded-lg transition-all duration-300 "+(w.analyticsTimeframe===e.value?"border-orange-500 bg-orange-50 dark:bg-orange-500/10 text-orange-700 dark:text-orange-300":"border-gray-300 dark:border-gray-600 hover:border-gray-400 dark:hover:border-gray-500 text-gray-900 dark:text-white"),children:(0,ny.jsx)("span",{className:"font-medium",children:e.label})},e.value))})]}),(0,ny.jsxs)("div",{children:[(0,ny.jsx)("label",{className:"block text-sm font-medium text-gray-900 dark:text-white mb-3",children:"Favorite Charts"}),(0,ny.jsx)("div",{className:"space-y-2",children:[{value:"netWorth",label:"Net Worth Trend",icon:gy},{value:"categories",label:"Category Breakdown",icon:my},{value:"trends",label:"Income vs Expense",icon:Oy},{value:"accounts",label:"Account Distribution",icon:$y}].map(e=>(0,ny.jsxs)("label",{className:"flex items-center space-x-3 p-2 hover:bg-gray-50 dark:hover:bg-white/5 rounded-lg transition-colors duration-300",children:[(0,ny.jsx)("input",{type:"checkbox",checked:w.favoriteCharts.includes(e.value),onChange:t=>{t.target.checked?k(t=>({...t,favoriteCharts:[...t.favoriteCharts,e.value]})):k(t=>({...t,favoriteCharts:t.favoriteCharts.filter(t=>t!==e.value)}))},className:"w-4 h-4 text-orange-600 bg-gray-100 border-gray-300 rounded focus:ring-orange-500 dark:focus:ring-orange-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"}),(0,ny.jsx)(e.icon,{className:"w-4 h-4 text-gray-600 dark:text-gray-400"}),(0,ny.jsx)("span",{className:"text-sm text-gray-900 dark:text-white",children:e.label})]},e.value))})]}),(0,ny.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ny.jsxs)("div",{children:[(0,ny.jsx)("h4",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Show Comparisons"}),(0,ny.jsx)("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Compare current period with previous periods"})]}),(0,ny.jsx)("button",{onClick:()=>k(e=>({...e,showComparisons:!e.showComparisons})),className:"relative inline-flex h-6 w-11 items-center rounded-full transition-colors duration-300 "+(w.showComparisons?"bg-orange-500":"bg-gray-300 dark:bg-gray-600"),children:(0,ny.jsx)("span",{className:"inline-block h-4 w-4 transform rounded-full bg-white transition-transform duration-300 "+(w.showComparisons?"translate-x-6":"translate-x-1")})})]})]});case"data":return(0,ny.jsxs)("div",{className:"space-y-6",children:[(0,ny.jsx)("div",{className:"bg-yellow-50 dark:bg-yellow-500/10 border border-yellow-200 dark:border-yellow-500/20 rounded-lg p-4",children:(0,ny.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,ny.jsx)(eH,{className:"w-5 h-5 text-yellow-600 dark:text-yellow-400 flex-shrink-0 mt-0.5"}),(0,ny.jsxs)("div",{children:[(0,ny.jsx)("h3",{className:"text-sm font-medium text-yellow-800 dark:text-yellow-300 mb-1",children:"Data Management"}),(0,ny.jsx)("p",{className:"text-xs text-yellow-700 dark:text-yellow-400",children:"Backup your data regularly to prevent loss. Export data to keep local copies."})]})]})}),(0,ny.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,ny.jsxs)("div",{children:[(0,ny.jsx)("label",{className:"block text-sm font-medium text-gray-900 dark:text-white mb-2",children:"Auto Backup"}),(0,ny.jsxs)("select",{value:w.backupFrequency,onChange:e=>k(t=>({...t,backupFrequency:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300",children:[(0,ny.jsx)("option",{value:"disabled",children:"Disabled"}),(0,ny.jsx)("option",{value:"daily",children:"Daily"}),(0,ny.jsx)("option",{value:"weekly",children:"Weekly"}),(0,ny.jsx)("option",{value:"monthly",children:"Monthly"})]})]}),(0,ny.jsxs)("div",{children:[(0,ny.jsx)("label",{className:"block text-sm font-medium text-gray-900 dark:text-white mb-2",children:"Data Retention"}),(0,ny.jsxs)("select",{value:w.dataRetention,onChange:e=>k(t=>({...t,dataRetention:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300",children:[(0,ny.jsx)("option",{value:"1year",children:"1 Year"}),(0,ny.jsx)("option",{value:"2years",children:"2 Years"}),(0,ny.jsx)("option",{value:"5years",children:"5 Years"}),(0,ny.jsx)("option",{value:"forever",children:"Forever"})]})]})]}),(0,ny.jsxs)("div",{className:"space-y-3",children:[(0,ny.jsxs)("button",{onClick:()=>u(!0),className:"w-full p-4 bg-blue-50 dark:bg-blue-500/10 border border-blue-200 dark:border-blue-500/20 rounded-lg hover:bg-blue-100 dark:hover:bg-blue-500/20 transition-colors duration-300 flex items-center justify-between",children:[(0,ny.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ny.jsx)(aH,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),(0,ny.jsxs)("div",{className:"text-left",children:[(0,ny.jsx)("h4",{className:"text-sm font-medium text-blue-900 dark:text-blue-100",children:"Export Data"}),(0,ny.jsx)("p",{className:"text-xs text-blue-700 dark:text-blue-300",children:"Download all your data as JSON or CSV"})]})]}),(0,ny.jsx)(Hy,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"})]}),(0,ny.jsxs)("button",{onClick:()=>h(!0),className:"w-full p-4 bg-green-50 dark:bg-green-500/10 border border-green-200 dark:border-green-500/20 rounded-lg hover:bg-green-100 dark:hover:bg-green-500/20 transition-colors duration-300 flex items-center justify-between",children:[(0,ny.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ny.jsx)(iH,{className:"w-5 h-5 text-green-600 dark:text-green-400"}),(0,ny.jsxs)("div",{className:"text-left",children:[(0,ny.jsx)("h4",{className:"text-sm font-medium text-green-900 dark:text-green-100",children:"Import Data"}),(0,ny.jsx)("p",{className:"text-xs text-green-700 dark:text-green-300",children:"Import transactions from bank statements"})]})]}),(0,ny.jsx)(Hy,{className:"w-4 h-4 text-green-600 dark:text-green-400"})]}),(0,ny.jsxs)("button",{onClick:()=>l(!0),className:"w-full p-4 bg-red-50 dark:bg-red-500/10 border border-red-200 dark:border-red-500/20 rounded-lg hover:bg-red-100 dark:hover:bg-red-500/20 transition-colors duration-300 flex items-center justify-between",children:[(0,ny.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ny.jsx)(Yy,{className:"w-5 h-5 text-red-600 dark:text-red-400"}),(0,ny.jsxs)("div",{className:"text-left",children:[(0,ny.jsx)("h4",{className:"text-sm font-medium text-red-900 dark:text-red-100",children:"Delete All Data"}),(0,ny.jsx)("p",{className:"text-xs text-red-700 dark:text-red-300",children:"Permanently delete all accounts and transactions"})]})]}),(0,ny.jsx)(Hy,{className:"w-4 h-4 text-red-600 dark:text-red-400"})]})]})]});case"advanced":return(0,ny.jsxs)("div",{className:"space-y-6",children:[(0,ny.jsx)("div",{className:"bg-purple-50 dark:bg-purple-500/10 border border-purple-200 dark:border-purple-500/20 rounded-lg p-4",children:(0,ny.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,ny.jsx)(Py,{className:"w-5 h-5 text-purple-600 dark:text-purple-400 flex-shrink-0 mt-0.5"}),(0,ny.jsxs)("div",{children:[(0,ny.jsx)("h3",{className:"text-sm font-medium text-purple-800 dark:text-purple-300 mb-1",children:"Advanced Settings"}),(0,ny.jsx)("p",{className:"text-xs text-purple-700 dark:text-purple-400",children:"These settings are for advanced users and developers. Change only if you know what you're doing."})]})]})}),(0,ny.jsxs)("div",{className:"space-y-4",children:[(0,ny.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ny.jsxs)("div",{children:[(0,ny.jsx)("h4",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Developer Mode"}),(0,ny.jsx)("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Enable debug console and additional developer tools"})]}),(0,ny.jsx)("button",{onClick:()=>k(e=>({...e,developerMode:!e.developerMode})),className:"relative inline-flex h-6 w-11 items-center rounded-full transition-colors duration-300 "+(w.developerMode?"bg-orange-500":"bg-gray-300 dark:bg-gray-600"),children:(0,ny.jsx)("span",{className:"inline-block h-4 w-4 transform rounded-full bg-white transition-transform duration-300 "+(w.developerMode?"translate-x-6":"translate-x-1")})})]}),(0,ny.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ny.jsxs)("div",{children:[(0,ny.jsx)("h4",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Beta Features"}),(0,ny.jsx)("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Access experimental features (may be unstable)"})]}),(0,ny.jsx)("button",{onClick:()=>k(e=>({...e,betaFeatures:!e.betaFeatures})),className:"relative inline-flex h-6 w-11 items-center rounded-full transition-colors duration-300 "+(w.betaFeatures?"bg-orange-500":"bg-gray-300 dark:bg-gray-600"),children:(0,ny.jsx)("span",{className:"inline-block h-4 w-4 transform rounded-full bg-white transition-transform duration-300 "+(w.betaFeatures?"translate-x-6":"translate-x-1")})})]}),(0,ny.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ny.jsxs)("div",{children:[(0,ny.jsx)("h4",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Usage Analytics"}),(0,ny.jsx)("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Help improve Pesa by sharing anonymous usage data"})]}),(0,ny.jsx)("button",{onClick:()=>k(e=>({...e,analytics:!e.analytics})),className:"relative inline-flex h-6 w-11 items-center rounded-full transition-colors duration-300 "+(w.analytics?"bg-orange-500":"bg-gray-300 dark:bg-gray-600"),children:(0,ny.jsx)("span",{className:"inline-block h-4 w-4 transform rounded-full bg-white transition-transform duration-300 "+(w.analytics?"translate-x-6":"translate-x-1")})})]})]}),(0,ny.jsxs)("div",{className:"bg-gray-50 dark:bg-white/5 rounded-xl p-4",children:[(0,ny.jsx)("h4",{className:"font-medium text-gray-900 dark:text-white mb-3",children:"Application Info"}),(0,ny.jsxs)("div",{className:"text-sm space-y-1",children:[(0,ny.jsxs)("div",{className:"flex justify-between",children:[(0,ny.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Version"}),(0,ny.jsx)("span",{className:"font-medium text-gray-900 dark:text-white",children:"2.0.0"})]}),(0,ny.jsxs)("div",{className:"flex justify-between",children:[(0,ny.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Build"}),(0,ny.jsxs)("span",{className:"font-medium text-gray-900 dark:text-white",children:["#",(new Date).getTime().toString().slice(-6)]})]}),(0,ny.jsxs)("div",{className:"flex justify-between",children:[(0,ny.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Environment"}),(0,ny.jsx)("span",{className:"font-medium text-gray-900 dark:text-white",children:"Production"})]})]})]})]});default:return null}})()})})]}),c&&(0,ny.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:(0,ny.jsxs)("div",{className:"bg-white dark:bg-gray-900 rounded-2xl p-6 w-full max-w-md backdrop-blur-sm border border-gray-200 dark:border-gray-700",children:[(0,ny.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,ny.jsx)("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Export Data"}),(0,ny.jsx)("button",{onClick:()=>u(!1),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition-colors duration-300",children:(0,ny.jsx)(Qy,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})})]}),(0,ny.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Export your financial data for backup or analysis purposes."}),(0,ny.jsxs)("div",{className:"space-y-3",children:[(0,ny.jsxs)("button",{onClick:()=>D("json"),disabled:n,className:"w-full p-4 bg-blue-50 dark:bg-blue-500/10 border border-blue-200 dark:border-blue-500/20 rounded-lg hover:bg-blue-100 dark:hover:bg-blue-500/20 transition-colors duration-300 flex items-center justify-between disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,ny.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ny.jsx)(oH,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),(0,ny.jsxs)("div",{className:"text-left",children:[(0,ny.jsx)("h4",{className:"text-sm font-medium text-blue-900 dark:text-blue-100",children:"JSON Format"}),(0,ny.jsx)("p",{className:"text-xs text-blue-700 dark:text-blue-300",children:"Complete data with all metadata"})]})]}),(0,ny.jsx)(aH,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"})]}),(0,ny.jsxs)("button",{onClick:()=>D("csv"),disabled:n,className:"w-full p-4 bg-green-50 dark:bg-green-500/10 border border-green-200 dark:border-green-500/20 rounded-lg hover:bg-green-100 dark:hover:bg-green-500/20 transition-colors duration-300 flex items-center justify-between disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,ny.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ny.jsx)(Oy,{className:"w-5 h-5 text-green-600 dark:text-green-400"}),(0,ny.jsxs)("div",{className:"text-left",children:[(0,ny.jsx)("h4",{className:"text-sm font-medium text-green-900 dark:text-green-100",children:"CSV Format"}),(0,ny.jsx)("p",{className:"text-xs text-green-700 dark:text-green-300",children:"For spreadsheet applications"})]})]}),(0,ny.jsx)(aH,{className:"w-4 h-4 text-green-600 dark:text-green-400"})]})]})]})}),d&&(0,ny.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:(0,ny.jsxs)("div",{className:"bg-white dark:bg-gray-900 rounded-2xl p-6 w-full max-w-md backdrop-blur-sm border border-gray-200 dark:border-gray-700",children:[(0,ny.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,ny.jsx)("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Import Data"}),(0,ny.jsx)("button",{onClick:()=>h(!1),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition-colors duration-300",children:(0,ny.jsx)(Qy,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})})]}),(0,ny.jsx)("div",{className:"bg-yellow-50 dark:bg-yellow-500/10 border border-yellow-200 dark:border-yellow-500/20 rounded-lg p-4 mb-6",children:(0,ny.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,ny.jsx)(XU,{className:"w-5 h-5 text-yellow-600 dark:text-yellow-400 flex-shrink-0 mt-0.5"}),(0,ny.jsxs)("div",{children:[(0,ny.jsx)("h3",{className:"text-sm font-medium text-yellow-800 dark:text-yellow-300 mb-1",children:"Coming Soon"}),(0,ny.jsx)("p",{className:"text-xs text-yellow-700 dark:text-yellow-400",children:"Import functionality will be available in the next update. You'll be able to import bank statements and CSV files."})]})]})}),(0,ny.jsx)("button",{onClick:()=>h(!1),className:"w-full px-4 py-2 bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors duration-300",children:"Close"})]})}),s&&(0,ny.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:(0,ny.jsxs)("div",{className:"bg-white dark:bg-gray-900 rounded-2xl p-6 w-full max-w-md backdrop-blur-sm border border-gray-200 dark:border-gray-700",children:[(0,ny.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,ny.jsx)("div",{className:"w-10 h-10 bg-red-100 dark:bg-red-500/20 rounded-lg flex items-center justify-center",children:(0,ny.jsx)(Jy,{className:"w-5 h-5 text-red-600 dark:text-red-400"})}),(0,ny.jsx)("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Delete All Data"})]}),(0,ny.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"This action will permanently delete all your accounts, transactions, and preferences. This cannot be undone."}),(0,ny.jsxs)("div",{className:"bg-red-50 dark:bg-red-500/10 border border-red-200 dark:border-red-500/20 rounded-lg p-4 mb-6",children:[(0,ny.jsx)("h4",{className:"text-sm font-medium text-red-800 dark:text-red-200 mb-2",children:"What will be deleted:"}),(0,ny.jsxs)("ul",{className:"text-xs text-red-700 dark:text-red-300 space-y-1",children:[(0,ny.jsxs)("li",{children:["\u2022 ",_.totalAccounts," accounts"]}),(0,ny.jsxs)("li",{children:["\u2022 ",_.totalTransactions.toLocaleString()," transactions"]}),(0,ny.jsx)("li",{children:"\u2022 All preferences and settings"}),(0,ny.jsx)("li",{children:"\u2022 All analytics data"})]})]}),(0,ny.jsxs)("div",{className:"flex space-x-3",children:[(0,ny.jsx)("button",{onClick:()=>l(!1),className:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors duration-300",children:"Cancel"}),(0,ny.jsx)("button",{onClick:async()=>{if(e)try{a(!0);const t=Jg(ry);N.forEach(r=>{const n=zm(ry,"users",e.uid,"transactions",r.id);t.delete(n)}),j.forEach(r=>{const n=zm(ry,"users",e.uid,"accounts",r.id);t.delete(n)}),await t.commit(),localStorage.removeItem(`pesa_preferences_${e.uid}`),await C(),l(!1),alert("All data deleted successfully.")}catch(t){console.error("Error deleting data:",t),alert("Error deleting data. Please try again.")}finally{a(!1)}},disabled:n,className:"flex-1 bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg transition-colors duration-300 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:n?(0,ny.jsxs)(ny.Fragment,{children:[(0,ny.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),(0,ny.jsx)("span",{children:"Deleting..."})]}):(0,ny.jsxs)(ny.Fragment,{children:[(0,ny.jsx)(Yy,{className:"w-4 h-4"}),(0,ny.jsx)("span",{children:"Delete All Data"})]})})]})]})})]})};const dH=function(){const{currentUser:e}=iy(),[r,n]=(0,t.useState)([]),[a,i]=(0,t.useState)([]),[o,s]=(0,t.useState)(!0),[l,c]=(0,t.useState)(localStorage.getItem("theme")||"light");return(0,t.useEffect)(()=>{"dark"===l?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),localStorage.setItem("theme",l)},[l]),(0,t.useEffect)(()=>{if(!e)return;const t=Kg(Eg(Fm(ry,"users",e.uid,"accounts"),Ag("isDeleted","==",!1)),e=>{const t=e.docs.map(e=>({id:e.id,...e.data()}));n(t)}),r=Kg(Eg(Fm(ry,"users",e.uid,"transactions"),Og("date","desc")),e=>{const t=e.docs.map(e=>({id:e.id,...e.data()}));i(t),s(!1)});return()=>{t(),r()}},[e]),o?(0,ny.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900",children:(0,ny.jsxs)("div",{className:"text-center",children:[(0,ny.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500 mx-auto"}),(0,ny.jsx)("p",{className:"mt-4 text-gray-600 dark:text-gray-400",children:"Loading your data..."})]})}):(0,ny.jsxs)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-950 transition-colors",children:[(0,ny.jsx)(Fy,{theme:l,toggleTheme:()=>{c("light"===l?"dark":"light")}}),(0,ny.jsx)("main",{className:"max-w-7xl mx-auto",children:(0,ny.jsxs)(ke,{children:[(0,ny.jsx)(xe,{path:"/",element:(0,ny.jsx)(zU,{accounts:r,transactions:a})}),(0,ny.jsx)(xe,{path:"/transactions",element:(0,ny.jsx)(KU,{accounts:r,transactions:a})}),(0,ny.jsx)(xe,{path:"/analytics",element:(0,ny.jsx)(Nq,{accounts:r,transactions:a})}),(0,ny.jsx)(xe,{path:"/accounts",element:(0,ny.jsx)(Oq,{accounts:r})}),(0,ny.jsx)(xe,{path:"/activity",element:(0,ny.jsx)(Pq(),{})}),(0,ny.jsx)(xe,{path:"/subscriptions",element:(0,ny.jsx)(Jq,{accounts:r})}),(0,ny.jsx)(xe,{path:"/settings",element:(0,ny.jsx)(uH,{})})]})})]})};function hH(){const{currentUser:e,loading:t}=iy();return t?(0,ny.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-white dark:bg-gray-800",children:(0,ny.jsxs)("div",{className:"text-center",children:[(0,ny.jsx)("div",{className:"relative",children:(0,ny.jsxs)("div",{className:"w-16 h-16 bg-transparent rounded-2xl flex items-center justify-center mx-auto mb-6 animate-pulse",children:[(0,ny.jsx)("img",{src:"/pesa/logo.png",alt:"Pesa Logo",className:"w-10 h-10 object-contain",onError:e=>{e.target.style.display="none",e.target.nextElementSibling.style.display="block"}}),(0,ny.jsx)("svg",{width:"28",height:"28",viewBox:"0 0 24 24",fill:"#f97316",style:{display:"none"},children:(0,ny.jsx)("path",{d:"M12 2C13.1 2 14 2.9 14 4C14 5.1 13.1 6 12 6C10.9 6 10 5.1 10 4C10 2.9 10.9 2 12 2ZM21 9V7L15 1H5C3.89 1 3 1.89 3 3V21C3 22.11 3.89 23 5 23H19C20.11 23 21 22.11 21 21V9H21ZM19 21H5V3H13V9H19V21Z"})})]})}),(0,ny.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"Pesa"}),(0,ny.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Authenticating..."}),(0,ny.jsx)("div",{className:"w-32 h-1 bg-gray-200 dark:bg-gray-700 rounded-full mx-auto overflow-hidden",children:(0,ny.jsx)("div",{className:"w-full h-full bg-gradient-to-r from-orange-500 to-orange-600 rounded-full animate-pulse"})})]})}):(0,ny.jsxs)(ke,{children:[(0,ny.jsx)(xe,{path:"/auth",element:e?(0,ny.jsx)(be,{to:"/"}):(0,ny.jsx)(Ay,{})}),(0,ny.jsx)(xe,{path:"/*",element:e?(0,ny.jsx)(dH,{}):(0,ny.jsx)(be,{to:"/auth"})})]})}const fH=function(){return(0,ny.jsx)(rt,{children:(0,ny.jsx)(oy,{children:(0,ny.jsx)(hH,{})})})};n.createRoot(document.getElementById("root")).render((0,ny.jsx)(t.StrictMode,{children:(0,ny.jsx)(fH,{})}))})()})();
//# sourceMappingURL=main.84a34003.js.map