/*! For license information please see main.878f4da7.js.LICENSE.txt */
(()=>{var e={356:(e,t,r)=>{e.exports=r(9645).last},579:(e,t,r)=>{"use strict";e.exports=r(2799)},870:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isObject=function(e){return null!==e&&("object"===typeof e||"function"===typeof e)}},1203:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(8420);t.isArrayLike=function(e){return null!=e&&"function"!==typeof e&&n.isLength(e.length)}},1293:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.debounce=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};"object"!==typeof r&&(r={});let n,a=null,i=null,s=null,o=0,l=null;const{leading:c=!1,trailing:u=!0,maxWait:d}=r,h="maxWait"in r,f=h?Math.max(Number(d)||0,t):0,p=t=>(null!==a&&(n=e.apply(i,a)),a=i=null,o=t,n),m=e=>(l=null,u&&null!==a?p(e):n),g=e=>{if(null===s)return!0;const r=e-s;return r>=t||r<0||h&&e-o>=f},y=()=>{const e=Date.now();if(g(e))return m(e);l=setTimeout(y,(e=>{const r=t-(null===s?0:e-s),n=f-(e-o);return h?Math.min(r,n):r})(e))},v=function(){const e=Date.now(),r=g(e);for(var u=arguments.length,d=new Array(u),f=0;f<u;f++)d[f]=arguments[f];if(a=d,i=this,s=e,r){if(null===l)return o=m=e,l=setTimeout(y,t),c&&null!==a?p(m):n;if(h)return clearTimeout(l),l=setTimeout(y,t),p(e)}var m;return null===l&&(l=setTimeout(y,t)),n};return v.cancel=()=>{null!==l&&clearTimeout(l),o=0,s=a=i=l=null},v.flush=()=>null===l?n:m(Date.now()),v}},1444:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.toPath=function(e){const t=[],r=e.length;if(0===r)return t;let n=0,a="",i="",s=!1;for(46===e.charCodeAt(0)&&(t.push(""),n++);n<r;){const o=e[n];i?"\\"===o&&n+1<r?(n++,a+=e[n]):o===i?i="":a+=o:s?'"'===o||"'"===o?i=o:"]"===o?(s=!1,t.push(a),a=""):a+=o:"["===o?(s=!0,a&&(t.push(a),a="")):"."===o?a&&(t.push(a),a=""):a+=o,n++}return a&&t.push(a),t}},1561:()=>{},2086:(e,t,r)=>{"use strict";e.exports=r(5082)},2104:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(1203),a=r(9921);t.isArrayLikeObject=function(e){return a.isObjectLike(e)&&n.isArrayLike(e)}},2132:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(8268),a=r(870),i=r(4803),s=r(9972);function o(e,t,r,n){if(t===e)return!0;switch(typeof t){case"object":return function(e,t,r,n){if(null==t)return!0;if(Array.isArray(t))return l(e,t,r,n);if(t instanceof Map)return function(e,t,r,n){if(0===t.size)return!0;if(!(e instanceof Map))return!1;for(const[a,i]of t.entries()){if(!1===r(e.get(a),i,a,e,t,n))return!1}return!0}(e,t,r,n);if(t instanceof Set)return c(e,t,r,n);const a=Object.keys(t);if(null==e)return 0===a.length;if(0===a.length)return!0;if(n&&n.has(t))return n.get(t)===e;n&&n.set(t,e);try{for(let s=0;s<a.length;s++){const o=a[s];if(!i.isPrimitive(e)&&!(o in e))return!1;if(void 0===t[o]&&void 0!==e[o])return!1;if(null===t[o]&&null!==e[o])return!1;if(!r(e[o],t[o],o,e,t,n))return!1}return!0}finally{n&&n.delete(t)}}(e,t,r,n);case"function":return Object.keys(t).length>0?o(e,{...t},r,n):s.eq(e,t);default:return a.isObject(e)?"string"!==typeof t||""===t:s.eq(e,t)}}function l(e,t,r,n){if(0===t.length)return!0;if(!Array.isArray(e))return!1;const a=new Set;for(let i=0;i<t.length;i++){const s=t[i];let o=!1;for(let l=0;l<e.length;l++){if(a.has(l))continue;let c=!1;if(r(e[l],s,i,e,t,n)&&(c=!0),c){a.add(l),o=!0;break}}if(!o)return!1}return!0}function c(e,t,r,n){return 0===t.size||e instanceof Set&&l([...e],[...t],r,n)}t.isMatchWith=function(e,t,r){return"function"!==typeof r?n.isMatch(e,t):o(e,t,function e(t,n,a,i,s,l){const c=r(t,n,a,i,s,l);return void 0!==c?Boolean(c):o(t,n,e,l)},new Map)},t.isSetMatch=c},2204:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(5316),a=r(7312),i=r(3799);t.sortBy=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),s=1;s<t;s++)r[s-1]=arguments[s];const o=r.length;return o>1&&i.isIterateeCall(e,r[0],r[1])?r=[]:o>2&&i.isIterateeCall(r[0],r[1],r[2])&&(r=[r[0]]),n.orderBy(e,a.flatten(r),["asc"])}},2330:(e,t,r)=>{"use strict";var n=r(5043);var a="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},i=n.useState,s=n.useEffect,o=n.useLayoutEffect,l=n.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!a(e,r)}catch(n){return!0}}var u="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var r=t(),n=i({inst:{value:r,getSnapshot:t}}),a=n[0].inst,u=n[1];return o(function(){a.value=r,a.getSnapshot=t,c(a)&&u({inst:a})},[e,r,t]),s(function(){return c(a)&&u({inst:a}),e(function(){c(a)&&u({inst:a})})},[e]),l(r),r};t.useSyncExternalStore=void 0!==n.useSyncExternalStore?n.useSyncExternalStore:u},2489:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isDeepKey=function(e){switch(typeof e){case"number":case"symbol":return!1;case"string":return e.includes(".")||e.includes("[")||e.includes("]")}}},2682:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isPlainObject=function(e){if("object"!==typeof e)return!1;if(null==e)return!1;if(null===Object.getPrototypeOf(e))return!0;if("[object Object]"!==Object.prototype.toString.call(e)){const t=e[Symbol.toStringTag];if(null==t)return!1;return!!Object.getOwnPropertyDescriptor(e,Symbol.toStringTag)?.writable&&e.toString()===`[object ${t}]`}let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}},2715:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(9599),a=r(7330),i=r(3808),s=r(8845);t.iteratee=function(e){if(null==e)return n.identity;switch(typeof e){case"function":return e;case"object":return Array.isArray(e)&&2===e.length?s.matchesProperty(e[0],e[1]):i.matches(e);case"string":case"symbol":case"number":return a.property(e)}}},2777:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isSymbol=function(e){return"symbol"===typeof e||e instanceof Symbol}},2799:(e,t)=>{"use strict";var r=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function a(e,t,n){var a=null;if(void 0!==n&&(a=""+n),void 0!==t.key&&(a=""+t.key),"key"in t)for(var i in n={},t)"key"!==i&&(n[i]=t[i]);else n=t;return t=n.ref,{$$typeof:r,type:e,key:a,ref:void 0!==t?t:null,props:n}}t.Fragment=n,t.jsx=a,t.jsxs=a},3272:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.toKey=function(e){return"string"===typeof e||"symbol"===typeof e?e:Object.is(e?.valueOf?.(),-0)?"-0":String(e)}},3757:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isTypedArray=function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}},3799:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(4704),a=r(1203),i=r(870),s=r(9972);t.isIterateeCall=function(e,t,r){return!!i.isObject(r)&&(!!("number"===typeof t&&a.isArrayLike(r)&&n.isIndex(t)&&t<r.length||"string"===typeof t&&t in r)&&s.eq(r[t],e))}},3808:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(8268),a=r(5261);t.matches=function(e){return e=a.cloneDeep(e),t=>n.isMatch(t,e)}},3821:(e,t,r)=>{e.exports=r(2204).sortBy},4208:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.uniqBy=function(e,t){const r=new Map;for(let n=0;n<e.length;n++){const a=e[n],i=t(a);r.has(i)||r.set(i,a)}return Array.from(r.values())}},4250:(e,t,r)=>{e.exports=r(8182).isEqual},4288:(e,t)=>{"use strict";var r=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function y(e,t,r){this.props=e,this.context=t,this.refs=g,this.updater=r||p}function v(){}function x(e,t,r){this.props=e,this.context=t,this.refs=g,this.updater=r||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var b=x.prototype=new v;b.constructor=x,m(b,y.prototype),b.isPureReactComponent=!0;var w=Array.isArray,k={H:null,A:null,T:null,S:null,V:null},j=Object.prototype.hasOwnProperty;function N(e,t,n,a,i,s){return n=s.ref,{$$typeof:r,type:e,key:t,ref:void 0!==n?n:null,props:s}}function S(e){return"object"===typeof e&&null!==e&&e.$$typeof===r}var E=/\/+/g;function A(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function _(){}function C(e,t,a,i,s){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l,c,u=!1;if(null===e)u=!0;else switch(o){case"bigint":case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case r:case n:u=!0;break;case h:return C((u=e._init)(e._payload),t,a,i,s)}}if(u)return s=s(e),u=""===i?"."+A(e,0):i,w(s)?(a="",null!=u&&(a=u.replace(E,"$&/")+"/"),C(s,t,a,"",function(e){return e})):null!=s&&(S(s)&&(l=s,c=a+(null==s.key||e&&e.key===s.key?"":(""+s.key).replace(E,"$&/")+"/")+u,s=N(l.type,c,void 0,0,0,l.props)),t.push(s)),1;u=0;var d,p=""===i?".":i+":";if(w(e))for(var m=0;m<e.length;m++)u+=C(i=e[m],t,a,o=p+A(i,m),s);else if("function"===typeof(m=null===(d=e)||"object"!==typeof d?null:"function"===typeof(d=f&&d[f]||d["@@iterator"])?d:null))for(e=m.call(e),m=0;!(i=e.next()).done;)u+=C(i=i.value,t,a,o=p+A(i,m++),s);else if("object"===o){if("function"===typeof e.then)return C(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(_,_):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,a,i,s);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return u}function T(e,t,r){if(null==e)return e;var n=[],a=0;return C(e,n,"","",function(e){return t.call(r,e,a++)}),n}function I(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var O="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function P(){}t.Children={map:T,forEach:function(e,t,r){T(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return T(e,function(){t++}),t},toArray:function(e){return T(e,function(e){return e})||[]},only:function(e){if(!S(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=a,t.Profiler=s,t.PureComponent=x,t.StrictMode=i,t.Suspense=u,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return k.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var n=m({},e.props),a=e.key;if(null!=t)for(i in void 0!==t.ref&&void 0,void 0!==t.key&&(a=""+t.key),t)!j.call(t,i)||"key"===i||"__self"===i||"__source"===i||"ref"===i&&void 0===t.ref||(n[i]=t[i]);var i=arguments.length-2;if(1===i)n.children=r;else if(1<i){for(var s=Array(i),o=0;o<i;o++)s[o]=arguments[o+2];n.children=s}return N(e.type,a,void 0,0,0,n)},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:o,_context:e},e},t.createElement=function(e,t,r){var n,a={},i=null;if(null!=t)for(n in void 0!==t.key&&(i=""+t.key),t)j.call(t,n)&&"key"!==n&&"__self"!==n&&"__source"!==n&&(a[n]=t[n]);var s=arguments.length-2;if(1===s)a.children=r;else if(1<s){for(var o=Array(s),l=0;l<s;l++)o[l]=arguments[l+2];a.children=o}if(e&&e.defaultProps)for(n in s=e.defaultProps)void 0===a[n]&&(a[n]=s[n]);return N(e,i,void 0,0,0,a)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:I}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=k.T,r={};k.T=r;try{var n=e(),a=k.S;null!==a&&a(r,n),"object"===typeof n&&null!==n&&"function"===typeof n.then&&n.then(P,O)}catch(i){O(i)}finally{k.T=t}},t.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},t.use=function(e){return k.H.use(e)},t.useActionState=function(e,t,r){return k.H.useActionState(e,t,r)},t.useCallback=function(e,t){return k.H.useCallback(e,t)},t.useContext=function(e){return k.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return k.H.useDeferredValue(e,t)},t.useEffect=function(e,t,r){var n=k.H;if("function"===typeof r)throw Error("useEffect CRUD overload is not enabled in this build of React.");return n.useEffect(e,t)},t.useId=function(){return k.H.useId()},t.useImperativeHandle=function(e,t,r){return k.H.useImperativeHandle(e,t,r)},t.useInsertionEffect=function(e,t){return k.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return k.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return k.H.useMemo(e,t)},t.useOptimistic=function(e,t){return k.H.useOptimistic(e,t)},t.useReducer=function(e,t,r){return k.H.useReducer(e,t,r)},t.useRef=function(e){return k.H.useRef(e)},t.useState=function(e){return k.H.useState(e)},t.useSyncExternalStore=function(e,t,r){return k.H.useSyncExternalStore(e,t,r)},t.useTransition=function(){return k.H.useTransition()},t.version="19.1.0"},4332:(e,t,r)=>{e.exports=r(5053).uniqBy},4385:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isPlainObject=function(e){if(!e||"object"!==typeof e)return!1;const t=Object.getPrototypeOf(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t))&&"[object Object]"===Object.prototype.toString.call(e)}},4391:(e,t,r)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=r(7004)},4704:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=/^(?:0|[1-9]\d*)$/;t.isIndex=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_SAFE_INTEGER;switch(typeof e){case"number":return Number.isInteger(e)&&e>=0&&e<t;case"symbol":return!1;case"string":return r.test(e)}}},4737:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.noop=function(){}},4803:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isPrimitive=function(e){return null==e||"object"!==typeof e&&"function"!==typeof e}},4879:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(6770);t.toFinite=function(e){if(!e)return 0===e?e:0;if((e=n.toNumber(e))===1/0||e===-1/0){return(e<0?-1:1)*Number.MAX_VALUE}return e===e?e:0}},5043:(e,t,r)=>{"use strict";e.exports=r(4288)},5053:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(4208),a=r(9599),i=r(2104),s=r(2715);t.uniqBy=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.identity;return i.isArrayLikeObject(e)?n.uniqBy(Array.from(e),s.iteratee(t)):[]}},5082:(e,t)=>{"use strict";var r=60103,n=60106,a=60107,i=60108,s=60114,o=60109,l=60110,c=60112,u=60113,d=60120,h=60115,f=60116,p=60121,m=60122,g=60117,y=60129,v=60131;if("function"===typeof Symbol&&Symbol.for){var x=Symbol.for;r=x("react.element"),n=x("react.portal"),a=x("react.fragment"),i=x("react.strict_mode"),s=x("react.profiler"),o=x("react.provider"),l=x("react.context"),c=x("react.forward_ref"),u=x("react.suspense"),d=x("react.suspense_list"),h=x("react.memo"),f=x("react.lazy"),p=x("react.block"),m=x("react.server.block"),g=x("react.fundamental"),y=x("react.debug_trace_mode"),v=x("react.legacy_hidden")}function b(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case a:case s:case i:case u:case d:return e;default:switch(e=e&&e.$$typeof){case l:case c:case f:case h:case o:return e;default:return t}}case n:return t}}}t.isFragment=function(e){return b(e)===a}},5261:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(6433);t.cloneDeep=function(e){return n.cloneDeepWithImpl(e,void 0,e,new Map,void 0)}},5303:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(2489),a=r(4704),i=r(6321),s=r(1444);t.has=function(e,t){let r;if(r=Array.isArray(t)?t:"string"===typeof t&&n.isDeepKey(t)&&null==e?.[t]?s.toPath(t):[t],0===r.length)return!1;let o=e;for(let n=0;n<r.length;n++){const e=r[n];if(null==o||!Object.hasOwn(o,e)){if(!((Array.isArray(o)||i.isArguments(o))&&a.isIndex(e)&&e<o.length))return!1}o=o[e]}return!0}},5316:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(9709),a=r(7043),i=r(1444);t.orderBy=function(e,t,r,s){if(null==e)return[];r=s?void 0:r,Array.isArray(e)||(e=Object.values(e)),Array.isArray(t)||(t=null==t?[null]:[t]),0===t.length&&(t=[null]),Array.isArray(r)||(r=null==r?[]:[r]),r=r.map(e=>String(e));const o=(e,t)=>{let r=e;for(let n=0;n<t.length&&null!=r;++n)r=r[t[n]];return r},l=t.map(e=>(Array.isArray(e)&&1===e.length&&(e=e[0]),null==e||"function"===typeof e||Array.isArray(e)||a.isKey(e)?e:{key:e,path:i.toPath(e)}));return e.map(e=>({original:e,criteria:l.map(t=>((e,t)=>null==t||null==e?t:"object"===typeof e&&"key"in e?Object.hasOwn(t,e.key)?t[e.key]:o(t,e.path):"function"===typeof e?e(t):Array.isArray(e)?o(t,e):"object"===typeof t?t[e]:t)(t,e))})).slice().sort((e,t)=>{for(let a=0;a<l.length;a++){const i=n.compareValues(e.criteria[a],t.criteria[a],r[a]);if(0!==i)return i}return 0}).map(e=>e.original)}},5414:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(1293);t.throttle=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{leading:a=!0,trailing:i=!0}=r;return n.debounce(e,t,{leading:a,maxWait:t,trailing:i})}},5508:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(6433),a=r(7599);t.cloneDeepWith=function(e,t){return n.cloneDeepWith(e,(r,i,s,o)=>{const l=t?.(r,i,s,o);if(null!=l)return l;if("object"===typeof e)switch(Object.prototype.toString.call(e)){case a.numberTag:case a.stringTag:case a.booleanTag:{const t=new e.constructor(e?.valueOf());return n.copyProperties(t,e),t}case a.argumentsTag:{const t={};return n.copyProperties(t,e),t.length=e.length,t[Symbol.iterator]=e[Symbol.iterator],t}default:return}})}},5896:(e,t)=>{"use strict";function r(e,t){var r=e.length;e.push(t);e:for(;0<r;){var n=r-1>>>1,a=e[n];if(!(0<i(a,t)))break e;e[n]=t,e[r]=a,r=n}}function n(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],r=e.pop();if(r!==t){e[0]=r;e:for(var n=0,a=e.length,s=a>>>1;n<s;){var o=2*(n+1)-1,l=e[o],c=o+1,u=e[c];if(0>i(l,r))c<a&&0>i(u,l)?(e[n]=u,e[c]=r,n=c):(e[n]=l,e[o]=r,n=o);else{if(!(c<a&&0>i(u,r)))break e;e[n]=u,e[c]=r,n=c}}}return t}function i(e,t){var r=e.sortIndex-t.sortIndex;return 0!==r?r:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,m=!1,g=!1,y=!1,v="function"===typeof setTimeout?setTimeout:null,x="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=n(u);null!==t;){if(null===t.callback)a(u);else{if(!(t.startTime<=e))break;a(u),t.sortIndex=t.expirationTime,r(c,t)}t=n(u)}}function k(e){if(g=!1,w(e),!m)if(null!==n(c))m=!0,N||(N=!0,j());else{var t=n(u);null!==t&&O(k,t.startTime-e)}}var j,N=!1,S=-1,E=5,A=-1;function _(){return!!y||!(t.unstable_now()-A<E)}function C(){if(y=!1,N){var e=t.unstable_now();A=e;var r=!0;try{e:{m=!1,g&&(g=!1,x(S),S=-1),p=!0;var i=f;try{t:{for(w(e),h=n(c);null!==h&&!(h.expirationTime>e&&_());){var s=h.callback;if("function"===typeof s){h.callback=null,f=h.priorityLevel;var o=s(h.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof o){h.callback=o,w(e),r=!0;break t}h===n(c)&&a(c),w(e)}else a(c);h=n(c)}if(null!==h)r=!0;else{var l=n(u);null!==l&&O(k,l.startTime-e),r=!1}}break e}finally{h=null,f=i,p=!1}r=void 0}}finally{r?j():N=!1}}}if("function"===typeof b)j=function(){b(C)};else if("undefined"!==typeof MessageChannel){var T=new MessageChannel,I=T.port2;T.port1.onmessage=C,j=function(){I.postMessage(null)}}else j=function(){v(C,0)};function O(e,r){S=v(function(){e(t.unstable_now())},r)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var r=f;f=t;try{return e()}finally{f=r}},t.unstable_requestPaint=function(){y=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=f;f=e;try{return t()}finally{f=r}},t.unstable_scheduleCallback=function(e,a,i){var s=t.unstable_now();switch("object"===typeof i&&null!==i?i="number"===typeof(i=i.delay)&&0<i?s+i:s:i=s,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:d++,callback:a,priorityLevel:e,startTime:i,expirationTime:o=i+o,sortIndex:-1},i>s?(e.sortIndex=i,r(u,e),null===n(c)&&e===n(u)&&(g?(x(S),S=-1):g=!0,O(k,i-s))):(e.sortIndex=o,r(c,e),m||p||(m=!0,N||(N=!0,j()))),e},t.unstable_shouldYield=_,t.unstable_wrapCallback=function(e){var t=f;return function(){var r=f;f=t;try{return e.apply(this,arguments)}finally{f=r}}}},5990:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.getTag=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}},6321:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(5990);t.isArguments=function(e){return null!==e&&"object"===typeof e&&"[object Arguments]"===n.getTag(e)}},6392:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.last=function(e){return e[e.length-1]}},6433:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(6443),a=r(5990),i=r(7599),s=r(4803),o=r(3757);function l(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Map,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0;const d=u?.(e,t,r,n);if(null!=d)return d;if(s.isPrimitive(e))return e;if(n.has(e))return n.get(e);if(Array.isArray(e)){const t=new Array(e.length);n.set(e,t);for(let a=0;a<e.length;a++)t[a]=l(e[a],a,r,n,u);return Object.hasOwn(e,"index")&&(t.index=e.index),Object.hasOwn(e,"input")&&(t.input=e.input),t}if(e instanceof Date)return new Date(e.getTime());if(e instanceof RegExp){const t=new RegExp(e.source,e.flags);return t.lastIndex=e.lastIndex,t}if(e instanceof Map){const t=new Map;n.set(e,t);for(const[a,i]of e)t.set(a,l(i,a,r,n,u));return t}if(e instanceof Set){const t=new Set;n.set(e,t);for(const a of e)t.add(l(a,void 0,r,n,u));return t}if("undefined"!==typeof Buffer&&Buffer.isBuffer(e))return e.subarray();if(o.isTypedArray(e)){const t=new(Object.getPrototypeOf(e).constructor)(e.length);n.set(e,t);for(let a=0;a<e.length;a++)t[a]=l(e[a],a,r,n,u);return t}if(e instanceof ArrayBuffer||"undefined"!==typeof SharedArrayBuffer&&e instanceof SharedArrayBuffer)return e.slice(0);if(e instanceof DataView){const t=new DataView(e.buffer.slice(0),e.byteOffset,e.byteLength);return n.set(e,t),c(t,e,r,n,u),t}if("undefined"!==typeof File&&e instanceof File){const t=new File([e],e.name,{type:e.type});return n.set(e,t),c(t,e,r,n,u),t}if(e instanceof Blob){const t=new Blob([e],{type:e.type});return n.set(e,t),c(t,e,r,n,u),t}if(e instanceof Error){const t=new e.constructor;return n.set(e,t),t.message=e.message,t.name=e.name,t.stack=e.stack,t.cause=e.cause,c(t,e,r,n,u),t}if("object"===typeof e&&function(e){switch(a.getTag(e)){case i.argumentsTag:case i.arrayTag:case i.arrayBufferTag:case i.dataViewTag:case i.booleanTag:case i.dateTag:case i.float32ArrayTag:case i.float64ArrayTag:case i.int8ArrayTag:case i.int16ArrayTag:case i.int32ArrayTag:case i.mapTag:case i.numberTag:case i.objectTag:case i.regexpTag:case i.setTag:case i.stringTag:case i.symbolTag:case i.uint8ArrayTag:case i.uint8ClampedArrayTag:case i.uint16ArrayTag:case i.uint32ArrayTag:return!0;default:return!1}}(e)){const t=Object.create(Object.getPrototypeOf(e));return n.set(e,t),c(t,e,r,n,u),t}return e}function c(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,a=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;const s=[...Object.keys(t),...n.getSymbols(t)];for(let n=0;n<s.length;n++){const o=s[n],c=Object.getOwnPropertyDescriptor(e,o);(null==c||c.writable)&&(e[o]=l(t[o],o,r,a,i))}}t.cloneDeepWith=function(e,t){return l(e,void 0,e,new Map,t)},t.cloneDeepWithImpl=l,t.copyProperties=c},6443:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.getSymbols=function(e){return Object.getOwnPropertySymbols(e).filter(t=>Object.prototype.propertyIsEnumerable.call(e,t))}},6672:(e,t,r)=>{"use strict";var n=r(5043);function a(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(a(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");var l=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,t.createPortal=function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(a(299));return function(e,t,r){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:o,key:null==n?null:""+n,children:e,containerInfo:t,implementation:r}}(e,t,null,r)},t.flushSync=function(e){var t=l.T,r=s.p;try{if(l.T=null,s.p=2,e)return e()}finally{l.T=t,s.p=r,s.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,s.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&s.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var r=t.as,n=c(r,t.crossOrigin),a="string"===typeof t.integrity?t.integrity:void 0,i="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===r?s.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:n,integrity:a,fetchPriority:i}):"script"===r&&s.d.X(e,{crossOrigin:n,integrity:a,fetchPriority:i,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var r=c(t.as,t.crossOrigin);s.d.M(e,{crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&s.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var r=t.as,n=c(r,t.crossOrigin);s.d.L(e,r,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var r=c(t.as,t.crossOrigin);s.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else s.d.m(e)},t.requestFormReset=function(e){s.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,r){return l.H.useFormState(e,t,r)},t.useFormStatus=function(){return l.H.useHostTransitionStatus()},t.version="19.1.0"},6770:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(2777);t.toNumber=function(e){return n.isSymbol(e)?NaN:Number(e)}},7004:(e,t,r)=>{"use strict";var n=r(8853),a=r(5043),i=r(7950);function s(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function l(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(r=t.return),e=t.return}while(e)}return 3===t.tag?r:null}function c(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function u(e){if(l(e)!==e)throw Error(s(188))}function d(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=d(e)))return t;e=e.sibling}return null}var h=Object.assign,f=Symbol.for("react.element"),p=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),x=Symbol.for("react.provider"),b=Symbol.for("react.consumer"),w=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),j=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),S=Symbol.for("react.memo"),E=Symbol.for("react.lazy");Symbol.for("react.scope");var A=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var _=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var C=Symbol.iterator;function T(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=C&&e[C]||e["@@iterator"])?e:null}var I=Symbol.for("react.client.reference");function O(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===I?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case g:return"Fragment";case v:return"Profiler";case y:return"StrictMode";case j:return"Suspense";case N:return"SuspenseList";case A:return"Activity"}if("object"===typeof e)switch(e.$$typeof){case m:return"Portal";case w:return(e.displayName||"Context")+".Provider";case b:return(e._context.displayName||"Context")+".Consumer";case k:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case S:return null!==(t=e.displayName||null)?t:O(e.type)||"Memo";case E:t=e._payload,e=e._init;try{return O(e(t))}catch(r){}}return null}var P=Array.isArray,D=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,M=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,R={pending:!1,data:null,method:null,action:null},L=[],F=-1;function z(e){return{current:e}}function U(e){0>F||(e.current=L[F],L[F]=null,F--)}function V(e,t){F++,L[F]=e.current,e.current=t}var B=z(null),$=z(null),H=z(null),q=z(null);function K(e,t){switch(V(H,t),V($,e),V(B,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?ad(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=id(t=ad(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}U(B),V(B,e)}function W(){U(B),U($),U(H)}function G(e){null!==e.memoizedState&&V(q,e);var t=B.current,r=id(t,e.type);t!==r&&(V($,e),V(B,r))}function Y(e){$.current===e&&(U(B),U($)),q.current===e&&(U(q),Gd._currentValue=R)}var Q=Object.prototype.hasOwnProperty,X=n.unstable_scheduleCallback,J=n.unstable_cancelCallback,Z=n.unstable_shouldYield,ee=n.unstable_requestPaint,te=n.unstable_now,re=n.unstable_getCurrentPriorityLevel,ne=n.unstable_ImmediatePriority,ae=n.unstable_UserBlockingPriority,ie=n.unstable_NormalPriority,se=n.unstable_LowPriority,oe=n.unstable_IdlePriority,le=n.log,ce=n.unstable_setDisableYieldValue,ue=null,de=null;function he(e){if("function"===typeof le&&ce(e),de&&"function"===typeof de.setStrictMode)try{de.setStrictMode(ue,e)}catch(t){}}var fe=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(pe(e)/me|0)|0},pe=Math.log,me=Math.LN2;var ge=256,ye=4194304;function ve(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194048&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function xe(e,t,r){var n=e.pendingLanes;if(0===n)return 0;var a=0,i=e.suspendedLanes,s=e.pingedLanes;e=e.warmLanes;var o=134217727&n;return 0!==o?0!==(n=o&~i)?a=ve(n):0!==(s&=o)?a=ve(s):r||0!==(r=o&~e)&&(a=ve(r)):0!==(o=n&~i)?a=ve(o):0!==s?a=ve(s):r||0!==(r=n&~e)&&(a=ve(r)),0===a?0:0!==t&&t!==a&&0===(t&i)&&((i=a&-a)>=(r=t&-t)||32===i&&0!==(4194048&r))?t:a}function be(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function we(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ke(){var e=ge;return 0===(4194048&(ge<<=1))&&(ge=256),e}function je(){var e=ye;return 0===(62914560&(ye<<=1))&&(ye=4194304),e}function Ne(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Se(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ee(e,t,r){e.pendingLanes|=t,e.suspendedLanes&=~t;var n=31-fe(t);e.entangledLanes|=t,e.entanglements[n]=1073741824|e.entanglements[n]|4194090&r}function Ae(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-fe(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}function _e(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ce(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function Te(){var e=M.p;return 0!==e?e:void 0===(e=window.event)?32:ch(e.type)}var Ie=Math.random().toString(36).slice(2),Oe="__reactFiber$"+Ie,Pe="__reactProps$"+Ie,De="__reactContainer$"+Ie,Me="__reactEvents$"+Ie,Re="__reactListeners$"+Ie,Le="__reactHandles$"+Ie,Fe="__reactResources$"+Ie,ze="__reactMarker$"+Ie;function Ue(e){delete e[Oe],delete e[Pe],delete e[Me],delete e[Re],delete e[Le]}function Ve(e){var t=e[Oe];if(t)return t;for(var r=e.parentNode;r;){if(t=r[De]||r[Oe]){if(r=t.alternate,null!==t.child||null!==r&&null!==r.child)for(e=xd(e);null!==e;){if(r=e[Oe])return r;e=xd(e)}return t}r=(e=r).parentNode}return null}function Be(e){if(e=e[Oe]||e[De]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function $e(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(s(33))}function He(e){var t=e[Fe];return t||(t=e[Fe]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function qe(e){e[ze]=!0}var Ke=new Set,We={};function Ge(e,t){Ye(e,t),Ye(e+"Capture",t)}function Ye(e,t){for(We[e]=t,e=0;e<t.length;e++)Ke.add(t[e])}var Qe,Xe,Je=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ze={},et={};function tt(e,t,r){if(a=t,Q.call(et,a)||!Q.call(Ze,a)&&(Je.test(a)?et[a]=!0:(Ze[a]=!0,0)))if(null===r)e.removeAttribute(t);else{switch(typeof r){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var n=t.toLowerCase().slice(0,5);if("data-"!==n&&"aria-"!==n)return void e.removeAttribute(t)}e.setAttribute(t,""+r)}var a}function rt(e,t,r){if(null===r)e.removeAttribute(t);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+r)}}function nt(e,t,r,n){if(null===n)e.removeAttribute(r);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(r)}e.setAttributeNS(t,r,""+n)}}function at(e){if(void 0===Qe)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Qe=t&&t[1]||"",Xe=-1<r.stack.indexOf("\n    at")?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+Qe+e+Xe}var it=!1;function st(e,t){if(!e||it)return"";it=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var n={DetermineComponentFrameRoot:function(){try{if(t){var r=function(){throw Error()};if(Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(r,[])}catch(a){var n=a}Reflect.construct(e,[],r)}else{try{r.call()}catch(i){n=i}e.call(r.prototype)}}else{try{throw Error()}catch(s){n=s}(r=e())&&"function"===typeof r.catch&&r.catch(function(){})}}catch(o){if(o&&n&&"string"===typeof o.stack)return[o.stack,n.stack]}return[null,null]}};n.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var a=Object.getOwnPropertyDescriptor(n.DetermineComponentFrameRoot,"name");a&&a.configurable&&Object.defineProperty(n.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=n.DetermineComponentFrameRoot(),s=i[0],o=i[1];if(s&&o){var l=s.split("\n"),c=o.split("\n");for(a=n=0;n<l.length&&!l[n].includes("DetermineComponentFrameRoot");)n++;for(;a<c.length&&!c[a].includes("DetermineComponentFrameRoot");)a++;if(n===l.length||a===c.length)for(n=l.length-1,a=c.length-1;1<=n&&0<=a&&l[n]!==c[a];)a--;for(;1<=n&&0<=a;n--,a--)if(l[n]!==c[a]){if(1!==n||1!==a)do{if(n--,0>--a||l[n]!==c[a]){var u="\n"+l[n].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=n&&0<=a);break}}}finally{it=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?at(r):""}function ot(e){switch(e.tag){case 26:case 27:case 5:return at(e.type);case 16:return at("Lazy");case 13:return at("Suspense");case 19:return at("SuspenseList");case 0:case 15:return st(e.type,!1);case 11:return st(e.type.render,!1);case 1:return st(e.type,!0);case 31:return at("Activity");default:return""}}function lt(e){try{var t="";do{t+=ot(e),e=e.return}while(e);return t}catch(r){return"\nError generating stack: "+r.message+"\n"+r.stack}}function ct(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ut(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function dt(e){e._valueTracker||(e._valueTracker=function(e){var t=ut(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof r&&"function"===typeof r.get&&"function"===typeof r.set){var a=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){n=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function ht(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=ut(e)?e.checked?"true":"false":e.value),(e=n)!==r&&(t.setValue(e),!0)}function ft(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var pt=/[\n"\\]/g;function mt(e){return e.replace(pt,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function gt(e,t,r,n,a,i,s,o){e.name="",null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s?e.type=s:e.removeAttribute("type"),null!=t?"number"===s?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ct(t)):e.value!==""+ct(t)&&(e.value=""+ct(t)):"submit"!==s&&"reset"!==s||e.removeAttribute("value"),null!=t?vt(e,s,ct(t)):null!=r?vt(e,s,ct(r)):null!=n&&e.removeAttribute("value"),null==a&&null!=i&&(e.defaultChecked=!!i),null!=a&&(e.checked=a&&"function"!==typeof a&&"symbol"!==typeof a),null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o?e.name=""+ct(o):e.removeAttribute("name")}function yt(e,t,r,n,a,i,s,o){if(null!=i&&"function"!==typeof i&&"symbol"!==typeof i&&"boolean"!==typeof i&&(e.type=i),null!=t||null!=r){if(!("submit"!==i&&"reset"!==i||void 0!==t&&null!==t))return;r=null!=r?""+ct(r):"",t=null!=t?""+ct(t):r,o||t===e.value||(e.value=t),e.defaultValue=t}n="function"!==typeof(n=null!=n?n:a)&&"symbol"!==typeof n&&!!n,e.checked=o?e.checked:!!n,e.defaultChecked=!!n,null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s&&(e.name=s)}function vt(e,t,r){"number"===t&&ft(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function xt(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+ct(r),t=null,a=0;a<e.length;a++){if(e[a].value===r)return e[a].selected=!0,void(n&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function bt(e,t,r){null==t||((t=""+ct(t))!==e.value&&(e.value=t),null!=r)?e.defaultValue=null!=r?""+ct(r):"":e.defaultValue!==t&&(e.defaultValue=t)}function wt(e,t,r,n){if(null==t){if(null!=n){if(null!=r)throw Error(s(92));if(P(n)){if(1<n.length)throw Error(s(93));n=n[0]}r=n}null==r&&(r=""),t=r}r=ct(t),e.defaultValue=r,(n=e.textContent)===r&&""!==n&&null!==n&&(e.value=n)}function kt(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&3===r.nodeType)return void(r.nodeValue=t)}e.textContent=t}var jt=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Nt(e,t,r){var n=0===t.indexOf("--");null==r||"boolean"===typeof r||""===r?n?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":n?e.setProperty(t,r):"number"!==typeof r||0===r||jt.has(t)?"float"===t?e.cssFloat=r:e[t]=(""+r).trim():e[t]=r+"px"}function St(e,t,r){if(null!=t&&"object"!==typeof t)throw Error(s(62));if(e=e.style,null!=r){for(var n in r)!r.hasOwnProperty(n)||null!=t&&t.hasOwnProperty(n)||(0===n.indexOf("--")?e.setProperty(n,""):"float"===n?e.cssFloat="":e[n]="");for(var a in t)n=t[a],t.hasOwnProperty(a)&&r[a]!==n&&Nt(e,a,n)}else for(var i in t)t.hasOwnProperty(i)&&Nt(e,i,t[i])}function Et(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var At=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),_t=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ct(e){return _t.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Tt=null;function It(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ot=null,Pt=null;function Dt(e){var t=Be(e);if(t&&(e=t.stateNode)){var r=e[Pe]||null;e:switch(e=t.stateNode,t.type){case"input":if(gt(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),t=r.name,"radio"===r.type&&null!=t){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+mt(""+t)+'"][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=n[Pe]||null;if(!a)throw Error(s(90));gt(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name)}}for(t=0;t<r.length;t++)(n=r[t]).form===e.form&&ht(n)}break e;case"textarea":bt(e,r.value,r.defaultValue);break e;case"select":null!=(t=r.value)&&xt(e,!!r.multiple,t,!1)}}}var Mt=!1;function Rt(e,t,r){if(Mt)return e(t,r);Mt=!0;try{return e(t)}finally{if(Mt=!1,(null!==Ot||null!==Pt)&&(Vc(),Ot&&(t=Ot,e=Pt,Pt=Ot=null,Dt(t),e)))for(t=0;t<e.length;t++)Dt(e[t])}}function Lt(e,t){var r=e.stateNode;if(null===r)return null;var n=r[Pe]||null;if(null===n)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(n=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!n;break e;default:e=!1}if(e)return null;if(r&&"function"!==typeof r)throw Error(s(231,t,typeof r));return r}var Ft=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),zt=!1;if(Ft)try{var Ut={};Object.defineProperty(Ut,"passive",{get:function(){zt=!0}}),window.addEventListener("test",Ut,Ut),window.removeEventListener("test",Ut,Ut)}catch(Ph){zt=!1}var Vt=null,Bt=null,$t=null;function Ht(){if($t)return $t;var e,t,r=Bt,n=r.length,a="value"in Vt?Vt.value:Vt.textContent,i=a.length;for(e=0;e<n&&r[e]===a[e];e++);var s=n-e;for(t=1;t<=s&&r[n-t]===a[i-t];t++);return $t=a.slice(e,1<t?1-t:void 0)}function qt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Kt(){return!0}function Wt(){return!1}function Gt(e){function t(t,r,n,a,i){for(var s in this._reactName=t,this._targetInst=n,this.type=r,this.nativeEvent=a,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(a):a[s]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?Kt:Wt,this.isPropagationStopped=Wt,this}return h(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Kt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Kt)},persist:function(){},isPersistent:Kt}),t}var Yt,Qt,Xt,Jt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zt=Gt(Jt),er=h({},Jt,{view:0,detail:0}),tr=Gt(er),rr=h({},er,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fr,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Xt&&(Xt&&"mousemove"===e.type?(Yt=e.screenX-Xt.screenX,Qt=e.screenY-Xt.screenY):Qt=Yt=0,Xt=e),Yt)},movementY:function(e){return"movementY"in e?e.movementY:Qt}}),nr=Gt(rr),ar=Gt(h({},rr,{dataTransfer:0})),ir=Gt(h({},er,{relatedTarget:0})),sr=Gt(h({},Jt,{animationName:0,elapsedTime:0,pseudoElement:0})),or=Gt(h({},Jt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),lr=Gt(h({},Jt,{data:0})),cr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ur={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hr(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=dr[e])&&!!t[e]}function fr(){return hr}var pr=Gt(h({},er,{key:function(e){if(e.key){var t=cr[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=qt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?ur[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fr,charCode:function(e){return"keypress"===e.type?qt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?qt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),mr=Gt(h({},rr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),gr=Gt(h({},er,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fr})),yr=Gt(h({},Jt,{propertyName:0,elapsedTime:0,pseudoElement:0})),vr=Gt(h({},rr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),xr=Gt(h({},Jt,{newState:0,oldState:0})),br=[9,13,27,32],wr=Ft&&"CompositionEvent"in window,kr=null;Ft&&"documentMode"in document&&(kr=document.documentMode);var jr=Ft&&"TextEvent"in window&&!kr,Nr=Ft&&(!wr||kr&&8<kr&&11>=kr),Sr=String.fromCharCode(32),Er=!1;function Ar(e,t){switch(e){case"keyup":return-1!==br.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _r(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Cr=!1;var Tr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ir(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Tr[e.type]:"textarea"===t}function Or(e,t,r,n){Ot?Pt?Pt.push(n):Pt=[n]:Ot=n,0<(t=Hu(t,"onChange")).length&&(r=new Zt("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Pr=null,Dr=null;function Mr(e){Ru(e,0)}function Rr(e){if(ht($e(e)))return e}function Lr(e,t){if("change"===e)return t}var Fr=!1;if(Ft){var zr;if(Ft){var Ur="oninput"in document;if(!Ur){var Vr=document.createElement("div");Vr.setAttribute("oninput","return;"),Ur="function"===typeof Vr.oninput}zr=Ur}else zr=!1;Fr=zr&&(!document.documentMode||9<document.documentMode)}function Br(){Pr&&(Pr.detachEvent("onpropertychange",$r),Dr=Pr=null)}function $r(e){if("value"===e.propertyName&&Rr(Dr)){var t=[];Or(t,Dr,e,It(e)),Rt(Mr,t)}}function Hr(e,t,r){"focusin"===e?(Br(),Dr=r,(Pr=t).attachEvent("onpropertychange",$r)):"focusout"===e&&Br()}function qr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Rr(Dr)}function Kr(e,t){if("click"===e)return Rr(t)}function Wr(e,t){if("input"===e||"change"===e)return Rr(t)}var Gr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function Yr(e,t){if(Gr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!Q.call(t,a)||!Gr(e[a],t[a]))return!1}return!0}function Qr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Xr(e,t){var r,n=Qr(e);for(e=0;n;){if(3===n.nodeType){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Qr(n)}}function Jr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Jr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function Zr(e){for(var t=ft((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var r="string"===typeof t.contentWindow.location.href}catch(n){r=!1}if(!r)break;t=ft((e=t.contentWindow).document)}return t}function en(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var tn=Ft&&"documentMode"in document&&11>=document.documentMode,rn=null,nn=null,an=null,sn=!1;function on(e,t,r){var n=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;sn||null==rn||rn!==ft(n)||("selectionStart"in(n=rn)&&en(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},an&&Yr(an,n)||(an=n,0<(n=Hu(nn,"onSelect")).length&&(t=new Zt("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=rn)))}function ln(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var cn={animationend:ln("Animation","AnimationEnd"),animationiteration:ln("Animation","AnimationIteration"),animationstart:ln("Animation","AnimationStart"),transitionrun:ln("Transition","TransitionRun"),transitionstart:ln("Transition","TransitionStart"),transitioncancel:ln("Transition","TransitionCancel"),transitionend:ln("Transition","TransitionEnd")},un={},dn={};function hn(e){if(un[e])return un[e];if(!cn[e])return e;var t,r=cn[e];for(t in r)if(r.hasOwnProperty(t)&&t in dn)return un[e]=r[t];return e}Ft&&(dn=document.createElement("div").style,"AnimationEvent"in window||(delete cn.animationend.animation,delete cn.animationiteration.animation,delete cn.animationstart.animation),"TransitionEvent"in window||delete cn.transitionend.transition);var fn=hn("animationend"),pn=hn("animationiteration"),mn=hn("animationstart"),gn=hn("transitionrun"),yn=hn("transitionstart"),vn=hn("transitioncancel"),xn=hn("transitionend"),bn=new Map,wn="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function kn(e,t){bn.set(e,t),Ge(t,[e])}wn.push("scrollEnd");var jn=new WeakMap;function Nn(e,t){if("object"===typeof e&&null!==e){var r=jn.get(e);return void 0!==r?r:(t={value:e,source:t,stack:lt(t)},jn.set(e,t),t)}return{value:e,source:t,stack:lt(t)}}var Sn=[],En=0,An=0;function _n(){for(var e=En,t=An=En=0;t<e;){var r=Sn[t];Sn[t++]=null;var n=Sn[t];Sn[t++]=null;var a=Sn[t];Sn[t++]=null;var i=Sn[t];if(Sn[t++]=null,null!==n&&null!==a){var s=n.pending;null===s?a.next=a:(a.next=s.next,s.next=a),n.pending=a}0!==i&&On(r,a,i)}}function Cn(e,t,r,n){Sn[En++]=e,Sn[En++]=t,Sn[En++]=r,Sn[En++]=n,An|=n,e.lanes|=n,null!==(e=e.alternate)&&(e.lanes|=n)}function Tn(e,t,r,n){return Cn(e,t,r,n),Pn(e)}function In(e,t){return Cn(e,null,null,t),Pn(e)}function On(e,t,r){e.lanes|=r;var n=e.alternate;null!==n&&(n.lanes|=r);for(var a=!1,i=e.return;null!==i;)i.childLanes|=r,null!==(n=i.alternate)&&(n.childLanes|=r),22===i.tag&&(null===(e=i.stateNode)||1&e._visibility||(a=!0)),e=i,i=i.return;return 3===e.tag?(i=e.stateNode,a&&null!==t&&(a=31-fe(r),null===(n=(e=i.hiddenUpdates)[a])?e[a]=[t]:n.push(t),t.lane=536870912|r),i):null}function Pn(e){if(50<Oc)throw Oc=0,Pc=null,Error(s(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Dn={};function Mn(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rn(e,t,r,n){return new Mn(e,t,r,n)}function Ln(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Fn(e,t){var r=e.alternate;return null===r?((r=Rn(e.tag,t,e.key,e.mode)).elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=65011712&e.flags,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function zn(e,t){e.flags&=65011714;var r=e.alternate;return null===r?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,t=r.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Un(e,t,r,n,a,i){var o=0;if(n=e,"function"===typeof e)Ln(e)&&(o=1);else if("string"===typeof e)o=function(e,t,r){if(1===r||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,r,B.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case A:return(e=Rn(31,r,t,a)).elementType=A,e.lanes=i,e;case g:return Vn(r.children,a,i,t);case y:o=8,a|=24;break;case v:return(e=Rn(12,r,t,2|a)).elementType=v,e.lanes=i,e;case j:return(e=Rn(13,r,t,a)).elementType=j,e.lanes=i,e;case N:return(e=Rn(19,r,t,a)).elementType=N,e.lanes=i,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case x:case w:o=10;break e;case b:o=9;break e;case k:o=11;break e;case S:o=14;break e;case E:o=16,n=null;break e}o=29,r=Error(s(130,null===e?"null":typeof e,"")),n=null}return(t=Rn(o,r,t,a)).elementType=e,t.type=n,t.lanes=i,t}function Vn(e,t,r,n){return(e=Rn(7,e,n,t)).lanes=r,e}function Bn(e,t,r){return(e=Rn(6,e,null,t)).lanes=r,e}function $n(e,t,r){return(t=Rn(4,null!==e.children?e.children:[],e.key,t)).lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Hn=[],qn=0,Kn=null,Wn=0,Gn=[],Yn=0,Qn=null,Xn=1,Jn="";function Zn(e,t){Hn[qn++]=Wn,Hn[qn++]=Kn,Kn=e,Wn=t}function ea(e,t,r){Gn[Yn++]=Xn,Gn[Yn++]=Jn,Gn[Yn++]=Qn,Qn=e;var n=Xn;e=Jn;var a=32-fe(n)-1;n&=~(1<<a),r+=1;var i=32-fe(t)+a;if(30<i){var s=a-a%5;i=(n&(1<<s)-1).toString(32),n>>=s,a-=s,Xn=1<<32-fe(t)+a|r<<a|n,Jn=i+e}else Xn=1<<i|r<<a|n,Jn=e}function ta(e){null!==e.return&&(Zn(e,1),ea(e,1,0))}function ra(e){for(;e===Kn;)Kn=Hn[--qn],Hn[qn]=null,Wn=Hn[--qn],Hn[qn]=null;for(;e===Qn;)Qn=Gn[--Yn],Gn[Yn]=null,Jn=Gn[--Yn],Gn[Yn]=null,Xn=Gn[--Yn],Gn[Yn]=null}var na=null,aa=null,ia=!1,sa=null,oa=!1,la=Error(s(519));function ca(e){throw ma(Nn(Error(s(418,"")),e)),la}function ua(e){var t=e.stateNode,r=e.type,n=e.memoizedProps;switch(t[Oe]=e,t[Pe]=n,r){case"dialog":Lu("cancel",t),Lu("close",t);break;case"iframe":case"object":case"embed":Lu("load",t);break;case"video":case"audio":for(r=0;r<Du.length;r++)Lu(Du[r],t);break;case"source":Lu("error",t);break;case"img":case"image":case"link":Lu("error",t),Lu("load",t);break;case"details":Lu("toggle",t);break;case"input":Lu("invalid",t),yt(t,n.value,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name,!0),dt(t);break;case"select":Lu("invalid",t);break;case"textarea":Lu("invalid",t),wt(t,n.value,n.defaultValue,n.children),dt(t)}"string"!==typeof(r=n.children)&&"number"!==typeof r&&"bigint"!==typeof r||t.textContent===""+r||!0===n.suppressHydrationWarning||Qu(t.textContent,r)?(null!=n.popover&&(Lu("beforetoggle",t),Lu("toggle",t)),null!=n.onScroll&&Lu("scroll",t),null!=n.onScrollEnd&&Lu("scrollend",t),null!=n.onClick&&(t.onclick=Xu),t=!0):t=!1,t||ca(e)}function da(e){for(na=e.return;na;)switch(na.tag){case 5:case 13:return void(oa=!1);case 27:case 3:return void(oa=!0);default:na=na.return}}function ha(e){if(e!==na)return!1;if(!ia)return da(e),ia=!0,!1;var t,r=e.tag;if((t=3!==r&&27!==r)&&((t=5===r)&&(t=!("form"!==(t=e.type)&&"button"!==t)||sd(e.type,e.memoizedProps)),t=!t),t&&aa&&ca(e),da(e),13===r){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,r=0;e;){if(8===e.nodeType)if("/$"===(t=e.data)){if(0===r){aa=yd(e.nextSibling);break e}r--}else"$"!==t&&"$!"!==t&&"$?"!==t||r++;e=e.nextSibling}aa=null}}else 27===r?(r=aa,fd(e.type)?(e=vd,vd=null,aa=e):aa=r):aa=na?yd(e.stateNode.nextSibling):null;return!0}function fa(){aa=na=null,ia=!1}function pa(){var e=sa;return null!==e&&(null===xc?xc=e:xc.push.apply(xc,e),sa=null),e}function ma(e){null===sa?sa=[e]:sa.push(e)}var ga=z(null),ya=null,va=null;function xa(e,t,r){V(ga,t._currentValue),t._currentValue=r}function ba(e){e._currentValue=ga.current,U(ga)}function wa(e,t,r){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==n&&(n.childLanes|=t)):null!==n&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function ka(e,t,r,n){var a=e.child;for(null!==a&&(a.return=e);null!==a;){var i=a.dependencies;if(null!==i){var o=a.child;i=i.firstContext;e:for(;null!==i;){var l=i;i=a;for(var c=0;c<t.length;c++)if(l.context===t[c]){i.lanes|=r,null!==(l=i.alternate)&&(l.lanes|=r),wa(i.return,r,e),n||(o=null);break e}i=l.next}}else if(18===a.tag){if(null===(o=a.return))throw Error(s(341));o.lanes|=r,null!==(i=o.alternate)&&(i.lanes|=r),wa(o,r,e),o=null}else o=a.child;if(null!==o)o.return=a;else for(o=a;null!==o;){if(o===e){o=null;break}if(null!==(a=o.sibling)){a.return=o.return,o=a;break}o=o.return}a=o}}function ja(e,t,r,n){e=null;for(var a=t,i=!1;null!==a;){if(!i)if(0!==(524288&a.flags))i=!0;else if(0!==(262144&a.flags))break;if(10===a.tag){var o=a.alternate;if(null===o)throw Error(s(387));if(null!==(o=o.memoizedProps)){var l=a.type;Gr(a.pendingProps.value,o.value)||(null!==e?e.push(l):e=[l])}}else if(a===q.current){if(null===(o=a.alternate))throw Error(s(387));o.memoizedState.memoizedState!==a.memoizedState.memoizedState&&(null!==e?e.push(Gd):e=[Gd])}a=a.return}null!==e&&ka(t,e,r,n),t.flags|=262144}function Na(e){for(e=e.firstContext;null!==e;){if(!Gr(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Sa(e){ya=e,va=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Ea(e){return _a(ya,e)}function Aa(e,t){return null===ya&&Sa(e),_a(e,t)}function _a(e,t){var r=t._currentValue;if(t={context:t,memoizedValue:r,next:null},null===va){if(null===e)throw Error(s(308));va=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else va=va.next=t;return r}var Ca="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,r){e.push(r)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},Ta=n.unstable_scheduleCallback,Ia=n.unstable_NormalPriority,Oa={$$typeof:w,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Pa(){return{controller:new Ca,data:new Map,refCount:0}}function Da(e){e.refCount--,0===e.refCount&&Ta(Ia,function(){e.controller.abort()})}var Ma=null,Ra=0,La=0,Fa=null;function za(){if(0===--Ra&&null!==Ma){null!==Fa&&(Fa.status="fulfilled");var e=Ma;Ma=null,La=0,Fa=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Ua=D.S;D.S=function(e,t){"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===Ma){var r=Ma=[];Ra=0,La=Cu(),Fa={status:"pending",value:void 0,then:function(e){r.push(e)}}}Ra++,t.then(za,za)}(0,t),null!==Ua&&Ua(e,t)};var Va=z(null);function Ba(){var e=Va.current;return null!==e?e:nc.pooledCache}function $a(e,t){V(Va,null===t?Va.current:t.pool)}function Ha(){var e=Ba();return null===e?null:{parent:Oa._currentValue,pool:e}}var qa=Error(s(460)),Ka=Error(s(474)),Wa=Error(s(542)),Ga={then:function(){}};function Ya(e){return"fulfilled"===(e=e.status)||"rejected"===e}function Qa(){}function Xa(e,t,r){switch(void 0===(r=e[r])?e.push(t):r!==t&&(t.then(Qa,Qa),t=r),t.status){case"fulfilled":return t.value;case"rejected":throw ei(e=t.reason),e;default:if("string"===typeof t.status)t.then(Qa,Qa);else{if(null!==(e=nc)&&100<e.shellSuspendCounter)throw Error(s(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var r=t;r.status="fulfilled",r.value=e}},function(e){if("pending"===t.status){var r=t;r.status="rejected",r.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw ei(e=t.reason),e}throw Ja=t,qa}}var Ja=null;function Za(){if(null===Ja)throw Error(s(459));var e=Ja;return Ja=null,e}function ei(e){if(e===qa||e===Wa)throw Error(s(483))}var ti=!1;function ri(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ni(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ai(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ii(e,t,r){var n=e.updateQueue;if(null===n)return null;if(n=n.shared,0!==(2&rc)){var a=n.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),n.pending=t,t=Pn(e),On(e,null,r),t}return Cn(e,n,t,r),Pn(e)}function si(e,t,r){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194048&r))){var n=t.lanes;r|=n&=e.pendingLanes,t.lanes=r,Ae(e,r)}}function oi(e,t){var r=e.updateQueue,n=e.alternate;if(null!==n&&r===(n=n.updateQueue)){var a=null,i=null;if(null!==(r=r.firstBaseUpdate)){do{var s={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};null===i?a=i=s:i=i.next=s,r=r.next}while(null!==r);null===i?a=i=t:i=i.next=t}else a=i=t;return r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,callbacks:n.callbacks},void(e.updateQueue=r)}null===(e=r.lastBaseUpdate)?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}var li=!1;function ci(){if(li){if(null!==Fa)throw Fa}}function ui(e,t,r,n){li=!1;var a=e.updateQueue;ti=!1;var i=a.firstBaseUpdate,s=a.lastBaseUpdate,o=a.shared.pending;if(null!==o){a.shared.pending=null;var l=o,c=l.next;l.next=null,null===s?i=c:s.next=c,s=l;var u=e.alternate;null!==u&&((o=(u=u.updateQueue).lastBaseUpdate)!==s&&(null===o?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(null!==i){var d=a.baseState;for(s=0,u=c=l=null,o=i;;){var f=-536870913&o.lane,p=f!==o.lane;if(p?(ic&f)===f:(n&f)===f){0!==f&&f===La&&(li=!0),null!==u&&(u=u.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var m=e,g=o;f=t;var y=r;switch(g.tag){case 1:if("function"===typeof(m=g.payload)){d=m.call(y,d,f);break e}d=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null===(f="function"===typeof(m=g.payload)?m.call(y,d,f):m)||void 0===f)break e;d=h({},d,f);break e;case 2:ti=!0}}null!==(f=o.callback)&&(e.flags|=64,p&&(e.flags|=8192),null===(p=a.callbacks)?a.callbacks=[f]:p.push(f))}else p={lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(c=u=p,l=d):u=u.next=p,s|=f;if(null===(o=o.next)){if(null===(o=a.shared.pending))break;o=(p=o).next,p.next=null,a.lastBaseUpdate=p,a.shared.pending=null}}null===u&&(l=d),a.baseState=l,a.firstBaseUpdate=c,a.lastBaseUpdate=u,null===i&&(a.shared.lanes=0),fc|=s,e.lanes=s,e.memoizedState=d}}function di(e,t){if("function"!==typeof e)throw Error(s(191,e));e.call(t)}function hi(e,t){var r=e.callbacks;if(null!==r)for(e.callbacks=null,e=0;e<r.length;e++)di(r[e],t)}var fi=z(null),pi=z(0);function mi(e,t){V(pi,e=dc),V(fi,t),dc=e|t.baseLanes}function gi(){V(pi,dc),V(fi,fi.current)}function yi(){dc=pi.current,U(fi),U(pi)}var vi=0,xi=null,bi=null,wi=null,ki=!1,ji=!1,Ni=!1,Si=0,Ei=0,Ai=null,_i=0;function Ci(){throw Error(s(321))}function Ti(e,t){if(null===t)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Gr(e[r],t[r]))return!1;return!0}function Ii(e,t,r,n,a,i){return vi=i,xi=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,D.H=null===e||null===e.memoizedState?qs:Ks,Ni=!1,i=r(n,a),Ni=!1,ji&&(i=Pi(t,r,n,a)),Oi(e),i}function Oi(e){D.H=Hs;var t=null!==bi&&null!==bi.next;if(vi=0,wi=bi=xi=null,ki=!1,Ei=0,Ai=null,t)throw Error(s(300));null===e||Ao||null!==(e=e.dependencies)&&Na(e)&&(Ao=!0)}function Pi(e,t,r,n){xi=e;var a=0;do{if(ji&&(Ai=null),Ei=0,ji=!1,25<=a)throw Error(s(301));if(a+=1,wi=bi=null,null!=e.updateQueue){var i=e.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,null!=i.memoCache&&(i.memoCache.index=0)}D.H=Ws,i=t(r,n)}while(ji);return i}function Di(){var e=D.H,t=e.useState()[0];return t="function"===typeof t.then?Ui(t):t,e=e.useState()[0],(null!==bi?bi.memoizedState:null)!==e&&(xi.flags|=1024),t}function Mi(){var e=0!==Si;return Si=0,e}function Ri(e,t,r){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r}function Li(e){if(ki){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}ki=!1}vi=0,wi=bi=xi=null,ji=!1,Ei=Si=0,Ai=null}function Fi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===wi?xi.memoizedState=wi=e:wi=wi.next=e,wi}function zi(){if(null===bi){var e=xi.alternate;e=null!==e?e.memoizedState:null}else e=bi.next;var t=null===wi?xi.memoizedState:wi.next;if(null!==t)wi=t,bi=e;else{if(null===e){if(null===xi.alternate)throw Error(s(467));throw Error(s(310))}e={memoizedState:(bi=e).memoizedState,baseState:bi.baseState,baseQueue:bi.baseQueue,queue:bi.queue,next:null},null===wi?xi.memoizedState=wi=e:wi=wi.next=e}return wi}function Ui(e){var t=Ei;return Ei+=1,null===Ai&&(Ai=[]),e=Xa(Ai,e,t),t=xi,null===(null===wi?t.memoizedState:wi.next)&&(t=t.alternate,D.H=null===t||null===t.memoizedState?qs:Ks),e}function Vi(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return Ui(e);if(e.$$typeof===w)return Ea(e)}throw Error(s(438,String(e)))}function Bi(e){var t=null,r=xi.updateQueue;if(null!==r&&(t=r.memoCache),null==t){var n=xi.alternate;null!==n&&(null!==(n=n.updateQueue)&&(null!=(n=n.memoCache)&&(t={data:n.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===r&&(r={lastEffect:null,events:null,stores:null,memoCache:null},xi.updateQueue=r),r.memoCache=t,void 0===(r=t.data[t.index]))for(r=t.data[t.index]=Array(e),n=0;n<e;n++)r[n]=_;return t.index++,r}function $i(e,t){return"function"===typeof t?t(e):t}function Hi(e){return qi(zi(),bi,e)}function qi(e,t,r){var n=e.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=r;var a=e.baseQueue,i=n.pending;if(null!==i){if(null!==a){var o=a.next;a.next=i.next,i.next=o}t.baseQueue=a=i,n.pending=null}if(i=e.baseState,null===a)e.memoizedState=i;else{var l=o=null,c=null,u=t=a.next,d=!1;do{var h=-536870913&u.lane;if(h!==u.lane?(ic&h)===h:(vi&h)===h){var f=u.revertLane;if(0===f)null!==c&&(c=c.next={lane:0,revertLane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),h===La&&(d=!0);else{if((vi&f)===f){u=u.next,f===La&&(d=!0);continue}h={lane:0,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=h,o=i):c=c.next=h,xi.lanes|=f,fc|=f}h=u.action,Ni&&r(i,h),i=u.hasEagerState?u.eagerState:r(i,h)}else f={lane:h,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=f,o=i):c=c.next=f,xi.lanes|=h,fc|=h;u=u.next}while(null!==u&&u!==t);if(null===c?o=i:c.next=l,!Gr(i,e.memoizedState)&&(Ao=!0,d&&null!==(r=Fa)))throw r;e.memoizedState=i,e.baseState=o,e.baseQueue=c,n.lastRenderedState=i}return null===a&&(n.lanes=0),[e.memoizedState,n.dispatch]}function Ki(e){var t=zi(),r=t.queue;if(null===r)throw Error(s(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,i=t.memoizedState;if(null!==a){r.pending=null;var o=a=a.next;do{i=e(i,o.action),o=o.next}while(o!==a);Gr(i,t.memoizedState)||(Ao=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function Wi(e,t,r){var n=xi,a=zi(),i=ia;if(i){if(void 0===r)throw Error(s(407));r=r()}else r=t();var o=!Gr((bi||a).memoizedState,r);if(o&&(a.memoizedState=r,Ao=!0),a=a.queue,gs(2048,8,Qi.bind(null,n,a,e),[e]),a.getSnapshot!==t||o||null!==wi&&1&wi.memoizedState.tag){if(n.flags|=2048,fs(9,{destroy:void 0,resource:void 0},Yi.bind(null,n,a,r,t),null),null===nc)throw Error(s(349));i||0!==(124&vi)||Gi(n,t,r)}return r}function Gi(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},null===(t=xi.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},xi.updateQueue=t,t.stores=[e]):null===(r=t.stores)?t.stores=[e]:r.push(e)}function Yi(e,t,r,n){t.value=r,t.getSnapshot=n,Xi(t)&&Ji(e)}function Qi(e,t,r){return r(function(){Xi(t)&&Ji(e)})}function Xi(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Gr(e,r)}catch(n){return!0}}function Ji(e){var t=In(e,2);null!==t&&Rc(t,e,2)}function Zi(e){var t=Fi();if("function"===typeof e){var r=e;if(e=r(),Ni){he(!0);try{r()}finally{he(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$i,lastRenderedState:e},t}function es(e,t,r,n){return e.baseState=r,qi(e,bi,"function"===typeof n?n:$i)}function ts(e,t,r,n,a){if(Vs(e))throw Error(s(485));if(null!==(e=t.action)){var i={payload:a,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){i.listeners.push(e)}};null!==D.T?r(!0):i.isTransition=!1,n(i),null===(r=t.pending)?(i.next=t.pending=i,rs(t,i)):(i.next=r.next,t.pending=r.next=i)}}function rs(e,t){var r=t.action,n=t.payload,a=e.state;if(t.isTransition){var i=D.T,s={};D.T=s;try{var o=r(a,n),l=D.S;null!==l&&l(s,o),ns(e,t,o)}catch(c){is(e,t,c)}finally{D.T=i}}else try{ns(e,t,i=r(a,n))}catch(u){is(e,t,u)}}function ns(e,t,r){null!==r&&"object"===typeof r&&"function"===typeof r.then?r.then(function(r){as(e,t,r)},function(r){return is(e,t,r)}):as(e,t,r)}function as(e,t,r){t.status="fulfilled",t.value=r,ss(t),e.state=r,null!==(t=e.pending)&&((r=t.next)===t?e.pending=null:(r=r.next,t.next=r,rs(e,r)))}function is(e,t,r){var n=e.pending;if(e.pending=null,null!==n){n=n.next;do{t.status="rejected",t.reason=r,ss(t),t=t.next}while(t!==n)}e.action=null}function ss(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function os(e,t){return t}function ls(e,t){if(ia){var r=nc.formState;if(null!==r){e:{var n=xi;if(ia){if(aa){t:{for(var a=aa,i=oa;8!==a.nodeType;){if(!i){a=null;break t}if(null===(a=yd(a.nextSibling))){a=null;break t}}a="F!"===(i=a.data)||"F"===i?a:null}if(a){aa=yd(a.nextSibling),n="F!"===a.data;break e}}ca(n)}n=!1}n&&(t=r[0])}}return(r=Fi()).memoizedState=r.baseState=t,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:os,lastRenderedState:t},r.queue=n,r=Fs.bind(null,xi,n),n.dispatch=r,n=Zi(!1),i=Us.bind(null,xi,!1,n.queue),a={state:t,dispatch:null,action:e,pending:null},(n=Fi()).queue=a,r=ts.bind(null,xi,a,i,r),a.dispatch=r,n.memoizedState=e,[t,r,!1]}function cs(e){return us(zi(),bi,e)}function us(e,t,r){if(t=qi(e,t,os)[0],e=Hi($i)[0],"object"===typeof t&&null!==t&&"function"===typeof t.then)try{var n=Ui(t)}catch(s){if(s===qa)throw Wa;throw s}else n=t;var a=(t=zi()).queue,i=a.dispatch;return r!==t.memoizedState&&(xi.flags|=2048,fs(9,{destroy:void 0,resource:void 0},ds.bind(null,a,r),null)),[n,i,e]}function ds(e,t){e.action=t}function hs(e){var t=zi(),r=bi;if(null!==r)return us(t,r,e);zi(),t=t.memoizedState;var n=(r=zi()).queue.dispatch;return r.memoizedState=e,[t,n,!1]}function fs(e,t,r,n){return e={tag:e,create:r,deps:n,inst:t,next:null},null===(t=xi.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},xi.updateQueue=t),null===(r=t.lastEffect)?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e),e}function ps(){return zi().memoizedState}function ms(e,t,r,n){var a=Fi();n=void 0===n?null:n,xi.flags|=e,a.memoizedState=fs(1|t,{destroy:void 0,resource:void 0},r,n)}function gs(e,t,r,n){var a=zi();n=void 0===n?null:n;var i=a.memoizedState.inst;null!==bi&&null!==n&&Ti(n,bi.memoizedState.deps)?a.memoizedState=fs(t,i,r,n):(xi.flags|=e,a.memoizedState=fs(1|t,i,r,n))}function ys(e,t){ms(8390656,8,e,t)}function vs(e,t){gs(2048,8,e,t)}function xs(e,t){return gs(4,2,e,t)}function bs(e,t){return gs(4,4,e,t)}function ws(e,t){if("function"===typeof t){e=e();var r=t(e);return function(){"function"===typeof r?r():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function ks(e,t,r){r=null!==r&&void 0!==r?r.concat([e]):null,gs(4,4,ws.bind(null,t,e),r)}function js(){}function Ns(e,t){var r=zi();t=void 0===t?null:t;var n=r.memoizedState;return null!==t&&Ti(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Ss(e,t){var r=zi();t=void 0===t?null:t;var n=r.memoizedState;if(null!==t&&Ti(t,n[1]))return n[0];if(n=e(),Ni){he(!0);try{e()}finally{he(!1)}}return r.memoizedState=[n,t],n}function Es(e,t,r){return void 0===r||0!==(1073741824&vi)?e.memoizedState=t:(e.memoizedState=r,e=Mc(),xi.lanes|=e,fc|=e,r)}function As(e,t,r,n){return Gr(r,t)?r:null!==fi.current?(e=Es(e,r,n),Gr(e,t)||(Ao=!0),e):0===(42&vi)?(Ao=!0,e.memoizedState=r):(e=Mc(),xi.lanes|=e,fc|=e,t)}function _s(e,t,r,n,a){var i=M.p;M.p=0!==i&&8>i?i:8;var s=D.T,o={};D.T=o,Us(e,!1,t,r);try{var l=a(),c=D.S;if(null!==c&&c(o,l),null!==l&&"object"===typeof l&&"function"===typeof l.then)zs(e,t,function(e,t){var r=[],n={status:"pending",value:null,reason:null,then:function(e){r.push(e)}};return e.then(function(){n.status="fulfilled",n.value=t;for(var e=0;e<r.length;e++)(0,r[e])(t)},function(e){for(n.status="rejected",n.reason=e,e=0;e<r.length;e++)(0,r[e])(void 0)}),n}(l,n),Dc());else zs(e,t,n,Dc())}catch(u){zs(e,t,{then:function(){},status:"rejected",reason:u},Dc())}finally{M.p=i,D.T=s}}function Cs(){}function Ts(e,t,r,n){if(5!==e.tag)throw Error(s(476));var a=Is(e).queue;_s(e,a,t,R,null===r?Cs:function(){return Os(e),r(n)})}function Is(e){var t=e.memoizedState;if(null!==t)return t;var r={};return(t={memoizedState:R,baseState:R,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$i,lastRenderedState:R},next:null}).next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$i,lastRenderedState:r},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function Os(e){zs(e,Is(e).next.queue,{},Dc())}function Ps(){return Ea(Gd)}function Ds(){return zi().memoizedState}function Ms(){return zi().memoizedState}function Rs(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var r=Dc(),n=ii(t,e=ai(r),r);return null!==n&&(Rc(n,t,r),si(n,t,r)),t={cache:Pa()},void(e.payload=t)}t=t.return}}function Ls(e,t,r){var n=Dc();r={lane:n,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},Vs(e)?Bs(t,r):null!==(r=Tn(e,t,r,n))&&(Rc(r,e,n),$s(r,t,n))}function Fs(e,t,r){zs(e,t,r,Dc())}function zs(e,t,r,n){var a={lane:n,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(Vs(e))Bs(t,a);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var s=t.lastRenderedState,o=i(s,r);if(a.hasEagerState=!0,a.eagerState=o,Gr(o,s))return Cn(e,t,a,0),null===nc&&_n(),!1}catch(l){}if(null!==(r=Tn(e,t,a,n)))return Rc(r,e,n),$s(r,t,n),!0}return!1}function Us(e,t,r,n){if(n={lane:2,revertLane:Cu(),action:n,hasEagerState:!1,eagerState:null,next:null},Vs(e)){if(t)throw Error(s(479))}else null!==(t=Tn(e,r,n,2))&&Rc(t,e,2)}function Vs(e){var t=e.alternate;return e===xi||null!==t&&t===xi}function Bs(e,t){ji=ki=!0;var r=e.pending;null===r?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function $s(e,t,r){if(0!==(4194048&r)){var n=t.lanes;r|=n&=e.pendingLanes,t.lanes=r,Ae(e,r)}}var Hs={readContext:Ea,use:Vi,useCallback:Ci,useContext:Ci,useEffect:Ci,useImperativeHandle:Ci,useLayoutEffect:Ci,useInsertionEffect:Ci,useMemo:Ci,useReducer:Ci,useRef:Ci,useState:Ci,useDebugValue:Ci,useDeferredValue:Ci,useTransition:Ci,useSyncExternalStore:Ci,useId:Ci,useHostTransitionStatus:Ci,useFormState:Ci,useActionState:Ci,useOptimistic:Ci,useMemoCache:Ci,useCacheRefresh:Ci},qs={readContext:Ea,use:Vi,useCallback:function(e,t){return Fi().memoizedState=[e,void 0===t?null:t],e},useContext:Ea,useEffect:ys,useImperativeHandle:function(e,t,r){r=null!==r&&void 0!==r?r.concat([e]):null,ms(4194308,4,ws.bind(null,t,e),r)},useLayoutEffect:function(e,t){return ms(4194308,4,e,t)},useInsertionEffect:function(e,t){ms(4,2,e,t)},useMemo:function(e,t){var r=Fi();t=void 0===t?null:t;var n=e();if(Ni){he(!0);try{e()}finally{he(!1)}}return r.memoizedState=[n,t],n},useReducer:function(e,t,r){var n=Fi();if(void 0!==r){var a=r(t);if(Ni){he(!0);try{r(t)}finally{he(!1)}}}else a=t;return n.memoizedState=n.baseState=a,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:a},n.queue=e,e=e.dispatch=Ls.bind(null,xi,e),[n.memoizedState,e]},useRef:function(e){return e={current:e},Fi().memoizedState=e},useState:function(e){var t=(e=Zi(e)).queue,r=Fs.bind(null,xi,t);return t.dispatch=r,[e.memoizedState,r]},useDebugValue:js,useDeferredValue:function(e,t){return Es(Fi(),e,t)},useTransition:function(){var e=Zi(!1);return e=_s.bind(null,xi,e.queue,!0,!1),Fi().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,r){var n=xi,a=Fi();if(ia){if(void 0===r)throw Error(s(407));r=r()}else{if(r=t(),null===nc)throw Error(s(349));0!==(124&ic)||Gi(n,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,ys(Qi.bind(null,n,i,e),[e]),n.flags|=2048,fs(9,{destroy:void 0,resource:void 0},Yi.bind(null,n,i,r,t),null),r},useId:function(){var e=Fi(),t=nc.identifierPrefix;if(ia){var r=Jn;t="\xab"+t+"R"+(r=(Xn&~(1<<32-fe(Xn)-1)).toString(32)+r),0<(r=Si++)&&(t+="H"+r.toString(32)),t+="\xbb"}else t="\xab"+t+"r"+(r=_i++).toString(32)+"\xbb";return e.memoizedState=t},useHostTransitionStatus:Ps,useFormState:ls,useActionState:ls,useOptimistic:function(e){var t=Fi();t.memoizedState=t.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=r,t=Us.bind(null,xi,!0,r),r.dispatch=t,[e,t]},useMemoCache:Bi,useCacheRefresh:function(){return Fi().memoizedState=Rs.bind(null,xi)}},Ks={readContext:Ea,use:Vi,useCallback:Ns,useContext:Ea,useEffect:vs,useImperativeHandle:ks,useInsertionEffect:xs,useLayoutEffect:bs,useMemo:Ss,useReducer:Hi,useRef:ps,useState:function(){return Hi($i)},useDebugValue:js,useDeferredValue:function(e,t){return As(zi(),bi.memoizedState,e,t)},useTransition:function(){var e=Hi($i)[0],t=zi().memoizedState;return["boolean"===typeof e?e:Ui(e),t]},useSyncExternalStore:Wi,useId:Ds,useHostTransitionStatus:Ps,useFormState:cs,useActionState:cs,useOptimistic:function(e,t){return es(zi(),0,e,t)},useMemoCache:Bi,useCacheRefresh:Ms},Ws={readContext:Ea,use:Vi,useCallback:Ns,useContext:Ea,useEffect:vs,useImperativeHandle:ks,useInsertionEffect:xs,useLayoutEffect:bs,useMemo:Ss,useReducer:Ki,useRef:ps,useState:function(){return Ki($i)},useDebugValue:js,useDeferredValue:function(e,t){var r=zi();return null===bi?Es(r,e,t):As(r,bi.memoizedState,e,t)},useTransition:function(){var e=Ki($i)[0],t=zi().memoizedState;return["boolean"===typeof e?e:Ui(e),t]},useSyncExternalStore:Wi,useId:Ds,useHostTransitionStatus:Ps,useFormState:hs,useActionState:hs,useOptimistic:function(e,t){var r=zi();return null!==bi?es(r,0,e,t):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:Bi,useCacheRefresh:Ms},Gs=null,Ys=0;function Qs(e){var t=Ys;return Ys+=1,null===Gs&&(Gs=[]),Xa(Gs,e,t)}function Xs(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function Js(e,t){if(t.$$typeof===f)throw Error(s(525));throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Zs(e){return(0,e._init)(e._payload)}function eo(e){function t(t,r){if(e){var n=t.deletions;null===n?(t.deletions=[r],t.flags|=16):n.push(r)}}function r(r,n){if(!e)return null;for(;null!==n;)t(r,n),n=n.sibling;return null}function n(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function a(e,t){return(e=Fn(e,t)).index=0,e.sibling=null,e}function i(t,r,n){return t.index=n,e?null!==(n=t.alternate)?(n=n.index)<r?(t.flags|=67108866,r):n:(t.flags|=67108866,r):(t.flags|=1048576,r)}function o(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function l(e,t,r,n){return null===t||6!==t.tag?((t=Bn(r,e.mode,n)).return=e,t):((t=a(t,r)).return=e,t)}function c(e,t,r,n){var i=r.type;return i===g?d(e,t,r.props.children,n,r.key):null!==t&&(t.elementType===i||"object"===typeof i&&null!==i&&i.$$typeof===E&&Zs(i)===t.type)?(Xs(t=a(t,r.props),r),t.return=e,t):(Xs(t=Un(r.type,r.key,r.props,null,e.mode,n),r),t.return=e,t)}function u(e,t,r,n){return null===t||4!==t.tag||t.stateNode.containerInfo!==r.containerInfo||t.stateNode.implementation!==r.implementation?((t=$n(r,e.mode,n)).return=e,t):((t=a(t,r.children||[])).return=e,t)}function d(e,t,r,n,i){return null===t||7!==t.tag?((t=Vn(r,e.mode,n,i)).return=e,t):((t=a(t,r)).return=e,t)}function h(e,t,r){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=Bn(""+t,e.mode,r)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case p:return Xs(r=Un(t.type,t.key,t.props,null,e.mode,r),t),r.return=e,r;case m:return(t=$n(t,e.mode,r)).return=e,t;case E:return h(e,t=(0,t._init)(t._payload),r)}if(P(t)||T(t))return(t=Vn(t,e.mode,r,null)).return=e,t;if("function"===typeof t.then)return h(e,Qs(t),r);if(t.$$typeof===w)return h(e,Aa(e,t),r);Js(e,t)}return null}function f(e,t,r,n){var a=null!==t?t.key:null;if("string"===typeof r&&""!==r||"number"===typeof r||"bigint"===typeof r)return null!==a?null:l(e,t,""+r,n);if("object"===typeof r&&null!==r){switch(r.$$typeof){case p:return r.key===a?c(e,t,r,n):null;case m:return r.key===a?u(e,t,r,n):null;case E:return f(e,t,r=(a=r._init)(r._payload),n)}if(P(r)||T(r))return null!==a?null:d(e,t,r,n,null);if("function"===typeof r.then)return f(e,t,Qs(r),n);if(r.$$typeof===w)return f(e,t,Aa(e,r),n);Js(e,r)}return null}function y(e,t,r,n,a){if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return l(t,e=e.get(r)||null,""+n,a);if("object"===typeof n&&null!==n){switch(n.$$typeof){case p:return c(t,e=e.get(null===n.key?r:n.key)||null,n,a);case m:return u(t,e=e.get(null===n.key?r:n.key)||null,n,a);case E:return y(e,t,r,n=(0,n._init)(n._payload),a)}if(P(n)||T(n))return d(t,e=e.get(r)||null,n,a,null);if("function"===typeof n.then)return y(e,t,r,Qs(n),a);if(n.$$typeof===w)return y(e,t,r,Aa(t,n),a);Js(t,n)}return null}function v(l,c,u,d){if("object"===typeof u&&null!==u&&u.type===g&&null===u.key&&(u=u.props.children),"object"===typeof u&&null!==u){switch(u.$$typeof){case p:e:{for(var x=u.key;null!==c;){if(c.key===x){if((x=u.type)===g){if(7===c.tag){r(l,c.sibling),(d=a(c,u.props.children)).return=l,l=d;break e}}else if(c.elementType===x||"object"===typeof x&&null!==x&&x.$$typeof===E&&Zs(x)===c.type){r(l,c.sibling),Xs(d=a(c,u.props),u),d.return=l,l=d;break e}r(l,c);break}t(l,c),c=c.sibling}u.type===g?((d=Vn(u.props.children,l.mode,d,u.key)).return=l,l=d):(Xs(d=Un(u.type,u.key,u.props,null,l.mode,d),u),d.return=l,l=d)}return o(l);case m:e:{for(x=u.key;null!==c;){if(c.key===x){if(4===c.tag&&c.stateNode.containerInfo===u.containerInfo&&c.stateNode.implementation===u.implementation){r(l,c.sibling),(d=a(c,u.children||[])).return=l,l=d;break e}r(l,c);break}t(l,c),c=c.sibling}(d=$n(u,l.mode,d)).return=l,l=d}return o(l);case E:return v(l,c,u=(x=u._init)(u._payload),d)}if(P(u))return function(a,s,o,l){for(var c=null,u=null,d=s,p=s=0,m=null;null!==d&&p<o.length;p++){d.index>p?(m=d,d=null):m=d.sibling;var g=f(a,d,o[p],l);if(null===g){null===d&&(d=m);break}e&&d&&null===g.alternate&&t(a,d),s=i(g,s,p),null===u?c=g:u.sibling=g,u=g,d=m}if(p===o.length)return r(a,d),ia&&Zn(a,p),c;if(null===d){for(;p<o.length;p++)null!==(d=h(a,o[p],l))&&(s=i(d,s,p),null===u?c=d:u.sibling=d,u=d);return ia&&Zn(a,p),c}for(d=n(d);p<o.length;p++)null!==(m=y(d,a,p,o[p],l))&&(e&&null!==m.alternate&&d.delete(null===m.key?p:m.key),s=i(m,s,p),null===u?c=m:u.sibling=m,u=m);return e&&d.forEach(function(e){return t(a,e)}),ia&&Zn(a,p),c}(l,c,u,d);if(T(u)){if("function"!==typeof(x=T(u)))throw Error(s(150));return function(a,o,l,c){if(null==l)throw Error(s(151));for(var u=null,d=null,p=o,m=o=0,g=null,v=l.next();null!==p&&!v.done;m++,v=l.next()){p.index>m?(g=p,p=null):g=p.sibling;var x=f(a,p,v.value,c);if(null===x){null===p&&(p=g);break}e&&p&&null===x.alternate&&t(a,p),o=i(x,o,m),null===d?u=x:d.sibling=x,d=x,p=g}if(v.done)return r(a,p),ia&&Zn(a,m),u;if(null===p){for(;!v.done;m++,v=l.next())null!==(v=h(a,v.value,c))&&(o=i(v,o,m),null===d?u=v:d.sibling=v,d=v);return ia&&Zn(a,m),u}for(p=n(p);!v.done;m++,v=l.next())null!==(v=y(p,a,m,v.value,c))&&(e&&null!==v.alternate&&p.delete(null===v.key?m:v.key),o=i(v,o,m),null===d?u=v:d.sibling=v,d=v);return e&&p.forEach(function(e){return t(a,e)}),ia&&Zn(a,m),u}(l,c,u=x.call(u),d)}if("function"===typeof u.then)return v(l,c,Qs(u),d);if(u.$$typeof===w)return v(l,c,Aa(l,u),d);Js(l,u)}return"string"===typeof u&&""!==u||"number"===typeof u||"bigint"===typeof u?(u=""+u,null!==c&&6===c.tag?(r(l,c.sibling),(d=a(c,u)).return=l,l=d):(r(l,c),(d=Bn(u,l.mode,d)).return=l,l=d),o(l)):r(l,c)}return function(e,t,r,n){try{Ys=0;var a=v(e,t,r,n);return Gs=null,a}catch(s){if(s===qa||s===Wa)throw s;var i=Rn(29,s,null,e.mode);return i.lanes=n,i.return=e,i}}}var to=eo(!0),ro=eo(!1),no=z(null),ao=null;function io(e){var t=e.alternate;V(co,1&co.current),V(no,e),null===ao&&(null===t||null!==fi.current||null!==t.memoizedState)&&(ao=e)}function so(e){if(22===e.tag){if(V(co,co.current),V(no,e),null===ao){var t=e.alternate;null!==t&&null!==t.memoizedState&&(ao=e)}}else oo()}function oo(){V(co,co.current),V(no,no.current)}function lo(e){U(no),ao===e&&(ao=null),U(co)}var co=z(0);function uo(e){for(var t=e;null!==t;){if(13===t.tag){var r=t.memoizedState;if(null!==r&&(null===(r=r.dehydrated)||"$?"===r.data||gd(r)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function ho(e,t,r,n){r=null===(r=r(n,t=e.memoizedState))||void 0===r?t:h({},t,r),e.memoizedState=r,0===e.lanes&&(e.updateQueue.baseState=r)}var fo={enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Dc(),a=ai(n);a.payload=t,void 0!==r&&null!==r&&(a.callback=r),null!==(t=ii(e,a,n))&&(Rc(t,e,n),si(t,e,n))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Dc(),a=ai(n);a.tag=1,a.payload=t,void 0!==r&&null!==r&&(a.callback=r),null!==(t=ii(e,a,n))&&(Rc(t,e,n),si(t,e,n))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Dc(),n=ai(r);n.tag=2,void 0!==t&&null!==t&&(n.callback=t),null!==(t=ii(e,n,r))&&(Rc(t,e,r),si(t,e,r))}};function po(e,t,r,n,a,i,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(n,i,s):!t.prototype||!t.prototype.isPureReactComponent||(!Yr(r,n)||!Yr(a,i))}function mo(e,t,r,n){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(r,n),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&fo.enqueueReplaceState(t,t.state,null)}function go(e,t){var r=t;if("ref"in t)for(var n in r={},t)"ref"!==n&&(r[n]=t[n]);if(e=e.defaultProps)for(var a in r===t&&(r=h({},r)),e)void 0===r[a]&&(r[a]=e[a]);return r}var yo="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function vo(e){yo(e)}function xo(e){console.error(e)}function bo(e){yo(e)}function wo(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(r){setTimeout(function(){throw r})}}function ko(e,t,r){try{(0,e.onCaughtError)(r.value,{componentStack:r.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(n){setTimeout(function(){throw n})}}function jo(e,t,r){return(r=ai(r)).tag=3,r.payload={element:null},r.callback=function(){wo(e,t)},r}function No(e){return(e=ai(e)).tag=3,e}function So(e,t,r,n){var a=r.type.getDerivedStateFromError;if("function"===typeof a){var i=n.value;e.payload=function(){return a(i)},e.callback=function(){ko(t,r,n)}}var s=r.stateNode;null!==s&&"function"===typeof s.componentDidCatch&&(e.callback=function(){ko(t,r,n),"function"!==typeof a&&(null===Nc?Nc=new Set([this]):Nc.add(this));var e=n.stack;this.componentDidCatch(n.value,{componentStack:null!==e?e:""})})}var Eo=Error(s(461)),Ao=!1;function _o(e,t,r,n){t.child=null===e?ro(t,null,r,n):to(t,e.child,r,n)}function Co(e,t,r,n,a){r=r.render;var i=t.ref;if("ref"in n){var s={};for(var o in n)"ref"!==o&&(s[o]=n[o])}else s=n;return Sa(t),n=Ii(e,t,r,s,i,a),o=Mi(),null===e||Ao?(ia&&o&&ta(t),t.flags|=1,_o(e,t,n,a),t.child):(Ri(e,t,a),Yo(e,t,a))}function To(e,t,r,n,a){if(null===e){var i=r.type;return"function"!==typeof i||Ln(i)||void 0!==i.defaultProps||null!==r.compare?((e=Un(r.type,null,n,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,Io(e,t,i,n,a))}if(i=e.child,!Qo(e,a)){var s=i.memoizedProps;if((r=null!==(r=r.compare)?r:Yr)(s,n)&&e.ref===t.ref)return Yo(e,t,a)}return t.flags|=1,(e=Fn(i,n)).ref=t.ref,e.return=t,t.child=e}function Io(e,t,r,n,a){if(null!==e){var i=e.memoizedProps;if(Yr(i,n)&&e.ref===t.ref){if(Ao=!1,t.pendingProps=n=i,!Qo(e,a))return t.lanes=e.lanes,Yo(e,t,a);0!==(131072&e.flags)&&(Ao=!0)}}return Mo(e,t,r,n,a)}function Oo(e,t,r){var n=t.pendingProps,a=n.children,i=null!==e?e.memoizedState:null;if("hidden"===n.mode){if(0!==(128&t.flags)){if(n=null!==i?i.baseLanes|r:r,null!==e){for(a=t.child=e.child,i=0;null!==a;)i=i|a.lanes|a.childLanes,a=a.sibling;t.childLanes=i&~n}else t.childLanes=0,t.child=null;return Po(e,t,n,r)}if(0===(536870912&r))return t.lanes=t.childLanes=536870912,Po(e,t,null!==i?i.baseLanes|r:r,r);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&$a(0,null!==i?i.cachePool:null),null!==i?mi(t,i):gi(),so(t)}else null!==i?($a(0,i.cachePool),mi(t,i),oo(),t.memoizedState=null):(null!==e&&$a(0,null),gi(),oo());return _o(e,t,a,r),t.child}function Po(e,t,r,n){var a=Ba();return a=null===a?null:{parent:Oa._currentValue,pool:a},t.memoizedState={baseLanes:r,cachePool:a},null!==e&&$a(0,null),gi(),so(t),null!==e&&ja(e,t,n,!0),null}function Do(e,t){var r=t.ref;if(null===r)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!==typeof r&&"object"!==typeof r)throw Error(s(284));null!==e&&e.ref===r||(t.flags|=4194816)}}function Mo(e,t,r,n,a){return Sa(t),r=Ii(e,t,r,n,void 0,a),n=Mi(),null===e||Ao?(ia&&n&&ta(t),t.flags|=1,_o(e,t,r,a),t.child):(Ri(e,t,a),Yo(e,t,a))}function Ro(e,t,r,n,a,i){return Sa(t),t.updateQueue=null,r=Pi(t,n,r,a),Oi(e),n=Mi(),null===e||Ao?(ia&&n&&ta(t),t.flags|=1,_o(e,t,r,i),t.child):(Ri(e,t,i),Yo(e,t,i))}function Lo(e,t,r,n,a){if(Sa(t),null===t.stateNode){var i=Dn,s=r.contextType;"object"===typeof s&&null!==s&&(i=Ea(s)),i=new r(n,i),t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,i.updater=fo,t.stateNode=i,i._reactInternals=t,(i=t.stateNode).props=n,i.state=t.memoizedState,i.refs={},ri(t),s=r.contextType,i.context="object"===typeof s&&null!==s?Ea(s):Dn,i.state=t.memoizedState,"function"===typeof(s=r.getDerivedStateFromProps)&&(ho(t,r,s,n),i.state=t.memoizedState),"function"===typeof r.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(s=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),s!==i.state&&fo.enqueueReplaceState(i,i.state,null),ui(t,n,i,a),ci(),i.state=t.memoizedState),"function"===typeof i.componentDidMount&&(t.flags|=4194308),n=!0}else if(null===e){i=t.stateNode;var o=t.memoizedProps,l=go(r,o);i.props=l;var c=i.context,u=r.contextType;s=Dn,"object"===typeof u&&null!==u&&(s=Ea(u));var d=r.getDerivedStateFromProps;u="function"===typeof d||"function"===typeof i.getSnapshotBeforeUpdate,o=t.pendingProps!==o,u||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(o||c!==s)&&mo(t,i,n,s),ti=!1;var h=t.memoizedState;i.state=h,ui(t,n,i,a),ci(),c=t.memoizedState,o||h!==c||ti?("function"===typeof d&&(ho(t,r,d,n),c=t.memoizedState),(l=ti||po(t,r,l,n,h,c,s))?(u||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||("function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"===typeof i.componentDidMount&&(t.flags|=4194308)):("function"===typeof i.componentDidMount&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),i.props=n,i.state=c,i.context=s,n=l):("function"===typeof i.componentDidMount&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,ni(e,t),u=go(r,s=t.memoizedProps),i.props=u,d=t.pendingProps,h=i.context,c=r.contextType,l=Dn,"object"===typeof c&&null!==c&&(l=Ea(c)),(c="function"===typeof(o=r.getDerivedStateFromProps)||"function"===typeof i.getSnapshotBeforeUpdate)||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(s!==d||h!==l)&&mo(t,i,n,l),ti=!1,h=t.memoizedState,i.state=h,ui(t,n,i,a),ci();var f=t.memoizedState;s!==d||h!==f||ti||null!==e&&null!==e.dependencies&&Na(e.dependencies)?("function"===typeof o&&(ho(t,r,o,n),f=t.memoizedState),(u=ti||po(t,r,u,n,h,f,l)||null!==e&&null!==e.dependencies&&Na(e.dependencies))?(c||"function"!==typeof i.UNSAFE_componentWillUpdate&&"function"!==typeof i.componentWillUpdate||("function"===typeof i.componentWillUpdate&&i.componentWillUpdate(n,f,l),"function"===typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(n,f,l)),"function"===typeof i.componentDidUpdate&&(t.flags|=4),"function"===typeof i.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof i.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=f),i.props=n,i.state=f,i.context=l,n=u):("function"!==typeof i.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return i=n,Do(e,t),n=0!==(128&t.flags),i||n?(i=t.stateNode,r=n&&"function"!==typeof r.getDerivedStateFromError?null:i.render(),t.flags|=1,null!==e&&n?(t.child=to(t,e.child,null,a),t.child=to(t,null,r,a)):_o(e,t,r,a),t.memoizedState=i.state,e=t.child):e=Yo(e,t,a),e}function Fo(e,t,r,n){return fa(),t.flags|=256,_o(e,t,r,n),t.child}var zo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Uo(e){return{baseLanes:e,cachePool:Ha()}}function Vo(e,t,r){return e=null!==e?e.childLanes&~r:0,t&&(e|=gc),e}function Bo(e,t,r){var n,a=t.pendingProps,i=!1,o=0!==(128&t.flags);if((n=o)||(n=(null===e||null!==e.memoizedState)&&0!==(2&co.current)),n&&(i=!0,t.flags&=-129),n=0!==(32&t.flags),t.flags&=-33,null===e){if(ia){if(i?io(t):oo(),ia){var l,c=aa;if(l=c){e:{for(l=c,c=oa;8!==l.nodeType;){if(!c){c=null;break e}if(null===(l=yd(l.nextSibling))){c=null;break e}}c=l}null!==c?(t.memoizedState={dehydrated:c,treeContext:null!==Qn?{id:Xn,overflow:Jn}:null,retryLane:536870912,hydrationErrors:null},(l=Rn(18,null,null,0)).stateNode=c,l.return=t,t.child=l,na=t,aa=null,l=!0):l=!1}l||ca(t)}if(null!==(c=t.memoizedState)&&null!==(c=c.dehydrated))return gd(c)?t.lanes=32:t.lanes=536870912,null;lo(t)}return c=a.children,a=a.fallback,i?(oo(),c=Ho({mode:"hidden",children:c},i=t.mode),a=Vn(a,i,r,null),c.return=t,a.return=t,c.sibling=a,t.child=c,(i=t.child).memoizedState=Uo(r),i.childLanes=Vo(e,n,r),t.memoizedState=zo,a):(io(t),$o(t,c))}if(null!==(l=e.memoizedState)&&null!==(c=l.dehydrated)){if(o)256&t.flags?(io(t),t.flags&=-257,t=qo(e,t,r)):null!==t.memoizedState?(oo(),t.child=e.child,t.flags|=128,t=null):(oo(),i=a.fallback,c=t.mode,a=Ho({mode:"visible",children:a.children},c),(i=Vn(i,c,r,null)).flags|=2,a.return=t,i.return=t,a.sibling=i,t.child=a,to(t,e.child,null,r),(a=t.child).memoizedState=Uo(r),a.childLanes=Vo(e,n,r),t.memoizedState=zo,t=i);else if(io(t),gd(c)){if(n=c.nextSibling&&c.nextSibling.dataset)var u=n.dgst;n=u,(a=Error(s(419))).stack="",a.digest=n,ma({value:a,source:null,stack:null}),t=qo(e,t,r)}else if(Ao||ja(e,t,r,!1),n=0!==(r&e.childLanes),Ao||n){if(null!==(n=nc)&&(0!==(a=0!==((a=0!==(42&(a=r&-r))?1:_e(a))&(n.suspendedLanes|r))?0:a)&&a!==l.retryLane))throw l.retryLane=a,In(e,a),Rc(n,e,a),Eo;"$?"===c.data||Wc(),t=qo(e,t,r)}else"$?"===c.data?(t.flags|=192,t.child=e.child,t=null):(e=l.treeContext,aa=yd(c.nextSibling),na=t,ia=!0,sa=null,oa=!1,null!==e&&(Gn[Yn++]=Xn,Gn[Yn++]=Jn,Gn[Yn++]=Qn,Xn=e.id,Jn=e.overflow,Qn=t),(t=$o(t,a.children)).flags|=4096);return t}return i?(oo(),i=a.fallback,c=t.mode,u=(l=e.child).sibling,(a=Fn(l,{mode:"hidden",children:a.children})).subtreeFlags=65011712&l.subtreeFlags,null!==u?i=Fn(u,i):(i=Vn(i,c,r,null)).flags|=2,i.return=t,a.return=t,a.sibling=i,t.child=a,a=i,i=t.child,null===(c=e.child.memoizedState)?c=Uo(r):(null!==(l=c.cachePool)?(u=Oa._currentValue,l=l.parent!==u?{parent:u,pool:u}:l):l=Ha(),c={baseLanes:c.baseLanes|r,cachePool:l}),i.memoizedState=c,i.childLanes=Vo(e,n,r),t.memoizedState=zo,a):(io(t),e=(r=e.child).sibling,(r=Fn(r,{mode:"visible",children:a.children})).return=t,r.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r)}function $o(e,t){return(t=Ho({mode:"visible",children:t},e.mode)).return=e,e.child=t}function Ho(e,t){return(e=Rn(22,e,null,t)).lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function qo(e,t,r){return to(t,e.child,null,r),(e=$o(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ko(e,t,r){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),wa(e.return,t,r)}function Wo(e,t,r,n,a){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=a)}function Go(e,t,r){var n=t.pendingProps,a=n.revealOrder,i=n.tail;if(_o(e,t,n.children,r),0!==(2&(n=co.current)))n=1&n|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ko(e,r,t);else if(19===e.tag)Ko(e,r,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}switch(V(co,n),a){case"forwards":for(r=t.child,a=null;null!==r;)null!==(e=r.alternate)&&null===uo(e)&&(a=r),r=r.sibling;null===(r=a)?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),Wo(t,!1,a,r,i);break;case"backwards":for(r=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===uo(e)){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}Wo(t,!0,r,null,i);break;case"together":Wo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Yo(e,t,r){if(null!==e&&(t.dependencies=e.dependencies),fc|=t.lanes,0===(r&t.childLanes)){if(null===e)return null;if(ja(e,t,r,!1),0===(r&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(r=Fn(e=t.child,e.pendingProps),t.child=r,r.return=t;null!==e.sibling;)e=e.sibling,(r=r.sibling=Fn(e,e.pendingProps)).return=t;r.sibling=null}return t.child}function Qo(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Na(e))}function Xo(e,t,r){if(null!==e)if(e.memoizedProps!==t.pendingProps)Ao=!0;else{if(!Qo(e,r)&&0===(128&t.flags))return Ao=!1,function(e,t,r){switch(t.tag){case 3:K(t,t.stateNode.containerInfo),xa(0,Oa,e.memoizedState.cache),fa();break;case 27:case 5:G(t);break;case 4:K(t,t.stateNode.containerInfo);break;case 10:xa(0,t.type,t.memoizedProps.value);break;case 13:var n=t.memoizedState;if(null!==n)return null!==n.dehydrated?(io(t),t.flags|=128,null):0!==(r&t.child.childLanes)?Bo(e,t,r):(io(t),null!==(e=Yo(e,t,r))?e.sibling:null);io(t);break;case 19:var a=0!==(128&e.flags);if((n=0!==(r&t.childLanes))||(ja(e,t,r,!1),n=0!==(r&t.childLanes)),a){if(n)return Go(e,t,r);t.flags|=128}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),V(co,co.current),n)break;return null;case 22:case 23:return t.lanes=0,Oo(e,t,r);case 24:xa(0,Oa,e.memoizedState.cache)}return Yo(e,t,r)}(e,t,r);Ao=0!==(131072&e.flags)}else Ao=!1,ia&&0!==(1048576&t.flags)&&ea(t,Wn,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var n=t.elementType,a=n._init;if(n=a(n._payload),t.type=n,"function"!==typeof n){if(void 0!==n&&null!==n){if((a=n.$$typeof)===k){t.tag=11,t=Co(null,t,n,e,r);break e}if(a===S){t.tag=14,t=To(null,t,n,e,r);break e}}throw t=O(n)||n,Error(s(306,t,""))}Ln(n)?(e=go(n,e),t.tag=1,t=Lo(null,t,n,e,r)):(t.tag=0,t=Mo(null,t,n,e,r))}return t;case 0:return Mo(e,t,t.type,t.pendingProps,r);case 1:return Lo(e,t,n=t.type,a=go(n,t.pendingProps),r);case 3:e:{if(K(t,t.stateNode.containerInfo),null===e)throw Error(s(387));n=t.pendingProps;var i=t.memoizedState;a=i.element,ni(e,t),ui(t,n,null,r);var o=t.memoizedState;if(n=o.cache,xa(0,Oa,n),n!==i.cache&&ka(t,[Oa],r,!0),ci(),n=o.element,i.isDehydrated){if(i={element:n,isDehydrated:!1,cache:o.cache},t.updateQueue.baseState=i,t.memoizedState=i,256&t.flags){t=Fo(e,t,n,r);break e}if(n!==a){ma(a=Nn(Error(s(424)),t)),t=Fo(e,t,n,r);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(aa=yd(e.firstChild),na=t,ia=!0,sa=null,oa=!0,r=ro(t,null,n,r),t.child=r;r;)r.flags=-3&r.flags|4096,r=r.sibling}else{if(fa(),n===a){t=Yo(e,t,r);break e}_o(e,t,n,r)}t=t.child}return t;case 26:return Do(e,t),null===e?(r=_d(t.type,null,t.pendingProps,null))?t.memoizedState=r:ia||(r=t.type,e=t.pendingProps,(n=nd(H.current).createElement(r))[Oe]=t,n[Pe]=e,ed(n,r,e),qe(n),t.stateNode=n):t.memoizedState=_d(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return G(t),null===e&&ia&&(n=t.stateNode=bd(t.type,t.pendingProps,H.current),na=t,oa=!0,a=aa,fd(t.type)?(vd=a,aa=yd(n.firstChild)):aa=a),_o(e,t,t.pendingProps.children,r),Do(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&ia&&((a=n=aa)&&(null!==(n=function(e,t,r,n){for(;1===e.nodeType;){var a=r;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!n&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(n){if(!e[ze])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(i=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(i!==a.rel||e.getAttribute("href")!==(null==a.href||""===a.href?null:a.href)||e.getAttribute("crossorigin")!==(null==a.crossOrigin?null:a.crossOrigin)||e.getAttribute("title")!==(null==a.title?null:a.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((i=e.getAttribute("src"))!==(null==a.src?null:a.src)||e.getAttribute("type")!==(null==a.type?null:a.type)||e.getAttribute("crossorigin")!==(null==a.crossOrigin?null:a.crossOrigin))&&i&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var i=null==a.name?null:""+a.name;if("hidden"===a.type&&e.getAttribute("name")===i)return e}if(null===(e=yd(e.nextSibling)))break}return null}(n,t.type,t.pendingProps,oa))?(t.stateNode=n,na=t,aa=yd(n.firstChild),oa=!1,a=!0):a=!1),a||ca(t)),G(t),a=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,n=i.children,sd(a,i)?n=null:null!==o&&sd(a,o)&&(t.flags|=32),null!==t.memoizedState&&(a=Ii(e,t,Di,null,null,r),Gd._currentValue=a),Do(e,t),_o(e,t,n,r),t.child;case 6:return null===e&&ia&&((e=r=aa)&&(null!==(r=function(e,t,r){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!r)return null;if(null===(e=yd(e.nextSibling)))return null}return e}(r,t.pendingProps,oa))?(t.stateNode=r,na=t,aa=null,e=!0):e=!1),e||ca(t)),null;case 13:return Bo(e,t,r);case 4:return K(t,t.stateNode.containerInfo),n=t.pendingProps,null===e?t.child=to(t,null,n,r):_o(e,t,n,r),t.child;case 11:return Co(e,t,t.type,t.pendingProps,r);case 7:return _o(e,t,t.pendingProps,r),t.child;case 8:case 12:return _o(e,t,t.pendingProps.children,r),t.child;case 10:return n=t.pendingProps,xa(0,t.type,n.value),_o(e,t,n.children,r),t.child;case 9:return a=t.type._context,n=t.pendingProps.children,Sa(t),n=n(a=Ea(a)),t.flags|=1,_o(e,t,n,r),t.child;case 14:return To(e,t,t.type,t.pendingProps,r);case 15:return Io(e,t,t.type,t.pendingProps,r);case 19:return Go(e,t,r);case 31:return n=t.pendingProps,r=t.mode,n={mode:n.mode,children:n.children},null===e?((r=Ho(n,r)).ref=t.ref,t.child=r,r.return=t,t=r):((r=Fn(e.child,n)).ref=t.ref,t.child=r,r.return=t,t=r),t;case 22:return Oo(e,t,r);case 24:return Sa(t),n=Ea(Oa),null===e?(null===(a=Ba())&&(a=nc,i=Pa(),a.pooledCache=i,i.refCount++,null!==i&&(a.pooledCacheLanes|=r),a=i),t.memoizedState={parent:n,cache:a},ri(t),xa(0,Oa,a)):(0!==(e.lanes&r)&&(ni(e,t),ui(t,null,null,r),ci()),a=e.memoizedState,i=t.memoizedState,a.parent!==n?(a={parent:n,cache:n},t.memoizedState=a,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=a),xa(0,Oa,n)):(n=i.cache,xa(0,Oa,n),n!==a.cache&&ka(t,[Oa],r,!0))),_o(e,t,t.pendingProps.children,r),t.child;case 29:throw t.pendingProps}throw Error(s(156,t.tag))}function Jo(e){e.flags|=4}function Zo(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!Vd(t)){if(null!==(t=no.current)&&((4194048&ic)===ic?null!==ao:(62914560&ic)!==ic&&0===(536870912&ic)||t!==ao))throw Ja=Ga,Ka;e.flags|=8192}}function el(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?je():536870912,e.lanes|=t,yc|=t)}function tl(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;null!==t;)null!==t.alternate&&(r=t),t=t.sibling;null===r?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;null!==r;)null!==r.alternate&&(n=r),r=r.sibling;null===n?t||null===e.tail?e.tail=null:e.tail.sibling=null:n.sibling=null}}function rl(e){var t=null!==e.alternate&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;null!==a;)r|=a.lanes|a.childLanes,n|=65011712&a.subtreeFlags,n|=65011712&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function nl(e,t,r){var n=t.pendingProps;switch(ra(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return rl(t),null;case 3:return r=t.stateNode,n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),ba(Oa),W(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ha(t)?Jo(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,pa())),rl(t),null;case 26:return r=t.memoizedState,null===e?(Jo(t),null!==r?(rl(t),Zo(t,r)):(rl(t),t.flags&=-16777217)):r?r!==e.memoizedState?(Jo(t),rl(t),Zo(t,r)):(rl(t),t.flags&=-16777217):(e.memoizedProps!==n&&Jo(t),rl(t),t.flags&=-16777217),null;case 27:Y(t),r=H.current;var a=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==n&&Jo(t);else{if(!n){if(null===t.stateNode)throw Error(s(166));return rl(t),null}e=B.current,ha(t)?ua(t):(e=bd(a,n,r),t.stateNode=e,Jo(t))}return rl(t),null;case 5:if(Y(t),r=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==n&&Jo(t);else{if(!n){if(null===t.stateNode)throw Error(s(166));return rl(t),null}if(e=B.current,ha(t))ua(t);else{switch(a=nd(H.current),e){case 1:e=a.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:e=a.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":e=a.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":e=a.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":(e=a.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"===typeof n.is?a.createElement("select",{is:n.is}):a.createElement("select"),n.multiple?e.multiple=!0:n.size&&(e.size=n.size);break;default:e="string"===typeof n.is?a.createElement(r,{is:n.is}):a.createElement(r)}}e[Oe]=t,e[Pe]=n;e:for(a=t.child;null!==a;){if(5===a.tag||6===a.tag)e.appendChild(a.stateNode);else if(4!==a.tag&&27!==a.tag&&null!==a.child){a.child.return=a,a=a.child;continue}if(a===t)break e;for(;null===a.sibling;){if(null===a.return||a.return===t)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}t.stateNode=e;e:switch(ed(e,r,n),r){case"button":case"input":case"select":case"textarea":e=!!n.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Jo(t)}}return rl(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==n&&Jo(t);else{if("string"!==typeof n&&null===t.stateNode)throw Error(s(166));if(e=H.current,ha(t)){if(e=t.stateNode,r=t.memoizedProps,n=null,null!==(a=na))switch(a.tag){case 27:case 5:n=a.memoizedProps}e[Oe]=t,(e=!!(e.nodeValue===r||null!==n&&!0===n.suppressHydrationWarning||Qu(e.nodeValue,r)))||ca(t)}else(e=nd(e).createTextNode(n))[Oe]=t,t.stateNode=e}return rl(t),null;case 13:if(n=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(a=ha(t),null!==n&&null!==n.dehydrated){if(null===e){if(!a)throw Error(s(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(s(317));a[Oe]=t}else fa(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;rl(t),a=!1}else a=pa(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=a),a=!0;if(!a)return 256&t.flags?(lo(t),t):(lo(t),null)}if(lo(t),0!==(128&t.flags))return t.lanes=r,t;if(r=null!==n,e=null!==e&&null!==e.memoizedState,r){a=null,null!==(n=t.child).alternate&&null!==n.alternate.memoizedState&&null!==n.alternate.memoizedState.cachePool&&(a=n.alternate.memoizedState.cachePool.pool);var i=null;null!==n.memoizedState&&null!==n.memoizedState.cachePool&&(i=n.memoizedState.cachePool.pool),i!==a&&(n.flags|=2048)}return r!==e&&r&&(t.child.flags|=8192),el(t,t.updateQueue),rl(t),null;case 4:return W(),null===e&&Uu(t.stateNode.containerInfo),rl(t),null;case 10:return ba(t.type),rl(t),null;case 19:if(U(co),null===(a=t.memoizedState))return rl(t),null;if(n=0!==(128&t.flags),null===(i=a.rendering))if(n)tl(a,!1);else{if(0!==hc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(i=uo(e))){for(t.flags|=128,tl(a,!1),e=i.updateQueue,t.updateQueue=e,el(t,e),t.subtreeFlags=0,e=r,r=t.child;null!==r;)zn(r,e),r=r.sibling;return V(co,1&co.current|2),t.child}e=e.sibling}null!==a.tail&&te()>kc&&(t.flags|=128,n=!0,tl(a,!1),t.lanes=4194304)}else{if(!n)if(null!==(e=uo(i))){if(t.flags|=128,n=!0,e=e.updateQueue,t.updateQueue=e,el(t,e),tl(a,!0),null===a.tail&&"hidden"===a.tailMode&&!i.alternate&&!ia)return rl(t),null}else 2*te()-a.renderingStartTime>kc&&536870912!==r&&(t.flags|=128,n=!0,tl(a,!1),t.lanes=4194304);a.isBackwards?(i.sibling=t.child,t.child=i):(null!==(e=a.last)?e.sibling=i:t.child=i,a.last=i)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=te(),t.sibling=null,e=co.current,V(co,n?1&e|2:1&e),t):(rl(t),null);case 22:case 23:return lo(t),yi(),n=null!==t.memoizedState,null!==e?null!==e.memoizedState!==n&&(t.flags|=8192):n&&(t.flags|=8192),n?0!==(536870912&r)&&0===(128&t.flags)&&(rl(t),6&t.subtreeFlags&&(t.flags|=8192)):rl(t),null!==(r=t.updateQueue)&&el(t,r.retryQueue),r=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(r=e.memoizedState.cachePool.pool),n=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(n=t.memoizedState.cachePool.pool),n!==r&&(t.flags|=2048),null!==e&&U(Va),null;case 24:return r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),ba(Oa),rl(t),null;case 25:case 30:return null}throw Error(s(156,t.tag))}function al(e,t){switch(ra(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return ba(Oa),W(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return Y(t),null;case 13:if(lo(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));fa()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return U(co),null;case 4:return W(),null;case 10:return ba(t.type),null;case 22:case 23:return lo(t),yi(),null!==e&&U(Va),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return ba(Oa),null;default:return null}}function il(e,t){switch(ra(t),t.tag){case 3:ba(Oa),W();break;case 26:case 27:case 5:Y(t);break;case 4:W();break;case 13:lo(t);break;case 19:U(co);break;case 10:ba(t.type);break;case 22:case 23:lo(t),yi(),null!==e&&U(Va);break;case 24:ba(Oa)}}function sl(e,t){try{var r=t.updateQueue,n=null!==r?r.lastEffect:null;if(null!==n){var a=n.next;r=a;do{if((r.tag&e)===e){n=void 0;var i=r.create,s=r.inst;n=i(),s.destroy=n}r=r.next}while(r!==a)}}catch(o){uu(t,t.return,o)}}function ol(e,t,r){try{var n=t.updateQueue,a=null!==n?n.lastEffect:null;if(null!==a){var i=a.next;n=i;do{if((n.tag&e)===e){var s=n.inst,o=s.destroy;if(void 0!==o){s.destroy=void 0,a=t;var l=r,c=o;try{c()}catch(u){uu(a,l,u)}}}n=n.next}while(n!==i)}}catch(u){uu(t,t.return,u)}}function ll(e){var t=e.updateQueue;if(null!==t){var r=e.stateNode;try{hi(t,r)}catch(n){uu(e,e.return,n)}}}function cl(e,t,r){r.props=go(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(n){uu(e,t,n)}}function ul(e,t){try{var r=e.ref;if(null!==r){switch(e.tag){case 26:case 27:case 5:var n=e.stateNode;break;default:n=e.stateNode}"function"===typeof r?e.refCleanup=r(n):r.current=n}}catch(a){uu(e,t,a)}}function dl(e,t){var r=e.ref,n=e.refCleanup;if(null!==r)if("function"===typeof n)try{n()}catch(a){uu(e,t,a)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof r)try{r(null)}catch(i){uu(e,t,i)}else r.current=null}function hl(e){var t=e.type,r=e.memoizedProps,n=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":r.autoFocus&&n.focus();break e;case"img":r.src?n.src=r.src:r.srcSet&&(n.srcset=r.srcSet)}}catch(a){uu(e,e.return,a)}}function fl(e,t,r){try{var n=e.stateNode;!function(e,t,r,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var a=null,i=null,o=null,l=null,c=null,u=null,d=null;for(p in r){var h=r[p];if(r.hasOwnProperty(p)&&null!=h)switch(p){case"checked":case"value":break;case"defaultValue":c=h;default:n.hasOwnProperty(p)||Ju(e,t,p,null,n,h)}}for(var f in n){var p=n[f];if(h=r[f],n.hasOwnProperty(f)&&(null!=p||null!=h))switch(f){case"type":i=p;break;case"name":a=p;break;case"checked":u=p;break;case"defaultChecked":d=p;break;case"value":o=p;break;case"defaultValue":l=p;break;case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(s(137,t));break;default:p!==h&&Ju(e,t,f,p,n,h)}}return void gt(e,o,l,c,u,d,i,a);case"select":for(i in p=o=l=f=null,r)if(c=r[i],r.hasOwnProperty(i)&&null!=c)switch(i){case"value":break;case"multiple":p=c;default:n.hasOwnProperty(i)||Ju(e,t,i,null,n,c)}for(a in n)if(i=n[a],c=r[a],n.hasOwnProperty(a)&&(null!=i||null!=c))switch(a){case"value":f=i;break;case"defaultValue":l=i;break;case"multiple":o=i;default:i!==c&&Ju(e,t,a,i,n,c)}return t=l,r=o,n=p,void(null!=f?xt(e,!!r,f,!1):!!n!==!!r&&(null!=t?xt(e,!!r,t,!0):xt(e,!!r,r?[]:"",!1)));case"textarea":for(l in p=f=null,r)if(a=r[l],r.hasOwnProperty(l)&&null!=a&&!n.hasOwnProperty(l))switch(l){case"value":case"children":break;default:Ju(e,t,l,null,n,a)}for(o in n)if(a=n[o],i=r[o],n.hasOwnProperty(o)&&(null!=a||null!=i))switch(o){case"value":f=a;break;case"defaultValue":p=a;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=a)throw Error(s(91));break;default:a!==i&&Ju(e,t,o,a,n,i)}return void bt(e,f,p);case"option":for(var m in r)if(f=r[m],r.hasOwnProperty(m)&&null!=f&&!n.hasOwnProperty(m))if("selected"===m)e.selected=!1;else Ju(e,t,m,null,n,f);for(c in n)if(f=n[c],p=r[c],n.hasOwnProperty(c)&&f!==p&&(null!=f||null!=p))if("selected"===c)e.selected=f&&"function"!==typeof f&&"symbol"!==typeof f;else Ju(e,t,c,f,n,p);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in r)f=r[g],r.hasOwnProperty(g)&&null!=f&&!n.hasOwnProperty(g)&&Ju(e,t,g,null,n,f);for(u in n)if(f=n[u],p=r[u],n.hasOwnProperty(u)&&f!==p&&(null!=f||null!=p))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(s(137,t));break;default:Ju(e,t,u,f,n,p)}return;default:if(Et(t)){for(var y in r)f=r[y],r.hasOwnProperty(y)&&void 0!==f&&!n.hasOwnProperty(y)&&Zu(e,t,y,void 0,n,f);for(d in n)f=n[d],p=r[d],!n.hasOwnProperty(d)||f===p||void 0===f&&void 0===p||Zu(e,t,d,f,n,p);return}}for(var v in r)f=r[v],r.hasOwnProperty(v)&&null!=f&&!n.hasOwnProperty(v)&&Ju(e,t,v,null,n,f);for(h in n)f=n[h],p=r[h],!n.hasOwnProperty(h)||f===p||null==f&&null==p||Ju(e,t,h,f,n,p)}(n,e.type,r,t),n[Pe]=t}catch(a){uu(e,e.return,a)}}function pl(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&fd(e.type)||4===e.tag}function ml(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||pl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&fd(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function gl(e,t,r){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?(9===r.nodeType?r.body:"HTML"===r.nodeName?r.ownerDocument.body:r).insertBefore(e,t):((t=9===r.nodeType?r.body:"HTML"===r.nodeName?r.ownerDocument.body:r).appendChild(e),null!==(r=r._reactRootContainer)&&void 0!==r||null!==t.onclick||(t.onclick=Xu));else if(4!==n&&(27===n&&fd(e.type)&&(r=e.stateNode,t=null),null!==(e=e.child)))for(gl(e,t,r),e=e.sibling;null!==e;)gl(e,t,r),e=e.sibling}function yl(e,t,r){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(4!==n&&(27===n&&fd(e.type)&&(r=e.stateNode),null!==(e=e.child)))for(yl(e,t,r),e=e.sibling;null!==e;)yl(e,t,r),e=e.sibling}function vl(e){var t=e.stateNode,r=e.memoizedProps;try{for(var n=e.type,a=t.attributes;a.length;)t.removeAttributeNode(a[0]);ed(t,n,r),t[Oe]=e,t[Pe]=r}catch(i){uu(e,e.return,i)}}var xl=!1,bl=!1,wl=!1,kl="function"===typeof WeakSet?WeakSet:Set,jl=null;function Nl(e,t,r){var n=r.flags;switch(r.tag){case 0:case 11:case 15:Ll(e,r),4&n&&sl(5,r);break;case 1:if(Ll(e,r),4&n)if(e=r.stateNode,null===t)try{e.componentDidMount()}catch(s){uu(r,r.return,s)}else{var a=go(r.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(a,t,e.__reactInternalSnapshotBeforeUpdate)}catch(o){uu(r,r.return,o)}}64&n&&ll(r),512&n&&ul(r,r.return);break;case 3:if(Ll(e,r),64&n&&null!==(e=r.updateQueue)){if(t=null,null!==r.child)switch(r.child.tag){case 27:case 5:case 1:t=r.child.stateNode}try{hi(e,t)}catch(s){uu(r,r.return,s)}}break;case 27:null===t&&4&n&&vl(r);case 26:case 5:Ll(e,r),null===t&&4&n&&hl(r),512&n&&ul(r,r.return);break;case 12:Ll(e,r);break;case 13:Ll(e,r),4&n&&Tl(e,r),64&n&&(null!==(e=r.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var r=e.ownerDocument;if("$?"!==e.data||"complete"===r.readyState)t();else{var n=function(){t(),r.removeEventListener("DOMContentLoaded",n)};r.addEventListener("DOMContentLoaded",n),e._reactRetry=n}}(e,r=pu.bind(null,r))));break;case 22:if(!(n=null!==r.memoizedState||xl)){t=null!==t&&null!==t.memoizedState||bl,a=xl;var i=bl;xl=n,(bl=t)&&!i?zl(e,r,0!==(8772&r.subtreeFlags)):Ll(e,r),xl=a,bl=i}break;case 30:break;default:Ll(e,r)}}function Sl(e){var t=e.alternate;null!==t&&(e.alternate=null,Sl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&Ue(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var El=null,Al=!1;function _l(e,t,r){for(r=r.child;null!==r;)Cl(e,t,r),r=r.sibling}function Cl(e,t,r){if(de&&"function"===typeof de.onCommitFiberUnmount)try{de.onCommitFiberUnmount(ue,r)}catch(i){}switch(r.tag){case 26:bl||dl(r,t),_l(e,t,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode).parentNode.removeChild(r);break;case 27:bl||dl(r,t);var n=El,a=Al;fd(r.type)&&(El=r.stateNode,Al=!1),_l(e,t,r),wd(r.stateNode),El=n,Al=a;break;case 5:bl||dl(r,t);case 6:if(n=El,a=Al,El=null,_l(e,t,r),Al=a,null!==(El=n))if(Al)try{(9===El.nodeType?El.body:"HTML"===El.nodeName?El.ownerDocument.body:El).removeChild(r.stateNode)}catch(s){uu(r,t,s)}else try{El.removeChild(r.stateNode)}catch(s){uu(r,t,s)}break;case 18:null!==El&&(Al?(pd(9===(e=El).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,r.stateNode),Ah(e)):pd(El,r.stateNode));break;case 4:n=El,a=Al,El=r.stateNode.containerInfo,Al=!0,_l(e,t,r),El=n,Al=a;break;case 0:case 11:case 14:case 15:bl||ol(2,r,t),bl||ol(4,r,t),_l(e,t,r);break;case 1:bl||(dl(r,t),"function"===typeof(n=r.stateNode).componentWillUnmount&&cl(r,t,n)),_l(e,t,r);break;case 21:_l(e,t,r);break;case 22:bl=(n=bl)||null!==r.memoizedState,_l(e,t,r),bl=n;break;default:_l(e,t,r)}}function Tl(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{Ah(e)}catch(r){uu(t,t.return,r)}}function Il(e,t){var r=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new kl),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new kl),t;default:throw Error(s(435,e.tag))}}(e);t.forEach(function(t){var n=mu.bind(null,e,t);r.has(t)||(r.add(t),t.then(n,n))})}function Ol(e,t){var r=t.deletions;if(null!==r)for(var n=0;n<r.length;n++){var a=r[n],i=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 27:if(fd(l.type)){El=l.stateNode,Al=!1;break e}break;case 5:El=l.stateNode,Al=!1;break e;case 3:case 4:El=l.stateNode.containerInfo,Al=!0;break e}l=l.return}if(null===El)throw Error(s(160));Cl(i,o,a),El=null,Al=!1,null!==(i=a.alternate)&&(i.return=null),a.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)Dl(t,e),t=t.sibling}var Pl=null;function Dl(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ol(t,e),Ml(e),4&n&&(ol(3,e,e.return),sl(3,e),ol(5,e,e.return));break;case 1:Ol(t,e),Ml(e),512&n&&(bl||null===r||dl(r,r.return)),64&n&&xl&&(null!==(e=e.updateQueue)&&(null!==(n=e.callbacks)&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===r?n:r.concat(n))));break;case 26:var a=Pl;if(Ol(t,e),Ml(e),512&n&&(bl||null===r||dl(r,r.return)),4&n){var i=null!==r?r.memoizedState:null;if(n=e.memoizedState,null===r)if(null===n)if(null===e.stateNode){e:{n=e.type,r=e.memoizedProps,a=a.ownerDocument||a;t:switch(n){case"title":(!(i=a.getElementsByTagName("title")[0])||i[ze]||i[Oe]||"http://www.w3.org/2000/svg"===i.namespaceURI||i.hasAttribute("itemprop"))&&(i=a.createElement(n),a.head.insertBefore(i,a.querySelector("head > title"))),ed(i,n,r),i[Oe]=e,qe(i),n=i;break e;case"link":var o=zd("link","href",a).get(n+(r.href||""));if(o)for(var l=0;l<o.length;l++)if((i=o[l]).getAttribute("href")===(null==r.href||""===r.href?null:r.href)&&i.getAttribute("rel")===(null==r.rel?null:r.rel)&&i.getAttribute("title")===(null==r.title?null:r.title)&&i.getAttribute("crossorigin")===(null==r.crossOrigin?null:r.crossOrigin)){o.splice(l,1);break t}ed(i=a.createElement(n),n,r),a.head.appendChild(i);break;case"meta":if(o=zd("meta","content",a).get(n+(r.content||"")))for(l=0;l<o.length;l++)if((i=o[l]).getAttribute("content")===(null==r.content?null:""+r.content)&&i.getAttribute("name")===(null==r.name?null:r.name)&&i.getAttribute("property")===(null==r.property?null:r.property)&&i.getAttribute("http-equiv")===(null==r.httpEquiv?null:r.httpEquiv)&&i.getAttribute("charset")===(null==r.charSet?null:r.charSet)){o.splice(l,1);break t}ed(i=a.createElement(n),n,r),a.head.appendChild(i);break;default:throw Error(s(468,n))}i[Oe]=e,qe(i),n=i}e.stateNode=n}else Ud(a,e.type,e.stateNode);else e.stateNode=Dd(a,n,e.memoizedProps);else i!==n?(null===i?null!==r.stateNode&&(r=r.stateNode).parentNode.removeChild(r):i.count--,null===n?Ud(a,e.type,e.stateNode):Dd(a,n,e.memoizedProps)):null===n&&null!==e.stateNode&&fl(e,e.memoizedProps,r.memoizedProps)}break;case 27:Ol(t,e),Ml(e),512&n&&(bl||null===r||dl(r,r.return)),null!==r&&4&n&&fl(e,e.memoizedProps,r.memoizedProps);break;case 5:if(Ol(t,e),Ml(e),512&n&&(bl||null===r||dl(r,r.return)),32&e.flags){a=e.stateNode;try{kt(a,"")}catch(p){uu(e,e.return,p)}}4&n&&null!=e.stateNode&&fl(e,a=e.memoizedProps,null!==r?r.memoizedProps:a),1024&n&&(wl=!0);break;case 6:if(Ol(t,e),Ml(e),4&n){if(null===e.stateNode)throw Error(s(162));n=e.memoizedProps,r=e.stateNode;try{r.nodeValue=n}catch(p){uu(e,e.return,p)}}break;case 3:if(Fd=null,a=Pl,Pl=Nd(t.containerInfo),Ol(t,e),Pl=a,Ml(e),4&n&&null!==r&&r.memoizedState.isDehydrated)try{Ah(t.containerInfo)}catch(p){uu(e,e.return,p)}wl&&(wl=!1,Rl(e));break;case 4:n=Pl,Pl=Nd(e.stateNode.containerInfo),Ol(t,e),Ml(e),Pl=n;break;case 12:default:Ol(t,e),Ml(e);break;case 13:Ol(t,e),Ml(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==r&&null!==r.memoizedState)&&(wc=te()),4&n&&(null!==(n=e.updateQueue)&&(e.updateQueue=null,Il(e,n)));break;case 22:a=null!==e.memoizedState;var c=null!==r&&null!==r.memoizedState,u=xl,d=bl;if(xl=u||a,bl=d||c,Ol(t,e),bl=d,xl=u,Ml(e),8192&n)e:for(t=e.stateNode,t._visibility=a?-2&t._visibility:1|t._visibility,a&&(null===r||c||xl||bl||Fl(e)),r=null,t=e;;){if(5===t.tag||26===t.tag){if(null===r){c=r=t;try{if(i=c.stateNode,a)"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none";else{l=c.stateNode;var h=c.memoizedProps.style,f=void 0!==h&&null!==h&&h.hasOwnProperty("display")?h.display:null;l.style.display=null==f||"boolean"===typeof f?"":(""+f).trim()}}catch(p){uu(c,c.return,p)}}}else if(6===t.tag){if(null===r){c=t;try{c.stateNode.nodeValue=a?"":c.memoizedProps}catch(p){uu(c,c.return,p)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;r===t&&(r=null),t=t.return}r===t&&(r=null),t.sibling.return=t.return,t=t.sibling}4&n&&(null!==(n=e.updateQueue)&&(null!==(r=n.retryQueue)&&(n.retryQueue=null,Il(e,r))));break;case 19:Ol(t,e),Ml(e),4&n&&(null!==(n=e.updateQueue)&&(e.updateQueue=null,Il(e,n)));case 30:case 21:}}function Ml(e){var t=e.flags;if(2&t){try{for(var r,n=e.return;null!==n;){if(pl(n)){r=n;break}n=n.return}if(null==r)throw Error(s(160));switch(r.tag){case 27:var a=r.stateNode;yl(e,ml(e),a);break;case 5:var i=r.stateNode;32&r.flags&&(kt(i,""),r.flags&=-33),yl(e,ml(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;gl(e,ml(e),o);break;default:throw Error(s(161))}}catch(l){uu(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Rl(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Rl(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Ll(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)Nl(e,t.alternate,t),t=t.sibling}function Fl(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:ol(4,t,t.return),Fl(t);break;case 1:dl(t,t.return);var r=t.stateNode;"function"===typeof r.componentWillUnmount&&cl(t,t.return,r),Fl(t);break;case 27:wd(t.stateNode);case 26:case 5:dl(t,t.return),Fl(t);break;case 22:null===t.memoizedState&&Fl(t);break;default:Fl(t)}e=e.sibling}}function zl(e,t,r){for(r=r&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var n=t.alternate,a=e,i=t,s=i.flags;switch(i.tag){case 0:case 11:case 15:zl(a,i,r),sl(4,i);break;case 1:if(zl(a,i,r),"function"===typeof(a=(n=i).stateNode).componentDidMount)try{a.componentDidMount()}catch(c){uu(n,n.return,c)}if(null!==(a=(n=i).updateQueue)){var o=n.stateNode;try{var l=a.shared.hiddenCallbacks;if(null!==l)for(a.shared.hiddenCallbacks=null,a=0;a<l.length;a++)di(l[a],o)}catch(c){uu(n,n.return,c)}}r&&64&s&&ll(i),ul(i,i.return);break;case 27:vl(i);case 26:case 5:zl(a,i,r),r&&null===n&&4&s&&hl(i),ul(i,i.return);break;case 12:zl(a,i,r);break;case 13:zl(a,i,r),r&&4&s&&Tl(a,i);break;case 22:null===i.memoizedState&&zl(a,i,r),ul(i,i.return);break;case 30:break;default:zl(a,i,r)}t=t.sibling}}function Ul(e,t){var r=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(r=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==r&&(null!=e&&e.refCount++,null!=r&&Da(r))}function Vl(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Da(e))}function Bl(e,t,r,n){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)$l(e,t,r,n),t=t.sibling}function $l(e,t,r,n){var a=t.flags;switch(t.tag){case 0:case 11:case 15:Bl(e,t,r,n),2048&a&&sl(9,t);break;case 1:case 13:default:Bl(e,t,r,n);break;case 3:Bl(e,t,r,n),2048&a&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Da(e)));break;case 12:if(2048&a){Bl(e,t,r,n),e=t.stateNode;try{var i=t.memoizedProps,s=i.id,o=i.onPostCommit;"function"===typeof o&&o(s,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){uu(t,t.return,l)}}else Bl(e,t,r,n);break;case 23:break;case 22:i=t.stateNode,s=t.alternate,null!==t.memoizedState?2&i._visibility?Bl(e,t,r,n):ql(e,t):2&i._visibility?Bl(e,t,r,n):(i._visibility|=2,Hl(e,t,r,n,0!==(10256&t.subtreeFlags))),2048&a&&Ul(s,t);break;case 24:Bl(e,t,r,n),2048&a&&Vl(t.alternate,t)}}function Hl(e,t,r,n,a){for(a=a&&0!==(10256&t.subtreeFlags),t=t.child;null!==t;){var i=e,s=t,o=r,l=n,c=s.flags;switch(s.tag){case 0:case 11:case 15:Hl(i,s,o,l,a),sl(8,s);break;case 23:break;case 22:var u=s.stateNode;null!==s.memoizedState?2&u._visibility?Hl(i,s,o,l,a):ql(i,s):(u._visibility|=2,Hl(i,s,o,l,a)),a&&2048&c&&Ul(s.alternate,s);break;case 24:Hl(i,s,o,l,a),a&&2048&c&&Vl(s.alternate,s);break;default:Hl(i,s,o,l,a)}t=t.sibling}}function ql(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var r=e,n=t,a=n.flags;switch(n.tag){case 22:ql(r,n),2048&a&&Ul(n.alternate,n);break;case 24:ql(r,n),2048&a&&Vl(n.alternate,n);break;default:ql(r,n)}t=t.sibling}}var Kl=8192;function Wl(e){if(e.subtreeFlags&Kl)for(e=e.child;null!==e;)Gl(e),e=e.sibling}function Gl(e){switch(e.tag){case 26:Wl(e),e.flags&Kl&&null!==e.memoizedState&&function(e,t,r){if(null===Bd)throw Error(s(475));var n=Bd;if("stylesheet"===t.type&&("string"!==typeof r.media||!1!==matchMedia(r.media).matches)&&0===(4&t.state.loading)){if(null===t.instance){var a=Cd(r.href),i=e.querySelector(Td(a));if(i)return null!==(e=i._p)&&"object"===typeof e&&"function"===typeof e.then&&(n.count++,n=Hd.bind(n),e.then(n,n)),t.state.loading|=4,t.instance=i,void qe(i);i=e.ownerDocument||e,r=Id(r),(a=kd.get(a))&&Rd(r,a),qe(i=i.createElement("link"));var o=i;o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),ed(i,"link",r),t.instance=i}null===n.stylesheets&&(n.stylesheets=new Map),n.stylesheets.set(t,e),(e=t.state.preload)&&0===(3&t.state.loading)&&(n.count++,t=Hd.bind(n),e.addEventListener("load",t),e.addEventListener("error",t))}}(Pl,e.memoizedState,e.memoizedProps);break;case 5:default:Wl(e);break;case 3:case 4:var t=Pl;Pl=Nd(e.stateNode.containerInfo),Wl(e),Pl=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=Kl,Kl=16777216,Wl(e),Kl=t):Wl(e))}}function Yl(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function Ql(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var r=0;r<t.length;r++){var n=t[r];jl=n,Zl(n,e)}Yl(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)Xl(e),e=e.sibling}function Xl(e){switch(e.tag){case 0:case 11:case 15:Ql(e),2048&e.flags&&ol(9,e,e.return);break;case 3:case 12:default:Ql(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,Jl(e)):Ql(e)}}function Jl(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var r=0;r<t.length;r++){var n=t[r];jl=n,Zl(n,e)}Yl(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:ol(8,t,t.return),Jl(t);break;case 22:2&(r=t.stateNode)._visibility&&(r._visibility&=-3,Jl(t));break;default:Jl(t)}e=e.sibling}}function Zl(e,t){for(;null!==jl;){var r=jl;switch(r.tag){case 0:case 11:case 15:ol(8,r,t);break;case 23:case 22:if(null!==r.memoizedState&&null!==r.memoizedState.cachePool){var n=r.memoizedState.cachePool.pool;null!=n&&n.refCount++}break;case 24:Da(r.memoizedState.cache)}if(null!==(n=r.child))n.return=r,jl=n;else e:for(r=e;null!==jl;){var a=(n=jl).sibling,i=n.return;if(Sl(n),n===r){jl=null;break e}if(null!==a){a.return=i,jl=a;break e}jl=i}}}var ec={getCacheForType:function(e){var t=Ea(Oa),r=t.data.get(e);return void 0===r&&(r=e(),t.data.set(e,r)),r}},tc="function"===typeof WeakMap?WeakMap:Map,rc=0,nc=null,ac=null,ic=0,sc=0,oc=null,lc=!1,cc=!1,uc=!1,dc=0,hc=0,fc=0,pc=0,mc=0,gc=0,yc=0,vc=null,xc=null,bc=!1,wc=0,kc=1/0,jc=null,Nc=null,Sc=0,Ec=null,Ac=null,_c=0,Cc=0,Tc=null,Ic=null,Oc=0,Pc=null;function Dc(){if(0!==(2&rc)&&0!==ic)return ic&-ic;if(null!==D.T){return 0!==La?La:Cu()}return Te()}function Mc(){0===gc&&(gc=0===(536870912&ic)||ia?ke():536870912);var e=no.current;return null!==e&&(e.flags|=32),gc}function Rc(e,t,r){(e!==nc||2!==sc&&9!==sc)&&null===e.cancelPendingCommit||($c(e,0),Uc(e,ic,gc,!1)),Se(e,r),0!==(2&rc)&&e===nc||(e===nc&&(0===(2&rc)&&(pc|=r),4===hc&&Uc(e,ic,gc,!1)),ku(e))}function Lc(e,t,r){if(0!==(6&rc))throw Error(s(327));for(var n=!r&&0===(124&t)&&0===(t&e.expiredLanes)||be(e,t),a=n?function(e,t){var r=rc;rc|=2;var n=qc(),a=Kc();nc!==e||ic!==t?(jc=null,kc=te()+500,$c(e,t)):cc=be(e,t);e:for(;;)try{if(0!==sc&&null!==ac){t=ac;var i=oc;t:switch(sc){case 1:sc=0,oc=null,Zc(e,t,i,1);break;case 2:case 9:if(Ya(i)){sc=0,oc=null,Jc(t);break}t=function(){2!==sc&&9!==sc||nc!==e||(sc=7),ku(e)},i.then(t,t);break e;case 3:sc=7;break e;case 4:sc=5;break e;case 7:Ya(i)?(sc=0,oc=null,Jc(t)):(sc=0,oc=null,Zc(e,t,i,7));break;case 5:var o=null;switch(ac.tag){case 26:o=ac.memoizedState;case 5:case 27:var l=ac;if(!o||Vd(o)){sc=0,oc=null;var c=l.sibling;if(null!==c)ac=c;else{var u=l.return;null!==u?(ac=u,eu(u)):ac=null}break t}}sc=0,oc=null,Zc(e,t,i,5);break;case 6:sc=0,oc=null,Zc(e,t,i,6);break;case 8:Bc(),hc=6;break e;default:throw Error(s(462))}}Qc();break}catch(d){Hc(e,d)}return va=ya=null,D.H=n,D.A=a,rc=r,null!==ac?0:(nc=null,ic=0,_n(),hc)}(e,t):Gc(e,t,!0),i=n;;){if(0===a){cc&&!n&&Uc(e,t,0,!1);break}if(r=e.current.alternate,!i||zc(r)){if(2===a){if(i=t,e.errorRecoveryDisabledLanes&i)var o=0;else o=0!==(o=-536870913&e.pendingLanes)?o:536870912&o?536870912:0;if(0!==o){t=o;e:{var l=e;a=vc;var c=l.current.memoizedState.isDehydrated;if(c&&($c(l,o).flags|=256),2!==(o=Gc(l,o,!1))){if(uc&&!c){l.errorRecoveryDisabledLanes|=i,pc|=i,a=4;break e}i=xc,xc=a,null!==i&&(null===xc?xc=i:xc.push.apply(xc,i))}a=o}if(i=!1,2!==a)continue}}if(1===a){$c(e,0),Uc(e,t,0,!0);break}e:{switch(n=e,i=a){case 0:case 1:throw Error(s(345));case 4:if((4194048&t)!==t)break;case 6:Uc(n,t,gc,!lc);break e;case 2:xc=null;break;case 3:case 5:break;default:throw Error(s(329))}if((62914560&t)===t&&10<(a=wc+300-te())){if(Uc(n,t,gc,!lc),0!==xe(n,0,!0))break e;n.timeoutHandle=ld(Fc.bind(null,n,r,xc,jc,bc,t,gc,pc,yc,lc,i,2,-0,0),a)}else Fc(n,r,xc,jc,bc,t,gc,pc,yc,lc,i,0,-0,0)}break}a=Gc(e,t,!1),i=!1}ku(e)}function Fc(e,t,r,n,a,i,o,l,c,u,d,h,f,p){if(e.timeoutHandle=-1,(8192&(h=t.subtreeFlags)||16785408===(16785408&h))&&(Bd={stylesheets:null,count:0,unsuspend:$d},Gl(t),null!==(h=function(){if(null===Bd)throw Error(s(475));var e=Bd;return e.stylesheets&&0===e.count&&Kd(e,e.stylesheets),0<e.count?function(t){var r=setTimeout(function(){if(e.stylesheets&&Kd(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(r)}}:null}())))return e.cancelPendingCommit=h(ru.bind(null,e,t,i,r,n,a,o,l,c,d,1,f,p)),void Uc(e,i,o,!u);ru(e,t,i,r,n,a,o,l,c)}function zc(e){for(var t=e;;){var r=t.tag;if((0===r||11===r||15===r)&&16384&t.flags&&(null!==(r=t.updateQueue)&&null!==(r=r.stores)))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!Gr(i(),a))return!1}catch(s){return!1}}if(r=t.child,16384&t.subtreeFlags&&null!==r)r.return=t,t=r;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Uc(e,t,r,n){t&=~mc,t&=~pc,e.suspendedLanes|=t,e.pingedLanes&=~t,n&&(e.warmLanes|=t),n=e.expirationTimes;for(var a=t;0<a;){var i=31-fe(a),s=1<<i;n[i]=-1,a&=~s}0!==r&&Ee(e,r,t)}function Vc(){return 0!==(6&rc)||(ju(0,!1),!1)}function Bc(){if(null!==ac){if(0===sc)var e=ac.return;else va=ya=null,Li(e=ac),Gs=null,Ys=0,e=ac;for(;null!==e;)il(e.alternate,e),e=e.return;ac=null}}function $c(e,t){var r=e.timeoutHandle;-1!==r&&(e.timeoutHandle=-1,cd(r)),null!==(r=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,r()),Bc(),nc=e,ac=r=Fn(e.current,null),ic=t,sc=0,oc=null,lc=!1,cc=be(e,t),uc=!1,yc=gc=mc=pc=fc=hc=0,xc=vc=null,bc=!1,0!==(8&t)&&(t|=32&t);var n=e.entangledLanes;if(0!==n)for(e=e.entanglements,n&=t;0<n;){var a=31-fe(n),i=1<<a;t|=e[a],n&=~i}return dc=t,_n(),r}function Hc(e,t){xi=null,D.H=Hs,t===qa||t===Wa?(t=Za(),sc=3):t===Ka?(t=Za(),sc=4):sc=t===Eo?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,oc=t,null===ac&&(hc=1,wo(e,Nn(t,e.current)))}function qc(){var e=D.H;return D.H=Hs,null===e?Hs:e}function Kc(){var e=D.A;return D.A=ec,e}function Wc(){hc=4,lc||(4194048&ic)!==ic&&null!==no.current||(cc=!0),0===(134217727&fc)&&0===(134217727&pc)||null===nc||Uc(nc,ic,gc,!1)}function Gc(e,t,r){var n=rc;rc|=2;var a=qc(),i=Kc();nc===e&&ic===t||(jc=null,$c(e,t)),t=!1;var s=hc;e:for(;;)try{if(0!==sc&&null!==ac){var o=ac,l=oc;switch(sc){case 8:Bc(),s=6;break e;case 3:case 2:case 9:case 6:null===no.current&&(t=!0);var c=sc;if(sc=0,oc=null,Zc(e,o,l,c),r&&cc){s=0;break e}break;default:c=sc,sc=0,oc=null,Zc(e,o,l,c)}}Yc(),s=hc;break}catch(u){Hc(e,u)}return t&&e.shellSuspendCounter++,va=ya=null,rc=n,D.H=a,D.A=i,null===ac&&(nc=null,ic=0,_n()),s}function Yc(){for(;null!==ac;)Xc(ac)}function Qc(){for(;null!==ac&&!Z();)Xc(ac)}function Xc(e){var t=Xo(e.alternate,e,dc);e.memoizedProps=e.pendingProps,null===t?eu(e):ac=t}function Jc(e){var t=e,r=t.alternate;switch(t.tag){case 15:case 0:t=Ro(r,t,t.pendingProps,t.type,void 0,ic);break;case 11:t=Ro(r,t,t.pendingProps,t.type.render,t.ref,ic);break;case 5:Li(t);default:il(r,t),t=Xo(r,t=ac=zn(t,dc),dc)}e.memoizedProps=e.pendingProps,null===t?eu(e):ac=t}function Zc(e,t,r,n){va=ya=null,Li(t),Gs=null,Ys=0;var a=t.return;try{if(function(e,t,r,n,a){if(r.flags|=32768,null!==n&&"object"===typeof n&&"function"===typeof n.then){if(null!==(t=r.alternate)&&ja(t,r,a,!0),null!==(r=no.current)){switch(r.tag){case 13:return null===ao?Wc():null===r.alternate&&0===hc&&(hc=3),r.flags&=-257,r.flags|=65536,r.lanes=a,n===Ga?r.flags|=16384:(null===(t=r.updateQueue)?r.updateQueue=new Set([n]):t.add(n),du(e,n,a)),!1;case 22:return r.flags|=65536,n===Ga?r.flags|=16384:(null===(t=r.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([n])},r.updateQueue=t):null===(r=t.retryQueue)?t.retryQueue=new Set([n]):r.add(n),du(e,n,a)),!1}throw Error(s(435,r.tag))}return du(e,n,a),Wc(),!1}if(ia)return null!==(t=no.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=a,n!==la&&ma(Nn(e=Error(s(422),{cause:n}),r))):(n!==la&&ma(Nn(t=Error(s(423),{cause:n}),r)),(e=e.current.alternate).flags|=65536,a&=-a,e.lanes|=a,n=Nn(n,r),oi(e,a=jo(e.stateNode,n,a)),4!==hc&&(hc=2)),!1;var i=Error(s(520),{cause:n});if(i=Nn(i,r),null===vc?vc=[i]:vc.push(i),4!==hc&&(hc=2),null===t)return!0;n=Nn(n,r),r=t;do{switch(r.tag){case 3:return r.flags|=65536,e=a&-a,r.lanes|=e,oi(r,e=jo(r.stateNode,n,e)),!1;case 1:if(t=r.type,i=r.stateNode,0===(128&r.flags)&&("function"===typeof t.getDerivedStateFromError||null!==i&&"function"===typeof i.componentDidCatch&&(null===Nc||!Nc.has(i))))return r.flags|=65536,a&=-a,r.lanes|=a,So(a=No(a),e,r,n),oi(r,a),!1}r=r.return}while(null!==r);return!1}(e,a,t,r,ic))return hc=1,wo(e,Nn(r,e.current)),void(ac=null)}catch(i){if(null!==a)throw ac=a,i;return hc=1,wo(e,Nn(r,e.current)),void(ac=null)}32768&t.flags?(ia||1===n?e=!0:cc||0!==(536870912&ic)?e=!1:(lc=e=!0,(2===n||9===n||3===n||6===n)&&(null!==(n=no.current)&&13===n.tag&&(n.flags|=16384))),tu(t,e)):eu(t)}function eu(e){var t=e;do{if(0!==(32768&t.flags))return void tu(t,lc);e=t.return;var r=nl(t.alternate,t,dc);if(null!==r)return void(ac=r);if(null!==(t=t.sibling))return void(ac=t);ac=t=e}while(null!==t);0===hc&&(hc=5)}function tu(e,t){do{var r=al(e.alternate,e);if(null!==r)return r.flags&=32767,void(ac=r);if(null!==(r=e.return)&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!t&&null!==(e=e.sibling))return void(ac=e);ac=e=r}while(null!==e);hc=6,ac=null}function ru(e,t,r,n,a,i,o,l,c){e.cancelPendingCommit=null;do{ou()}while(0!==Sc);if(0!==(6&rc))throw Error(s(327));if(null!==t){if(t===e.current)throw Error(s(177));if(i=t.lanes|t.childLanes,function(e,t,r,n,a,i){var s=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var o=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(r=s&~r;0<r;){var u=31-fe(r),d=1<<u;o[u]=0,l[u]=-1;var h=c[u];if(null!==h)for(c[u]=null,u=0;u<h.length;u++){var f=h[u];null!==f&&(f.lane&=-536870913)}r&=~d}0!==n&&Ee(e,n,0),0!==i&&0===a&&0!==e.tag&&(e.suspendedLanes|=i&~(s&~t))}(e,r,i|=An,o,l,c),e===nc&&(ac=nc=null,ic=0),Ac=t,Ec=e,_c=r,Cc=i,Tc=a,Ic=n,0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?(e.callbackNode=null,e.callbackPriority=0,X(ie,function(){return lu(),null})):(e.callbackNode=null,e.callbackPriority=0),n=0!==(13878&t.flags),0!==(13878&t.subtreeFlags)||n){n=D.T,D.T=null,a=M.p,M.p=2,o=rc,rc|=4;try{!function(e,t){if(e=e.containerInfo,td=rh,en(e=Zr(e))){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{var n=(r=(r=e.ownerDocument)&&r.defaultView||window).getSelection&&r.getSelection();if(n&&0!==n.rangeCount){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch(g){r=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==r||0!==a&&3!==h.nodeType||(l=o+a),h!==i||0!==n&&3!==h.nodeType||(c=o+n),3===h.nodeType&&(o+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===r&&++u===a&&(l=o),f===i&&++d===n&&(c=o),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}r=-1===l||-1===c?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(rd={focusedElem:e,selectionRange:r},rh=!1,jl=t;null!==jl;)if(e=(t=jl).child,0!==(1024&t.subtreeFlags)&&null!==e)e.return=t,jl=e;else for(;null!==jl;){switch(i=(t=jl).alternate,e=t.flags,t.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==i){e=void 0,r=t,a=i.memoizedProps,i=i.memoizedState,n=r.stateNode;try{var m=go(r.type,a,(r.elementType,r.type));e=n.getSnapshotBeforeUpdate(m,i),n.__reactInternalSnapshotBeforeUpdate=e}catch(y){uu(r,r.return,y)}}break;case 3:if(0!==(1024&e))if(9===(r=(e=t.stateNode.containerInfo).nodeType))md(e);else if(1===r)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":md(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(s(163))}if(null!==(e=t.sibling)){e.return=t.return,jl=e;break}jl=t.return}}(e,t)}finally{rc=o,M.p=a,D.T=n}}Sc=1,nu(),au(),iu()}}function nu(){if(1===Sc){Sc=0;var e=Ec,t=Ac,r=0!==(13878&t.flags);if(0!==(13878&t.subtreeFlags)||r){r=D.T,D.T=null;var n=M.p;M.p=2;var a=rc;rc|=4;try{Dl(t,e);var i=rd,s=Zr(e.containerInfo),o=i.focusedElem,l=i.selectionRange;if(s!==o&&o&&o.ownerDocument&&Jr(o.ownerDocument.documentElement,o)){if(null!==l&&en(o)){var c=l.start,u=l.end;if(void 0===u&&(u=c),"selectionStart"in o)o.selectionStart=c,o.selectionEnd=Math.min(u,o.value.length);else{var d=o.ownerDocument||document,h=d&&d.defaultView||window;if(h.getSelection){var f=h.getSelection(),p=o.textContent.length,m=Math.min(l.start,p),g=void 0===l.end?m:Math.min(l.end,p);!f.extend&&m>g&&(s=g,g=m,m=s);var y=Xr(o,m),v=Xr(o,g);if(y&&v&&(1!==f.rangeCount||f.anchorNode!==y.node||f.anchorOffset!==y.offset||f.focusNode!==v.node||f.focusOffset!==v.offset)){var x=d.createRange();x.setStart(y.node,y.offset),f.removeAllRanges(),m>g?(f.addRange(x),f.extend(v.node,v.offset)):(x.setEnd(v.node,v.offset),f.addRange(x))}}}}for(d=[],f=o;f=f.parentNode;)1===f.nodeType&&d.push({element:f,left:f.scrollLeft,top:f.scrollTop});for("function"===typeof o.focus&&o.focus(),o=0;o<d.length;o++){var b=d[o];b.element.scrollLeft=b.left,b.element.scrollTop=b.top}}rh=!!td,rd=td=null}finally{rc=a,M.p=n,D.T=r}}e.current=t,Sc=2}}function au(){if(2===Sc){Sc=0;var e=Ec,t=Ac,r=0!==(8772&t.flags);if(0!==(8772&t.subtreeFlags)||r){r=D.T,D.T=null;var n=M.p;M.p=2;var a=rc;rc|=4;try{Nl(e,t.alternate,t)}finally{rc=a,M.p=n,D.T=r}}Sc=3}}function iu(){if(4===Sc||3===Sc){Sc=0,ee();var e=Ec,t=Ac,r=_c,n=Ic;0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?Sc=5:(Sc=0,Ac=Ec=null,su(e,e.pendingLanes));var a=e.pendingLanes;if(0===a&&(Nc=null),Ce(r),t=t.stateNode,de&&"function"===typeof de.onCommitFiberRoot)try{de.onCommitFiberRoot(ue,t,void 0,128===(128&t.current.flags))}catch(l){}if(null!==n){t=D.T,a=M.p,M.p=2,D.T=null;try{for(var i=e.onRecoverableError,s=0;s<n.length;s++){var o=n[s];i(o.value,{componentStack:o.stack})}}finally{D.T=t,M.p=a}}0!==(3&_c)&&ou(),ku(e),a=e.pendingLanes,0!==(4194090&r)&&0!==(42&a)?e===Pc?Oc++:(Oc=0,Pc=e):Oc=0,ju(0,!1)}}function su(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Da(t)))}function ou(e){return nu(),au(),iu(),lu()}function lu(){if(5!==Sc)return!1;var e=Ec,t=Cc;Cc=0;var r=Ce(_c),n=D.T,a=M.p;try{M.p=32>r?32:r,D.T=null,r=Tc,Tc=null;var i=Ec,o=_c;if(Sc=0,Ac=Ec=null,_c=0,0!==(6&rc))throw Error(s(331));var l=rc;if(rc|=4,Xl(i.current),$l(i,i.current,o,r),rc=l,ju(0,!1),de&&"function"===typeof de.onPostCommitFiberRoot)try{de.onPostCommitFiberRoot(ue,i)}catch(c){}return!0}finally{M.p=a,D.T=n,su(e,t)}}function cu(e,t,r){t=Nn(r,t),null!==(e=ii(e,t=jo(e.stateNode,t,2),2))&&(Se(e,2),ku(e))}function uu(e,t,r){if(3===e.tag)cu(e,e,r);else for(;null!==t;){if(3===t.tag){cu(t,e,r);break}if(1===t.tag){var n=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof n.componentDidCatch&&(null===Nc||!Nc.has(n))){e=Nn(r,e),null!==(n=ii(t,r=No(2),2))&&(So(r,n,t,e),Se(n,2),ku(n));break}}t=t.return}}function du(e,t,r){var n=e.pingCache;if(null===n){n=e.pingCache=new tc;var a=new Set;n.set(t,a)}else void 0===(a=n.get(t))&&(a=new Set,n.set(t,a));a.has(r)||(uc=!0,a.add(r),e=hu.bind(null,e,t,r),t.then(e,e))}function hu(e,t,r){var n=e.pingCache;null!==n&&n.delete(t),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,nc===e&&(ic&r)===r&&(4===hc||3===hc&&(62914560&ic)===ic&&300>te()-wc?0===(2&rc)&&$c(e,0):mc|=r,yc===ic&&(yc=0)),ku(e)}function fu(e,t){0===t&&(t=je()),null!==(e=In(e,t))&&(Se(e,t),ku(e))}function pu(e){var t=e.memoizedState,r=0;null!==t&&(r=t.retryLane),fu(e,r)}function mu(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;null!==a&&(r=a.retryLane);break;case 19:n=e.stateNode;break;case 22:n=e.stateNode._retryCache;break;default:throw Error(s(314))}null!==n&&n.delete(t),fu(e,r)}var gu=null,yu=null,vu=!1,xu=!1,bu=!1,wu=0;function ku(e){e!==yu&&null===e.next&&(null===yu?gu=yu=e:yu=yu.next=e),xu=!0,vu||(vu=!0,dd(function(){0!==(6&rc)?X(ne,Nu):Su()}))}function ju(e,t){if(!bu&&xu){bu=!0;do{for(var r=!1,n=gu;null!==n;){if(!t)if(0!==e){var a=n.pendingLanes;if(0===a)var i=0;else{var s=n.suspendedLanes,o=n.pingedLanes;i=(1<<31-fe(42|e)+1)-1,i=201326741&(i&=a&~(s&~o))?201326741&i|1:i?2|i:0}0!==i&&(r=!0,_u(n,i))}else i=ic,0===(3&(i=xe(n,n===nc?i:0,null!==n.cancelPendingCommit||-1!==n.timeoutHandle)))||be(n,i)||(r=!0,_u(n,i));n=n.next}}while(r);bu=!1}}function Nu(){Su()}function Su(){xu=vu=!1;var e=0;0!==wu&&(function(){var e=window.event;if(e&&"popstate"===e.type)return e!==od&&(od=e,!0);return od=null,!1}()&&(e=wu),wu=0);for(var t=te(),r=null,n=gu;null!==n;){var a=n.next,i=Eu(n,t);0===i?(n.next=null,null===r?gu=a:r.next=a,null===a&&(yu=r)):(r=n,(0!==e||0!==(3&i))&&(xu=!0)),n=a}ju(e,!1)}function Eu(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,i=-62914561&e.pendingLanes;0<i;){var s=31-fe(i),o=1<<s,l=a[s];-1===l?0!==(o&r)&&0===(o&n)||(a[s]=we(o,t)):l<=t&&(e.expiredLanes|=o),i&=~o}if(r=ic,r=xe(e,e===(t=nc)?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),n=e.callbackNode,0===r||e===t&&(2===sc||9===sc)||null!==e.cancelPendingCommit)return null!==n&&null!==n&&J(n),e.callbackNode=null,e.callbackPriority=0;if(0===(3&r)||be(e,r)){if((t=r&-r)===e.callbackPriority)return t;switch(null!==n&&J(n),Ce(r)){case 2:case 8:r=ae;break;case 32:default:r=ie;break;case 268435456:r=oe}return n=Au.bind(null,e),r=X(r,n),e.callbackPriority=t,e.callbackNode=r,t}return null!==n&&null!==n&&J(n),e.callbackPriority=2,e.callbackNode=null,2}function Au(e,t){if(0!==Sc&&5!==Sc)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(ou()&&e.callbackNode!==r)return null;var n=ic;return 0===(n=xe(e,e===nc?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Lc(e,n,t),Eu(e,te()),null!=e.callbackNode&&e.callbackNode===r?Au.bind(null,e):null)}function _u(e,t){if(ou())return null;Lc(e,t,!0)}function Cu(){return 0===wu&&(wu=ke()),wu}function Tu(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:Ct(""+e)}function Iu(e,t){var r=t.ownerDocument.createElement("input");return r.name=t.name,r.value=t.value,e.id&&r.setAttribute("form",e.id),t.parentNode.insertBefore(r,t),e=new FormData(e),r.parentNode.removeChild(r),e}for(var Ou=0;Ou<wn.length;Ou++){var Pu=wn[Ou];kn(Pu.toLowerCase(),"on"+(Pu[0].toUpperCase()+Pu.slice(1)))}kn(fn,"onAnimationEnd"),kn(pn,"onAnimationIteration"),kn(mn,"onAnimationStart"),kn("dblclick","onDoubleClick"),kn("focusin","onFocus"),kn("focusout","onBlur"),kn(gn,"onTransitionRun"),kn(yn,"onTransitionStart"),kn(vn,"onTransitionCancel"),kn(xn,"onTransitionEnd"),Ye("onMouseEnter",["mouseout","mouseover"]),Ye("onMouseLeave",["mouseout","mouseover"]),Ye("onPointerEnter",["pointerout","pointerover"]),Ye("onPointerLeave",["pointerout","pointerover"]),Ge("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ge("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ge("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ge("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ge("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ge("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Du="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mu=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Du));function Ru(e,t){t=0!==(4&t);for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var s=n.length-1;0<=s;s--){var o=n[s],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==i&&a.isPropagationStopped())break e;i=o,a.currentTarget=c;try{i(a)}catch(u){yo(u)}a.currentTarget=null,i=l}else for(s=0;s<n.length;s++){if(l=(o=n[s]).instance,c=o.currentTarget,o=o.listener,l!==i&&a.isPropagationStopped())break e;i=o,a.currentTarget=c;try{i(a)}catch(u){yo(u)}a.currentTarget=null,i=l}}}}function Lu(e,t){var r=t[Me];void 0===r&&(r=t[Me]=new Set);var n=e+"__bubble";r.has(n)||(Vu(t,e,2,!1),r.add(n))}function Fu(e,t,r){var n=0;t&&(n|=4),Vu(r,e,n,t)}var zu="_reactListening"+Math.random().toString(36).slice(2);function Uu(e){if(!e[zu]){e[zu]=!0,Ke.forEach(function(t){"selectionchange"!==t&&(Mu.has(t)||Fu(t,!1,e),Fu(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zu]||(t[zu]=!0,Fu("selectionchange",!1,t))}}function Vu(e,t,r,n){switch(ch(t)){case 2:var a=nh;break;case 8:a=ah;break;default:a=ih}r=a.bind(null,t,r,e),a=void 0,!zt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),n?void 0!==a?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):void 0!==a?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function Bu(e,t,r,n,a){var i=n;if(0===(1&t)&&0===(2&t)&&null!==n)e:for(;;){if(null===n)return;var s=n.tag;if(3===s||4===s){var o=n.stateNode.containerInfo;if(o===a)break;if(4===s)for(s=n.return;null!==s;){var c=s.tag;if((3===c||4===c)&&s.stateNode.containerInfo===a)return;s=s.return}for(;null!==o;){if(null===(s=Ve(o)))return;if(5===(c=s.tag)||6===c||26===c||27===c){n=i=s;continue e}o=o.parentNode}}n=n.return}Rt(function(){var n=i,a=It(r),s=[];e:{var o=bn.get(e);if(void 0!==o){var c=Zt,u=e;switch(e){case"keypress":if(0===qt(r))break e;case"keydown":case"keyup":c=pr;break;case"focusin":u="focus",c=ir;break;case"focusout":u="blur",c=ir;break;case"beforeblur":case"afterblur":c=ir;break;case"click":if(2===r.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=nr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=ar;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=gr;break;case fn:case pn:case mn:c=sr;break;case xn:c=yr;break;case"scroll":case"scrollend":c=tr;break;case"wheel":c=vr;break;case"copy":case"cut":case"paste":c=or;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=mr;break;case"toggle":case"beforetoggle":c=xr}var d=0!==(4&t),h=!d&&("scroll"===e||"scrollend"===e),f=d?null!==o?o+"Capture":null:o;d=[];for(var p,m=n;null!==m;){var g=m;if(p=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===p||null===f||null!=(g=Lt(m,f))&&d.push($u(m,g,p)),h)break;m=m.return}0<d.length&&(o=new c(o,u,null,r,a),s.push({event:o,listeners:d}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||r===Tt||!(u=r.relatedTarget||r.fromElement)||!Ve(u)&&!u[De])&&(c||o)&&(o=a.window===a?a:(o=a.ownerDocument)?o.defaultView||o.parentWindow:window,c?(c=n,null!==(u=(u=r.relatedTarget||r.toElement)?Ve(u):null)&&(h=l(u),d=u.tag,u!==h||5!==d&&27!==d&&6!==d)&&(u=null)):(c=null,u=n),c!==u)){if(d=nr,g="onMouseLeave",f="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(d=mr,g="onPointerLeave",f="onPointerEnter",m="pointer"),h=null==c?o:$e(c),p=null==u?o:$e(u),(o=new d(g,m+"leave",c,r,a)).target=h,o.relatedTarget=p,g=null,Ve(a)===n&&((d=new d(f,m+"enter",u,r,a)).target=p,d.relatedTarget=h,g=d),h=g,c&&u)e:{for(f=u,m=0,p=d=c;p;p=qu(p))m++;for(p=0,g=f;g;g=qu(g))p++;for(;0<m-p;)d=qu(d),m--;for(;0<p-m;)f=qu(f),p--;for(;m--;){if(d===f||null!==f&&d===f.alternate)break e;d=qu(d),f=qu(f)}d=null}else d=null;null!==c&&Ku(s,o,c,d,!1),null!==u&&null!==h&&Ku(s,h,u,d,!0)}if("select"===(c=(o=n?$e(n):window).nodeName&&o.nodeName.toLowerCase())||"input"===c&&"file"===o.type)var y=Lr;else if(Ir(o))if(Fr)y=Wr;else{y=qr;var v=Hr}else!(c=o.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==o.type&&"radio"!==o.type?n&&Et(n.elementType)&&(y=Lr):y=Kr;switch(y&&(y=y(e,n))?Or(s,y,r,a):(v&&v(e,o,n),"focusout"===e&&n&&"number"===o.type&&null!=n.memoizedProps.value&&vt(o,"number",o.value)),v=n?$e(n):window,e){case"focusin":(Ir(v)||"true"===v.contentEditable)&&(rn=v,nn=n,an=null);break;case"focusout":an=nn=rn=null;break;case"mousedown":sn=!0;break;case"contextmenu":case"mouseup":case"dragend":sn=!1,on(s,r,a);break;case"selectionchange":if(tn)break;case"keydown":case"keyup":on(s,r,a)}var x;if(wr)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Cr?Ar(e,r)&&(b="onCompositionEnd"):"keydown"===e&&229===r.keyCode&&(b="onCompositionStart");b&&(Nr&&"ko"!==r.locale&&(Cr||"onCompositionStart"!==b?"onCompositionEnd"===b&&Cr&&(x=Ht()):(Bt="value"in(Vt=a)?Vt.value:Vt.textContent,Cr=!0)),0<(v=Hu(n,b)).length&&(b=new lr(b,e,null,r,a),s.push({event:b,listeners:v}),x?b.data=x:null!==(x=_r(r))&&(b.data=x))),(x=jr?function(e,t){switch(e){case"compositionend":return _r(t);case"keypress":return 32!==t.which?null:(Er=!0,Sr);case"textInput":return(e=t.data)===Sr&&Er?null:e;default:return null}}(e,r):function(e,t){if(Cr)return"compositionend"===e||!wr&&Ar(e,t)?(e=Ht(),$t=Bt=Vt=null,Cr=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Nr&&"ko"!==t.locale?null:t.data}}(e,r))&&(0<(b=Hu(n,"onBeforeInput")).length&&(v=new lr("onBeforeInput","beforeinput",null,r,a),s.push({event:v,listeners:b}),v.data=x)),function(e,t,r,n,a){if("submit"===t&&r&&r.stateNode===a){var i=Tu((a[Pe]||null).action),s=n.submitter;s&&null!==(t=(t=s[Pe]||null)?Tu(t.formAction):s.getAttribute("formAction"))&&(i=t,s=null);var o=new Zt("action","action",null,n,a);e.push({event:o,listeners:[{instance:null,listener:function(){if(n.defaultPrevented){if(0!==wu){var e=s?Iu(a,s):new FormData(a);Ts(r,{pending:!0,data:e,method:a.method,action:i},null,e)}}else"function"===typeof i&&(o.preventDefault(),e=s?Iu(a,s):new FormData(a),Ts(r,{pending:!0,data:e,method:a.method,action:i},i,e))},currentTarget:a}]})}}(s,e,n,r,a)}Ru(s,t)})}function $u(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Hu(e,t){for(var r=t+"Capture",n=[];null!==e;){var a=e,i=a.stateNode;if(5!==(a=a.tag)&&26!==a&&27!==a||null===i||(null!=(a=Lt(e,r))&&n.unshift($u(e,a,i)),null!=(a=Lt(e,t))&&n.push($u(e,a,i))),3===e.tag)return n;e=e.return}return[]}function qu(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function Ku(e,t,r,n,a){for(var i=t._reactName,s=[];null!==r&&r!==n;){var o=r,l=o.alternate,c=o.stateNode;if(o=o.tag,null!==l&&l===n)break;5!==o&&26!==o&&27!==o||null===c||(l=c,a?null!=(c=Lt(r,i))&&s.unshift($u(r,c,l)):a||null!=(c=Lt(r,i))&&s.push($u(r,c,l))),r=r.return}0!==s.length&&e.push({event:t,listeners:s})}var Wu=/\r\n?/g,Gu=/\u0000|\uFFFD/g;function Yu(e){return("string"===typeof e?e:""+e).replace(Wu,"\n").replace(Gu,"")}function Qu(e,t){return t=Yu(t),Yu(e)===t}function Xu(){}function Ju(e,t,r,n,a,i){switch(r){case"children":"string"===typeof n?"body"===t||"textarea"===t&&""===n||kt(e,n):("number"===typeof n||"bigint"===typeof n)&&"body"!==t&&kt(e,""+n);break;case"className":rt(e,"class",n);break;case"tabIndex":rt(e,"tabindex",n);break;case"dir":case"role":case"viewBox":case"width":case"height":rt(e,r,n);break;case"style":St(e,n,i);break;case"data":if("object"!==t){rt(e,"data",n);break}case"src":case"href":if(""===n&&("a"!==t||"href"!==r)){e.removeAttribute(r);break}if(null==n||"function"===typeof n||"symbol"===typeof n||"boolean"===typeof n){e.removeAttribute(r);break}n=Ct(""+n),e.setAttribute(r,n);break;case"action":case"formAction":if("function"===typeof n){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof i&&("formAction"===r?("input"!==t&&Ju(e,t,"name",a.name,a,null),Ju(e,t,"formEncType",a.formEncType,a,null),Ju(e,t,"formMethod",a.formMethod,a,null),Ju(e,t,"formTarget",a.formTarget,a,null)):(Ju(e,t,"encType",a.encType,a,null),Ju(e,t,"method",a.method,a,null),Ju(e,t,"target",a.target,a,null))),null==n||"symbol"===typeof n||"boolean"===typeof n){e.removeAttribute(r);break}n=Ct(""+n),e.setAttribute(r,n);break;case"onClick":null!=n&&(e.onclick=Xu);break;case"onScroll":null!=n&&Lu("scroll",e);break;case"onScrollEnd":null!=n&&Lu("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=n){if("object"!==typeof n||!("__html"in n))throw Error(s(61));if(null!=(r=n.__html)){if(null!=a.children)throw Error(s(60));e.innerHTML=r}}break;case"multiple":e.multiple=n&&"function"!==typeof n&&"symbol"!==typeof n;break;case"muted":e.muted=n&&"function"!==typeof n&&"symbol"!==typeof n;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==n||"function"===typeof n||"boolean"===typeof n||"symbol"===typeof n){e.removeAttribute("xlink:href");break}r=Ct(""+n),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=n&&"function"!==typeof n&&"symbol"!==typeof n?e.setAttribute(r,""+n):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":n&&"function"!==typeof n&&"symbol"!==typeof n?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":!0===n?e.setAttribute(r,""):!1!==n&&null!=n&&"function"!==typeof n&&"symbol"!==typeof n?e.setAttribute(r,n):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":null!=n&&"function"!==typeof n&&"symbol"!==typeof n&&!isNaN(n)&&1<=n?e.setAttribute(r,n):e.removeAttribute(r);break;case"rowSpan":case"start":null==n||"function"===typeof n||"symbol"===typeof n||isNaN(n)?e.removeAttribute(r):e.setAttribute(r,n);break;case"popover":Lu("beforetoggle",e),Lu("toggle",e),tt(e,"popover",n);break;case"xlinkActuate":nt(e,"http://www.w3.org/1999/xlink","xlink:actuate",n);break;case"xlinkArcrole":nt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",n);break;case"xlinkRole":nt(e,"http://www.w3.org/1999/xlink","xlink:role",n);break;case"xlinkShow":nt(e,"http://www.w3.org/1999/xlink","xlink:show",n);break;case"xlinkTitle":nt(e,"http://www.w3.org/1999/xlink","xlink:title",n);break;case"xlinkType":nt(e,"http://www.w3.org/1999/xlink","xlink:type",n);break;case"xmlBase":nt(e,"http://www.w3.org/XML/1998/namespace","xml:base",n);break;case"xmlLang":nt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",n);break;case"xmlSpace":nt(e,"http://www.w3.org/XML/1998/namespace","xml:space",n);break;case"is":tt(e,"is",n);break;case"innerText":case"textContent":break;default:(!(2<r.length)||"o"!==r[0]&&"O"!==r[0]||"n"!==r[1]&&"N"!==r[1])&&tt(e,r=At.get(r)||r,n)}}function Zu(e,t,r,n,a,i){switch(r){case"style":St(e,n,i);break;case"dangerouslySetInnerHTML":if(null!=n){if("object"!==typeof n||!("__html"in n))throw Error(s(61));if(null!=(r=n.__html)){if(null!=a.children)throw Error(s(60));e.innerHTML=r}}break;case"children":"string"===typeof n?kt(e,n):("number"===typeof n||"bigint"===typeof n)&&kt(e,""+n);break;case"onScroll":null!=n&&Lu("scroll",e);break;case"onScrollEnd":null!=n&&Lu("scrollend",e);break;case"onClick":null!=n&&(e.onclick=Xu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:We.hasOwnProperty(r)||("o"!==r[0]||"n"!==r[1]||(a=r.endsWith("Capture"),t=r.slice(2,a?r.length-7:void 0),"function"===typeof(i=null!=(i=e[Pe]||null)?i[r]:null)&&e.removeEventListener(t,i,a),"function"!==typeof n)?r in e?e[r]=n:!0===n?e.setAttribute(r,""):tt(e,r,n):("function"!==typeof i&&null!==i&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(t,n,a)))}}function ed(e,t,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Lu("error",e),Lu("load",e);var n,a=!1,i=!1;for(n in r)if(r.hasOwnProperty(n)){var o=r[n];if(null!=o)switch(n){case"src":a=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:Ju(e,t,n,o,r,null)}}return i&&Ju(e,t,"srcSet",r.srcSet,r,null),void(a&&Ju(e,t,"src",r.src,r,null));case"input":Lu("invalid",e);var l=n=o=i=null,c=null,u=null;for(a in r)if(r.hasOwnProperty(a)){var d=r[a];if(null!=d)switch(a){case"name":i=d;break;case"type":o=d;break;case"checked":c=d;break;case"defaultChecked":u=d;break;case"value":n=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(s(137,t));break;default:Ju(e,t,a,d,r,null)}}return yt(e,n,l,c,u,o,i,!1),void dt(e);case"select":for(i in Lu("invalid",e),a=o=n=null,r)if(r.hasOwnProperty(i)&&null!=(l=r[i]))switch(i){case"value":n=l;break;case"defaultValue":o=l;break;case"multiple":a=l;default:Ju(e,t,i,l,r,null)}return t=n,r=o,e.multiple=!!a,void(null!=t?xt(e,!!a,t,!1):null!=r&&xt(e,!!a,r,!0));case"textarea":for(o in Lu("invalid",e),n=i=a=null,r)if(r.hasOwnProperty(o)&&null!=(l=r[o]))switch(o){case"value":a=l;break;case"defaultValue":i=l;break;case"children":n=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(s(91));break;default:Ju(e,t,o,l,r,null)}return wt(e,a,i,n),void dt(e);case"option":for(c in r)if(r.hasOwnProperty(c)&&null!=(a=r[c]))if("selected"===c)e.selected=a&&"function"!==typeof a&&"symbol"!==typeof a;else Ju(e,t,c,a,r,null);return;case"dialog":Lu("beforetoggle",e),Lu("toggle",e),Lu("cancel",e),Lu("close",e);break;case"iframe":case"object":Lu("load",e);break;case"video":case"audio":for(a=0;a<Du.length;a++)Lu(Du[a],e);break;case"image":Lu("error",e),Lu("load",e);break;case"details":Lu("toggle",e);break;case"embed":case"source":case"link":Lu("error",e),Lu("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in r)if(r.hasOwnProperty(u)&&null!=(a=r[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:Ju(e,t,u,a,r,null)}return;default:if(Et(t)){for(d in r)r.hasOwnProperty(d)&&(void 0!==(a=r[d])&&Zu(e,t,d,a,r,void 0));return}}for(l in r)r.hasOwnProperty(l)&&(null!=(a=r[l])&&Ju(e,t,l,a,r,null))}var td=null,rd=null;function nd(e){return 9===e.nodeType?e:e.ownerDocument}function ad(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function id(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function sd(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var od=null;var ld="function"===typeof setTimeout?setTimeout:void 0,cd="function"===typeof clearTimeout?clearTimeout:void 0,ud="function"===typeof Promise?Promise:void 0,dd="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ud?function(e){return ud.resolve(null).then(e).catch(hd)}:ld;function hd(e){setTimeout(function(){throw e})}function fd(e){return"head"===e}function pd(e,t){var r=t,n=0,a=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&8===i.nodeType)if("/$"===(r=i.data)){if(0<n&&8>n){r=n;var s=e.ownerDocument;if(1&r&&wd(s.documentElement),2&r&&wd(s.body),4&r)for(wd(r=s.head),s=r.firstChild;s;){var o=s.nextSibling,l=s.nodeName;s[ze]||"SCRIPT"===l||"STYLE"===l||"LINK"===l&&"stylesheet"===s.rel.toLowerCase()||r.removeChild(s),s=o}}if(0===a)return e.removeChild(i),void Ah(t);a--}else"$"===r||"$?"===r||"$!"===r?a++:n=r.charCodeAt(0)-48;else n=0;r=i}while(r);Ah(t)}function md(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var r=t;switch(t=t.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":md(r),Ue(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===r.rel.toLowerCase())continue}e.removeChild(r)}}function gd(e){return"$!"===e.data||"$?"===e.data&&"complete"===e.ownerDocument.readyState}function yd(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"F!"===t||"F"===t)break;if("/$"===t)return null}}return e}var vd=null;function xd(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var r=e.data;if("$"===r||"$!"===r||"$?"===r){if(0===t)return e;t--}else"/$"===r&&t++}e=e.previousSibling}return null}function bd(e,t,r){switch(t=nd(r),e){case"html":if(!(e=t.documentElement))throw Error(s(452));return e;case"head":if(!(e=t.head))throw Error(s(453));return e;case"body":if(!(e=t.body))throw Error(s(454));return e;default:throw Error(s(451))}}function wd(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Ue(e)}var kd=new Map,jd=new Set;function Nd(e){return"function"===typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Sd=M.d;M.d={f:function(){var e=Sd.f(),t=Vc();return e||t},r:function(e){var t=Be(e);null!==t&&5===t.tag&&"form"===t.type?Os(t):Sd.r(e)},D:function(e){Sd.D(e),Ad("dns-prefetch",e,null)},C:function(e,t){Sd.C(e,t),Ad("preconnect",e,t)},L:function(e,t,r){Sd.L(e,t,r);var n=Ed;if(n&&e&&t){var a='link[rel="preload"][as="'+mt(t)+'"]';"image"===t&&r&&r.imageSrcSet?(a+='[imagesrcset="'+mt(r.imageSrcSet)+'"]',"string"===typeof r.imageSizes&&(a+='[imagesizes="'+mt(r.imageSizes)+'"]')):a+='[href="'+mt(e)+'"]';var i=a;switch(t){case"style":i=Cd(e);break;case"script":i=Od(e)}kd.has(i)||(e=h({rel:"preload",href:"image"===t&&r&&r.imageSrcSet?void 0:e,as:t},r),kd.set(i,e),null!==n.querySelector(a)||"style"===t&&n.querySelector(Td(i))||"script"===t&&n.querySelector(Pd(i))||(ed(t=n.createElement("link"),"link",e),qe(t),n.head.appendChild(t)))}},m:function(e,t){Sd.m(e,t);var r=Ed;if(r&&e){var n=t&&"string"===typeof t.as?t.as:"script",a='link[rel="modulepreload"][as="'+mt(n)+'"][href="'+mt(e)+'"]',i=a;switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=Od(e)}if(!kd.has(i)&&(e=h({rel:"modulepreload",href:e},t),kd.set(i,e),null===r.querySelector(a))){switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Pd(i)))return}ed(n=r.createElement("link"),"link",e),qe(n),r.head.appendChild(n)}}},X:function(e,t){Sd.X(e,t);var r=Ed;if(r&&e){var n=He(r).hoistableScripts,a=Od(e),i=n.get(a);i||((i=r.querySelector(Pd(a)))||(e=h({src:e,async:!0},t),(t=kd.get(a))&&Ld(e,t),qe(i=r.createElement("script")),ed(i,"link",e),r.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},n.set(a,i))}},S:function(e,t,r){Sd.S(e,t,r);var n=Ed;if(n&&e){var a=He(n).hoistableStyles,i=Cd(e);t=t||"default";var s=a.get(i);if(!s){var o={loading:0,preload:null};if(s=n.querySelector(Td(i)))o.loading=5;else{e=h({rel:"stylesheet",href:e,"data-precedence":t},r),(r=kd.get(i))&&Rd(e,r);var l=s=n.createElement("link");qe(l),ed(l,"link",e),l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),l.addEventListener("load",function(){o.loading|=1}),l.addEventListener("error",function(){o.loading|=2}),o.loading|=4,Md(s,t,n)}s={type:"stylesheet",instance:s,count:1,state:o},a.set(i,s)}}},M:function(e,t){Sd.M(e,t);var r=Ed;if(r&&e){var n=He(r).hoistableScripts,a=Od(e),i=n.get(a);i||((i=r.querySelector(Pd(a)))||(e=h({src:e,async:!0,type:"module"},t),(t=kd.get(a))&&Ld(e,t),qe(i=r.createElement("script")),ed(i,"link",e),r.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},n.set(a,i))}}};var Ed="undefined"===typeof document?null:document;function Ad(e,t,r){var n=Ed;if(n&&"string"===typeof t&&t){var a=mt(t);a='link[rel="'+e+'"][href="'+a+'"]',"string"===typeof r&&(a+='[crossorigin="'+r+'"]'),jd.has(a)||(jd.add(a),e={rel:e,crossOrigin:r,href:t},null===n.querySelector(a)&&(ed(t=n.createElement("link"),"link",e),qe(t),n.head.appendChild(t)))}}function _d(e,t,r,n){var a,i,o,l,c=(c=H.current)?Nd(c):null;if(!c)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof r.precedence&&"string"===typeof r.href?(t=Cd(r.href),(n=(r=He(c).hoistableStyles).get(t))||(n={type:"style",instance:null,count:0,state:null},r.set(t,n)),n):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===r.rel&&"string"===typeof r.href&&"string"===typeof r.precedence){e=Cd(r.href);var u=He(c).hoistableStyles,d=u.get(e);if(d||(c=c.ownerDocument||c,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,d),(u=c.querySelector(Td(e)))&&!u._p&&(d.instance=u,d.state.loading=5),kd.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},kd.set(e,r),u||(a=c,i=e,o=r,l=d.state,a.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=a.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),ed(i,"link",o),qe(i),a.head.appendChild(i))))),t&&null===n)throw Error(s(528,""));return d}if(t&&null!==n)throw Error(s(529,""));return null;case"script":return t=r.async,"string"===typeof(r=r.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=Od(r),(n=(r=He(c).hoistableScripts).get(t))||(n={type:"script",instance:null,count:0,state:null},r.set(t,n)),n):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Cd(e){return'href="'+mt(e)+'"'}function Td(e){return'link[rel="stylesheet"]['+e+"]"}function Id(e){return h({},e,{"data-precedence":e.precedence,precedence:null})}function Od(e){return'[src="'+mt(e)+'"]'}function Pd(e){return"script[async]"+e}function Dd(e,t,r){if(t.count++,null===t.instance)switch(t.type){case"style":var n=e.querySelector('style[data-href~="'+mt(r.href)+'"]');if(n)return t.instance=n,qe(n),n;var a=h({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return qe(n=(e.ownerDocument||e).createElement("style")),ed(n,"style",a),Md(n,r.precedence,e),t.instance=n;case"stylesheet":a=Cd(r.href);var i=e.querySelector(Td(a));if(i)return t.state.loading|=4,t.instance=i,qe(i),i;n=Id(r),(a=kd.get(a))&&Rd(n,a),qe(i=(e.ownerDocument||e).createElement("link"));var o=i;return o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),ed(i,"link",n),t.state.loading|=4,Md(i,r.precedence,e),t.instance=i;case"script":return i=Od(r.src),(a=e.querySelector(Pd(i)))?(t.instance=a,qe(a),a):(n=r,(a=kd.get(i))&&Ld(n=h({},r),a),qe(a=(e=e.ownerDocument||e).createElement("script")),ed(a,"link",n),e.head.appendChild(a),t.instance=a);case"void":return null;default:throw Error(s(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(n=t.instance,t.state.loading|=4,Md(n,r.precedence,e));return t.instance}function Md(e,t,r){for(var n=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),a=n.length?n[n.length-1]:null,i=a,s=0;s<n.length;s++){var o=n[s];if(o.dataset.precedence===t)i=o;else if(i!==a)break}i?i.parentNode.insertBefore(e,i.nextSibling):(t=9===r.nodeType?r.head:r).insertBefore(e,t.firstChild)}function Rd(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function Ld(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var Fd=null;function zd(e,t,r){if(null===Fd){var n=new Map,a=Fd=new Map;a.set(r,n)}else(n=(a=Fd).get(r))||(n=new Map,a.set(r,n));if(n.has(e))return n;for(n.set(e,null),r=r.getElementsByTagName(e),a=0;a<r.length;a++){var i=r[a];if(!(i[ze]||i[Oe]||"link"===e&&"stylesheet"===i.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==i.namespaceURI){var s=i.getAttribute(t)||"";s=e+s;var o=n.get(s);o?o.push(i):n.set(s,[i])}}return n}function Ud(e,t,r){(e=e.ownerDocument||e).head.insertBefore(r,"title"===t?e.querySelector("head > title"):null)}function Vd(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var Bd=null;function $d(){}function Hd(){if(this.count--,0===this.count)if(this.stylesheets)Kd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var qd=null;function Kd(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,qd=new Map,t.forEach(Wd,e),qd=null,Hd.call(e))}function Wd(e,t){if(!(4&t.state.loading)){var r=qd.get(e);if(r)var n=r.get(null);else{r=new Map,qd.set(e,r);for(var a=e.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<a.length;i++){var s=a[i];"LINK"!==s.nodeName&&"not all"===s.getAttribute("media")||(r.set(s.dataset.precedence,s),n=s)}n&&r.set(null,n)}s=(a=t.instance).getAttribute("data-precedence"),(i=r.get(s)||n)===n&&r.set(null,a),r.set(s,a),this.count++,n=Hd.bind(this),a.addEventListener("load",n),a.addEventListener("error",n),i?i.parentNode.insertBefore(a,i.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(a,e.firstChild),t.state.loading|=4}}var Gd={$$typeof:w,Provider:null,Consumer:null,_currentValue:R,_currentValue2:R,_threadCount:0};function Yd(e,t,r,n,a,i,s,o){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ne(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ne(0),this.hiddenUpdates=Ne(null),this.identifierPrefix=n,this.onUncaughtError=a,this.onCaughtError=i,this.onRecoverableError=s,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function Qd(e,t,r,n,a,i,s,o,l,c,u,d){return e=new Yd(e,t,r,s,o,l,c,d),t=1,!0===i&&(t|=24),i=Rn(3,null,null,t),e.current=i,i.stateNode=e,(t=Pa()).refCount++,e.pooledCache=t,t.refCount++,i.memoizedState={element:n,isDehydrated:r,cache:t},ri(i),e}function Xd(e){return e?e=Dn:Dn}function Jd(e,t,r,n,a,i){a=Xd(a),null===n.context?n.context=a:n.pendingContext=a,(n=ai(t)).payload={element:r},null!==(i=void 0===i?null:i)&&(n.callback=i),null!==(r=ii(e,n,t))&&(Rc(r,0,t),si(r,e,t))}function Zd(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var r=e.retryLane;e.retryLane=0!==r&&r<t?r:t}}function eh(e,t){Zd(e,t),(e=e.alternate)&&Zd(e,t)}function th(e){if(13===e.tag){var t=In(e,67108864);null!==t&&Rc(t,0,67108864),eh(e,67108864)}}var rh=!0;function nh(e,t,r,n){var a=D.T;D.T=null;var i=M.p;try{M.p=2,ih(e,t,r,n)}finally{M.p=i,D.T=a}}function ah(e,t,r,n){var a=D.T;D.T=null;var i=M.p;try{M.p=8,ih(e,t,r,n)}finally{M.p=i,D.T=a}}function ih(e,t,r,n){if(rh){var a=sh(n);if(null===a)Bu(e,t,n,oh,r),vh(e,n);else if(function(e,t,r,n,a){switch(t){case"focusin":return dh=xh(dh,e,t,r,n,a),!0;case"dragenter":return hh=xh(hh,e,t,r,n,a),!0;case"mouseover":return fh=xh(fh,e,t,r,n,a),!0;case"pointerover":var i=a.pointerId;return ph.set(i,xh(ph.get(i)||null,e,t,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,mh.set(i,xh(mh.get(i)||null,e,t,r,n,a)),!0}return!1}(a,e,t,r,n))n.stopPropagation();else if(vh(e,n),4&t&&-1<yh.indexOf(e)){for(;null!==a;){var i=Be(a);if(null!==i)switch(i.tag){case 3:if((i=i.stateNode).current.memoizedState.isDehydrated){var s=ve(i.pendingLanes);if(0!==s){var o=i;for(o.pendingLanes|=2,o.entangledLanes|=2;s;){var l=1<<31-fe(s);o.entanglements[1]|=l,s&=~l}ku(i),0===(6&rc)&&(kc=te()+500,ju(0,!1))}}break;case 13:null!==(o=In(i,2))&&Rc(o,0,2),Vc(),eh(i,2)}if(null===(i=sh(n))&&Bu(e,t,n,oh,r),i===a)break;a=i}null!==a&&n.stopPropagation()}else Bu(e,t,n,null,r)}}function sh(e){return lh(e=It(e))}var oh=null;function lh(e){if(oh=null,null!==(e=Ve(e))){var t=l(e);if(null===t)e=null;else{var r=t.tag;if(13===r){if(null!==(e=c(t)))return e;e=null}else if(3===r){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return oh=e,null}function ch(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(re()){case ne:return 2;case ae:return 8;case ie:case se:return 32;case oe:return 268435456;default:return 32}default:return 32}}var uh=!1,dh=null,hh=null,fh=null,ph=new Map,mh=new Map,gh=[],yh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function vh(e,t){switch(e){case"focusin":case"focusout":dh=null;break;case"dragenter":case"dragleave":hh=null;break;case"mouseover":case"mouseout":fh=null;break;case"pointerover":case"pointerout":ph.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":mh.delete(t.pointerId)}}function xh(e,t,r,n,a,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},null!==t&&(null!==(t=Be(t))&&th(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function bh(e){var t=Ve(e.target);if(null!==t){var r=l(t);if(null!==r)if(13===(t=r.tag)){if(null!==(t=c(r)))return e.blockedOn=t,void function(e,t){var r=M.p;try{return M.p=e,t()}finally{M.p=r}}(e.priority,function(){if(13===r.tag){var e=Dc();e=_e(e);var t=In(r,e);null!==t&&Rc(t,0,e),eh(r,e)}})}else if(3===t&&r.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===r.tag?r.stateNode.containerInfo:null)}e.blockedOn=null}function wh(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var r=sh(e.nativeEvent);if(null!==r)return null!==(t=Be(r))&&th(t),e.blockedOn=r,!1;var n=new(r=e.nativeEvent).constructor(r.type,r);Tt=n,r.target.dispatchEvent(n),Tt=null,t.shift()}return!0}function kh(e,t,r){wh(e)&&r.delete(t)}function jh(){uh=!1,null!==dh&&wh(dh)&&(dh=null),null!==hh&&wh(hh)&&(hh=null),null!==fh&&wh(fh)&&(fh=null),ph.forEach(kh),mh.forEach(kh)}function Nh(e,t){e.blockedOn===t&&(e.blockedOn=null,uh||(uh=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,jh)))}var Sh=null;function Eh(e){Sh!==e&&(Sh=e,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Sh===e&&(Sh=null);for(var t=0;t<e.length;t+=3){var r=e[t],n=e[t+1],a=e[t+2];if("function"!==typeof n){if(null===lh(n||r))continue;break}var i=Be(r);null!==i&&(e.splice(t,3),t-=3,Ts(i,{pending:!0,data:a,method:r.method,action:n},n,a))}}))}function Ah(e){function t(t){return Nh(t,e)}null!==dh&&Nh(dh,e),null!==hh&&Nh(hh,e),null!==fh&&Nh(fh,e),ph.forEach(t),mh.forEach(t);for(var r=0;r<gh.length;r++){var n=gh[r];n.blockedOn===e&&(n.blockedOn=null)}for(;0<gh.length&&null===(r=gh[0]).blockedOn;)bh(r),null===r.blockedOn&&gh.shift();if(null!=(r=(e.ownerDocument||e).$$reactFormReplay))for(n=0;n<r.length;n+=3){var a=r[n],i=r[n+1],s=a[Pe]||null;if("function"===typeof i)s||Eh(r);else if(s){var o=null;if(i&&i.hasAttribute("formAction")){if(a=i,s=i[Pe]||null)o=s.formAction;else if(null!==lh(a))continue}else o=s.action;"function"===typeof o?r[n+1]=o:(r.splice(n,3),n-=3),Eh(r)}}}function _h(e){this._internalRoot=e}function Ch(e){this._internalRoot=e}Ch.prototype.render=_h.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Jd(t.current,Dc(),e,t,null,null)},Ch.prototype.unmount=_h.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;Jd(e.current,2,null,e,null,null),Vc(),t[De]=null}},Ch.prototype.unstable_scheduleHydration=function(e){if(e){var t=Te();e={blockedOn:null,target:e,priority:t};for(var r=0;r<gh.length&&0!==t&&t<gh[r].priority;r++);gh.splice(r,0,e),0===r&&bh(e)}};var Th=a.version;if("19.1.0"!==Th)throw Error(s(527,Th,"19.1.0"));M.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=l(e)))throw Error(s(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(null===a)break;var i=a.alternate;if(null===i){if(null!==(n=a.return)){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return u(a),e;if(i===n)return u(a),t;i=i.sibling}throw Error(s(188))}if(r.return!==n.return)r=a,n=i;else{for(var o=!1,c=a.child;c;){if(c===r){o=!0,r=a,n=i;break}if(c===n){o=!0,n=a,r=i;break}c=c.sibling}if(!o){for(c=i.child;c;){if(c===r){o=!0,r=i,n=a;break}if(c===n){o=!0,n=i,r=a;break}c=c.sibling}if(!o)throw Error(s(189))}}if(r.alternate!==n)throw Error(s(190))}if(3!==r.tag)throw Error(s(188));return r.stateNode.current===r?e:t}(t),e=null===(e=null!==e?d(e):null)?null:e.stateNode};var Ih={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:D,reconcilerVersion:"19.1.0"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Oh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Oh.isDisabled&&Oh.supportsFiber)try{ue=Oh.inject(Ih),de=Oh}catch(Dh){}}t.createRoot=function(e,t){if(!o(e))throw Error(s(299));var r=!1,n="",a=vo,i=xo,l=bo;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(r=!0),void 0!==t.identifierPrefix&&(n=t.identifierPrefix),void 0!==t.onUncaughtError&&(a=t.onUncaughtError),void 0!==t.onCaughtError&&(i=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&t.unstable_transitionCallbacks),t=Qd(e,1,!1,null,0,r,n,a,i,l,0,null),e[De]=t.current,Uu(e),new _h(t)},t.hydrateRoot=function(e,t,r){if(!o(e))throw Error(s(299));var n=!1,a="",i=vo,l=xo,c=bo,u=null;return null!==r&&void 0!==r&&(!0===r.unstable_strictMode&&(n=!0),void 0!==r.identifierPrefix&&(a=r.identifierPrefix),void 0!==r.onUncaughtError&&(i=r.onUncaughtError),void 0!==r.onCaughtError&&(l=r.onCaughtError),void 0!==r.onRecoverableError&&(c=r.onRecoverableError),void 0!==r.unstable_transitionCallbacks&&r.unstable_transitionCallbacks,void 0!==r.formState&&(u=r.formState)),(t=Qd(e,1,!0,t,0,n,a,i,l,c,0,u)).context=Xd(null),r=t.current,(a=ai(n=_e(n=Dc()))).callback=null,ii(r,a,n),r=n,t.current.lanes=r,Se(t,r),ku(t),e[De]=t.current,Uu(e),new Ch(t)},t.version="19.1.0"},7043:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(2777),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,i=/^\w*$/;t.isKey=function(e,t){return!Array.isArray(e)&&(!("number"!==typeof e&&"boolean"!==typeof e&&null!=e&&!n.isSymbol(e))||("string"===typeof e&&(i.test(e)||!a.test(e))||null!=t&&Object.hasOwn(t,e)))}},7231:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(3799),a=r(4879);t.range=function(e,t,r){r&&"number"!==typeof r&&n.isIterateeCall(e,t,r)&&(t=r=void 0),e=a.toFinite(e),void 0===t?(t=e,e=0):t=a.toFinite(t),r=void 0===r?e<t?1:-1:a.toFinite(r);const i=Math.max(Math.ceil((t-e)/(r||1)),0),s=new Array(i);for(let n=0;n<i;n++)s[n]=e,e+=r;return s}},7237:(e,t,r)=>{"use strict";r(8365)},7260:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isUnsafeProperty=function(e){return"__proto__"===e}},7312:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.flatten=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;const r=[],n=Math.floor(t),a=(e,t)=>{for(let i=0;i<e.length;i++){const s=e[i];Array.isArray(s)&&t<n?a(s,t+1):r.push(s)}};return a(e,0),r}},7330:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(9323);t.property=function(e){return function(t){return n.get(t,e)}}},7599:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});t.argumentsTag="[object Arguments]",t.arrayBufferTag="[object ArrayBuffer]",t.arrayTag="[object Array]",t.bigInt64ArrayTag="[object BigInt64Array]",t.bigUint64ArrayTag="[object BigUint64Array]",t.booleanTag="[object Boolean]",t.dataViewTag="[object DataView]",t.dateTag="[object Date]",t.errorTag="[object Error]",t.float32ArrayTag="[object Float32Array]",t.float64ArrayTag="[object Float64Array]",t.functionTag="[object Function]",t.int16ArrayTag="[object Int16Array]",t.int32ArrayTag="[object Int32Array]",t.int8ArrayTag="[object Int8Array]",t.mapTag="[object Map]",t.numberTag="[object Number]",t.objectTag="[object Object]",t.regexpTag="[object RegExp]",t.setTag="[object Set]",t.stringTag="[object String]",t.symbolTag="[object Symbol]",t.uint16ArrayTag="[object Uint16Array]",t.uint32ArrayTag="[object Uint32Array]",t.uint8ArrayTag="[object Uint8Array]",t.uint8ClampedArrayTag="[object Uint8ClampedArray]"},7770:(e,t,r)=>{e.exports=r(9323).get},7820:(e,t,r)=>{e.exports=r(5414).throttle},7950:(e,t,r)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=r(6672)},8182:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(9330),a=r(4737);t.isEqual=function(e,t){return n.isEqualWith(e,t,a.noop)}},8210:function(e,t,r){var n;!function(){"use strict";var a,i=1e9,s={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},o=!0,l="[DecimalError] ",c=l+"Invalid argument: ",u=l+"Exponent out of range: ",d=Math.floor,h=Math.pow,f=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,p=1e7,m=9007199254740991,g=d(1286742750677284.5),y={};function v(e,t){var r,n,a,i,s,l,c,u,d=e.constructor,h=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),o?_(t,h):t;if(c=e.d,u=t.d,s=e.e,a=t.e,c=c.slice(),i=s-a){for(i<0?(n=c,i=-i,l=u.length):(n=u,a=s,l=c.length),i>(l=(s=Math.ceil(h/7))>l?s+1:l+1)&&(i=l,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for((l=c.length)-(i=u.length)<0&&(i=l,n=u,u=c,c=n),r=0;i;)r=(c[--i]=c[i]+u[i]+r)/p|0,c[i]%=p;for(r&&(c.unshift(r),++a),l=c.length;0==c[--l];)c.pop();return t.d=c,t.e=a,o?_(t,h):t}function x(e,t,r){if(e!==~~e||e<t||e>r)throw Error(c+e)}function b(e){var t,r,n,a=e.length-1,i="",s=e[0];if(a>0){for(i+=s,t=1;t<a;t++)(r=7-(n=e[t]+"").length)&&(i+=S(r)),i+=n;(r=7-(n=(s=e[t])+"").length)&&(i+=S(r))}else if(0===s)return"0";for(;s%10===0;)s/=10;return i+s}y.absoluteValue=y.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e},y.comparedTo=y.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(t=0,r=(n=i.d.length)<(a=e.d.length)?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1},y.decimalPlaces=y.dp=function(){var e=this,t=e.d.length-1,r=7*(t-e.e);if(t=e.d[t])for(;t%10==0;t/=10)r--;return r<0?0:r},y.dividedBy=y.div=function(e){return w(this,new this.constructor(e))},y.dividedToIntegerBy=y.idiv=function(e){var t=this.constructor;return _(w(this,new t(e),0,1),t.precision)},y.equals=y.eq=function(e){return!this.cmp(e)},y.exponent=function(){return j(this)},y.greaterThan=y.gt=function(e){return this.cmp(e)>0},y.greaterThanOrEqualTo=y.gte=function(e){return this.cmp(e)>=0},y.isInteger=y.isint=function(){return this.e>this.d.length-2},y.isNegative=y.isneg=function(){return this.s<0},y.isPositive=y.ispos=function(){return this.s>0},y.isZero=function(){return 0===this.s},y.lessThan=y.lt=function(e){return this.cmp(e)<0},y.lessThanOrEqualTo=y.lte=function(e){return this.cmp(e)<1},y.logarithm=y.log=function(e){var t,r=this,n=r.constructor,i=n.precision,s=i+5;if(void 0===e)e=new n(10);else if((e=new n(e)).s<1||e.eq(a))throw Error(l+"NaN");if(r.s<1)throw Error(l+(r.s?"NaN":"-Infinity"));return r.eq(a)?new n(0):(o=!1,t=w(E(r,s),E(e,s),s),o=!0,_(t,i))},y.minus=y.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?C(t,e):v(t,(e.s=-e.s,e))},y.modulo=y.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(!(e=new n(e)).s)throw Error(l+"NaN");return r.s?(o=!1,t=w(r,e,0,1).times(e),o=!0,r.minus(t)):_(new n(r),a)},y.naturalExponential=y.exp=function(){return k(this)},y.naturalLogarithm=y.ln=function(){return E(this)},y.negated=y.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e},y.plus=y.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?v(t,e):C(t,(e.s=-e.s,e))},y.precision=y.sd=function(e){var t,r,n,a=this;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(c+e);if(t=j(a)+1,r=7*(n=a.d.length-1)+1,n=a.d[n]){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r},y.squareRoot=y.sqrt=function(){var e,t,r,n,a,i,s,c=this,u=c.constructor;if(c.s<1){if(!c.s)return new u(0);throw Error(l+"NaN")}for(e=j(c),o=!1,0==(a=Math.sqrt(+c))||a==1/0?(((t=b(c.d)).length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=d((e+1)/2)-(e<0||e%2),n=new u(t=a==1/0?"5e"+e:(t=a.toExponential()).slice(0,t.indexOf("e")+1)+e)):n=new u(a.toString()),a=s=(r=u.precision)+3;;)if(n=(i=n).plus(w(c,i,s+2)).times(.5),b(i.d).slice(0,s)===(t=b(n.d)).slice(0,s)){if(t=t.slice(s-3,s+1),a==s&&"4999"==t){if(_(i,r+1,0),i.times(i).eq(c)){n=i;break}}else if("9999"!=t)break;s+=4}return o=!0,_(n,r)},y.times=y.mul=function(e){var t,r,n,a,i,s,l,c,u,d=this,h=d.constructor,f=d.d,m=(e=new h(e)).d;if(!d.s||!e.s)return new h(0);for(e.s*=d.s,r=d.e+e.e,(c=f.length)<(u=m.length)&&(i=f,f=m,m=i,s=c,c=u,u=s),i=[],n=s=c+u;n--;)i.push(0);for(n=u;--n>=0;){for(t=0,a=c+n;a>n;)l=i[a]+m[n]*f[a-n-1]+t,i[a--]=l%p|0,t=l/p|0;i[a]=(i[a]+t)%p|0}for(;!i[--s];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,o?_(e,h.precision):e},y.toDecimalPlaces=y.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),void 0===e?r:(x(e,0,i),void 0===t?t=n.rounding:x(t,0,8),_(r,e+j(r)+1,t))},y.toExponential=function(e,t){var r,n=this,a=n.constructor;return void 0===e?r=T(n,!0):(x(e,0,i),void 0===t?t=a.rounding:x(t,0,8),r=T(n=_(new a(n),e+1,t),!0,e+1)),r},y.toFixed=function(e,t){var r,n,a=this,s=a.constructor;return void 0===e?T(a):(x(e,0,i),void 0===t?t=s.rounding:x(t,0,8),r=T((n=_(new s(a),e+j(a)+1,t)).abs(),!1,e+j(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)},y.toInteger=y.toint=function(){var e=this,t=e.constructor;return _(new t(e),j(e)+1,t.rounding)},y.toNumber=function(){return+this},y.toPower=y.pow=function(e){var t,r,n,i,s,c,u=this,h=u.constructor,f=+(e=new h(e));if(!e.s)return new h(a);if(!(u=new h(u)).s){if(e.s<1)throw Error(l+"Infinity");return u}if(u.eq(a))return u;if(n=h.precision,e.eq(a))return _(u,n);if(c=(t=e.e)>=(r=e.d.length-1),s=u.s,c){if((r=f<0?-f:f)<=m){for(i=new h(a),t=Math.ceil(n/7+4),o=!1;r%2&&I((i=i.times(u)).d,t),0!==(r=d(r/2));)I((u=u.times(u)).d,t);return o=!0,e.s<0?new h(a).div(i):_(i,n)}}else if(s<0)throw Error(l+"NaN");return s=s<0&&1&e.d[Math.max(t,r)]?-1:1,u.s=1,o=!1,i=e.times(E(u,n+12)),o=!0,(i=k(i)).s=s,i},y.toPrecision=function(e,t){var r,n,a=this,s=a.constructor;return void 0===e?n=T(a,(r=j(a))<=s.toExpNeg||r>=s.toExpPos):(x(e,1,i),void 0===t?t=s.rounding:x(t,0,8),n=T(a=_(new s(a),e,t),e<=(r=j(a))||r<=s.toExpNeg,e)),n},y.toSignificantDigits=y.tosd=function(e,t){var r=this.constructor;return void 0===e?(e=r.precision,t=r.rounding):(x(e,1,i),void 0===t?t=r.rounding:x(t,0,8)),_(new r(this),e,t)},y.toString=y.valueOf=y.val=y.toJSON=function(){var e=this,t=j(e),r=e.constructor;return T(e,t<=r.toExpNeg||t>=r.toExpPos)};var w=function(){function e(e,t){var r,n=0,a=e.length;for(e=e.slice();a--;)r=e[a]*t+n,e[a]=r%p|0,n=r/p|0;return n&&e.unshift(n),e}function t(e,t,r,n){var a,i;if(r!=n)i=r>n?1:-1;else for(a=i=0;a<r;a++)if(e[a]!=t[a]){i=e[a]>t[a]?1:-1;break}return i}function r(e,t,r){for(var n=0;r--;)e[r]-=n,n=e[r]<t[r]?1:0,e[r]=n*p+e[r]-t[r];for(;!e[0]&&e.length>1;)e.shift()}return function(n,a,i,s){var o,c,u,d,h,f,m,g,y,v,x,b,w,k,N,S,E,A,C=n.constructor,T=n.s==a.s?1:-1,I=n.d,O=a.d;if(!n.s)return new C(n);if(!a.s)throw Error(l+"Division by zero");for(c=n.e-a.e,E=O.length,N=I.length,g=(m=new C(T)).d=[],u=0;O[u]==(I[u]||0);)++u;if(O[u]>(I[u]||0)&&--c,(b=null==i?i=C.precision:s?i+(j(n)-j(a))+1:i)<0)return new C(0);if(b=b/7+2|0,u=0,1==E)for(d=0,O=O[0],b++;(u<N||d)&&b--;u++)w=d*p+(I[u]||0),g[u]=w/O|0,d=w%O|0;else{for((d=p/(O[0]+1)|0)>1&&(O=e(O,d),I=e(I,d),E=O.length,N=I.length),k=E,v=(y=I.slice(0,E)).length;v<E;)y[v++]=0;(A=O.slice()).unshift(0),S=O[0],O[1]>=p/2&&++S;do{d=0,(o=t(O,y,E,v))<0?(x=y[0],E!=v&&(x=x*p+(y[1]||0)),(d=x/S|0)>1?(d>=p&&(d=p-1),1==(o=t(h=e(O,d),y,f=h.length,v=y.length))&&(d--,r(h,E<f?A:O,f))):(0==d&&(o=d=1),h=O.slice()),(f=h.length)<v&&h.unshift(0),r(y,h,v),-1==o&&(o=t(O,y,E,v=y.length))<1&&(d++,r(y,E<v?A:O,v)),v=y.length):0===o&&(d++,y=[0]),g[u++]=d,o&&y[0]?y[v++]=I[k]||0:(y=[I[k]],v=1)}while((k++<N||void 0!==y[0])&&b--)}return g[0]||g.shift(),m.e=c,_(m,s?i+j(m)+1:i)}}();function k(e,t){var r,n,i,s,l,c=0,d=0,f=e.constructor,p=f.precision;if(j(e)>16)throw Error(u+j(e));if(!e.s)return new f(a);for(null==t?(o=!1,l=p):l=t,s=new f(.03125);e.abs().gte(.1);)e=e.times(s),d+=5;for(l+=Math.log(h(2,d))/Math.LN10*2+5|0,r=n=i=new f(a),f.precision=l;;){if(n=_(n.times(e),l),r=r.times(++c),b((s=i.plus(w(n,r,l))).d).slice(0,l)===b(i.d).slice(0,l)){for(;d--;)i=_(i.times(i),l);return f.precision=p,null==t?(o=!0,_(i,p)):i}i=s}}function j(e){for(var t=7*e.e,r=e.d[0];r>=10;r/=10)t++;return t}function N(e,t,r){if(t>e.LN10.sd())throw o=!0,r&&(e.precision=r),Error(l+"LN10 precision limit exceeded");return _(new e(e.LN10),t)}function S(e){for(var t="";e--;)t+="0";return t}function E(e,t){var r,n,i,s,c,u,d,h,f,p=1,m=e,g=m.d,y=m.constructor,v=y.precision;if(m.s<1)throw Error(l+(m.s?"NaN":"-Infinity"));if(m.eq(a))return new y(0);if(null==t?(o=!1,h=v):h=t,m.eq(10))return null==t&&(o=!0),N(y,h);if(h+=10,y.precision=h,n=(r=b(g)).charAt(0),s=j(m),!(Math.abs(s)<15e14))return d=N(y,h+2,v).times(s+""),m=E(new y(n+"."+r.slice(1)),h-10).plus(d),y.precision=v,null==t?(o=!0,_(m,v)):m;for(;n<7&&1!=n||1==n&&r.charAt(1)>3;)n=(r=b((m=m.times(e)).d)).charAt(0),p++;for(s=j(m),n>1?(m=new y("0."+r),s++):m=new y(n+"."+r.slice(1)),u=c=m=w(m.minus(a),m.plus(a),h),f=_(m.times(m),h),i=3;;){if(c=_(c.times(f),h),b((d=u.plus(w(c,new y(i),h))).d).slice(0,h)===b(u.d).slice(0,h))return u=u.times(2),0!==s&&(u=u.plus(N(y,h+2,v).times(s+""))),u=w(u,new y(p),h),y.precision=v,null==t?(o=!0,_(u,v)):u;u=d,i+=2}}function A(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;48===t.charCodeAt(n);)++n;for(a=t.length;48===t.charCodeAt(a-1);)--a;if(t=t.slice(n,a)){if(a-=n,r=r-n-1,e.e=d(r/7),e.d=[],n=(r+1)%7,r<0&&(n+=7),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=7;n<a;)e.d.push(+t.slice(n,n+=7));n=7-(t=t.slice(n)).length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),o&&(e.e>g||e.e<-g))throw Error(u+r)}else e.s=0,e.e=0,e.d=[0];return e}function _(e,t,r){var n,a,i,s,l,c,f,m,y=e.d;for(s=1,i=y[0];i>=10;i/=10)s++;if((n=t-s)<0)n+=7,a=t,f=y[m=0];else{if((m=Math.ceil((n+1)/7))>=(i=y.length))return e;for(f=i=y[m],s=1;i>=10;i/=10)s++;a=(n%=7)-7+s}if(void 0!==r&&(l=f/(i=h(10,s-a-1))%10|0,c=t<0||void 0!==y[m+1]||f%i,c=r<4?(l||c)&&(0==r||r==(e.s<0?3:2)):l>5||5==l&&(4==r||c||6==r&&(n>0?a>0?f/h(10,s-a):0:y[m-1])%10&1||r==(e.s<0?8:7))),t<1||!y[0])return c?(i=j(e),y.length=1,t=t-i-1,y[0]=h(10,(7-t%7)%7),e.e=d(-t/7)||0):(y.length=1,y[0]=e.e=e.s=0),e;if(0==n?(y.length=m,i=1,m--):(y.length=m+1,i=h(10,7-n),y[m]=a>0?(f/h(10,s-a)%h(10,a)|0)*i:0),c)for(;;){if(0==m){(y[0]+=i)==p&&(y[0]=1,++e.e);break}if(y[m]+=i,y[m]!=p)break;y[m--]=0,i=1}for(n=y.length;0===y[--n];)y.pop();if(o&&(e.e>g||e.e<-g))throw Error(u+j(e));return e}function C(e,t){var r,n,a,i,s,l,c,u,d,h,f=e.constructor,m=f.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new f(e),o?_(t,m):t;if(c=e.d,h=t.d,n=t.e,u=e.e,c=c.slice(),s=u-n){for((d=s<0)?(r=c,s=-s,l=h.length):(r=h,n=u,l=c.length),s>(a=Math.max(Math.ceil(m/7),l)+2)&&(s=a,r.length=1),r.reverse(),a=s;a--;)r.push(0);r.reverse()}else{for((d=(a=c.length)<(l=h.length))&&(l=a),a=0;a<l;a++)if(c[a]!=h[a]){d=c[a]<h[a];break}s=0}for(d&&(r=c,c=h,h=r,t.s=-t.s),l=c.length,a=h.length-l;a>0;--a)c[l++]=0;for(a=h.length;a>s;){if(c[--a]<h[a]){for(i=a;i&&0===c[--i];)c[i]=p-1;--c[i],c[a]+=p}c[a]-=h[a]}for(;0===c[--l];)c.pop();for(;0===c[0];c.shift())--n;return c[0]?(t.d=c,t.e=n,o?_(t,m):t):new f(0)}function T(e,t,r){var n,a=j(e),i=b(e.d),s=i.length;return t?(r&&(n=r-s)>0?i=i.charAt(0)+"."+i.slice(1)+S(n):s>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+S(-a-1)+i,r&&(n=r-s)>0&&(i+=S(n))):a>=s?(i+=S(a+1-s),r&&(n=r-a-1)>0&&(i=i+"."+S(n))):((n=a+1)<s&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-s)>0&&(a+1===s&&(i+="."),i+=S(n))),e.s<0?"-"+i:i}function I(e,t){if(e.length>t)return e.length=t,!0}function O(e){if(!e||"object"!==typeof e)throw Error(l+"Object expected");var t,r,n,a=["precision",1,i,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if(void 0!==(n=e[r=a[t]])){if(!(d(n)===n&&n>=a[t+1]&&n<=a[t+2]))throw Error(c+r+": "+n);this[r]=n}if(void 0!==(n=e[r="LN10"])){if(n!=Math.LN10)throw Error(c+r+": "+n);this[r]=new this(n)}return this}s=function e(t){var r,n,a;function i(e){var t=this;if(!(t instanceof i))return new i(e);if(t.constructor=i,e instanceof i)return t.s=e.s,t.e=e.e,void(t.d=(e=e.d)?e.slice():e);if("number"===typeof e){if(0*e!==0)throw Error(c+e);if(e>0)t.s=1;else{if(!(e<0))return t.s=0,t.e=0,void(t.d=[0]);e=-e,t.s=-1}return e===~~e&&e<1e7?(t.e=0,void(t.d=[e])):A(t,e.toString())}if("string"!==typeof e)throw Error(c+e);if(45===e.charCodeAt(0)?(e=e.slice(1),t.s=-1):t.s=1,!f.test(e))throw Error(c+e);A(t,e)}if(i.prototype=y,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=e,i.config=i.set=O,void 0===t&&(t={}),t)for(a=["precision","rounding","toExpNeg","toExpPos","LN10"],r=0;r<a.length;)t.hasOwnProperty(n=a[r++])||(t[n]=this[n]);return i.config(t),i}(s),s.default=s.Decimal=s,a=new s(1),void 0===(n=function(){return s}.call(t,r,t,e))||(e.exports=n)}()},8268:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(2132);t.isMatch=function(e,t){return n.isMatchWith(e,t,()=>{})}},8346:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.toArray=function(e){return Array.isArray(e)?e:Array.from(e)}},8365:(e,t,r)=>{"use strict";var n=r(5043);var a="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},i=n.useSyncExternalStore,s=n.useRef,o=n.useEffect,l=n.useMemo,c=n.useDebugValue},8396:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(5508);t.cloneDeep=function(e){return n.cloneDeepWith(e)}},8420:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isLength=function(e){return Number.isSafeInteger(e)&&e>=0}},8443:(e,t,r)=>{"use strict";e.exports=r(9717)},8499:e=>{"use strict";var t=Object.prototype.hasOwnProperty,r="~";function n(){}function a(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function i(e,t,n,i,s){if("function"!==typeof n)throw new TypeError("The listener must be a function");var o=new a(n,i||e,s),l=r?r+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],o]:e._events[l].push(o):(e._events[l]=o,e._eventsCount++),e}function s(e,t){0===--e._eventsCount?e._events=new n:delete e._events[t]}function o(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(r=!1)),o.prototype.eventNames=function(){var e,n,a=[];if(0===this._eventsCount)return a;for(n in e=this._events)t.call(e,n)&&a.push(r?n.slice(1):n);return Object.getOwnPropertySymbols?a.concat(Object.getOwnPropertySymbols(e)):a},o.prototype.listeners=function(e){var t=r?r+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var a=0,i=n.length,s=new Array(i);a<i;a++)s[a]=n[a].fn;return s},o.prototype.listenerCount=function(e){var t=r?r+e:e,n=this._events[t];return n?n.fn?1:n.length:0},o.prototype.emit=function(e,t,n,a,i,s){var o=r?r+e:e;if(!this._events[o])return!1;var l,c,u=this._events[o],d=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),d){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,n),!0;case 4:return u.fn.call(u.context,t,n,a),!0;case 5:return u.fn.call(u.context,t,n,a,i),!0;case 6:return u.fn.call(u.context,t,n,a,i,s),!0}for(c=1,l=new Array(d-1);c<d;c++)l[c-1]=arguments[c];u.fn.apply(u.context,l)}else{var h,f=u.length;for(c=0;c<f;c++)switch(u[c].once&&this.removeListener(e,u[c].fn,void 0,!0),d){case 1:u[c].fn.call(u[c].context);break;case 2:u[c].fn.call(u[c].context,t);break;case 3:u[c].fn.call(u[c].context,t,n);break;case 4:u[c].fn.call(u[c].context,t,n,a);break;default:if(!l)for(h=1,l=new Array(d-1);h<d;h++)l[h-1]=arguments[h];u[c].fn.apply(u[c].context,l)}}return!0},o.prototype.on=function(e,t,r){return i(this,e,t,r,!1)},o.prototype.once=function(e,t,r){return i(this,e,t,r,!0)},o.prototype.removeListener=function(e,t,n,a){var i=r?r+e:e;if(!this._events[i])return this;if(!t)return s(this,i),this;var o=this._events[i];if(o.fn)o.fn!==t||a&&!o.once||n&&o.context!==n||s(this,i);else{for(var l=0,c=[],u=o.length;l<u;l++)(o[l].fn!==t||a&&!o[l].once||n&&o[l].context!==n)&&c.push(o[l]);c.length?this._events[i]=1===c.length?c[0]:c:s(this,i)}return this},o.prototype.removeAllListeners=function(e){var t;return e?(t=r?r+e:e,this._events[t]&&s(this,t)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,e.exports=o},8845:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(8268),a=r(3272),i=r(8396),s=r(9323),o=r(5303);t.matchesProperty=function(e,t){switch(typeof e){case"object":Object.is(e?.valueOf(),-0)&&(e="-0");break;case"number":e=a.toKey(e)}return t=i.cloneDeep(t),function(r){const a=s.get(r,e);return void 0===a?o.has(r,e):void 0===t?void 0===a:n.isMatch(a,t)}}},8853:(e,t,r)=>{"use strict";e.exports=r(5896)},9323:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(7260),a=r(2489),i=r(3272),s=r(1444);t.get=function e(t,r,o){if(null==t)return o;switch(typeof r){case"string":{if(n.isUnsafeProperty(r))return o;const i=t[r];return void 0===i?a.isDeepKey(r)?e(t,s.toPath(r),o):o:i}case"number":case"symbol":{"number"===typeof r&&(r=i.toKey(r));const e=t[r];return void 0===e?o:e}default:{if(Array.isArray(r))return function(e,t,r){if(0===t.length)return r;let a=e;for(let i=0;i<t.length;i++){if(null==a)return r;if(n.isUnsafeProperty(t[i]))return r;a=a[t[i]]}if(void 0===a)return r;return a}(t,r,o);if(r=Object.is(r?.valueOf(),-0)?"-0":String(r),n.isUnsafeProperty(r))return o;const e=t[r];return void 0===e?o:e}}}},9330:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(4385),a=r(6443),i=r(5990),s=r(7599),o=r(9972);function l(e,t,r,n,a,i,s){const o=s(e,t,r,n,a,i);if(void 0!==o)return o;if(typeof e===typeof t)switch(typeof e){case"bigint":case"string":case"boolean":case"symbol":case"undefined":case"function":return e===t;case"number":return e===t||Object.is(e,t);case"object":return c(e,t,i,s)}return c(e,t,i,s)}function c(e,t,r,u){if(Object.is(e,t))return!0;let d=i.getTag(e),h=i.getTag(t);if(d===s.argumentsTag&&(d=s.objectTag),h===s.argumentsTag&&(h=s.objectTag),d!==h)return!1;switch(d){case s.stringTag:return e.toString()===t.toString();case s.numberTag:{const r=e.valueOf(),n=t.valueOf();return o.eq(r,n)}case s.booleanTag:case s.dateTag:case s.symbolTag:return Object.is(e.valueOf(),t.valueOf());case s.regexpTag:return e.source===t.source&&e.flags===t.flags;case s.functionTag:return e===t}const f=(r=r??new Map).get(e),p=r.get(t);if(null!=f&&null!=p)return f===t;r.set(e,t),r.set(t,e);try{switch(d){case s.mapTag:if(e.size!==t.size)return!1;for(const[n,a]of e.entries())if(!t.has(n)||!l(a,t.get(n),n,e,t,r,u))return!1;return!0;case s.setTag:{if(e.size!==t.size)return!1;const n=Array.from(e.values()),a=Array.from(t.values());for(let i=0;i<n.length;i++){const s=n[i],o=a.findIndex(n=>l(s,n,void 0,e,t,r,u));if(-1===o)return!1;a.splice(o,1)}return!0}case s.arrayTag:case s.uint8ArrayTag:case s.uint8ClampedArrayTag:case s.uint16ArrayTag:case s.uint32ArrayTag:case s.bigUint64ArrayTag:case s.int8ArrayTag:case s.int16ArrayTag:case s.int32ArrayTag:case s.bigInt64ArrayTag:case s.float32ArrayTag:case s.float64ArrayTag:if("undefined"!==typeof Buffer&&Buffer.isBuffer(e)!==Buffer.isBuffer(t))return!1;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!l(e[n],t[n],n,e,t,r,u))return!1;return!0;case s.arrayBufferTag:return e.byteLength===t.byteLength&&c(new Uint8Array(e),new Uint8Array(t),r,u);case s.dataViewTag:return e.byteLength===t.byteLength&&e.byteOffset===t.byteOffset&&c(new Uint8Array(e),new Uint8Array(t),r,u);case s.errorTag:return e.name===t.name&&e.message===t.message;case s.objectTag:{if(!(c(e.constructor,t.constructor,r,u)||n.isPlainObject(e)&&n.isPlainObject(t)))return!1;const i=[...Object.keys(e),...a.getSymbols(e)],s=[...Object.keys(t),...a.getSymbols(t)];if(i.length!==s.length)return!1;for(let n=0;n<i.length;n++){const a=i[n],s=e[a];if(!Object.hasOwn(t,a))return!1;if(!l(s,t[a],a,e,t,r,u))return!1}return!0}default:return!1}}finally{r.delete(e),r.delete(t)}}t.isEqualWith=function(e,t,r){return l(e,t,void 0,void 0,void 0,void 0,r)}},9397:(e,t,r)=>{e.exports=r(2682).isPlainObject},9461:(e,t,r)=>{"use strict";e.exports=r(2330)},9599:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.identity=function(e){return e}},9645:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(6392),a=r(8346),i=r(1203);t.last=function(e){if(i.isArrayLike(e))return n.last(a.toArray(e))}},9709:(e,t)=>{"use strict";function r(e){return"symbol"===typeof e?1:null===e?2:void 0===e?3:e!==e?4:0}Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});t.compareValues=(e,t,n)=>{if(e!==t){const a=r(e),i=r(t);if(a===i&&0===a){if(e<t)return"desc"===n?1:-1;if(e>t)return"desc"===n?-1:1}return"desc"===n?i-a:a-i}return 0}},9717:(e,t,r)=>{"use strict";var n=r(5043),a=r(9461);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},s=a.useSyncExternalStore,o=n.useRef,l=n.useEffect,c=n.useMemo,u=n.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,r,n,a){var d=o(null);if(null===d.current){var h={hasValue:!1,value:null};d.current=h}else h=d.current;d=c(function(){function e(e){if(!l){if(l=!0,s=e,e=n(e),void 0!==a&&h.hasValue){var t=h.value;if(a(t,e))return o=t}return o=e}if(t=o,i(s,e))return t;var r=n(e);return void 0!==a&&a(t,r)?(s=e,t):(s=e,o=r)}var s,o,l=!1,c=void 0===r?null:r;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]},[t,r,n,a]);var f=s(e,d[0],d[1]);return l(function(){h.hasValue=!0,h.value=f},[f]),u(f),f}},9859:(e,t,r)=>{e.exports=r(7231).range},9921:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isObjectLike=function(e){return"object"===typeof e&&null!==e}},9972:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.eq=function(e,t){return e===t||Number.isNaN(e)&&Number.isNaN(t)}}},t={};function r(n){var a=t[n];if(void 0!==a)return a.exports;var i=t[n]={exports:{}};return e[n].call(i.exports,i,i.exports,r),i.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";var e={};r.r(e),r.d(e,{scaleBand:()=>Vj,scaleDiverging:()=>M_,scaleDivergingLog:()=>R_,scaleDivergingPow:()=>F_,scaleDivergingSqrt:()=>z_,scaleDivergingSymlog:()=>L_,scaleIdentity:()=>CS,scaleImplicit:()=>zj,scaleLinear:()=>_S,scaleLog:()=>FS,scaleOrdinal:()=>Uj,scalePoint:()=>$j,scalePow:()=>WS,scaleQuantile:()=>iE,scaleQuantize:()=>sE,scaleRadial:()=>QS,scaleSequential:()=>__,scaleSequentialLog:()=>C_,scaleSequentialPow:()=>I_,scaleSequentialQuantile:()=>P_,scaleSequentialSqrt:()=>O_,scaleSequentialSymlog:()=>T_,scaleSqrt:()=>GS,scaleSymlog:()=>BS,scaleThreshold:()=>oE,scaleTime:()=>N_,scaleUtc:()=>S_,tickFormat:()=>ES});var t=r(5043),n=r(4391),a="popstate";function i(){return h(function(e,t){let{pathname:r="/",search:n="",hash:a=""}=d(e.location.hash.substring(1));return r.startsWith("/")||r.startsWith(".")||(r="/"+r),c("",{pathname:r,search:n,hash:a},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){let r=e.document.querySelector("base"),n="";if(r&&r.getAttribute("href")){let t=e.location.href,r=t.indexOf("#");n=-1===r?t:t.slice(0,r)}return n+"#"+("string"===typeof t?t:u(t))},function(e,t){o("/"===e.pathname.charAt(0),`relative pathnames are not supported in hash history.push(${JSON.stringify(t)})`)},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function s(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function o(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(r){}}}function l(e,t){return{usr:e.state,key:e.key,idx:t}}function c(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3?arguments[3]:void 0;return{pathname:"string"===typeof e?e:e.pathname,search:"",hash:"",..."string"===typeof t?d(t):t,state:r,key:t&&t.key||n||Math.random().toString(36).substring(2,10)}}function u(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&"?"!==r&&(t+="?"===r.charAt(0)?r:"?"+r),n&&"#"!==n&&(t+="#"===n.charAt(0)?n:"#"+n),t}function d(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function h(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{window:i=document.defaultView,v5Compat:s=!1}=n,o=i.history,u="POP",d=null,h=p();function p(){return(o.state||{idx:null}).idx}function m(){u="POP";let e=p(),t=null==e?null:e-h;h=e,d&&d({action:u,location:y.location,delta:t})}function g(e){return f(e)}null==h&&(h=0,o.replaceState({...o.state,idx:h},""));let y={get action(){return u},get location(){return e(i,o)},listen(e){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(a,m),d=e,()=>{i.removeEventListener(a,m),d=null}},createHref:e=>t(i,e),createURL:g,encodeLocation(e){let t=g(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){u="PUSH";let n=c(y.location,e,t);r&&r(n,e),h=p()+1;let a=l(n,h),f=y.createHref(n);try{o.pushState(a,"",f)}catch(m){if(m instanceof DOMException&&"DataCloneError"===m.name)throw m;i.location.assign(f)}s&&d&&d({action:u,location:y.location,delta:1})},replace:function(e,t){u="REPLACE";let n=c(y.location,e,t);r&&r(n,e),h=p();let a=l(n,h),i=y.createHref(n);o.replaceState(a,"",i),s&&d&&d({action:u,location:y.location,delta:0})},go:e=>o.go(e)};return y}function f(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r="http://localhost";"undefined"!==typeof window&&(r="null"!==window.location.origin?window.location.origin:window.location.href),s(r,"No window.location.(origin|href) available to create URL");let n="string"===typeof e?e:u(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}new WeakMap;function p(e,t){return m(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",!1)}function m(e,t,r,n){let a=T(("string"===typeof t?d(t):t).pathname||"/",r);if(null==a)return null;let i=g(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let r=e.length===t.length&&e.slice(0,-1).every((e,r)=>e===t[r]);return r?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(i);let s=null;for(let o=0;null==s&&o<i.length;++o){let e=C(a);s=E(i[o],e,n)}return s}function g(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",a=(e,a,i)=>{let o={relativePath:void 0===i?e.path||"":i,caseSensitive:!0===e.caseSensitive,childrenIndex:a,route:e};o.relativePath.startsWith("/")&&(s(o.relativePath.startsWith(n),`Absolute route path "${o.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),o.relativePath=o.relativePath.slice(n.length));let l=M([n,o.relativePath]),c=r.concat(o);e.children&&e.children.length>0&&(s(!0!==e.index,`Index routes must not have child routes. Please remove all child routes from route path "${l}".`),g(e.children,t,c,l)),(null!=e.path||e.index)&&t.push({path:l,score:S(l,e.index),routesMeta:c})};return e.forEach((e,t)=>{if(""!==e.path&&e.path?.includes("?"))for(let r of y(e.path))a(e,t,r);else a(e,t)}),t}function y(e){let t=e.split("/");if(0===t.length)return[];let[r,...n]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(0===n.length)return a?[i,""]:[i];let s=y(n.join("/")),o=[];return o.push(...s.map(e=>""===e?i:[i,e].join("/"))),a&&o.push(...s),o.map(t=>e.startsWith("/")&&""===t?"/":t)}var v=/^:[\w-]+$/,x=3,b=2,w=1,k=10,j=-2,N=e=>"*"===e;function S(e,t){let r=e.split("/"),n=r.length;return r.some(N)&&(n+=j),t&&(n+=b),r.filter(e=>!N(e)).reduce((e,t)=>e+(v.test(t)?x:""===t?w:k),n)}function E(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{routesMeta:n}=e,a={},i="/",s=[];for(let o=0;o<n.length;++o){let e=n[o],l=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",u=A({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),d=e.route;if(!u&&l&&r&&!n[n.length-1].route.index&&(u=A({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(a,u.params),s.push({params:a,pathname:M([i,u.pathname]),pathnameBase:R(M([i,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(i=M([i,u.pathnameBase]))}return s}function A(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=_(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],s=i.replace(/(.)\/+$/,"$1"),o=a.slice(1),l=n.reduce((e,t,r)=>{let{paramName:n,isOptional:a}=t;if("*"===n){let e=o[r]||"";s=i.slice(0,i.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[r];return e[n]=a&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{});return{params:l,pathname:i,pathnameBase:s,pattern:e}}function _(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];o("*"===e||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,r)=>(n.push({paramName:t,isOptional:null!=r}),r?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":""!==e&&"/"!==e&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function C(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return o(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function T(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&"/"!==n?null:e.slice(r)||"/"}function I(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function O(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function P(e){let t=O(e);return t.map((e,r)=>r===t.length-1?e.pathname:e.pathnameBase)}function D(e,t,r){let n,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"string"===typeof e?n=d(e):(n={...e},s(!n.pathname||!n.pathname.includes("?"),I("?","pathname","search",n)),s(!n.pathname||!n.pathname.includes("#"),I("#","pathname","hash",n)),s(!n.search||!n.search.includes("#"),I("#","search","hash",n)));let i,o=""===e||""===n.pathname,l=o?"/":n.pathname;if(null==l)i=r;else{let e=t.length-1;if(!a&&l.startsWith("..")){let t=l.split("/");for(;".."===t[0];)t.shift(),e-=1;n.pathname=t.join("/")}i=e>=0?t[e]:"/"}let c=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",{pathname:r,search:n="",hash:a=""}="string"===typeof e?d(e):e,i=r?r.startsWith("/")?r:function(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?r.length>1&&r.pop():"."!==e&&r.push(e)}),r.length>1?r.join("/"):"/"}(r,t):t;return{pathname:i,search:L(n),hash:F(a)}}(n,i),u=l&&"/"!==l&&l.endsWith("/"),h=(o||"."===l)&&r.endsWith("/");return c.pathname.endsWith("/")||!u&&!h||(c.pathname+="/"),c}var M=e=>e.join("/").replace(/\/\/+/g,"/"),R=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),L=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",F=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";function z(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var U=["POST","PUT","PATCH","DELETE"],V=(new Set(U),["GET",...U]);new Set(V),Symbol("ResetLoaderData");var B=t.createContext(null);B.displayName="DataRouter";var $=t.createContext(null);$.displayName="DataRouterState";var H=t.createContext(!1);var q=t.createContext({isTransitioning:!1});q.displayName="ViewTransition";var K=t.createContext(new Map);K.displayName="Fetchers";var W=t.createContext(null);W.displayName="Await";var G=t.createContext(null);G.displayName="Navigation";var Y=t.createContext(null);Y.displayName="Location";var Q=t.createContext({outlet:null,matches:[],isDataRoute:!1});Q.displayName="Route";var X=t.createContext(null);X.displayName="RouteError";function J(){return null!=t.useContext(Y)}function Z(){return s(J(),"useLocation() may be used only in the context of a <Router> component."),t.useContext(Y).location}var ee="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function te(e){t.useContext(G).static||t.useLayoutEffect(e)}function re(){let{isDataRoute:e}=t.useContext(Q);return e?function(){let{router:e}=de("useNavigate"),r=fe("useNavigate"),n=t.useRef(!1);te(()=>{n.current=!0});let a=t.useCallback(async function(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};o(n.current,ee),n.current&&("number"===typeof t?e.navigate(t):await e.navigate(t,{fromRouteId:r,...a}))},[e,r]);return a}():function(){s(J(),"useNavigate() may be used only in the context of a <Router> component.");let e=t.useContext(B),{basename:r,navigator:n}=t.useContext(G),{matches:a}=t.useContext(Q),{pathname:i}=Z(),l=JSON.stringify(P(a)),c=t.useRef(!1);te(()=>{c.current=!0});let u=t.useCallback(function(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(o(c.current,ee),!c.current)return;if("number"===typeof t)return void n.go(t);let s=D(t,JSON.parse(l),i,"path"===a.relative);null==e&&"/"!==r&&(s.pathname="/"===s.pathname?r:M([r,s.pathname])),(a.replace?n.replace:n.push)(s,a.state,a)},[r,n,l,i,e]);return u}()}t.createContext(null);function ne(e){let{relative:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{matches:n}=t.useContext(Q),{pathname:a}=Z(),i=JSON.stringify(P(n));return t.useMemo(()=>D(e,JSON.parse(i),a,"path"===r),[e,i,a,r])}function ae(e,r,n,a){s(J(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=t.useContext(G),{matches:l}=t.useContext(Q),c=l[l.length-1],u=c?c.params:{},h=c?c.pathname:"/",f=c?c.pathnameBase:"/",m=c&&c.route;{let e=m&&m.path||"";ge(h,!m||e.endsWith("*")||e.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${e}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="${e}"> to <Route path="${"/"===e?"*":`${e}/*`}">.`)}let g,y=Z();if(r){let e="string"===typeof r?d(r):r;s("/"===f||e.pathname?.startsWith(f),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${e.pathname}" was given in the \`location\` prop.`),g=e}else g=y;let v=g.pathname||"/",x=v;if("/"!==f){let e=f.replace(/^\//,"").split("/");x="/"+v.replace(/^\//,"").split("/").slice(e.length).join("/")}let b=p(e,{pathname:x});o(m||null!=b,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),o(null==b||void 0!==b[b.length-1].route.element||void 0!==b[b.length-1].route.Component||void 0!==b[b.length-1].route.lazy,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let w=ce(b&&b.map(e=>Object.assign({},e,{params:Object.assign({},u,e.params),pathname:M([f,i.encodeLocation?i.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?f:M([f,i.encodeLocation?i.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),l,n,a);return r&&w?t.createElement(Y.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...g},navigationType:"POP"}},w):w}function ie(){let e=pe(),r=z(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,a="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:a},s={padding:"2px 4px",backgroundColor:a},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=t.createElement(t.Fragment,null,t.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),t.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",t.createElement("code",{style:s},"ErrorBoundary")," or"," ",t.createElement("code",{style:s},"errorElement")," prop on your route.")),t.createElement(t.Fragment,null,t.createElement("h2",null,"Unexpected Application Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},r),n?t.createElement("pre",{style:i},n):null,o)}var se=t.createElement(ie,null),oe=class extends t.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?t.createElement(Q.Provider,{value:this.props.routeContext},t.createElement(X.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function le(e){let{routeContext:r,match:n,children:a}=e,i=t.useContext(B);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),t.createElement(Q.Provider,{value:r},a)}function ce(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(null==e){if(!n)return null;if(n.errors)e=n.matches;else{if(0!==r.length||n.initialized||!(n.matches.length>0))return null;e=n.matches}}let a=e,i=n?.errors;if(null!=i){let e=a.findIndex(e=>e.route.id&&void 0!==i?.[e.route.id]);s(e>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(i).join(",")}`),a=a.slice(0,Math.min(a.length,e+1))}let o=!1,l=-1;if(n)for(let t=0;t<a.length;t++){let e=a[t];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(l=t),e.route.id){let{loaderData:t,errors:r}=n,i=e.route.loader&&!t.hasOwnProperty(e.route.id)&&(!r||void 0===r[e.route.id]);if(e.route.lazy||i){o=!0,a=l>=0?a.slice(0,l+1):[a[0]];break}}}return a.reduceRight((e,s,c)=>{let u,d=!1,h=null,f=null;n&&(u=i&&s.route.id?i[s.route.id]:void 0,h=s.route.errorElement||se,o&&(l<0&&0===c?(ge("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),d=!0,f=null):l===c&&(d=!0,f=s.route.hydrateFallbackElement||null)));let p=r.concat(a.slice(0,c+1)),m=()=>{let r;return r=u?h:d?f:s.route.Component?t.createElement(s.route.Component,null):s.route.element?s.route.element:e,t.createElement(le,{match:s,routeContext:{outlet:e,matches:p,isDataRoute:null!=n},children:r})};return n&&(s.route.ErrorBoundary||s.route.errorElement||0===c)?t.createElement(oe,{location:n.location,revalidation:n.revalidation,component:h,error:u,children:m(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):m()},null)}function ue(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function de(e){let r=t.useContext(B);return s(r,ue(e)),r}function he(e){let r=t.useContext($);return s(r,ue(e)),r}function fe(e){let r=function(e){let r=t.useContext(Q);return s(r,ue(e)),r}(e),n=r.matches[r.matches.length-1];return s(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function pe(){let e=t.useContext(X),r=he("useRouteError"),n=fe("useRouteError");return void 0!==e?e:r.errors?.[n]}var me={};function ge(e,t,r){t||me[e]||(me[e]=!0,o(!1,r))}var ye={};function ve(e,t){e||ye[t]||(ye[t]=!0,console.warn(t))}t.memo(function(e){let{routes:t,future:r,state:n}=e;return ae(t,void 0,n,r)});function xe(e){let{to:r,replace:n,state:a,relative:i}=e;s(J(),"<Navigate> may be used only in the context of a <Router> component.");let{static:l}=t.useContext(G);o(!l,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=t.useContext(Q),{pathname:u}=Z(),d=re(),h=D(r,P(c),u,"path"===i),f=JSON.stringify(h);return t.useEffect(()=>{d(JSON.parse(f),{replace:n,state:a,relative:i})},[d,f,i,n,a]),null}function be(e){s(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function we(e){let{basename:r="/",children:n=null,location:a,navigationType:i="POP",navigator:l,static:c=!1}=e;s(!J(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=r.replace(/^\/*/,"/"),h=t.useMemo(()=>({basename:u,navigator:l,static:c,future:{}}),[u,l,c]);"string"===typeof a&&(a=d(a));let{pathname:f="/",search:p="",hash:m="",state:g=null,key:y="default"}=a,v=t.useMemo(()=>{let e=T(f,u);return null==e?null:{location:{pathname:e,search:p,hash:m,state:g,key:y},navigationType:i}},[u,f,p,m,g,y,i]);return o(null!=v,`<Router basename="${u}"> is not able to match the URL "${f}${p}${m}" because it does not start with the basename, so the <Router> won't render anything.`),null==v?null:t.createElement(G.Provider,{value:h},t.createElement(Y.Provider,{children:n,value:v}))}function ke(e){let{children:t,location:r}=e;return ae(je(t),r)}t.Component;function je(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[];return t.Children.forEach(e,(e,a)=>{if(!t.isValidElement(e))return;let i=[...r,a];if(e.type===t.Fragment)return void n.push.apply(n,je(e.props.children,i));s(e.type===be,`[${"string"===typeof e.type?e.type:e.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),s(!e.props.index||!e.props.children,"An index route cannot have child routes.");let o={id:e.props.id||i.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,hydrateFallbackElement:e.props.hydrateFallbackElement,HydrateFallback:e.props.HydrateFallback,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:!0===e.props.hasErrorBoundary||null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=je(e.props.children,i)),n.push(o)}),n}var Ne="get",Se="application/x-www-form-urlencoded";function Ee(e){return null!=e&&"string"===typeof e.tagName}var Ae=null;var _e=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ce(e){return null==e||_e.has(e)?e:(o(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Se}"`),null)}function Te(e,t){let r,n,a,i,s;if(function(e){return Ee(e)&&"form"===e.tagName.toLowerCase()}(e)){let s=e.getAttribute("action");n=s?T(s,t):null,r=e.getAttribute("method")||Ne,a=Ce(e.getAttribute("enctype"))||Se,i=new FormData(e)}else if(function(e){return Ee(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return Ee(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let s=e.form;if(null==s)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let o=e.getAttribute("formaction")||s.getAttribute("action");if(n=o?T(o,t):null,r=e.getAttribute("formmethod")||s.getAttribute("method")||Ne,a=Ce(e.getAttribute("formenctype"))||Ce(s.getAttribute("enctype"))||Se,i=new FormData(s,e),!function(){if(null===Ae)try{new FormData(document.createElement("form"),0),Ae=!1}catch(e){Ae=!0}return Ae}()){let{name:t,type:r,value:n}=e;if("image"===r){let e=t?`${t}.`:"";i.append(`${e}x`,"0"),i.append(`${e}y`,"0")}else t&&i.append(t,n)}}else{if(Ee(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Ne,n=null,a=Se,s=e}return i&&"text/plain"===a&&(s=i,i=void 0),{action:n,method:r.toLowerCase(),encType:a,formData:i,body:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");"undefined"!==typeof window?window:"undefined"!==typeof globalThis&&globalThis;function Ie(e){return{__html:e}}function Oe(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}Symbol("SingleFetchRedirect");function Pe(e,t,r){let n="string"===typeof e?new URL(e,"undefined"===typeof window?"server://singlefetch/":window.location.origin):e;return"/"===n.pathname?n.pathname=`_root.${r}`:t&&"/"===T(n.pathname,t)?n.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${r}`,n}async function De(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Me(e){return null!=e&&"string"===typeof e.page}function Re(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"===typeof e.imageSrcSet&&"string"===typeof e.imageSizes:"string"===typeof e.rel&&"string"===typeof e.href)}function Le(e,t,r,n,a,i){let s=(e,t)=>!r[t]||e.route.id!==r[t].route.id,o=(e,t)=>r[t].pathname!==e.pathname||r[t].route.path?.endsWith("*")&&r[t].params["*"]!==e.params["*"];return"assets"===i?t.filter((e,t)=>s(e,t)||o(e,t)):"data"===i?t.filter((t,i)=>{let l=n.routes[t.route.id];if(!l||!l.hasLoader)return!1;if(s(t,i)||o(t,i))return!0;if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"===typeof n)return n}return!0}):[]}function Fe(e,t){let{includeHydrateFallback:r}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n=e.map(e=>{let n=t.routes[e.route.id];if(!n)return[];let a=[n.module];return n.clientActionModule&&(a=a.concat(n.clientActionModule)),n.clientLoaderModule&&(a=a.concat(n.clientLoaderModule)),r&&n.hydrateFallbackModule&&(a=a.concat(n.hydrateFallbackModule)),n.imports&&(a=a.concat(n.imports)),a}).flat(1),[...new Set(n)];var n}function ze(e,t){let r=new Set,n=new Set(t);return e.reduce((e,a)=>{if(t&&!Me(a)&&"script"===a.as&&a.href&&n.has(a.href))return e;let i=JSON.stringify(function(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}(a));return r.has(i)||(r.add(i),e.push({key:i,link:a})),e},[])}function Ue(e,t){return"lazy"===e.mode&&!0===t}function Ve(){let e=t.useContext(B);return Oe(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function Be(){let e=t.useContext($);return Oe(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var $e=t.createContext(void 0);function He(){let e=t.useContext($e);return Oe(e,"You must render this element inside a <HydratedRouter> element"),e}function qe(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function Ke(e,t,r){if(r&&!Qe)return[e[0]];if(t){let r=e.findIndex(e=>void 0!==t[e.route.id]);return e.slice(0,r+1)}return e}$e.displayName="FrameworkContext";function We(e){let{page:r,...n}=e,{router:a}=Ve(),i=t.useMemo(()=>p(a.routes,r,a.basename),[a.routes,r,a.basename]);return i?t.createElement(Ye,{page:r,matches:i,...n}):null}function Ge(e){let{manifest:r,routeModules:n}=He(),[a,i]=t.useState([]);return t.useEffect(()=>{let t=!1;return async function(e,t,r){return ze((await Promise.all(e.map(async e=>{let n=t.routes[e.route.id];if(n){let e=await De(n,r);return e.links?e.links():[]}return[]}))).flat(1).filter(Re).filter(e=>"stylesheet"===e.rel||"preload"===e.rel).map(e=>"stylesheet"===e.rel?{...e,rel:"prefetch",as:"style"}:{...e,rel:"prefetch"}))}(e,r,n).then(e=>{t||i(e)}),()=>{t=!0}},[e,r,n]),a}function Ye(e){let{page:r,matches:n,...a}=e,i=Z(),{manifest:s,routeModules:o}=He(),{basename:l}=Ve(),{loaderData:c,matches:u}=Be(),d=t.useMemo(()=>Le(r,n,u,s,i,"data"),[r,n,u,s,i]),h=t.useMemo(()=>Le(r,n,u,s,i,"assets"),[r,n,u,s,i]),f=t.useMemo(()=>{if(r===i.pathname+i.search+i.hash)return[];let e=new Set,t=!1;if(n.forEach(r=>{let n=s.routes[r.route.id];n&&n.hasLoader&&(!d.some(e=>e.route.id===r.route.id)&&r.route.id in c&&o[r.route.id]?.shouldRevalidate||n.hasClientLoader?t=!0:e.add(r.route.id))}),0===e.size)return[];let a=Pe(r,l,"data");return t&&e.size>0&&a.searchParams.set("_routes",n.filter(t=>e.has(t.route.id)).map(e=>e.route.id).join(",")),[a.pathname+a.search]},[l,c,i,s,d,n,r,o]),p=t.useMemo(()=>Fe(h,s),[h,s]),m=Ge(h);return t.createElement(t.Fragment,null,f.map(e=>t.createElement("link",{key:e,rel:"prefetch",as:"fetch",href:e,...a})),p.map(e=>t.createElement("link",{key:e,rel:"modulepreload",href:e,...a})),m.map(e=>{let{key:r,link:n}=e;return t.createElement("link",{key:r,...n})}))}var Qe=!1;function Xe(e){let{manifest:r,serverHandoffString:n,isSpaMode:a,renderMeta:i,routeDiscovery:s,ssr:o}=He(),{router:l,static:c,staticContext:u}=Ve(),{matches:d}=Be(),h=t.useContext(H),f=Ue(s,o);i&&(i.didRenderScripts=!0);let m=Ke(d,null,a);t.useEffect(()=>{0},[]);let g=t.useMemo(()=>{if(h)return null;let a=u?`window.__reactRouterContext = ${n};window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());`:" ",i=c?`${r.hmr?.runtime?`import ${JSON.stringify(r.hmr.runtime)};`:""}${f?"":`import ${JSON.stringify(r.url)}`};\n${m.map((e,t)=>{let n=`route${t}`,a=r.routes[e.route.id];Oe(a,`Route ${e.route.id} not found in manifest`);let{clientActionModule:i,clientLoaderModule:s,clientMiddlewareModule:o,hydrateFallbackModule:l,module:c}=a,u=[...i?[{module:i,varName:`${n}_clientAction`}]:[],...s?[{module:s,varName:`${n}_clientLoader`}]:[],...o?[{module:o,varName:`${n}_clientMiddleware`}]:[],...l?[{module:l,varName:`${n}_HydrateFallback`}]:[],{module:c,varName:`${n}_main`}];return 1===u.length?`import * as ${n} from ${JSON.stringify(c)};`:[u.map(e=>`import * as ${e.varName} from "${e.module}";`).join("\n"),`const ${n} = {${u.map(e=>`...${e.varName}`).join(",")}};`].join("\n")}).join("\n")}\n  ${f?`window.__reactRouterManifest = ${JSON.stringify(function(e,t){let{sri:r,...n}=e,a=new Set(t.state.matches.map(e=>e.route.id)),i=t.state.location.pathname.split("/").filter(Boolean),s=["/"];for(i.pop();i.length>0;)s.push(`/${i.join("/")}`),i.pop();s.forEach(e=>{let r=p(t.routes,e,t.basename);r&&r.forEach(e=>a.add(e.route.id))});let o=[...a].reduce((e,t)=>Object.assign(e,{[t]:n.routes[t]}),{});return{...n,routes:o,sri:!!r||void 0}}(r,l),null,2)};`:""}\n  window.__reactRouterRouteModules = {${m.map((e,t)=>`${JSON.stringify(e.route.id)}:route${t}`).join(",")}};\n\nimport(${JSON.stringify(r.entry.module)});`:" ";return t.createElement(t.Fragment,null,t.createElement("script",{...e,suppressHydrationWarning:!0,dangerouslySetInnerHTML:Ie(a),type:void 0}),t.createElement("script",{...e,suppressHydrationWarning:!0,dangerouslySetInnerHTML:Ie(i),type:"module",async:!0}))},[]),y=Qe||h?[]:function(e){return[...new Set(e)]}(r.entry.imports.concat(Fe(m,r,{includeHydrateFallback:!0}))),v="object"===typeof r.sri?r.sri:{};return ve(!h,"The <Scripts /> element is a no-op when using RSC and can be safely removed."),Qe||h?null:t.createElement(t.Fragment,null,"object"===typeof r.sri?t.createElement("script",{"rr-importmap":"",type:"importmap",suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:JSON.stringify({integrity:v})}}):null,f?null:t.createElement("link",{rel:"modulepreload",href:r.url,crossOrigin:e.crossOrigin,integrity:v[r.url],suppressHydrationWarning:!0}),t.createElement("link",{rel:"modulepreload",href:r.entry.module,crossOrigin:e.crossOrigin,integrity:v[r.entry.module],suppressHydrationWarning:!0}),y.map(r=>t.createElement("link",{key:r,rel:"modulepreload",href:r,crossOrigin:e.crossOrigin,integrity:v[r],suppressHydrationWarning:!0})),g)}function Je(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return e=>{t.forEach(t=>{"function"===typeof t?t(e):null!=t&&(t.current=e)})}}t.Component;function Ze(e){let{error:r,isOutsideRemixApp:n}=e;console.error(r);let a,i=t.createElement("script",{dangerouslySetInnerHTML:{__html:'\n        console.log(\n          "\ud83d\udcbf Hey developer \ud83d\udc4b. You can provide a way better UX than this when your app throws errors. Check out https://reactrouter.com/how-to/error-boundary for more information."\n        );\n      '}});if(z(r))return t.createElement(et,{title:"Unhandled Thrown Response!"},t.createElement("h1",{style:{fontSize:"24px"}},r.status," ",r.statusText),i);if(r instanceof Error)0;else{let e=null==r?"Unknown Error":"object"===typeof r&&"toString"in r?r.toString():JSON.stringify(r);new Error(e)}return t.createElement(et,{title:"Application Error!",isOutsideRemixApp:n},t.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),t.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},a.stack),i)}function et(e){let{title:r,renderScripts:n,isOutsideRemixApp:a,children:i}=e,{routeModules:s}=He();return s.root?.Layout&&!a?i:t.createElement("html",{lang:"en"},t.createElement("head",null,t.createElement("meta",{charSet:"utf-8"}),t.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),t.createElement("title",null,r)),t.createElement("body",null,t.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},i,n?t.createElement(Xe,null):null)))}var tt="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;try{tt&&(window.__reactRouterVersion="7.7.0")}catch(bq){}function rt(e){let{basename:r,children:n,window:a}=e,s=t.useRef();null==s.current&&(s.current=i({window:a,v5Compat:!0}));let o=s.current,[l,c]=t.useState({action:o.action,location:o.location}),u=t.useCallback(e=>{t.startTransition(()=>c(e))},[c]);return t.useLayoutEffect(()=>o.listen(u),[o,u]),t.createElement(we,{basename:r,children:n,location:l.location,navigationType:l.action,navigator:o})}var nt=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,at=t.forwardRef(function(e,r){let n,{onClick:a,discover:i="render",prefetch:l="none",relative:c,reloadDocument:d,replace:h,state:f,target:p,to:m,preventScrollReset:g,viewTransition:y,...v}=e,{basename:x}=t.useContext(G),b="string"===typeof m&&nt.test(m),w=!1;if("string"===typeof m&&b&&(n=m,tt))try{let e=new URL(window.location.href),t=m.startsWith("//")?new URL(e.protocol+m):new URL(m),r=T(t.pathname,x);t.origin===e.origin&&null!=r?m=r+t.search+t.hash:w=!0}catch(bq){o(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let k=function(e){let{relative:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};s(J(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:a}=t.useContext(G),{hash:i,pathname:o,search:l}=ne(e,{relative:r}),c=o;return"/"!==n&&(c="/"===o?n:M([n,o])),a.createHref({pathname:c,search:l,hash:i})}(m,{relative:c}),[j,N,S]=function(e,r){let n=t.useContext($e),[a,i]=t.useState(!1),[s,o]=t.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:h}=r,f=t.useRef(null);t.useEffect(()=>{if("render"===e&&o(!0),"viewport"===e){let e=new IntersectionObserver(e=>{e.forEach(e=>{o(e.isIntersecting)})},{threshold:.5});return f.current&&e.observe(f.current),()=>{e.disconnect()}}},[e]),t.useEffect(()=>{if(a){let e=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(e)}}},[a]);let p=()=>{i(!0)},m=()=>{i(!1),o(!1)};return n?"intent"!==e?[s,f,{}]:[s,f,{onFocus:qe(l,p),onBlur:qe(c,m),onMouseEnter:qe(u,p),onMouseLeave:qe(d,m),onTouchStart:qe(h,p)}]:[!1,f,{}]}(l,v),E=function(e){let{target:r,replace:n,state:a,preventScrollReset:i,relative:s,viewTransition:o}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=re(),c=Z(),d=ne(e,{relative:s});return t.useCallback(t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,r)){t.preventDefault();let r=void 0!==n?n:u(c)===u(d);l(e,{replace:r,state:a,preventScrollReset:i,relative:s,viewTransition:o})}},[c,l,d,n,a,r,e,i,s,o])}(m,{replace:h,state:f,target:p,preventScrollReset:g,relative:c,viewTransition:y});let A=t.createElement("a",{...v,...S,href:n||k,onClick:w||d?a:function(e){a&&a(e),e.defaultPrevented||E(e)},ref:Je(r,N),target:p,"data-discover":b||"render"!==i?void 0:"true"});return j&&!b?t.createElement(t.Fragment,null,A,t.createElement(We,{page:k})):A});at.displayName="Link";var it=t.forwardRef(function(e,r){let{"aria-current":n="page",caseSensitive:a=!1,className:i="",end:o=!1,style:l,to:c,viewTransition:u,children:d,...h}=e,f=ne(c,{relative:h.relative}),p=Z(),m=t.useContext($),{navigator:g,basename:y}=t.useContext(G),v=null!=m&&function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.useContext(q);s(null!=n,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=lt("useViewTransitionState"),i=ne(e,{relative:r.relative});if(!n.isTransitioning)return!1;let o=T(n.currentLocation.pathname,a)||n.currentLocation.pathname,l=T(n.nextLocation.pathname,a)||n.nextLocation.pathname;return null!=A(i.pathname,l)||null!=A(i.pathname,o)}(f)&&!0===u,x=g.encodeLocation?g.encodeLocation(f).pathname:f.pathname,b=p.pathname,w=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;a||(b=b.toLowerCase(),w=w?w.toLowerCase():null,x=x.toLowerCase()),w&&y&&(w=T(w,y)||w);const k="/"!==x&&x.endsWith("/")?x.length-1:x.length;let j,N=b===x||!o&&b.startsWith(x)&&"/"===b.charAt(k),S=null!=w&&(w===x||!o&&w.startsWith(x)&&"/"===w.charAt(x.length)),E={isActive:N,isPending:S,isTransitioning:v},_=N?n:void 0;j="function"===typeof i?i(E):[i,N?"active":null,S?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let C="function"===typeof l?l(E):l;return t.createElement(at,{...h,"aria-current":_,className:j,ref:r,style:C,to:c,viewTransition:u},"function"===typeof d?d(E):d)});it.displayName="NavLink";var st=t.forwardRef((e,r)=>{let{discover:n="render",fetcherKey:a,navigate:i,reloadDocument:o,replace:l,state:c,method:d=Ne,action:h,onSubmit:f,relative:p,preventScrollReset:m,viewTransition:g,...y}=e,v=dt(),x=function(e){let{relative:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{basename:n}=t.useContext(G),a=t.useContext(Q);s(a,"useFormAction must be used inside a RouteContext");let[i]=a.matches.slice(-1),o={...ne(e||".",{relative:r})},l=Z();if(null==e){o.search=l.search;let e=new URLSearchParams(o.search),t=e.getAll("index");if(t.some(e=>""===e)){e.delete("index"),t.filter(e=>e).forEach(t=>e.append("index",t));let r=e.toString();o.search=r?`?${r}`:""}}e&&"."!==e||!i.route.index||(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index");"/"!==n&&(o.pathname="/"===o.pathname?n:M([n,o.pathname]));return u(o)}(h,{relative:p}),b="get"===d.toLowerCase()?"get":"post",w="string"===typeof h&&nt.test(h);return t.createElement("form",{ref:r,method:b,action:x,onSubmit:o?f:e=>{if(f&&f(e),e.defaultPrevented)return;e.preventDefault();let t=e.nativeEvent.submitter,r=t?.getAttribute("formmethod")||d;v(t||e.currentTarget,{fetcherKey:a,method:r,navigate:i,replace:l,state:c,relative:p,preventScrollReset:m,viewTransition:g})},...y,"data-discover":w||"render"!==n?void 0:"true"})});function ot(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function lt(e){let r=t.useContext(B);return s(r,ot(e)),r}st.displayName="Form";var ct=0,ut=()=>`__${String(++ct)}__`;function dt(){let{router:e}=lt("useSubmit"),{basename:r}=t.useContext(G),n=fe("useRouteId");return t.useCallback(async function(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{action:i,method:s,encType:o,formData:l,body:c}=Te(t,r);if(!1===a.navigate){let t=a.fetcherKey||ut();await e.fetch(t,n,a.action||i,{preventScrollReset:a.preventScrollReset,formData:l,body:c,formMethod:a.method||s,formEncType:a.encType||o,flushSync:a.flushSync})}else await e.navigate(a.action||i,{preventScrollReset:a.preventScrollReset,formData:l,body:c,formMethod:a.method||s,formEncType:a.encType||o,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[e,r,n])}const ht=function(e){const t=[];let r=0;for(let n=0;n<e.length;n++){let a=e.charCodeAt(n);a<128?t[r++]=a:a<2048?(t[r++]=a>>6|192,t[r++]=63&a|128):55296===(64512&a)&&n+1<e.length&&56320===(64512&e.charCodeAt(n+1))?(a=65536+((1023&a)<<10)+(1023&e.charCodeAt(++n)),t[r++]=a>>18|240,t[r++]=a>>12&63|128,t[r++]=a>>6&63|128,t[r++]=63&a|128):(t[r++]=a>>12|224,t[r++]=a>>6&63|128,t[r++]=63&a|128)}return t},ft={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let a=0;a<e.length;a+=3){const t=e[a],i=a+1<e.length,s=i?e[a+1]:0,o=a+2<e.length,l=o?e[a+2]:0,c=t>>2,u=(3&t)<<4|s>>4;let d=(15&s)<<2|l>>6,h=63&l;o||(h=64,i||(d=64)),n.push(r[c],r[u],r[d],r[h])}return n.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(ht(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let r=0,n=0;for(;r<e.length;){const a=e[r++];if(a<128)t[n++]=String.fromCharCode(a);else if(a>191&&a<224){const i=e[r++];t[n++]=String.fromCharCode((31&a)<<6|63&i)}else if(a>239&&a<365){const i=((7&a)<<18|(63&e[r++])<<12|(63&e[r++])<<6|63&e[r++])-65536;t[n++]=String.fromCharCode(55296+(i>>10)),t[n++]=String.fromCharCode(56320+(1023&i))}else{const i=e[r++],s=e[r++];t[n++]=String.fromCharCode((15&a)<<12|(63&i)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const r=t?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let a=0;a<e.length;){const t=r[e.charAt(a++)],i=a<e.length?r[e.charAt(a)]:0;++a;const s=a<e.length?r[e.charAt(a)]:64;++a;const o=a<e.length?r[e.charAt(a)]:64;if(++a,null==t||null==i||null==s||null==o)throw new pt;const l=t<<2|i>>4;if(n.push(l),64!==s){const e=i<<4&240|s>>2;if(n.push(e),64!==o){const e=s<<6&192|o;n.push(e)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class pt extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const mt=function(e){return function(e){const t=ht(e);return ft.encodeByteArray(t,!0)}(e).replace(/\./g,"")},gt=function(e){try{return ft.decodeString(e,!0)}catch(bq){console.error("base64Decode failed: ",bq)}return null};function yt(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof r.g)return r.g;throw new Error("Unable to locate global object.")}const vt=()=>{try{return yt().__FIREBASE_DEFAULTS__||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"/pesa",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyARjanzH8bylb2FsQdz60yI2hs8ud-yqwc",REACT_APP_FIREBASE_APP_ID:"1:499758129287:web:d8764dc451a1e1c6941822",REACT_APP_FIREBASE_AUTH_DOMAIN:"budget-backend-09.firebaseapp.com",REACT_APP_FIREBASE_MEASUREMENT_ID:"G-HBS9QEKQZ8",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"499758129287",REACT_APP_FIREBASE_PROJECT_ID:"budget-backend-09",REACT_APP_FIREBASE_STORAGE_BUCKET:"budget-backend-09.firebasestorage.app"}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(bq){return}const t=e&&gt(e[1]);return t&&JSON.parse(t)})()}catch(bq){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${bq}`)}},xt=e=>vt()?.emulatorHosts?.[e],bt=()=>vt()?.config,wt=e=>vt()?.[`_${e}`];class kt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),"function"===typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,r))}}}function jt(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Nt(e){return(await fetch(e,{credentials:"include"})).ok}const St={};let Et=!1;function At(e,t){if("undefined"===typeof window||"undefined"===typeof document||!jt(window.location.host)||St[e]===t||St[e]||Et)return;function r(e){return`__firebase__banner__${e}`}St[e]=t;const n="__firebase__banner",a=function(){const e={prod:[],emulator:[]};for(const t of Object.keys(St))St[t]?e.emulator.push(t):e.prod.push(t);return e}().prod.length>0;function i(){const e=document.createElement("span");return e.style.cursor="pointer",e.style.marginLeft="16px",e.style.fontSize="24px",e.innerHTML=" &times;",e.onclick=()=>{Et=!0,function(){const e=document.getElementById(n);e&&e.remove()}()},e}function s(){const e=function(e){let t=document.getElementById(e),r=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),r=!0),{created:r,element:t}}(n),t=r("text"),s=document.getElementById(t)||document.createElement("span"),o=r("learnmore"),l=document.getElementById(o)||document.createElement("a"),c=r("preprendIcon"),u=document.getElementById(c)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(e.created){const t=e.element;!function(e){e.style.display="flex",e.style.background="#7faaf0",e.style.position="fixed",e.style.bottom="5px",e.style.left="5px",e.style.padding=".5em",e.style.borderRadius="5px",e.style.alignItems="center"}(t),function(e,t){e.setAttribute("id",t),e.innerText="Learn more",e.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",e.setAttribute("target","__blank"),e.style.paddingLeft="5px",e.style.textDecoration="underline"}(l,o);const r=i();!function(e,t){e.setAttribute("width","24"),e.setAttribute("id",t),e.setAttribute("height","24"),e.setAttribute("viewBox","0 0 24 24"),e.setAttribute("fill","none"),e.style.marginLeft="-6px"}(u,c),t.append(u,s,l,r),document.body.appendChild(t)}a?(s.innerText="Preview backend disconnected.",u.innerHTML='<g clip-path="url(#clip0_6013_33858)">\n<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6013_33858">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>'):(u.innerHTML='<g clip-path="url(#clip0_6083_34804)">\n<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6083_34804">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>',s.innerText="Preview backend running in this workspace."),s.setAttribute("id",t)}"loading"===document.readyState?window.addEventListener("DOMContentLoaded",s):s()}function _t(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Ct(){const e=vt()?.forceEnvironment;if("node"===e)return!0;if("browser"===e)return!1;try{return"[object process]"===Object.prototype.toString.call(r.g.process)}catch(bq){return!1}}function Tt(){return!Ct()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function It(){try{return"object"===typeof indexedDB}catch(bq){return!1}}class Ot extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,Ot.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Pt.prototype.create)}}class Pt{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},r=`${this.service}/${e}`,n=this.errors[e],a=n?function(e,t){return e.replace(Dt,(e,r)=>{const n=t[r];return null!=n?String(n):`<${r}?>`})}(n,t):"Error",i=`${this.serviceName}: ${a} (${r}).`;return new Ot(r,i,t)}}const Dt=/\{\$([^}]+)}/g;function Mt(e,t){if(e===t)return!0;const r=Object.keys(e),n=Object.keys(t);for(const a of r){if(!n.includes(a))return!1;const r=e[a],i=t[a];if(Rt(r)&&Rt(i)){if(!Mt(r,i))return!1}else if(r!==i)return!1}for(const a of n)if(!r.includes(a))return!1;return!0}function Rt(e){return null!==e&&"object"===typeof e}function Lt(e){const t=[];for(const[r,n]of Object.entries(e))Array.isArray(n)?n.forEach(e=>{t.push(encodeURIComponent(r)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return t.length?"&"+t.join("&"):""}function Ft(e){const t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){const[r,n]=e.split("=");t[decodeURIComponent(r)]=decodeURIComponent(n)}}),t}function zt(e){const t=e.indexOf("?");if(!t)return"";const r=e.indexOf("#",t);return e.substring(t,r>0?r:void 0)}class Ut{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let n;if(void 0===e&&void 0===t&&void 0===r)throw new Error("Missing Observer.");n=function(e,t){if("object"!==typeof e||null===e)return!1;for(const r of t)if(r in e&&"function"===typeof e[r])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:r},void 0===n.next&&(n.next=Vt),void 0===n.error&&(n.error=Vt),void 0===n.complete&&(n.complete=Vt);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?n.error(this.finalError):n.complete()}catch(bq){}}),this.observers.push(n),a}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(bq){"undefined"!==typeof console&&console.error&&console.error(bq)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Vt(){}function Bt(e){return e&&e._delegate?e._delegate:e}class $t{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ht="[DEFAULT]";class qt{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new kt;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:t});r&&e.resolve(r)}catch(bq){}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(!this.isInitialized(t)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:t})}catch(bq){if(r)return null;throw bq}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Ht})}catch(bq){}for(const[e,t]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});t.resolve(e)}catch(bq){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ht;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ht;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ht;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const n=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[a,i]of this.instancesDeferred.entries()){r===this.normalizeInstanceIdentifier(a)&&i.resolve(n)}return n}onInit(e,t){const r=this.normalizeInstanceIdentifier(t),n=this.onInitCallbacks.get(r)??new Set;n.add(e),this.onInitCallbacks.set(r,n);const a=this.instances.get(r);return a&&e(a,r),()=>{n.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const n of r)try{n(e,t)}catch{}}getOrInitializeService(e){let{instanceIdentifier:t,options:r={}}=e,n=this.instances.get(t);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:(a=t,a===Ht?void 0:a),options:r}),this.instances.set(t,n),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(n,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,n)}catch{}var a;return n||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ht;return this.component?this.component.multipleInstances?e:Ht:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Kt{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new qt(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const Wt=[];var Gt;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Gt||(Gt={}));const Yt={debug:Gt.DEBUG,verbose:Gt.VERBOSE,info:Gt.INFO,warn:Gt.WARN,error:Gt.ERROR,silent:Gt.SILENT},Qt=Gt.INFO,Xt={[Gt.DEBUG]:"log",[Gt.VERBOSE]:"log",[Gt.INFO]:"info",[Gt.WARN]:"warn",[Gt.ERROR]:"error"},Jt=function(e,t){if(t<e.logLevel)return;const r=(new Date).toISOString(),n=Xt[t];if(!n)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);for(var a=arguments.length,i=new Array(a>2?a-2:0),s=2;s<a;s++)i[s-2]=arguments[s];console[n](`[${r}]  ${e.name}:`,...i)};class Zt{constructor(e){this.name=e,this._logLevel=Qt,this._logHandler=Jt,this._userLogHandler=null,Wt.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Gt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?Yt[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this._userLogHandler&&this._userLogHandler(this,Gt.DEBUG,...t),this._logHandler(this,Gt.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this._userLogHandler&&this._userLogHandler(this,Gt.VERBOSE,...t),this._logHandler(this,Gt.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this._userLogHandler&&this._userLogHandler(this,Gt.INFO,...t),this._logHandler(this,Gt.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this._userLogHandler&&this._userLogHandler(this,Gt.WARN,...t),this._logHandler(this,Gt.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this._userLogHandler&&this._userLogHandler(this,Gt.ERROR,...t),this._logHandler(this,Gt.ERROR,...t)}}let er,tr;const rr=new WeakMap,nr=new WeakMap,ar=new WeakMap,ir=new WeakMap,sr=new WeakMap;let or={get(e,t,r){if(e instanceof IDBTransaction){if("done"===t)return nr.get(e);if("objectStoreNames"===t)return e.objectStoreNames||ar.get(e);if("store"===t)return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return ur(e[t])},set:(e,t,r)=>(e[t]=r,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function lr(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(tr||(tr=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return e.apply(dr(this),r),ur(rr.get(this))}:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return ur(e.apply(dr(this),r))}:function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];const i=e.call(dr(this),t,...n);return ar.set(i,t.sort?t.sort():[t]),ur(i)}}function cr(e){return"function"===typeof e?lr(e):(e instanceof IDBTransaction&&function(e){if(nr.has(e))return;const t=new Promise((t,r)=>{const n=()=>{e.removeEventListener("complete",a),e.removeEventListener("error",i),e.removeEventListener("abort",i)},a=()=>{t(),n()},i=()=>{r(e.error||new DOMException("AbortError","AbortError")),n()};e.addEventListener("complete",a),e.addEventListener("error",i),e.addEventListener("abort",i)});nr.set(e,t)}(e),((e,t)=>t.some(t=>e instanceof t))(e,er||(er=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,or):e)}function ur(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,r)=>{const n=()=>{e.removeEventListener("success",a),e.removeEventListener("error",i)},a=()=>{t(ur(e.result)),n()},i=()=>{r(e.error),n()};e.addEventListener("success",a),e.addEventListener("error",i)});return t.then(t=>{t instanceof IDBCursor&&rr.set(t,e)}).catch(()=>{}),sr.set(t,e),t}(e);if(ir.has(e))return ir.get(e);const t=cr(e);return t!==e&&(ir.set(e,t),sr.set(t,e)),t}const dr=e=>sr.get(e);const hr=["get","getKey","getAll","getAllKeys","count"],fr=["put","add","delete","clear"],pr=new Map;function mr(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(pr.get(t))return pr.get(t);const r=t.replace(/FromIndex$/,""),n=t!==r,a=fr.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!a&&!hr.includes(r))return;const i=async function(e){const t=this.transaction(e,a?"readwrite":"readonly");let i=t.store;for(var s=arguments.length,o=new Array(s>1?s-1:0),l=1;l<s;l++)o[l-1]=arguments[l];return n&&(i=i.index(o.shift())),(await Promise.all([i[r](...o),a&&t.done]))[0]};return pr.set(t,i),i}or=(e=>({...e,get:(t,r,n)=>mr(t,r)||e.get(t,r,n),has:(t,r)=>!!mr(t,r)||e.has(t,r)}))(or);class gr{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===t?.type}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null}).filter(e=>e).join(" ")}}const yr="@firebase/app",vr="0.14.0",xr=new Zt("@firebase/app"),br="@firebase/app-compat",wr="@firebase/analytics-compat",kr="@firebase/analytics",jr="@firebase/app-check-compat",Nr="@firebase/app-check",Sr="@firebase/auth",Er="@firebase/auth-compat",Ar="@firebase/database",_r="@firebase/data-connect",Cr="@firebase/database-compat",Tr="@firebase/functions",Ir="@firebase/functions-compat",Or="@firebase/installations",Pr="@firebase/installations-compat",Dr="@firebase/messaging",Mr="@firebase/messaging-compat",Rr="@firebase/performance",Lr="@firebase/performance-compat",Fr="@firebase/remote-config",zr="@firebase/remote-config-compat",Ur="@firebase/storage",Vr="@firebase/storage-compat",Br="@firebase/firestore",$r="@firebase/ai",Hr="@firebase/firestore-compat",qr="firebase",Kr="[DEFAULT]",Wr={[yr]:"fire-core",[br]:"fire-core-compat",[kr]:"fire-analytics",[wr]:"fire-analytics-compat",[Nr]:"fire-app-check",[jr]:"fire-app-check-compat",[Sr]:"fire-auth",[Er]:"fire-auth-compat",[Ar]:"fire-rtdb",[_r]:"fire-data-connect",[Cr]:"fire-rtdb-compat",[Tr]:"fire-fn",[Ir]:"fire-fn-compat",[Or]:"fire-iid",[Pr]:"fire-iid-compat",[Dr]:"fire-fcm",[Mr]:"fire-fcm-compat",[Rr]:"fire-perf",[Lr]:"fire-perf-compat",[Fr]:"fire-rc",[zr]:"fire-rc-compat",[Ur]:"fire-gcs",[Vr]:"fire-gcs-compat",[Br]:"fire-fst",[Hr]:"fire-fst-compat",[$r]:"fire-vertex","fire-js":"fire-js",[qr]:"fire-js-all"},Gr=new Map,Yr=new Map,Qr=new Map;function Xr(e,t){try{e.container.addComponent(t)}catch(bq){xr.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,bq)}}function Jr(e){const t=e.name;if(Qr.has(t))return xr.debug(`There were multiple attempts to register component ${t}.`),!1;Qr.set(t,e);for(const r of Gr.values())Xr(r,e);for(const r of Yr.values())Xr(r,e);return!0}function Zr(e,t){const r=e.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),e.container.getProvider(t)}function en(e){return null!==e&&void 0!==e&&void 0!==e.settings}const tn=new Pt("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class rn{constructor(e,t,r){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new $t("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw tn.create("app-deleted",{appName:this._name})}}const nn="12.0.0";function an(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e;if("object"!==typeof t){t={name:t}}const n={name:Kr,automaticDataCollectionEnabled:!0,...t},a=n.name;if("string"!==typeof a||!a)throw tn.create("bad-app-name",{appName:String(a)});if(r||(r=bt()),!r)throw tn.create("no-options");const i=Gr.get(a);if(i){if(Mt(r,i.options)&&Mt(n,i.config))return i;throw tn.create("duplicate-app",{appName:a})}const s=new Kt(a);for(const l of Qr.values())s.addComponent(l);const o=new rn(r,n,s);return Gr.set(a,o),o}function sn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kr;const t=Gr.get(e);if(!t&&e===Kr&&bt())return an();if(!t)throw tn.create("no-app",{appName:e});return t}function on(e,t,r){let n=Wr[e]??e;r&&(n+=`-${r}`);const a=n.match(/\s|\//),i=t.match(/\s|\//);if(a||i){const e=[`Unable to register library "${n}" with version "${t}":`];return a&&e.push(`library name "${n}" contains illegal characters (whitespace or "/")`),a&&i&&e.push("and"),i&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void xr.warn(e.join(" "))}Jr(new $t(`${n}-version`,()=>({library:n,version:t}),"VERSION"))}const ln="firebase-heartbeat-store";let cn=null;function un(){return cn||(cn=function(e,t){let{blocked:r,upgrade:n,blocking:a,terminated:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=indexedDB.open(e,t),o=ur(s);return n&&s.addEventListener("upgradeneeded",e=>{n(ur(s.result),e.oldVersion,e.newVersion,ur(s.transaction),e)}),r&&s.addEventListener("blocked",e=>r(e.oldVersion,e.newVersion,e)),o.then(e=>{i&&e.addEventListener("close",()=>i()),a&&e.addEventListener("versionchange",e=>a(e.oldVersion,e.newVersion,e))}).catch(()=>{}),o}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(ln)}catch(bq){console.warn(bq)}}}).catch(e=>{throw tn.create("idb-open",{originalErrorMessage:e.message})})),cn}async function dn(e,t){try{const r=(await un()).transaction(ln,"readwrite"),n=r.objectStore(ln);await n.put(t,hn(e)),await r.done}catch(bq){if(bq instanceof Ot)xr.warn(bq.message);else{const t=tn.create("idb-set",{originalErrorMessage:bq?.message});xr.warn(t.message)}}}function hn(e){return`${e.name}!${e.options.appId}`}class fn{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new mn(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){try{const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),t=pn();if(null==this._heartbeatsCache?.heartbeats&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==this._heartbeatsCache?.heartbeats))return;if(this._heartbeatsCache.lastSentHeartbeatDate===t||this._heartbeatsCache.heartbeats.some(e=>e.date===t))return;if(this._heartbeatsCache.heartbeats.push({date:t,agent:e}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,r=e[0].date;for(let n=1;n<e.length;n++)e[n].date<r&&(r=e[n].date,t=n);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(bq){xr.warn(bq)}}async getHeartbeatsHeader(){try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==this._heartbeatsCache?.heartbeats||0===this._heartbeatsCache.heartbeats.length)return"";const e=pn(),{heartbeatsToSend:t,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const r=[];let n=e.slice();for(const a of e){const e=r.find(e=>e.agent===a.agent);if(e){if(e.dates.push(a.date),gn(r)>t){e.dates.pop();break}}else if(r.push({agent:a.agent,dates:[a.date]}),gn(r)>t){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}(this._heartbeatsCache.heartbeats),n=mt(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),n}catch(bq){return xr.warn(bq),""}}}function pn(){return(new Date).toISOString().substring(0,10)}class mn{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!It()&&new Promise((e,t)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(n);a.onsuccess=()=>{a.result.close(),r||self.indexedDB.deleteDatabase(n),e(!0)},a.onupgradeneeded=()=>{r=!1},a.onerror=()=>{t(a.error?.message||"")}}catch(r){t(r)}}).then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await un()).transaction(ln),r=await t.objectStore(ln).get(hn(e));return await t.done,r}catch(bq){if(bq instanceof Ot)xr.warn(bq.message);else{const t=tn.create("idb-get",{originalErrorMessage:bq?.message});xr.warn(t.message)}}}(this.app);return e?.heartbeats?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const t=await this.read();return dn(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??t.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){if(await this._canUseIndexedDBPromise){const t=await this.read();return dn(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??t.lastSentHeartbeatDate,heartbeats:[...t.heartbeats,...e.heartbeats]})}}}function gn(e){return mt(JSON.stringify({version:2,heartbeats:e})).length}var yn;yn="",Jr(new $t("platform-logger",e=>new gr(e),"PRIVATE")),Jr(new $t("heartbeat",e=>new fn(e),"PRIVATE")),on(yr,vr,yn),on(yr,vr,"esm2020"),on("fire-js","");on("firebase","12.0.0","app");function vn(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const xn=vn,bn=new Pt("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),wn=new Zt("@firebase/auth");function kn(e){if(wn.logLevel<=Gt.ERROR){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];wn.error(`Auth (${nn}): ${e}`,...r)}}function jn(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];throw _n(e,...r)}function Nn(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return _n(e,...r)}function Sn(e,t,r){const n={...xn(),[t]:r};return new Pt("auth","Firebase",n).create(t,{appName:e.name})}function En(e){return Sn(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function An(e,t,r){if(!(t instanceof r))throw r.name!==t.constructor.name&&jn(e,"argument-error"),Sn(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function _n(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];if("string"!==typeof e){const t=r[0],n=[...r.slice(1)];return n[0]&&(n[0].appName=e.name),e._errorFactory.create(t,...n)}return bn.create(e,...r)}function Cn(e,t){if(!e){for(var r=arguments.length,n=new Array(r>2?r-2:0),a=2;a<r;a++)n[a-2]=arguments[a];throw _n(t,...n)}}function Tn(e){const t="INTERNAL ASSERTION FAILED: "+e;throw kn(t),new Error(t)}function In(e,t){e||Tn(t)}function On(){return"undefined"!==typeof self&&self.location?.href||""}function Pn(){return"http:"===Dn()||"https:"===Dn()}function Dn(){return"undefined"!==typeof self&&self.location?.protocol||null}function Mn(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Pn()||function(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}class Rn{constructor(e,t){this.shortDelay=e,this.longDelay=t,In(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(_t())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return Mn()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Ln(e,t){In(e.emulator,"Emulator should always be set here");const{url:r}=e.emulator;return t?`${r}${t.startsWith("/")?t.slice(1):t}`:r}class Fn{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void Tn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void Tn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void Tn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const zn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Un=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Vn=new Rn(3e4,6e4);function Bn(e,t){return e.tenantId&&!t.tenantId?{...t,tenantId:e.tenantId}:t}async function $n(e,t,r,n){return Hn(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},async()=>{let a={},i={};n&&("GET"===t?i=n:a={body:JSON.stringify(n)});const s=Lt({key:e.config.apiKey,...i}).slice(1),o=await e._getAdditionalHeaders();o["Content-Type"]="application/json",e.languageCode&&(o["X-Firebase-Locale"]=e.languageCode);const l={method:t,headers:o,...a};return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||(l.referrerPolicy="no-referrer"),e.emulatorConfig&&jt(e.emulatorConfig.host)&&(l.credentials="include"),Fn.fetch()(await Kn(e,e.config.apiHost,r,s),l)})}async function Hn(e,t,r){e._canInitEmulator=!1;const n={...zn,...t};try{const t=new Gn(e),a=await Promise.race([r(),t.promise]);t.clearNetworkTimeout();const i=await a.json();if("needConfirmation"in i)throw Yn(e,"account-exists-with-different-credential",i);if(a.ok&&!("errorMessage"in i))return i;{const t=a.ok?i.errorMessage:i.error.message,[r,s]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===r)throw Yn(e,"credential-already-in-use",i);if("EMAIL_EXISTS"===r)throw Yn(e,"email-already-in-use",i);if("USER_DISABLED"===r)throw Yn(e,"user-disabled",i);const o=n[r]||r.toLowerCase().replace(/[_\s]+/g,"-");if(s)throw Sn(e,o,s);jn(e,o)}}catch(bq){if(bq instanceof Ot)throw bq;jn(e,"network-request-failed",{message:String(bq)})}}async function qn(e,t,r,n){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const i=await $n(e,t,r,n,a);return"mfaPendingCredential"in i&&jn(e,"multi-factor-auth-required",{_serverResponse:i}),i}async function Kn(e,t,r,n){const a=`${t}${r}?${n}`,i=e,s=i.config.emulator?Ln(e.config,a):`${e.config.apiScheme}://${a}`;if(Un.includes(r)&&(await i._persistenceManagerAvailable,"COOKIE"===i._getPersistenceType())){return i._getPersistence()._getFinalTarget(s).toString()}return s}function Wn(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Gn{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(Nn(this.auth,"network-request-failed")),Vn.get())})}}function Yn(e,t,r){const n={appName:e.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const a=Nn(e,t,n);return a.customData._tokenResponse=r,a}function Qn(e){return void 0!==e&&void 0!==e.enterprise}class Xn{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Wn(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Jn(e,t){return $n(e,"GET","/v2/recaptchaConfig",Bn(e,t))}async function Zn(e,t){return $n(e,"POST","/v1/accounts:lookup",t)}function ea(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(bq){}}function ta(e){return 1e3*Number(e)}function ra(e){const[t,r,n]=e.split(".");if(void 0===t||void 0===r||void 0===n)return kn("JWT malformed, contained fewer than 3 sections"),null;try{const e=gt(r);return e?JSON.parse(e):(kn("Failed to decode base64 JWT payload"),null)}catch(bq){return kn("Caught error parsing JWT payload as JSON",bq?.toString()),null}}function na(e){const t=ra(e);return Cn(t,"internal-error"),Cn("undefined"!==typeof t.exp,"internal-error"),Cn("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function aa(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(bq){throw bq instanceof Ot&&function(e){let{code:t}=e;return"auth/user-disabled"===t||"auth/user-token-expired"===t}(bq)&&e.auth.currentUser===e&&await e.auth.signOut(),bq}}class ia{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(bq){return void("auth/network-request-failed"===bq?.code&&this.schedule(!0))}this.schedule()}}class sa{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=ea(this.lastLoginAt),this.creationTime=ea(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function oa(e){const t=e.auth,r=await e.getIdToken(),n=await aa(e,Zn(t,{idToken:r}));Cn(n?.users.length,t,"internal-error");const a=n.users[0];e._notifyReloadListener(a);const i=a.providerUserInfo?.length?la(a.providerUserInfo):[],s=function(e,t){const r=e.filter(e=>!t.some(t=>t.providerId===e.providerId));return[...r,...t]}(e.providerData,i),o=e.isAnonymous,l=!(e.email&&a.passwordHash)&&!s?.length,c=!!o&&l,u={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:s,metadata:new sa(a.createdAt,a.lastLoginAt),isAnonymous:c};Object.assign(e,u)}function la(e){return e.map(e=>{let{providerId:t,...r}=e;return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}class ca{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Cn(e.idToken,"internal-error"),Cn("undefined"!==typeof e.idToken,"internal-error"),Cn("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):na(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Cn(0!==e.length,"internal-error");const t=na(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(Cn(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:n,expiresIn:a}=await async function(e,t){const r=await Hn(e,{},async()=>{const r=Lt({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:n,apiKey:a}=e.config,i=await Kn(e,n,"/v1/token",`key=${a}`),s=await e._getAdditionalHeaders();s["Content-Type"]="application/x-www-form-urlencoded";const o={method:"POST",headers:s,body:r};return e.emulatorConfig&&jt(e.emulatorConfig.host)&&(o.credentials="include"),Fn.fetch()(i,o)});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}(e,t);this.updateTokensAndExpiration(r,n,Number(a))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,t){const{refreshToken:r,accessToken:n,expirationTime:a}=t,i=new ca;return r&&(Cn("string"===typeof r,"internal-error",{appName:e}),i.refreshToken=r),n&&(Cn("string"===typeof n,"internal-error",{appName:e}),i.accessToken=n),a&&(Cn("number"===typeof a,"internal-error",{appName:e}),i.expirationTime=a),i}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ca,this.toJSON())}_performRefresh(){return Tn("not implemented")}}function ua(e,t){Cn("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class da{constructor(e){let{uid:t,auth:r,stsTokenManager:n,...a}=e;this.providerId="firebase",this.proactiveRefresh=new ia(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=n,this.accessToken=n.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new sa(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await aa(this,this.stsTokenManager.getToken(this.auth,e));return Cn(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r=Bt(e),n=await r.getIdToken(t),a=ra(n);Cn(a&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error");const i="object"===typeof a.firebase?a.firebase:void 0,s=i?.sign_in_provider;return{claims:a,token:n,authTime:ea(ta(a.auth_time)),issuedAtTime:ea(ta(a.iat)),expirationTime:ea(ta(a.exp)),signInProvider:s||null,signInSecondFactor:i?.sign_in_second_factor||null}}(this,e)}reload(){return async function(e){const t=Bt(e);await oa(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(Cn(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>({...e})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new da({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Cn(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await oa(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(en(this.auth.app))return Promise.reject(En(this.auth));const e=await this.getIdToken();return await aa(this,async function(e,t){return $n(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const r=t.displayName??void 0,n=t.email??void 0,a=t.phoneNumber??void 0,i=t.photoURL??void 0,s=t.tenantId??void 0,o=t._redirectEventId??void 0,l=t.createdAt??void 0,c=t.lastLoginAt??void 0,{uid:u,emailVerified:d,isAnonymous:h,providerData:f,stsTokenManager:p}=t;Cn(u&&p,e,"internal-error");const m=ca.fromJSON(this.name,p);Cn("string"===typeof u,e,"internal-error"),ua(r,e.name),ua(n,e.name),Cn("boolean"===typeof d,e,"internal-error"),Cn("boolean"===typeof h,e,"internal-error"),ua(a,e.name),ua(i,e.name),ua(s,e.name),ua(o,e.name),ua(l,e.name),ua(c,e.name);const g=new da({uid:u,auth:e,email:n,emailVerified:d,displayName:r,isAnonymous:h,photoURL:i,phoneNumber:a,tenantId:s,stsTokenManager:m,createdAt:l,lastLoginAt:c});return f&&Array.isArray(f)&&(g.providerData=f.map(e=>({...e}))),o&&(g._redirectEventId=o),g}static async _fromIdTokenResponse(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const n=new ca;n.updateFromServerResponse(t);const a=new da({uid:t.localId,auth:e,stsTokenManager:n,isAnonymous:r});return await oa(a),a}static async _fromGetAccountInfoResponse(e,t,r){const n=t.users[0];Cn(void 0!==n.localId,"internal-error");const a=void 0!==n.providerUserInfo?la(n.providerUserInfo):[],i=!(n.email&&n.passwordHash)&&!a?.length,s=new ca;s.updateFromIdToken(r);const o=new da({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:i}),l={uid:n.localId,displayName:n.displayName||null,photoURL:n.photoUrl||null,email:n.email||null,emailVerified:n.emailVerified||!1,phoneNumber:n.phoneNumber||null,tenantId:n.tenantId||null,providerData:a,metadata:new sa(n.createdAt,n.lastLoginAt),isAnonymous:!(n.email&&n.passwordHash)&&!a?.length};return Object.assign(o,l),o}}const ha=new Map;function fa(e){In(e instanceof Function,"Expected a class definition");let t=ha.get(e);return t?(In(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,ha.set(e,t),t)}class pa{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}pa.type="NONE";const ma=pa;function ga(e,t,r){return`firebase:${e}:${t}:${r}`}class ya{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:n,name:a}=this.auth;this.fullUserKey=ga(this.userKey,n.apiKey,a),this.fullPersistenceKey=ga("persistence",n.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if("string"===typeof e){const t=await Zn(this.auth,{idToken:e}).catch(()=>{});return t?da._fromGetAccountInfoResponse(this.auth,t,e):null}return da._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new ya(fa(ma),e,r);const n=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e);let a=n[0]||fa(ma);const i=ga(r,e.config.apiKey,e.name);let s=null;for(const l of t)try{const t=await l._get(i);if(t){let r;if("string"===typeof t){const n=await Zn(e,{idToken:t}).catch(()=>{});if(!n)break;r=await da._fromGetAccountInfoResponse(e,n,t)}else r=da._fromJSON(e,t);l!==a&&(s=r),a=l;break}}catch{}const o=n.filter(e=>e._shouldAllowMigration);return a._shouldAllowMigration&&o.length?(a=o[0],s&&await a._set(i,s.toJSON()),await Promise.all(t.map(async e=>{if(e!==a)try{await e._remove(i)}catch{}})),new ya(a,e,r)):new ya(a,e,r)}}function va(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(ka(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(xa(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Na(t))return"Blackberry";if(Sa(t))return"Webos";if(ba(t))return"Safari";if((t.includes("chrome/")||wa(t))&&!t.includes("edge/"))return"Chrome";if(ja(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=e.match(t);if(2===r?.length)return r[1]}return"Other"}function xa(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_t();return/firefox\//i.test(e)}function ba(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:_t()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function wa(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_t();return/crios\//i.test(e)}function ka(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_t();return/iemobile/i.test(e)}function ja(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_t();return/android/i.test(e)}function Na(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_t();return/blackberry/i.test(e)}function Sa(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_t();return/webos/i.test(e)}function Ea(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_t();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Aa(){return function(){const e=_t();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function _a(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_t();return Ea(e)||ja(e)||Sa(e)||Na(e)||/windows phone/i.test(e)||ka(e)}function Ca(e){let t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=va(_t());break;case"Worker":t=`${va(_t())}-${e}`;break;default:t=e}const n=r.length?r.join(","):"FirebaseCore-web";return`${t}/JsCore/${nn}/${n}`}class Ta{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=t=>new Promise((r,n)=>{try{r(e(t))}catch(bq){n(bq)}});r.onAbort=t,this.queue.push(r);const n=this.queue.length-1;return()=>{this.queue[n]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(bq){t.reverse();for(const n of t)try{n()}catch(r){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:bq?.message})}}}class Ia{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??6,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),void 0!==t.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),void 0!==t.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),void 0!==t.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),void 0!==t.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,n=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),n&&(t.meetsMaxPasswordLength=e.length<=n)}validatePasswordCharacterOptions(e,t){let r;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let n=0;n<e.length;n++)r=e.charAt(n),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,n,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=n)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}class Oa{constructor(e,t,r,n){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=n,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Da(this),this.idTokenSubscription=new Da(this),this.beforeStateQueue=new Ta(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=bn,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=n.sdkClientVersion,this._persistenceManagerAvailable=new Promise(e=>this._resolvePersistenceManagerAvailable=e)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=fa(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await ya.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(bq){}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await Zn(this,{idToken:e}),r=await da._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(en(this.app)){const e=this.app.settings.authIdToken;return e?new Promise(t=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(e).then(t,t))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let r=t,n=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const t=this.redirectUser?._redirectEventId,a=r?._redirectEventId,i=await this.tryRedirectSignIn(e);t&&t!==a||!i?.user||(r=i.user,n=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(n)try{await this.beforeStateQueue.runMiddleware(r)}catch(bq){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(bq))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Cn(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(bq){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await oa(e)}catch(bq){if("auth/network-request-failed"!==bq?.code)return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(en(this.app))return Promise.reject(En(this));const t=e?Bt(e):null;return t&&Cn(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&Cn(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return en(this.app)?Promise.reject(En(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return en(this.app)?Promise.reject(En(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(fa(e))})}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return $n(e,"GET","/v2/passwordPolicy",Bn(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new Ia(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Pt("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return $n(e,"POST","/v2/accounts:revokeToken",Bn(e,t))}(this,t)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return null===e?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&fa(e)||this._popupRedirectResolver;Cn(t,this,"argument-error"),this.redirectPersistenceManager=await ya.create(this,[fa(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,n){if(this._deleted)return()=>{};const a="function"===typeof t?t:t.next.bind(t);let i=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(Cn(s,this,"internal-error"),s.then(()=>{i||a(this.currentUser)}),"function"===typeof t){const a=e.addObserver(t,r,n);return()=>{i=!0,a()}}{const r=e.addObserver(t);return()=>{i=!0,r()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Cn(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ca(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await(this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader());t&&(e["X-Firebase-Client"]=t);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(en(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await(this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken());return e?.error&&function(e){if(wn.logLevel<=Gt.WARN){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];wn.warn(`Auth (${nn}): ${e}`,...r)}}(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Pa(e){return Bt(e)}class Da{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const r=new Ut(e,t);return r.subscribe.bind(r)}(e=>this.observer=e)}get next(){return Cn(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Ma={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Ra(e){return Ma.loadJS(e)}function La(e){return`__${e}${Math.floor(1e6*Math.random())}`}class Fa{constructor(){this.enterprise=new za}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class za{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const Ua="NO_RECAPTCHA";class Va{constructor(e){this.type="recaptcha-enterprise",this.auth=Pa(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function r(t,r,n){const a=window.grecaptcha;Qn(a)?a.enterprise.ready(()=>{a.enterprise.execute(t,{action:e}).then(e=>{r(e)}).catch(()=>{r(Ua)})}):n(Error("No reCAPTCHA enterprise script loaded."))}if(this.auth.settings.appVerificationDisabledForTesting){return(new Fa).execute("siteKey",{action:"verify"})}return new Promise((e,n)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,r)=>{Jn(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(n=>{if(void 0!==n.recaptchaKey){const r=new Xn(n);return null==e.tenantId?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,t(r.siteKey)}r(new Error("recaptcha Enterprise site key undefined"))}).catch(e=>{r(e)})})})(this.auth).then(a=>{if(!t&&Qn(window.grecaptcha))r(a,e,n);else{if("undefined"===typeof window)return void n(new Error("RecaptchaVerifier is only supported in browser"));let t=Ma.recaptchaEnterpriseScript;0!==t.length&&(t+=a),Ra(t).then(()=>{r(a,e,n)}).catch(e=>{n(e)})}}).catch(e=>{n(e)})})}}async function Ba(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const i=new Va(e);let s;if(a)s=Ua;else try{s=await i.verify(r)}catch(l){s=await i.verify(r,!0)}const o={...t};if("mfaSmsEnrollment"===r||"mfaSmsSignIn"===r){if("phoneEnrollmentInfo"in o){const e=o.phoneEnrollmentInfo.phoneNumber,t=o.phoneEnrollmentInfo.recaptchaToken;Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in o){const e=o.phoneSignInInfo.recaptchaToken;Object.assign(o,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return o}return n?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function $a(e,t,r,n,a){if("EMAIL_PASSWORD_PROVIDER"===a){if(e._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await Ba(e,t,r,"getOobCode"===r);return n(e,a)}return n(e,t).catch(async a=>{if("auth/missing-recaptcha-token"===a.code){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await Ba(e,t,r,"getOobCode"===r);return n(e,a)}return Promise.reject(a)})}if("PHONE_PROVIDER"===a){if(e._getRecaptchaConfig()?.isProviderEnabled("PHONE_PROVIDER")){const a=await Ba(e,t,r);return n(e,a).catch(async a=>{if("AUDIT"===e._getRecaptchaConfig()?.getProviderEnforcementState("PHONE_PROVIDER")&&("auth/missing-recaptcha-token"===a.code||"auth/invalid-app-credential"===a.code)){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${r} flow.`);const a=await Ba(e,t,r,!1,!0);return n(e,a)}return Promise.reject(a)})}{const a=await Ba(e,t,r,!1,!0);return n(e,a)}}return Promise.reject(a+" provider is not supported.")}async function Ha(e){const t=Pa(e),r=await Jn(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),n=new Xn(r);if(null==t.tenantId?t._agentRecaptchaConfig=n:t._tenantRecaptchaConfigs[t.tenantId]=n,n.isAnyProviderEnabled()){new Va(t).verify()}}function qa(e,t,r){const n=Pa(e);Cn(/^https?:\/\//.test(t),n,"invalid-emulator-scheme");const a=!!r?.disableWarnings,i=Ka(t),{host:s,port:o}=function(e){const t=Ka(e),r=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(n);if(a){const e=a[1];return{host:e,port:Wa(n.substr(e.length+1))}}{const[e,t]=n.split(":");return{host:e,port:Wa(t)}}}(t),l=null===o?"":`:${o}`,c={url:`${i}//${s}${l}/`},u=Object.freeze({host:s,port:o,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!n._canInitEmulator)return Cn(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),void Cn(Mt(c,n.config.emulator)&&Mt(u,n.emulatorConfig),n,"emulator-config-failed");n.config.emulator=c,n.emulatorConfig=u,n.settings.appVerificationDisabledForTesting=!0,jt(s)?(Nt(`${i}//${s}${l}`),At("Auth",!0)):a||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Ka(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Wa(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Ga{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Tn("not implemented")}_getIdTokenResponse(e){return Tn("not implemented")}_linkToIdToken(e,t){return Tn("not implemented")}_getReauthenticationResolver(e){return Tn("not implemented")}}async function Ya(e,t){return $n(e,"POST","/v1/accounts:signUp",t)}async function Qa(e,t){return qn(e,"POST","/v1/accounts:signInWithPassword",Bn(e,t))}async function Xa(e,t){return $n(e,"POST","/v1/accounts:sendOobCode",Bn(e,t))}async function Ja(e,t){return Xa(e,t)}class Za extends Ga{constructor(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",r),this._email=e,this._password=t,this._tenantId=n}static _fromEmailAndPassword(e,t){return new Za(e,t,"password")}static _fromEmailAndCode(e,t){return new Za(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if(t?.email&&t?.password){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return $a(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Qa,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return qn(e,"POST","/v1/accounts:signInWithEmailLink",Bn(e,t))}(e,{email:this._email,oobCode:this._password});default:jn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return $a(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Ya,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return qn(e,"POST","/v1/accounts:signInWithEmailLink",Bn(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:jn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function ei(e,t){return qn(e,"POST","/v1/accounts:signInWithIdp",Bn(e,t))}class ti extends Ga{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ti(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):jn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:r,signInMethod:n,...a}=t;if(!r||!n)return null;const i=new ti(r,n);return i.idToken=a.idToken||void 0,i.accessToken=a.accessToken||void 0,i.secret=a.secret,i.nonce=a.nonce,i.pendingToken=a.pendingToken||null,i}_getIdTokenResponse(e){return ei(e,this.buildRequest())}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,ei(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ei(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Lt(t)}return e}}async function ri(e,t){return $n(e,"POST","/v1/accounts:sendVerificationCode",Bn(e,t))}const ni={USER_NOT_FOUND:"user-not-found"};class ai extends Ga{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new ai({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new ai({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return qn(e,"POST","/v1/accounts:signInWithPhoneNumber",Bn(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const r=await qn(e,"POST","/v1/accounts:signInWithPhoneNumber",Bn(e,t));if(r.temporaryProof)throw Yn(e,"account-exists-with-different-credential",r);return r}(e,{idToken:t,...this._makeVerificationRequest()})}_getReauthenticationResolver(e){return async function(e,t){return qn(e,"POST","/v1/accounts:signInWithPhoneNumber",Bn(e,{...t,operation:"REAUTH"}),ni)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:r,verificationCode:n}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:r,code:n}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:r,phoneNumber:n,temporaryProof:a}=e;return r||t||n||a?new ai({verificationId:t,verificationCode:r,phoneNumber:n,temporaryProof:a}):null}}class ii{constructor(e){const t=Ft(zt(e)),r=t.apiKey??null,n=t.oobCode??null,a=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(t.mode??null);Cn(r&&n&&a,"argument-error"),this.apiKey=r,this.operation=a,this.code=n,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=function(e){const t=Ft(zt(e)).link,r=t?Ft(zt(t)).deep_link_id:null,n=Ft(zt(e)).deep_link_id;return(n?Ft(zt(n)).link:null)||n||r||t||e}(e);try{return new ii(t)}catch{return null}}}class si{constructor(){this.providerId=si.PROVIDER_ID}static credential(e,t){return Za._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=ii.parseLink(t);return Cn(r,"argument-error"),Za._fromEmailAndCode(e,r.code,r.tenantId)}}si.PROVIDER_ID="password",si.EMAIL_PASSWORD_SIGN_IN_METHOD="password",si.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class oi{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class li extends oi{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ci extends li{constructor(){super("facebook.com")}static credential(e){return ti._fromParams({providerId:ci.PROVIDER_ID,signInMethod:ci.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ci.credentialFromTaggedObject(e)}static credentialFromError(e){return ci.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return ci.credential(t.oauthAccessToken)}catch{return null}}}ci.FACEBOOK_SIGN_IN_METHOD="facebook.com",ci.PROVIDER_ID="facebook.com";class ui extends li{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ti._fromParams({providerId:ui.PROVIDER_ID,signInMethod:ui.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ui.credentialFromTaggedObject(e)}static credentialFromError(e){return ui.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:r,oauthAccessToken:n}=t;if(!r&&!n)return null;try{return ui.credential(r,n)}catch{return null}}}ui.GOOGLE_SIGN_IN_METHOD="google.com",ui.PROVIDER_ID="google.com";class di extends li{constructor(){super("github.com")}static credential(e){return ti._fromParams({providerId:di.PROVIDER_ID,signInMethod:di.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return di.credentialFromTaggedObject(e)}static credentialFromError(e){return di.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return di.credential(t.oauthAccessToken)}catch{return null}}}di.GITHUB_SIGN_IN_METHOD="github.com",di.PROVIDER_ID="github.com";class hi extends li{constructor(){super("twitter.com")}static credential(e,t){return ti._fromParams({providerId:hi.PROVIDER_ID,signInMethod:hi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return hi.credentialFromTaggedObject(e)}static credentialFromError(e){return hi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=t;if(!r||!n)return null;try{return hi.credential(r,n)}catch{return null}}}async function fi(e,t){return qn(e,"POST","/v1/accounts:signUp",Bn(e,t))}hi.TWITTER_SIGN_IN_METHOD="twitter.com",hi.PROVIDER_ID="twitter.com";class pi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const a=await da._fromIdTokenResponse(e,r,n),i=mi(r);return new pi({user:a,providerId:i,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const n=mi(r);return new pi({user:e,providerId:n,_tokenResponse:r,operationType:t})}}function mi(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class gi extends Ot{constructor(e,t,r,n){super(t.code,t.message),this.operationType=r,this.user=n,Object.setPrototypeOf(this,gi.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,n){return new gi(e,t,r,n)}}function yi(e,t,r,n){return("reauthenticate"===t?r._getReauthenticationResolver(e):r._getIdTokenResponse(e)).catch(r=>{if("auth/multi-factor-auth-required"===r.code)throw gi._fromErrorAndOperation(e,r,t,n);throw r})}async function vi(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const n=await aa(e,t._linkToIdToken(e.auth,await e.getIdToken()),r);return pi._forOperation(e,"link",n)}async function xi(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:n}=e;if(en(n.app))return Promise.reject(En(n));const a="reauthenticate";try{const i=await aa(e,yi(n,a,t,e),r);Cn(i.idToken,n,"internal-error");const s=ra(i.idToken);Cn(s,n,"internal-error");const{sub:o}=s;return Cn(e.uid===o,n,"user-mismatch"),pi._forOperation(e,a,i)}catch(bq){throw"auth/user-not-found"===bq?.code&&jn(n,"user-mismatch"),bq}}async function bi(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(en(e.app))return Promise.reject(En(e));const n="signIn",a=await yi(e,n,t),i=await pi._fromIdTokenResponse(e,n,a);return r||await e._updateCurrentUser(i.user),i}async function wi(e,t){return bi(Pa(e),t)}function ki(e,t,r){Cn(r.url?.length>0,e,"invalid-continue-uri"),Cn("undefined"===typeof r.dynamicLinkDomain||r.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),Cn("undefined"===typeof r.linkDomain||r.linkDomain.length>0,e,"invalid-hosting-link-domain"),t.continueUrl=r.url,t.dynamicLinkDomain=r.dynamicLinkDomain,t.linkDomain=r.linkDomain,t.canHandleCodeInApp=r.handleCodeInApp,r.iOS&&(Cn(r.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=r.iOS.bundleId),r.android&&(Cn(r.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=r.android.installApp,t.androidMinimumVersionCode=r.android.minimumVersion,t.androidPackageName=r.android.packageName)}async function ji(e){const t=Pa(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function Ni(e,t){let{displayName:r,photoURL:n}=t;if(void 0===r&&void 0===n)return;const a=Bt(e),i={idToken:await a.getIdToken(),displayName:r,photoUrl:n,returnSecureToken:!0},s=await aa(a,async function(e,t){return $n(e,"POST","/v1/accounts:update",t)}(a.auth,i));a.displayName=s.displayName||null,a.photoURL=s.photoUrl||null;const o=a.providerData.find(e=>{let{providerId:t}=e;return"password"===t});o&&(o.displayName=a.displayName,o.photoURL=a.photoURL),await a._updateTokensIfNecessary(s)}function Si(e,t){return $n(e,"POST","/v2/accounts/mfaEnrollment:start",Bn(e,t))}new WeakMap;const Ei="__sak";class Ai{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Ei,"1"),this.storage.removeItem(Ei),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class _i extends Ai{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=_a(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),n=this.localCache[t];r!==n&&e(t,n,r)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys((e,t,r)=>{this.notifyListeners(e,r)});const r=e.key;t?this.detachListener():this.stopPolling();const n=()=>{const e=this.storage.getItem(r);(t||this.localCache[r]!==e)&&this.notifyListeners(r,e)},a=this.storage.getItem(r);Aa()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(n,10):n()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const n of Array.from(r))n(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}_i.type="LOCAL";const Ci=_i;function Ti(e){const t=e.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),r=RegExp(`${t}=([^;]+)`);return document.cookie.match(r)?.[1]??null}function Ii(e){return`${"http:"===window.location.protocol?"__dev_":"__HOST-"}FIREBASE_${e.split(":")[3]}`}class Oi{constructor(){this.type="COOKIE",this.listenerUnsubscribes=new Map}_getFinalTarget(e){if(void 0===typeof window)return e;const t=new URL(`${window.location.origin}/__cookies__`);return t.searchParams.set("finalTarget",e),t}async _isAvailable(){return!("boolean"===typeof isSecureContext&&!isSecureContext)&&("undefined"!==typeof navigator&&"undefined"!==typeof document&&(navigator.cookieEnabled??!0))}async _set(e,t){}async _get(e){if(!this._isAvailable())return null;const t=Ii(e);if(window.cookieStore){const e=await window.cookieStore.get(t);return e?.value}return Ti(t)}async _remove(e){if(!this._isAvailable())return;if(!await this._get(e))return;const t=Ii(e);document.cookie=`${t}=;Max-Age=34560000;Partitioned;Secure;SameSite=Strict;Path=/;Priority=High`,await fetch("/__cookies__",{method:"DELETE"}).catch(()=>{})}_addListener(e,t){if(!this._isAvailable())return;const r=Ii(e);if(window.cookieStore){const e=e=>{const n=e.changed.find(e=>e.name===r);n&&t(n.value);e.deleted.find(e=>e.name===r)&&t(null)},n=()=>window.cookieStore.removeEventListener("change",e);return this.listenerUnsubscribes.set(t,n),window.cookieStore.addEventListener("change",e)}let n=Ti(r);const a=setInterval(()=>{const e=Ti(r);e!==n&&(t(e),n=e)},1e3);this.listenerUnsubscribes.set(t,()=>clearInterval(a))}_removeListener(e,t){const r=this.listenerUnsubscribes.get(t);r&&(r(),this.listenerUnsubscribes.delete(t))}}Oi.type="COOKIE";class Pi extends Ai{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Pi.type="SESSION";const Di=Pi;class Mi{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;const r=new Mi(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:n,data:a}=t.data,i=this.handlersMap[n];if(!i?.size)return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:n});const s=Array.from(i).map(async e=>e(t.origin,a)),o=await function(e){return Promise.all(e.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}(s);t.ports[0].postMessage({status:"done",eventId:r,eventType:n,response:o})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function Ri(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,r="";for(let n=0;n<t;n++)r+=Math.floor(10*Math.random());return e+r}Mi.receivers=[];class Li{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const n="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!n)throw new Error("connection_unavailable");let a,i;return new Promise((s,o)=>{const l=Ri("",20);n.port1.start();const c=setTimeout(()=>{o(new Error("unsupported_event"))},r);i={messageChannel:n,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),a=setTimeout(()=>{o(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),s(t.data.response);break;default:clearTimeout(c),clearTimeout(a),o(new Error("invalid_response"))}}},this.handlers.add(i),n.port1.addEventListener("message",i.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[n.port2])}).finally(()=>{i&&this.removeMessageHandler(i)})}}function Fi(){return window}function zi(){return"undefined"!==typeof Fi().WorkerGlobalScope&&"function"===typeof Fi().importScripts}const Ui="firebaseLocalStorageDb",Vi="firebaseLocalStorage",Bi="fbase_key";class $i{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Hi(e,t){return e.transaction([Vi],t?"readwrite":"readonly").objectStore(Vi)}function qi(){const e=indexedDB.open(Ui,1);return new Promise((t,r)=>{e.addEventListener("error",()=>{r(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore(Vi,{keyPath:Bi})}catch(bq){r(bq)}}),e.addEventListener("success",async()=>{const r=e.result;r.objectStoreNames.contains(Vi)?t(r):(r.close(),await function(){const e=indexedDB.deleteDatabase(Ui);return new $i(e).toPromise()}(),t(await qi()))})})}async function Ki(e,t,r){const n=Hi(e,!0).put({[Bi]:t,value:r});return new $i(n).toPromise()}function Wi(e,t){const r=Hi(e,!0).delete(t);return new $i(r).toPromise()}class Gi{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await qi()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(bq){if(t++>3)throw bq;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return zi()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Mi._getInstance(zi()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await async function(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}(),!this.activeServiceWorker)return;this.sender=new Li(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&(navigator?.serviceWorker?.controller||null)===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await qi();return await Ki(e,Ei,"1"),await Wi(e,Ei),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>Ki(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(t=>async function(e,t){const r=Hi(e,!1).get(t),n=await new $i(r).toPromise();return void 0===n?null:n.value}(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Wi(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(e=>{const t=Hi(e,!1).getAll();return new $i(t).toPromise()});if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],r=new Set;if(0!==e.length)for(const{fbase_key:n,value:a}of e)r.add(n),JSON.stringify(this.localCache[n])!==JSON.stringify(a)&&(this.notifyListeners(n,a),t.push(n));for(const n of Object.keys(this.localCache))this.localCache[n]&&!r.has(n)&&(this.notifyListeners(n,null),t.push(n));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const n of Array.from(r))n(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Gi.type="LOCAL";const Yi=Gi;function Qi(e,t){return $n(e,"POST","/v2/accounts/mfaSignIn:start",Bn(e,t))}La("rcb"),new Rn(3e4,6e4);const Xi="recaptcha";async function Ji(e,t,r){if(!e._getRecaptchaConfig())try{await Ha(e)}catch(n){console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let n;if(n="string"===typeof t?{phoneNumber:t}:t,"session"in n){const t=n.session;if("phoneNumber"in n){Cn("enroll"===t.type,e,"internal-error");const a={idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:n.phoneNumber,clientType:"CLIENT_TYPE_WEB"}},i=$a(e,a,"mfaSmsEnrollment",async(e,t)=>{if(t.phoneEnrollmentInfo.captchaResponse===Ua){Cn(r?.type===Xi,e,"argument-error");return Si(e,await Zi(e,t,r))}return Si(e,t)},"PHONE_PROVIDER");return(await i.catch(e=>Promise.reject(e))).phoneSessionInfo.sessionInfo}{Cn("signin"===t.type,e,"internal-error");const a=n.multiFactorHint?.uid||n.multiFactorUid;Cn(a,e,"missing-multi-factor-info");const i={mfaPendingCredential:t.credential,mfaEnrollmentId:a,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}},s=$a(e,i,"mfaSmsSignIn",async(e,t)=>{if(t.phoneSignInInfo.captchaResponse===Ua){Cn(r?.type===Xi,e,"argument-error");return Qi(e,await Zi(e,t,r))}return Qi(e,t)},"PHONE_PROVIDER");return(await s.catch(e=>Promise.reject(e))).phoneResponseInfo.sessionInfo}}{const t={phoneNumber:n.phoneNumber,clientType:"CLIENT_TYPE_WEB"},a=$a(e,t,"sendVerificationCode",async(e,t)=>{if(t.captchaResponse===Ua){Cn(r?.type===Xi,e,"argument-error");return ri(e,await Zi(e,t,r))}return ri(e,t)},"PHONE_PROVIDER");return(await a.catch(e=>Promise.reject(e))).sessionInfo}}finally{r?._reset()}}async function Zi(e,t,r){Cn(r.type===Xi,e,"argument-error");const n=await r.verify();Cn("string"===typeof n,e,"argument-error");const a={...t};if("phoneEnrollmentInfo"in a){const e=a.phoneEnrollmentInfo.phoneNumber,t=a.phoneEnrollmentInfo.captchaResponse,r=a.phoneEnrollmentInfo.clientType,i=a.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:n,captchaResponse:t,clientType:r,recaptchaVersion:i}}),a}if("phoneSignInInfo"in a){const e=a.phoneSignInInfo.captchaResponse,t=a.phoneSignInInfo.clientType,r=a.phoneSignInInfo.recaptchaVersion;return Object.assign(a,{phoneSignInInfo:{recaptchaToken:n,captchaResponse:e,clientType:t,recaptchaVersion:r}}),a}return Object.assign(a,{recaptchaToken:n}),a}class es{constructor(e){this.providerId=es.PROVIDER_ID,this.auth=Pa(e)}verifyPhoneNumber(e,t){return Ji(this.auth,e,Bt(t))}static credential(e,t){return ai._fromVerification(e,t)}static credentialFromResult(e){const t=e;return es.credentialFromTaggedObject(t)}static credentialFromError(e){return es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:r,temporaryProof:n}=t;return r&&n?ai._fromTokenResponse(r,n):null}}function ts(e,t){return t?fa(t):(Cn(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}es.PROVIDER_ID="phone",es.PHONE_SIGN_IN_METHOD="phone";class rs extends Ga{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ei(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ei(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ei(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function ns(e){return bi(e.auth,new rs(e),e.bypassAuthState)}function as(e){const{auth:t,user:r}=e;return Cn(r,t,"internal-error"),xi(r,new rs(e),e.bypassAuthState)}async function is(e){const{auth:t,user:r}=e;return Cn(r,t,"internal-error"),vi(r,new rs(e),e.bypassAuthState)}class ss{constructor(e,t,r,n){let a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=r,this.user=n,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(bq){this.reject(bq)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:n,tenantId:a,error:i,type:s}=e;if(i)return void this.reject(i);const o={auth:this.auth,requestUri:t,sessionId:r,tenantId:a||void 0,postBody:n||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(o))}catch(bq){this.reject(bq)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ns;case"linkViaPopup":case"linkViaRedirect":return is;case"reauthViaPopup":case"reauthViaRedirect":return as;default:jn(this.auth,"internal-error")}}resolve(e){In(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){In(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const os=new Rn(2e3,1e4);class ls extends ss{constructor(e,t,r,n,a){super(e,t,n,a),this.provider=r,this.authWindow=null,this.pollId=null,ls.currentPopupAction&&ls.currentPopupAction.cancel(),ls.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Cn(e,this.auth,"internal-error"),e}async onExecution(){In(1===this.filter.length,"Popup operations only handle one event");const e=Ri();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(Nn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Nn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ls.currentPopupAction=null}pollUserCancellation(){const e=()=>{this.authWindow?.window?.closed?this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Nn(this.auth,"popup-closed-by-user"))},8e3):this.pollId=window.setTimeout(e,os.get())};e()}}ls.currentPopupAction=null;const cs=new Map;class us extends ss{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=cs.get(this.auth._key());if(!e){try{const t=await async function(e,t){const r=fs(t),n=hs(e);if(!await n._isAvailable())return!1;const a="true"===await n._get(r);return await n._remove(r),a}(this.resolver,this.auth),r=t?await super.execute():null;e=()=>Promise.resolve(r)}catch(bq){e=()=>Promise.reject(bq)}cs.set(this.auth._key(),e)}return this.bypassAuthState||cs.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function ds(e,t){cs.set(e._key(),t)}function hs(e){return fa(e._redirectPersistence)}function fs(e){return ga("pendingRedirect",e.config.apiKey,e.name)}async function ps(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(en(e.app))return Promise.reject(En(e));const n=Pa(e),a=ts(n,t),i=new us(n,a,r),s=await i.execute();return s&&!r&&(delete s.user._redirectEventId,await n._persistUserIfCurrent(s.user),await n._setRedirectUser(null,t)),s}class ms{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ys(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!ys(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";t.onError(Nn(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(gs(e))}saveEventToCache(e){this.cachedEventUids.add(gs(e)),this.lastProcessedEventTime=Date.now()}}function gs(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function ys(e){let{type:t,error:r}=e;return"unknown"===t&&"auth/no-auth-event"===r?.code}const vs=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,xs=/^https?/;async function bs(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return $n(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(ws(r))return}catch{}jn(e,"unauthorized-domain")}function ws(e){const t=On(),{protocol:r,hostname:n}=new URL(t);if(e.startsWith("chrome-extension://")){const a=new URL(e);return""===a.hostname&&""===n?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===n}if(!xs.test(r))return!1;if(vs.test(e))return n===e;const a=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(n)}const ks=new Rn(3e4,6e4);function js(){const e=Fi().___jsl;if(e?.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let r=0;r<e.CP.length;r++)e.CP[r]=null}function Ns(e){return new Promise((t,r)=>{function n(){js(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{js(),r(Nn(e,"network-request-failed"))},timeout:ks.get()})}if(Fi().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else{if(!Fi().gapi?.load){const t=La("iframefcb");return Fi()[t]=()=>{gapi.load?n():r(Nn(e,"network-request-failed"))},Ra(`${Ma.gapiScript}?onload=${t}`).catch(e=>r(e))}n()}}).catch(e=>{throw Ss=null,e})}let Ss=null;const Es=new Rn(5e3,15e3),As={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},_s=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Cs(e){const t=e.config;Cn(t.authDomain,e,"auth-domain-config-required");const r=t.emulator?Ln(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,n={apiKey:t.apiKey,appName:e.name,v:nn},a=_s.get(e.config.apiHost);a&&(n.eid=a);const i=e._getFrameworks();return i.length&&(n.fw=i.join(",")),`${r}?${Lt(n).slice(1)}`}async function Ts(e){const t=await function(e){return Ss=Ss||Ns(e),Ss}(e),r=Fi().gapi;return Cn(r,e,"internal-error"),t.open({where:document.body,url:Cs(e),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:As,dontclear:!0},t=>new Promise(async(r,n)=>{await t.restyle({setHideOnLeave:!1});const a=Nn(e,"network-request-failed"),i=Fi().setTimeout(()=>{n(a)},Es.get());function s(){Fi().clearTimeout(i),r(t)}t.ping(s).then(s,()=>{n(a)})}))}const Is={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Os{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(bq){}}}function Ps(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const i=Math.max((window.screen.availHeight-a)/2,0).toString(),s=Math.max((window.screen.availWidth-n)/2,0).toString();let o="";const l={...Is,width:n.toString(),height:a.toString(),top:i,left:s},c=_t().toLowerCase();r&&(o=wa(c)?"_blank":r),xa(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce((e,t)=>{let[r,n]=t;return`${e}${r}=${n},`},"");if(function(){return Ea(arguments.length>0&&void 0!==arguments[0]?arguments[0]:_t())&&!!window.navigator?.standalone}(c)&&"_self"!==o)return function(e,t){const r=document.createElement("a");r.href=e,r.target=t;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}(t||"",o),new Os(null);const d=window.open(t||"",o,u);Cn(d,e,"popup-blocked");try{d.focus()}catch(bq){}return new Os(d)}const Ds="__/auth/handler",Ms="emulator/auth/handler",Rs=encodeURIComponent("fac");async function Ls(e,t,r,n,a,i){Cn(e.config.authDomain,e,"auth-domain-config-required"),Cn(e.config.apiKey,e,"invalid-api-key");const s={apiKey:e.config.apiKey,appName:e.name,authType:r,redirectUrl:n,v:nn,eventId:a};if(t instanceof oi){t.setDefaultLanguage(e.languageCode),s.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(s.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(i||{}))s[e]=t}if(t instanceof li){const e=t.getScopes().filter(e=>""!==e);e.length>0&&(s.scopes=e.join(","))}e.tenantId&&(s.tid=e.tenantId);const o=s;for(const u of Object.keys(o))void 0===o[u]&&delete o[u];const l=await e._getAppCheckToken(),c=l?`#${Rs}=${encodeURIComponent(l)}`:"";return`${function(e){let{config:t}=e;if(!t.emulator)return`https://${t.authDomain}/${Ds}`;return Ln(t,Ms)}(e)}?${Lt(o).slice(1)}${c}`}const Fs="webStorageSupport";const zs=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Di,this._completeRedirectFn=ps,this._overrideRedirectResult=ds}async _openPopup(e,t,r,n){In(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");return Ps(e,await Ls(e,t,r,On(),n),Ri())}async _openRedirect(e,t,r,n){await this._originValidation(e);return function(e){Fi().location.href=e}(await Ls(e,t,r,On(),n)),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:r}=this.eventManagers[t];return e?Promise.resolve(e):(In(r,"If manager is not set, promise should be"),r)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await Ts(e),r=new ms(e);return t.register("authEvent",t=>{Cn(t?.authEvent,e,"invalid-auth-event");return{status:r.onEvent(t.authEvent)?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Fs,{type:Fs},r=>{const n=r?.[0]?.[Fs];void 0!==n&&t(!!n),jn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=bs(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return _a()||ba()||Ea()}};var Us="@firebase/auth",Vs="1.11.0";class Bs{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{e(t?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Cn(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const $s=wt("authIdTokenMaxAge")||300;let Hs=null;var qs;Ma={loadJS:e=>new Promise((t,r)=>{const n=document.createElement("script");n.setAttribute("src",e),n.onload=t,n.onerror=e=>{const t=Nn("internal-error");t.customData=e,r(t)},n.type="text/javascript",n.charset="UTF-8",(document.getElementsByTagName("head")?.[0]??document).appendChild(n)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},qs="Browser",Jr(new $t("auth",(e,t)=>{let{options:r}=t;const n=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:s,authDomain:o}=n.options;Cn(s&&!s.includes(":"),"invalid-api-key",{appName:n.name});const l={apiKey:s,authDomain:o,clientPlatform:qs,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ca(qs)},c=new Oa(n,a,i,l);return function(e,t){const r=t?.persistence||[],n=(Array.isArray(r)?r:[r]).map(fa);t?.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(n,t?.popupRedirectResolver)}(c,r),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Jr(new $t("auth-internal",e=>(e=>new Bs(e))(Pa(e.getProvider("auth").getImmediate())),"PRIVATE").setInstantiationMode("EXPLICIT")),on(Us,Vs,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(qs)),on(Us,Vs,"esm2020");var Ks,Ws,Gs="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Ys={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function r(e,t,r){r||(r=0);var n=Array(16);if("string"===typeof t)for(var a=0;16>a;++a)n[a]=t.charCodeAt(r++)|t.charCodeAt(r++)<<8|t.charCodeAt(r++)<<16|t.charCodeAt(r++)<<24;else for(a=0;16>a;++a)n[a]=t[r++]|t[r++]<<8|t[r++]<<16|t[r++]<<24;t=e.g[0],r=e.g[1],a=e.g[2];var i=e.g[3],s=t+(i^r&(a^i))+n[0]+3614090360&4294967295;s=(r=(a=(i=(t=(r=(a=(i=(t=(r=(a=(i=(t=(r=(a=(i=(t=(r=(a=(i=(t=(r=(a=(i=(t=(r=(a=(i=(t=(r=(a=(i=(t=(r=(a=(i=(t=(r=(a=(i=(t=(r=(a=(i=(t=(r=(a=(i=(t=(r=(a=(i=(t=(r=(a=(i=(t=(r=(a=(i=(t=r+(s<<7&4294967295|s>>>25))+((s=i+(a^t&(r^a))+n[1]+3905402710&4294967295)<<12&4294967295|s>>>20))+((s=a+(r^i&(t^r))+n[2]+606105819&4294967295)<<17&4294967295|s>>>15))+((s=r+(t^a&(i^t))+n[3]+3250441966&4294967295)<<22&4294967295|s>>>10))+((s=t+(i^r&(a^i))+n[4]+4118548399&4294967295)<<7&4294967295|s>>>25))+((s=i+(a^t&(r^a))+n[5]+1200080426&4294967295)<<12&4294967295|s>>>20))+((s=a+(r^i&(t^r))+n[6]+2821735955&4294967295)<<17&4294967295|s>>>15))+((s=r+(t^a&(i^t))+n[7]+4249261313&4294967295)<<22&4294967295|s>>>10))+((s=t+(i^r&(a^i))+n[8]+1770035416&4294967295)<<7&4294967295|s>>>25))+((s=i+(a^t&(r^a))+n[9]+2336552879&4294967295)<<12&4294967295|s>>>20))+((s=a+(r^i&(t^r))+n[10]+4294925233&4294967295)<<17&4294967295|s>>>15))+((s=r+(t^a&(i^t))+n[11]+2304563134&4294967295)<<22&4294967295|s>>>10))+((s=t+(i^r&(a^i))+n[12]+1804603682&4294967295)<<7&4294967295|s>>>25))+((s=i+(a^t&(r^a))+n[13]+4254626195&4294967295)<<12&4294967295|s>>>20))+((s=a+(r^i&(t^r))+n[14]+2792965006&4294967295)<<17&4294967295|s>>>15))+((s=r+(t^a&(i^t))+n[15]+1236535329&4294967295)<<22&4294967295|s>>>10))+((s=t+(a^i&(r^a))+n[1]+4129170786&4294967295)<<5&4294967295|s>>>27))+((s=i+(r^a&(t^r))+n[6]+3225465664&4294967295)<<9&4294967295|s>>>23))+((s=a+(t^r&(i^t))+n[11]+643717713&4294967295)<<14&4294967295|s>>>18))+((s=r+(i^t&(a^i))+n[0]+3921069994&4294967295)<<20&4294967295|s>>>12))+((s=t+(a^i&(r^a))+n[5]+3593408605&4294967295)<<5&4294967295|s>>>27))+((s=i+(r^a&(t^r))+n[10]+38016083&4294967295)<<9&4294967295|s>>>23))+((s=a+(t^r&(i^t))+n[15]+3634488961&4294967295)<<14&4294967295|s>>>18))+((s=r+(i^t&(a^i))+n[4]+3889429448&4294967295)<<20&4294967295|s>>>12))+((s=t+(a^i&(r^a))+n[9]+568446438&4294967295)<<5&4294967295|s>>>27))+((s=i+(r^a&(t^r))+n[14]+3275163606&4294967295)<<9&4294967295|s>>>23))+((s=a+(t^r&(i^t))+n[3]+4107603335&4294967295)<<14&4294967295|s>>>18))+((s=r+(i^t&(a^i))+n[8]+1163531501&4294967295)<<20&4294967295|s>>>12))+((s=t+(a^i&(r^a))+n[13]+2850285829&4294967295)<<5&4294967295|s>>>27))+((s=i+(r^a&(t^r))+n[2]+4243563512&4294967295)<<9&4294967295|s>>>23))+((s=a+(t^r&(i^t))+n[7]+1735328473&4294967295)<<14&4294967295|s>>>18))+((s=r+(i^t&(a^i))+n[12]+2368359562&4294967295)<<20&4294967295|s>>>12))+((s=t+(r^a^i)+n[5]+4294588738&4294967295)<<4&4294967295|s>>>28))+((s=i+(t^r^a)+n[8]+2272392833&4294967295)<<11&4294967295|s>>>21))+((s=a+(i^t^r)+n[11]+1839030562&4294967295)<<16&4294967295|s>>>16))+((s=r+(a^i^t)+n[14]+4259657740&4294967295)<<23&4294967295|s>>>9))+((s=t+(r^a^i)+n[1]+2763975236&4294967295)<<4&4294967295|s>>>28))+((s=i+(t^r^a)+n[4]+1272893353&4294967295)<<11&4294967295|s>>>21))+((s=a+(i^t^r)+n[7]+4139469664&4294967295)<<16&4294967295|s>>>16))+((s=r+(a^i^t)+n[10]+3200236656&4294967295)<<23&4294967295|s>>>9))+((s=t+(r^a^i)+n[13]+681279174&4294967295)<<4&4294967295|s>>>28))+((s=i+(t^r^a)+n[0]+3936430074&4294967295)<<11&4294967295|s>>>21))+((s=a+(i^t^r)+n[3]+3572445317&4294967295)<<16&4294967295|s>>>16))+((s=r+(a^i^t)+n[6]+76029189&4294967295)<<23&4294967295|s>>>9))+((s=t+(r^a^i)+n[9]+3654602809&4294967295)<<4&4294967295|s>>>28))+((s=i+(t^r^a)+n[12]+3873151461&4294967295)<<11&4294967295|s>>>21))+((s=a+(i^t^r)+n[15]+530742520&4294967295)<<16&4294967295|s>>>16))+((s=r+(a^i^t)+n[2]+3299628645&4294967295)<<23&4294967295|s>>>9))+((s=t+(a^(r|~i))+n[0]+4096336452&4294967295)<<6&4294967295|s>>>26))+((s=i+(r^(t|~a))+n[7]+1126891415&4294967295)<<10&4294967295|s>>>22))+((s=a+(t^(i|~r))+n[14]+2878612391&4294967295)<<15&4294967295|s>>>17))+((s=r+(i^(a|~t))+n[5]+4237533241&4294967295)<<21&4294967295|s>>>11))+((s=t+(a^(r|~i))+n[12]+1700485571&4294967295)<<6&4294967295|s>>>26))+((s=i+(r^(t|~a))+n[3]+2399980690&4294967295)<<10&4294967295|s>>>22))+((s=a+(t^(i|~r))+n[10]+4293915773&4294967295)<<15&4294967295|s>>>17))+((s=r+(i^(a|~t))+n[1]+2240044497&4294967295)<<21&4294967295|s>>>11))+((s=t+(a^(r|~i))+n[8]+1873313359&4294967295)<<6&4294967295|s>>>26))+((s=i+(r^(t|~a))+n[15]+4264355552&4294967295)<<10&4294967295|s>>>22))+((s=a+(t^(i|~r))+n[6]+2734768916&4294967295)<<15&4294967295|s>>>17))+((s=r+(i^(a|~t))+n[13]+1309151649&4294967295)<<21&4294967295|s>>>11))+((i=(t=r+((s=t+(a^(r|~i))+n[4]+4149444226&4294967295)<<6&4294967295|s>>>26))+((s=i+(r^(t|~a))+n[11]+3174756917&4294967295)<<10&4294967295|s>>>22))^((a=i+((s=a+(t^(i|~r))+n[2]+718787259&4294967295)<<15&4294967295|s>>>17))|~t))+n[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(a+(s<<21&4294967295|s>>>11))&4294967295,e.g[2]=e.g[2]+a&4294967295,e.g[3]=e.g[3]+i&4294967295}function n(e,t){this.h=t;for(var r=[],n=!0,a=e.length-1;0<=a;a--){var i=0|e[a];n&&i==t||(r[a]=i,n=!1)}this.g=r}!function(e,t){function r(){}r.prototype=t.prototype,e.D=t.prototype,e.prototype=new r,e.prototype.constructor=e,e.C=function(e,r,n){for(var a=Array(arguments.length-2),i=2;i<arguments.length;i++)a[i-2]=arguments[i];return t.prototype[r].apply(e,a)}}(t,function(){this.blockSize=-1}),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,a=this.B,i=this.h,s=0;s<t;){if(0==i)for(;s<=n;)r(this,e,s),s+=this.blockSize;if("string"===typeof e){for(;s<t;)if(a[i++]=e.charCodeAt(s++),i==this.blockSize){r(this,a),i=0;break}}else for(;s<t;)if(a[i++]=e[s++],i==this.blockSize){r(this,a),i=0;break}}this.h=i,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var r=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&r,r/=256;for(this.u(e),e=Array(16),t=r=0;4>t;++t)for(var n=0;32>n;n+=8)e[r++]=this.g[t]>>>n&255;return e};var a={};function i(e){return-128<=e&&128>e?function(e,t){var r=a;return Object.prototype.hasOwnProperty.call(r,e)?r[e]:r[e]=t(e)}(e,function(e){return new n([0|e],0>e?-1:0)}):new n([0|e],0>e?-1:0)}function s(e){if(isNaN(e)||!isFinite(e))return o;if(0>e)return h(s(-e));for(var t=[],r=1,a=0;e>=r;a++)t[a]=e/r|0,r*=4294967296;return new n(t,0)}var o=i(0),l=i(1),c=i(16777216);function u(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function d(e){return-1==e.h}function h(e){for(var t=e.g.length,r=[],a=0;a<t;a++)r[a]=~e.g[a];return new n(r,~e.h).add(l)}function f(e,t){return e.add(h(t))}function p(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function m(e,t){this.g=e,this.h=t}function g(e,t){if(u(t))throw Error("division by zero");if(u(e))return new m(o,o);if(d(e))return t=g(h(e),t),new m(h(t.g),h(t.h));if(d(t))return t=g(e,h(t)),new m(h(t.g),t.h);if(30<e.g.length){if(d(e)||d(t))throw Error("slowDivide_ only works with positive integers.");for(var r=l,n=t;0>=n.l(e);)r=y(r),n=y(n);var a=v(r,1),i=v(n,1);for(n=v(n,2),r=v(r,2);!u(n);){var c=i.add(n);0>=c.l(e)&&(a=a.add(r),i=c),n=v(n,1),r=v(r,1)}return t=f(e,a.j(t)),new m(a,t)}for(a=o;0<=e.l(t);){for(r=Math.max(1,Math.floor(e.m()/t.m())),n=48>=(n=Math.ceil(Math.log(r)/Math.LN2))?1:Math.pow(2,n-48),c=(i=s(r)).j(t);d(c)||0<c.l(e);)c=(i=s(r-=n)).j(t);u(i)&&(i=l),a=a.add(i),e=f(e,c)}return new m(a,e)}function y(e){for(var t=e.g.length+1,r=[],a=0;a<t;a++)r[a]=e.i(a)<<1|e.i(a-1)>>>31;return new n(r,e.h)}function v(e,t){var r=t>>5;t%=32;for(var a=e.g.length-r,i=[],s=0;s<a;s++)i[s]=0<t?e.i(s+r)>>>t|e.i(s+r+1)<<32-t:e.i(s+r);return new n(i,e.h)}(e=n.prototype).m=function(){if(d(this))return-h(this).m();for(var e=0,t=1,r=0;r<this.g.length;r++){var n=this.i(r);e+=(0<=n?n:4294967296+n)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(u(this))return"0";if(d(this))return"-"+h(this).toString(e);for(var t=s(Math.pow(e,6)),r=this,n="";;){var a=g(r,t).g,i=((0<(r=f(r,a.j(t))).g.length?r.g[0]:r.h)>>>0).toString(e);if(u(r=a))return i+n;for(;6>i.length;)i="0"+i;n=i+n}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return d(e=f(this,e))?-1:u(e)?0:1},e.abs=function(){return d(this)?h(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),r=[],a=0,i=0;i<=t;i++){var s=a+(65535&this.i(i))+(65535&e.i(i)),o=(s>>>16)+(this.i(i)>>>16)+(e.i(i)>>>16);a=o>>>16,s&=65535,o&=65535,r[i]=o<<16|s}return new n(r,-2147483648&r[r.length-1]?-1:0)},e.j=function(e){if(u(this)||u(e))return o;if(d(this))return d(e)?h(this).j(h(e)):h(h(this).j(e));if(d(e))return h(this.j(h(e)));if(0>this.l(c)&&0>e.l(c))return s(this.m()*e.m());for(var t=this.g.length+e.g.length,r=[],a=0;a<2*t;a++)r[a]=0;for(a=0;a<this.g.length;a++)for(var i=0;i<e.g.length;i++){var l=this.i(a)>>>16,f=65535&this.i(a),m=e.i(i)>>>16,g=65535&e.i(i);r[2*a+2*i]+=f*g,p(r,2*a+2*i),r[2*a+2*i+1]+=l*g,p(r,2*a+2*i+1),r[2*a+2*i+1]+=f*m,p(r,2*a+2*i+1),r[2*a+2*i+2]+=l*m,p(r,2*a+2*i+2)}for(a=0;a<t;a++)r[a]=r[2*a+1]<<16|r[2*a];for(a=t;a<2*t;a++)r[a]=0;return new n(r,0)},e.A=function(e){return g(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),r=[],a=0;a<t;a++)r[a]=this.i(a)&e.i(a);return new n(r,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),r=[],a=0;a<t;a++)r[a]=this.i(a)|e.i(a);return new n(r,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),r=[],a=0;a<t;a++)r[a]=this.i(a)^e.i(a);return new n(r,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,Ws=Ys.Md5=t,n.prototype.add=n.prototype.add,n.prototype.multiply=n.prototype.j,n.prototype.modulo=n.prototype.A,n.prototype.compare=n.prototype.l,n.prototype.toNumber=n.prototype.m,n.prototype.toString=n.prototype.toString,n.prototype.getBits=n.prototype.i,n.fromNumber=s,n.fromString=function e(t,r){if(0==t.length)throw Error("number format error: empty string");if(2>(r=r||10)||36<r)throw Error("radix out of range: "+r);if("-"==t.charAt(0))return h(e(t.substring(1),r));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=s(Math.pow(r,8)),a=o,i=0;i<t.length;i+=8){var l=Math.min(8,t.length-i),c=parseInt(t.substring(i,i+l),r);8>l?(l=s(Math.pow(r,l)),a=a.j(l).add(s(c))):a=(a=a.j(n)).add(s(c))}return a},Ks=Ys.Integer=n}).apply("undefined"!==typeof Gs?Gs:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var Qs,Xs,Js,Zs,eo,to,ro,no,ao="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},io={};(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,r){return e==Array.prototype||e==Object.prototype||(e[t]=r.value),e};var r=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof ao&&ao];for(var t=0;t<e.length;++t){var r=e[t];if(r&&r.Math==Math)return r}throw Error("Cannot find global object")}(this);!function(e,n){if(n)e:{var a=r;e=e.split(".");for(var i=0;i<e.length-1;i++){var s=e[i];if(!(s in a))break e;a=a[s]}(n=n(i=a[e=e[e.length-1]]))!=i&&null!=n&&t(a,e,{configurable:!0,writable:!0,value:n})}}("Array.prototype.values",function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var r=0,n=!1,a={next:function(){if(!n&&r<e.length){var a=r++;return{value:t(a,e[a]),done:!1}}return n=!0,{done:!0,value:void 0}}};return a[Symbol.iterator]=function(){return a},a}(this,function(e,t){return t})}});var n=n||{},a=this||self;function i(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function s(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function o(e,t,r){return e.call.apply(e.bind,arguments)}function l(e,t,r){if(!e)throw Error();if(2<arguments.length){var n=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,n),e.apply(t,r)}}return function(){return e.apply(t,arguments)}}function c(e,t,r){return(c=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?o:l).apply(null,arguments)}function u(e,t){var r=Array.prototype.slice.call(arguments,1);return function(){var t=r.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function d(e,t){function r(){}r.prototype=t.prototype,e.aa=t.prototype,e.prototype=new r,e.prototype.constructor=e,e.Qb=function(e,r,n){for(var a=Array(arguments.length-2),i=2;i<arguments.length;i++)a[i-2]=arguments[i];return t.prototype[r].apply(e,a)}}function h(e){const t=e.length;if(0<t){const r=Array(t);for(let n=0;n<t;n++)r[n]=e[n];return r}return[]}function f(e,t){for(let r=1;r<arguments.length;r++){const t=arguments[r];if(i(t)){const r=e.length||0,n=t.length||0;e.length=r+n;for(let a=0;a<n;a++)e[r+a]=t[a]}else e.push(t)}}function p(e){return/^[\s\xa0]*$/.test(e)}function m(){var e=a.navigator;return e&&(e=e.userAgent)?e:""}function g(e){return g[" "](e),e}g[" "]=function(){};var y=-1!=m().indexOf("Gecko")&&!(-1!=m().toLowerCase().indexOf("webkit")&&-1==m().indexOf("Edge"))&&!(-1!=m().indexOf("Trident")||-1!=m().indexOf("MSIE"))&&-1==m().indexOf("Edge");function v(e,t,r){for(const n in e)t.call(r,e[n],n,e)}function x(e){const t={};for(const r in e)t[r]=e[r];return t}const b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(e,t){let r,n;for(let a=1;a<arguments.length;a++){for(r in n=arguments[a],n)e[r]=n[r];for(let t=0;t<b.length;t++)r=b[t],Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}}function k(e){var t=1;e=e.split(":");const r=[];for(;0<t&&e.length;)r.push(e.shift()),t--;return e.length&&r.push(e.join(":")),r}function j(e){a.setTimeout(()=>{throw e},0)}function N(){var e=C;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var S=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new E,e=>e.reset());class E{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let A,_=!1,C=new class{constructor(){this.h=this.g=null}add(e,t){const r=S.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}},T=()=>{const e=a.Promise.resolve(void 0);A=()=>{e.then(I)}};var I=()=>{for(var e;e=N();){try{e.h.call(e.g)}catch(jV){j(jV)}var t=S;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}_=!1};function O(){this.s=this.s,this.C=this.C}function P(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}O.prototype.s=!1,O.prototype.ma=function(){this.s||(this.s=!0,this.N())},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},P.prototype.h=function(){this.defaultPrevented=!0};var D=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};a.addEventListener("test",e,t),a.removeEventListener("test",e,t)}catch(jV){}return e}();function M(e,t){if(P.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var r=this.type=e.type,n=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(y){e:{try{g(t.nodeName);var a=!0;break e}catch(i){}a=!1}a||(t=null)}}else"mouseover"==r?t=e.fromElement:"mouseout"==r&&(t=e.toElement);this.relatedTarget=t,n?(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:R[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&M.aa.h.call(this)}}d(M,P);var R={2:"touch",3:"pen",4:"mouse"};M.prototype.h=function(){M.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var L="closure_listenable_"+(1e6*Math.random()|0),F=0;function z(e,t,r,n,a){this.listener=e,this.proxy=null,this.src=t,this.type=r,this.capture=!!n,this.ha=a,this.key=++F,this.da=this.fa=!1}function U(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function V(e){this.src=e,this.g={},this.h=0}function B(e,t){var r=t.type;if(r in e.g){var n,a=e.g[r],i=Array.prototype.indexOf.call(a,t,void 0);(n=0<=i)&&Array.prototype.splice.call(a,i,1),n&&(U(t),0==e.g[r].length&&(delete e.g[r],e.h--))}}function $(e,t,r,n){for(var a=0;a<e.length;++a){var i=e[a];if(!i.da&&i.listener==t&&i.capture==!!r&&i.ha==n)return a}return-1}V.prototype.add=function(e,t,r,n,a){var i=e.toString();(e=this.g[i])||(e=this.g[i]=[],this.h++);var s=$(e,t,n,a);return-1<s?(t=e[s],r||(t.fa=!1)):((t=new z(t,this.src,i,!!n,a)).fa=r,e.push(t)),t};var H="closure_lm_"+(1e6*Math.random()|0),q={};function K(e,t,r,n,a){if(n&&n.once)return G(e,t,r,n,a);if(Array.isArray(t)){for(var i=0;i<t.length;i++)K(e,t[i],r,n,a);return null}return r=te(r),e&&e[L]?e.K(t,r,s(n)?!!n.capture:!!n,a):W(e,t,r,!1,n,a)}function W(e,t,r,n,a,i){if(!t)throw Error("Invalid event type");var o=s(a)?!!a.capture:!!a,l=Z(e);if(l||(e[H]=l=new V(e)),(r=l.add(t,r,n,o,i)).proxy)return r;if(n=function(){function e(r){return t.call(e.src,e.listener,r)}const t=J;return e}(),r.proxy=n,n.src=e,n.listener=r,e.addEventListener)D||(a=o),void 0===a&&(a=!1),e.addEventListener(t.toString(),n,a);else if(e.attachEvent)e.attachEvent(X(t.toString()),n);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(n)}return r}function G(e,t,r,n,a){if(Array.isArray(t)){for(var i=0;i<t.length;i++)G(e,t[i],r,n,a);return null}return r=te(r),e&&e[L]?e.L(t,r,s(n)?!!n.capture:!!n,a):W(e,t,r,!0,n,a)}function Y(e,t,r,n,a){if(Array.isArray(t))for(var i=0;i<t.length;i++)Y(e,t[i],r,n,a);else n=s(n)?!!n.capture:!!n,r=te(r),e&&e[L]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(r=$(i=e.g[t],r,n,a))&&(U(i[r]),Array.prototype.splice.call(i,r,1),0==i.length&&(delete e.g[t],e.h--)))):e&&(e=Z(e))&&(t=e.g[t.toString()],e=-1,t&&(e=$(t,r,n,a)),(r=-1<e?t[e]:null)&&Q(r))}function Q(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[L])B(t.i,e);else{var r=e.type,n=e.proxy;t.removeEventListener?t.removeEventListener(r,n,e.capture):t.detachEvent?t.detachEvent(X(r),n):t.addListener&&t.removeListener&&t.removeListener(n),(r=Z(t))?(B(r,e),0==r.h&&(r.src=null,t[H]=null)):U(e)}}}function X(e){return e in q?q[e]:q[e]="on"+e}function J(e,t){if(e.da)e=!0;else{t=new M(t,this);var r=e.listener,n=e.ha||e.src;e.fa&&Q(e),e=r.call(n,t)}return e}function Z(e){return(e=e[H])instanceof V?e:null}var ee="__closure_events_fn_"+(1e9*Math.random()>>>0);function te(e){return"function"===typeof e?e:(e[ee]||(e[ee]=function(t){return e.handleEvent(t)}),e[ee])}function re(){O.call(this),this.i=new V(this),this.M=this,this.F=null}function ne(e,t){var r,n=e.F;if(n)for(r=[];n;n=n.F)r.push(n);if(e=e.M,n=t.type||t,"string"===typeof t)t=new P(t,e);else if(t instanceof P)t.target=t.target||e;else{var a=t;w(t=new P(n,e),a)}if(a=!0,r)for(var i=r.length-1;0<=i;i--){var s=t.g=r[i];a=ae(s,n,!0,t)&&a}if(a=ae(s=t.g=e,n,!0,t)&&a,a=ae(s,n,!1,t)&&a,r)for(i=0;i<r.length;i++)a=ae(s=t.g=r[i],n,!1,t)&&a}function ae(e,t,r,n){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var a=!0,i=0;i<t.length;++i){var s=t[i];if(s&&!s.da&&s.capture==r){var o=s.listener,l=s.ha||s.src;s.fa&&B(e.i,s),a=!1!==o.call(l,n)&&a}}return a&&!n.defaultPrevented}function ie(e,t,r){if("function"===typeof e)r&&(e=c(e,r));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=c(e.handleEvent,e)}return 2147483647<Number(t)?-1:a.setTimeout(e,t||0)}function se(e){e.g=ie(()=>{e.g=null,e.i&&(e.i=!1,se(e))},e.l);const t=e.h;e.h=null,e.m.apply(null,t)}d(re,O),re.prototype[L]=!0,re.prototype.removeEventListener=function(e,t,r,n){Y(this,e,t,r,n)},re.prototype.N=function(){if(re.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var r=t.g[e],n=0;n<r.length;n++)U(r[n]);delete t.g[e],t.h--}}this.F=null},re.prototype.K=function(e,t,r,n){return this.i.add(String(e),t,!1,r,n)},re.prototype.L=function(e,t,r,n){return this.i.add(String(e),t,!0,r,n)};class oe extends O{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:se(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function le(e){O.call(this),this.h=e,this.g={}}d(le,O);var ce=[];function ue(e){v(e.g,function(e,t){this.g.hasOwnProperty(t)&&Q(e)},e),e.g={}}le.prototype.N=function(){le.aa.N.call(this),ue(this)},le.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var de=a.JSON.stringify,he=a.JSON.parse,fe=class{stringify(e){return a.JSON.stringify(e,void 0)}parse(e){return a.JSON.parse(e,void 0)}};function pe(){}function me(e){return e.h||(e.h=e.i())}function ge(){}pe.prototype.h=null;var ye={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ve(){P.call(this,"d")}function xe(){P.call(this,"c")}d(ve,P),d(xe,P);var be={},we=null;function ke(){return we=we||new re}function je(e){P.call(this,be.La,e)}function Ne(e){const t=ke();ne(t,new je(t))}function Se(e,t){P.call(this,be.STAT_EVENT,e),this.stat=t}function Ee(e){const t=ke();ne(t,new Se(t,e))}function Ae(e,t){P.call(this,be.Ma,e),this.size=t}function _e(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){e()},t)}function Ce(){this.g=!0}function Te(e,t,r,n){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var r=JSON.parse(t);if(r)for(e=0;e<r.length;e++)if(Array.isArray(r[e])){var n=r[e];if(!(2>n.length)){var a=n[1];if(Array.isArray(a)&&!(1>a.length)){var i=a[0];if("noop"!=i&&"stop"!=i&&"close"!=i)for(var s=1;s<a.length;s++)a[s]=""}}}return de(r)}catch(o){return t}}(e,r)+(n?" "+n:"")})}be.La="serverreachability",d(je,P),be.STAT_EVENT="statevent",d(Se,P),be.Ma="timingevent",d(Ae,P),Ce.prototype.xa=function(){this.g=!1},Ce.prototype.info=function(){};var Ie,Oe={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Pe={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function De(){}function Me(e,t,r,n){this.j=e,this.i=t,this.l=r,this.R=n||1,this.U=new le(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Re}function Re(){this.i=null,this.g="",this.h=!1}d(De,pe),De.prototype.g=function(){return new XMLHttpRequest},De.prototype.i=function(){return{}},Ie=new De;var Le={},Fe={};function ze(e,t,r){e.L=1,e.v=dt(st(t)),e.m=r,e.P=!0,Ue(e,null)}function Ue(e,t){e.F=Date.now(),$e(e),e.A=st(e.v);var r=e.A,n=e.R;Array.isArray(n)||(n=[String(n)]),Nt(r.i,"t",n),e.C=0,r=e.j.J,e.h=new Re,e.g=dr(e.j,r?t:null,!e.m),0<e.O&&(e.M=new oe(c(e.Y,e,e.g),e.O)),t=e.U,r=e.g,n=e.ca;var a="readystatechange";Array.isArray(a)||(a&&(ce[0]=a.toString()),a=ce);for(var i=0;i<a.length;i++){var s=K(r,a[i],n||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}t=e.H?x(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Ne(),function(e,t,r,n,a,i){e.info(function(){if(e.g)if(i)for(var s="",o=i.split("&"),l=0;l<o.length;l++){var c=o[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");s=2<=d.length&&"type"==d[1]?s+(u+"=")+c+"&":s+(u+"=redacted&")}}else s=null;else s=i;return"XMLHTTP REQ ("+n+") [attempt "+a+"]: "+t+"\n"+r+"\n"+s})}(e.i,e.u,e.A,e.l,e.R,e.m)}function Ve(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function Be(e,t){var r=e.C,n=t.indexOf("\n",r);return-1==n?Fe:(r=Number(t.substring(r,n)),isNaN(r)?Le:(n+=1)+r>t.length?Fe:(t=t.slice(n,n+r),e.C=n+r,t))}function $e(e){e.S=Date.now()+e.I,He(e,e.I)}function He(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=_e(c(e.ba,e),t)}function qe(e){e.B&&(a.clearTimeout(e.B),e.B=null)}function Ke(e){0==e.j.G||e.J||sr(e.j,e)}function We(e){qe(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,ue(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function Ge(e,t){try{var r=e.j;if(0!=r.G&&(r.g==e||Ze(r.h,e)))if(!e.K&&Ze(r.h,e)&&3==r.G){try{var n=r.Da.g.parse(t)}catch(u){n=null}if(Array.isArray(n)&&3==n.length){var a=n;if(0==a[0]){e:if(!r.u){if(r.g){if(!(r.g.F+3e3<e.F))break e;ir(r),Yt(r)}rr(r),Ee(18)}}else r.za=a[1],0<r.za-r.T&&37500>a[2]&&r.F&&0==r.v&&!r.C&&(r.C=_e(c(r.Za,r),6e3));if(1>=Je(r.h)&&r.ca){try{r.ca()}catch(u){}r.ca=void 0}}else lr(r,11)}else if((e.K||r.g==e)&&ir(r),!p(t))for(a=r.Da.g.parse(t),t=0;t<a.length;t++){let c=a[t];if(r.T=c[0],c=c[1],2==r.G)if("c"==c[0]){r.K=c[1],r.ia=c[2];const t=c[3];null!=t&&(r.la=t,r.j.info("VER="+r.la));const a=c[4];null!=a&&(r.Aa=a,r.j.info("SVER="+r.Aa));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(n=1.5*u,r.L=n,r.j.info("backChannelRequestTimeoutMs_="+n)),n=r;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var i=n.h;i.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(i.j=i.l,i.g=new Set,i.h&&(et(i,i.h),i.h=null))}if(n.D){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(n.ya=e,ut(n.I,n.D,e))}}r.G=3,r.l&&r.l.ua(),r.ba&&(r.R=Date.now()-e.F,r.j.info("Handshake RTT: "+r.R+"ms"));var s=e;if((n=r).qa=ur(n,n.J?n.ia:null,n.W),s.K){tt(n.h,s);var o=s,l=n.L;l&&(o.I=l),o.B&&(qe(o),$e(o)),n.g=s}else tr(n);0<r.i.length&&Xt(r)}else"stop"!=c[0]&&"close"!=c[0]||lr(r,7);else 3==r.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?lr(r,7):Gt(r):"noop"!=c[0]&&r.l&&r.l.ta(c),r.v=0)}Ne()}catch(u){}}Me.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==Ht(e)?t.j():this.Y(e)},Me.prototype.Y=function(e){try{if(e==this.g)e:{const h=Ht(this.g);var t=this.g.Ba();this.g.Z();if(!(3>h)&&(3!=h||this.g&&(this.h.h||this.g.oa()||qt(this.g)))){this.J||4!=h||7==t||Ne(),qe(this);var r=this.g.Z();this.X=r;t:if(Ve(this)){var n=qt(this.g);e="";var i=n.length,s=4==Ht(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){We(this),Ke(this);var o="";break t}this.h.i=new a.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(n[t],{stream:!(s&&t==i-1)});n.length=0,this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.oa();if(this.o=200==r,function(e,t,r,n,a,i,s){e.info(function(){return"XMLHTTP RESP ("+n+") [ attempt "+a+"]: "+t+"\n"+r+"\n"+i+" "+s})}(this.i,this.u,this.A,this.l,this.R,h,r),this.o){if(this.T&&!this.K){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!p(l)){var u=l;break t}}u=null}if(!(r=u)){this.o=!1,this.s=3,Ee(12),We(this),Ke(this);break e}Te(this.i,this.l,r,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ge(this,r)}if(this.P){let e;for(r=!0;!this.J&&this.C<o.length;){if(e=Be(this,o),e==Fe){4==h&&(this.s=4,Ee(14),r=!1),Te(this.i,this.l,null,"[Incomplete Response]");break}if(e==Le){this.s=4,Ee(15),Te(this.i,this.l,o,"[Invalid Chunk]"),r=!1;break}Te(this.i,this.l,e,null),Ge(this,e)}if(Ve(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=h||0!=o.length||this.h.h||(this.s=1,Ee(16),r=!1),this.o=this.o&&r,r){if(0<o.length&&!this.W){this.W=!0;var d=this.j;d.g==this&&d.ba&&!d.M&&(d.j.info("Great, no buffering proxy detected. Bytes received: "+o.length),nr(d),d.M=!0,Ee(11))}}else Te(this.i,this.l,o,"[Invalid Chunked Response]"),We(this),Ke(this)}else Te(this.i,this.l,o,null),Ge(this,o);4==h&&We(this),this.o&&!this.J&&(4==h?sr(this.j,this):(this.o=!1,$e(this)))}else(function(e){const t={};e=(e.g&&2<=Ht(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let n=0;n<e.length;n++){if(p(e[n]))continue;var r=k(e[n]);const a=r[0];if("string"!==typeof(r=r[1]))continue;r=r.trim();const i=t[a]||[];t[a]=i,i.push(r)}!function(e,t){for(const r in e)t.call(void 0,e[r],r,e)}(t,function(e){return e.join(", ")})})(this.g),400==r&&0<o.indexOf("Unknown SID")?(this.s=3,Ee(12)):(this.s=0,Ee(13)),We(this),Ke(this)}}}catch(h){}},Me.prototype.cancel=function(){this.J=!0,We(this)},Me.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.i,this.A),2!=this.L&&(Ne(),Ee(17)),We(this),this.s=2,Ke(this)):He(this,this.S-e)};var Ye=class{constructor(e,t){this.g=e,this.map=t}};function Qe(e){this.l=e||10,a.PerformanceNavigationTiming?e=0<(e=a.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Xe(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Je(e){return e.h?1:e.g?e.g.size:0}function Ze(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function et(e,t){e.g?e.g.add(t):e.h=t}function tt(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function rt(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const r of e.g.values())t=t.concat(r.D);return t}return h(e.i)}function nt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(i(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var r=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(i(e)||"string"===typeof e){var t=[];e=e.length;for(var r=0;r<e;r++)t.push(r);return t}t=[],r=0;for(const n in e)t[r++]=n;return t}}}(e),n=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(i(e)){for(var t=[],r=e.length,n=0;n<r;n++)t.push(e[n]);return t}for(n in t=[],r=0,e)t[r++]=e[n];return t}(e),a=n.length,s=0;s<a;s++)t.call(void 0,n[s],r&&r[s],e)}Qe.prototype.cancel=function(){if(this.i=rt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var at=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function it(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof it){this.h=e.h,ot(this,e.j),this.o=e.o,this.g=e.g,lt(this,e.s),this.l=e.l;var t=e.i,r=new bt;r.i=t.i,t.g&&(r.g=new Map(t.g),r.h=t.h),ct(this,r),this.m=e.m}else e&&(t=String(e).match(at))?(this.h=!1,ot(this,t[1]||"",!0),this.o=ht(t[2]||""),this.g=ht(t[3]||"",!0),lt(this,t[4]),this.l=ht(t[5]||"",!0),ct(this,t[6]||"",!0),this.m=ht(t[7]||"")):(this.h=!1,this.i=new bt(null,this.h))}function st(e){return new it(e)}function ot(e,t,r){e.j=r?ht(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function lt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function ct(e,t,r){t instanceof bt?(e.i=t,function(e,t){t&&!e.j&&(wt(e),e.i=null,e.g.forEach(function(e,t){var r=t.toLowerCase();t!=r&&(kt(this,t),Nt(this,r,e))},e)),e.j=t}(e.i,e.h)):(r||(t=ft(t,vt)),e.i=new bt(t,e.h))}function ut(e,t,r){e.i.set(t,r)}function dt(e){return ut(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function ht(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ft(e,t,r){return"string"===typeof e?(e=encodeURI(e).replace(t,pt),r&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function pt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}it.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ft(t,mt,!0),":");var r=this.g;return(r||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(ft(t,mt,!0),"@"),e.push(encodeURIComponent(String(r)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(r=this.s)&&e.push(":",String(r))),(r=this.l)&&(this.g&&"/"!=r.charAt(0)&&e.push("/"),e.push(ft(r,"/"==r.charAt(0)?yt:gt,!0))),(r=this.i.toString())&&e.push("?",r),(r=this.m)&&e.push("#",ft(r,xt)),e.join("")};var mt=/[#\/\?@]/g,gt=/[#\?:]/g,yt=/[#\?]/g,vt=/[#\?@]/g,xt=/#/g;function bt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function wt(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var r=0;r<e.length;r++){var n=e[r].indexOf("="),a=null;if(0<=n){var i=e[r].substring(0,n);a=e[r].substring(n+1)}else i=e[r];t(i,a?decodeURIComponent(a.replace(/\+/g," ")):"")}}}(e.i,function(t,r){e.add(decodeURIComponent(t.replace(/\+/g," ")),r)}))}function kt(e,t){wt(e),t=St(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function jt(e,t){return wt(e),t=St(e,t),e.g.has(t)}function Nt(e,t,r){kt(e,t),0<r.length&&(e.i=null,e.g.set(St(e,t),h(r)),e.h+=r.length)}function St(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Et(e,t,r,n,a){try{a&&(a.onload=null,a.onerror=null,a.onabort=null,a.ontimeout=null),n(r)}catch(i){}}function At(){this.g=new fe}function _t(e,t,r){const n=r||"";try{nt(e,function(e,r){let a=e;s(e)&&(a=de(e)),t.push(n+r+"="+encodeURIComponent(a))})}catch(bq){throw t.push(n+"type="+encodeURIComponent("_badmap")),bq}}function Ct(e){this.l=e.Ub||null,this.j=e.eb||!1}function Tt(e,t){re.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function It(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function Ot(e){e.readyState=4,e.l=null,e.j=null,e.v=null,Pt(e)}function Pt(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Dt(e){let t="";return v(e,function(e,r){t+=r,t+=":",t+=e,t+="\r\n"}),t}function Mt(e,t,r){e:{for(n in r){var n=!1;break e}n=!0}n||(r=Dt(r),"string"===typeof e?null!=r&&encodeURIComponent(String(r)):ut(e,t,r))}function Rt(e){re.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=bt.prototype).add=function(e,t){wt(this),this.i=null,e=St(this,e);var r=this.g.get(e);return r||this.g.set(e,r=[]),r.push(t),this.h+=1,this},e.forEach=function(e,t){wt(this),this.g.forEach(function(r,n){r.forEach(function(r){e.call(t,r,n,this)},this)},this)},e.na=function(){wt(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),r=[];for(let n=0;n<t.length;n++){const a=e[n];for(let e=0;e<a.length;e++)r.push(t[n])}return r},e.V=function(e){wt(this);let t=[];if("string"===typeof e)jt(this,e)&&(t=t.concat(this.g.get(St(this,e))));else{e=Array.from(this.g.values());for(let r=0;r<e.length;r++)t=t.concat(e[r])}return t},e.set=function(e,t){return wt(this),this.i=null,jt(this,e=St(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var r=0;r<t.length;r++){var n=t[r];const i=encodeURIComponent(String(n)),s=this.V(n);for(n=0;n<s.length;n++){var a=i;""!==s[n]&&(a+="="+encodeURIComponent(String(s[n]))),e.push(a)}}return this.i=e.join("&")},d(Ct,pe),Ct.prototype.g=function(){return new Tt(this.l,this.j)},Ct.prototype.i=function(e){return function(){return e}}({}),d(Tt,re),(e=Tt.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,Pt(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||a).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ot(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Pt(this)),this.g&&(this.readyState=3,Pt(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if("undefined"!==typeof a.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;It(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Ot(this):Pt(this),3==this.readyState&&It(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,Ot(this))},e.Qa=function(e){this.g&&(this.response=e,Ot(this))},e.ga=function(){this.g&&Ot(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var r=t.next();!r.done;)r=r.value,e.push(r[0]+": "+r[1]),r=t.next();return e.join("\r\n")},Object.defineProperty(Tt.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),d(Rt,re);var Lt=/^https?$/i,Ft=["POST","PUT"];function zt(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,Ut(e),Bt(e)}function Ut(e){e.A||(e.A=!0,ne(e,"complete"),ne(e,"error"))}function Vt(e){if(e.h&&"undefined"!=typeof n&&(!e.v[1]||4!=Ht(e)||2!=e.Z()))if(e.u&&4==Ht(e))ie(e.Ea,0,e);else if(ne(e,"readystatechange"),4==Ht(e)){e.h=!1;try{const n=e.Z();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var r;if(!(r=t)){var i;if(i=0===n){var s=String(e.D).match(at)[1]||null;!s&&a.self&&a.self.location&&(s=a.self.location.protocol.slice(0,-1)),i=!Lt.test(s?s.toLowerCase():"")}r=i}if(r)ne(e,"complete"),ne(e,"success");else{e.m=6;try{var o=2<Ht(e)?e.g.statusText:""}catch(l){o=""}e.l=o+" ["+e.Z()+"]",Ut(e)}}finally{Bt(e)}}}function Bt(e,t){if(e.g){$t(e);const r=e.g,n=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||ne(e,"ready");try{r.onreadystatechange=n}catch(bq){}}}function $t(e){e.I&&(a.clearTimeout(e.I),e.I=null)}function Ht(e){return e.g?e.g.readyState:0}function qt(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Kt(e,t,r){return r&&r.internalChannelParams&&r.internalChannelParams[e]||t}function Wt(e){this.Aa=0,this.i=[],this.j=new Ce,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Kt("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Kt("baseRetryDelayMs",5e3,e),this.cb=Kt("retryDelaySeedMs",1e4,e),this.Wa=Kt("forwardChannelMaxRetries",2,e),this.wa=Kt("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new Qe(e&&e.concurrentRequestLimit),this.Da=new At,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Gt(e){if(Qt(e),3==e.G){var t=e.U++,r=st(e.I);if(ut(r,"SID",e.K),ut(r,"RID",t),ut(r,"TYPE","terminate"),Zt(e,r),(t=new Me(e,e.j,t)).L=2,t.v=dt(st(r)),r=!1,a.navigator&&a.navigator.sendBeacon)try{r=a.navigator.sendBeacon(t.v.toString(),"")}catch(n){}!r&&a.Image&&((new Image).src=t.v,r=!0),r||(t.g=dr(t.j,null),t.g.ea(t.v)),t.F=Date.now(),$e(t)}cr(e)}function Yt(e){e.g&&(nr(e),e.g.cancel(),e.g=null)}function Qt(e){Yt(e),e.u&&(a.clearTimeout(e.u),e.u=null),ir(e),e.h.cancel(),e.s&&("number"===typeof e.s&&a.clearTimeout(e.s),e.s=null)}function Xt(e){if(!Xe(e.h)&&!e.s){e.s=!0;var t=e.Ga;A||T(),_||(A(),_=!0),C.add(t,e),e.B=0}}function Jt(e,t){var r;r=t?t.l:e.U++;const n=st(e.I);ut(n,"SID",e.K),ut(n,"RID",r),ut(n,"AID",e.T),Zt(e,n),e.m&&e.o&&Mt(n,e.m,e.o),r=new Me(e,e.j,r,e.B+1),null===e.m&&(r.H=e.o),t&&(e.i=t.D.concat(e.i)),t=er(e,r,1e3),r.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),et(e.h,r),ze(r,n,t)}function Zt(e,t){e.H&&v(e.H,function(e,r){ut(t,r,e)}),e.l&&nt({},function(e,r){ut(t,r,e)})}function er(e,t,r){r=Math.min(e.i.length,r);var n=e.l?c(e.l.Na,e.l,e):null;e:{var a=e.i;let t=-1;for(;;){const e=["count="+r];-1==t?0<r?(t=a[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let s=!0;for(let o=0;o<r;o++){let r=a[o].g;const l=a[o].map;if(r-=t,0>r)t=Math.max(0,a[o].g-100),s=!1;else try{_t(l,e,"req"+r+"_")}catch(i){n&&n(l)}}if(s){n=e.join("&");break e}}}return e=e.i.splice(0,r),t.D=e,n}function tr(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;A||T(),_||(A(),_=!0),C.add(t,e),e.v=0}}function rr(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=_e(c(e.Fa,e),or(e,e.v)),e.v++,!0)}function nr(e){null!=e.A&&(a.clearTimeout(e.A),e.A=null)}function ar(e){e.g=new Me(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=st(e.qa);ut(t,"RID","rpc"),ut(t,"SID",e.K),ut(t,"AID",e.T),ut(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&ut(t,"TO",e.ja),ut(t,"TYPE","xmlhttp"),Zt(e,t),e.m&&e.o&&Mt(t,e.m,e.o),e.L&&(e.g.I=e.L);var r=e.g;e=e.ia,r.L=1,r.v=dt(st(t)),r.m=null,r.P=!0,Ue(r,e)}function ir(e){null!=e.C&&(a.clearTimeout(e.C),e.C=null)}function sr(e,t){var r=null;if(e.g==t){ir(e),nr(e),e.g=null;var n=2}else{if(!Ze(e.h,t))return;r=t.D,tt(e.h,t),n=1}if(0!=e.G)if(t.o)if(1==n){r=t.m?t.m.length:0,t=Date.now()-t.F;var a=e.B;ne(n=ke(),new Ae(n,r)),Xt(e)}else tr(e);else if(3==(a=t.s)||0==a&&0<t.X||!(1==n&&function(e,t){return!(Je(e.h)>=e.h.j-(e.s?1:0))&&(e.s?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa))&&(e.s=_e(c(e.Ga,e,t),or(e,e.B)),e.B++,!0))}(e,t)||2==n&&rr(e)))switch(r&&0<r.length&&(t=e.h,t.i=t.i.concat(r)),a){case 1:lr(e,5);break;case 4:lr(e,10);break;case 3:lr(e,6);break;default:lr(e,2)}}function or(e,t){let r=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(r*=2),r*t}function lr(e,t){if(e.j.info("Error code "+t),2==t){var r=c(e.fb,e),n=e.Xa;const t=!n;n=new it(n||"//www.google.com/images/cleardot.gif"),a.location&&"http"==a.location.protocol||ot(n,"https"),dt(n),t?function(e,t){const r=new Ce;if(a.Image){const n=new Image;n.onload=u(Et,r,"TestLoadImage: loaded",!0,t,n),n.onerror=u(Et,r,"TestLoadImage: error",!1,t,n),n.onabort=u(Et,r,"TestLoadImage: abort",!1,t,n),n.ontimeout=u(Et,r,"TestLoadImage: timeout",!1,t,n),a.setTimeout(function(){n.ontimeout&&n.ontimeout()},1e4),n.src=e}else t(!1)}(n.toString(),r):function(e,t){new Ce;const r=new AbortController,n=setTimeout(()=>{r.abort(),Et(0,0,!1,t)},1e4);fetch(e,{signal:r.signal}).then(e=>{clearTimeout(n),e.ok?Et(0,0,!0,t):Et(0,0,!1,t)}).catch(()=>{clearTimeout(n),Et(0,0,!1,t)})}(n.toString(),r)}else Ee(2);e.G=0,e.l&&e.l.sa(t),cr(e),Qt(e)}function cr(e){if(e.G=0,e.ka=[],e.l){const t=rt(e.h);0==t.length&&0==e.i.length||(f(e.ka,t),f(e.ka,e.i),e.h.i.length=0,h(e.i),e.i.length=0),e.l.ra()}}function ur(e,t,r){var n=r instanceof it?st(r):new it(r);if(""!=n.g)t&&(n.g=t+"."+n.g),lt(n,n.s);else{var i=a.location;n=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var s=new it(null);n&&ot(s,n),t&&(s.g=t),i&&lt(s,i),r&&(s.l=r),n=s}return r=e.D,t=e.ya,r&&t&&ut(n,r,t),ut(n,"VER",e.la),Zt(e,n),n}function dr(e,t,r){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new Rt(new Ct({eb:r})):new Rt(e.pa)).Ha(e.J),t}function hr(){}function fr(){}function pr(e,t){re.call(this),this.g=new Wt(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!p(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!p(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new yr(this)}function mr(e){ve.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const r in t){e=r;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function gr(){xe.call(this),this.status=1}function yr(e){this.g=e}(e=Rt.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,r,n){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ie.g(),this.v=this.o?me(this.o):me(Ie),this.g.onreadystatechange=c(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(s){return void zt(this,s)}if(e=r||"",r=new Map(this.headers),n)if(Object.getPrototypeOf(n)===Object.prototype)for(var i in n)r.set(i,n[i]);else{if("function"!==typeof n.keys||"function"!==typeof n.get)throw Error("Unknown input type for opt_headers: "+String(n));for(const e of n.keys())r.set(e,n.get(e))}n=Array.from(r.keys()).find(e=>"content-type"==e.toLowerCase()),i=a.FormData&&e instanceof a.FormData,!(0<=Array.prototype.indexOf.call(Ft,t,void 0))||n||i||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[a,o]of r)this.g.setRequestHeader(a,o);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{$t(this),this.u=!0,this.g.send(e),this.u=!1}catch(s){zt(this,s)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,ne(this,"complete"),ne(this,"abort"),Bt(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Bt(this,!0)),Rt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Vt(this):this.bb())},e.bb=function(){Vt(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<Ht(this)?this.g.status:-1}catch(EV){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(EV){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),he(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=Wt.prototype).la=8,e.G=1,e.connect=function(e,t,r,n){Ee(0),this.W=e,this.H=t||{},r&&void 0!==n&&(this.H.OSID=r,this.H.OAID=n),this.F=this.X,this.I=ur(this,null,this.W),Xt(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const a=new Me(this,this.j,e);let i=this.o;if(this.S&&(i?(i=x(i),w(i,this.S)):i=this.S),null!==this.m||this.O||(a.H=i,i=null),this.P)e:{for(var t=0,r=0;r<this.i.length;r++){var n=this.i[r];if(void 0===(n="__data__"in n.map&&"string"===typeof(n=n.map.__data__)?n.length:void 0))break;if(4096<(t+=n)){t=r;break e}if(4096===t||r===this.i.length-1){t=r+1;break e}}t=1e3}else t=1e3;t=er(this,a,t),ut(r=st(this.I),"RID",e),ut(r,"CVER",22),this.D&&ut(r,"X-HTTP-Session-Id",this.D),Zt(this,r),i&&(this.O?t="headers="+encodeURIComponent(String(Dt(i)))+"&"+t:this.m&&Mt(r,this.m,i)),et(this.h,a),this.Ua&&ut(r,"TYPE","init"),this.P?(ut(r,"$req",t),ut(r,"SID","null"),a.T=!0,ze(a,r,null)):ze(a,r,t),this.G=2}}else 3==this.G&&(e?Jt(this,e):0==this.i.length||Xe(this.h)||Jt(this))},e.Fa=function(){if(this.u=null,ar(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=_e(c(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ee(10),Yt(this),ar(this))},e.Za=function(){null!=this.C&&(this.C=null,Yt(this),rr(this),Ee(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),Ee(2)):(this.j.info("Failed to ping google.com"),Ee(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=hr.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},fr.prototype.g=function(e,t){return new pr(e,t)},d(pr,re),pr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},pr.prototype.close=function(){Gt(this.g)},pr.prototype.o=function(e){var t=this.g;if("string"===typeof e){var r={};r.__data__=e,e=r}else this.u&&((r={}).__data__=de(e),e=r);t.i.push(new Ye(t.Ya++,e)),3==t.G&&Xt(t)},pr.prototype.N=function(){this.g.l=null,delete this.j,Gt(this.g),delete this.g,pr.aa.N.call(this)},d(mr,ve),d(gr,xe),d(yr,hr),yr.prototype.ua=function(){ne(this.g,"a")},yr.prototype.ta=function(e){ne(this.g,new mr(e))},yr.prototype.sa=function(e){ne(this.g,new gr)},yr.prototype.ra=function(){ne(this.g,"b")},fr.prototype.createWebChannel=fr.prototype.g,pr.prototype.send=pr.prototype.o,pr.prototype.open=pr.prototype.m,pr.prototype.close=pr.prototype.close,no=io.createWebChannelTransport=function(){return new fr},ro=io.getStatEventTarget=function(){return ke()},to=io.Event=be,eo=io.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Oe.NO_ERROR=0,Oe.TIMEOUT=8,Oe.HTTP_ERROR=6,Zs=io.ErrorCode=Oe,Pe.COMPLETE="complete",Js=io.EventType=Pe,ge.EventType=ye,ye.OPEN="a",ye.CLOSE="b",ye.ERROR="c",ye.MESSAGE="d",re.prototype.listen=re.prototype.K,Xs=io.WebChannel=ge,io.FetchXmlHttpFactory=Ct,Rt.prototype.listenOnce=Rt.prototype.L,Rt.prototype.getLastError=Rt.prototype.Ka,Rt.prototype.getLastErrorCode=Rt.prototype.Ba,Rt.prototype.getStatus=Rt.prototype.Z,Rt.prototype.getResponseJson=Rt.prototype.Oa,Rt.prototype.getResponseText=Rt.prototype.oa,Rt.prototype.send=Rt.prototype.ea,Rt.prototype.setWithCredentials=Rt.prototype.Ha,Qs=io.XhrIo=Rt}).apply("undefined"!==typeof ao?ao:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const so="@firebase/firestore",oo="4.9.0";class lo{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}lo.UNAUTHENTICATED=new lo(null),lo.GOOGLE_CREDENTIALS=new lo("google-credentials-uid"),lo.FIRST_PARTY=new lo("first-party-uid"),lo.MOCK_USER=new lo("mock-user");let co="12.0.0";const uo=new Zt("@firebase/firestore");function ho(){return uo.logLevel}function fo(e){if(uo.logLevel<=Gt.DEBUG){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];const a=r.map(go);uo.debug(`Firestore (${co}): ${e}`,...a)}}function po(e){if(uo.logLevel<=Gt.ERROR){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];const a=r.map(go);uo.error(`Firestore (${co}): ${e}`,...a)}}function mo(e){if(uo.logLevel<=Gt.WARN){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];const a=r.map(go);uo.warn(`Firestore (${co}): ${e}`,...a)}}function go(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function yo(e,t,r){let n="Unexpected state";"string"==typeof t?n=t:r=t,vo(e,n,r)}function vo(e,t,r){let n=`FIRESTORE (${co}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(void 0!==r)try{n+=" CONTEXT: "+JSON.stringify(r)}catch(e){n+=" CONTEXT: "+r}throw po(n),new Error(n)}function xo(e,t,r,n){let a="Unexpected state";"string"==typeof r?a=r:n=r,e||vo(t,a,n)}function bo(e,t){return e}const wo={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ko extends Ot{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class jo{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class No{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class So{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(lo.UNAUTHENTICATED))}shutdown(){}}class Eo{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Ao{constructor(e){this.t=e,this.currentUser=lo.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){xo(void 0===this.o,42304);let r=this.i;const n=e=>this.i!==r?(r=this.i,t(e)):Promise.resolve();let a=new jo;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new jo,e.enqueueRetryable(()=>n(this.currentUser))};const i=()=>{const t=a;e.enqueueRetryable(async()=>{await t.promise,await n(this.currentUser)})},s=e=>{fo("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),i())};this.t.onInit(e=>s(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?s(e):(fo("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new jo)}},0),i()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(fo("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(xo("string"==typeof t.accessToken,31837,{l:t}),new No(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return xo(null===e||"string"==typeof e,2055,{h:e}),new lo(e)}}class _o{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=lo.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Co{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new _o(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(lo.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class To{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Io{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,en(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){xo(void 0===this.o,3512);const r=e=>{null!=e.error&&fo("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);const r=e.token!==this.m;return this.m=e.token,fo("FirebaseAppCheckTokenProvider",`Received ${r?"new":"existing"} token.`),r?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable(()=>r(t))};const n=e=>{fo("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(e=>n(e)),setTimeout(()=>{if(!this.appCheck){const e=this.V.getImmediate({optional:!0});e?n(e):fo("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new To(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?(xo("string"==typeof e.token,44558,{tokenResult:e}),this.m=e.token,new To(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Oo(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),r=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(r);else for(let n=0;n<e;n++)r[n]=Math.floor(256*Math.random());return r}class Po{static newId(){const e=62*Math.floor(256/62);let t="";for(;t.length<20;){const r=Oo(40);for(let n=0;n<r.length;++n)t.length<20&&r[n]<e&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(r[n]%62))}return t}}function Do(e,t){return e<t?-1:e>t?1:0}function Mo(e,t){const r=Math.min(e.length,t.length);for(let n=0;n<r;n++){const r=e.charAt(n),a=t.charAt(n);if(r!==a)return Fo(r)===Fo(a)?Do(r,a):Fo(r)?1:-1}return Do(e.length,t.length)}const Ro=55296,Lo=57343;function Fo(e){const t=e.charCodeAt(0);return t>=Ro&&t<=Lo}function zo(e,t,r){return e.length===t.length&&e.every((e,n)=>r(e,t[n]))}const Uo="__name__";class Vo{constructor(e,t,r){void 0===t?t=0:t>e.length&&yo(637,{offset:t,range:e.length}),void 0===r?r=e.length-t:r>e.length-t&&yo(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===Vo.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Vo?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let n=0;n<r;n++){const r=Vo.compareSegments(e.get(n),t.get(n));if(0!==r)return r}return Do(e.length,t.length)}static compareSegments(e,t){const r=Vo.isNumericId(e),n=Vo.isNumericId(t);return r&&!n?-1:!r&&n?1:r&&n?Vo.extractNumericId(e).compare(Vo.extractNumericId(t)):Mo(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ks.fromString(e.substring(4,e.length-2))}}class Bo extends Vo{construct(e,t,r){return new Bo(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];for(const a of r){if(a.indexOf("//")>=0)throw new ko(wo.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);e.push(...a.split("/").filter(e=>e.length>0))}return new Bo(e)}static emptyPath(){return new Bo([])}}const $o=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ho extends Vo{construct(e,t,r){return new Ho(e,t,r)}static isValidIdentifier(e){return $o.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ho.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===Uo}static keyField(){return new Ho([Uo])}static fromServerFormat(e){const t=[];let r="",n=0;const a=()=>{if(0===r.length)throw new ko(wo.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let i=!1;for(;n<e.length;){const t=e[n];if("\\"===t){if(n+1===e.length)throw new ko(wo.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[n+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new ko(wo.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=t,n+=2}else"`"===t?(i=!i,n++):"."!==t||i?(r+=t,n++):(a(),n++)}if(a(),i)throw new ko(wo.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ho(t)}static emptyPath(){return new Ho([])}}class qo{constructor(e){this.path=e}static fromPath(e){return new qo(Bo.fromString(e))}static fromName(e){return new qo(Bo.fromString(e).popFirst(5))}static empty(){return new qo(Bo.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Bo.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Bo.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new qo(new Bo(e.slice()))}}function Ko(e,t,r){if(!r)throw new ko(wo.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function Wo(e){if(!qo.isDocumentKey(e))throw new ko(wo.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function Go(e){if(qo.isDocumentKey(e))throw new ko(wo.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function Yo(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}function Qo(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":yo(12329,{type:typeof e})}function Xo(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new ko(wo.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=Qo(e);throw new ko(wo.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${r}`)}}return e}function Jo(e,t){const r={typeString:e};return t&&(r.value=t),r}function Zo(e,t){if(!Yo(e))throw new ko(wo.INVALID_ARGUMENT,"JSON must be an object");let r;for(const n in t)if(t[n]){const a=t[n].typeString,i="value"in t[n]?{value:t[n].value}:void 0;if(!(n in e)){r=`JSON missing required field: '${n}'`;break}const s=e[n];if(a&&typeof s!==a){r=`JSON field '${n}' must be a ${a}.`;break}if(void 0!==i&&s!==i.value){r=`Expected '${n}' field to equal '${i.value}'`;break}}if(r)throw new ko(wo.INVALID_ARGUMENT,r);return!0}const el=-62135596800,tl=1e6;class rl{static now(){return rl.fromMillis(Date.now())}static fromDate(e){return rl.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*tl);return new rl(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ko(wo.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ko(wo.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<el)throw new ko(wo.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ko(wo.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/tl}_compareTo(e){return this.seconds===e.seconds?Do(this.nanoseconds,e.nanoseconds):Do(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:rl._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Zo(e,rl._jsonSchema))return new rl(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-el;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}rl._jsonSchemaVersion="firestore/timestamp/1.0",rl._jsonSchema={type:Jo("string",rl._jsonSchemaVersion),seconds:Jo("number"),nanoseconds:Jo("number")};class nl{static fromTimestamp(e){return new nl(e)}static min(){return new nl(new rl(0,0))}static max(){return new nl(new rl(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const al=-1;class il{constructor(e,t,r,n){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=n}}il.UNKNOWN_ID=-1;function sl(e,t){const r=e.toTimestamp().seconds,n=e.toTimestamp().nanoseconds+1,a=nl.fromTimestamp(1e9===n?new rl(r+1,0):new rl(r,n));return new ll(a,qo.empty(),t)}function ol(e){return new ll(e.readTime,e.key,al)}class ll{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new ll(nl.min(),qo.empty(),al)}static max(){return new ll(nl.max(),qo.empty(),al)}}function cl(e,t){let r=e.readTime.compareTo(t.readTime);return 0!==r?r:(r=qo.comparator(e.documentKey,t.documentKey),0!==r?r:Do(e.largestBatchId,t.largestBatchId))}const ul="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class dl{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}async function hl(e){if(e.code!==wo.FAILED_PRECONDITION||e.message!==ul)throw e;fo("LocalStore","Unexpectedly lost primary lease")}class fl{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&yo(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new fl((r,n)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(r,n)},this.catchCallback=e=>{this.wrapFailure(t,e).next(r,n)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof fl?t:fl.resolve(t)}catch(e){return fl.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):fl.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):fl.reject(t)}static resolve(e){return new fl((t,r)=>{t(e)})}static reject(e){return new fl((t,r)=>{r(e)})}static waitFor(e){return new fl((t,r)=>{let n=0,a=0,i=!1;e.forEach(e=>{++n,e.next(()=>{++a,i&&a===n&&t()},e=>r(e))}),i=!0,a===n&&t()})}static or(e){let t=fl.resolve(!1);for(const r of e)t=t.next(e=>e?fl.resolve(e):r());return t}static forEach(e,t){const r=[];return e.forEach((e,n)=>{r.push(t.call(this,e,n))}),this.waitFor(r)}static mapArray(e,t){return new fl((r,n)=>{const a=e.length,i=new Array(a);let s=0;for(let o=0;o<a;o++){const l=o;t(e[l]).next(e=>{i[l]=e,++s,s===a&&r(i)},e=>n(e))}})}static doWhile(e,t){return new fl((r,n)=>{const a=()=>{!0===e()?t().next(()=>{a()},n):r()};a()})}}function pl(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function ml(e){return"IndexedDbTransactionError"===e.name}class gl{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ae(e),this.ue=e=>t.writeSequenceNumber(e))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}gl.ce=-1;const yl=-1;function vl(e){return null==e}function xl(e){return 0===e&&1/e==-1/0}function bl(e){return"number"==typeof e&&Number.isInteger(e)&&!xl(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const wl="\x01";function kl(e){let t="";for(let r=0;r<e.length;r++)t.length>0&&(t=Nl(t)),t=jl(e.get(r),t);return Nl(t)}function jl(e,t){let r=t;const n=e.length;for(let a=0;a<n;a++){const t=e.charAt(a);switch(t){case"\0":r+="\x01\x10";break;case wl:r+="\x01\x11";break;default:r+=t}}return r}function Nl(e){return e+wl+"\x01"}const Sl="remoteDocuments",El="owner",Al="mutationQueues",_l="mutations";const Cl="documentMutations",Tl="remoteDocumentsV14",Il="remoteDocumentGlobal",Ol="targets",Pl="targetDocuments",Dl="targetGlobal",Ml="collectionParents",Rl="clientMetadata",Ll="bundles",Fl="namedQueries",zl="indexConfiguration",Ul="indexState",Vl="indexEntries",Bl="documentOverlays",$l="globals",Hl=[Al,_l,Cl,Sl,Ol,El,Dl,Pl,Rl,Il,Ml,Ll,Fl],ql=[Al,_l,Cl,Tl,Ol,El,Dl,Pl,Rl,Il,Ml,Ll,Fl,Bl],Kl=ql,Wl=[...Kl,zl,Ul,Vl];function Gl(e){let t=0;for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&t++;return t}function Yl(e,t){for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&t(r,e[r])}function Ql(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class Xl{constructor(e,t){this.comparator=e,this.root=t||Zl.EMPTY}insert(e,t){return new Xl(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Zl.BLACK,null,null))}remove(e){return new Xl(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Zl.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(0===n)return t+r.left.size;n<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Jl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Jl(this.root,e,this.comparator,!1)}getReverseIterator(){return new Jl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Jl(this.root,e,this.comparator,!0)}}class Jl{constructor(e,t,r,n){this.isReverse=n,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&n&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(0===a){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Zl{constructor(e,t,r,n,a){this.key=e,this.value=t,this.color=null!=r?r:Zl.RED,this.left=null!=n?n:Zl.EMPTY,this.right=null!=a?a:Zl.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,n,a){return new Zl(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=n?n:this.left,null!=a?a:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let n=this;const a=r(e,n.key);return n=a<0?n.copy(null,null,null,n.left.insert(e,t,r),null):0===a?n.copy(null,t,null,null,null):n.copy(null,null,null,null,n.right.insert(e,t,r)),n.fixUp()}removeMin(){if(this.left.isEmpty())return Zl.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,n=this;if(t(e,n.key)<0)n.left.isEmpty()||n.left.isRed()||n.left.left.isRed()||(n=n.moveRedLeft()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed()&&(n=n.rotateRight()),n.right.isEmpty()||n.right.isRed()||n.right.left.isRed()||(n=n.moveRedRight()),0===t(e,n.key)){if(n.right.isEmpty())return Zl.EMPTY;r=n.right.min(),n=n.copy(r.key,r.value,null,null,n.right.removeMin())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Zl.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Zl.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw yo(43730,{key:this.key,value:this.value});if(this.right.isRed())throw yo(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw yo(27949);return e+(this.isRed()?0:1)}}Zl.EMPTY=null,Zl.RED=!0,Zl.BLACK=!1,Zl.EMPTY=new class{constructor(){this.size=0}get key(){throw yo(57766)}get value(){throw yo(16141)}get color(){throw yo(16727)}get left(){throw yo(29726)}get right(){throw yo(36894)}copy(e,t,r,n,a){return this}insert(e,t,r){return new Zl(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ec{constructor(e){this.comparator=e,this.data=new Xl(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const n=r.getNext();if(this.comparator(n.key,e[1])>=0)return;t(n.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new tc(this.data.getIterator())}getIteratorFrom(e){return new tc(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof ec))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,n=r.getNext().key;if(0!==this.comparator(e,n))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new ec(this.comparator);return t.data=e,t}}class tc{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class rc{constructor(e){this.fields=e,e.sort(Ho.comparator)}static empty(){return new rc([])}unionWith(e){let t=new ec(Ho.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new rc(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return zo(this.fields,e.fields,(e,t)=>e.isEqual(t))}}class nc extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ac{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new nc("Invalid base64 string: "+e):e}}(e);return new ac(t)}static fromUint8Array(e){const t=function(e){let t="";for(let r=0;r<e.length;++r)t+=String.fromCharCode(e[r]);return t}(e);return new ac(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Do(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ac.EMPTY_BYTE_STRING=new ac("");const ic=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function sc(e){if(xo(!!e,39018),"string"==typeof e){let t=0;const r=ic.exec(e);if(xo(!!r,46558,{timestamp:e}),r[1]){let e=r[1];e=(e+"000000000").substr(0,9),t=Number(e)}const n=new Date(e);return{seconds:Math.floor(n.getTime()/1e3),nanos:t}}return{seconds:oc(e.seconds),nanos:oc(e.nanos)}}function oc(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function lc(e){return"string"==typeof e?ac.fromBase64String(e):ac.fromUint8Array(e)}const cc="server_timestamp",uc="__type__",dc="__previous_value__",hc="__local_write_time__";function fc(e){const t=(e?.mapValue?.fields||{})[uc]?.stringValue;return t===cc}function pc(e){const t=e.mapValue.fields[dc];return fc(t)?pc(t):t}function mc(e){const t=sc(e.mapValue.fields[hc].timestampValue);return new rl(t.seconds,t.nanos)}class gc{constructor(e,t,r,n,a,i,s,o,l,c){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=n,this.ssl=a,this.forceLongPolling=i,this.autoDetectLongPolling=s,this.longPollingOptions=o,this.useFetchStreams=l,this.isUsingEmulator=c}}const yc="(default)";class vc{constructor(e,t){this.projectId=e,this.database=t||yc}static empty(){return new vc("","")}get isDefaultDatabase(){return this.database===yc}isEqual(e){return e instanceof vc&&e.projectId===this.projectId&&e.database===this.database}}const xc="__type__",bc="__max__",wc={mapValue:{fields:{__type__:{stringValue:bc}}}},kc="__vector__",jc="value";function Nc(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?fc(e)?4:Vc(e)?9007199254740991:zc(e)?10:11:yo(28295,{value:e})}function Sc(e,t){if(e===t)return!0;const r=Nc(e);if(r!==Nc(t))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return mc(e).isEqual(mc(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const r=sc(e.timestampValue),n=sc(t.timestampValue);return r.seconds===n.seconds&&r.nanos===n.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return lc(e.bytesValue).isEqual(lc(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return oc(e.geoPointValue.latitude)===oc(t.geoPointValue.latitude)&&oc(e.geoPointValue.longitude)===oc(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return oc(e.integerValue)===oc(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const r=oc(e.doubleValue),n=oc(t.doubleValue);return r===n?xl(r)===xl(n):isNaN(r)&&isNaN(n)}return!1}(e,t);case 9:return zo(e.arrayValue.values||[],t.arrayValue.values||[],Sc);case 10:case 11:return function(e,t){const r=e.mapValue.fields||{},n=t.mapValue.fields||{};if(Gl(r)!==Gl(n))return!1;for(const a in r)if(r.hasOwnProperty(a)&&(void 0===n[a]||!Sc(r[a],n[a])))return!1;return!0}(e,t);default:return yo(52216,{left:e})}}function Ec(e,t){return void 0!==(e.values||[]).find(e=>Sc(e,t))}function Ac(e,t){if(e===t)return 0;const r=Nc(e),n=Nc(t);if(r!==n)return Do(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return Do(e.booleanValue,t.booleanValue);case 2:return function(e,t){const r=oc(e.integerValue||e.doubleValue),n=oc(t.integerValue||t.doubleValue);return r<n?-1:r>n?1:r===n?0:isNaN(r)?isNaN(n)?0:-1:1}(e,t);case 3:return _c(e.timestampValue,t.timestampValue);case 4:return _c(mc(e),mc(t));case 5:return Mo(e.stringValue,t.stringValue);case 6:return function(e,t){const r=lc(e),n=lc(t);return r.compareTo(n)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const r=e.split("/"),n=t.split("/");for(let a=0;a<r.length&&a<n.length;a++){const e=Do(r[a],n[a]);if(0!==e)return e}return Do(r.length,n.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const r=Do(oc(e.latitude),oc(t.latitude));return 0!==r?r:Do(oc(e.longitude),oc(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return Cc(e.arrayValue,t.arrayValue);case 10:return function(e,t){const r=e.fields||{},n=t.fields||{},a=r[jc]?.arrayValue,i=n[jc]?.arrayValue,s=Do(a?.values?.length||0,i?.values?.length||0);return 0!==s?s:Cc(a,i)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===wc.mapValue&&t===wc.mapValue)return 0;if(e===wc.mapValue)return 1;if(t===wc.mapValue)return-1;const r=e.fields||{},n=Object.keys(r),a=t.fields||{},i=Object.keys(a);n.sort(),i.sort();for(let s=0;s<n.length&&s<i.length;++s){const e=Mo(n[s],i[s]);if(0!==e)return e;const t=Ac(r[n[s]],a[i[s]]);if(0!==t)return t}return Do(n.length,i.length)}(e.mapValue,t.mapValue);default:throw yo(23264,{he:r})}}function _c(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Do(e,t);const r=sc(e),n=sc(t),a=Do(r.seconds,n.seconds);return 0!==a?a:Do(r.nanos,n.nanos)}function Cc(e,t){const r=e.values||[],n=t.values||[];for(let a=0;a<r.length&&a<n.length;++a){const e=Ac(r[a],n[a]);if(e)return e}return Do(r.length,n.length)}function Tc(e){return Ic(e)}function Ic(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=sc(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return lc(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return qo.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return`geo(${e.latitude},${e.longitude})`}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",r=!0;for(const n of e.values||[])r?r=!1:t+=",",t+=Ic(n);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let r="{",n=!0;for(const a of t)n?n=!1:r+=",",r+=`${a}:${Ic(e.fields[a])}`;return r+"}"}(e.mapValue):yo(61005,{value:e})}function Oc(e){switch(Nc(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=pc(e);return t?16+Oc(t):16;case 5:return 2*e.stringValue.length;case 6:return lc(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(e){return(e.values||[]).reduce((e,t)=>e+Oc(t),0)}(e.arrayValue);case 10:case 11:return function(e){let t=0;return Yl(e.fields,(e,r)=>{t+=e.length+Oc(r)}),t}(e.mapValue);default:throw yo(13486,{value:e})}}function Pc(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function Dc(e){return!!e&&"integerValue"in e}function Mc(e){return!!e&&"arrayValue"in e}function Rc(e){return!!e&&"nullValue"in e}function Lc(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Fc(e){return!!e&&"mapValue"in e}function zc(e){const t=(e?.mapValue?.fields||{})[xc]?.stringValue;return t===kc}function Uc(e){if(e.geoPointValue)return{geoPointValue:{...e.geoPointValue}};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:{...e.timestampValue}};if(e.mapValue){const t={mapValue:{fields:{}}};return Yl(e.mapValue.fields,(e,r)=>t.mapValue.fields[e]=Uc(r)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let r=0;r<(e.arrayValue.values||[]).length;++r)t.arrayValue.values[r]=Uc(e.arrayValue.values[r]);return t}return{...e}}function Vc(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===bc}class Bc{constructor(e){this.value=e}static empty(){return new Bc({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Fc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Uc(t)}setAll(e){let t=Ho.emptyPath(),r={},n=[];e.forEach((e,a)=>{if(!t.isImmediateParentOf(a)){const e=this.getFieldsMap(t);this.applyChanges(e,r,n),r={},n=[],t=a.popLast()}e?r[a.lastSegment()]=Uc(e):n.push(a.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,n)}delete(e){const t=this.field(e.popLast());Fc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Sc(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let n=t.mapValue.fields[e.get(r)];Fc(n)&&n.mapValue.fields||(n={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=n),t=n}return t.mapValue.fields}applyChanges(e,t,r){Yl(t,(t,r)=>e[t]=r);for(const n of r)delete e[n]}clone(){return new Bc(Uc(this.value))}}function $c(e){const t=[];return Yl(e.fields,(e,r)=>{const n=new Ho([e]);if(Fc(r)){const e=$c(r.mapValue).fields;if(0===e.length)t.push(n);else for(const r of e)t.push(n.child(r))}else t.push(n)}),new rc(t)}class Hc{constructor(e,t,r,n,a,i,s){this.key=e,this.documentType=t,this.version=r,this.readTime=n,this.createTime=a,this.data=i,this.documentState=s}static newInvalidDocument(e){return new Hc(e,0,nl.min(),nl.min(),nl.min(),Bc.empty(),0)}static newFoundDocument(e,t,r,n){return new Hc(e,1,t,nl.min(),r,n,0)}static newNoDocument(e,t){return new Hc(e,2,t,nl.min(),nl.min(),Bc.empty(),0)}static newUnknownDocument(e,t){return new Hc(e,3,t,nl.min(),nl.min(),Bc.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(nl.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Bc.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Bc.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=nl.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Hc&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Hc(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class qc{constructor(e,t){this.position=e,this.inclusive=t}}function Kc(e,t,r){let n=0;for(let a=0;a<e.position.length;a++){const i=t[a],s=e.position[a];if(n=i.field.isKeyField()?qo.comparator(qo.fromName(s.referenceValue),r.key):Ac(s,r.data.field(i.field)),"desc"===i.dir&&(n*=-1),0!==n)break}return n}function Wc(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let r=0;r<e.position.length;r++)if(!Sc(e.position[r],t.position[r]))return!1;return!0}class Gc{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function Yc(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class Qc{}class Xc extends Qc{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new iu(e,t,r):"array-contains"===t?new cu(e,r):"in"===t?new uu(e,r):"not-in"===t?new du(e,r):"array-contains-any"===t?new hu(e,r):new Xc(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new su(e,r):new ou(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&void 0===t.nullValue&&this.matchesComparison(Ac(t,this.value)):null!==t&&Nc(this.value)===Nc(t)&&this.matchesComparison(Ac(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return yo(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Jc extends Qc{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Jc(e,t)}matches(e){return Zc(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.Pe||(this.Pe=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Zc(e){return"and"===e.op}function eu(e){return tu(e)&&Zc(e)}function tu(e){for(const t of e.filters)if(t instanceof Jc)return!1;return!0}function ru(e){if(e instanceof Xc)return e.field.canonicalString()+e.op.toString()+Tc(e.value);if(eu(e))return e.filters.map(e=>ru(e)).join(",");{const t=e.filters.map(e=>ru(e)).join(",");return`${e.op}(${t})`}}function nu(e,t){return e instanceof Xc?function(e,t){return t instanceof Xc&&e.op===t.op&&e.field.isEqual(t.field)&&Sc(e.value,t.value)}(e,t):e instanceof Jc?function(e,t){return t instanceof Jc&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((e,r,n)=>e&&nu(r,t.filters[n]),!0)}(e,t):void yo(19439)}function au(e){return e instanceof Xc?function(e){return`${e.field.canonicalString()} ${e.op} ${Tc(e.value)}`}(e):e instanceof Jc?function(e){return e.op.toString()+" {"+e.getFilters().map(au).join(" ,")+"}"}(e):"Filter"}class iu extends Xc{constructor(e,t,r){super(e,t,r),this.key=qo.fromName(r.referenceValue)}matches(e){const t=qo.comparator(e.key,this.key);return this.matchesComparison(t)}}class su extends Xc{constructor(e,t){super(e,"in",t),this.keys=lu("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class ou extends Xc{constructor(e,t){super(e,"not-in",t),this.keys=lu("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function lu(e,t){return(t.arrayValue?.values||[]).map(e=>qo.fromName(e.referenceValue))}class cu extends Xc{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Mc(t)&&Ec(t.arrayValue,this.value)}}class uu extends Xc{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Ec(this.value.arrayValue,t)}}class du extends Xc{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ec(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&void 0===t.nullValue&&!Ec(this.value.arrayValue,t)}}class hu extends Xc{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Mc(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>Ec(this.value.arrayValue,e))}}class fu{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=n,this.limit=a,this.startAt=i,this.endAt=s,this.Te=null}}function pu(e){return new fu(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function mu(e){const t=bo(e);if(null===t.Te){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(e=>ru(e)).join(","),e+="|ob:",e+=t.orderBy.map(e=>function(e){return e.field.canonicalString()+e.dir}(e)).join(","),vl(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(e=>Tc(e)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(e=>Tc(e)).join(",")),t.Te=e}return t.Te}function gu(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let r=0;r<e.orderBy.length;r++)if(!Yc(e.orderBy[r],t.orderBy[r]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let r=0;r<e.filters.length;r++)if(!nu(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Wc(e.startAt,t.startAt)&&Wc(e.endAt,t.endAt)}function yu(e){return qo.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class vu{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=n,this.limit=a,this.limitType=i,this.startAt=s,this.endAt=o,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function xu(e,t,r,n,a,i,s,o){return new vu(e,t,r,n,a,i,s,o)}function bu(e){return new vu(e)}function wu(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function ku(e){return null!==e.collectionGroup}function ju(e){const t=bo(e);if(null===t.Ie){t.Ie=[];const e=new Set;for(const a of t.explicitOrderBy)t.Ie.push(a),e.add(a.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",n=function(e){let t=new ec(Ho.comparator);return e.filters.forEach(e=>{e.getFlattenedFilters().forEach(e=>{e.isInequality()&&(t=t.add(e.field))})}),t}(t);n.forEach(n=>{e.has(n.canonicalString())||n.isKeyField()||t.Ie.push(new Gc(n,r))}),e.has(Ho.keyField().canonicalString())||t.Ie.push(new Gc(Ho.keyField(),r))}return t.Ie}function Nu(e){const t=bo(e);return t.Ee||(t.Ee=Su(t,ju(e))),t.Ee}function Su(e,t){if("F"===e.limitType)return pu(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(e=>{const t="desc"===e.dir?"asc":"desc";return new Gc(e.field,t)});const r=e.endAt?new qc(e.endAt.position,e.endAt.inclusive):null,n=e.startAt?new qc(e.startAt.position,e.startAt.inclusive):null;return pu(e.path,e.collectionGroup,t,e.filters,e.limit,r,n)}}function Eu(e,t){const r=e.filters.concat([t]);return new vu(e.path,e.collectionGroup,e.explicitOrderBy.slice(),r,e.limit,e.limitType,e.startAt,e.endAt)}function Au(e,t,r){return new vu(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,r,e.startAt,e.endAt)}function _u(e,t){return gu(Nu(e),Nu(t))&&e.limitType===t.limitType}function Cu(e){return`${mu(Nu(e))}|lt:${e.limitType}`}function Tu(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(e=>au(e)).join(", ")}]`),vl(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e)).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(e=>Tc(e)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(e=>Tc(e)).join(",")),`Target(${t})`}(Nu(e))}; limitType=${e.limitType})`}function Iu(e,t){return t.isFoundDocument()&&function(e,t){const r=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(r):qo.isDocumentKey(e.path)?e.path.isEqual(r):e.path.isImmediateParentOf(r)}(e,t)&&function(e,t){for(const r of ju(e))if(!r.field.isKeyField()&&null===t.data.field(r.field))return!1;return!0}(e,t)&&function(e,t){for(const r of e.filters)if(!r.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,r){const n=Kc(e,t,r);return e.inclusive?n<=0:n<0}(e.startAt,ju(e),t))&&!(e.endAt&&!function(e,t,r){const n=Kc(e,t,r);return e.inclusive?n>=0:n>0}(e.endAt,ju(e),t))}(e,t)}function Ou(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Pu(e){return(t,r)=>{let n=!1;for(const a of ju(e)){const e=Du(a,t,r);if(0!==e)return e;n=n||a.field.isKeyField()}return 0}}function Du(e,t,r){const n=e.field.isKeyField()?qo.comparator(t.key,r.key):function(e,t,r){const n=t.data.field(e),a=r.data.field(e);return null!==n&&null!==a?Ac(n,a):yo(42886)}(e.field,t,r);switch(e.dir){case"asc":return n;case"desc":return-1*n;default:return yo(19790,{direction:e.dir})}}class Mu{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[n,a]of r)if(this.equalsFn(n,e))return a}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),n=this.inner[r];if(void 0===n)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<n.length;a++)if(this.equalsFn(n[a][0],e))return void(n[a]=[e,t]);n.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let n=0;n<r.length;n++)if(this.equalsFn(r[n][0],e))return 1===r.length?delete this.inner[t]:r.splice(n,1),this.innerSize--,!0;return!1}forEach(e){Yl(this.inner,(t,r)=>{for(const[n,a]of r)e(n,a)})}isEmpty(){return Ql(this.inner)}size(){return this.innerSize}}const Ru=new Xl(qo.comparator);function Lu(){return Ru}const Fu=new Xl(qo.comparator);function zu(){let e=Fu;for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];for(const a of r)e=e.insert(a.key,a);return e}function Uu(e){let t=Fu;return e.forEach((e,r)=>t=t.insert(e,r.overlayedDocument)),t}function Vu(){return $u()}function Bu(){return $u()}function $u(){return new Mu(e=>e.toString(),(e,t)=>e.isEqual(t))}const Hu=new Xl(qo.comparator),qu=new ec(qo.comparator);function Ku(){let e=qu;for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];for(const a of r)e=e.add(a);return e}const Wu=new ec(Do);function Gu(){return Wu}function Yu(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:xl(t)?"-0":t}}function Qu(e){return{integerValue:""+e}}function Xu(e,t){return bl(t)?Qu(t):Yu(e,t)}class Ju{constructor(){this._=void 0}}function Zu(e,t,r){return e instanceof rd?function(e,t){const r={fields:{[uc]:{stringValue:cc},[hc]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&fc(t)&&(t=pc(t)),t&&(r.fields[dc]=t),{mapValue:r}}(r,t):e instanceof nd?ad(e,t):e instanceof id?sd(e,t):function(e,t){const r=td(e,t),n=ld(r)+ld(e.Ae);return Dc(r)&&Dc(e.Ae)?Qu(n):Yu(e.serializer,n)}(e,t)}function ed(e,t,r){return e instanceof nd?ad(e,t):e instanceof id?sd(e,t):r}function td(e,t){return e instanceof od?function(e){return Dc(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class rd extends Ju{}class nd extends Ju{constructor(e){super(),this.elements=e}}function ad(e,t){const r=cd(t);for(const n of e.elements)r.some(e=>Sc(e,n))||r.push(n);return{arrayValue:{values:r}}}class id extends Ju{constructor(e){super(),this.elements=e}}function sd(e,t){let r=cd(t);for(const n of e.elements)r=r.filter(e=>!Sc(e,n));return{arrayValue:{values:r}}}class od extends Ju{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function ld(e){return oc(e.integerValue||e.doubleValue)}function cd(e){return Mc(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class ud{constructor(e,t){this.field=e,this.transform=t}}class dd{constructor(e,t){this.version=e,this.transformResults=t}}class hd{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new hd}static exists(e){return new hd(void 0,e)}static updateTime(e){return new hd(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function fd(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class pd{}function md(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Sd(e.key,hd.none()):new bd(e.key,e.data,hd.none());{const r=e.data,n=Bc.empty();let a=new ec(Ho.comparator);for(let e of t.fields)if(!a.has(e)){let t=r.field(e);null===t&&e.length>1&&(e=e.popLast(),t=r.field(e)),null===t?n.delete(e):n.set(e,t),a=a.add(e)}return new wd(e.key,n,new rc(a.toArray()),hd.none())}}function gd(e,t,r){e instanceof bd?function(e,t,r){const n=e.value.clone(),a=jd(e.fieldTransforms,t,r.transformResults);n.setAll(a),t.convertToFoundDocument(r.version,n).setHasCommittedMutations()}(e,t,r):e instanceof wd?function(e,t,r){if(!fd(e.precondition,t))return void t.convertToUnknownDocument(r.version);const n=jd(e.fieldTransforms,t,r.transformResults),a=t.data;a.setAll(kd(e)),a.setAll(n),t.convertToFoundDocument(r.version,a).setHasCommittedMutations()}(e,t,r):function(e,t,r){t.convertToNoDocument(r.version).setHasCommittedMutations()}(0,t,r)}function yd(e,t,r,n){return e instanceof bd?function(e,t,r,n){if(!fd(e.precondition,t))return r;const a=e.value.clone(),i=Nd(e.fieldTransforms,n,t);return a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null}(e,t,r,n):e instanceof wd?function(e,t,r,n){if(!fd(e.precondition,t))return r;const a=Nd(e.fieldTransforms,n,t),i=t.data;return i.setAll(kd(e)),i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null===r?null:r.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>e.field))}(e,t,r,n):function(e,t,r){return fd(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):r}(e,t,r)}function vd(e,t){let r=null;for(const n of e.fieldTransforms){const e=t.data.field(n.field),a=td(n.transform,e||null);null!=a&&(null===r&&(r=Bc.empty()),r.set(n.field,a))}return r||null}function xd(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&zo(e,t,(e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof nd&&t instanceof nd||e instanceof id&&t instanceof id?zo(e.elements,t.elements,Sc):e instanceof od&&t instanceof od?Sc(e.Ae,t.Ae):e instanceof rd&&t instanceof rd}(e.transform,t.transform)}(e,t))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class bd extends pd{constructor(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=n,this.type=0}getFieldMask(){return null}}class wd extends pd{constructor(e,t,r,n){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=n,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function kd(e){const t=new Map;return e.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const n=e.data.field(r);t.set(r,n)}}),t}function jd(e,t,r){const n=new Map;xo(e.length===r.length,32656,{Re:r.length,Ve:e.length});for(let a=0;a<r.length;a++){const i=e[a],s=i.transform,o=t.data.field(i.field);n.set(i.field,ed(s,o,r[a]))}return n}function Nd(e,t,r){const n=new Map;for(const a of e){const e=a.transform,i=r.data.field(a.field);n.set(a.field,Zu(e,i,t))}return n}class Sd extends pd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Ed extends pd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Ad{constructor(e,t,r,n){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=n}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let n=0;n<this.mutations.length;n++){const t=this.mutations[n];t.key.isEqual(e.key)&&gd(t,e,r[n])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=yd(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=yd(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=Bu();return this.mutations.forEach(n=>{const a=e.get(n.key),i=a.overlayedDocument;let s=this.applyToLocalView(i,a.mutatedFields);s=t.has(n.key)?null:s;const o=md(i,s);null!==o&&r.set(n.key,o),i.isValidDocument()||i.convertToNoDocument(nl.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ku())}isEqual(e){return this.batchId===e.batchId&&zo(this.mutations,e.mutations,(e,t)=>xd(e,t))&&zo(this.baseMutations,e.baseMutations,(e,t)=>xd(e,t))}}class _d{constructor(e,t,r,n){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=n}static from(e,t,r){xo(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let n=Hu;const a=e.mutations;for(let i=0;i<a.length;i++)n=n.insert(a[i].key,r[i].version);return new _d(e,t,r,n)}}class Cd{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Td{constructor(e,t){this.count=e,this.unchangedNames=t}}var Id,Od;function Pd(e){switch(e){case wo.OK:return yo(64938);case wo.CANCELLED:case wo.UNKNOWN:case wo.DEADLINE_EXCEEDED:case wo.RESOURCE_EXHAUSTED:case wo.INTERNAL:case wo.UNAVAILABLE:case wo.UNAUTHENTICATED:return!1;case wo.INVALID_ARGUMENT:case wo.NOT_FOUND:case wo.ALREADY_EXISTS:case wo.PERMISSION_DENIED:case wo.FAILED_PRECONDITION:case wo.ABORTED:case wo.OUT_OF_RANGE:case wo.UNIMPLEMENTED:case wo.DATA_LOSS:return!0;default:return yo(15467,{code:e})}}function Dd(e){if(void 0===e)return po("GRPC error has no .code"),wo.UNKNOWN;switch(e){case Id.OK:return wo.OK;case Id.CANCELLED:return wo.CANCELLED;case Id.UNKNOWN:return wo.UNKNOWN;case Id.DEADLINE_EXCEEDED:return wo.DEADLINE_EXCEEDED;case Id.RESOURCE_EXHAUSTED:return wo.RESOURCE_EXHAUSTED;case Id.INTERNAL:return wo.INTERNAL;case Id.UNAVAILABLE:return wo.UNAVAILABLE;case Id.UNAUTHENTICATED:return wo.UNAUTHENTICATED;case Id.INVALID_ARGUMENT:return wo.INVALID_ARGUMENT;case Id.NOT_FOUND:return wo.NOT_FOUND;case Id.ALREADY_EXISTS:return wo.ALREADY_EXISTS;case Id.PERMISSION_DENIED:return wo.PERMISSION_DENIED;case Id.FAILED_PRECONDITION:return wo.FAILED_PRECONDITION;case Id.ABORTED:return wo.ABORTED;case Id.OUT_OF_RANGE:return wo.OUT_OF_RANGE;case Id.UNIMPLEMENTED:return wo.UNIMPLEMENTED;case Id.DATA_LOSS:return wo.DATA_LOSS;default:return yo(39323,{code:e})}}(Od=Id||(Id={}))[Od.OK=0]="OK",Od[Od.CANCELLED=1]="CANCELLED",Od[Od.UNKNOWN=2]="UNKNOWN",Od[Od.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Od[Od.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Od[Od.NOT_FOUND=5]="NOT_FOUND",Od[Od.ALREADY_EXISTS=6]="ALREADY_EXISTS",Od[Od.PERMISSION_DENIED=7]="PERMISSION_DENIED",Od[Od.UNAUTHENTICATED=16]="UNAUTHENTICATED",Od[Od.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Od[Od.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Od[Od.ABORTED=10]="ABORTED",Od[Od.OUT_OF_RANGE=11]="OUT_OF_RANGE",Od[Od.UNIMPLEMENTED=12]="UNIMPLEMENTED",Od[Od.INTERNAL=13]="INTERNAL",Od[Od.UNAVAILABLE=14]="UNAVAILABLE",Od[Od.DATA_LOSS=15]="DATA_LOSS";let Md=null;function Rd(){return new TextEncoder}const Ld=new Ks([4294967295,4294967295],0);function Fd(e){const t=Rd().encode(e),r=new Ws;return r.update(t),new Uint8Array(r.digest())}function zd(e){const t=new DataView(e.buffer),r=t.getUint32(0,!0),n=t.getUint32(4,!0),a=t.getUint32(8,!0),i=t.getUint32(12,!0);return[new Ks([r,n],0),new Ks([a,i],0)]}class Ud{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Vd(`Invalid padding: ${t}`);if(r<0)throw new Vd(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new Vd(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new Vd(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Ks.fromNumber(this.ge)}ye(e,t,r){let n=e.add(t.multiply(Ks.fromNumber(r)));return 1===n.compare(Ld)&&(n=new Ks([n.getBits(0),n.getBits(1)],0)),n.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.ge)return!1;const t=Fd(e),[r,n]=zd(t);for(let a=0;a<this.hashCount;a++){const e=this.ye(r,n,a);if(!this.we(e))return!1}return!0}static create(e,t,r){const n=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),i=new Ud(a,n,t);return r.forEach(e=>i.insert(e)),i}insert(e){if(0===this.ge)return;const t=Fd(e),[r,n]=zd(t);for(let a=0;a<this.hashCount;a++){const e=this.ye(r,n,a);this.Se(e)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Vd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Bd{constructor(e,t,r,n,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=n,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const n=new Map;return n.set(e,$d.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Bd(nl.min(),n,new Xl(Do),Lu(),Ku())}}class $d{constructor(e,t,r,n,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=n,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new $d(r,t,Ku(),Ku(),Ku())}}class Hd{constructor(e,t,r,n){this.be=e,this.removedTargetIds=t,this.key=r,this.De=n}}class qd{constructor(e,t){this.targetId=e,this.Ce=t}}class Kd{constructor(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ac.EMPTY_BYTE_STRING,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=n}}class Wd{constructor(){this.ve=0,this.Fe=Qd(),this.Me=ac.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return 0!==this.ve}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ku(),t=Ku(),r=Ku();return this.Fe.forEach((n,a)=>{switch(a){case 0:e=e.add(n);break;case 2:t=t.add(n);break;case 1:r=r.add(n);break;default:yo(38017,{changeType:a})}}),new $d(this.Me,this.xe,e,t,r)}qe(){this.Oe=!1,this.Fe=Qd()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,xo(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Gd{constructor(e){this.Ge=e,this.ze=new Map,this.je=Lu(),this.Je=Yd(),this.He=Yd(),this.Ye=new Xl(Do)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,t=>{const r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:yo(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach((e,r)=>{this.rt(r)&&t(r)})}st(e){const t=e.targetId,r=e.Ce.count,n=this.ot(t);if(n){const a=n.target;if(yu(a))if(0===r){const e=new qo(a.path);this.et(t,e,Hc.newNoDocument(e,nl.min()))}else xo(1===r,20013,{expectedCount:r});else{const n=this._t(t);if(n!==r){const r=this.ut(e),a=r?this.ct(r,e,n):1;if(0!==a){this.it(t);const e=2===a?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,e)}Md?.lt(function(e,t,r,n,a){const i={localCacheCount:e,existenceFilterCount:t.count,databaseId:r.database,projectId:r.projectId},s=t.unchangedNames;return s&&(i.bloomFilter={applied:0===a,hashCount:s?.hashCount??0,bitmapLength:s?.bits?.bitmap?.length??0,padding:s?.bits?.padding??0,mightContain:e=>n?.mightContain(e)??!1}),i}(n,e.Ce,this.Ge.ht(),r,a))}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:n=0},hashCount:a=0}=t;let i,s;try{i=lc(r).toUint8Array()}catch(e){if(e instanceof nc)return mo("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{s=new Ud(i,n,a)}catch(e){return mo(e instanceof Vd?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===s.ge?null:s}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){const r=this.Ge.getRemoteKeysForTarget(t);let n=0;return r.forEach(r=>{const a=this.Ge.ht(),i=`projects/${a.projectId}/databases/${a.database}/documents/${r.path.canonicalString()}`;e.mightContain(i)||(this.et(t,r,null),n++)}),n}Tt(e){const t=new Map;this.ze.forEach((r,n)=>{const a=this.ot(n);if(a){if(r.current&&yu(a.target)){const t=new qo(a.target.path);this.It(t).has(n)||this.Et(n,t)||this.et(n,t,Hc.newNoDocument(t,e))}r.Be&&(t.set(n,r.ke()),r.qe())}});let r=Ku();this.He.forEach((e,t)=>{let n=!0;t.forEachWhile(e=>{const t=this.ot(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(n=!1,!1)}),n&&(r=r.add(e))}),this.je.forEach((t,r)=>r.setReadTime(e));const n=new Bd(e,t,this.Ye,this.je,r);return this.je=Lu(),this.Je=Yd(),this.He=Yd(),this.Ye=new Xl(Do),n}Xe(e,t){if(!this.rt(e))return;const r=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,r),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;const n=this.nt(e);this.Et(e,t)?n.Qe(t,1):n.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new Wd,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new ec(Do),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new ec(Do),this.Je=this.Je.insert(e,t)),t}rt(e){const t=null!==this.ot(e);return t||fo("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Wd),this.Ge.getRemoteKeysForTarget(e).forEach(t=>{this.et(e,t,null)})}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Yd(){return new Xl(qo.comparator)}function Qd(){return new Xl(qo.comparator)}const Xd={asc:"ASCENDING",desc:"DESCENDING"},Jd={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Zd={and:"AND",or:"OR"};class eh{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function th(e,t){return e.useProto3Json||vl(t)?t:{value:t}}function rh(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function nh(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function ah(e,t){return rh(e,t.toTimestamp())}function ih(e){return xo(!!e,49232),nl.fromTimestamp(function(e){const t=sc(e);return new rl(t.seconds,t.nanos)}(e))}function sh(e,t){return oh(e,t).canonicalString()}function oh(e,t){const r=function(e){return new Bo(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?r:r.child(t)}function lh(e){const t=Bo.fromString(e);return xo(_h(t),10190,{key:t.toString()}),t}function ch(e,t){return sh(e.databaseId,t.path)}function uh(e,t){const r=lh(t);if(r.get(1)!==e.databaseId.projectId)throw new ko(wo.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+e.databaseId.projectId);if(r.get(3)!==e.databaseId.database)throw new ko(wo.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+e.databaseId.database);return new qo(ph(r))}function dh(e,t){return sh(e.databaseId,t)}function hh(e){const t=lh(e);return 4===t.length?Bo.emptyPath():ph(t)}function fh(e){return new Bo(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function ph(e){return xo(e.length>4&&"documents"===e.get(4),29091,{key:e.toString()}),e.popFirst(5)}function mh(e,t,r){return{name:ch(e,t),fields:r.value.mapValue.fields}}function gh(e,t){let r;if(t instanceof bd)r={update:mh(e,t.key,t.value)};else if(t instanceof Sd)r={delete:ch(e,t.key)};else if(t instanceof wd)r={update:mh(e,t.key,t.data),updateMask:Ah(t.fieldMask)};else{if(!(t instanceof Ed))return yo(16599,{Vt:t.type});r={verify:ch(e,t.key)}}return t.fieldTransforms.length>0&&(r.updateTransforms=t.fieldTransforms.map(e=>function(e,t){const r=t.transform;if(r instanceof rd)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(r instanceof nd)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:r.elements}};if(r instanceof id)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:r.elements}};if(r instanceof od)return{fieldPath:t.field.canonicalString(),increment:r.Ae};throw yo(20930,{transform:t.transform})}(0,e))),t.precondition.isNone||(r.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:ah(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:yo(27497)}(e,t.precondition)),r}function yh(e,t){return{documents:[dh(e,t.path)]}}function vh(e,t){const r={structuredQuery:{}},n=t.path;let a;null!==t.collectionGroup?(a=n,r.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(a=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=dh(e,a);const i=function(e){if(0!==e.length)return Eh(Jc.create(e,"and"))}(t.filters);i&&(r.structuredQuery.where=i);const s=function(e){if(0!==e.length)return e.map(e=>function(e){return{field:Nh(e.field),direction:wh(e.dir)}}(e))}(t.orderBy);s&&(r.structuredQuery.orderBy=s);const o=th(e,t.limit);return null!==o&&(r.structuredQuery.limit=o),t.startAt&&(r.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(r.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{ft:r,parent:a}}function xh(e){let t=hh(e.parent);const r=e.structuredQuery,n=r.from?r.from.length:0;let a=null;if(n>0){xo(1===n,65062);const e=r.from[0];e.allDescendants?a=e.collectionId:t=t.child(e.collectionId)}let i=[];r.where&&(i=function(e){const t=bh(e);return t instanceof Jc&&eu(t)?t.getFilters():[t]}(r.where));let s=[];r.orderBy&&(s=function(e){return e.map(e=>function(e){return new Gc(Sh(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))}(r.orderBy));let o=null;r.limit&&(o=function(e){let t;return t="object"==typeof e?e.value:e,vl(t)?null:t}(r.limit));let l=null;r.startAt&&(l=function(e){const t=!!e.before,r=e.values||[];return new qc(r,t)}(r.startAt));let c=null;return r.endAt&&(c=function(e){const t=!e.before,r=e.values||[];return new qc(r,t)}(r.endAt)),xu(t,a,s,i,o,"F",l,c)}function bh(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Sh(e.unaryFilter.field);return Xc.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=Sh(e.unaryFilter.field);return Xc.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const n=Sh(e.unaryFilter.field);return Xc.create(n,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Sh(e.unaryFilter.field);return Xc.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return yo(61313);default:return yo(60726)}}(e):void 0!==e.fieldFilter?function(e){return Xc.create(Sh(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return yo(58110);default:return yo(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Jc.create(e.compositeFilter.filters.map(e=>bh(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return yo(1026)}}(e.compositeFilter.op))}(e):yo(30097,{filter:e})}function wh(e){return Xd[e]}function kh(e){return Jd[e]}function jh(e){return Zd[e]}function Nh(e){return{fieldPath:e.canonicalString()}}function Sh(e){return Ho.fromServerFormat(e.fieldPath)}function Eh(e){return e instanceof Xc?function(e){if("=="===e.op){if(Lc(e.value))return{unaryFilter:{field:Nh(e.field),op:"IS_NAN"}};if(Rc(e.value))return{unaryFilter:{field:Nh(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Lc(e.value))return{unaryFilter:{field:Nh(e.field),op:"IS_NOT_NAN"}};if(Rc(e.value))return{unaryFilter:{field:Nh(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Nh(e.field),op:kh(e.op),value:e.value}}}(e):e instanceof Jc?function(e){const t=e.getFilters().map(e=>Eh(e));return 1===t.length?t[0]:{compositeFilter:{op:jh(e.op),filters:t}}}(e):yo(54877,{filter:e})}function Ah(e){const t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function _h(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class Ch{constructor(e,t,r,n){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:nl.min(),i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:nl.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:ac.EMPTY_BYTE_STRING,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=n,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=i,this.resumeToken=s,this.expectedCount=o}withSequenceNumber(e){return new Ch(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ch(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ch(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ch(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Th{constructor(e){this.yt=e}}function Ih(e){const t=xh({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Au(t,t.limit,"L"):t}class Oh{constructor(){}Dt(e,t){this.Ct(e,t),t.vt()}Ct(e,t){if("nullValue"in e)this.Ft(t,5);else if("booleanValue"in e)this.Ft(t,10),t.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(t,15),t.Mt(oc(e.integerValue));else if("doubleValue"in e){const r=oc(e.doubleValue);isNaN(r)?this.Ft(t,13):(this.Ft(t,15),xl(r)?t.Mt(0):t.Mt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ft(t,20),"string"==typeof r&&(r=sc(r)),t.xt(`${r.seconds||""}`),t.Mt(r.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,t),this.Nt(t);else if("bytesValue"in e)this.Ft(t,30),t.Bt(lc(e.bytesValue)),this.Nt(t);else if("referenceValue"in e)this.Lt(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.Ft(t,45),t.Mt(r.latitude||0),t.Mt(r.longitude||0)}else"mapValue"in e?Vc(e)?this.Ft(t,Number.MAX_SAFE_INTEGER):zc(e)?this.kt(e.mapValue,t):(this.qt(e.mapValue,t),this.Nt(t)):"arrayValue"in e?(this.Qt(e.arrayValue,t),this.Nt(t)):yo(19022,{$t:e})}Ot(e,t){this.Ft(t,25),this.Ut(e,t)}Ut(e,t){t.xt(e)}qt(e,t){const r=e.fields||{};this.Ft(t,55);for(const n of Object.keys(r))this.Ot(n,t),this.Ct(r[n],t)}kt(e,t){const r=e.fields||{};this.Ft(t,53);const n=jc,a=r[n].arrayValue?.values?.length||0;this.Ft(t,15),t.Mt(oc(a)),this.Ot(n,t),this.Ct(r[n],t)}Qt(e,t){const r=e.values||[];this.Ft(t,50);for(const n of r)this.Ct(n,t)}Lt(e,t){this.Ft(t,37),qo.fromName(e).path.forEach(e=>{this.Ft(t,60),this.Ut(e,t)})}Ft(e,t){e.Mt(t)}Nt(e){e.Mt(2)}}Oh.Kt=new Oh;class Ph{constructor(){this.Cn=new Dh}addToCollectionParentIndex(e,t){return this.Cn.add(t),fl.resolve()}getCollectionParents(e,t){return fl.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return fl.resolve()}deleteFieldIndex(e,t){return fl.resolve()}deleteAllFieldIndexes(e){return fl.resolve()}createTargetIndexes(e,t){return fl.resolve()}getDocumentsMatchingTarget(e,t){return fl.resolve(null)}getIndexType(e,t){return fl.resolve(0)}getFieldIndexes(e,t){return fl.resolve([])}getNextCollectionGroupToUpdate(e){return fl.resolve(null)}getMinOffset(e,t){return fl.resolve(ll.min())}getMinOffsetFromCollectionGroup(e,t){return fl.resolve(ll.min())}updateCollectionGroup(e,t,r){return fl.resolve()}updateIndexEntries(e,t){return fl.resolve()}}class Dh{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),n=this.index[t]||new ec(Bo.comparator),a=!n.has(r);return this.index[t]=n.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),n=this.index[t];return n&&n.has(r)}getEntries(e){return(this.index[e]||new ec(Bo.comparator)).toArray()}}new Uint8Array(0);const Mh={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Rh=41943040;class Lh{static withCacheSize(e){return new Lh(e,Lh.DEFAULT_COLLECTION_PERCENTILE,Lh.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}Lh.DEFAULT_COLLECTION_PERCENTILE=10,Lh.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Lh.DEFAULT=new Lh(Rh,Lh.DEFAULT_COLLECTION_PERCENTILE,Lh.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Lh.DISABLED=new Lh(-1,0,0);class Fh{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Fh(0)}static cr(){return new Fh(-1)}}const zh="LruGarbageCollector",Uh=1048576;function Vh(e,t){let[r,n]=e,[a,i]=t;const s=Do(r,a);return 0===s?Do(n,i):s}class Bh{constructor(e){this.Ir=e,this.buffer=new ec(Vh),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();Vh(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class $h{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return null!==this.Rr}Vr(e){fo(zh,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){ml(e)?fo(zh,"Ignoring IndexedDB error during garbage collection: ",e):await hl(e)}await this.Vr(3e5)})}}class Hh{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next(e=>Math.floor(t/100*e))}nthSequenceNumber(e,t){if(0===t)return fl.resolve(gl.ce);const r=new Bh(t);return this.mr.forEachTarget(e,e=>r.Ar(e.sequenceNumber)).next(()=>this.mr.pr(e,e=>r.Ar(e))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.mr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(fo("LruGarbageCollector","Garbage collection skipped; disabled"),fl.resolve(Mh)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(fo("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Mh):this.yr(e,t))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let r,n,a,i,s,o,l;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(t=>(t>this.params.maximumSequenceNumbersToCollect?(fo("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${t}`),n=this.params.maximumSequenceNumbersToCollect):n=t,i=Date.now(),this.nthSequenceNumber(e,n))).next(n=>(r=n,s=Date.now(),this.removeTargets(e,r,t))).next(t=>(a=t,o=Date.now(),this.removeOrphanedDocuments(e,r))).next(e=>(l=Date.now(),ho()<=Gt.DEBUG&&fo("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${i-c}ms\n\tDetermined least recently used ${n} in `+(s-i)+"ms\n"+`\tRemoved ${a} targets in `+(o-s)+"ms\n"+`\tRemoved ${e} documents in `+(l-o)+"ms\n"+`Total Duration: ${l-c}ms`),fl.resolve({didRun:!0,sequenceNumbersCollected:n,targetsRemoved:a,documentsRemoved:e})))}}function qh(e,t){return new Hh(e,t)}class Kh{constructor(){this.changes=new Mu(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Hc.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?fl.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Wh{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Gh{constructor(e,t,r,n){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=n}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(n=>(r=n,this.remoteDocumentCache.getEntry(e,t))).next(e=>(null!==r&&yd(r.mutation,e,rc.empty(),rl.now()),e))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.getLocalViewOfDocuments(e,t,Ku()).next(()=>t))}getLocalViewOfDocuments(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ku();const n=Vu();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,r).next(e=>{let t=zu();return e.forEach((e,r)=>{t=t.insert(e,r.overlayedDocument)}),t}))}getOverlayedDocuments(e,t){const r=Vu();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Ku()))}populateOverlays(e,t,r){const n=[];return r.forEach(e=>{t.has(e)||n.push(e)}),this.documentOverlayCache.getOverlays(e,n).next(e=>{e.forEach((e,r)=>{t.set(e,r)})})}computeViews(e,t,r,n){let a=Lu();const i=$u(),s=$u();return t.forEach((e,t)=>{const s=r.get(t.key);n.has(t.key)&&(void 0===s||s.mutation instanceof wd)?a=a.insert(t.key,t):void 0!==s?(i.set(t.key,s.mutation.getFieldMask()),yd(s.mutation,t,s.mutation.getFieldMask(),rl.now())):i.set(t.key,rc.empty())}),this.recalculateAndSaveOverlays(e,a).next(e=>(e.forEach((e,t)=>i.set(e,t)),t.forEach((e,t)=>s.set(e,new Wh(t,i.get(e)??null))),s))}recalculateAndSaveOverlays(e,t){const r=$u();let n=new Xl((e,t)=>e-t),a=Ku();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>{for(const a of e)a.keys().forEach(e=>{const i=t.get(e);if(null===i)return;let s=r.get(e)||rc.empty();s=a.applyToLocalView(i,s),r.set(e,s);const o=(n.get(a.batchId)||Ku()).add(e);n=n.insert(a.batchId,o)})}).next(()=>{const i=[],s=n.getReverseIterator();for(;s.hasNext();){const n=s.getNext(),o=n.key,l=n.value,c=Bu();l.forEach(e=>{if(!a.has(e)){const n=md(t.get(e),r.get(e));null!==n&&c.set(e,n),a=a.add(e)}}),i.push(this.documentOverlayCache.saveOverlays(e,o,c))}return fl.waitFor(i)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,t,r,n){return function(e){return qo.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):ku(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,n):this.getDocumentsMatchingCollectionQuery(e,t,r,n)}getNextDocuments(e,t,r,n){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,n).next(a=>{const i=n-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,n-a.size):fl.resolve(Vu());let s=al,o=a;return i.next(t=>fl.forEach(t,(t,r)=>(s<r.largestBatchId&&(s=r.largestBatchId),a.get(t)?fl.resolve():this.remoteDocumentCache.getEntry(e,t).next(e=>{o=o.insert(t,e)}))).next(()=>this.populateOverlays(e,t,a)).next(()=>this.computeViews(e,o,t,Ku())).next(e=>({batchId:s,changes:Uu(e)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new qo(t)).next(e=>{let t=zu();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}getDocumentsMatchingCollectionGroupQuery(e,t,r,n){const a=t.collectionGroup;let i=zu();return this.indexManager.getCollectionParents(e,a).next(s=>fl.forEach(s,s=>{const o=function(e,t){return new vu(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(a));return this.getDocumentsMatchingCollectionQuery(e,o,r,n).next(e=>{e.forEach((e,t)=>{i=i.insert(e,t)})})}).next(()=>i))}getDocumentsMatchingCollectionQuery(e,t,r,n){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(i=>(a=i,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,a,n))).next(e=>{a.forEach((t,r)=>{const n=r.getKey();null===e.get(n)&&(e=e.insert(n,Hc.newInvalidDocument(n)))});let r=zu();return e.forEach((e,n)=>{const i=a.get(e);void 0!==i&&yd(i.mutation,n,rc.empty(),rl.now()),Iu(t,n)&&(r=r.insert(e,n))}),r})}}class Yh{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return fl.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:ih(e.createTime)}}(t)),fl.resolve()}getNamedQuery(e,t){return fl.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,function(e){return{name:e.name,query:Ih(e.bundledQuery),readTime:ih(e.readTime)}}(t)),fl.resolve()}}class Qh{constructor(){this.overlays=new Xl(qo.comparator),this.qr=new Map}getOverlay(e,t){return fl.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Vu();return fl.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&r.set(t,e)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((r,n)=>{this.St(e,t,n)}),fl.resolve()}removeOverlaysForBatchId(e,t,r){const n=this.qr.get(r);return void 0!==n&&(n.forEach(e=>this.overlays=this.overlays.remove(e)),this.qr.delete(r)),fl.resolve()}getOverlaysForCollection(e,t,r){const n=Vu(),a=t.length+1,i=new qo(t.child("")),s=this.overlays.getIteratorFrom(i);for(;s.hasNext();){const e=s.getNext().value,i=e.getKey();if(!t.isPrefixOf(i.path))break;i.path.length===a&&e.largestBatchId>r&&n.set(e.getKey(),e)}return fl.resolve(n)}getOverlaysForCollectionGroup(e,t,r,n){let a=new Xl((e,t)=>e-t);const i=this.overlays.getIterator();for(;i.hasNext();){const e=i.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>r){let t=a.get(e.largestBatchId);null===t&&(t=Vu(),a=a.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const s=Vu(),o=a.getIterator();for(;o.hasNext()&&(o.getNext().value.forEach((e,t)=>s.set(e,t)),!(s.size()>=n)););return fl.resolve(s)}St(e,t,r){const n=this.overlays.get(r.key);if(null!==n){const e=this.qr.get(n.largestBatchId).delete(r.key);this.qr.set(n.largestBatchId,e)}this.overlays=this.overlays.insert(r.key,new Cd(t,r));let a=this.qr.get(t);void 0===a&&(a=Ku(),this.qr.set(t,a)),this.qr.set(t,a.add(r.key))}}class Xh{constructor(){this.sessionToken=ac.EMPTY_BYTE_STRING}getSessionToken(e){return fl.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,fl.resolve()}}class Jh{constructor(){this.Qr=new ec(Zh.$r),this.Ur=new ec(Zh.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const r=new Zh(e,t);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.Gr(new Zh(e,t))}zr(e,t){e.forEach(e=>this.removeReference(e,t))}jr(e){const t=new qo(new Bo([])),r=new Zh(t,e),n=new Zh(t,e+1),a=[];return this.Ur.forEachInRange([r,n],e=>{this.Gr(e),a.push(e.key)}),a}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new qo(new Bo([])),r=new Zh(t,e),n=new Zh(t,e+1);let a=Ku();return this.Ur.forEachInRange([r,n],e=>{a=a.add(e.key)}),a}containsKey(e){const t=new Zh(e,0),r=this.Qr.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Zh{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return qo.comparator(e.key,t.key)||Do(e.Yr,t.Yr)}static Kr(e,t){return Do(e.Yr,t.Yr)||qo.comparator(e.key,t.key)}}class ef{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new ec(Zh.$r)}checkEmpty(e){return fl.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,n){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const i=new Ad(a,t,r,n);this.mutationQueue.push(i);for(const s of n)this.Zr=this.Zr.add(new Zh(s.key,a)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return fl.resolve(i)}lookupMutationBatch(e,t){return fl.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,n=this.ei(r),a=n<0?0:n;return fl.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return fl.resolve(0===this.mutationQueue.length?yl:this.tr-1)}getAllMutationBatches(e){return fl.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Zh(t,0),n=new Zh(t,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([r,n],e=>{const t=this.Xr(e.Yr);a.push(t)}),fl.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new ec(Do);return t.forEach(e=>{const t=new Zh(e,0),n=new Zh(e,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([t,n],e=>{r=r.add(e.Yr)})}),fl.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,n=r.length+1;let a=r;qo.isDocumentKey(a)||(a=a.child(""));const i=new Zh(new qo(a),0);let s=new ec(Do);return this.Zr.forEachWhile(e=>{const t=e.key.path;return!!r.isPrefixOf(t)&&(t.length===n&&(s=s.add(e.Yr)),!0)},i),fl.resolve(this.ti(s))}ti(e){const t=[];return e.forEach(e=>{const r=this.Xr(e);null!==r&&t.push(r)}),t}removeMutationBatch(e,t){xo(0===this.ni(t.batchId,"removed"),55003),this.mutationQueue.shift();let r=this.Zr;return fl.forEach(t.mutations,n=>{const a=new Zh(n.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,n.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,t){const r=new Zh(t,0),n=this.Zr.firstAfterOrEqual(r);return fl.resolve(t.isEqual(n&&n.key))}performConsistencyCheck(e){return this.mutationQueue.length,fl.resolve()}ni(e,t){return this.ei(e)}ei(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class tf{constructor(e){this.ri=e,this.docs=new Xl(qo.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,n=this.docs.get(r),a=n?n.size:0,i=this.ri(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:i}),this.size+=i-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return fl.resolve(r?r.document.mutableCopy():Hc.newInvalidDocument(t))}getEntries(e,t){let r=Lu();return t.forEach(e=>{const t=this.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():Hc.newInvalidDocument(e))}),fl.resolve(r)}getDocumentsMatchingQuery(e,t,r,n){let a=Lu();const i=t.path,s=new qo(i.child("__id-9223372036854775808__")),o=this.docs.getIteratorFrom(s);for(;o.hasNext();){const{key:e,value:{document:s}}=o.getNext();if(!i.isPrefixOf(e.path))break;e.path.length>i.length+1||cl(ol(s),r)<=0||(n.has(s.key)||Iu(t,s))&&(a=a.insert(s.key,s.mutableCopy()))}return fl.resolve(a)}getAllFromCollectionGroup(e,t,r,n){yo(9500)}ii(e,t){return fl.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new rf(this)}getSize(e){return fl.resolve(this.size)}}class rf extends Kh{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach((r,n)=>{n.isValidDocument()?t.push(this.Nr.addEntry(e,n)):this.Nr.removeEntry(r)}),fl.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}class nf{constructor(e){this.persistence=e,this.si=new Mu(e=>mu(e),gu),this.lastRemoteSnapshotVersion=nl.min(),this.highestTargetId=0,this.oi=0,this._i=new Jh,this.targetCount=0,this.ai=Fh.ur()}forEachTarget(e,t){return this.si.forEach((e,r)=>t(r)),fl.resolve()}getLastRemoteSnapshotVersion(e){return fl.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return fl.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),fl.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.oi&&(this.oi=t),fl.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new Fh(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,fl.resolve()}updateTargetData(e,t){return this.Pr(t),fl.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,fl.resolve()}removeTargets(e,t,r){let n=0;const a=[];return this.si.forEach((i,s)=>{s.sequenceNumber<=t&&null===r.get(s.targetId)&&(this.si.delete(i),a.push(this.removeMatchingKeysForTargetId(e,s.targetId)),n++)}),fl.waitFor(a).next(()=>n)}getTargetCount(e){return fl.resolve(this.targetCount)}getTargetData(e,t){const r=this.si.get(t)||null;return fl.resolve(r)}addMatchingKeys(e,t,r){return this._i.Wr(t,r),fl.resolve()}removeMatchingKeys(e,t,r){this._i.zr(t,r);const n=this.persistence.referenceDelegate,a=[];return n&&t.forEach(t=>{a.push(n.markPotentiallyOrphaned(e,t))}),fl.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),fl.resolve()}getMatchingKeysForTargetId(e,t){const r=this._i.Hr(t);return fl.resolve(r)}containsKey(e,t){return fl.resolve(this._i.containsKey(t))}}class af{constructor(e,t){this.ui={},this.overlays={},this.ci=new gl(0),this.li=!1,this.li=!0,this.hi=new Xh,this.referenceDelegate=e(this),this.Pi=new nf(this),this.indexManager=new Ph,this.remoteDocumentCache=function(e){return new tf(e)}(e=>this.referenceDelegate.Ti(e)),this.serializer=new Th(t),this.Ii=new Yh(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Qh,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ui[e.toKey()];return r||(r=new ef(t,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,r){fo("MemoryPersistence","Starting transaction:",e);const n=new sf(this.ci.next());return this.referenceDelegate.Ei(),r(n).next(e=>this.referenceDelegate.di(n).next(()=>e)).toPromise().then(e=>(n.raiseOnCommittedEvent(),e))}Ai(e,t){return fl.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,t)))}}class sf extends dl{constructor(e){super(),this.currentSequenceNumber=e}}class of{constructor(e){this.persistence=e,this.Ri=new Jh,this.Vi=null}static mi(e){return new of(e)}get fi(){if(this.Vi)return this.Vi;throw yo(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.fi.delete(r.toString()),fl.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.fi.add(r.toString()),fl.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),fl.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach(e=>this.fi.add(e.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.fi.add(e.toString()))}).next(()=>r.removeTargetData(e,t))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return fl.forEach(this.fi,r=>{const n=qo.fromPath(r);return this.gi(e,n).next(e=>{e||t.removeEntry(n,nl.min())})}).next(()=>(this.Vi=null,t.apply(e)))}updateLimboDocument(e,t){return this.gi(e,t).next(e=>{e?this.fi.delete(t.toString()):this.fi.add(t.toString())})}Ti(e){return 0}gi(e,t){return fl.or([()=>fl.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class lf{constructor(e,t){this.persistence=e,this.pi=new Mu(e=>kl(e.path),(e,t)=>e.isEqual(t)),this.garbageCollector=qh(this,t)}static mi(e,t){return new lf(e,t)}Ei(){}di(e){return fl.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(e=>t.next(t=>e+t))}wr(e){let t=0;return this.pr(e,e=>{t++}).next(()=>t)}pr(e,t){return fl.forEach(this.pi,(r,n)=>this.br(e,r,n).next(e=>e?fl.resolve():t(n)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const n=this.persistence.getRemoteDocumentCache(),a=n.newChangeBuffer();return n.ii(e,n=>this.br(e,n,t).next(e=>{e||(r++,a.removeEntry(n,nl.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),fl.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),fl.resolve()}removeReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),fl.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),fl.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Oc(e.data.value)),t}br(e,t,r){return fl.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const e=this.pi.get(t);return fl.resolve(void 0!==e&&e>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class cf{constructor(e,t,r,n){this.targetId=e,this.fromCache=t,this.Es=r,this.ds=n}static As(e,t){let r=Ku(),n=Ku();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:n=n.add(a.doc.key)}return new cf(e,t.fromCache,r,n)}}class uf{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class df{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=Tt()?8:pl(_t())>0?6:4}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,n){const a={result:null};return this.ys(e,t).next(e=>{a.result=e}).next(()=>{if(!a.result)return this.ws(e,t,n,r).next(e=>{a.result=e})}).next(()=>{if(a.result)return;const r=new uf;return this.Ss(e,t,r).next(n=>{if(a.result=n,this.Vs)return this.bs(e,t,r,n.size)})}).next(()=>a.result)}bs(e,t,r,n){return r.documentReadCount<this.fs?(ho()<=Gt.DEBUG&&fo("QueryEngine","SDK will not create cache indexes for query:",Tu(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),fl.resolve()):(ho()<=Gt.DEBUG&&fo("QueryEngine","Query:",Tu(t),"scans",r.documentReadCount,"local documents and returns",n,"documents as results."),r.documentReadCount>this.gs*n?(ho()<=Gt.DEBUG&&fo("QueryEngine","The SDK decides to create cache indexes for query:",Tu(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Nu(t))):fl.resolve())}ys(e,t){if(wu(t))return fl.resolve(null);let r=Nu(t);return this.indexManager.getIndexType(e,r).next(n=>0===n?null:(null!==t.limit&&1===n&&(t=Au(t,null,"F"),r=Nu(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(n=>{const a=Ku(...n);return this.ps.getDocuments(e,a).next(n=>this.indexManager.getMinOffset(e,r).next(r=>{const i=this.Ds(t,n);return this.Cs(t,i,a,r.readTime)?this.ys(e,Au(t,null,"F")):this.vs(e,i,t,r)}))})))}ws(e,t,r,n){return wu(t)||n.isEqual(nl.min())?fl.resolve(null):this.ps.getDocuments(e,r).next(a=>{const i=this.Ds(t,a);return this.Cs(t,i,r,n)?fl.resolve(null):(ho()<=Gt.DEBUG&&fo("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Tu(t)),this.vs(e,i,t,sl(n,al)).next(e=>e))})}Ds(e,t){let r=new ec(Pu(e));return t.forEach((t,n)=>{Iu(e,n)&&(r=r.add(n))}),r}Cs(e,t,r,n){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const a="F"===e.limitType?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(n)>0)}Ss(e,t,r){return ho()<=Gt.DEBUG&&fo("QueryEngine","Using full collection scan to execute query:",Tu(t)),this.ps.getDocumentsMatchingQuery(e,t,ll.min(),r)}vs(e,t,r,n){return this.ps.getDocumentsMatchingQuery(e,r,n).next(e=>(t.forEach(t=>{e=e.insert(t.key,t)}),e))}}const hf="LocalStore";class ff{constructor(e,t,r,n){this.persistence=e,this.Fs=t,this.serializer=n,this.Ms=new Xl(Do),this.xs=new Mu(e=>mu(e),gu),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Gh(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ms))}}function pf(e,t,r,n){return new ff(e,t,r,n)}async function mf(e,t){const r=bo(e);return await r.persistence.runTransaction("Handle user change","readonly",e=>{let n;return r.mutationQueue.getAllMutationBatches(e).next(a=>(n=a,r.Bs(t),r.mutationQueue.getAllMutationBatches(e))).next(t=>{const a=[],i=[];let s=Ku();for(const e of n){a.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}for(const e of t){i.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}return r.localDocuments.getDocuments(e,s).next(e=>({Ls:e,removedBatchIds:a,addedBatchIds:i}))})})}function gf(e){const t=bo(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Pi.getLastRemoteSnapshotVersion(e))}function yf(e,t,r){let n=Ku(),a=Ku();return r.forEach(e=>n=n.add(e)),t.getEntries(e,n).next(e=>{let n=Lu();return r.forEach((r,i)=>{const s=e.get(r);i.isFoundDocument()!==s.isFoundDocument()&&(a=a.add(r)),i.isNoDocument()&&i.version.isEqual(nl.min())?(t.removeEntry(r,i.readTime),n=n.insert(r,i)):!s.isValidDocument()||i.version.compareTo(s.version)>0||0===i.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(i),n=n.insert(r,i)):fo(hf,"Ignoring outdated watch update for ",r,". Current version:",s.version," Watch version:",i.version)}),{ks:n,qs:a}})}function vf(e,t){const r=bo(e);return r.persistence.runTransaction("Get next mutation batch","readonly",e=>(void 0===t&&(t=yl),r.mutationQueue.getNextMutationBatchAfterBatchId(e,t)))}function xf(e,t){const r=bo(e);return r.persistence.runTransaction("Allocate target","readwrite",e=>{let n;return r.Pi.getTargetData(e,t).next(a=>a?(n=a,fl.resolve(n)):r.Pi.allocateTargetId(e).next(a=>(n=new Ch(t,a,"TargetPurposeListen",e.currentSequenceNumber),r.Pi.addTargetData(e,n).next(()=>n))))}).then(e=>{const n=r.Ms.get(e.targetId);return(null===n||e.snapshotVersion.compareTo(n.snapshotVersion)>0)&&(r.Ms=r.Ms.insert(e.targetId,e),r.xs.set(t,e.targetId)),e})}async function bf(e,t,r){const n=bo(e),a=n.Ms.get(t),i=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",i,e=>n.persistence.referenceDelegate.removeTarget(e,a))}catch(e){if(!ml(e))throw e;fo(hf,`Failed to update sequence numbers for target ${t}: ${e}`)}n.Ms=n.Ms.remove(t),n.xs.delete(a.target)}function wf(e,t,r){const n=bo(e);let a=nl.min(),i=Ku();return n.persistence.runTransaction("Execute query","readwrite",e=>function(e,t,r){const n=bo(e),a=n.xs.get(r);return void 0!==a?fl.resolve(n.Ms.get(a)):n.Pi.getTargetData(t,r)}(n,e,Nu(t)).next(t=>{if(t)return a=t.lastLimboFreeSnapshotVersion,n.Pi.getMatchingKeysForTargetId(e,t.targetId).next(e=>{i=e})}).next(()=>n.Fs.getDocumentsMatchingQuery(e,t,r?a:nl.min(),r?i:Ku())).next(e=>(kf(n,Ou(t),e),{documents:e,Qs:i})))}function kf(e,t,r){let n=e.Os.get(t)||nl.min();r.forEach((e,t)=>{t.readTime.compareTo(n)>0&&(n=t.readTime)}),e.Os.set(t,n)}class jf{constructor(){this.activeTargetIds=Gu()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Nf{constructor(){this.Mo=new jf,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,r){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new jf,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Sf{Oo(e){}shutdown(){}}const Ef="ConnectivityMonitor";class Af{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){fo(Ef,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){fo(Ef,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let _f=null;function Cf(){return null===_f?_f=268435456+Math.round(2147483648*Math.random()):_f++,"0x"+_f.toString(16)}const Tf="RestConnection",If={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Of{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),n=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${r}/databases/${n}`,this.Wo=this.databaseId.database===yc?`project_id=${r}`:`project_id=${r}&database_id=${n}`}Go(e,t,r,n,a){const i=Cf(),s=this.zo(e,t.toUriEncodedString());fo(Tf,`Sending RPC '${e}' ${i}:`,s,r);const o={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(o,n,a);const{host:l}=new URL(s),c=jt(l);return this.Jo(e,s,o,r,c).then(t=>(fo(Tf,`Received RPC '${e}' ${i}: `,t),t),t=>{throw mo(Tf,`RPC '${e}' ${i} failed with error: `,t,"url: ",s,"request:",r),t})}Ho(e,t,r,n,a,i){return this.Go(e,t,r,n,a)}jo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+co,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,r)=>e[r]=t),r&&r.headers.forEach((t,r)=>e[r]=t)}zo(e,t){const r=If[e];return`${this.Uo}/v1/${t}:${r}`}terminate(){}}class Pf{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Df="WebChannelConnection";class Mf extends Of{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,n,a){const i=Cf();return new Promise((a,s)=>{const o=new Qs;o.setWithCredentials(!0),o.listenOnce(Js.COMPLETE,()=>{try{switch(o.getLastErrorCode()){case Zs.NO_ERROR:const t=o.getResponseJson();fo(Df,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(t)),a(t);break;case Zs.TIMEOUT:fo(Df,`RPC '${e}' ${i} timed out`),s(new ko(wo.DEADLINE_EXCEEDED,"Request time out"));break;case Zs.HTTP_ERROR:const r=o.getStatus();if(fo(Df,`RPC '${e}' ${i} failed with status:`,r,"response text:",o.getResponseText()),r>0){let e=o.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=e?.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(wo).indexOf(t)>=0?t:wo.UNKNOWN}(t.status);s(new ko(e,t.message))}else s(new ko(wo.UNKNOWN,"Server responded with status "+o.getStatus()))}else s(new ko(wo.UNAVAILABLE,"Connection failed."));break;default:yo(9055,{l_:e,streamId:i,h_:o.getLastErrorCode(),P_:o.getLastError()})}}finally{fo(Df,`RPC '${e}' ${i} completed.`)}});const l=JSON.stringify(n);fo(Df,`RPC '${e}' ${i} sending request:`,n),o.send(t,"POST",l,r,15)})}T_(e,t,r){const n=Cf(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=no(),s=ro(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(o.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(o.useFetchStreams=!0),this.jo(o.initMessageHeaders,t,r),o.encodeInitMessageHeaders=!0;const c=a.join("");fo(Df,`Creating RPC '${e}' stream ${n}: ${c}`,o);const u=i.createWebChannel(c,o);this.I_(u);let d=!1,h=!1;const f=new Pf({Yo:t=>{h?fo(Df,`Not sending because RPC '${e}' stream ${n} is closed:`,t):(d||(fo(Df,`Opening RPC '${e}' stream ${n} transport.`),u.open(),d=!0),fo(Df,`RPC '${e}' stream ${n} sending:`,t),u.send(t))},Zo:()=>u.close()}),p=(e,t,r)=>{e.listen(t,e=>{try{r(e)}catch(e){setTimeout(()=>{throw e},0)}})};return p(u,Xs.EventType.OPEN,()=>{h||(fo(Df,`RPC '${e}' stream ${n} transport opened.`),f.o_())}),p(u,Xs.EventType.CLOSE,()=>{h||(h=!0,fo(Df,`RPC '${e}' stream ${n} transport closed`),f.a_(),this.E_(u))}),p(u,Xs.EventType.ERROR,t=>{h||(h=!0,mo(Df,`RPC '${e}' stream ${n} transport errored. Name:`,t.name,"Message:",t.message),f.a_(new ko(wo.UNAVAILABLE,"The operation could not be completed")))}),p(u,Xs.EventType.MESSAGE,t=>{if(!h){const r=t.data[0];xo(!!r,16349);const a=r,i=a?.error||a[0]?.error;if(i){fo(Df,`RPC '${e}' stream ${n} received error:`,i);const t=i.status;let r=function(e){const t=Id[e];if(void 0!==t)return Dd(t)}(t),a=i.message;void 0===r&&(r=wo.INTERNAL,a="Unknown error status: "+t+" with message "+i.message),h=!0,f.a_(new ko(r,a)),u.close()}else fo(Df,`RPC '${e}' stream ${n} received:`,r),f.u_(r)}}),p(s,to.STAT_EVENT,t=>{t.stat===eo.PROXY?fo(Df,`RPC '${e}' stream ${n} detected buffering proxy`):t.stat===eo.NOPROXY&&fo(Df,`RPC '${e}' stream ${n} detected no buffering proxy`)}),setTimeout(()=>{f.__()},0),f}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(t=>t===e)}}function Rf(){return"undefined"!=typeof document?document:null}function Lf(e){return new eh(e,!0)}class Ff{constructor(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.Mi=e,this.timerId=t,this.d_=r,this.A_=n,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),n=Math.max(0,t-r);n>0&&fo("ExponentialBackoff",`Backing off for ${n} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,n,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){null!==this.m_&&(this.m_.skipDelay(),this.m_=null)}cancel(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const zf="PersistentStream";class Uf{constructor(e,t,r,n,a,i,s,o){this.Mi=e,this.S_=r,this.b_=n,this.connection=a,this.authCredentialsProvider=i,this.appCheckCredentialsProvider=s,this.listener=o,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Ff(e,t)}x_(){return 1===this.state||5===this.state||this.O_()}O_(){return 2===this.state||3===this.state}start(){this.F_=0,4!==this.state?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&null===this.C_&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,4!==e?this.M_.reset():t&&t.code===wo.RESOURCE_EXHAUSTED?(po(t.toString()),po("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===wo.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(e=>{let[r,n]=e;this.D_===t&&this.G_(r,n)},t=>{e(()=>{const e=new ko(wo.UNKNOWN,"Fetching auth token failed: "+t.message);return this.z_(e)})})}G_(e,t){const r=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(e=>{r(()=>this.z_(e))}),this.stream.onMessage(e=>{r(()=>1==++this.F_?this.J_(e):this.onNext(e))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return fo(zf,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget(()=>this.D_===e?t():(fo(zf,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Vf extends Uf{constructor(e,t,r,n,a,i){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,n,i),this.serializer=a}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=function(e,t){let r;if("targetChange"in t){t.targetChange;const n=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:yo(39313,{state:e})}(t.targetChange.targetChangeType||"NO_CHANGE"),a=t.targetChange.targetIds||[],i=function(e,t){return e.useProto3Json?(xo(void 0===t||"string"==typeof t,58123),ac.fromBase64String(t||"")):(xo(void 0===t||t instanceof Buffer||t instanceof Uint8Array,16193),ac.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,o=s&&function(e){const t=void 0===e.code?wo.UNKNOWN:Dd(e.code);return new ko(t,e.message||"")}(s);r=new Kd(n,a,i,o||null)}else if("documentChange"in t){t.documentChange;const n=t.documentChange;n.document,n.document.name,n.document.updateTime;const a=uh(e,n.document.name),i=ih(n.document.updateTime),s=n.document.createTime?ih(n.document.createTime):nl.min(),o=new Bc({mapValue:{fields:n.document.fields}}),l=Hc.newFoundDocument(a,i,s,o),c=n.targetIds||[],u=n.removedTargetIds||[];r=new Hd(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const n=t.documentDelete;n.document;const a=uh(e,n.document),i=n.readTime?ih(n.readTime):nl.min(),s=Hc.newNoDocument(a,i),o=n.removedTargetIds||[];r=new Hd([],o,s.key,s)}else if("documentRemove"in t){t.documentRemove;const n=t.documentRemove;n.document;const a=uh(e,n.document),i=n.removedTargetIds||[];r=new Hd([],i,a,null)}else{if(!("filter"in t))return yo(11601,{Rt:t});{t.filter;const e=t.filter;e.targetId;const{count:n=0,unchangedNames:a}=e,i=new Td(n,a),s=e.targetId;r=new qd(s,i)}}return r}(this.serializer,e),r=function(e){if(!("targetChange"in e))return nl.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?nl.min():t.readTime?ih(t.readTime):nl.min()}(e);return this.listener.H_(t,r)}Y_(e){const t={};t.database=fh(this.serializer),t.addTarget=function(e,t){let r;const n=t.target;if(r=yu(n)?{documents:yh(e,n)}:{query:vh(e,n).ft},r.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){r.resumeToken=nh(e,t.resumeToken);const n=th(e,t.expectedCount);null!==n&&(r.expectedCount=n)}else if(t.snapshotVersion.compareTo(nl.min())>0){r.readTime=rh(e,t.snapshotVersion.toTimestamp());const n=th(e,t.expectedCount);null!==n&&(r.expectedCount=n)}return r}(this.serializer,e);const r=function(e,t){const r=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return yo(28987,{purpose:e})}}(t.purpose);return null==r?null:{"goog-listen-tags":r}}(this.serializer,e);r&&(t.labels=r),this.q_(t)}Z_(e){const t={};t.database=fh(this.serializer),t.removeTarget=e,this.q_(t)}}class Bf extends Uf{constructor(e,t,r,n,a,i){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,n,i),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return xo(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,xo(!e.writeResults||0===e.writeResults.length,55816),this.listener.ta()}onNext(e){xo(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=function(e,t){return e&&e.length>0?(xo(void 0!==t,14353),e.map(e=>function(e,t){let r=e.updateTime?ih(e.updateTime):ih(t);return r.isEqual(nl.min())&&(r=ih(t)),new dd(r,e.transformResults||[])}(e,t))):[]}(e.writeResults,e.commitTime),r=ih(e.commitTime);return this.listener.na(r,t)}ra(){const e={};e.database=fh(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map(e=>gh(this.serializer,e))};this.q_(t)}}class $f{}class Hf extends $f{constructor(e,t,r,n){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=n,this.ia=!1}sa(){if(this.ia)throw new ko(wo.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,r,n){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(a=>{let[i,s]=a;return this.connection.Go(e,oh(t,r),n,i,s)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===wo.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new ko(wo.UNKNOWN,e.toString())})}Ho(e,t,r,n,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(i=>{let[s,o]=i;return this.connection.Ho(e,oh(t,r),n,s,o,a)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===wo.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new ko(wo.UNKNOWN,e.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class qf{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){0===this.oa&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){"Online"===this.state?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,"Online"===e&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(po(t),this.aa=!1):fo("OnlineStateTracker",t)}Pa(){null!==this._a&&(this._a.cancel(),this._a=null)}}const Kf="RemoteStore";class Wf{constructor(e,t,r,n,a){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo(e=>{r.enqueueAndForget(async()=>{rp(this)&&(fo(Kf,"Restarting streams for network reachability change."),await async function(e){const t=bo(e);t.Ea.add(4),await Yf(t),t.Ra.set("Unknown"),t.Ea.delete(4),await Gf(t)}(this))})}),this.Ra=new qf(r,n)}}async function Gf(e){if(rp(e))for(const t of e.da)await t(!0)}async function Yf(e){for(const t of e.da)await t(!1)}function Qf(e,t){const r=bo(e);r.Ia.has(t.targetId)||(r.Ia.set(t.targetId,t),tp(r)?ep(r):wp(r).O_()&&Jf(r,t))}function Xf(e,t){const r=bo(e),n=wp(r);r.Ia.delete(t),n.O_()&&Zf(r,t),0===r.Ia.size&&(n.O_()?n.L_():rp(r)&&r.Ra.set("Unknown"))}function Jf(e,t){if(e.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(nl.min())>0){const r=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(r)}wp(e).Y_(t)}function Zf(e,t){e.Va.Ue(t),wp(e).Z_(t)}function ep(e){e.Va=new Gd({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),wp(e).start(),e.Ra.ua()}function tp(e){return rp(e)&&!wp(e).x_()&&e.Ia.size>0}function rp(e){return 0===bo(e).Ea.size}function np(e){e.Va=void 0}async function ap(e){e.Ra.set("Online")}async function ip(e){e.Ia.forEach((t,r)=>{Jf(e,t)})}async function sp(e,t){np(e),tp(e)?(e.Ra.ha(t),ep(e)):e.Ra.set("Unknown")}async function op(e,t,r){if(e.Ra.set("Online"),t instanceof Kd&&2===t.state&&t.cause)try{await async function(e,t){const r=t.cause;for(const n of t.targetIds)e.Ia.has(n)&&(await e.remoteSyncer.rejectListen(n,r),e.Ia.delete(n),e.Va.removeTarget(n))}(e,t)}catch(r){fo(Kf,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await lp(e,r)}else if(t instanceof Hd?e.Va.Ze(t):t instanceof qd?e.Va.st(t):e.Va.tt(t),!r.isEqual(nl.min()))try{const t=await gf(e.localStore);r.compareTo(t)>=0&&await function(e,t){const r=e.Va.Tt(t);return r.targetChanges.forEach((r,n)=>{if(r.resumeToken.approximateByteSize()>0){const a=e.Ia.get(n);a&&e.Ia.set(n,a.withResumeToken(r.resumeToken,t))}}),r.targetMismatches.forEach((t,r)=>{const n=e.Ia.get(t);if(!n)return;e.Ia.set(t,n.withResumeToken(ac.EMPTY_BYTE_STRING,n.snapshotVersion)),Zf(e,t);const a=new Ch(n.target,t,r,n.sequenceNumber);Jf(e,a)}),e.remoteSyncer.applyRemoteEvent(r)}(e,r)}catch(t){fo(Kf,"Failed to raise snapshot:",t),await lp(e,t)}}async function lp(e,t,r){if(!ml(t))throw t;e.Ea.add(1),await Yf(e),e.Ra.set("Offline"),r||(r=()=>gf(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{fo(Kf,"Retrying IndexedDB access"),await r(),e.Ea.delete(1),await Gf(e)})}function cp(e,t){return t().catch(r=>lp(e,r,t))}async function up(e){const t=bo(e),r=kp(t);let n=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:yl;for(;dp(t);)try{const e=await vf(t.localStore,n);if(null===e){0===t.Ta.length&&r.L_();break}n=e.batchId,hp(t,e)}catch(e){await lp(t,e)}fp(t)&&pp(t)}function dp(e){return rp(e)&&e.Ta.length<10}function hp(e,t){e.Ta.push(t);const r=kp(e);r.O_()&&r.X_&&r.ea(t.mutations)}function fp(e){return rp(e)&&!kp(e).x_()&&e.Ta.length>0}function pp(e){kp(e).start()}async function mp(e){kp(e).ra()}async function gp(e){const t=kp(e);for(const r of e.Ta)t.ea(r.mutations)}async function yp(e,t,r){const n=e.Ta.shift(),a=_d.from(n,t,r);await cp(e,()=>e.remoteSyncer.applySuccessfulWrite(a)),await up(e)}async function vp(e,t){t&&kp(e).X_&&await async function(e,t){if(function(e){return Pd(e)&&e!==wo.ABORTED}(t.code)){const r=e.Ta.shift();kp(e).B_(),await cp(e,()=>e.remoteSyncer.rejectFailedWrite(r.batchId,t)),await up(e)}}(e,t),fp(e)&&pp(e)}async function xp(e,t){const r=bo(e);r.asyncQueue.verifyOperationInProgress(),fo(Kf,"RemoteStore received new credentials");const n=rp(r);r.Ea.add(3),await Yf(r),n&&r.Ra.set("Unknown"),await r.remoteSyncer.handleCredentialChange(t),r.Ea.delete(3),await Gf(r)}async function bp(e,t){const r=bo(e);t?(r.Ea.delete(2),await Gf(r)):t||(r.Ea.add(2),await Yf(r),r.Ra.set("Unknown"))}function wp(e){return e.ma||(e.ma=function(e,t,r){const n=bo(e);return n.sa(),new Vf(t,n.connection,n.authCredentials,n.appCheckCredentials,n.serializer,r)}(e.datastore,e.asyncQueue,{Xo:ap.bind(null,e),t_:ip.bind(null,e),r_:sp.bind(null,e),H_:op.bind(null,e)}),e.da.push(async t=>{t?(e.ma.B_(),tp(e)?ep(e):e.Ra.set("Unknown")):(await e.ma.stop(),np(e))})),e.ma}function kp(e){return e.fa||(e.fa=function(e,t,r){const n=bo(e);return n.sa(),new Bf(t,n.connection,n.authCredentials,n.appCheckCredentials,n.serializer,r)}(e.datastore,e.asyncQueue,{Xo:()=>Promise.resolve(),t_:mp.bind(null,e),r_:vp.bind(null,e),ta:gp.bind(null,e),na:yp.bind(null,e)}),e.da.push(async t=>{t?(e.fa.B_(),await up(e)):(await e.fa.stop(),e.Ta.length>0&&(fo(Kf,`Stopping write stream with ${e.Ta.length} pending writes`),e.Ta=[]))})),e.fa}class jp{constructor(e,t,r,n,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=n,this.removalCallback=a,this.deferred=new jo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,n,a){const i=Date.now()+r,s=new jp(e,t,i,n,a);return s.start(r),s}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ko(wo.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Np(e,t){if(po("AsyncQueue",`${t}: ${e}`),ml(e))return new ko(wo.UNAVAILABLE,`${t}: ${e}`);throw e}class Sp{static emptySet(e){return new Sp(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||qo.comparator(t.key,r.key):(e,t)=>qo.comparator(e.key,t.key),this.keyedMap=zu(),this.sortedSet=new Xl(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Sp))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,n=r.getNext().key;if(!e.isEqual(n))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Sp;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class Ep{constructor(){this.ga=new Xl(qo.comparator)}track(e){const t=e.doc.key,r=this.ga.get(t);r?0!==e.type&&3===r.type?this.ga=this.ga.insert(t,e):3===e.type&&1!==r.type?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.ga=this.ga.remove(t):1===e.type&&2===r.type?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):yo(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal((t,r)=>{e.push(r)}),e}}class Ap{constructor(e,t,r,n,a,i,s,o,l){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=n,this.mutatedKeys=a,this.fromCache=i,this.syncStateChanged=s,this.excludesMetadataChanges=o,this.hasCachedResults=l}static fromInitialDocuments(e,t,r,n,a){const i=[];return t.forEach(e=>{i.push({type:0,doc:e})}),new Ap(e,t,Sp.emptySet(t),i,r,n,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&_u(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let n=0;n<t.length;n++)if(t[n].type!==r[n].type||!t[n].doc.isEqual(r[n].doc))return!1;return!0}}class _p{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class Cp{constructor(){this.queries=Tp(),this.onlineState="Unknown",this.Ca=new Set}terminate(){!function(e,t){const r=bo(e),n=r.queries;r.queries=Tp(),n.forEach((e,r)=>{for(const n of r.Sa)n.onError(t)})}(this,new ko(wo.ABORTED,"Firestore shutting down"))}}function Tp(){return new Mu(e=>Cu(e),_u)}async function Ip(e,t){const r=bo(e);let n=3;const a=t.query;let i=r.queries.get(a);i?!i.ba()&&t.Da()&&(n=2):(i=new _p,n=t.Da()?0:1);try{switch(n){case 0:i.wa=await r.onListen(a,!0);break;case 1:i.wa=await r.onListen(a,!1);break;case 2:await r.onFirstRemoteStoreListen(a)}}catch(e){const r=Np(e,`Initialization of query '${Tu(t.query)}' failed`);return void t.onError(r)}r.queries.set(a,i),i.Sa.push(t),t.va(r.onlineState),i.wa&&t.Fa(i.wa)&&Mp(r)}async function Op(e,t){const r=bo(e),n=t.query;let a=3;const i=r.queries.get(n);if(i){const e=i.Sa.indexOf(t);e>=0&&(i.Sa.splice(e,1),0===i.Sa.length?a=t.Da()?0:1:!i.ba()&&t.Da()&&(a=2))}switch(a){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function Pp(e,t){const r=bo(e);let n=!1;for(const a of t){const e=a.query,t=r.queries.get(e);if(t){for(const e of t.Sa)e.Fa(a)&&(n=!0);t.wa=a}}n&&Mp(r)}function Dp(e,t,r){const n=bo(e),a=n.queries.get(t);if(a)for(const i of a.Sa)i.onError(r);n.queries.delete(t)}function Mp(e){e.Ca.forEach(e=>{e.next()})}var Rp,Lp;(Lp=Rp||(Rp={})).Ma="default",Lp.Cache="cache";class Fp{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const t=[];for(const r of e.docChanges)3!==r.type&&t.push(r);e=new Ap(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache)return!0;if(!this.Da())return!0;const r="Offline"!==t;return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}ka(e){e=Ap.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Rp.Cache}}class zp{constructor(e){this.key=e}}class Up{constructor(e){this.key=e}}class Vp{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ku(),this.mutatedKeys=Ku(),this.eu=Pu(e),this.tu=new Sp(this.eu)}get nu(){return this.Ya}ru(e,t){const r=t?t.iu:new Ep,n=t?t.tu:this.tu;let a=t?t.mutatedKeys:this.mutatedKeys,i=n,s=!1;const o="F"===this.query.limitType&&n.size===this.query.limit?n.last():null,l="L"===this.query.limitType&&n.size===this.query.limit?n.first():null;if(e.inorderTraversal((e,t)=>{const c=n.get(e),u=Iu(this.query,t)?t:null,d=!!c&&this.mutatedKeys.has(c.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?d!==h&&(r.track({type:3,doc:u}),f=!0):this.su(c,u)||(r.track({type:2,doc:u}),f=!0,(o&&this.eu(u,o)>0||l&&this.eu(u,l)<0)&&(s=!0)):!c&&u?(r.track({type:0,doc:u}),f=!0):c&&!u&&(r.track({type:1,doc:c}),f=!0,(o||l)&&(s=!0)),f&&(u?(i=i.add(u),a=h?a.add(e):a.delete(e)):(i=i.delete(e),a=a.delete(e)))}),null!==this.query.limit)for(;i.size>this.query.limit;){const e="F"===this.query.limitType?i.last():i.first();i=i.delete(e.key),a=a.delete(e.key),r.track({type:1,doc:e})}return{tu:i,iu:r,Cs:s,mutatedKeys:a}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,n){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const i=e.iu.ya();i.sort((e,t)=>function(e,t){const r=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return yo(20277,{Rt:e})}};return r(e)-r(t)}(e.type,t.type)||this.eu(e.doc,t.doc)),this.ou(r),n=n??!1;const s=t&&!n?this._u():[],o=0===this.Xa.size&&this.current&&!n?1:0,l=o!==this.Za;return this.Za=o,0!==i.length||l?{snapshot:new Ap(this.query,e.tu,a,i,e.mutatedKeys,0===o,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:s}:{au:s}}va(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Ep,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(e=>this.Ya=this.Ya.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this.Ya=this.Ya.delete(e)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ku(),this.tu.forEach(e=>{this.uu(e.key)&&(this.Xa=this.Xa.add(e.key))});const t=[];return e.forEach(e=>{this.Xa.has(e)||t.push(new Up(e))}),this.Xa.forEach(r=>{e.has(r)||t.push(new zp(r))}),t}cu(e){this.Ya=e.Qs,this.Xa=Ku();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Ap.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,0===this.Za,this.hasCachedResults)}}const Bp="SyncEngine";class $p{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class Hp{constructor(e){this.key=e,this.hu=!1}}class qp{constructor(e,t,r,n,a,i){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=n,this.currentUser=a,this.maxConcurrentLimboResolutions=i,this.Pu={},this.Tu=new Mu(e=>Cu(e),_u),this.Iu=new Map,this.Eu=new Set,this.du=new Xl(qo.comparator),this.Au=new Map,this.Ru=new Jh,this.Vu={},this.mu=new Map,this.fu=Fh.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return!0===this.gu}}async function Kp(e,t){let r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const n=fm(e);let a;const i=n.Tu.get(t);return i?(n.sharedClientState.addLocalQueryTarget(i.targetId),a=i.view.lu()):a=await Gp(n,t,r,!0),a}async function Wp(e,t){const r=fm(e);await Gp(r,t,!0,!1)}async function Gp(e,t,r,n){const a=await xf(e.localStore,Nu(t)),i=a.targetId,s=e.sharedClientState.addLocalQueryTarget(i,r);let o;return n&&(o=await Yp(e,t,i,"current"===s,a.resumeToken)),e.isPrimaryClient&&r&&Qf(e.remoteStore,a),o}async function Yp(e,t,r,n,a){e.pu=(t,r,n)=>async function(e,t,r,n){let a=t.view.ru(r);a.Cs&&(a=await wf(e.localStore,t.query,!1).then(e=>{let{documents:r}=e;return t.view.ru(r,a)}));const i=n&&n.targetChanges.get(t.targetId),s=n&&null!=n.targetMismatches.get(t.targetId),o=t.view.applyChanges(a,e.isPrimaryClient,i,s);return om(e,t.targetId,o.au),o.snapshot}(e,t,r,n);const i=await wf(e.localStore,t,!0),s=new Vp(t,i.Qs),o=s.ru(i.documents),l=$d.createSynthesizedTargetChangeForCurrentChange(r,n&&"Offline"!==e.onlineState,a),c=s.applyChanges(o,e.isPrimaryClient,l);om(e,r,c.au);const u=new $p(t,r,s);return e.Tu.set(t,u),e.Iu.has(r)?e.Iu.get(r).push(t):e.Iu.set(r,[t]),c.snapshot}async function Qp(e,t,r){const n=bo(e),a=n.Tu.get(t),i=n.Iu.get(a.targetId);if(i.length>1)return n.Iu.set(a.targetId,i.filter(e=>!_u(e,t))),void n.Tu.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(a.targetId),n.sharedClientState.isActiveQueryTarget(a.targetId)||await bf(n.localStore,a.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(a.targetId),r&&Xf(n.remoteStore,a.targetId),im(n,a.targetId)}).catch(hl)):(im(n,a.targetId),await bf(n.localStore,a.targetId,!0))}async function Xp(e,t){const r=bo(e),n=r.Tu.get(t),a=r.Iu.get(n.targetId);r.isPrimaryClient&&1===a.length&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),Xf(r.remoteStore,n.targetId))}async function Jp(e,t){const r=bo(e);try{const e=await function(e,t){const r=bo(e),n=t.snapshotVersion;let a=r.Ms;return r.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{const i=r.Ns.newChangeBuffer({trackRemovals:!0});a=r.Ms;const s=[];t.targetChanges.forEach((i,o)=>{const l=a.get(o);if(!l)return;s.push(r.Pi.removeMatchingKeys(e,i.removedDocuments,o).next(()=>r.Pi.addMatchingKeys(e,i.addedDocuments,o)));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(o)?c=c.withResumeToken(ac.EMPTY_BYTE_STRING,nl.min()).withLastLimboFreeSnapshotVersion(nl.min()):i.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(i.resumeToken,n)),a=a.insert(o,c),function(e,t,r){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size>0)}(l,c,i)&&s.push(r.Pi.updateTargetData(e,c))});let o=Lu(),l=Ku();if(t.documentUpdates.forEach(n=>{t.resolvedLimboDocuments.has(n)&&s.push(r.persistence.referenceDelegate.updateLimboDocument(e,n))}),s.push(yf(e,i,t.documentUpdates).next(e=>{o=e.ks,l=e.qs})),!n.isEqual(nl.min())){const t=r.Pi.getLastRemoteSnapshotVersion(e).next(t=>r.Pi.setTargetsMetadata(e,e.currentSequenceNumber,n));s.push(t)}return fl.waitFor(s).next(()=>i.apply(e)).next(()=>r.localDocuments.getLocalViewOfDocuments(e,o,l)).next(()=>o)}).then(e=>(r.Ms=a,e))}(r.localStore,t);t.targetChanges.forEach((e,t)=>{const n=r.Au.get(t);n&&(xo(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1,22616),e.addedDocuments.size>0?n.hu=!0:e.modifiedDocuments.size>0?xo(n.hu,14607):e.removedDocuments.size>0&&(xo(n.hu,42227),n.hu=!1))}),await um(r,e,t)}catch(e){await hl(e)}}function Zp(e,t,r){const n=bo(e);if(n.isPrimaryClient&&0===r||!n.isPrimaryClient&&1===r){const e=[];n.Tu.forEach((r,n)=>{const a=n.view.va(t);a.snapshot&&e.push(a.snapshot)}),function(e,t){const r=bo(e);r.onlineState=t;let n=!1;r.queries.forEach((e,r)=>{for(const a of r.Sa)a.va(t)&&(n=!0)}),n&&Mp(r)}(n.eventManager,t),e.length&&n.Pu.H_(e),n.onlineState=t,n.isPrimaryClient&&n.sharedClientState.setOnlineState(t)}}async function em(e,t,r){const n=bo(e);n.sharedClientState.updateQueryState(t,"rejected",r);const a=n.Au.get(t),i=a&&a.key;if(i){let e=new Xl(qo.comparator);e=e.insert(i,Hc.newNoDocument(i,nl.min()));const r=Ku().add(i),a=new Bd(nl.min(),new Map,new Xl(Do),e,r);await Jp(n,a),n.du=n.du.remove(i),n.Au.delete(t),cm(n)}else await bf(n.localStore,t,!1).then(()=>im(n,t,r)).catch(hl)}async function tm(e,t){const r=bo(e),n=t.batch.batchId;try{const e=await function(e,t){const r=bo(e);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{const n=t.batch.keys(),a=r.Ns.newChangeBuffer({trackRemovals:!0});return function(e,t,r,n){const a=r.batch,i=a.keys();let s=fl.resolve();return i.forEach(e=>{s=s.next(()=>n.getEntry(t,e)).next(t=>{const i=r.docVersions.get(e);xo(null!==i,48541),t.version.compareTo(i)<0&&(a.applyToRemoteDocument(t,r),t.isValidDocument()&&(t.setReadTime(r.commitVersion),n.addEntry(t)))})}),s.next(()=>e.mutationQueue.removeMutationBatch(t,a))}(r,e,t,a).next(()=>a.apply(e)).next(()=>r.mutationQueue.performConsistencyCheck(e)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(e,n,t.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=Ku();for(let r=0;r<e.mutationResults.length;++r)e.mutationResults[r].transformResults.length>0&&(t=t.add(e.batch.mutations[r].key));return t}(t))).next(()=>r.localDocuments.getDocuments(e,n))})}(r.localStore,t);am(r,n,null),nm(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await um(r,e)}catch(e){await hl(e)}}async function rm(e,t,r){const n=bo(e);try{const e=await function(e,t){const r=bo(e);return r.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let n;return r.mutationQueue.lookupMutationBatch(e,t).next(t=>(xo(null!==t,37113),n=t.keys(),r.mutationQueue.removeMutationBatch(e,t))).next(()=>r.mutationQueue.performConsistencyCheck(e)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(e,n,t)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,n)).next(()=>r.localDocuments.getDocuments(e,n))})}(n.localStore,t);am(n,t,r),nm(n,t),n.sharedClientState.updateMutationState(t,"rejected",r),await um(n,e)}catch(r){await hl(r)}}function nm(e,t){(e.mu.get(t)||[]).forEach(e=>{e.resolve()}),e.mu.delete(t)}function am(e,t,r){const n=bo(e);let a=n.Vu[n.currentUser.toKey()];if(a){const e=a.get(t);e&&(r?e.reject(r):e.resolve(),a=a.remove(t)),n.Vu[n.currentUser.toKey()]=a}}function im(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const n of e.Iu.get(t))e.Tu.delete(n),r&&e.Pu.yu(n,r);e.Iu.delete(t),e.isPrimaryClient&&e.Ru.jr(t).forEach(t=>{e.Ru.containsKey(t)||sm(e,t)})}function sm(e,t){e.Eu.delete(t.path.canonicalString());const r=e.du.get(t);null!==r&&(Xf(e.remoteStore,r),e.du=e.du.remove(t),e.Au.delete(r),cm(e))}function om(e,t,r){for(const n of r)n instanceof zp?(e.Ru.addReference(n.key,t),lm(e,n)):n instanceof Up?(fo(Bp,"Document no longer in limbo: "+n.key),e.Ru.removeReference(n.key,t),e.Ru.containsKey(n.key)||sm(e,n.key)):yo(19791,{wu:n})}function lm(e,t){const r=t.key,n=r.path.canonicalString();e.du.get(r)||e.Eu.has(n)||(fo(Bp,"New document in limbo: "+r),e.Eu.add(n),cm(e))}function cm(e){for(;e.Eu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const r=new qo(Bo.fromString(t)),n=e.fu.next();e.Au.set(n,new Hp(r)),e.du=e.du.insert(r,n),Qf(e.remoteStore,new Ch(Nu(bu(r.path)),n,"TargetPurposeLimboResolution",gl.ce))}}async function um(e,t,r){const n=bo(e),a=[],i=[],s=[];n.Tu.isEmpty()||(n.Tu.forEach((e,o)=>{s.push(n.pu(o,t,r).then(e=>{if((e||r)&&n.isPrimaryClient){const t=e?!e.fromCache:r?.targetChanges.get(o.targetId)?.current;n.sharedClientState.updateQueryState(o.targetId,t?"current":"not-current")}if(e){a.push(e);const t=cf.As(o.targetId,e);i.push(t)}}))}),await Promise.all(s),n.Pu.H_(a),await async function(e,t){const r=bo(e);try{await r.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>fl.forEach(t,t=>fl.forEach(t.Es,n=>r.persistence.referenceDelegate.addReference(e,t.targetId,n)).next(()=>fl.forEach(t.ds,n=>r.persistence.referenceDelegate.removeReference(e,t.targetId,n)))))}catch(e){if(!ml(e))throw e;fo(hf,"Failed to update sequence numbers: "+e)}for(const n of t){const e=n.targetId;if(!n.fromCache){const t=r.Ms.get(e),n=t.snapshotVersion,a=t.withLastLimboFreeSnapshotVersion(n);r.Ms=r.Ms.insert(e,a)}}}(n.localStore,i))}async function dm(e,t){const r=bo(e);if(!r.currentUser.isEqual(t)){fo(Bp,"User change. New user:",t.toKey());const e=await mf(r.localStore,t);r.currentUser=t,function(e,t){e.mu.forEach(e=>{e.forEach(e=>{e.reject(new ko(wo.CANCELLED,t))})}),e.mu.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await um(r,e.Ls)}}function hm(e,t){const r=bo(e),n=r.Au.get(t);if(n&&n.hu)return Ku().add(n.key);{let e=Ku();const n=r.Iu.get(t);if(!n)return e;for(const t of n){const n=r.Tu.get(t);e=e.unionWith(n.view.nu)}return e}}function fm(e){const t=bo(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Jp.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=hm.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=em.bind(null,t),t.Pu.H_=Pp.bind(null,t.eventManager),t.Pu.yu=Dp.bind(null,t.eventManager),t}function pm(e){const t=bo(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=tm.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=rm.bind(null,t),t}class mm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Lf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return pf(this.persistence,new df,e.initialUser,this.serializer)}Cu(e){return new af(of.mi,this.serializer)}Du(e){return new Nf}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}mm.provider={build:()=>new mm};class gm extends mm{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){xo(this.persistence.referenceDelegate instanceof lf,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new $h(r,e.asyncQueue,t)}Cu(e){const t=void 0!==this.cacheSizeBytes?Lh.withCacheSize(this.cacheSizeBytes):Lh.DEFAULT;return new af(e=>lf.mi(e,t),this.serializer)}}class ym{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Zp(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=dm.bind(null,this.syncEngine),await bp(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Cp}createDatastore(e){const t=Lf(e.databaseInfo.databaseId),r=function(e){return new Mf(e)}(e.databaseInfo);return function(e,t,r,n){return new Hf(e,t,r,n)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(e,t,r,n,a){return new Wf(e,t,r,n,a)}(this.localStore,this.datastore,e.asyncQueue,e=>Zp(this.syncEngine,e,0),Af.v()?new Af:new Sf)}createSyncEngine(e,t){return function(e,t,r,n,a,i,s){const o=new qp(e,t,r,n,a,i);return s&&(o.gu=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await async function(e){const t=bo(e);fo(Kf,"RemoteStore shutting down."),t.Ea.add(5),await Yf(t),t.Aa.shutdown(),t.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}ym.provider={build:()=>new ym};class vm{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):po("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout(()=>{this.muted||e(t)},0)}}const xm="FirestoreClient";class bm{constructor(e,t,r,n,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=n,this.user=lo.UNAUTHENTICATED,this.clientId=Po.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async e=>{fo(xm,"Received user=",e.uid),await this.authCredentialListener(e),this.user=e}),this.appCheckCredentials.start(r,e=>(fo(xm,"Received new app check token=",e),this.appCheckCredentialListener(e,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new jo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=Np(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function wm(e,t){e.asyncQueue.verifyOperationInProgress(),fo(xm,"Initializing OfflineComponentProvider");const r=e.configuration;await t.initialize(r);let n=r.initialUser;e.setCredentialChangeListener(async e=>{n.isEqual(e)||(await mf(t.localStore,e),n=e)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function km(e,t){e.asyncQueue.verifyOperationInProgress();const r=await jm(e);fo(xm,"Initializing OnlineComponentProvider"),await t.initialize(r,e.configuration),e.setCredentialChangeListener(e=>xp(t.remoteStore,e)),e.setAppCheckTokenChangeListener((e,r)=>xp(t.remoteStore,r)),e._onlineComponents=t}async function jm(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){fo(xm,"Using user provided OfflineComponentProvider");try{await wm(e,e._uninitializedComponentsProvider._offline)}catch(t){const r=t;if(!function(e){return"FirebaseError"===e.name?e.code===wo.FAILED_PRECONDITION||e.code===wo.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(r))throw r;mo("Error using user provided cache. Falling back to memory cache: "+r),await wm(e,new mm)}}else fo(xm,"Using default OfflineComponentProvider"),await wm(e,new gm(void 0));return e._offlineComponents}async function Nm(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(fo(xm,"Using user provided OnlineComponentProvider"),await km(e,e._uninitializedComponentsProvider._online)):(fo(xm,"Using default OnlineComponentProvider"),await km(e,new ym))),e._onlineComponents}function Sm(e){return Nm(e).then(e=>e.syncEngine)}async function Em(e){const t=await Nm(e),r=t.eventManager;return r.onListen=Kp.bind(null,t.syncEngine),r.onUnlisten=Qp.bind(null,t.syncEngine),r.onFirstRemoteStoreListen=Wp.bind(null,t.syncEngine),r.onLastRemoteStoreUnlisten=Xp.bind(null,t.syncEngine),r}function Am(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const n=new jo;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,r,n,a){const i=new vm({next:o=>{i.Nu(),t.enqueueAndForget(()=>Op(e,s));const l=o.docs.has(r);!l&&o.fromCache?a.reject(new ko(wo.UNAVAILABLE,"Failed to get document because the client is offline.")):l&&o.fromCache&&n&&"server"===n.source?a.reject(new ko(wo.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):a.resolve(o)},error:e=>a.reject(e)}),s=new Fp(bu(r.path),i,{includeMetadataChanges:!0,qa:!0});return Ip(e,s)}(await Em(e),e.asyncQueue,t,r,n)),n.promise}function _m(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const n=new jo;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,r,n,a){const i=new vm({next:r=>{i.Nu(),t.enqueueAndForget(()=>Op(e,s)),r.fromCache&&"server"===n.source?a.reject(new ko(wo.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):a.resolve(r)},error:e=>a.reject(e)}),s=new Fp(r,i,{includeMetadataChanges:!0,qa:!0});return Ip(e,s)}(await Em(e),e.asyncQueue,t,r,n)),n.promise}function Cm(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const Tm=new Map,Im="firestore.googleapis.com",Om=!0;class Pm{constructor(e){if(void 0===e.host){if(void 0!==e.ssl)throw new ko(wo.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Im,this.ssl=Om}else this.host=e.host,this.ssl=e.ssl??Om;if(this.isUsingEmulator=void 0!==e.emulatorOptions,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=Rh;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<Uh)throw new ko(wo.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,r,n){if(!0===t&&!0===n)throw new ko(wo.INVALID_ARGUMENT,`${e} and ${r} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Cm(e.experimentalLongPollingOptions??{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new ko(wo.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new ko(wo.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new ko(wo.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Dm{constructor(e,t,r,n){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=n,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Pm({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ko(wo.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new ko(wo.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Pm(e),this._emulatorOptions=e.emulatorOptions||{},void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new So;switch(e.type){case"firstParty":return new Co(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new ko(wo.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Tm.get(e);t&&(fo("ComponentProvider","Removing Datastore"),Tm.delete(e),t.terminate())}(this),Promise.resolve()}}function Mm(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e=Xo(e,Dm);const a=jt(t),i=e._getSettings(),s={...i,emulatorOptions:e._getEmulatorOptions()},o=`${t}:${r}`;a&&(Nt(`https://${o}`),At("Firestore",!0)),i.host!==Im&&i.host!==o&&mo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...i,host:o,ssl:a,emulatorOptions:n};if(!Mt(l,s)&&(e._setSettings(l),n.mockUserToken)){let t,r;if("string"==typeof n.mockUserToken)t=n.mockUserToken,r=lo.MOCK_USER;else{t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=t||"demo-project",n=e.iat||0,a=e.sub||e.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const i={iss:`https://securetoken.google.com/${r}`,aud:r,iat:n,exp:n+3600,auth_time:n,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...e};return[mt(JSON.stringify({alg:"none",type:"JWT"})),mt(JSON.stringify(i)),""].join(".")}(n.mockUserToken,e._app?.options.projectId);const a=n.mockUserToken.sub||n.mockUserToken.user_id;if(!a)throw new ko(wo.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");r=new lo(a)}e._authCredentials=new Eo(new No(t,r))}}class Rm{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Rm(this.firestore,e,this._query)}}class Lm{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Fm(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Lm(this.firestore,e,this._key)}toJSON(){return{type:Lm._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(Zo(t,Lm._jsonSchema))return new Lm(e,r||null,new qo(Bo.fromString(t.referencePath)))}}Lm._jsonSchemaVersion="firestore/documentReference/1.0",Lm._jsonSchema={type:Jo("string",Lm._jsonSchemaVersion),referencePath:Jo("string")};class Fm extends Rm{constructor(e,t,r){super(e,t,bu(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Lm(this.firestore,null,new qo(e))}withConverter(e){return new Fm(this.firestore,e,this._path)}}function zm(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),a=2;a<r;a++)n[a-2]=arguments[a];if(e=Bt(e),Ko("collection","path",t),e instanceof Dm){const r=Bo.fromString(t,...n);return Go(r),new Fm(e,null,r)}{if(!(e instanceof Lm||e instanceof Fm))throw new ko(wo.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(Bo.fromString(t,...n));return Go(r),new Fm(e.firestore,null,r)}}function Um(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),a=2;a<r;a++)n[a-2]=arguments[a];if(e=Bt(e),1===arguments.length&&(t=Po.newId()),Ko("doc","path",t),e instanceof Dm){const r=Bo.fromString(t,...n);return Wo(r),new Lm(e,null,new qo(r))}{if(!(e instanceof Lm||e instanceof Fm))throw new ko(wo.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(Bo.fromString(t,...n));return Wo(r),new Lm(e.firestore,e instanceof Fm?e.converter:null,new qo(r))}}const Vm="AsyncQueue";class Bm{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Ff(this,"async_queue_retry"),this._c=()=>{const e=Rf();e&&fo(Vm,"Visibility state changed to "+e.visibilityState),this.M_.w_()},this.ac=e;const t=Rf();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Rf();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const t=new jo;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(0!==this.Xu.length){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(bq){if(!ml(bq))throw bq;fo(Vm,"Operation failed with retryable error: "+bq)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const t=this.ac.then(()=>(this.rc=!0,e().catch(e=>{throw this.nc=e,this.rc=!1,po("INTERNAL UNHANDLED ERROR: ",$m(e)),e}).then(e=>(this.rc=!1,e))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const n=jp.createAndSchedule(this,e,t,r,e=>this.hc(e));return this.tc.push(n),n}uc(){this.nc&&yo(47125,{Pc:$m(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do{e=this.ac,await e}while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const t of this.tc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function $m(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}function Hm(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const n of t)if(n in r&&"function"==typeof r[n])return!0;return!1}(e,["next","error","complete"])}class qm extends Dm{constructor(e,t,r,n){super(e,t,r,n),this.type="firestore",this._queue=new Bm,this._persistenceKey=n?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Bm(e),this._firestoreClient=void 0,await e}}}function Km(e){if(e._terminated)throw new ko(wo.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||Wm(e),e._firestoreClient}function Wm(e){const t=e._freezeSettings(),r=function(e,t,r,n){return new gc(e,t,r,n.host,n.ssl,n.experimentalForceLongPolling,n.experimentalAutoDetectLongPolling,Cm(n.experimentalLongPollingOptions),n.useFetchStreams,n.isUsingEmulator)}(e._databaseId,e._app?.options.appId||"",e._persistenceKey,t);e._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(e._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),e._firestoreClient=new bm(e._authCredentials,e._appCheckCredentials,e._queue,r,e._componentsProvider&&function(e){const t=e?._online.build();return{_offline:e?._offline.build(t),_online:t}}(e._componentsProvider))}class Gm{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Gm(ac.fromBase64String(e))}catch(e){throw new ko(wo.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new Gm(ac.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Gm._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Zo(e,Gm._jsonSchema))return Gm.fromBase64String(e.bytes)}}Gm._jsonSchemaVersion="firestore/bytes/1.0",Gm._jsonSchema={type:Jo("string",Gm._jsonSchemaVersion),bytes:Jo("string")};class Ym{constructor(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];for(let n=0;n<t.length;++n)if(0===t[n].length)throw new ko(wo.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ho(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Qm{constructor(e){this._methodName=e}}class Xm{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ko(wo.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ko(wo.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Do(this._lat,e._lat)||Do(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Xm._jsonSchemaVersion}}static fromJSON(e){if(Zo(e,Xm._jsonSchema))return new Xm(e.latitude,e.longitude)}}Xm._jsonSchemaVersion="firestore/geoPoint/1.0",Xm._jsonSchema={type:Jo("string",Xm._jsonSchemaVersion),latitude:Jo("number"),longitude:Jo("number")};class Jm{constructor(e){this._values=(e||[]).map(e=>e)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;++r)if(e[r]!==t[r])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Jm._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Zo(e,Jm._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(e=>"number"==typeof e))return new Jm(e.vectorValues);throw new ko(wo.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Jm._jsonSchemaVersion="firestore/vectorValue/1.0",Jm._jsonSchema={type:Jo("string",Jm._jsonSchemaVersion),vectorValues:Jo("object")};const Zm=/^__.*__$/;class eg{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new wd(e,this.data,this.fieldMask,t,this.fieldTransforms):new bd(e,this.data,t,this.fieldTransforms)}}class tg{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new wd(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function rg(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw yo(40011,{Ac:e})}}class ng{constructor(e,t,r,n,a,i){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=n,void 0===a&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=i||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new ng({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.gc(e),r}yc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return xg(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(0===e.length)throw this.Sc("Document fields must not be empty");if(rg(this.Ac)&&Zm.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class ag{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Lf(e)}Cc(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new ng({Ac:e,methodName:t,Dc:r,path:Ho.emptyPath(),fc:!1,bc:n},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ig(e){const t=e._freezeSettings(),r=Lf(e._databaseId);return new ag(e._databaseId,!!t.ignoreUndefinedProperties,r)}function sg(e,t,r,n,a){let i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const s=e.Cc(i.merge||i.mergeFields?2:0,t,r,a);mg("Data must be an object, but it was:",s,n);const o=fg(n,s);let l,c;if(i.merge)l=new rc(s.fieldMask),c=s.fieldTransforms;else if(i.mergeFields){const e=[];for(const n of i.mergeFields){const a=gg(t,n,r);if(!s.contains(a))throw new ko(wo.INVALID_ARGUMENT,`Field '${a}' is specified in your field mask but missing from your input data.`);bg(e,a)||e.push(a)}l=new rc(e),c=s.fieldTransforms.filter(e=>l.covers(e.field))}else l=null,c=s.fieldTransforms;return new eg(new Bc(o),l,c)}class og extends Qm{_toFieldTransform(e){if(2!==e.Ac)throw 1===e.Ac?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof og}}class lg extends Qm{constructor(e,t){super(e),this.Fc=t}_toFieldTransform(e){const t=new od(e.serializer,Xu(e.serializer,this.Fc));return new ud(e.path,t)}isEqual(e){return e instanceof lg&&this.Fc===e.Fc}}function cg(e,t,r,n){const a=e.Cc(1,t,r);mg("Data must be an object, but it was:",a,n);const i=[],s=Bc.empty();Yl(n,(e,n)=>{const o=vg(t,e,r);n=Bt(n);const l=a.yc(o);if(n instanceof og)i.push(o);else{const e=hg(n,l);null!=e&&(i.push(o),s.set(o,e))}});const o=new rc(i);return new tg(s,o,a.fieldTransforms)}function ug(e,t,r,n,a,i){const s=e.Cc(1,t,r),o=[gg(t,n,r)],l=[a];if(i.length%2!=0)throw new ko(wo.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<i.length;h+=2)o.push(gg(t,i[h])),l.push(i[h+1]);const c=[],u=Bc.empty();for(let h=o.length-1;h>=0;--h)if(!bg(c,o[h])){const e=o[h];let t=l[h];t=Bt(t);const r=s.yc(e);if(t instanceof og)c.push(e);else{const n=hg(t,r);null!=n&&(c.push(e),u.set(e,n))}}const d=new rc(c);return new tg(u,d,s.fieldTransforms)}function dg(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return hg(r,e.Cc(n?4:3,t))}function hg(e,t){if(pg(e=Bt(e)))return mg("Unsupported field value:",t,e),fg(e,t);if(e instanceof Qm)return function(e,t){if(!rg(t.Ac))throw t.Sc(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.Sc(`${e._methodName}() is not currently supported inside arrays`);const r=e._toFieldTransform(t);r&&t.fieldTransforms.push(r)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.fc&&4!==t.Ac)throw t.Sc("Nested arrays are not supported");return function(e,t){const r=[];let n=0;for(const a of e){let e=hg(a,t.wc(n));null==e&&(e={nullValue:"NULL_VALUE"}),r.push(e),n++}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=Bt(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Xu(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const r=rl.fromDate(e);return{timestampValue:rh(t.serializer,r)}}if(e instanceof rl){const r=new rl(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:rh(t.serializer,r)}}if(e instanceof Xm)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Gm)return{bytesValue:nh(t.serializer,e._byteString)};if(e instanceof Lm){const r=t.databaseId,n=e.firestore._databaseId;if(!n.isEqual(r))throw t.Sc(`Document reference is for database ${n.projectId}/${n.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:sh(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof Jm)return function(e,t){return{mapValue:{fields:{[xc]:{stringValue:kc},[jc]:{arrayValue:{values:e.toArray().map(e=>{if("number"!=typeof e)throw t.Sc("VectorValues must only contain numeric values.");return Yu(t.serializer,e)})}}}}}}(e,t);throw t.Sc(`Unsupported field value: ${Qo(e)}`)}(e,t)}function fg(e,t){const r={};return Ql(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Yl(e,(e,n)=>{const a=hg(n,t.mc(e));null!=a&&(r[e]=a)}),{mapValue:{fields:r}}}function pg(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof rl||e instanceof Xm||e instanceof Gm||e instanceof Lm||e instanceof Qm||e instanceof Jm)}function mg(e,t,r){if(!pg(r)||!Yo(r)){const n=Qo(r);throw"an object"===n?t.Sc(e+" a custom object"):t.Sc(e+" "+n)}}function gg(e,t,r){if((t=Bt(t))instanceof Ym)return t._internalPath;if("string"==typeof t)return vg(e,t);throw xg("Field path arguments must be of type string or ",e,!1,void 0,r)}const yg=new RegExp("[~\\*/\\[\\]]");function vg(e,t,r){if(t.search(yg)>=0)throw xg(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,r);try{return new Ym(...t.split("."))._internalPath}catch(iv){throw xg(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,r)}}function xg(e,t,r,n,a){const i=n&&!n.isEmpty(),s=void 0!==a;let o=`Function ${t}() called with invalid data`;r&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(i||s)&&(l+=" (found",i&&(l+=` in field ${n}`),s&&(l+=` in document ${a}`),l+=")"),new ko(wo.INVALID_ARGUMENT,o+e+l)}function bg(e,t){return e.some(e=>e.isEqual(t))}class wg{constructor(e,t,r,n,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=n,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Lm(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new kg(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(jg("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class kg extends wg{data(){return super.data()}}function jg(e,t){return"string"==typeof t?vg(e,t):t instanceof Ym?t._internalPath:t._delegate._internalPath}function Ng(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new ko(wo.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Sg{}class Eg extends Sg{}function Ag(e,t){let r=[];for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i];t instanceof Sg&&r.push(t),r=r.concat(a),function(e){const t=e.filter(e=>e instanceof Tg).length,r=e.filter(e=>e instanceof _g).length;if(t>1||t>0&&r>0)throw new ko(wo.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)e=s._apply(e);return e}class _g extends Eg{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new _g(e,t,r)}_apply(e){const t=this._parse(e);return Mg(e._query,t),new Rm(e.firestore,e.converter,Eu(e._query,t))}_parse(e){const t=ig(e.firestore),r=function(e,t,r,n,a,i,s){let o;if(a.isKeyField()){if("array-contains"===i||"array-contains-any"===i)throw new ko(wo.INVALID_ARGUMENT,`Invalid Query. You can't perform '${i}' queries on documentId().`);if("in"===i||"not-in"===i){Dg(s,i);const t=[];for(const r of s)t.push(Pg(n,e,r));o={arrayValue:{values:t}}}else o=Pg(n,e,s)}else"in"!==i&&"not-in"!==i&&"array-contains-any"!==i||Dg(s,i),o=dg(r,t,s,"in"===i||"not-in"===i);return Xc.create(a,i,o)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return r}}function Cg(e,t,r){const n=t,a=jg("where",e);return _g._create(a,n,r)}class Tg extends Sg{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Tg(e,t)}_parse(e){const t=this._queryConstraints.map(t=>t._parse(e)).filter(e=>e.getFilters().length>0);return 1===t.length?t[0]:Jc.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let r=e;const n=t.getFlattenedFilters();for(const a of n)Mg(r,a),r=Eu(r,a)}(e._query,t),new Rm(e.firestore,e.converter,Eu(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Ig extends Eg{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Ig(e,t)}_apply(e){const t=function(e,t,r){if(null!==e.startAt)throw new ko(wo.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new ko(wo.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Gc(t,r)}(e._query,this._field,this._direction);return new Rm(e.firestore,e.converter,function(e,t){const r=e.explicitOrderBy.concat([t]);return new vu(e.path,e.collectionGroup,r,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}function Og(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",r=jg("orderBy",e);return Ig._create(r,t)}function Pg(e,t,r){if("string"==typeof(r=Bt(r))){if(""===r)throw new ko(wo.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ku(t)&&-1!==r.indexOf("/"))throw new ko(wo.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=t.path.child(Bo.fromString(r));if(!qo.isDocumentKey(n))throw new ko(wo.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return Pc(e,new qo(n))}if(r instanceof Lm)return Pc(e,r._key);throw new ko(wo.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Qo(r)}.`)}function Dg(e,t){if(!Array.isArray(e)||0===e.length)throw new ko(wo.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function Mg(e,t){const r=function(e,t){for(const r of e)for(const e of r.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==r)throw r===t.op?new ko(wo.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ko(wo.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${r.toString()}' filters.`)}class Rg{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Nc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return oc(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(lc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw yo(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const r={};return Yl(e,(e,n)=>{r[e]=this.convertValue(n,t)}),r}convertVectorValue(e){const t=e.fields?.[jc].arrayValue?.values?.map(e=>oc(e.doubleValue));return new Jm(t)}convertGeoPoint(e){return new Xm(oc(e.latitude),oc(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=pc(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(mc(e));default:return null}}convertTimestamp(e){const t=sc(e);return new rl(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Bo.fromString(e);xo(_h(r),9688,{name:e});const n=new vc(r.get(1),r.get(3)),a=new qo(r.popFirst(5));return n.isEqual(t)||po(`Document ${a} contains a document reference within a different database (${n.projectId}/${n.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}function Lg(e,t,r){let n;return n=e?r&&(r.merge||r.mergeFields)?e.toFirestore(t,r):e.toFirestore(t):t,n}class Fg{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class zg extends wg{constructor(e,t,r,n,a,i){super(e,t,r,n,i),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new Ug(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const r=this._document.data.field(jg("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ko(wo.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=zg._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),e&&e.isValidDocument()&&e.isFoundDocument()?(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t):t}}zg._jsonSchemaVersion="firestore/documentSnapshot/1.0",zg._jsonSchema={type:Jo("string",zg._jsonSchemaVersion),bundleSource:Jo("string","DocumentSnapshot"),bundleName:Jo("string"),bundle:Jo("string")};class Ug extends zg{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class Vg{constructor(e,t,r,n){this._firestore=e,this._userDataWriter=t,this._snapshot=n,this.metadata=new Fg(n.hasPendingWrites,n.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Ug(this._firestore,this._userDataWriter,r.key,r,new Fg(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new ko(wo.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(r=>{const n=new Ug(e._firestore,e._userDataWriter,r.doc.key,r.doc,new Fg(e._snapshot.mutatedKeys.has(r.doc.key),e._snapshot.fromCache),e.query.converter);return r.doc,{type:"added",doc:n,oldIndex:-1,newIndex:t++}})}{let r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{const n=new Ug(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Fg(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let a=-1,i=-1;return 0!==t.type&&(a=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(r=r.add(t.doc),i=r.indexOf(t.doc.key)),{type:Bg(t.type),doc:n,oldIndex:a,newIndex:i}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ko(wo.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Vg._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Po.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],n=[];return this.docs.forEach(e=>{null!==e._document&&(t.push(e._document),r.push(this._userDataWriter.convertObjectMap(e._document.data.value.mapValue.fields,"previous")),n.push(e.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Bg(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return yo(61501,{type:e})}}function $g(e){e=Xo(e,Lm);const t=Xo(e.firestore,qm);return Am(Km(t),e._key).then(r=>Xg(t,e,r))}Vg._jsonSchemaVersion="firestore/querySnapshot/1.0",Vg._jsonSchema={type:Jo("string",Vg._jsonSchemaVersion),bundleSource:Jo("string","QuerySnapshot"),bundleName:Jo("string"),bundle:Jo("string")};class Hg extends Rg{constructor(e){super(),this.firestore=e}convertBytes(e){return new Gm(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Lm(this.firestore,null,t)}}function qg(e){e=Xo(e,Rm);const t=Xo(e.firestore,qm),r=Km(t),n=new Hg(t);return Ng(e._query),_m(r,e._query).then(r=>new Vg(t,n,e,r))}function Kg(e,t,r){e=Xo(e,Lm);const n=Xo(e.firestore,qm),a=ig(n);let i;for(var s=arguments.length,o=new Array(s>3?s-3:0),l=3;l<s;l++)o[l-3]=arguments[l];return i="string"==typeof(t=Bt(t))||t instanceof Ym?ug(a,"updateDoc",e._key,t,r,o):cg(a,"updateDoc",e._key,t),Qg(n,[i.toMutation(e._key,hd.exists(!0))])}function Wg(e){return Qg(Xo(e.firestore,qm),[new Sd(e._key,hd.none())])}function Gg(e,t){const r=Xo(e.firestore,qm),n=Um(e),a=Lg(e.converter,t);return Qg(r,[sg(ig(e.firestore),"addDoc",n._key,a,null!==e.converter,{}).toMutation(n._key,hd.exists(!1))]).then(()=>n)}function Yg(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];e=Bt(e);let a={includeMetadataChanges:!1,source:"default"},i=0;"object"!=typeof r[i]||Hm(r[i])||(a=r[i++]);const s={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(Hm(r[i])){const e=r[i];r[i]=e.next?.bind(e),r[i+1]=e.error?.bind(e),r[i+2]=e.complete?.bind(e)}let o,l,c;if(e instanceof Lm)l=Xo(e.firestore,qm),c=bu(e._key.path),o={next:t=>{r[i]&&r[i](Xg(l,e,t))},error:r[i+1],complete:r[i+2]};else{const t=Xo(e,Rm);l=Xo(t.firestore,qm),c=t._query;const n=new Hg(l);o={next:e=>{r[i]&&r[i](new Vg(l,n,t,e))},error:r[i+1],complete:r[i+2]},Ng(e._query)}return function(e,t,r,n){const a=new vm(n),i=new Fp(t,a,r);return e.asyncQueue.enqueueAndForget(async()=>Ip(await Em(e),i)),()=>{a.Nu(),e.asyncQueue.enqueueAndForget(async()=>Op(await Em(e),i))}}(Km(l),c,s,o)}function Qg(e,t){return function(e,t){const r=new jo;return e.asyncQueue.enqueueAndForget(async()=>async function(e,t,r){const n=pm(e);try{const e=await function(e,t){const r=bo(e),n=rl.now(),a=t.reduce((e,t)=>e.add(t.key),Ku());let i,s;return r.persistence.runTransaction("Locally write mutations","readwrite",e=>{let o=Lu(),l=Ku();return r.Ns.getEntries(e,a).next(e=>{o=e,o.forEach((e,t)=>{t.isValidDocument()||(l=l.add(e))})}).next(()=>r.localDocuments.getOverlayedDocuments(e,o)).next(a=>{i=a;const s=[];for(const e of t){const t=vd(e,i.get(e.key).overlayedDocument);null!=t&&s.push(new wd(e.key,t,$c(t.value.mapValue),hd.exists(!0)))}return r.mutationQueue.addMutationBatch(e,n,s,t)}).next(t=>{s=t;const n=t.applyToLocalDocumentSet(i,l);return r.documentOverlayCache.saveOverlays(e,t.batchId,n)})}).then(()=>({batchId:s.batchId,changes:Uu(i)}))}(n.localStore,t);n.sharedClientState.addPendingMutation(e.batchId),function(e,t,r){let n=e.Vu[e.currentUser.toKey()];n||(n=new Xl(Do)),n=n.insert(t,r),e.Vu[e.currentUser.toKey()]=n}(n,e.batchId,r),await um(n,e.changes),await up(n.remoteStore)}catch(e){const t=Np(e,"Failed to persist write");r.reject(t)}}(await Sm(e),t,r)),r.promise}(Km(e),t)}function Xg(e,t,r){const n=r.docs.get(t._key),a=new Hg(e);return new zg(e,a,t._key,n,new Fg(r.hasPendingWrites,r.fromCache),t.converter)}class Jg{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=ig(e)}set(e,t,r){this._verifyNotCommitted();const n=Zg(e,this._firestore),a=Lg(n.converter,t,r),i=sg(this._dataReader,"WriteBatch.set",n._key,a,null!==n.converter,r);return this._mutations.push(i.toMutation(n._key,hd.none())),this}update(e,t,r){this._verifyNotCommitted();const n=Zg(e,this._firestore);let a;for(var i=arguments.length,s=new Array(i>3?i-3:0),o=3;o<i;o++)s[o-3]=arguments[o];return a="string"==typeof(t=Bt(t))||t instanceof Ym?ug(this._dataReader,"WriteBatch.update",n._key,t,r,s):cg(this._dataReader,"WriteBatch.update",n._key,t),this._mutations.push(a.toMutation(n._key,hd.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Zg(e,this._firestore);return this._mutations=this._mutations.concat(new Sd(t._key,hd.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ko(wo.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Zg(e,t){if((e=Bt(e)).firestore!==t)throw new ko(wo.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}function ey(e){return new lg("increment",e)}function ty(e){return Km(e=Xo(e,qm)),new Jg(e,t=>Qg(e,t))}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){co=e}(nn),Jr(new $t("firestore",(e,r)=>{let{instanceIdentifier:n,options:a}=r;const i=e.getProvider("app").getImmediate(),s=new qm(new Ao(e.getProvider("auth-internal")),new Io(i,e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new ko(wo.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new vc(e.options.projectId,t)}(i,n),i);return a={useFetchStreams:t,...a},s._setSettings(a),s},"PUBLIC").setMultipleInstances(!0)),on(so,oo,e),on(so,oo,"esm2020")}();const ry=an({apiKey:"AIzaSyARjanzH8bylb2FsQdz60yI2hs8ud-yqwc",authDomain:"budget-backend-09.firebaseapp.com",projectId:"budget-backend-09",storageBucket:"budget-backend-09.firebasestorage.app",messagingSenderId:"499758129287",appId:"1:499758129287:web:d8764dc451a1e1c6941822",measurementId:"G-HBS9QEKQZ8"}),ny=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:sn();const t=Zr(e,"auth");if(t.isInitialized())return t.getImmediate();const r=function(e,t){const r=Zr(e,"auth");if(r.isInitialized()){const e=r.getImmediate();if(Mt(r.getOptions(),t??{}))return e;jn(e,"already-initialized")}return r.initialize({options:t})}(e,{popupRedirectResolver:zs,persistence:[Yi,Ci,Di]}),n=wt("authTokenSyncURL");if(n&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(n,location.origin);if(location.origin===e.origin){const t=(a=e.toString(),async e=>{const t=e&&await e.getIdTokenResult(),r=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>$s)return;const n=t?.token;Hs!==n&&(Hs=n,await fetch(a,{method:n?"POST":"DELETE",headers:n?{Authorization:`Bearer ${n}`}:{}}))});!function(e,t,r){Bt(e).beforeAuthStateChanged(t,r)}(r,t,()=>t(r.currentUser)),function(e,t,r,n){Bt(e).onIdTokenChanged(t,r,n)}(r,e=>t(e))}}var a;const i=xt("auth");return i&&qa(r,`http://${i}`),r}(ry),ay=new ui,iy=function(e,t){const r="object"==typeof e?e:sn(),n="string"==typeof e?e:t||yc,a=Zr(r,"firestore").getImmediate({identifier:n});if(!a._initialized){const e=(e=>{const t=xt(e);if(!t)return;const r=t.lastIndexOf(":");if(r<=0||r+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const n=parseInt(t.substring(r+1),10);return"["===t[0]?[t.substring(1,r-1),n]:[t.substring(0,r),n]})("firestore");e&&Mm(a,...e)}return a}(ry);var sy=r(579);const oy=(0,t.createContext)();function ly(){return(0,t.useContext)(oy)}function cy(e){let{children:r}=e;const[n,a]=(0,t.useState)(null),[i,s]=(0,t.useState)(!0);(0,t.useEffect)(()=>{const e=function(e,t,r,n){return Bt(e).onAuthStateChanged(t,r,n)}(ny,e=>{a(e),s(!1)});return e},[]);const o={currentUser:n,loginWithGoogle:async()=>{try{const e=await async function(e,t,r){if(en(e.app))return Promise.reject(Nn(e,"operation-not-supported-in-this-environment"));const n=Pa(e);An(e,t,oi);const a=ts(n,r);return new ls(n,"signInViaPopup",t,a).executeNotNull()}(ny,ay);return e.user}catch(e){throw console.error("Google login error:",e),e}},signUpWithEmail:async(e,t,r)=>{try{const n=await async function(e,t,r){if(en(e.app))return Promise.reject(En(e));const n=Pa(e),a=$a(n,{returnSecureToken:!0,email:t,password:r,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",fi,"EMAIL_PASSWORD_PROVIDER"),i=await a.catch(t=>{throw"auth/password-does-not-meet-requirements"===t.code&&ji(e),t}),s=await pi._fromIdTokenResponse(n,"signIn",i);return await n._updateCurrentUser(s.user),s}(ny,t,r);return await Ni(n.user,{displayName:e}),n.user}catch(n){throw console.error("Email signup error:",n),n}},loginWithEmail:async(e,t)=>{try{const r=await function(e,t,r){return en(e.app)?Promise.reject(En(e)):wi(Bt(e),si.credential(t,r)).catch(async t=>{throw"auth/password-does-not-meet-requirements"===t.code&&ji(e),t})}(ny,e,t);return r.user}catch(r){throw console.error("Email login error:",r),r}},logout:async()=>{try{await function(e){return Bt(e).signOut()}(ny)}catch(e){throw console.error("Logout error:",e),e}},loading:i};return(0,sy.jsx)(oy.Provider,{value:o,children:r})}const uy=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),dy=e=>{const t=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()))(e);return t.charAt(0).toUpperCase()+t.slice(1)},hy=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>Boolean(e)&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()},fy=e=>{for(const t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};var py={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const my=(0,t.forwardRef)((e,r)=>{let{color:n="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:s,className:o="",children:l,iconNode:c,...u}=e;return(0,t.createElement)("svg",{ref:r,...py,width:a,height:a,stroke:n,strokeWidth:s?24*Number(i)/Number(a):i,className:hy("lucide",o),...!l&&!fy(u)&&{"aria-hidden":"true"},...u},[...c.map(e=>{let[r,n]=e;return(0,t.createElement)(r,n)}),...Array.isArray(l)?l:[l]])}),gy=(e,r)=>{const n=(0,t.forwardRef)((n,a)=>{let{className:i,...s}=n;return(0,t.createElement)(my,{ref:a,iconNode:r,className:hy(`lucide-${uy(dy(e))}`,`lucide-${e}`,i),...s})});return n.displayName=dy(e),n},yy=gy("credit-card",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),vy=gy("chart-pie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]),xy=gy("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]),by=gy("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),wy=gy("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]]),ky=gy("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),jy=gy("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),Ny=gy("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),Sy=gy("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),Ey=gy("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Ay=gy("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]),_y=gy("globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]),Cy=gy("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]),Ty=e=>{let{size:t="md",className:r=""}=e;const n="/pesa/logo.png";return(0,sy.jsx)("img",{src:n,alt:"Pesa Logo",className:`${{sm:"w-5 h-5",md:"w-8 h-8",lg:"w-10 h-10",xl:"w-12 h-12"}[t]} ${r}`,style:{objectFit:"contain"},onError:e=>{console.error("Logo failed to load from:",n),e.target.style.display="none"}})};const Iy=function(){const e=re(),{loginWithGoogle:r,signUpWithEmail:n,loginWithEmail:a}=ly(),[i,s]=(0,t.useState)(!1),[o,l]=(0,t.useState)(!1),[c,u]=(0,t.useState)(!1),[d,h]=(0,t.useState)(!1),[f,p]=(0,t.useState)(""),[m,g]=(0,t.useState)({name:"",email:"",password:"",confirmPassword:""}),[y,v]=(0,t.useState)({}),[x,b]=(0,t.useState)(""),w=async t=>{if(t&&t.preventDefault(),(()=>{const e={};return i&&!m.name.trim()?e.name="Name is required":i&&m.name.trim().length<2&&(e.name="Name must be at least 2 characters"),m.email.trim()?/\S+@\S+\.\S+/.test(m.email)||(e.email="Please enter a valid email"):e.email="Email is required",m.password?m.password.length<6&&(e.password="Password must be at least 6 characters"):e.password="Password is required",i&&m.password!==m.confirmPassword&&(e.confirmPassword="Passwords do not match"),v(e),0===Object.keys(e).length})())try{u(!0),v({}),b(""),i?(await n(m.name,m.email,m.password),b("Account created successfully! Welcome to Pesa!")):(await a(m.email,m.password),b("Welcome back! Redirecting to your dashboard...")),setTimeout(()=>{e("/")},1500)}catch(r){console.error("Authentication error:",r);let e="An error occurred. Please try again.";switch(r.code){case"auth/user-not-found":e="No account found with this email address.";break;case"auth/wrong-password":e="Incorrect password. Please try again.";break;case"auth/email-already-in-use":e="An account with this email already exists.";break;case"auth/weak-password":e="Password should be at least 6 characters long.";break;case"auth/invalid-email":e="Please enter a valid email address.";break;case"auth/too-many-requests":e="Too many failed attempts. Please try again later.";break;case"auth/network-request-failed":e="Network error. Please check your connection.";break;default:e=r.message||"Authentication failed. Please try again."}v({submit:e})}finally{u(!1)}},k=async()=>{if(f.trim())if(/\S+@\S+\.\S+/.test(f))try{u(!0),v({}),await async function(e,t,r){const n=Pa(e),a={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};r&&ki(n,a,r),await $a(n,a,"getOobCode",Ja,"EMAIL_PASSWORD_PROVIDER")}(ny,f),b("Password reset email sent! Check your inbox."),h(!1),p("")}catch(e){console.error("Password reset error:",e);let t="Failed to send reset email. Please try again.";switch(e.code){case"auth/user-not-found":t="No account found with this email address.";break;case"auth/invalid-email":t="Please enter a valid email address.";break;case"auth/too-many-requests":t="Too many requests. Please try again later.";break;default:t=e.message||"Failed to send reset email."}v({submit:t})}finally{u(!1)}else v({submit:"Please enter a valid email address"});else v({submit:"Please enter your email address"})},j=e=>{"Enter"!==e.key||c||(d?k():w())};return(0,sy.jsxs)("div",{className:"h-screen bg-gradient-to-br from-orange-50 via-white to-orange-100 flex overflow-hidden",children:[(0,sy.jsxs)("div",{className:"hidden lg:flex lg:w-1/2 bg-gradient-to-br from-emerald-900 via-teal-900 to-cyan-900 p-8 flex-col justify-between relative overflow-hidden",children:[(0,sy.jsxs)("div",{className:"absolute inset-0 opacity-30",children:[(0,sy.jsx)("div",{className:"absolute top-16 left-16 w-48 h-48 bg-cyan-500 rounded-full blur-3xl animate-pulse"}),(0,sy.jsx)("div",{className:"absolute bottom-24 right-12 w-64 h-64 bg-emerald-400 rounded-full blur-3xl animate-pulse delay-1000"}),(0,sy.jsx)("div",{className:"absolute top-1/2 left-1/3 w-24 h-24 bg-teal-400 rounded-full blur-2xl animate-pulse delay-500"})]}),(0,sy.jsxs)("div",{className:"relative z-10",children:[(0,sy.jsxs)("div",{className:"flex items-center space-x-3 mb-12",children:[(0,sy.jsx)("div",{className:"w-12 h-12 bg-transparent rounded-2xl flex items-center justify-center",children:(0,sy.jsx)(Ty,{size:"md",className:""})}),(0,sy.jsx)("span",{className:"text-3xl font-bold text-white",children:"Pesa"})]}),(0,sy.jsxs)("div",{className:"max-w-md",children:[(0,sy.jsxs)("h1",{className:"text-4xl font-bold text-white mb-6 leading-tight",children:["Smart Money,",(0,sy.jsx)("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-orange-400 to-pink-400",children:" Smarter You"})]}),(0,sy.jsx)("p",{className:"text-lg text-gray-300 mb-8 leading-relaxed",children:"Experience the future of personal finance with intelligent tracking, insights, and growth."}),(0,sy.jsxs)("div",{className:"space-y-4",children:[(0,sy.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,sy.jsx)("div",{className:"w-8 h-8 bg-gradient-to-r from-green-400 to-emerald-500 rounded-lg flex items-center justify-center",children:(0,sy.jsx)(yy,{className:"w-4 h-4 text-white"})}),(0,sy.jsx)("span",{className:"text-white font-medium",children:"Multi-currency accounts (INR & USD)"})]}),(0,sy.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,sy.jsx)("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-400 to-cyan-500 rounded-lg flex items-center justify-center",children:(0,sy.jsx)(vy,{className:"w-4 h-4 text-white"})}),(0,sy.jsx)("span",{className:"text-white font-medium",children:"Transaction tracking & analytics"})]}),(0,sy.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,sy.jsx)("div",{className:"w-8 h-8 bg-gradient-to-r from-purple-400 to-violet-500 rounded-lg flex items-center justify-center",children:(0,sy.jsx)(xy,{className:"w-4 h-4 text-white"})}),(0,sy.jsx)("span",{className:"text-white font-medium",children:"Net worth monitoring"})]})]})]})]}),(0,sy.jsx)("div",{className:"relative z-10",children:(0,sy.jsxs)("div",{className:"text-left",children:[(0,sy.jsx)("p",{className:"text-gray-400 text-sm mb-2",children:"\xa9 2025 Pesa. All rights reserved."}),(0,sy.jsx)("p",{className:"text-gray-500 text-xs",children:"Made with \u2764\ufe0f by @thedev09"})]})})]}),(0,sy.jsx)("div",{className:"w-full lg:w-1/2 flex items-center justify-center p-6",children:(0,sy.jsxs)("div",{className:"w-full max-w-sm",children:[(0,sy.jsxs)("div",{className:"lg:hidden flex items-center justify-center space-x-3 mb-6",children:[(0,sy.jsx)("div",{className:"w-10 h-10 bg-transparent rounded-xl flex items-center justify-center",children:(0,sy.jsx)(Ty,{size:"md",className:""})}),(0,sy.jsx)("span",{className:"text-2xl font-bold text-gray-900",children:"Pesa"})]}),(0,sy.jsxs)("div",{className:"text-center mb-6",children:[(0,sy.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-1",children:d?"Reset Password":i?"Create Account":"Welcome Back"}),(0,sy.jsx)("p",{className:"text-gray-600 text-sm",children:d?"Enter your email to receive reset instructions":i?"Start your financial journey today":"Sign in to access your dashboard"})]}),x&&(0,sy.jsx)("div",{className:"mb-4 p-3 bg-green-50 border border-green-200 rounded-lg",children:(0,sy.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,sy.jsx)(by,{className:"w-4 h-4 text-green-600"}),(0,sy.jsx)("p",{className:"text-green-700 text-sm font-medium",children:x})]})}),y.submit&&(0,sy.jsx)("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg text-red-700 text-sm",children:y.submit}),d?(0,sy.jsxs)("div",{className:"space-y-4",children:[(0,sy.jsxs)("div",{children:[(0,sy.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),(0,sy.jsxs)("div",{className:"relative",children:[(0,sy.jsx)(wy,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,sy.jsx)("input",{type:"email",value:f,onChange:e=>p(e.target.value),onKeyPress:j,placeholder:"Enter your email",className:"w-full pl-10 pr-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all duration-300"})]})]}),(0,sy.jsx)("button",{onClick:k,disabled:c,className:"w-full bg-gradient-to-r from-orange-500 to-orange-600 text-white py-3 px-6 rounded-xl font-semibold shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",children:c?(0,sy.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,sy.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),(0,sy.jsx)("span",{children:"Sending..."})]}):"Send Reset Email"}),(0,sy.jsx)("button",{onClick:()=>{h(!1),p(""),v({})},className:"w-full text-gray-600 hover:text-gray-800 py-2 text-sm transition-colors duration-300",children:"\u2190 Back to Sign In"})]}):(0,sy.jsxs)(sy.Fragment,{children:[(0,sy.jsx)("button",{onClick:async()=>{try{u(!0),v({}),b(""),await r(),b("Successfully signed in with Google! Redirecting..."),setTimeout(()=>{e("/")},1500)}catch(t){console.error("Google authentication error:",t);let e="Google sign-in failed. Please try again.";switch(t.code){case"auth/popup-closed-by-user":e="Sign-in was cancelled. Please try again.";break;case"auth/popup-blocked":e="Pop-up was blocked. Please allow pop-ups and try again.";break;case"auth/account-exists-with-different-credential":e="An account already exists with the same email but different sign-in method.";break;case"auth/network-request-failed":e="Network error. Please check your connection.";break;default:e=t.message||"Google sign-in failed. Please try again."}v({submit:e})}finally{u(!1)}},disabled:c,className:"w-full flex items-center justify-center gap-3 bg-white border-2 border-gray-200 rounded-xl px-4 py-3 text-gray-700 font-medium hover:bg-gray-50 hover:border-gray-300 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm hover:shadow-md group",children:c?(0,sy.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-gray-700"}):(0,sy.jsxs)(sy.Fragment,{children:[(0,sy.jsxs)("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",children:[(0,sy.jsx)("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),(0,sy.jsx)("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),(0,sy.jsx)("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),(0,sy.jsx)("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),(0,sy.jsx)("span",{children:"Continue with Google"}),(0,sy.jsx)(ky,{className:"w-3 h-3 group-hover:translate-x-1 transition-transform duration-300"})]})}),(0,sy.jsxs)("div",{className:"my-6 flex items-center",children:[(0,sy.jsx)("div",{className:"flex-1 border-t border-gray-200"}),(0,sy.jsx)("span",{className:"px-3 text-xs text-gray-500 bg-white",children:"or continue with email"}),(0,sy.jsx)("div",{className:"flex-1 border-t border-gray-200"})]}),(0,sy.jsxs)("div",{className:"space-y-4",onKeyPress:j,children:[i&&(0,sy.jsxs)("div",{children:[(0,sy.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),(0,sy.jsxs)("div",{className:"relative",children:[(0,sy.jsx)(jy,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,sy.jsx)("input",{type:"text",value:m.name,onChange:e=>g({...m,name:e.target.value}),placeholder:"Enter your full name",className:"w-full pl-10 pr-4 py-3 border-2 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all duration-300 "+(y.name?"border-red-300":"border-gray-200")})]}),y.name&&(0,sy.jsx)("p",{className:"mt-1 text-xs text-red-600",children:y.name})]}),(0,sy.jsxs)("div",{children:[(0,sy.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),(0,sy.jsxs)("div",{className:"relative",children:[(0,sy.jsx)(wy,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,sy.jsx)("input",{type:"email",value:m.email,onChange:e=>g({...m,email:e.target.value}),placeholder:"Enter your email",className:"w-full pl-10 pr-4 py-3 border-2 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all duration-300 "+(y.email?"border-red-300":"border-gray-200")})]}),y.email&&(0,sy.jsx)("p",{className:"mt-1 text-xs text-red-600",children:y.email})]}),(0,sy.jsxs)("div",{children:[(0,sy.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),(0,sy.jsxs)("div",{className:"relative",children:[(0,sy.jsx)(Ny,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,sy.jsx)("input",{type:o?"text":"password",value:m.password,onChange:e=>g({...m,password:e.target.value}),placeholder:"Enter your password",className:"w-full pl-10 pr-10 py-3 border-2 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all duration-300 "+(y.password?"border-red-300":"border-gray-200")}),(0,sy.jsx)("button",{type:"button",onClick:()=>l(!o),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors duration-300",children:o?(0,sy.jsx)(Sy,{className:"w-4 h-4"}):(0,sy.jsx)(Ey,{className:"w-4 h-4"})})]}),y.password&&(0,sy.jsx)("p",{className:"mt-1 text-xs text-red-600",children:y.password})]}),i&&(0,sy.jsxs)("div",{children:[(0,sy.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm Password"}),(0,sy.jsxs)("div",{className:"relative",children:[(0,sy.jsx)(Ny,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,sy.jsx)("input",{type:o?"text":"password",value:m.confirmPassword,onChange:e=>g({...m,confirmPassword:e.target.value}),placeholder:"Confirm your password",className:"w-full pl-10 pr-4 py-3 border-2 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all duration-300 "+(y.confirmPassword?"border-red-300":"border-gray-200")})]}),y.confirmPassword&&(0,sy.jsx)("p",{className:"mt-1 text-xs text-red-600",children:y.confirmPassword})]}),!i&&(0,sy.jsxs)("div",{className:"flex items-center justify-between",children:[(0,sy.jsxs)("label",{className:"flex items-center",children:[(0,sy.jsx)("input",{type:"checkbox",className:"w-3 h-3 text-orange-600 bg-gray-100 border-gray-300 rounded focus:ring-orange-500 focus:ring-2"}),(0,sy.jsx)("span",{className:"ml-2 text-xs text-gray-600",children:"Remember me"})]}),(0,sy.jsx)("button",{type:"button",className:"text-xs text-orange-600 hover:text-orange-500 font-medium transition-colors duration-300",onClick:()=>h(!0),children:"Forgot password?"})]}),(0,sy.jsx)("button",{onClick:w,disabled:c,className:"w-full bg-gradient-to-r from-orange-500 to-orange-600 text-white py-3 px-6 rounded-xl font-semibold shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none group",children:c?(0,sy.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,sy.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),(0,sy.jsx)("span",{children:i?"Creating Account...":"Signing In..."})]}):(0,sy.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,sy.jsx)("span",{children:i?"Create Account":"Sign In"}),(0,sy.jsx)(ky,{className:"w-4 h-4 group-hover:translate-x-1 transition-transform duration-300"})]})})]}),(0,sy.jsx)("div",{className:"mt-6 text-center",children:(0,sy.jsxs)("p",{className:"text-gray-600 text-sm",children:[i?"Already have an account?":"Don't have an account?"," ",(0,sy.jsx)("button",{onClick:()=>{s(!i),g({name:"",email:"",password:"",confirmPassword:""}),v({}),b("")},className:"text-orange-600 hover:text-orange-500 font-semibold transition-colors duration-300",children:i?"Sign In":"Sign Up"})]})}),(0,sy.jsxs)("div",{className:"mt-6 flex items-center justify-center space-x-4 text-xs text-gray-500",children:[(0,sy.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,sy.jsx)(Ay,{className:"w-3 h-3"}),(0,sy.jsx)("span",{children:"Secure"})]}),(0,sy.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,sy.jsx)(_y,{className:"w-3 h-3"}),(0,sy.jsx)("span",{children:"Trusted"})]}),(0,sy.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,sy.jsx)(Cy,{className:"w-3 h-3"}),(0,sy.jsx)("span",{children:"Reliable"})]})]}),(0,sy.jsx)("div",{className:"mt-4 text-center text-xs text-gray-500",children:(0,sy.jsxs)("p",{children:["By continuing, you agree to Pesa's"," ",(0,sy.jsx)("button",{className:"text-orange-600 hover:underline",onClick:()=>{window.open("/terms","_blank")},children:"Terms"})," and ",(0,sy.jsx)("button",{className:"text-orange-600 hover:underline",onClick:()=>{window.open("/privacy","_blank")},children:"Privacy Policy"})]})})]})]})})]})},Oy=gy("house",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]),Py=gy("wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]),Dy=gy("chart-no-axes-column-increasing",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]),My=gy("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),Ry=gy("settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Ly=gy("sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),Fy=gy("moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]),zy=gy("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Uy=gy("menu",[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]]),Vy=gy("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),By=gy("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]]),$y=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const r=[{bg:"from-orange-500 to-red-500",text:"text-white"},{bg:"from-blue-500 to-purple-500",text:"text-white"},{bg:"from-green-500 to-teal-500",text:"text-white"},{bg:"from-purple-500 to-pink-500",text:"text-white"},{bg:"from-yellow-500 to-orange-500",text:"text-white"},{bg:"from-indigo-500 to-blue-500",text:"text-white"},{bg:"from-pink-500 to-rose-500",text:"text-white"},{bg:"from-teal-500 to-cyan-500",text:"text-white"}];return{initials:(null===e||void 0===e?void 0:e.split(" ").map(e=>e.charAt(0)).join("").substring(0,2).toUpperCase())||"U",color:r[t%r.length]}},Hy=[{id:"cat",emoji:"\ud83d\udc31",name:"Cat"},{id:"dog",emoji:"\ud83d\udc36",name:"Dog"},{id:"fox",emoji:"\ud83e\udd8a",name:"Fox"},{id:"panda",emoji:"\ud83d\udc3c",name:"Panda"},{id:"koala",emoji:"\ud83d\udc28",name:"Koala"},{id:"lion",emoji:"\ud83e\udd81",name:"Lion"},{id:"tiger",emoji:"\ud83d\udc2f",name:"Tiger"},{id:"monkey",emoji:"\ud83d\udc35",name:"Monkey"},{id:"rabbit",emoji:"\ud83d\udc30",name:"Rabbit"},{id:"bear",emoji:"\ud83d\udc3b",name:"Bear"},{id:"unicorn",emoji:"\ud83e\udd84",name:"Unicorn"},{id:"dragon",emoji:"\ud83d\udc32",name:"Dragon"},{id:"robot",emoji:"\ud83e\udd16",name:"Robot"},{id:"alien",emoji:"\ud83d\udc7d",name:"Alien"},{id:"ghost",emoji:"\ud83d\udc7b",name:"Ghost"},{id:"wizard",emoji:"\ud83e\uddd9\u200d\u2642\ufe0f",name:"Wizard"},{id:"ninja",emoji:"\ud83e\udd77",name:"Ninja"},{id:"detective",emoji:"\ud83d\udd75\ufe0f",name:"Detective"},{id:"astronaut",emoji:"\ud83d\udc68\u200d\ud83d\ude80",name:"Astronaut"},{id:"artist",emoji:"\ud83c\udfa8",name:"Artist"},{id:"musician",emoji:"\ud83c\udfb5",name:"Musician"},{id:"chef",emoji:"\ud83d\udc68\u200d\ud83c\udf73",name:"Chef"},{id:"scientist",emoji:"\ud83e\uddea",name:"Scientist"},{id:"developer",emoji:"\ud83d\udcbb",name:"Developer"}];const qy=function(e){let{theme:r,toggleTheme:n}=e;const{currentUser:a,logout:i}=ly(),s=re(),[o,l]=t.useState(!1),[c,u]=t.useState(!1),[d,h]=t.useState({avatarType:"initials",avatarData:{colorIndex:0,emojiId:"cat"},displayName:"",email:""}),[f,p]=t.useState(!1),m=[{id:"overview",path:"/",label:"Overview",icon:Oy},{id:"accounts",path:"/accounts",label:"Accounts",icon:Py},{id:"transactions",path:"/transactions",label:"Transactions",icon:yy},{id:"analytics",path:"/analytics",label:"Analytics",icon:Dy},{id:"subscriptions",path:"/subscriptions",label:"Subscriptions",icon:My},{id:"settings",path:"/settings",label:"Settings",icon:Ry}],g=async()=>{try{await i(),s("/login")}catch(e){console.error("Logout error:",e)}},y=()=>null!==a&&void 0!==a&&a.displayName?a.displayName:"User",v=t.useCallback(async()=>{if(a)try{const t=Um(iy,"users",a.uid,"settings","preferences"),r=await $g(t);if(r.exists()){const e=r.data();h(t=>({...t,...e,displayName:a.displayName||"",email:a.email||""}))}else{const t=localStorage.getItem(`pesa_preferences_${a.uid}`);if(t)try{const e=JSON.parse(t);h(t=>({...t,...e,displayName:a.displayName||"",email:a.email||""}))}catch(e){console.error("Error loading preferences from localStorage:",e)}else h(e=>({...e,displayName:a.displayName||"",email:a.email||""}))}}catch(e){console.error("Error loading preferences from Firestore:",e);const r=localStorage.getItem(`pesa_preferences_${a.uid}`);if(r)try{const e=JSON.parse(r);h(t=>({...t,...e,displayName:a.displayName||"",email:a.email||""}))}catch(t){console.error("Error parsing localStorage preferences:",t)}else h(e=>({...e,displayName:a.displayName||"",email:a.email||""}))}},[a]);t.useEffect(()=>{v(),p(!1)},[v]),t.useEffect(()=>{p(!1)},[d.avatarType]),t.useEffect(()=>{const e=()=>{v()};return window.addEventListener("avatarUpdate",e),()=>window.removeEventListener("avatarUpdate",e)},[v]);const x=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"w-8 h-8",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"text-sm";const{avatarType:r,avatarData:n}=d;switch(r){case"profile":const r=null!==(i=a)&&void 0!==i&&i.photoURL?i.photoURL:null;if(r&&!f)return(0,sy.jsx)("img",{src:r,alt:"Profile",className:`${e} rounded-full object-cover`,onError:()=>p(!0)});{const{initials:r,color:a}=$y(d.displayName||y(),n.colorIndex);return(0,sy.jsx)("div",{className:`${e} rounded-full bg-gradient-to-br ${a.bg} flex items-center justify-center ${a.text} font-medium ${t}`,children:r})}case"predefined":const s=Hy.find(e=>e.id===n.emojiId)||Hy[0],o=e.includes("w-8")?"text-lg":t;return(0,sy.jsx)("div",{className:`${e} rounded-full bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-700 dark:to-gray-800 flex items-center justify-center ${o}`,children:(0,sy.jsx)("span",{className:"leading-none",children:s.emoji})});default:const{initials:l,color:c}=$y(d.displayName||y(),n.colorIndex);return(0,sy.jsx)("div",{className:`${e} rounded-full bg-gradient-to-br ${c.bg} flex items-center justify-center ${c.text} font-medium ${t}`,children:l})}var i};return t.useEffect(()=>{const e=e=>{o&&l(!1)};return document.addEventListener("click",e),()=>document.removeEventListener("click",e)},[o]),t.useEffect(()=>(document.body.style.overflow=c?"hidden":"auto",()=>{document.body.style.overflow="auto"}),[c]),console.log("Navigation render - showMobileMenu:",c),(0,sy.jsxs)(sy.Fragment,{children:[(0,sy.jsx)("nav",{className:"bg-white dark:bg-gray-900/95 backdrop-blur border-b border-gray-200 dark:border-gray-800 sticky top-0 z-[55]",children:(0,sy.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,sy.jsxs)("div",{className:"flex justify-between items-center h-16",children:[(0,sy.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,sy.jsx)("div",{className:"w-8 h-8 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg flex items-center justify-center shadow-sm",children:(0,sy.jsx)(Ty,{size:"sm",className:""})}),(0,sy.jsx)("span",{className:"text-xl font-semibold dark:text-white",children:"Pesa"})]}),(0,sy.jsx)("div",{className:"hidden md:flex absolute left-1/2 transform -translate-x-1/2",children:(0,sy.jsx)("div",{className:"flex space-x-1",children:m.map(e=>(0,sy.jsx)(it,{to:e.path,className:e=>{let{isActive:t}=e;return"px-4 py-2 rounded-lg text-sm font-medium transition-colors "+(t?"bg-orange-100 dark:bg-orange-500/20 text-orange-700 dark:text-orange-300":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-gray-800")},children:(0,sy.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,sy.jsx)(e.icon,{className:"w-4 h-4"}),(0,sy.jsx)("span",{children:e.label})]})},e.id))})}),(0,sy.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,sy.jsx)("button",{onClick:n,className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",children:"dark"===r?(0,sy.jsx)(Ly,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"}):(0,sy.jsx)(Fy,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})}),(0,sy.jsx)("button",{onClick:e=>{e.preventDefault(),e.stopPropagation(),console.log("Mobile menu button clicked, current state:",c),u(!c)},className:"md:hidden p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",children:c?(0,sy.jsx)(zy,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"}):(0,sy.jsx)(Uy,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})}),(0,sy.jsxs)("div",{className:"relative hidden md:block",children:[(0,sy.jsxs)("button",{onClick:e=>{e.stopPropagation(),l(!o)},className:"flex items-center space-x-2 p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",children:[x(),(0,sy.jsx)("span",{className:"text-sm font-medium text-gray-900 dark:text-white hidden sm:block",children:y()}),(0,sy.jsx)(Vy,{className:"w-4 h-4 text-gray-600 dark:text-gray-400"})]}),o&&(0,sy.jsxs)("div",{className:"absolute right-0 mt-2 w-48 bg-white dark:bg-gray-800 rounded-lg shadow-lg dark:shadow-2xl border border-gray-200 dark:border-gray-700 py-1 z-50",children:[(0,sy.jsxs)("div",{className:"px-4 py-2 border-b border-gray-200 dark:border-gray-700",children:[(0,sy.jsx)("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:y()}),(0,sy.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:null===a||void 0===a?void 0:a.email})]}),(0,sy.jsxs)("button",{onClick:g,className:"w-full text-left px-4 py-2 text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-500/10 flex items-center space-x-2",children:[(0,sy.jsx)(By,{className:"w-4 h-4"}),(0,sy.jsx)("span",{children:"Sign out"})]})]})]})]})]})})}),c&&(0,sy.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-[60] md:hidden",onClick:()=>u(!1),children:(0,sy.jsx)("div",{className:"mobile-menu-container fixed inset-y-0 right-0 w-80 max-w-[85vw] bg-white dark:bg-gray-900 shadow-xl transform transition-transform duration-300 ease-in-out",onClick:e=>e.stopPropagation(),children:(0,sy.jsxs)("div",{className:"flex flex-col h-full",children:[(0,sy.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[(0,sy.jsxs)("div",{className:"flex items-center space-x-3",children:[x("w-10 h-10","text-base"),(0,sy.jsxs)("div",{children:[(0,sy.jsx)("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:y()}),(0,sy.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:null===a||void 0===a?void 0:a.email})]})]}),(0,sy.jsx)("button",{onClick:()=>u(!1),className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",children:(0,sy.jsx)(zy,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})})]}),(0,sy.jsx)("div",{className:"flex-1 overflow-y-auto py-6",children:(0,sy.jsx)("div",{className:"space-y-1 px-6",children:m.map(e=>(0,sy.jsxs)(it,{to:e.path,onClick:()=>u(!1),className:e=>{let{isActive:t}=e;return"flex items-center space-x-3 px-4 py-3 rounded-lg text-base font-medium transition-colors "+(t?"bg-orange-100 dark:bg-orange-500/20 text-orange-700 dark:text-orange-300":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-gray-800")},children:[(0,sy.jsx)(e.icon,{className:"w-5 h-5"}),(0,sy.jsx)("span",{children:e.label})]},e.id))})}),(0,sy.jsx)("div",{className:"border-t border-gray-200 dark:border-gray-700 p-6",children:(0,sy.jsxs)("button",{onClick:g,className:"w-full flex items-center space-x-3 px-4 py-3 text-left text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-500/10 rounded-lg transition-colors",children:[(0,sy.jsx)(By,{className:"w-5 h-5"}),(0,sy.jsx)("span",{className:"text-base font-medium",children:"Sign out"})]})})]})})})]})},Ky=gy("arrow-down-right",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]),Wy=gy("arrow-up-right",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]),Gy=gy("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]),Yy=gy("bitcoin",[["path",{d:"M11.767 19.089c4.924.868 6.14-6.025 1.216-6.894m-1.216 6.894L5.86 18.047m5.908 1.042-.347 1.97m1.563-8.864c4.924.869 6.14-6.025 1.215-6.893m-1.215 6.893-3.94-.694m5.155-6.2L8.29 4.26m5.908 1.042.348-1.97M7.48 20.364l3.126-17.727",key:"yr8idg"}]]),Qy=gy("building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]),Xy=gy("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),Jy=gy("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),Zy=gy("trending-down",[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]]),ev=gy("ellipsis-vertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]),tv=gy("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]),rv=gy("trash-2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),nv=gy("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),av=gy("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);function iv(e){var t,r,n="";if("string"==typeof e||"number"==typeof e)n+=e;else if("object"==typeof e)if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=iv(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function sv(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=iv(e))&&(n&&(n+=" "),n+=t);return n}var ov=r(7820),lv=r.n(ov),cv=r(7770),uv=r.n(cv),dv=e=>0===e?0:e>0?1:-1,hv=e=>"number"==typeof e&&e!=+e,fv=e=>"string"===typeof e&&e.indexOf("%")===e.length-1,pv=e=>("number"===typeof e||e instanceof Number)&&!hv(e),mv=e=>pv(e)||"string"===typeof e,gv=0,yv=e=>{var t=++gv;return"".concat(e||"").concat(t)},vv=function(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!pv(e)&&"string"!==typeof e)return n;if(fv(e)){if(null==t)return n;var i=e.indexOf("%");r=t*parseFloat(e.slice(0,i))/100}else r=+e;return hv(r)&&(r=n),a&&null!=t&&r>t&&(r=t),r},xv=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++){if(r[e[n]])return!0;r[e[n]]=!0}return!1},bv=(e,t)=>pv(e)&&pv(t)?r=>e+r*(t-e):()=>t;function wv(e,t,r){return pv(e)&&pv(t)?e+r*(t-e):t}function kv(e,t,r){if(e&&e.length)return e.find(e=>e&&("function"===typeof t?t(e):uv()(e,t))===r)}var jv=e=>null===e||"undefined"===typeof e,Nv=e=>jv(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),Sv=function(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),a=2;a<r;a++)n[a-2]=arguments[a]};function Ev(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Av(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ev(Object(r),!0).forEach(function(t){_v(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ev(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function _v(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Cv=(0,t.forwardRef)((e,r)=>{var{aspect:n,initialDimension:a={width:-1,height:-1},width:i="100%",height:s="100%",minWidth:o=0,minHeight:l,maxHeight:c,children:u,debounce:d=0,id:h,className:f,onResize:p,style:m={}}=e,g=(0,t.useRef)(null),y=(0,t.useRef)();y.current=p,(0,t.useImperativeHandle)(r,()=>g.current);var[v,x]=(0,t.useState)({containerWidth:a.width,containerHeight:a.height}),b=(0,t.useCallback)((e,t)=>{x(r=>{var n=Math.round(e),a=Math.round(t);return r.containerWidth===n&&r.containerHeight===a?r:{containerWidth:n,containerHeight:a}})},[]);(0,t.useEffect)(()=>{var e=e=>{var t,{width:r,height:n}=e[0].contentRect;b(r,n),null===(t=y.current)||void 0===t||t.call(y,r,n)};d>0&&(e=lv()(e,d,{trailing:!0,leading:!1}));var t=new ResizeObserver(e),{width:r,height:n}=g.current.getBoundingClientRect();return b(r,n),t.observe(g.current),()=>{t.disconnect()}},[b,d]);var w=(0,t.useMemo)(()=>{var{containerWidth:e,containerHeight:r}=v;if(e<0||r<0)return null;Sv(fv(i)||fv(s),"The width(%s) and height(%s) are both fixed numbers,\n       maybe you don't need to use a ResponsiveContainer.",i,s),Sv(!n||n>0,"The aspect(%s) must be greater than zero.",n);var a=fv(i)?e:i,d=fv(s)?r:s;return n&&n>0&&(a?d=a/n:d&&(a=d*n),c&&d>c&&(d=c)),Sv(a>0||d>0,"The width(%s) and height(%s) of chart should be greater than 0,\n       please check the style of container, or the props width(%s) and height(%s),\n       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the\n       height and width.",a,d,i,s,o,l,n),t.Children.map(u,e=>(0,t.cloneElement)(e,{width:a,height:d,style:Av({width:a,height:d},e.props.style)}))},[n,u,s,c,l,o,v,i]);return t.createElement("div",{id:h?"".concat(h):void 0,className:sv("recharts-responsive-container",f),style:Av(Av({},m),{},{width:i,height:s,minWidth:o,minHeight:l,maxHeight:c}),ref:g},t.createElement("div",{style:{width:0,height:0,overflow:"visible"}},w))});function Tv(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Iv=(()=>"function"===typeof Symbol&&Symbol.observable||"@@observable")(),Ov=()=>Math.random().toString(36).substring(7).split("").join("."),Pv={INIT:`@@redux/INIT${Ov()}`,REPLACE:`@@redux/REPLACE${Ov()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Ov()}`};function Dv(e){if("object"!==typeof e||null===e)return!1;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||null===Object.getPrototypeOf(e)}function Mv(e,t,r){if("function"!==typeof e)throw new Error(Tv(2));if("function"===typeof t&&"function"===typeof r||"function"===typeof r&&"function"===typeof arguments[3])throw new Error(Tv(0));if("function"===typeof t&&"undefined"===typeof r&&(r=t,t=void 0),"undefined"!==typeof r){if("function"!==typeof r)throw new Error(Tv(1));return r(Mv)(e,t)}let n=e,a=t,i=new Map,s=i,o=0,l=!1;function c(){s===i&&(s=new Map,i.forEach((e,t)=>{s.set(t,e)}))}function u(){if(l)throw new Error(Tv(3));return a}function d(e){if("function"!==typeof e)throw new Error(Tv(4));if(l)throw new Error(Tv(5));let t=!0;c();const r=o++;return s.set(r,e),function(){if(t){if(l)throw new Error(Tv(6));t=!1,c(),s.delete(r),i=null}}}function h(e){if(!Dv(e))throw new Error(Tv(7));if("undefined"===typeof e.type)throw new Error(Tv(8));if("string"!==typeof e.type)throw new Error(Tv(17));if(l)throw new Error(Tv(9));try{l=!0,a=n(a,e)}finally{l=!1}return(i=s).forEach(e=>{e()}),e}h({type:Pv.INIT});return{dispatch:h,subscribe:d,getState:u,replaceReducer:function(e){if("function"!==typeof e)throw new Error(Tv(10));n=e,h({type:Pv.REPLACE})},[Iv]:function(){const e=d;return{subscribe(t){if("object"!==typeof t||null===t)throw new Error(Tv(11));function r(){const e=t;e.next&&e.next(u())}r();return{unsubscribe:e(r)}},[Iv](){return this}}}}}function Rv(e){const t=Object.keys(e),r={};for(let i=0;i<t.length;i++){const n=t[i];0,"function"===typeof e[n]&&(r[n]=e[n])}const n=Object.keys(r);let a;try{!function(e){Object.keys(e).forEach(t=>{const r=e[t];if("undefined"===typeof r(void 0,{type:Pv.INIT}))throw new Error(Tv(12));if("undefined"===typeof r(void 0,{type:Pv.PROBE_UNKNOWN_ACTION()}))throw new Error(Tv(13))})}(r)}catch(bq){a=bq}return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(a)throw a;let i=!1;const s={};for(let a=0;a<n.length;a++){const o=n[a],l=r[o],c=e[o],u=l(c,t);if("undefined"===typeof u){t&&t.type;throw new Error(Tv(14))}s[o]=u,i=i||u!==c}return i=i||n.length!==Object.keys(e).length,i?s:e}}function Lv(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return 0===t.length?e=>e:1===t.length?t[0]:t.reduce((e,t)=>function(){return e(t(...arguments))})}function Fv(e){return Dv(e)&&"type"in e&&"string"===typeof e.type}function zv(e){return t=>{let{dispatch:r,getState:n}=t;return t=>a=>"function"===typeof a?a(r,n,e):t(a)}}var Uv=zv(),Vv=zv,Bv=Symbol.for("immer-nothing"),$v=Symbol.for("immer-draftable"),Hv=Symbol.for("immer-state");function qv(e){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Kv=Object.getPrototypeOf;function Wv(e){return!!e&&!!e[Hv]}function Gv(e){return!!e&&(Qv(e)||Array.isArray(e)||!!e[$v]||!!e.constructor?.[$v]||tx(e)||rx(e))}var Yv=Object.prototype.constructor.toString();function Qv(e){if(!e||"object"!==typeof e)return!1;const t=Kv(e);if(null===t)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object||"function"==typeof r&&Function.toString.call(r)===Yv}function Xv(e,t){0===Jv(e)?Reflect.ownKeys(e).forEach(r=>{t(r,e[r],e)}):e.forEach((r,n)=>t(n,r,e))}function Jv(e){const t=e[Hv];return t?t.type_:Array.isArray(e)?1:tx(e)?2:rx(e)?3:0}function Zv(e,t){return 2===Jv(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function ex(e,t,r){const n=Jv(e);2===n?e.set(t,r):3===n?e.add(r):e[t]=r}function tx(e){return e instanceof Map}function rx(e){return e instanceof Set}function nx(e){return e.copy_||e.base_}function ax(e,t){if(tx(e))return new Map(e);if(rx(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=Qv(e);if(!0===t||"class_only"===t&&!r){const t=Object.getOwnPropertyDescriptors(e);delete t[Hv];let r=Reflect.ownKeys(t);for(let n=0;n<r.length;n++){const a=r[n],i=t[a];!1===i.writable&&(i.writable=!0,i.configurable=!0),(i.get||i.set)&&(t[a]={configurable:!0,writable:!0,enumerable:i.enumerable,value:e[a]})}return Object.create(Kv(e),t)}{const t=Kv(e);if(null!==t&&r)return{...e};const n=Object.create(t);return Object.assign(n,e)}}function ix(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return ox(e)||Wv(e)||!Gv(e)||(Jv(e)>1&&(e.set=e.add=e.clear=e.delete=sx),Object.freeze(e),t&&Object.entries(e).forEach(e=>{let[t,r]=e;return ix(r,!0)})),e}function sx(){qv(2)}function ox(e){return Object.isFrozen(e)}var lx,cx={};function ux(e){const t=cx[e];return t||qv(0),t}function dx(){return lx}function hx(e,t){t&&(ux("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function fx(e){px(e),e.drafts_.forEach(gx),e.drafts_=null}function px(e){e===lx&&(lx=e.parent_)}function mx(e){return lx={drafts_:[],parent_:lx,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function gx(e){const t=e[Hv];0===t.type_||1===t.type_?t.revoke_():t.revoked_=!0}function yx(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return void 0!==e&&e!==r?(r[Hv].modified_&&(fx(t),qv(4)),Gv(e)&&(e=vx(t,e),t.parent_||bx(t,e)),t.patches_&&ux("Patches").generateReplacementPatches_(r[Hv].base_,e,t.patches_,t.inversePatches_)):e=vx(t,r,[]),fx(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==Bv?e:void 0}function vx(e,t,r){if(ox(t))return t;const n=t[Hv];if(!n)return Xv(t,(a,i)=>xx(e,n,t,a,i,r)),t;if(n.scope_!==e)return t;if(!n.modified_)return bx(e,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const t=n.copy_;let a=t,i=!1;3===n.type_&&(a=new Set(t),t.clear(),i=!0),Xv(a,(a,s)=>xx(e,n,t,a,s,r,i)),bx(e,t,!1),r&&e.patches_&&ux("Patches").generatePatches_(n,r,e.patches_,e.inversePatches_)}return n.copy_}function xx(e,t,r,n,a,i,s){if(Wv(a)){const s=vx(e,a,i&&t&&3!==t.type_&&!Zv(t.assigned_,n)?i.concat(n):void 0);if(ex(r,n,s),!Wv(s))return;e.canAutoFreeze_=!1}else s&&r.add(a);if(Gv(a)&&!ox(a)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;vx(e,a),t&&t.scope_.parent_||"symbol"===typeof n||!Object.prototype.propertyIsEnumerable.call(r,n)||bx(e,a)}}function bx(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&ix(t,r)}var wx={get(e,t){if(t===Hv)return e;const r=nx(e);if(!Zv(r,t))return function(e,t,r){const n=Nx(t,r);return n?"value"in n?n.value:n.get?.call(e.draft_):void 0}(e,r,t);const n=r[t];return e.finalized_||!Gv(n)?n:n===jx(e.base_,t)?(Ex(e),e.copy_[t]=Ax(n,e)):n},has:(e,t)=>t in nx(e),ownKeys:e=>Reflect.ownKeys(nx(e)),set(e,t,r){const n=Nx(nx(e),t);if(n?.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const n=jx(nx(e),t),a=n?.[Hv];if(a&&a.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(function(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}(r,n)&&(void 0!==r||Zv(e.base_,t)))return!0;Ex(e),Sx(e)}return e.copy_[t]===r&&(void 0!==r||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty:(e,t)=>(void 0!==jx(e.base_,t)||t in e.base_?(e.assigned_[t]=!1,Ex(e),Sx(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0),getOwnPropertyDescriptor(e,t){const r=nx(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n?{writable:!0,configurable:1!==e.type_||"length"!==t,enumerable:n.enumerable,value:r[t]}:n},defineProperty(){qv(11)},getPrototypeOf:e=>Kv(e.base_),setPrototypeOf(){qv(12)}},kx={};function jx(e,t){const r=e[Hv];return(r?nx(r):e)[t]}function Nx(e,t){if(!(t in e))return;let r=Kv(e);for(;r;){const e=Object.getOwnPropertyDescriptor(r,t);if(e)return e;r=Kv(r)}}function Sx(e){e.modified_||(e.modified_=!0,e.parent_&&Sx(e.parent_))}function Ex(e){e.copy_||(e.copy_=ax(e.base_,e.scope_.immer_.useStrictShallowCopy_))}Xv(wx,(e,t)=>{kx[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),kx.deleteProperty=function(e,t){return kx.set.call(this,e,t,void 0)},kx.set=function(e,t,r){return wx.set.call(this,e[0],t,r,e[0])};function Ax(e,t){const r=tx(e)?ux("MapSet").proxyMap_(e,t):rx(e)?ux("MapSet").proxySet_(e,t):function(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:dx(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=n,i=wx;r&&(a=[n],i=kx);const{revoke:s,proxy:o}=Proxy.revocable(a,i);return n.draft_=o,n.revoke_=s,o}(e,t);return(t?t.scope_:dx()).drafts_.push(r),r}function _x(e){return Wv(e)||qv(10),Cx(e)}function Cx(e){if(!Gv(e)||ox(e))return e;const t=e[Hv];let r;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=ax(e,t.scope_.immer_.useStrictShallowCopy_)}else r=ax(e,!0);return Xv(r,(e,t)=>{ex(r,e,Cx(t))}),t&&(t.finalized_=!1),r}var Tx=new class{constructor(e){var t=this;this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,r)=>{if("function"===typeof e&&"function"!==typeof t){const r=t;t=e;const n=this;return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r;for(var a=arguments.length,i=new Array(a>1?a-1:0),s=1;s<a;s++)i[s-1]=arguments[s];return n.produce(e,e=>t.call(this,e,...i))}}let n;if("function"!==typeof t&&qv(6),void 0!==r&&"function"!==typeof r&&qv(7),Gv(e)){const a=mx(this),i=Ax(e,void 0);let s=!0;try{n=t(i),s=!1}finally{s?fx(a):px(a)}return hx(a,r),yx(n,a)}if(!e||"object"!==typeof e){if(n=t(e),void 0===n&&(n=e),n===Bv&&(n=void 0),this.autoFreeze_&&ix(n,!0),r){const t=[],a=[];ux("Patches").generateReplacementPatches_(e,n,t,a),r(t,a)}return n}qv(1)},this.produceWithPatches=(e,r)=>{if("function"===typeof e)return function(r){for(var n=arguments.length,a=new Array(n>1?n-1:0),i=1;i<n;i++)a[i-1]=arguments[i];return t.produceWithPatches(r,t=>e(t,...a))};let n,a;const i=this.produce(e,r,(e,t)=>{n=e,a=t});return[i,n,a]},"boolean"===typeof e?.autoFreeze&&this.setAutoFreeze(e.autoFreeze),"boolean"===typeof e?.useStrictShallowCopy&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){Gv(e)||qv(8),Wv(e)&&(e=_x(e));const t=mx(this),r=Ax(e,void 0);return r[Hv].isManual_=!0,px(t),r}finishDraft(e,t){const r=e&&e[Hv];r&&r.isManual_||qv(9);const{scope_:n}=r;return hx(n,t),yx(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const n=t[r];if(0===n.path.length&&"replace"===n.op){e=n.value;break}}r>-1&&(t=t.slice(r+1));const n=ux("Patches").applyPatches_;return Wv(e)?n(e,t):this.produce(e,e=>n(e,t))}},Ix=Tx.produce;Tx.produceWithPatches.bind(Tx),Tx.setAutoFreeze.bind(Tx),Tx.setUseStrictShallowCopy.bind(Tx),Tx.applyPatches.bind(Tx),Tx.createDraft.bind(Tx),Tx.finishDraft.bind(Tx);var Ox="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"===typeof arguments[0]?Lv:Lv.apply(null,arguments)};"undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;function Px(e,t){function r(){if(t){let r=t(...arguments);if(!r)throw new Error(Ab(0));return{type:e,payload:r.payload,..."meta"in r&&{meta:r.meta},..."error"in r&&{error:r.error}}}return{type:e,payload:arguments.length<=0?void 0:arguments[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=t=>Fv(t)&&t.type===e,r}var Dx=class e extends Array{constructor(){super(...arguments),Object.setPrototypeOf(this,e.prototype)}static get[Symbol.species](){return e}concat(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return super.concat.apply(this,t)}prepend(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return 1===r.length&&Array.isArray(r[0])?new e(...r[0].concat(this)):new e(...r.concat(this))}};function Mx(e){return Gv(e)?Ix(e,()=>{}):e}function Rx(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}var Lx="RTK_autoBatch",Fx=e=>t=>{setTimeout(t,e)},zx=e=>function(t){const{autoBatch:r=!0}=t??{};let n=new Dx(e);return r&&n.push(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{type:"raf"};return t=>function(){const r=t(...arguments);let n=!0,a=!1,i=!1;const s=new Set,o="tick"===e.type?queueMicrotask:"raf"===e.type?"undefined"!==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame:Fx(10):"callback"===e.type?e.queueNotification:Fx(e.timeout),l=()=>{i=!1,a&&(a=!1,s.forEach(e=>e()))};return Object.assign({},r,{subscribe(e){const t=r.subscribe(()=>n&&e());return s.add(e),()=>{t(),s.delete(e)}},dispatch(e){try{return n=!e?.meta?.[Lx],a=!n,a&&(i||(i=!0,o(l))),r.dispatch(e)}finally{n=!0}}})}}("object"===typeof r?r:void 0)),n};function Ux(e){const t=function(e){const{thunk:t=!0,immutableCheck:r=!0,serializableCheck:n=!0,actionCreatorCheck:a=!0}=e??{};let i=new Dx;return t&&(function(e){return"boolean"===typeof e}(t)?i.push(Uv):i.push(Vv(t.extraArgument))),i},{reducer:r,middleware:n,devTools:a=!0,duplicateMiddlewareCheck:i=!0,preloadedState:s,enhancers:o}=e||{};let l,c;if("function"===typeof r)l=r;else{if(!Dv(r))throw new Error(Ab(1));l=Rv(r)}c="function"===typeof n?n(t):t();let u=Lv;a&&(u=Ox({trace:!1,..."object"===typeof a&&a}));const d=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return e=>(r,n)=>{const a=e(r,n);let i=()=>{throw new Error(Tv(15))};const s={getState:a.getState,dispatch:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return i(e,...r)}},o=t.map(e=>e(s));return i=Lv(...o)(a.dispatch),{...a,dispatch:i}}}(...c),h=zx(d);return Mv(l,s,u(..."function"===typeof o?o(h):h()))}function Vx(e){const t={},r=[];let n;const a={addCase(e,r){const n="string"===typeof e?e:e.type;if(!n)throw new Error(Ab(28));if(n in t)throw new Error(Ab(29));return t[n]=r,a},addMatcher:(e,t)=>(r.push({matcher:e,reducer:t}),a),addDefaultCase:e=>(n=e,a)};return e(a),[t,r,n]}var Bx=function(){let e="",t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21;for(;t--;)e+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return e};var $x=Symbol.for("rtk-slice-createasyncthunk");function Hx(e,t){return`${e}/${t}`}function qx(){let{creators:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=e?.asyncThunk?.[$x];return function(e){const{name:r,reducerPath:n=r}=e;if(!r)throw new Error(Ab(11));const a=("function"===typeof e.reducers?e.reducers(function(){function e(e,t){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...t}}return e.withTypes=()=>e,{reducer:e=>Object.assign({[e.name](){return e(...arguments)}}[e.name],{_reducerDefinitionType:"reducer"}),preparedReducer:(e,t)=>({_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}),asyncThunk:e}}()):e.reducers)||{},i=Object.keys(a),s={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},o={addCase(e,t){const r="string"===typeof e?e:e.type;if(!r)throw new Error(Ab(12));if(r in s.sliceCaseReducersByType)throw new Error(Ab(13));return s.sliceCaseReducersByType[r]=t,o},addMatcher:(e,t)=>(s.sliceMatchers.push({matcher:e,reducer:t}),o),exposeAction:(e,t)=>(s.actionCreators[e]=t,o),exposeCaseReducer:(e,t)=>(s.sliceCaseReducersByName[e]=t,o)};function l(){const[t={},r=[],n]="function"===typeof e.extraReducers?Vx(e.extraReducers):[e.extraReducers],a={...t,...s.sliceCaseReducersByType};return function(e,t){let r,[n,a,i]=Vx(t);if(function(e){return"function"===typeof e}(e))r=()=>Mx(e());else{const t=Mx(e);r=()=>t}function s(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r(),t=arguments.length>1?arguments[1]:void 0,s=[n[t.type],...a.filter(e=>{let{matcher:r}=e;return r(t)}).map(e=>{let{reducer:t}=e;return t})];return 0===s.filter(e=>!!e).length&&(s=[i]),s.reduce((e,r)=>{if(r){if(Wv(e)){const n=r(e,t);return void 0===n?e:n}if(Gv(e))return Ix(e,e=>r(e,t));{const n=r(e,t);if(void 0===n){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return n}}return e},e)}return s.getInitialState=r,s}(e.initialState,e=>{for(let t in a)e.addCase(t,a[t]);for(let t of s.sliceMatchers)e.addMatcher(t.matcher,t.reducer);for(let t of r)e.addMatcher(t.matcher,t.reducer);n&&e.addDefaultCase(n)})}i.forEach(n=>{const i=a[n],s={reducerName:n,type:Hx(r,n),createNotation:"function"===typeof e.reducers};!function(e){return"asyncThunk"===e._reducerDefinitionType}(i)?function(e,t,r){let n,a,{type:i,reducerName:s,createNotation:o}=e;if("reducer"in t){if(o&&!function(e){return"reducerWithPrepare"===e._reducerDefinitionType}(t))throw new Error(Ab(17));n=t.reducer,a=t.prepare}else n=t;r.addCase(i,n).exposeCaseReducer(s,n).exposeAction(s,a?Px(i,a):Px(i))}(s,i,o):function(e,t,r,n){let{type:a,reducerName:i}=e;if(!n)throw new Error(Ab(18));const{payloadCreator:s,fulfilled:o,pending:l,rejected:c,settled:u,options:d}=t,h=n(a,s,d);r.exposeAction(i,h),o&&r.addCase(h.fulfilled,o);l&&r.addCase(h.pending,l);c&&r.addCase(h.rejected,c);u&&r.addMatcher(h.settled,u);r.exposeCaseReducer(i,{fulfilled:o||Gx,pending:l||Gx,rejected:c||Gx,settled:u||Gx})}(s,i,o,t)});const c=e=>e,u=new Map,d=new WeakMap;let h;function f(e,t){return h||(h=l()),h(e,t)}function p(){return h||(h=l()),h.getInitialState()}function m(t){let r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(e){let a=e[t];return"undefined"===typeof a&&r&&(a=Rx(d,n,p)),a}function a(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c;const n=Rx(u,r,()=>new WeakMap);return Rx(n,t,()=>{const n={};for(const[a,i]of Object.entries(e.selectors??{}))n[a]=Kx(i,t,()=>Rx(d,t,p),r);return n})}return{reducerPath:t,getSelectors:a,get selectors(){return a(n)},selectSlice:n}}const g={name:r,reducer:f,actions:s.actionCreators,caseReducers:s.sliceCaseReducersByName,getInitialState:p,...m(n),injectInto(e){let{reducerPath:t,...r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const a=t??n;return e.inject({reducerPath:a,reducer:f},r),{...g,...m(a,!0)}}};return g}}function Kx(e,t,r,n){function a(a){let i=t(a);"undefined"===typeof i&&n&&(i=r());for(var s=arguments.length,o=new Array(s>1?s-1:0),l=1;l<s;l++)o[l-1]=arguments[l];return e(i,...o)}return a.unwrapped=e,a}var Wx=qx();function Gx(){}var Yx="listener",Qx="completed",Xx="cancelled",Jx=`task-${Xx}`,Zx=`task-${Qx}`,eb=`${Yx}-${Xx}`,tb=`${Yx}-${Qx}`,rb=class{constructor(e){this.code=e,this.message=`task ${Xx} (reason: ${e})`}name="TaskAbortError";message},nb=(e,t)=>{if("function"!==typeof e)throw new TypeError(Ab(32))},ab=()=>{},ib=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ab;return e.catch(t),e},sb=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),ob=(e,t)=>{const r=e.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},lb=e=>{if(e.aborted){const{reason:t}=e;throw new rb(t)}};function cb(e,t){let r=ab;return new Promise((n,a)=>{const i=()=>a(new rb(e.reason));e.aborted?i():(r=sb(e,i),t.finally(()=>r()).then(n,a))}).finally(()=>{r=ab})}var ub=e=>t=>ib(cb(e,t).then(t=>(lb(e),t))),db=e=>{const t=ub(e);return e=>t(new Promise(t=>setTimeout(t,e)))},{assign:hb}=Object,fb={},pb="listenerMiddleware",mb=(e,t)=>(r,n)=>{nb(r);const a=new AbortController;var i;i=a,sb(e,()=>ob(i,e.reason));const s=(async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof rb?"cancelled":"rejected",error:r}}finally{t?.()}})(async()=>{lb(e),lb(a.signal);const t=await r({pause:ub(a.signal),delay:db(a.signal),signal:a.signal});return lb(a.signal),t},()=>ob(a,Zx));return n?.autoJoin&&t.push(s.catch(ab)),{result:ub(e)(s),cancel(){ob(a,Jx)}}},gb=(e,t)=>(r,n)=>ib((async(r,n)=>{lb(t);let a=()=>{};const i=[new Promise((t,n)=>{let i=e({predicate:r,effect:(e,r)=>{r.unsubscribe(),t([e,r.getState(),r.getOriginalState()])}});a=()=>{i(),n()}})];null!=n&&i.push(new Promise(e=>setTimeout(e,n,null)));try{const e=await cb(t,Promise.race(i));return lb(t),e}finally{a()}})(r,n)),yb=e=>{let{type:t,actionCreator:r,matcher:n,predicate:a,effect:i}=e;if(t)a=Px(t).match;else if(r)t=r.type,a=r.match;else if(n)a=n;else if(!a)throw new Error(Ab(21));return nb(i),{predicate:a,type:t,effect:i}},vb=hb(e=>{const{type:t,predicate:r,effect:n}=yb(e);return{id:Bx(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(Ab(22))}}},{withTypes:()=>vb}),xb=(e,t)=>{const{type:r,effect:n,predicate:a}=yb(t);return Array.from(e.values()).find(e=>("string"===typeof r?e.type===r:e.predicate===a)&&e.effect===n)},bb=e=>{e.pending.forEach(e=>{ob(e,eb)})},wb=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},kb=hb(Px(`${pb}/add`),{withTypes:()=>kb}),jb=Px(`${pb}/removeAll`),Nb=hb(Px(`${pb}/remove`),{withTypes:()=>Nb}),Sb=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];console.error(`${pb}/error`,...t)},Eb=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=new Map,{extra:r,onError:n=Sb}=e;nb(n);const a=e=>(e=>(e.unsubscribe=()=>t.delete(e.id),t.set(e.id,e),t=>{e.unsubscribe(),t?.cancelActive&&bb(e)}))(xb(t,e)??vb(e));hb(a,{withTypes:()=>a});const i=e=>{const r=xb(t,e);return r&&(r.unsubscribe(),e.cancelActive&&bb(r)),!!r};hb(i,{withTypes:()=>i});const s=async(e,i,s,o)=>{const l=new AbortController,c=gb(a,l.signal),u=[];try{e.pending.add(l),await Promise.resolve(e.effect(i,hb({},s,{getOriginalState:o,condition:(e,t)=>c(e,t).then(Boolean),take:c,delay:db(l.signal),pause:ub(l.signal),extra:r,signal:l.signal,fork:mb(l.signal,u),unsubscribe:e.unsubscribe,subscribe:()=>{t.set(e.id,e)},cancelActiveListeners:()=>{e.pending.forEach((e,t,r)=>{e!==l&&(ob(e,eb),r.delete(e))})},cancel:()=>{ob(l,eb),e.pending.delete(l)},throwIfCancelled:()=>{lb(l.signal)}})))}catch(d){d instanceof rb||wb(n,d,{raisedBy:"effect"})}finally{await Promise.all(u),ob(l,tb),e.pending.delete(l)}},o=(e=>()=>{e.forEach(bb),e.clear()})(t);return{middleware:e=>r=>l=>{if(!Fv(l))return r(l);if(kb.match(l))return a(l.payload);if(jb.match(l))return void o();if(Nb.match(l))return i(l.payload);let c=e.getState();const u=()=>{if(c===fb)throw new Error(Ab(23));return c};let d;try{if(d=r(l),t.size>0){const r=e.getState(),a=Array.from(t.values());for(const t of a){let a=!1;try{a=t.predicate(l,r,c)}catch(h){a=!1,wb(n,h,{raisedBy:"predicate"})}a&&s(t,l,e,u)}}}finally{c=fb}return d},startListening:a,stopListening:i,clearListeners:o}};Symbol.for("rtk-state-proxy-original");function Ab(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}function _b(e,t){if(t){var r=Number.parseInt(t,10);if(!hv(r))return null===e||void 0===e?void 0:e[r]}}var Cb=Wx({name:"options",initialState:{chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},reducers:{createEventEmitter:e=>{null==e.eventEmitter&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Tb=Cb.reducer,{createEventEmitter:Ib}=Cb.actions;r(7237);function Ob(e){e()}var Pb={notify(){},get:()=>[]};function Db(e,t){let r,n=Pb,a=0,i=!1;function s(){c.onStateChange&&c.onStateChange()}function o(){a++,r||(r=t?t.addNestedSub(s):e.subscribe(s),n=function(){let e=null,t=null;return{clear(){e=null,t=null},notify(){Ob(()=>{let t=e;for(;t;)t.callback(),t=t.next})},get(){const t=[];let r=e;for(;r;)t.push(r),r=r.next;return t},subscribe(r){let n=!0;const a=t={callback:r,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){n&&null!==e&&(n=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}())}function l(){a--,r&&0===a&&(r(),r=void 0,n.clear(),n=Pb)}const c={addNestedSub:function(e){o();const t=n.subscribe(e);let r=!1;return()=>{r||(r=!0,t(),l())}},notifyNestedSubs:function(){n.notify()},handleChangeWrapper:s,isSubscribed:function(){return i},trySubscribe:function(){i||(i=!0,o())},tryUnsubscribe:function(){i&&(i=!1,l())},getListeners:()=>n};return c}var Mb=(()=>!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement))(),Rb=(()=>"undefined"!==typeof navigator&&"ReactNative"===navigator.product)(),Lb=(()=>Mb||Rb?t.useLayoutEffect:t.useEffect)();Object.defineProperty,Object.getOwnPropertyNames,Object.getOwnPropertySymbols,Object.getOwnPropertyDescriptor,Object.getPrototypeOf,Object.prototype;var Fb=Symbol.for("react-redux-context"),zb="undefined"!==typeof globalThis?globalThis:{};function Ub(){if(!t.createContext)return{};const e=zb[Fb]??=new Map;let r=e.get(t.createContext);return r||(r=t.createContext(null),e.set(t.createContext,r)),r}var Vb=Ub();var Bb=function(e){const{children:r,context:n,serverState:a,store:i}=e,s=t.useMemo(()=>{const e=Db(i);return{store:i,subscription:e,getServerState:a?()=>a:void 0}},[i,a]),o=t.useMemo(()=>i.getState(),[i]);Lb(()=>{const{subscription:e}=s;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),o!==i.getState()&&e.notifyNestedSubs(),()=>{e.tryUnsubscribe(),e.onStateChange=void 0}},[s,o]);const l=n||Vb;return t.createElement(l.Provider,{value:s},r)};var $b=Symbol.for("immer-nothing"),Hb=Symbol.for("immer-draftable"),qb=Symbol.for("immer-state");function Kb(e){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Wb=Object.getPrototypeOf;function Gb(e){return!!e&&!!e[qb]}function Yb(e){return!!e&&(Xb(e)||Array.isArray(e)||!!e[Hb]||!!e.constructor?.[Hb]||rw(e)||nw(e))}var Qb=Object.prototype.constructor.toString();function Xb(e){if(!e||"object"!==typeof e)return!1;const t=Wb(e);if(null===t)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object||"function"==typeof r&&Function.toString.call(r)===Qb}function Jb(e,t){0===Zb(e)?Reflect.ownKeys(e).forEach(r=>{t(r,e[r],e)}):e.forEach((r,n)=>t(n,r,e))}function Zb(e){const t=e[qb];return t?t.type_:Array.isArray(e)?1:rw(e)?2:nw(e)?3:0}function ew(e,t){return 2===Zb(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function tw(e,t,r){const n=Zb(e);2===n?e.set(t,r):3===n?e.add(r):e[t]=r}function rw(e){return e instanceof Map}function nw(e){return e instanceof Set}function aw(e){return e.copy_||e.base_}function iw(e,t){if(rw(e))return new Map(e);if(nw(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=Xb(e);if(!0===t||"class_only"===t&&!r){const t=Object.getOwnPropertyDescriptors(e);delete t[qb];let r=Reflect.ownKeys(t);for(let n=0;n<r.length;n++){const a=r[n],i=t[a];!1===i.writable&&(i.writable=!0,i.configurable=!0),(i.get||i.set)&&(t[a]={configurable:!0,writable:!0,enumerable:i.enumerable,value:e[a]})}return Object.create(Wb(e),t)}{const t=Wb(e);if(null!==t&&r)return{...e};const n=Object.create(t);return Object.assign(n,e)}}function sw(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return lw(e)||Gb(e)||!Yb(e)||(Zb(e)>1&&(e.set=e.add=e.clear=e.delete=ow),Object.freeze(e),t&&Object.entries(e).forEach(e=>{let[t,r]=e;return sw(r,!0)})),e}function ow(){Kb(2)}function lw(e){return Object.isFrozen(e)}var cw,uw={};function dw(e){const t=uw[e];return t||Kb(0),t}function hw(){return cw}function fw(e,t){t&&(dw("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function pw(e){mw(e),e.drafts_.forEach(yw),e.drafts_=null}function mw(e){e===cw&&(cw=e.parent_)}function gw(e){return cw={drafts_:[],parent_:cw,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function yw(e){const t=e[qb];0===t.type_||1===t.type_?t.revoke_():t.revoked_=!0}function vw(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return void 0!==e&&e!==r?(r[qb].modified_&&(pw(t),Kb(4)),Yb(e)&&(e=xw(t,e),t.parent_||ww(t,e)),t.patches_&&dw("Patches").generateReplacementPatches_(r[qb].base_,e,t.patches_,t.inversePatches_)):e=xw(t,r,[]),pw(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==$b?e:void 0}function xw(e,t,r){if(lw(t))return t;const n=t[qb];if(!n)return Jb(t,(a,i)=>bw(e,n,t,a,i,r)),t;if(n.scope_!==e)return t;if(!n.modified_)return ww(e,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const t=n.copy_;let a=t,i=!1;3===n.type_&&(a=new Set(t),t.clear(),i=!0),Jb(a,(a,s)=>bw(e,n,t,a,s,r,i)),ww(e,t,!1),r&&e.patches_&&dw("Patches").generatePatches_(n,r,e.patches_,e.inversePatches_)}return n.copy_}function bw(e,t,r,n,a,i,s){if(Gb(a)){const s=xw(e,a,i&&t&&3!==t.type_&&!ew(t.assigned_,n)?i.concat(n):void 0);if(tw(r,n,s),!Gb(s))return;e.canAutoFreeze_=!1}else s&&r.add(a);if(Yb(a)&&!lw(a)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;xw(e,a),t&&t.scope_.parent_||"symbol"===typeof n||!Object.prototype.propertyIsEnumerable.call(r,n)||ww(e,a)}}function ww(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&sw(t,r)}var kw={get(e,t){if(t===qb)return e;const r=aw(e);if(!ew(r,t))return function(e,t,r){const n=Sw(t,r);return n?"value"in n?n.value:n.get?.call(e.draft_):void 0}(e,r,t);const n=r[t];return e.finalized_||!Yb(n)?n:n===Nw(e.base_,t)?(Aw(e),e.copy_[t]=_w(n,e)):n},has:(e,t)=>t in aw(e),ownKeys:e=>Reflect.ownKeys(aw(e)),set(e,t,r){const n=Sw(aw(e),t);if(n?.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const n=Nw(aw(e),t),a=n?.[qb];if(a&&a.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(function(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}(r,n)&&(void 0!==r||ew(e.base_,t)))return!0;Aw(e),Ew(e)}return e.copy_[t]===r&&(void 0!==r||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty:(e,t)=>(void 0!==Nw(e.base_,t)||t in e.base_?(e.assigned_[t]=!1,Aw(e),Ew(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0),getOwnPropertyDescriptor(e,t){const r=aw(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n?{writable:!0,configurable:1!==e.type_||"length"!==t,enumerable:n.enumerable,value:r[t]}:n},defineProperty(){Kb(11)},getPrototypeOf:e=>Wb(e.base_),setPrototypeOf(){Kb(12)}},jw={};function Nw(e,t){const r=e[qb];return(r?aw(r):e)[t]}function Sw(e,t){if(!(t in e))return;let r=Wb(e);for(;r;){const e=Object.getOwnPropertyDescriptor(r,t);if(e)return e;r=Wb(r)}}function Ew(e){e.modified_||(e.modified_=!0,e.parent_&&Ew(e.parent_))}function Aw(e){e.copy_||(e.copy_=iw(e.base_,e.scope_.immer_.useStrictShallowCopy_))}Jb(kw,(e,t)=>{jw[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),jw.deleteProperty=function(e,t){return jw.set.call(this,e,t,void 0)},jw.set=function(e,t,r){return kw.set.call(this,e[0],t,r,e[0])};function _w(e,t){const r=rw(e)?dw("MapSet").proxyMap_(e,t):nw(e)?dw("MapSet").proxySet_(e,t):function(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:hw(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=n,i=kw;r&&(a=[n],i=jw);const{revoke:s,proxy:o}=Proxy.revocable(a,i);return n.draft_=o,n.revoke_=s,o}(e,t);return(t?t.scope_:hw()).drafts_.push(r),r}function Cw(e){if(!Yb(e)||lw(e))return e;const t=e[qb];let r;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=iw(e,t.scope_.immer_.useStrictShallowCopy_)}else r=iw(e,!0);return Jb(r,(e,t)=>{tw(r,e,Cw(t))}),t&&(t.finalized_=!1),r}var Tw=new class{constructor(e){var t=this;this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,r)=>{if("function"===typeof e&&"function"!==typeof t){const r=t;t=e;const n=this;return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r;for(var a=arguments.length,i=new Array(a>1?a-1:0),s=1;s<a;s++)i[s-1]=arguments[s];return n.produce(e,e=>t.call(this,e,...i))}}let n;if("function"!==typeof t&&Kb(6),void 0!==r&&"function"!==typeof r&&Kb(7),Yb(e)){const a=gw(this),i=_w(e,void 0);let s=!0;try{n=t(i),s=!1}finally{s?pw(a):mw(a)}return fw(a,r),vw(n,a)}if(!e||"object"!==typeof e){if(n=t(e),void 0===n&&(n=e),n===$b&&(n=void 0),this.autoFreeze_&&sw(n,!0),r){const t=[],a=[];dw("Patches").generateReplacementPatches_(e,n,t,a),r(t,a)}return n}Kb(1)},this.produceWithPatches=(e,r)=>{if("function"===typeof e)return function(r){for(var n=arguments.length,a=new Array(n>1?n-1:0),i=1;i<n;i++)a[i-1]=arguments[i];return t.produceWithPatches(r,t=>e(t,...a))};let n,a;const i=this.produce(e,r,(e,t)=>{n=e,a=t});return[i,n,a]},"boolean"===typeof e?.autoFreeze&&this.setAutoFreeze(e.autoFreeze),"boolean"===typeof e?.useStrictShallowCopy&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){Yb(e)||Kb(8),Gb(e)&&(e=function(e){Gb(e)||Kb(10);return Cw(e)}(e));const t=gw(this),r=_w(e,void 0);return r[qb].isManual_=!0,mw(t),r}finishDraft(e,t){const r=e&&e[qb];r&&r.isManual_||Kb(9);const{scope_:n}=r;return fw(n,t),vw(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const n=t[r];if(0===n.path.length&&"replace"===n.op){e=n.value;break}}r>-1&&(t=t.slice(r+1));const n=dw("Patches").applyPatches_;return Gb(e)?n(e,t):this.produce(e,e=>n(e,t))}};Tw.produce,Tw.produceWithPatches.bind(Tw),Tw.setAutoFreeze.bind(Tw),Tw.setUseStrictShallowCopy.bind(Tw),Tw.applyPatches.bind(Tw),Tw.createDraft.bind(Tw),Tw.finishDraft.bind(Tw);var Iw={active:!1,index:null,dataKey:void 0,coordinate:void 0},Ow=Wx({name:"tooltip",initialState:{itemInteraction:{click:Iw,hover:Iw},axisInteraction:{click:Iw,hover:Iw},keyboardInteraction:Iw,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},reducers:{addTooltipEntrySettings(e,t){e.tooltipItemPayloads.push(t.payload)},removeTooltipEntrySettings(e,t){var r=_x(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:Pw,removeTooltipEntrySettings:Dw,setTooltipSettingsState:Mw,setActiveMouseOverItemIndex:Rw,mouseLeaveItem:Lw,mouseLeaveChart:Fw,setActiveClickItemIndex:zw,setMouseOverAxisIndex:Uw,setMouseClickAxisIndex:Vw,setSyncInteraction:Bw,setKeyboardInteraction:$w}=Ow.actions,Hw=Ow.reducer,qw=Wx({name:"chartData",initialState:{chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},reducers:{setChartData(e,t){if(e.chartData=t.payload,null==t.payload)return e.dataStartIndex=0,void(e.dataEndIndex=0);t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;null!=r&&(e.dataStartIndex=r),null!=n&&(e.dataEndIndex=n)}}}),{setChartData:Kw,setDataStartEndIndexes:Ww,setComputedData:Gw}=qw.actions,Yw=qw.reducer,Qw=Wx({name:"chartLayout",initialState:{layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){e.margin.top=t.payload.top,e.margin.right=t.payload.right,e.margin.bottom=t.payload.bottom,e.margin.left=t.payload.left},setScale(e,t){e.scale=t.payload}}}),{setMargin:Xw,setLayout:Jw,setChartSize:Zw,setScale:ek}=Qw.actions,tk=Qw.reducer;function rk(e){if("function"!==typeof e)throw new TypeError(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expected a function, instead received "+typeof e)}var nk=e=>Array.isArray(e)?e:[e];function ak(e){const t=Array.isArray(e[0])?e[0]:e;return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expected all items to be functions, instead received the following types: ";if(!e.every(e=>"function"===typeof e)){const r=e.map(e=>"function"===typeof e?`function ${e.name||"unnamed"}()`:typeof e).join(", ");throw new TypeError(`${t}[${r}]`)}}(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}Symbol(),Object.getPrototypeOf({});var ik="undefined"!==typeof WeakRef?WeakRef:class{constructor(e){this.value=e}deref(){return this.value}};function sk(){return{s:0,v:void 0,o:null,p:null}}function ok(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r={s:0,v:void 0,o:null,p:null};const{resultEqualityCheck:n}=t;let a,i=0;function s(){let t=r;const{length:s}=arguments;for(let e=0,r=s;e<r;e++){const r=arguments[e];if("function"===typeof r||"object"===typeof r&&null!==r){let e=t.o;null===e&&(t.o=e=new WeakMap);const n=e.get(r);void 0===n?(t=sk(),e.set(r,t)):t=n}else{let e=t.p;null===e&&(t.p=e=new Map);const n=e.get(r);void 0===n?(t=sk(),e.set(r,t)):t=n}}const o=t;let l;if(1===t.s)l=t.v;else if(l=e.apply(null,arguments),i++,n){const e=a?.deref?.()??a;null!=e&&n(e,l)&&(l=e,0!==i&&i--);a="object"===typeof l&&null!==l||"function"===typeof l?new ik(l):l}return o.s=1,o.v=l,l}return s.clearCache=()=>{r={s:0,v:void 0,o:null,p:null},s.resetResultsCount()},s.resultsCount=()=>i,s.resetResultsCount=()=>{i=0},s}function lk(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];const a="function"===typeof e?{memoize:e,memoizeOptions:r}:e,i=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];let n,i=0,s=0,o={},l=t.pop();"object"===typeof l&&(o=l,l=t.pop()),rk(l,`createSelector expects an output function after the inputs, but received: [${typeof l}]`);const c={...a,...o},{memoize:u,memoizeOptions:d=[],argsMemoize:h=ok,argsMemoizeOptions:f=[],devModeChecks:p={}}=c,m=nk(d),g=nk(f),y=ak(t),v=u(function(){return i++,l.apply(null,arguments)},...m);const x=h(function(){s++;const e=function(e,t){const r=[],{length:n}=e;for(let a=0;a<n;a++)r.push(e[a].apply(null,t));return r}(y,arguments);return n=v.apply(null,e),n},...g);return Object.assign(x,{resultFunc:l,memoizedResultFunc:v,dependencies:y,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>n,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:u,argsMemoize:h})};return Object.assign(i,{withTypes:()=>i}),i}var ck=lk(ok),uk=Object.assign(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ck;!function(e){if("object"!==typeof e)throw new TypeError(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expected an object, instead received "+typeof e)}(e,"createStructuredSelector expects first argument to be an object where each property is a selector, instead received a "+typeof e);const r=Object.keys(e),n=t(r.map(t=>e[t]),function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((e,t,n)=>(e[r[n]]=t,e),{})});return n},{withTypes:()=>uk}),dk=r(8443),hk=(0,t.createContext)(null),fk=e=>e,pk=()=>{var e=(0,t.useContext)(hk);return e?e.store.dispatch:fk},mk=()=>{},gk=()=>mk,yk=(e,t)=>e===t;function vk(e){var r=(0,t.useContext)(hk);return(0,dk.useSyncExternalStoreWithSelector)(r?r.subscription.addNestedSub:gk,r?r.store.getState:mk,r?r.store.getState:mk,r?e:mk,yk)}var xk=r(3821),bk=r.n(xk),wk=e=>e.legend.settings,kk=ck([e=>e.legend.payload,wk],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?bk()(n,r):n});function jk(e,t){if((a=e.length)>1)for(var r,n,a,i=1,s=e[t[0]],o=s.length;i<a;++i)for(n=s,s=e[t[i]],r=0;r<o;++r)s[r][1]+=s[r][0]=isNaN(n[r][1])?n[r][0]:n[r][1]}Array.prototype.slice;function Nk(e){return"object"===typeof e&&"length"in e?e:Array.from(e)}function Sk(e){return function(){return e}}function Ek(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function Ak(e,t){return e[t]}function _k(e){const t=[];return t.key=e,t}function Ck(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Tk(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ck(Object(r),!0).forEach(function(t){Ik(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ck(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Ik(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Ok=Math.PI/180,Pk=e=>180*e/Math.PI,Dk=(e,t,r,n)=>({x:e+Math.cos(-Ok*n)*r,y:t+Math.sin(-Ok*n)*r}),Mk=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{top:0,right:0,bottom:0,left:0,width:0,height:0,brushBottom:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(t-(r.top||0)-(r.bottom||0)))/2},Rk=(e,t)=>{var{x:r,y:n}=e,{cx:a,cy:i}=t,s=((e,t)=>{var{x:r,y:n}=e,{x:a,y:i}=t;return Math.sqrt((r-a)**2+(n-i)**2)})({x:r,y:n},{x:a,y:i});if(s<=0)return{radius:s,angle:0};var o=(r-a)/s,l=Math.acos(o);return n>i&&(l=2*Math.PI-l),{radius:s,angle:Pk(l),angleInRadian:l}},Lk=(e,t)=>{var{startAngle:r,endAngle:n}=t,a=Math.floor(r/360),i=Math.floor(n/360);return e+360*Math.min(a,i)},Fk=(e,t)=>{var{x:r,y:n}=e,{radius:a,angle:i}=Rk({x:r,y:n},t),{innerRadius:s,outerRadius:o}=t;if(a<s||a>o)return null;if(0===a)return null;var l,{startAngle:c,endAngle:u}=(e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),a=Math.floor(r/360),i=Math.min(n,a);return{startAngle:t-360*i,endAngle:r-360*i}})(t),d=i;if(c<=u){for(;d>u;)d-=360;for(;d<c;)d+=360;l=d>=c&&d<=u}else{for(;d>c;)d-=360;for(;d<u;)d+=360;l=d>=u&&d<=c}return l?Tk(Tk({},t),{},{radius:a,angle:Lk(d,t)}):null};function zk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Uk(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?zk(Object(r),!0).forEach(function(t){Vk(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zk(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Vk(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bk(e,t,r){return jv(e)||jv(t)?r:mv(t)?uv()(e,t,r):"function"===typeof t?t(e):r}var $k=(e,t)=>"horizontal"===e&&"xAxis"===t||"vertical"===e&&"yAxis"===t||"centric"===e&&"angleAxis"===t||"radial"===e&&"radiusAxis"===t,Hk=(e,t,r,n)=>{if(n)return e.map(e=>e.coordinate);var a,i,s=e.map(e=>(e.coordinate===t&&(a=!0),e.coordinate===r&&(i=!0),e.coordinate));return a||s.push(t),i||s.push(r),s},qk=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:a,range:i,scale:s,realScaleType:o,isCategorical:l,categoricalDomain:c,tickCount:u,ticks:d,niceTicks:h,axisType:f}=e;if(!s)return null;var p="scaleBand"===o&&s.bandwidth?s.bandwidth()/2:2,m=(t||r)&&"category"===a&&s.bandwidth?s.bandwidth()/p:0;return m="angleAxis"===f&&i&&i.length>=2?2*dv(i[0]-i[1])*m:m,t&&(d||h)?(d||h||[]).map((e,t)=>{var r=n?n.indexOf(e):e;return{coordinate:s(r)+m,value:e,offset:m,index:t}}).filter(e=>!hv(e.coordinate)):l&&c?c.map((e,t)=>({coordinate:s(e)+m,value:e,index:t,offset:m})):s.ticks&&!r&&null!=u?s.ticks(u).map((e,t)=>({coordinate:s(e)+m,value:e,offset:m,index:t})):s.domain().map((e,t)=>({coordinate:s(e)+m,value:n?n[e]:e,index:t,offset:m}))},Kk=1e-4,Wk={sign:e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,i=0,s=0;s<t;++s){var o=hv(e[s][r][1])?e[s][r][0]:e[s][r][1];o>=0?(e[s][r][0]=a,e[s][r][1]=a+o,a=e[s][r][1]):(e[s][r][0]=i,e[s][r][1]=i+o,i=e[s][r][1])}},expand:function(e,t){if((n=e.length)>0){for(var r,n,a,i=0,s=e[0].length;i<s;++i){for(a=r=0;r<n;++r)a+=e[r][i][1]||0;if(a)for(r=0;r<n;++r)e[r][i][1]/=a}jk(e,t)}},none:jk,silhouette:function(e,t){if((r=e.length)>0){for(var r,n=0,a=e[t[0]],i=a.length;n<i;++n){for(var s=0,o=0;s<r;++s)o+=e[s][n][1]||0;a[n][1]+=a[n][0]=-o/2}jk(e,t)}},wiggle:function(e,t){if((a=e.length)>0&&(n=(r=e[t[0]]).length)>0){for(var r,n,a,i=0,s=1;s<n;++s){for(var o=0,l=0,c=0;o<a;++o){for(var u=e[t[o]],d=u[s][1]||0,h=(d-(u[s-1][1]||0))/2,f=0;f<o;++f){var p=e[t[f]];h+=(p[s][1]||0)-(p[s-1][1]||0)}l+=d,c+=h*d}r[s-1][1]+=r[s-1][0]=i,l&&(i-=c/l)}r[s-1][1]+=r[s-1][0]=i,jk(e,t)}},positive:e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,i=0;i<t;++i){var s=hv(e[i][r][1])?e[i][r][0]:e[i][r][1];s>=0?(e[i][r][0]=a,e[i][r][1]=a+s,a=e[i][r][1]):(e[i][r][0]=0,e[i][r][1]=0)}}},Gk=(e,t,r)=>{var n=Wk[r],a=function(){var e=Sk([]),t=Ek,r=jk,n=Ak;function a(a){var i,s,o=Array.from(e.apply(this,arguments),_k),l=o.length,c=-1;for(const e of a)for(i=0,++c;i<l;++i)(o[i][c]=[0,+n(e,o[i].key,c,a)]).data=e;for(i=0,s=Nk(t(o));i<l;++i)o[s[i]].index=i;return r(o,s),o}return a.keys=function(t){return arguments.length?(e="function"===typeof t?t:Sk(Array.from(t)),a):e},a.value=function(e){return arguments.length?(n="function"===typeof e?e:Sk(+e),a):n},a.order=function(e){return arguments.length?(t=null==e?Ek:"function"===typeof e?e:Sk(Array.from(e)),a):t},a.offset=function(e){return arguments.length?(r=null==e?jk:e,a):r},a}().keys(t).value((e,t)=>+Bk(e,t,0)).order(Ek).offset(n);return a(e)};function Yk(e){return null==e?void 0:String(e)}function Qk(e){var{axis:t,ticks:r,bandSize:n,entry:a,index:i,dataKey:s}=e;if("category"===t.type){if(!t.allowDuplicatedCategory&&t.dataKey&&!jv(a[t.dataKey])){var o=kv(r,"value",a[t.dataKey]);if(o)return o.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var l=Bk(a,jv(s)?t.dataKey:s);return jv(l)?null:t.scale(l)}var Xk=e=>{var{axis:t,ticks:r,offset:n,bandSize:a,entry:i,index:s}=e;if("category"===t.type)return r[s]?r[s].coordinate+n:null;var o=Bk(i,t.dataKey,t.scale.domain()[s]);return jv(o)?null:t.scale(o)-a/2+n},Jk=(e,t,r)=>{var n;if(null!=e)return n=Object.keys(e).reduce((n,a)=>{var i=e[a],{stackedData:s}=i,o=s.reduce((e,n)=>{var a=(e=>{var t=e.flat(2).filter(pv);return[Math.min(...t),Math.max(...t)]})(n.slice(t,r+1));return[Math.min(e[0],a[0]),Math.max(e[1],a[1])]},[1/0,-1/0]);return[Math.min(o[0],n[0]),Math.max(o[1],n[1])]},[1/0,-1/0]),[n[0]===1/0?0:n[0],n[1]===-1/0?0:n[1]]},Zk=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,ej=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,tj=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var a=bk()(t,e=>e.coordinate),i=1/0,s=1,o=a.length;s<o;s++){var l=a[s],c=a[s-1];i=Math.min((l.coordinate||0)-(c.coordinate||0),i)}return i===1/0?0:i}return r?void 0:0};function rj(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:a,name:i}=e;return Uk(Uk({},t),{},{dataKey:r,payload:n,value:a,name:i})}function nj(e,t){return e?String(e):"string"===typeof t?t:void 0}var aj=e=>e.layout.width,ij=e=>e.layout.height,sj=e=>e.layout.scale,oj=e=>e.layout.margin,lj=ck(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),cj=ck(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),uj="data-recharts-item-index",dj="data-recharts-item-data-key";function hj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function fj(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?hj(Object(r),!0).forEach(function(t){pj(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hj(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function pj(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var mj=ck([aj,ij,oj,e=>e.brush.height,lj,cj,wk,e=>e.legend.size],(e,t,r,n,a,i,s,o)=>{var l=i.reduce((e,t)=>{var{orientation:r}=t;if(!t.mirror&&!t.hide){var n="number"===typeof t.width?t.width:60;return fj(fj({},e),{},{[r]:e[r]+n})}return e},{left:r.left||0,right:r.right||0}),c=a.reduce((e,t)=>{var{orientation:r}=t;return t.mirror||t.hide?e:fj(fj({},e),{},{[r]:uv()(e,"".concat(r))+t.height})},{top:r.top||0,bottom:r.bottom||0}),u=fj(fj({},c),l),d=u.bottom;u.bottom+=n,u=((e,t,r)=>{if(t&&r){var{width:n,height:a}=r,{align:i,verticalAlign:s,layout:o}=t;if(("vertical"===o||"horizontal"===o&&"middle"===s)&&"center"!==i&&pv(e[i]))return Uk(Uk({},e),{},{[i]:e[i]+(n||0)});if(("horizontal"===o||"vertical"===o&&"center"===i)&&"middle"!==s&&pv(e[s]))return Uk(Uk({},e),{},{[s]:e[s]+(a||0)})}return e})(u,s,o);var h=e-u.left-u.right,f=t-u.top-u.bottom;return fj(fj({brushBottom:d},u),{},{width:Math.max(h,0),height:Math.max(f,0)})}),gj=ck(mj,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),yj=ck(aj,ij,(e,t)=>({x:0,y:0,width:e,height:t})),vj=(0,t.createContext)(null),xj=()=>null!=(0,t.useContext)(vj),bj=e=>e.brush,wj=ck([bj,mj,oj],(e,t,r)=>({height:e.height,x:pv(e.x)?e.x:t.left,y:pv(e.y)?e.y:t.top+t.height+t.brushBottom-((null===r||void 0===r?void 0:r.bottom)||0),width:pv(e.width)?e.width:t.width})),kj=()=>{var e,t=xj(),r=vk(gj),n=vk(wj),a=null===(e=vk(bj))||void 0===e?void 0:e.padding;return t&&n&&a?{width:n.width-a.left-a.right,height:n.height-a.top-a.bottom,x:a.left,y:a.top}:r},jj={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},Nj=()=>{var e;return null!==(e=vk(mj))&&void 0!==e?e:jj},Sj=()=>vk(aj),Ej=()=>vk(ij),Aj={top:0,right:0,bottom:0,left:0},_j=e=>e.layout.layoutType,Cj=()=>vk(_j),Tj=r(9859),Ij=r.n(Tj);function Oj(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function Pj(e,t){switch(arguments.length){case 0:break;case 1:"function"===typeof e?this.interpolator(e):this.range(e);break;default:this.domain(e),"function"===typeof t?this.interpolator(t):this.range(t)}return this}class Dj extends Map{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Fj;if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=e)for(const[r,n]of e)this.set(r,n)}get(e){return super.get(Mj(this,e))}has(e){return super.has(Mj(this,e))}set(e,t){return super.set(Rj(this,e),t)}delete(e){return super.delete(Lj(this,e))}}Set;function Mj(e,t){let{_intern:r,_key:n}=e;const a=n(t);return r.has(a)?r.get(a):t}function Rj(e,t){let{_intern:r,_key:n}=e;const a=n(t);return r.has(a)?r.get(a):(r.set(a,t),t)}function Lj(e,t){let{_intern:r,_key:n}=e;const a=n(t);return r.has(a)&&(t=r.get(a),r.delete(a)),t}function Fj(e){return null!==e&&"object"===typeof e?e.valueOf():e}const zj=Symbol("implicit");function Uj(){var e=new Dj,t=[],r=[],n=zj;function a(a){let i=e.get(a);if(void 0===i){if(n!==zj)return n;e.set(a,i=t.push(a)-1)}return r[i%r.length]}return a.domain=function(r){if(!arguments.length)return t.slice();t=[],e=new Dj;for(const n of r)e.has(n)||e.set(n,t.push(n)-1);return a},a.range=function(e){return arguments.length?(r=Array.from(e),a):r.slice()},a.unknown=function(e){return arguments.length?(n=e,a):n},a.copy=function(){return Uj(t,r).unknown(n)},Oj.apply(a,arguments),a}function Vj(){var e,t,r=Uj().unknown(void 0),n=r.domain,a=r.range,i=0,s=1,o=!1,l=0,c=0,u=.5;function d(){var r=n().length,d=s<i,h=d?s:i,f=d?i:s;e=(f-h)/Math.max(1,r-l+2*c),o&&(e=Math.floor(e)),h+=(f-h-e*(r-l))*u,t=e*(1-l),o&&(h=Math.round(h),t=Math.round(t));var p=function(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=0|Math.max(0,Math.ceil((t-e)/r)),i=new Array(a);++n<a;)i[n]=e+n*r;return i}(r).map(function(t){return h+e*t});return a(d?p.reverse():p)}return delete r.unknown,r.domain=function(e){return arguments.length?(n(e),d()):n()},r.range=function(e){return arguments.length?([i,s]=e,i=+i,s=+s,d()):[i,s]},r.rangeRound=function(e){return[i,s]=e,i=+i,s=+s,o=!0,d()},r.bandwidth=function(){return t},r.step=function(){return e},r.round=function(e){return arguments.length?(o=!!e,d()):o},r.padding=function(e){return arguments.length?(l=Math.min(1,c=+e),d()):l},r.paddingInner=function(e){return arguments.length?(l=Math.min(1,e),d()):l},r.paddingOuter=function(e){return arguments.length?(c=+e,d()):c},r.align=function(e){return arguments.length?(u=Math.max(0,Math.min(1,e)),d()):u},r.copy=function(){return Vj(n(),[i,s]).round(o).paddingInner(l).paddingOuter(c).align(u)},Oj.apply(d(),arguments)}function Bj(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return Bj(t())},e}function $j(){return Bj(Vj.apply(null,arguments).paddingInner(1))}const Hj=Math.sqrt(50),qj=Math.sqrt(10),Kj=Math.sqrt(2);function Wj(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),s=i>=Hj?10:i>=qj?5:i>=Kj?2:1;let o,l,c;return a<0?(c=Math.pow(10,-a)/s,o=Math.round(e*c),l=Math.round(t*c),o/c<e&&++o,l/c>t&&--l,c=-c):(c=Math.pow(10,a)*s,o=Math.round(e/c),l=Math.round(t/c),o*c<e&&++o,l*c>t&&--l),l<o&&.5<=r&&r<2?Wj(e,t,2*r):[o,l,c]}function Gj(e,t,r){if(!((r=+r)>0))return[];if((e=+e)===(t=+t))return[e];const n=t<e,[a,i,s]=n?Wj(t,e,r):Wj(e,t,r);if(!(i>=a))return[];const o=i-a+1,l=new Array(o);if(n)if(s<0)for(let c=0;c<o;++c)l[c]=(i-c)/-s;else for(let c=0;c<o;++c)l[c]=(i-c)*s;else if(s<0)for(let c=0;c<o;++c)l[c]=(a+c)/-s;else for(let c=0;c<o;++c)l[c]=(a+c)*s;return l}function Yj(e,t,r){return Wj(e=+e,t=+t,r=+r)[2]}function Qj(e,t,r){r=+r;const n=(t=+t)<(e=+e),a=n?Yj(t,e,r):Yj(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function Xj(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Jj(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Zj(e){let t,r,n;function a(e,n){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(a<i){if(0!==t(n,n))return i;do{const t=a+i>>>1;r(e[t],n)<0?a=t+1:i=t}while(a<i)}return a}return 2!==e.length?(t=Xj,r=(t,r)=>Xj(e(t),r),n=(t,r)=>e(t)-r):(t=e===Xj||e===Jj?e:eN,r=e,n=e),{left:a,center:function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const i=a(e,t,r,(arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length)-1);return i>r&&n(e[i-1],t)>-n(e[i],t)?i-1:i},right:function(e,n){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(a<i){if(0!==t(n,n))return i;do{const t=a+i>>>1;r(e[t],n)<=0?a=t+1:i=t}while(a<i)}return a}}}function eN(){return 0}function tN(e){return null===e?NaN:+e}const rN=Zj(Xj),nN=rN.right,aN=(rN.left,Zj(tN).center,nN);function iN(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function sN(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function oN(){}var lN=.7,cN=1/lN,uN="\\s*([+-]?\\d+)\\s*",dN="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",hN="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",fN=/^#([0-9a-f]{3,8})$/,pN=new RegExp(`^rgb\\(${uN},${uN},${uN}\\)$`),mN=new RegExp(`^rgb\\(${hN},${hN},${hN}\\)$`),gN=new RegExp(`^rgba\\(${uN},${uN},${uN},${dN}\\)$`),yN=new RegExp(`^rgba\\(${hN},${hN},${hN},${dN}\\)$`),vN=new RegExp(`^hsl\\(${dN},${hN},${hN}\\)$`),xN=new RegExp(`^hsla\\(${dN},${hN},${hN},${dN}\\)$`),bN={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function wN(){return this.rgb().formatHex()}function kN(){return this.rgb().formatRgb()}function jN(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=fN.exec(e))?(r=t[1].length,t=parseInt(t[1],16),6===r?NN(t):3===r?new AN(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===r?SN(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===r?SN(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=pN.exec(e))?new AN(t[1],t[2],t[3],1):(t=mN.exec(e))?new AN(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=gN.exec(e))?SN(t[1],t[2],t[3],t[4]):(t=yN.exec(e))?SN(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=vN.exec(e))?PN(t[1],t[2]/100,t[3]/100,1):(t=xN.exec(e))?PN(t[1],t[2]/100,t[3]/100,t[4]):bN.hasOwnProperty(e)?NN(bN[e]):"transparent"===e?new AN(NaN,NaN,NaN,0):null}function NN(e){return new AN(e>>16&255,e>>8&255,255&e,1)}function SN(e,t,r,n){return n<=0&&(e=t=r=NaN),new AN(e,t,r,n)}function EN(e,t,r,n){return 1===arguments.length?((a=e)instanceof oN||(a=jN(a)),a?new AN((a=a.rgb()).r,a.g,a.b,a.opacity):new AN):new AN(e,t,r,null==n?1:n);var a}function AN(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}function _N(){return`#${ON(this.r)}${ON(this.g)}${ON(this.b)}`}function CN(){const e=TN(this.opacity);return`${1===e?"rgb(":"rgba("}${IN(this.r)}, ${IN(this.g)}, ${IN(this.b)}${1===e?")":`, ${e})`}`}function TN(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function IN(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function ON(e){return((e=IN(e))<16?"0":"")+e.toString(16)}function PN(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new MN(e,t,r,n)}function DN(e){if(e instanceof MN)return new MN(e.h,e.s,e.l,e.opacity);if(e instanceof oN||(e=jN(e)),!e)return new MN;if(e instanceof MN)return e;var t=(e=e.rgb()).r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),s=NaN,o=i-a,l=(i+a)/2;return o?(s=t===i?(r-n)/o+6*(r<n):r===i?(n-t)/o+2:(t-r)/o+4,o/=l<.5?i+a:2-i-a,s*=60):o=l>0&&l<1?0:s,new MN(s,o,l,e.opacity)}function MN(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}function RN(e){return(e=(e||0)%360)<0?e+360:e}function LN(e){return Math.max(0,Math.min(1,e||0))}function FN(e,t,r){return 255*(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)}function zN(e,t,r,n,a){var i=e*e,s=i*e;return((1-3*e+3*i-s)*t+(4-6*i+3*s)*r+(1+3*e+3*i-3*s)*n+s*a)/6}iN(oN,jN,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:wN,formatHex:wN,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return DN(this).formatHsl()},formatRgb:kN,toString:kN}),iN(AN,EN,sN(oN,{brighter(e){return e=null==e?cN:Math.pow(cN,e),new AN(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?lN:Math.pow(lN,e),new AN(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new AN(IN(this.r),IN(this.g),IN(this.b),TN(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:_N,formatHex:_N,formatHex8:function(){return`#${ON(this.r)}${ON(this.g)}${ON(this.b)}${ON(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:CN,toString:CN})),iN(MN,function(e,t,r,n){return 1===arguments.length?DN(e):new MN(e,t,r,null==n?1:n)},sN(oN,{brighter(e){return e=null==e?cN:Math.pow(cN,e),new MN(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?lN:Math.pow(lN,e),new MN(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new AN(FN(e>=240?e-240:e+120,a,n),FN(e,a,n),FN(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new MN(RN(this.h),LN(this.s),LN(this.l),TN(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=TN(this.opacity);return`${1===e?"hsl(":"hsla("}${RN(this.h)}, ${100*LN(this.s)}%, ${100*LN(this.l)}%${1===e?")":`, ${e})`}`}}));const UN=e=>()=>e;function VN(e,t){return function(r){return e+r*t}}function BN(e){return 1===(e=+e)?$N:function(t,r){return r-t?function(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}(t,r,e):UN(isNaN(t)?r:t)}}function $N(e,t){var r=t-e;return r?VN(e,r):UN(isNaN(e)?t:e)}const HN=function e(t){var r=BN(t);function n(e,t){var n=r((e=EN(e)).r,(t=EN(t)).r),a=r(e.g,t.g),i=r(e.b,t.b),s=$N(e.opacity,t.opacity);return function(t){return e.r=n(t),e.g=a(t),e.b=i(t),e.opacity=s(t),e+""}}return n.gamma=e,n}(1);function qN(e){return function(t){var r,n,a=t.length,i=new Array(a),s=new Array(a),o=new Array(a);for(r=0;r<a;++r)n=EN(t[r]),i[r]=n.r||0,s[r]=n.g||0,o[r]=n.b||0;return i=e(i),s=e(s),o=e(o),n.opacity=1,function(e){return n.r=i(e),n.g=s(e),n.b=o(e),n+""}}}qN(function(e){var t=e.length-1;return function(r){var n=r<=0?r=0:r>=1?(r=1,t-1):Math.floor(r*t),a=e[n],i=e[n+1],s=n>0?e[n-1]:2*a-i,o=n<t-1?e[n+2]:2*i-a;return zN((r-n/t)*t,s,a,i,o)}}),qN(function(e){var t=e.length;return function(r){var n=Math.floor(((r%=1)<0?++r:r)*t),a=e[(n+t-1)%t],i=e[n%t],s=e[(n+1)%t],o=e[(n+2)%t];return zN((r-n/t)*t,a,i,s,o)}});function KN(e,t){var r,n=t?t.length:0,a=e?Math.min(n,e.length):0,i=new Array(a),s=new Array(n);for(r=0;r<a;++r)i[r]=eS(e[r],t[r]);for(;r<n;++r)s[r]=t[r];return function(e){for(r=0;r<a;++r)s[r]=i[r](e);return s}}function WN(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function GN(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function YN(e,t){var r,n={},a={};for(r in null!==e&&"object"===typeof e||(e={}),null!==t&&"object"===typeof t||(t={}),t)r in e?n[r]=eS(e[r],t[r]):a[r]=t[r];return function(e){for(r in n)a[r]=n[r](e);return a}}var QN=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,XN=new RegExp(QN.source,"g");function JN(e,t){var r,n,a,i=QN.lastIndex=XN.lastIndex=0,s=-1,o=[],l=[];for(e+="",t+="";(r=QN.exec(e))&&(n=XN.exec(t));)(a=n.index)>i&&(a=t.slice(i,a),o[s]?o[s]+=a:o[++s]=a),(r=r[0])===(n=n[0])?o[s]?o[s]+=n:o[++s]=n:(o[++s]=null,l.push({i:s,x:GN(r,n)})),i=XN.lastIndex;return i<t.length&&(a=t.slice(i),o[s]?o[s]+=a:o[++s]=a),o.length<2?l[0]?function(e){return function(t){return e(t)+""}}(l[0].x):function(e){return function(){return e}}(t):(t=l.length,function(e){for(var r,n=0;n<t;++n)o[(r=l[n]).i]=r.x(e);return o.join("")})}function ZN(e,t){t||(t=[]);var r,n=e?Math.min(t.length,e.length):0,a=t.slice();return function(i){for(r=0;r<n;++r)a[r]=e[r]*(1-i)+t[r]*i;return a}}function eS(e,t){var r,n=typeof t;return null==t||"boolean"===n?UN(t):("number"===n?GN:"string"===n?(r=jN(t))?(t=r,HN):JN:t instanceof jN?HN:t instanceof Date?WN:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}(t)?ZN:Array.isArray(t)?KN:"function"!==typeof t.valueOf&&"function"!==typeof t.toString||isNaN(t)?YN:GN)(e,t)}function tS(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function rS(e){return+e}var nS=[0,1];function aS(e){return e}function iS(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:function(e){return function(){return e}}(isNaN(t)?NaN:.5)}function sS(e,t,r){var n=e[0],a=e[1],i=t[0],s=t[1];return a<n?(n=iS(a,n),i=r(s,i)):(n=iS(n,a),i=r(i,s)),function(e){return i(n(e))}}function oS(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),s=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<n;)a[s]=iS(e[s],e[s+1]),i[s]=r(t[s],t[s+1]);return function(t){var r=aN(e,t,1,n)-1;return i[r](a[r](t))}}function lS(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function cS(){var e,t,r,n,a,i,s=nS,o=nS,l=eS,c=aS;function u(){var e=Math.min(s.length,o.length);return c!==aS&&(c=function(e,t){var r;return e>t&&(r=e,e=t,t=r),function(r){return Math.max(e,Math.min(t,r))}}(s[0],s[e-1])),n=e>2?oS:sS,a=i=null,d}function d(t){return null==t||isNaN(t=+t)?r:(a||(a=n(s.map(e),o,l)))(e(c(t)))}return d.invert=function(r){return c(t((i||(i=n(o,s.map(e),GN)))(r)))},d.domain=function(e){return arguments.length?(s=Array.from(e,rS),u()):s.slice()},d.range=function(e){return arguments.length?(o=Array.from(e),u()):o.slice()},d.rangeRound=function(e){return o=Array.from(e),l=tS,u()},d.clamp=function(e){return arguments.length?(c=!!e||aS,u()):c!==aS},d.interpolate=function(e){return arguments.length?(l=e,u()):l},d.unknown=function(e){return arguments.length?(r=e,d):r},function(r,n){return e=r,t=n,u()}}function uS(){return cS()(aS,aS)}var dS,hS=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function fS(e){if(!(t=hS.exec(e)))throw new Error("invalid format: "+e);var t;return new pS({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function pS(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function mS(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function gS(e){return(e=mS(Math.abs(e)))?e[1]:NaN}function yS(e,t){var r=mS(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}fS.prototype=pS.prototype,pS.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const vS={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>yS(100*e,t),r:yS,s:function(e,t){var r=mS(e,t);if(!r)return e+"";var n=r[0],a=r[1],i=a-(dS=3*Math.max(-8,Math.min(8,Math.floor(a/3))))+1,s=n.length;return i===s?n:i>s?n+new Array(i-s+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+mS(e,Math.max(0,t+i-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function xS(e){return e}var bS,wS,kS,jS=Array.prototype.map,NS=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function SS(e){var t,r,n=void 0===e.grouping||void 0===e.thousands?xS:(t=jS.call(e.grouping,Number),r=e.thousands+"",function(e,n){for(var a=e.length,i=[],s=0,o=t[0],l=0;a>0&&o>0&&(l+o+1>n&&(o=Math.max(1,n-l)),i.push(e.substring(a-=o,a+o)),!((l+=o+1)>n));)o=t[s=(s+1)%t.length];return i.reverse().join(r)}),a=void 0===e.currency?"":e.currency[0]+"",i=void 0===e.currency?"":e.currency[1]+"",s=void 0===e.decimal?".":e.decimal+"",o=void 0===e.numerals?xS:function(e){return function(t){return t.replace(/[0-9]/g,function(t){return e[+t]})}}(jS.call(e.numerals,String)),l=void 0===e.percent?"%":e.percent+"",c=void 0===e.minus?"\u2212":e.minus+"",u=void 0===e.nan?"NaN":e.nan+"";function d(e){var t=(e=fS(e)).fill,r=e.align,d=e.sign,h=e.symbol,f=e.zero,p=e.width,m=e.comma,g=e.precision,y=e.trim,v=e.type;"n"===v?(m=!0,v="g"):vS[v]||(void 0===g&&(g=12),y=!0,v="g"),(f||"0"===t&&"="===r)&&(f=!0,t="0",r="=");var x="$"===h?a:"#"===h&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",b="$"===h?i:/[%p]/.test(v)?l:"",w=vS[v],k=/[defgprs%]/.test(v);function j(e){var a,i,l,h=x,j=b;if("c"===v)j=w(e)+j,e="";else{var N=(e=+e)<0||1/e<0;if(e=isNaN(e)?u:w(Math.abs(e),g),y&&(e=function(e){e:for(var t,r=e.length,n=1,a=-1;n<r;++n)switch(e[n]){case".":a=t=n;break;case"0":0===a&&(a=n),t=n;break;default:if(!+e[n])break e;a>0&&(a=0)}return a>0?e.slice(0,a)+e.slice(t+1):e}(e)),N&&0===+e&&"+"!==d&&(N=!1),h=(N?"("===d?d:c:"-"===d||"("===d?"":d)+h,j=("s"===v?NS[8+dS/3]:"")+j+(N&&"("===d?")":""),k)for(a=-1,i=e.length;++a<i;)if(48>(l=e.charCodeAt(a))||l>57){j=(46===l?s+e.slice(a+1):e.slice(a))+j,e=e.slice(0,a);break}}m&&!f&&(e=n(e,1/0));var S=h.length+e.length+j.length,E=S<p?new Array(p-S+1).join(t):"";switch(m&&f&&(e=n(E+e,E.length?p-j.length:1/0),E=""),r){case"<":e=h+e+j+E;break;case"=":e=h+E+e+j;break;case"^":e=E.slice(0,S=E.length>>1)+h+e+j+E.slice(S);break;default:e=E+h+e+j}return o(e)}return g=void 0===g?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),j.toString=function(){return e+""},j}return{format:d,formatPrefix:function(e,t){var r=d(((e=fS(e)).type="f",e)),n=3*Math.max(-8,Math.min(8,Math.floor(gS(t)/3))),a=Math.pow(10,-n),i=NS[8+n/3];return function(e){return r(a*e)+i}}}}function ES(e,t,r,n){var a,i=Qj(e,t,r);switch((n=fS(null==n?",f":n)).type){case"s":var s=Math.max(Math.abs(e),Math.abs(t));return null!=n.precision||isNaN(a=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(gS(t)/3)))-gS(Math.abs(e)))}(i,s))||(n.precision=a),kS(n,s);case"":case"e":case"g":case"p":case"r":null!=n.precision||isNaN(a=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,gS(t)-gS(e))+1}(i,Math.max(Math.abs(e),Math.abs(t))))||(n.precision=a-("e"===n.type));break;case"f":case"%":null!=n.precision||isNaN(a=function(e){return Math.max(0,-gS(Math.abs(e)))}(i))||(n.precision=a-2*("%"===n.type))}return wS(n)}function AS(e){var t=e.domain;return e.ticks=function(e){var r=t();return Gj(r[0],r[r.length-1],null==e?10:e)},e.tickFormat=function(e,r){var n=t();return ES(n[0],n[n.length-1],null==e?10:e,r)},e.nice=function(r){null==r&&(r=10);var n,a,i=t(),s=0,o=i.length-1,l=i[s],c=i[o],u=10;for(c<l&&(a=l,l=c,c=a,a=s,s=o,o=a);u-- >0;){if((a=Yj(l,c,r))===n)return i[s]=l,i[o]=c,t(i);if(a>0)l=Math.floor(l/a)*a,c=Math.ceil(c/a)*a;else{if(!(a<0))break;l=Math.ceil(l*a)/a,c=Math.floor(c*a)/a}n=a}return e},e}function _S(){var e=uS();return e.copy=function(){return lS(e,_S())},Oj.apply(e,arguments),AS(e)}function CS(e){var t;function r(e){return null==e||isNaN(e=+e)?t:e}return r.invert=r,r.domain=r.range=function(t){return arguments.length?(e=Array.from(t,rS),r):e.slice()},r.unknown=function(e){return arguments.length?(t=e,r):t},r.copy=function(){return CS(e).unknown(t)},e=arguments.length?Array.from(e,rS):[0,1],AS(r)}function TS(e,t){var r,n=0,a=(e=e.slice()).length-1,i=e[n],s=e[a];return s<i&&(r=n,n=a,a=r,r=i,i=s,s=r),e[n]=t.floor(i),e[a]=t.ceil(s),e}function IS(e){return Math.log(e)}function OS(e){return Math.exp(e)}function PS(e){return-Math.log(-e)}function DS(e){return-Math.exp(-e)}function MS(e){return isFinite(e)?+("1e"+e):e<0?0:e}function RS(e){return(t,r)=>-e(-t,r)}function LS(e){const t=e(IS,OS),r=t.domain;let n,a,i=10;function s(){return n=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}(i),a=function(e){return 10===e?MS:e===Math.E?Math.exp:t=>Math.pow(e,t)}(i),r()[0]<0?(n=RS(n),a=RS(a),e(PS,DS)):e(IS,OS),t}return t.base=function(e){return arguments.length?(i=+e,s()):i},t.domain=function(e){return arguments.length?(r(e),s()):r()},t.ticks=e=>{const t=r();let s=t[0],o=t[t.length-1];const l=o<s;l&&([s,o]=[o,s]);let c,u,d=n(s),h=n(o);const f=null==e?10:+e;let p=[];if(!(i%1)&&h-d<f){if(d=Math.floor(d),h=Math.ceil(h),s>0){for(;d<=h;++d)for(c=1;c<i;++c)if(u=d<0?c/a(-d):c*a(d),!(u<s)){if(u>o)break;p.push(u)}}else for(;d<=h;++d)for(c=i-1;c>=1;--c)if(u=d>0?c/a(-d):c*a(d),!(u<s)){if(u>o)break;p.push(u)}2*p.length<f&&(p=Gj(s,o,f))}else p=Gj(d,h,Math.min(h-d,f)).map(a);return l?p.reverse():p},t.tickFormat=(e,r)=>{if(null==e&&(e=10),null==r&&(r=10===i?"s":","),"function"!==typeof r&&(i%1||null!=(r=fS(r)).precision||(r.trim=!0),r=wS(r)),e===1/0)return r;const s=Math.max(1,i*e/t.ticks().length);return e=>{let t=e/a(Math.round(n(e)));return t*i<i-.5&&(t*=i),t<=s?r(e):""}},t.nice=()=>r(TS(r(),{floor:e=>a(Math.floor(n(e))),ceil:e=>a(Math.ceil(n(e)))})),t}function FS(){const e=LS(cS()).domain([1,10]);return e.copy=()=>lS(e,FS()).base(e.base()),Oj.apply(e,arguments),e}function zS(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function US(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function VS(e){var t=1,r=e(zS(t),US(t));return r.constant=function(r){return arguments.length?e(zS(t=+r),US(t)):t},AS(r)}function BS(){var e=VS(cS());return e.copy=function(){return lS(e,BS()).constant(e.constant())},Oj.apply(e,arguments)}function $S(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function HS(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function qS(e){return e<0?-e*e:e*e}function KS(e){var t=e(aS,aS),r=1;return t.exponent=function(t){return arguments.length?1===(r=+t)?e(aS,aS):.5===r?e(HS,qS):e($S(r),$S(1/r)):r},AS(t)}function WS(){var e=KS(cS());return e.copy=function(){return lS(e,WS()).exponent(e.exponent())},Oj.apply(e,arguments),e}function GS(){return WS.apply(null,arguments).exponent(.5)}function YS(e){return Math.sign(e)*e*e}function QS(){var e,t=uS(),r=[0,1],n=!1;function a(r){var a=function(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}(t(r));return isNaN(a)?e:n?Math.round(a):a}return a.invert=function(e){return t.invert(YS(e))},a.domain=function(e){return arguments.length?(t.domain(e),a):t.domain()},a.range=function(e){return arguments.length?(t.range((r=Array.from(e,rS)).map(YS)),a):r.slice()},a.rangeRound=function(e){return a.range(e).round(!0)},a.round=function(e){return arguments.length?(n=!!e,a):n},a.clamp=function(e){return arguments.length?(t.clamp(e),a):t.clamp()},a.unknown=function(t){return arguments.length?(e=t,a):e},a.copy=function(){return QS(t.domain(),r).round(n).clamp(t.clamp()).unknown(e)},Oj.apply(a,arguments),AS(a)}function XS(e,t){let r;if(void 0===t)for(const n of e)null!=n&&(r<n||void 0===r&&n>=n)&&(r=n);else{let n=-1;for(let a of e)null!=(a=t(a,++n,e))&&(r<a||void 0===r&&a>=a)&&(r=a)}return r}function JS(e,t){let r;if(void 0===t)for(const n of e)null!=n&&(r>n||void 0===r&&n>=n)&&(r=n);else{let n=-1;for(let a of e)null!=(a=t(a,++n,e))&&(r>a||void 0===r&&a>=a)&&(r=a)}return r}function ZS(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xj;if(e===Xj)return eE;if("function"!==typeof e)throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||0===n?n:(0===e(r,r))-(0===e(t,t))}}function eE(e,t){return(null==e||!(e>=e))-(null==t||!(t>=t))||(e<t?-1:e>t?1:0)}function tE(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0,a=arguments.length>4?arguments[4]:void 0;if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=void 0===a?eE:ZS(a);n>r;){if(n-r>600){const i=n-r+1,s=t-r+1,o=Math.log(i),l=.5*Math.exp(2*o/3),c=.5*Math.sqrt(o*l*(i-l)/i)*(s-i/2<0?-1:1);tE(e,t,Math.max(r,Math.floor(t-s*l/i+c)),Math.min(n,Math.floor(t+(i-s)*l/i+c)),a)}const i=e[t];let s=r,o=n;for(rE(e,r,t),a(e[n],i)>0&&rE(e,r,n);s<o;){for(rE(e,s,o),++s,--o;a(e[s],i)<0;)++s;for(;a(e[o],i)>0;)--o}0===a(e[r],i)?rE(e,r,o):(++o,rE(e,o,n)),o<=t&&(r=o+1),t<=o&&(n=o-1)}return e}function rE(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function nE(e,t,r){if(e=Float64Array.from(function*(e,t){if(void 0===t)for(let r of e)null!=r&&(r=+r)>=r&&(yield r);else{let r=-1;for(let n of e)null!=(n=t(n,++r,e))&&(n=+n)>=n&&(yield n)}}(e,r)),(n=e.length)&&!isNaN(t=+t)){if(t<=0||n<2)return JS(e);if(t>=1)return XS(e);var n,a=(n-1)*t,i=Math.floor(a),s=XS(tE(e,i).subarray(0,i+1));return s+(JS(e.subarray(i+1))-s)*(a-i)}}function aE(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:tN;if((n=e.length)&&!isNaN(t=+t)){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),s=+r(e[i],i,e);return s+(+r(e[i+1],i+1,e)-s)*(a-i)}}function iE(){var e,t=[],r=[],n=[];function a(){var e=0,a=Math.max(1,r.length);for(n=new Array(a-1);++e<a;)n[e-1]=aE(t,e/a);return i}function i(t){return null==t||isNaN(t=+t)?e:r[aN(n,t)]}return i.invertExtent=function(e){var a=r.indexOf(e);return a<0?[NaN,NaN]:[a>0?n[a-1]:t[0],a<n.length?n[a]:t[t.length-1]]},i.domain=function(e){if(!arguments.length)return t.slice();t=[];for(let r of e)null==r||isNaN(r=+r)||t.push(r);return t.sort(Xj),a()},i.range=function(e){return arguments.length?(r=Array.from(e),a()):r.slice()},i.unknown=function(t){return arguments.length?(e=t,i):e},i.quantiles=function(){return n.slice()},i.copy=function(){return iE().domain(t).range(r).unknown(e)},Oj.apply(i,arguments)}function sE(){var e,t=0,r=1,n=1,a=[.5],i=[0,1];function s(t){return null!=t&&t<=t?i[aN(a,t,0,n)]:e}function o(){var e=-1;for(a=new Array(n);++e<n;)a[e]=((e+1)*r-(e-n)*t)/(n+1);return s}return s.domain=function(e){return arguments.length?([t,r]=e,t=+t,r=+r,o()):[t,r]},s.range=function(e){return arguments.length?(n=(i=Array.from(e)).length-1,o()):i.slice()},s.invertExtent=function(e){var s=i.indexOf(e);return s<0?[NaN,NaN]:s<1?[t,a[0]]:s>=n?[a[n-1],r]:[a[s-1],a[s]]},s.unknown=function(t){return arguments.length?(e=t,s):s},s.thresholds=function(){return a.slice()},s.copy=function(){return sE().domain([t,r]).range(i).unknown(e)},Oj.apply(AS(s),arguments)}function oE(){var e,t=[.5],r=[0,1],n=1;function a(a){return null!=a&&a<=a?r[aN(t,a,0,n)]:e}return a.domain=function(e){return arguments.length?(t=Array.from(e),n=Math.min(t.length,r.length-1),a):t.slice()},a.range=function(e){return arguments.length?(r=Array.from(e),n=Math.min(t.length,r.length-1),a):r.slice()},a.invertExtent=function(e){var n=r.indexOf(e);return[t[n-1],t[n]]},a.unknown=function(t){return arguments.length?(e=t,a):e},a.copy=function(){return oE().domain(t).range(r).unknown(e)},Oj.apply(a,arguments)}bS=SS({thousands:",",grouping:[3],currency:["$",""]}),wS=bS.format,kS=bS.formatPrefix;const lE=1e3,cE=6e4,uE=36e5,dE=864e5,hE=6048e5,fE=2592e6,pE=31536e6,mE=new Date,gE=new Date;function yE(e,t,r,n){function a(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return a.floor=t=>(e(t=new Date(+t)),t),a.ceil=r=>(e(r=new Date(r-1)),t(r,1),e(r),r),a.round=e=>{const t=a(e),r=a.ceil(e);return e-t<r-e?t:r},a.offset=(e,r)=>(t(e=new Date(+e),null==r?1:Math.floor(r)),e),a.range=(r,n,i)=>{const s=[];if(r=a.ceil(r),i=null==i?1:Math.floor(i),!(r<n)||!(i>0))return s;let o;do{s.push(o=new Date(+r)),t(r,i),e(r)}while(o<r&&r<n);return s},a.filter=r=>yE(t=>{if(t>=t)for(;e(t),!r(t);)t.setTime(t-1)},(e,n)=>{if(e>=e)if(n<0)for(;++n<=0;)for(;t(e,-1),!r(e););else for(;--n>=0;)for(;t(e,1),!r(e););}),r&&(a.count=(t,n)=>(mE.setTime(+t),gE.setTime(+n),e(mE),e(gE),Math.floor(r(mE,gE))),a.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?a.filter(n?t=>n(t)%e===0:t=>a.count(0,t)%e===0):a:null)),a}const vE=yE(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);vE.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?yE(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):vE:null);vE.range;const xE=yE(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*lE)},(e,t)=>(t-e)/lE,e=>e.getUTCSeconds()),bE=(xE.range,yE(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*lE)},(e,t)=>{e.setTime(+e+t*cE)},(e,t)=>(t-e)/cE,e=>e.getMinutes())),wE=(bE.range,yE(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*cE)},(e,t)=>(t-e)/cE,e=>e.getUTCMinutes())),kE=(wE.range,yE(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*lE-e.getMinutes()*cE)},(e,t)=>{e.setTime(+e+t*uE)},(e,t)=>(t-e)/uE,e=>e.getHours())),jE=(kE.range,yE(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*uE)},(e,t)=>(t-e)/uE,e=>e.getUTCHours())),NE=(jE.range,yE(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*cE)/dE,e=>e.getDate()-1)),SE=(NE.range,yE(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/dE,e=>e.getUTCDate()-1)),EE=(SE.range,yE(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/dE,e=>Math.floor(e/dE)));EE.range;function AE(e){return yE(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(e,t)=>{e.setDate(e.getDate()+7*t)},(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*cE)/hE)}const _E=AE(0),CE=AE(1),TE=AE(2),IE=AE(3),OE=AE(4),PE=AE(5),DE=AE(6);_E.range,CE.range,TE.range,IE.range,OE.range,PE.range,DE.range;function ME(e){return yE(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+7*t)},(e,t)=>(t-e)/hE)}const RE=ME(0),LE=ME(1),FE=ME(2),zE=ME(3),UE=ME(4),VE=ME(5),BE=ME(6),$E=(RE.range,LE.range,FE.range,zE.range,UE.range,VE.range,BE.range,yE(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear()),e=>e.getMonth())),HE=($E.range,yE(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear()),e=>e.getUTCMonth())),qE=(HE.range,yE(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear()));qE.every=e=>isFinite(e=Math.floor(e))&&e>0?yE(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)}):null;qE.range;const KE=yE(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());KE.every=e=>isFinite(e=Math.floor(e))&&e>0?yE(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)}):null;KE.range;function WE(e,t,r,n,a,i){const s=[[xE,1,lE],[xE,5,5e3],[xE,15,15e3],[xE,30,3e4],[i,1,cE],[i,5,3e5],[i,15,9e5],[i,30,18e5],[a,1,uE],[a,3,108e5],[a,6,216e5],[a,12,432e5],[n,1,dE],[n,2,1728e5],[r,1,hE],[t,1,fE],[t,3,7776e6],[e,1,pE]];function o(t,r,n){const a=Math.abs(r-t)/n,i=Zj(e=>{let[,,t]=e;return t}).right(s,a);if(i===s.length)return e.every(Qj(t/pE,r/pE,n));if(0===i)return vE.every(Math.max(Qj(t,r,n),1));const[o,l]=s[a/s[i-1][2]<s[i][2]/a?i-1:i];return o.every(l)}return[function(e,t,r){const n=t<e;n&&([e,t]=[t,e]);const a=r&&"function"===typeof r.range?r:o(e,t,r),i=a?a.range(e,+t+1):[];return n?i.reverse():i},o]}const[GE,YE]=WE(KE,HE,RE,EE,jE,wE),[QE,XE]=WE(qE,$E,_E,NE,kE,bE);function JE(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function ZE(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function eA(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}var tA,rA,nA,aA={"-":"",_:" ",0:"0"},iA=/^\s*\d+/,sA=/^%/,oA=/[\\^$*+?|[\]().{}]/g;function lA(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function cA(e){return e.replace(oA,"\\$&")}function uA(e){return new RegExp("^(?:"+e.map(cA).join("|")+")","i")}function dA(e){return new Map(e.map((e,t)=>[e.toLowerCase(),t]))}function hA(e,t,r){var n=iA.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function fA(e,t,r){var n=iA.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function pA(e,t,r){var n=iA.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function mA(e,t,r){var n=iA.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function gA(e,t,r){var n=iA.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function yA(e,t,r){var n=iA.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function vA(e,t,r){var n=iA.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function xA(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function bA(e,t,r){var n=iA.exec(t.slice(r,r+1));return n?(e.q=3*n[0]-3,r+n[0].length):-1}function wA(e,t,r){var n=iA.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function kA(e,t,r){var n=iA.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function jA(e,t,r){var n=iA.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function NA(e,t,r){var n=iA.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function SA(e,t,r){var n=iA.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function EA(e,t,r){var n=iA.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function AA(e,t,r){var n=iA.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function _A(e,t,r){var n=iA.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function CA(e,t,r){var n=sA.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function TA(e,t,r){var n=iA.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function IA(e,t,r){var n=iA.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function OA(e,t){return lA(e.getDate(),t,2)}function PA(e,t){return lA(e.getHours(),t,2)}function DA(e,t){return lA(e.getHours()%12||12,t,2)}function MA(e,t){return lA(1+NE.count(qE(e),e),t,3)}function RA(e,t){return lA(e.getMilliseconds(),t,3)}function LA(e,t){return RA(e,t)+"000"}function FA(e,t){return lA(e.getMonth()+1,t,2)}function zA(e,t){return lA(e.getMinutes(),t,2)}function UA(e,t){return lA(e.getSeconds(),t,2)}function VA(e){var t=e.getDay();return 0===t?7:t}function BA(e,t){return lA(_E.count(qE(e)-1,e),t,2)}function $A(e){var t=e.getDay();return t>=4||0===t?OE(e):OE.ceil(e)}function HA(e,t){return e=$A(e),lA(OE.count(qE(e),e)+(4===qE(e).getDay()),t,2)}function qA(e){return e.getDay()}function KA(e,t){return lA(CE.count(qE(e)-1,e),t,2)}function WA(e,t){return lA(e.getFullYear()%100,t,2)}function GA(e,t){return lA((e=$A(e)).getFullYear()%100,t,2)}function YA(e,t){return lA(e.getFullYear()%1e4,t,4)}function QA(e,t){var r=e.getDay();return lA((e=r>=4||0===r?OE(e):OE.ceil(e)).getFullYear()%1e4,t,4)}function XA(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+lA(t/60|0,"0",2)+lA(t%60,"0",2)}function JA(e,t){return lA(e.getUTCDate(),t,2)}function ZA(e,t){return lA(e.getUTCHours(),t,2)}function e_(e,t){return lA(e.getUTCHours()%12||12,t,2)}function t_(e,t){return lA(1+SE.count(KE(e),e),t,3)}function r_(e,t){return lA(e.getUTCMilliseconds(),t,3)}function n_(e,t){return r_(e,t)+"000"}function a_(e,t){return lA(e.getUTCMonth()+1,t,2)}function i_(e,t){return lA(e.getUTCMinutes(),t,2)}function s_(e,t){return lA(e.getUTCSeconds(),t,2)}function o_(e){var t=e.getUTCDay();return 0===t?7:t}function l_(e,t){return lA(RE.count(KE(e)-1,e),t,2)}function c_(e){var t=e.getUTCDay();return t>=4||0===t?UE(e):UE.ceil(e)}function u_(e,t){return e=c_(e),lA(UE.count(KE(e),e)+(4===KE(e).getUTCDay()),t,2)}function d_(e){return e.getUTCDay()}function h_(e,t){return lA(LE.count(KE(e)-1,e),t,2)}function f_(e,t){return lA(e.getUTCFullYear()%100,t,2)}function p_(e,t){return lA((e=c_(e)).getUTCFullYear()%100,t,2)}function m_(e,t){return lA(e.getUTCFullYear()%1e4,t,4)}function g_(e,t){var r=e.getUTCDay();return lA((e=r>=4||0===r?UE(e):UE.ceil(e)).getUTCFullYear()%1e4,t,4)}function y_(){return"+0000"}function v_(){return"%"}function x_(e){return+e}function b_(e){return Math.floor(+e/1e3)}function w_(e){return new Date(e)}function k_(e){return e instanceof Date?+e:+new Date(+e)}function j_(e,t,r,n,a,i,s,o,l,c){var u=uS(),d=u.invert,h=u.domain,f=c(".%L"),p=c(":%S"),m=c("%I:%M"),g=c("%I %p"),y=c("%a %d"),v=c("%b %d"),x=c("%B"),b=c("%Y");function w(e){return(l(e)<e?f:o(e)<e?p:s(e)<e?m:i(e)<e?g:n(e)<e?a(e)<e?y:v:r(e)<e?x:b)(e)}return u.invert=function(e){return new Date(d(e))},u.domain=function(e){return arguments.length?h(Array.from(e,k_)):h().map(w_)},u.ticks=function(t){var r=h();return e(r[0],r[r.length-1],null==t?10:t)},u.tickFormat=function(e,t){return null==t?w:c(t)},u.nice=function(e){var r=h();return e&&"function"===typeof e.range||(e=t(r[0],r[r.length-1],null==e?10:e)),e?h(TS(r,e)):u},u.copy=function(){return lS(u,j_(e,t,r,n,a,i,s,o,l,c))},u}function N_(){return Oj.apply(j_(QE,XE,qE,$E,_E,NE,kE,bE,xE,rA).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function S_(){return Oj.apply(j_(GE,YE,KE,HE,RE,SE,jE,wE,xE,nA).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function E_(){var e,t,r,n,a,i=0,s=1,o=aS,l=!1;function c(t){return null==t||isNaN(t=+t)?a:o(0===r?.5:(t=(n(t)-e)*r,l?Math.max(0,Math.min(1,t)):t))}function u(e){return function(t){var r,n;return arguments.length?([r,n]=t,o=e(r,n),c):[o(0),o(1)]}}return c.domain=function(a){return arguments.length?([i,s]=a,e=n(i=+i),t=n(s=+s),r=e===t?0:1/(t-e),c):[i,s]},c.clamp=function(e){return arguments.length?(l=!!e,c):l},c.interpolator=function(e){return arguments.length?(o=e,c):o},c.range=u(eS),c.rangeRound=u(tS),c.unknown=function(e){return arguments.length?(a=e,c):a},function(a){return n=a,e=a(i),t=a(s),r=e===t?0:1/(t-e),c}}function A_(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function __(){var e=AS(E_()(aS));return e.copy=function(){return A_(e,__())},Pj.apply(e,arguments)}function C_(){var e=LS(E_()).domain([1,10]);return e.copy=function(){return A_(e,C_()).base(e.base())},Pj.apply(e,arguments)}function T_(){var e=VS(E_());return e.copy=function(){return A_(e,T_()).constant(e.constant())},Pj.apply(e,arguments)}function I_(){var e=KS(E_());return e.copy=function(){return A_(e,I_()).exponent(e.exponent())},Pj.apply(e,arguments)}function O_(){return I_.apply(null,arguments).exponent(.5)}function P_(){var e=[],t=aS;function r(r){if(null!=r&&!isNaN(r=+r))return t((aN(e,r,1)-1)/(e.length-1))}return r.domain=function(t){if(!arguments.length)return e.slice();e=[];for(let r of t)null==r||isNaN(r=+r)||e.push(r);return e.sort(Xj),r},r.interpolator=function(e){return arguments.length?(t=e,r):t},r.range=function(){return e.map((r,n)=>t(n/(e.length-1)))},r.quantiles=function(t){return Array.from({length:t+1},(r,n)=>nE(e,n/t))},r.copy=function(){return P_(t).domain(e)},Pj.apply(r,arguments)}function D_(){var e,t,r,n,a,i,s,o=0,l=.5,c=1,u=1,d=aS,h=!1;function f(e){return isNaN(e=+e)?s:(e=.5+((e=+i(e))-t)*(u*e<u*t?n:a),d(h?Math.max(0,Math.min(1,e)):e))}function p(e){return function(t){var r,n,a;return arguments.length?([r,n,a]=t,d=function(e,t){void 0===t&&(t=e,e=eS);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(e){var t=Math.max(0,Math.min(n-1,Math.floor(e*=n)));return i[t](e-t)}}(e,[r,n,a]),f):[d(0),d(.5),d(1)]}}return f.domain=function(s){return arguments.length?([o,l,c]=s,e=i(o=+o),t=i(l=+l),r=i(c=+c),n=e===t?0:.5/(t-e),a=t===r?0:.5/(r-t),u=t<e?-1:1,f):[o,l,c]},f.clamp=function(e){return arguments.length?(h=!!e,f):h},f.interpolator=function(e){return arguments.length?(d=e,f):d},f.range=p(eS),f.rangeRound=p(tS),f.unknown=function(e){return arguments.length?(s=e,f):s},function(s){return i=s,e=s(o),t=s(l),r=s(c),n=e===t?0:.5/(t-e),a=t===r?0:.5/(r-t),u=t<e?-1:1,f}}function M_(){var e=AS(D_()(aS));return e.copy=function(){return A_(e,M_())},Pj.apply(e,arguments)}function R_(){var e=LS(D_()).domain([.1,1,10]);return e.copy=function(){return A_(e,R_()).base(e.base())},Pj.apply(e,arguments)}function L_(){var e=VS(D_());return e.copy=function(){return A_(e,L_()).constant(e.constant())},Pj.apply(e,arguments)}function F_(){var e=KS(D_());return e.copy=function(){return A_(e,F_()).exponent(e.exponent())},Pj.apply(e,arguments)}function z_(){return F_.apply(null,arguments).exponent(.5)}!function(e){tA=function(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,s=e.shortDays,o=e.months,l=e.shortMonths,c=uA(a),u=dA(a),d=uA(i),h=dA(i),f=uA(s),p=dA(s),m=uA(o),g=dA(o),y=uA(l),v=dA(l),x={a:function(e){return s[e.getDay()]},A:function(e){return i[e.getDay()]},b:function(e){return l[e.getMonth()]},B:function(e){return o[e.getMonth()]},c:null,d:OA,e:OA,f:LA,g:GA,G:QA,H:PA,I:DA,j:MA,L:RA,m:FA,M:zA,p:function(e){return a[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:x_,s:b_,S:UA,u:VA,U:BA,V:HA,w:qA,W:KA,x:null,X:null,y:WA,Y:YA,Z:XA,"%":v_},b={a:function(e){return s[e.getUTCDay()]},A:function(e){return i[e.getUTCDay()]},b:function(e){return l[e.getUTCMonth()]},B:function(e){return o[e.getUTCMonth()]},c:null,d:JA,e:JA,f:n_,g:p_,G:g_,H:ZA,I:e_,j:t_,L:r_,m:a_,M:i_,p:function(e){return a[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:x_,s:b_,S:s_,u:o_,U:l_,V:u_,w:d_,W:h_,x:null,X:null,y:f_,Y:m_,Z:y_,"%":v_},w={a:function(e,t,r){var n=f.exec(t.slice(r));return n?(e.w=p.get(n[0].toLowerCase()),r+n[0].length):-1},A:function(e,t,r){var n=d.exec(t.slice(r));return n?(e.w=h.get(n[0].toLowerCase()),r+n[0].length):-1},b:function(e,t,r){var n=y.exec(t.slice(r));return n?(e.m=v.get(n[0].toLowerCase()),r+n[0].length):-1},B:function(e,t,r){var n=m.exec(t.slice(r));return n?(e.m=g.get(n[0].toLowerCase()),r+n[0].length):-1},c:function(e,r,n){return N(e,t,r,n)},d:kA,e:kA,f:_A,g:vA,G:yA,H:NA,I:NA,j:jA,L:AA,m:wA,M:SA,p:function(e,t,r){var n=c.exec(t.slice(r));return n?(e.p=u.get(n[0].toLowerCase()),r+n[0].length):-1},q:bA,Q:TA,s:IA,S:EA,u:fA,U:pA,V:mA,w:hA,W:gA,x:function(e,t,n){return N(e,r,t,n)},X:function(e,t,r){return N(e,n,t,r)},y:vA,Y:yA,Z:xA,"%":CA};function k(e,t){return function(r){var n,a,i,s=[],o=-1,l=0,c=e.length;for(r instanceof Date||(r=new Date(+r));++o<c;)37===e.charCodeAt(o)&&(s.push(e.slice(l,o)),null!=(a=aA[n=e.charAt(++o)])?n=e.charAt(++o):a="e"===n?" ":"0",(i=t[n])&&(n=i(r,a)),s.push(n),l=o+1);return s.push(e.slice(l,o)),s.join("")}}function j(e,t){return function(r){var n,a,i=eA(1900,void 0,1);if(N(i,e,r+="",0)!=r.length)return null;if("Q"in i)return new Date(i.Q);if("s"in i)return new Date(1e3*i.s+("L"in i?i.L:0));if(t&&!("Z"in i)&&(i.Z=0),"p"in i&&(i.H=i.H%12+12*i.p),void 0===i.m&&(i.m="q"in i?i.q:0),"V"in i){if(i.V<1||i.V>53)return null;"w"in i||(i.w=1),"Z"in i?(a=(n=ZE(eA(i.y,0,1))).getUTCDay(),n=a>4||0===a?LE.ceil(n):LE(n),n=SE.offset(n,7*(i.V-1)),i.y=n.getUTCFullYear(),i.m=n.getUTCMonth(),i.d=n.getUTCDate()+(i.w+6)%7):(a=(n=JE(eA(i.y,0,1))).getDay(),n=a>4||0===a?CE.ceil(n):CE(n),n=NE.offset(n,7*(i.V-1)),i.y=n.getFullYear(),i.m=n.getMonth(),i.d=n.getDate()+(i.w+6)%7)}else("W"in i||"U"in i)&&("w"in i||(i.w="u"in i?i.u%7:"W"in i?1:0),a="Z"in i?ZE(eA(i.y,0,1)).getUTCDay():JE(eA(i.y,0,1)).getDay(),i.m=0,i.d="W"in i?(i.w+6)%7+7*i.W-(a+5)%7:i.w+7*i.U-(a+6)%7);return"Z"in i?(i.H+=i.Z/100|0,i.M+=i.Z%100,ZE(i)):JE(i)}}function N(e,t,r,n){for(var a,i,s=0,o=t.length,l=r.length;s<o;){if(n>=l)return-1;if(37===(a=t.charCodeAt(s++))){if(a=t.charAt(s++),!(i=w[a in aA?t.charAt(s++):a])||(n=i(e,r,n))<0)return-1}else if(a!=r.charCodeAt(n++))return-1}return n}return x.x=k(r,x),x.X=k(n,x),x.c=k(t,x),b.x=k(r,b),b.X=k(n,b),b.c=k(t,b),{format:function(e){var t=k(e+="",x);return t.toString=function(){return e},t},parse:function(e){var t=j(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=k(e+="",b);return t.toString=function(){return e},t},utcParse:function(e){var t=j(e+="",!0);return t.toString=function(){return e},t}}}(e),rA=tA.format,tA.parse,nA=tA.utcFormat,tA.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var U_=e=>e.chartData,V_=ck([U_],e=>{var t=null!=e.chartData?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),B_=(e,t,r,n)=>n?V_(e):U_(e);function $_(e){return Number.isFinite(e)}function H_(e){return"number"===typeof e&&e>0&&Number.isFinite(e)}function q_(e){if(Array.isArray(e)&&2===e.length){var[t,r]=e;if($_(t)&&$_(r))return!0}return!1}function K_(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}var W_=r(8210),G_=r.n(W_),Y_=e=>e,Q_={"@@functional/placeholder":!0},X_=e=>e===Q_,J_=e=>function t(){return 0===arguments.length||1===arguments.length&&X_(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},Z_=(e,t)=>1===e?t:J_(function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];var i=n.filter(e=>e!==Q_).length;return i>=e?t(...n):Z_(e-i,J_(function(){for(var e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];var i=n.map(e=>X_(e)?r.shift():e);return t(...i,...r)}))}),eC=e=>Z_(e.length,e),tC=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},rC=eC((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(e=>t[e]).map(e)),nC=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),aC=e=>{var t=null,r=null;return function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return t&&a.every((e,r)=>{var n;return e===(null===(n=t)||void 0===n?void 0:n[r])})?r:(t=a,r=e(...a))}};function iC(e){return 0===e?1:Math.floor(new(G_())(e).abs().log(10).toNumber())+1}function sC(e,t,r){for(var n=new(G_())(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}eC((e,t,r)=>{var n=+e;return n+r*(+t-n)}),eC((e,t,r)=>{var n=t-+e;return(r-e)/(n=n||1/0)}),eC((e,t,r)=>{var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});var oC=e=>{var[t,r]=e,[n,a]=[t,r];return t>r&&([n,a]=[r,t]),[n,a]},lC=(e,t,r)=>{if(e.lte(0))return new(G_())(0);var n=iC(e.toNumber()),a=new(G_())(10).pow(n),i=e.div(a),s=1!==n?.05:.1,o=new(G_())(Math.ceil(i.div(s).toNumber())).add(r).mul(s).mul(a);return t?new(G_())(o.toNumber()):new(G_())(Math.ceil(o.toNumber()))},cC=(e,t,r)=>{var n=new(G_())(1),a=new(G_())(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new(G_())(10).pow(iC(e)-1),a=new(G_())(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new(G_())(Math.floor(e)))}else 0===e?a=new(G_())(Math.floor((t-1)/2)):r||(a=new(G_())(Math.floor(e)));var s=Math.floor((t-1)/2);return function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(!t.length)return Y_;var n=t.reverse(),a=n[0],i=n.slice(1);return function(){return i.reduce((e,t)=>t(e),a(...arguments))}}(rC(e=>a.add(new(G_())(e-s).mul(n)).toNumber()),tC)(0,t)},uC=function(e,t,r,n){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new(G_())(0),tickMin:new(G_())(0),tickMax:new(G_())(0)};var i,s=lC(new(G_())(t).sub(e).div(r-1),n,a);i=e<=0&&t>=0?new(G_())(0):(i=new(G_())(e).add(t).div(2)).sub(new(G_())(i).mod(s));var o=Math.ceil(i.sub(e).div(s).toNumber()),l=Math.ceil(new(G_())(t).sub(i).div(s).toNumber()),c=o+l+1;return c>r?uC(e,t,r,n,a+1):(c<r&&(l=t>0?l+(r-c):l,o=t>0?o:o+(r-c)),{step:s,tickMin:i.sub(new(G_())(o).mul(s)),tickMax:i.add(new(G_())(l).mul(s))})};var dC=aC(function(e){var[t,r]=e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=Math.max(n,2),[s,o]=oC([t,r]);if(s===-1/0||o===1/0){var l=o===1/0?[s,...tC(0,n-1).map(()=>1/0)]:[...tC(0,n-1).map(()=>-1/0),o];return t>r?nC(l):l}if(s===o)return cC(s,n,a);var{step:c,tickMin:u,tickMax:d}=uC(s,o,i,a,0),h=sC(u,d.add(new(G_())(.1).mul(c)),c);return t>r?nC(h):h}),hC=aC(function(e,t){var[r,n]=e,a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],[i,s]=oC([r,n]);if(i===-1/0||s===1/0)return[r,n];if(i===s)return[i];var o=Math.max(t,2),l=lC(new(G_())(s).sub(i).div(o-1),a,0),c=[...sC(new(G_())(i),new(G_())(s),l),s];return!1===a&&(c=c.map(e=>Math.round(e))),r>n?nC(c):c}),fC=e=>e.rootProps.maxBarSize,pC=e=>e.rootProps.barCategoryGap,mC=e=>e.rootProps.stackOffset,gC=e=>e.options.chartName,yC=e=>e.rootProps.syncId,vC=e=>e.rootProps.syncMethod,xC=e=>e.options.eventEmitter,bC=0,wC="auto",kC=!0,jC=!1,NC=!0,SC=0,EC="auto",AC=!0,_C=5,CC=(e,t)=>{if(e&&t)return null!==e&&void 0!==e&&e.reversed?[t[1],t[0]]:t},TC={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:bC,includeHidden:!1,name:void 0,reversed:!1,scale:wC,tick:kC,tickCount:void 0,ticks:void 0,type:"category",unit:void 0},IC={allowDataOverflow:jC,allowDecimals:!1,allowDuplicatedCategory:NC,dataKey:void 0,domain:void 0,id:SC,includeHidden:!1,name:void 0,reversed:!1,scale:EC,tick:AC,tickCount:_C,ticks:void 0,type:"number",unit:void 0},OC={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,dataKey:void 0,domain:void 0,id:bC,includeHidden:!1,name:void 0,reversed:!1,scale:wC,tick:kC,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},PC={allowDataOverflow:jC,allowDecimals:!1,allowDuplicatedCategory:NC,dataKey:void 0,domain:void 0,id:SC,includeHidden:!1,name:void 0,reversed:!1,scale:EC,tick:AC,tickCount:_C,ticks:void 0,type:"category",unit:void 0},DC=(e,t)=>null!=e.polarAxis.angleAxis[t]?e.polarAxis.angleAxis[t]:"radial"===e.layout.layoutType?OC:TC,MC=(e,t)=>null!=e.polarAxis.radiusAxis[t]?e.polarAxis.radiusAxis[t]:"radial"===e.layout.layoutType?PC:IC,RC=e=>e.polarOptions,LC=ck([aj,ij,mj],Mk),FC=ck([RC,LC],(e,t)=>{if(null!=e)return vv(e.innerRadius,t,0)}),zC=ck([RC,LC],(e,t)=>{if(null!=e)return vv(e.outerRadius,t,.8*t)}),UC=ck([RC],e=>{if(null==e)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]}),VC=(ck([DC,UC],CC),ck([LC,FC,zC],(e,t,r)=>{if(null!=e&&null!=t&&null!=r)return[t,r]})),BC=(ck([MC,VC],CC),ck([_j,RC,FC,zC,aj,ij],(e,t,r,n,a,i)=>{if(("centric"===e||"radial"===e)&&null!=t&&null!=r&&null!=n){var{cx:s,cy:o,startAngle:l,endAngle:c}=t;return{cx:vv(s,a,a/2),cy:vv(o,i,i/2),innerRadius:r,outerRadius:n,startAngle:l,endAngle:c,clockWise:!1}}})),$C=(e,t)=>t,HC=(e,t,r)=>r;function qC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function KC(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?qC(Object(r),!0).forEach(function(t){WC(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qC(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function WC(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var GC=[0,"auto"],YC={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},QC=(e,t)=>{var r=e.cartesianAxis.xAxis[t];return null==r?YC:r},XC={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:GC,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:60},JC=(e,t)=>{var r=e.cartesianAxis.yAxis[t];return null==r?XC:r},ZC={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},eT=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return null==r?ZC:r},tT=(e,t,r)=>{switch(t){case"xAxis":return QC(e,r);case"yAxis":return JC(e,r);case"zAxis":return eT(e,r);case"angleAxis":return DC(e,r);case"radiusAxis":return MC(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},rT=(e,t,r)=>{switch(t){case"xAxis":return QC(e,r);case"yAxis":return JC(e,r);case"angleAxis":return DC(e,r);case"radiusAxis":return MC(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},nT=e=>e.graphicalItems.countOfBars>0;function aT(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var iT=e=>e.graphicalItems.cartesianItems,sT=ck([$C,HC],aT),oT=(e,t,r)=>e.filter(r).filter(e=>!0===(null===t||void 0===t?void 0:t.includeHidden)||!e.hide),lT=ck([iT,tT,sT],oT),cT=e=>e.filter(e=>void 0===e.stackId),uT=ck([lT],cT),dT=e=>e.map(e=>e.data).filter(Boolean).flat(1),hT=ck([lT],dT),fT=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:a}=t;return e.length>0?e:r.slice(n,a+1)},pT=ck([hT,B_],fT),mT=(e,t,r)=>null!=(null===t||void 0===t?void 0:t.dataKey)?e.map(e=>({value:Bk(e,t.dataKey)})):r.length>0?r.map(e=>e.dataKey).flatMap(t=>e.map(e=>({value:Bk(e,t)}))):e.map(e=>({value:e})),gT=ck([pT,tT,lT],mT);function yT(e,t){switch(e){case"xAxis":return"x"===t.direction;case"yAxis":return"y"===t.direction;default:return!1}}function vT(e){return e.filter(e=>mv(e)||e instanceof Date).map(Number).filter(e=>!1===hv(e))}function xT(e,t,r){return!r||"number"!==typeof t||hv(t)?[]:r.length?vT(r.flatMap(r=>{var n,a,i=Bk(e,r.dataKey);if(Array.isArray(i)?[n,a]=i:n=a=i,$_(n)&&$_(a))return[t-n,t+a]})):[]}var bT=(e,t,r)=>{var n=t.reduce((e,t)=>(null==t.stackId||(null==e[t.stackId]&&(e[t.stackId]=[]),e[t.stackId].push(t)),e),{});return Object.fromEntries(Object.entries(n).map(t=>{var[n,a]=t,i=a.map(e=>e.dataKey);return[n,{stackedData:Gk(e,i,r),graphicalItems:a}]}))},wT=ck([pT,lT,mC],bT),kT=(e,t,r)=>{var{dataStartIndex:n,dataEndIndex:a}=t;if("zAxis"!==r){var i=Jk(e,n,a);if(null==i||0!==i[0]||0!==i[1])return i}},jT=ck([wT,U_,$C],kT),NT=(e,t,r,n)=>r.length>0?e.flatMap(e=>r.flatMap(r=>{var a,i,s=null===(a=r.errorBars)||void 0===a?void 0:a.filter(e=>yT(n,e)),o=Bk(e,null!==(i=t.dataKey)&&void 0!==i?i:r.dataKey);return{value:o,errorDomain:xT(e,o,s)}})).filter(Boolean):null!=(null===t||void 0===t?void 0:t.dataKey)?e.map(e=>({value:Bk(e,t.dataKey),errorDomain:[]})):e.map(e=>({value:e,errorDomain:[]})),ST=ck(pT,tT,uT,$C,NT);function ET(e){var{value:t}=e;if(mv(t)||t instanceof Date)return t}var AT=e=>{var t;if(null==e||!("domain"in e))return GC;if(null!=e.domain)return e.domain;if(null!=e.ticks){if("number"===e.type){var r=vT(e.ticks);return[Math.min(...r),Math.max(...r)]}if("category"===e.type)return e.ticks.map(String)}return null!==(t=null===e||void 0===e?void 0:e.domain)&&void 0!==t?t:GC},_T=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t.filter(Boolean);if(0!==n.length){var a=n.flat();return[Math.min(...a),Math.max(...a)]}},CT=e=>e.referenceElements.dots,TT=(e,t,r)=>e.filter(e=>"extendDomain"===e.ifOverflow).filter(e=>"xAxis"===t?e.xAxisId===r:e.yAxisId===r),IT=ck([CT,$C,HC],TT),OT=e=>e.referenceElements.areas,PT=ck([OT,$C,HC],TT),DT=e=>e.referenceElements.lines,MT=ck([DT,$C,HC],TT),RT=(e,t)=>{var r=vT(e.map(e=>"xAxis"===t?e.x:e.y));if(0!==r.length)return[Math.min(...r),Math.max(...r)]},LT=ck(IT,$C,RT),FT=(e,t)=>{var r=vT(e.flatMap(e=>["xAxis"===t?e.x1:e.y1,"xAxis"===t?e.x2:e.y2]));if(0!==r.length)return[Math.min(...r),Math.max(...r)]},zT=ck([PT,$C],FT),UT=(e,t)=>{var r=vT(e.map(e=>"xAxis"===t?e.x:e.y));if(0!==r.length)return[Math.min(...r),Math.max(...r)]},VT=ck(MT,$C,UT),BT=ck(LT,VT,zT,(e,t,r)=>_T(e,r,t)),$T=ck([tT],AT),HT=(e,t,r,n,a)=>{var i=function(e,t){if(t&&"function"!==typeof e&&Array.isArray(e)&&2===e.length){var r,n,[a,i]=e;if($_(a))r=a;else if("function"===typeof a)return;if($_(i))n=i;else if("function"===typeof i)return;var s=[r,n];if(q_(s))return s}}(t,e.allowDataOverflow);return null!=i?i:function(e,t,r){if(r||null!=t){if("function"===typeof e&&null!=t)try{var n=e(t,r);if(q_(n))return K_(n,t,r)}catch(f){}if(Array.isArray(e)&&2===e.length){var a,i,[s,o]=e;if("auto"===s)null!=t&&(a=Math.min(...t));else if(pv(s))a=s;else if("function"===typeof s)try{null!=t&&(a=s(null===t||void 0===t?void 0:t[0]))}catch(p){}else if("string"===typeof s&&Zk.test(s)){var l=Zk.exec(s);if(null==l||null==t)a=void 0;else{var c=+l[1];a=t[0]-c}}else a=null===t||void 0===t?void 0:t[0];if("auto"===o)null!=t&&(i=Math.max(...t));else if(pv(o))i=o;else if("function"===typeof o)try{null!=t&&(i=o(null===t||void 0===t?void 0:t[1]))}catch(m){}else if("string"===typeof o&&ej.test(o)){var u=ej.exec(o);if(null==u||null==t)i=void 0;else{var d=+u[1];i=t[1]+d}}else i=null===t||void 0===t?void 0:t[1];var h=[a,i];if(q_(h))return null==t?h:K_(h,t,r)}}}(t,_T(r,a,(e=>{var t=vT(e.flatMap(e=>[e.value,e.errorDomain]).flat(1));if(0!==t.length)return[Math.min(...t),Math.max(...t)]})(n)),e.allowDataOverflow)},qT=ck([tT,$T,jT,ST,BT],HT),KT=[0,1],WT=(e,t,r,n,a,i,s)=>{if(null!=e&&null!=r&&0!==r.length){var{dataKey:o,type:l}=e,c=$k(t,i);return c&&null==o?Ij()(0,r.length):"category"===l?((e,t,r)=>{var n=e.map(ET).filter(e=>null!=e);return r&&(null==t.dataKey||t.allowDuplicatedCategory&&xv(n))?Ij()(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))})(n,e,c):"expand"===a?KT:s}},GT=ck([tT,_j,pT,gT,mC,$C,qT],WT),YT=(t,r,n,a,i)=>{if(null!=t){var{scale:s,type:o}=t;if("auto"===s)return"radial"===r&&"radiusAxis"===i?"band":"radial"===r&&"angleAxis"===i?"linear":"category"===o&&a&&(a.indexOf("LineChart")>=0||a.indexOf("AreaChart")>=0||a.indexOf("ComposedChart")>=0&&!n)?"point":"category"===o?"band":"linear";if("string"===typeof s){var l="scale".concat(Nv(s));return l in e?l:"point"}}},QT=ck([tT,_j,nT,gC,$C],YT);function XT(t,r,n,a){if(null!=n&&null!=a){if("function"===typeof t.scale)return t.scale.copy().domain(n).range(a);var i=function(t){if(null!=t){if(t in e)return e[t]();var r="scale".concat(Nv(t));return r in e?e[r]():void 0}}(r);if(null!=i){var s=i.domain(n).range(a);return(e=>{var t=e.domain();if(t&&!(t.length<=2)){var r=t.length,n=e.range(),a=Math.min(n[0],n[1])-Kk,i=Math.max(n[0],n[1])+Kk,s=e(t[0]),o=e(t[r-1]);(s<a||s>i||o<a||o>i)&&e.domain([t[0],t[r-1]])}})(s),s}}}var JT=(e,t,r)=>{var n=AT(t);if("auto"===r||"linear"===r)return null!=t&&t.tickCount&&Array.isArray(n)&&("auto"===n[0]||"auto"===n[1])&&q_(e)?dC(e,t.tickCount,t.allowDecimals):null!=t&&t.tickCount&&"number"===t.type&&q_(e)?hC(e,t.tickCount,t.allowDecimals):void 0},ZT=ck([GT,rT,QT],JT),eI=(e,t,r,n)=>{if("angleAxis"!==n&&"number"===(null===e||void 0===e?void 0:e.type)&&q_(t)&&Array.isArray(r)&&r.length>0){var a=t[0],i=r[0],s=t[1],o=r[r.length-1];return[Math.min(a,i),Math.max(s,o)]}return t},tI=ck([tT,GT,ZT,$C],eI),rI=ck(gT,tT,(e,t)=>{if(t&&"number"===t.type){var r=1/0,n=Array.from(vT(e.map(e=>e.value))).sort((e,t)=>e-t);if(n.length<2)return 1/0;var a=n[n.length-1]-n[0];if(0===a)return 1/0;for(var i=0;i<n.length-1;i++){var s=n[i+1]-n[i];r=Math.min(r,s)}return r/a}}),nI=ck(rI,_j,pC,mj,(e,t,r,n)=>n,(e,t,r,n,a)=>{if(!$_(e))return 0;var i="vertical"===t?n.height:n.width;if("gap"===a)return e*i/2;if("no-gap"===a){var s=vv(r,e*i),o=e*i/2;return o-s-(o-s)/i*s}return 0}),aI=ck(QC,(e,t)=>{var r=QC(e,t);return null==r||"string"!==typeof r.padding?0:nI(e,"xAxis",t,r.padding)},(e,t)=>{var r,n;if(null==e)return{left:0,right:0};var{padding:a}=e;return"string"===typeof a?{left:t,right:t}:{left:(null!==(r=a.left)&&void 0!==r?r:0)+t,right:(null!==(n=a.right)&&void 0!==n?n:0)+t}}),iI=ck(JC,(e,t)=>{var r=JC(e,t);return null==r||"string"!==typeof r.padding?0:nI(e,"yAxis",t,r.padding)},(e,t)=>{var r,n;if(null==e)return{top:0,bottom:0};var{padding:a}=e;return"string"===typeof a?{top:t,bottom:t}:{top:(null!==(r=a.top)&&void 0!==r?r:0)+t,bottom:(null!==(n=a.bottom)&&void 0!==n?n:0)+t}}),sI=ck([mj,aI,wj,bj,(e,t,r)=>r],(e,t,r,n,a)=>{var{padding:i}=n;return a?[i.left,r.width-i.right]:[e.left+t.left,e.left+e.width-t.right]}),oI=ck([mj,_j,iI,wj,bj,(e,t,r)=>r],(e,t,r,n,a,i)=>{var{padding:s}=a;return i?[n.height-s.bottom,s.top]:"horizontal"===t?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),lI=(e,t,r,n)=>{var a;switch(t){case"xAxis":return sI(e,r,n);case"yAxis":return oI(e,r,n);case"zAxis":return null===(a=eT(e,r))||void 0===a?void 0:a.range;case"angleAxis":return UC(e);case"radiusAxis":return VC(e,r);default:return}},cI=ck([tT,lI],CC),uI=ck([tT,QT,tI,cI],XT);ck(lT,$C,(e,t)=>e.flatMap(e=>{var t;return null!==(t=e.errorBars)&&void 0!==t?t:[]}).filter(e=>yT(t,e)));function dI(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var hI=(e,t)=>t,fI=(e,t,r)=>r,pI=ck(lj,hI,fI,(e,t,r)=>e.filter(e=>e.orientation===t).filter(e=>e.mirror===r).sort(dI)),mI=ck(cj,hI,fI,(e,t,r)=>e.filter(e=>e.orientation===t).filter(e=>e.mirror===r).sort(dI)),gI=(e,t)=>({width:e.width,height:t.height}),yI=ck(mj,QC,gI),vI=ck(ij,mj,pI,hI,fI,(e,t,r,n,a)=>{var i,s={};return r.forEach(r=>{var o=gI(t,r);null==i&&(i=((e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}})(t,n,e));var l="top"===n&&!a||"bottom"===n&&a;s[r.id]=i-Number(l)*o.height,i+=(l?-1:1)*o.height}),s}),xI=ck(aj,mj,mI,hI,fI,(e,t,r,n,a)=>{var i,s={};return r.forEach(r=>{var o=((e,t)=>({width:"number"===typeof t.width?t.width:60,height:e.height}))(t,r);null==i&&(i=((e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}})(t,n,e));var l="left"===n&&!a||"right"===n&&a;s[r.id]=i-Number(l)*o.width,i+=(l?-1:1)*o.width}),s}),bI=ck(mj,JC,(e,t)=>({width:"number"===typeof t.width?t.width:60,height:e.height})),wI=(e,t,r)=>{switch(t){case"xAxis":return yI(e,r).width;case"yAxis":return bI(e,r).height;default:return}},kI=(e,t,r,n)=>{if(null!=r){var{allowDuplicatedCategory:a,type:i,dataKey:s}=r,o=$k(e,n),l=t.map(e=>e.value);return s&&o&&"category"===i&&a&&xv(l)?l:void 0}},jI=ck([_j,gT,tT,$C],kI),NI=(e,t,r,n)=>{if(null!=r&&null!=r.dataKey){var{type:a,scale:i}=r;return!$k(e,n)||"number"!==a&&"auto"===i?void 0:t.map(e=>e.value)}},SI=ck([_j,gT,rT,$C],NI),EI=ck([_j,(e,t,r)=>{switch(t){case"xAxis":return QC(e,r);case"yAxis":return JC(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},QT,uI,jI,SI,lI,ZT,$C],(e,t,r,n,a,i,s,o,l)=>{if(null==t)return null;var c=$k(e,l);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:l,categoricalDomain:i,duplicateDomain:a,isCategorical:c,niceTicks:o,range:s,realScaleType:r,scale:n}}),AI=ck([_j,rT,QT,uI,ZT,lI,jI,SI,$C],(e,t,r,n,a,i,s,o,l)=>{if(null!=t&&null!=n){var c=$k(e,l),{type:u,ticks:d,tickCount:h}=t,f="scaleBand"===r&&"function"===typeof n.bandwidth?n.bandwidth()/2:2,p="category"===u&&n.bandwidth?n.bandwidth()/f:0;p="angleAxis"===l&&null!=i&&i.length>=2?2*dv(i[0]-i[1])*p:p;var m=d||a;return m?m.map((e,t)=>{var r=s?s.indexOf(e):e;return{index:t,coordinate:n(r)+p,value:e,offset:p}}).filter(e=>!hv(e.coordinate)):c&&o?o.map((e,t)=>({coordinate:n(e)+p,value:e,index:t,offset:p})):n.ticks?n.ticks(h).map(e=>({coordinate:n(e)+p,value:e,offset:p})):n.domain().map((e,t)=>({coordinate:n(e)+p,value:s?s[e]:e,index:t,offset:p}))}}),_I=ck([_j,rT,uI,lI,jI,SI,$C],(e,t,r,n,a,i,s)=>{if(null!=t&&null!=r&&null!=n&&n[0]!==n[1]){var o=$k(e,s),{tickCount:l}=t,c=0;return c="angleAxis"===s&&(null===n||void 0===n?void 0:n.length)>=2?2*dv(n[0]-n[1])*c:c,o&&i?i.map((e,t)=>({coordinate:r(e)+c,value:e,index:t,offset:c})):r.ticks?r.ticks(l).map(e=>({coordinate:r(e)+c,value:e,offset:c})):r.domain().map((e,t)=>({coordinate:r(e)+c,value:a?a[e]:e,index:t,offset:c}))}}),CI=ck(tT,uI,(e,t)=>{if(null!=e&&null!=t)return KC(KC({},e),{},{scale:t})}),TI=ck([tT,QT,GT,cI],XT),II=(ck((e,t,r)=>eT(e,r),TI,(e,t)=>{if(null!=e&&null!=t)return KC(KC({},e),{},{scale:t})}),ck([_j,lj,cj],(e,t,r)=>{switch(e){case"horizontal":return t.some(e=>e.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(e=>e.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}})),OI=e=>e.options.defaultTooltipEventType,PI=e=>e.options.validateTooltipEventTypes;function DI(e,t,r){if(null==e)return t;var n=e?"axis":"item";return null==r?t:r.includes(n)?n:t}function MI(e,t){return DI(t,OI(e),PI(e))}var RI=(e,t)=>{var r,n=Number(t);if(!hv(n)&&null!=t)return n>=0?null===e||void 0===e||null===(r=e[n])||void 0===r?void 0:r.value:void 0};function LI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function FI(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?LI(Object(r),!0).forEach(function(t){zI(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LI(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function zI(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var UI=(e,t,r,n)=>{if(null==t)return Iw;var a=function(e,t,r){return"axis"===t?"click"===r?e.axisInteraction.click:e.axisInteraction.hover:"click"===r?e.itemInteraction.click:e.itemInteraction.hover}(e,t,r);if(null==a)return Iw;if(a.active)return a;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&null!=e.syncInteraction.index)return e.syncInteraction;var i=!0===e.settings.active;if(null!=a.index){if(i)return FI(FI({},a),{},{active:!0})}else if(null!=n)return{active:!0,coordinate:void 0,dataKey:void 0,index:n};return FI(FI({},Iw),{},{coordinate:a.coordinate})},VI=(e,t)=>{var r=null===e||void 0===e?void 0:e.index;if(null==r)return null;var n=Number(r);if(!$_(n))return r;var a=1/0;return t.length>0&&(a=t.length-1),String(Math.max(0,Math.min(n,a)))},BI=(e,t,r,n,a,i,s,o)=>{if(null!=i&&null!=o){var l=s[0],c=null==l?void 0:o(l.positions,i);if(null!=c)return c;var u=null===a||void 0===a?void 0:a[Number(i)];if(u)return"horizontal"===r?{x:u.coordinate,y:(n.top+t)/2}:{x:(n.left+e)/2,y:u.coordinate}}},$I=(e,t,r,n)=>{return"axis"===t?e.tooltipItemPayloads:0===e.tooltipItemPayloads.length?[]:null==(a="hover"===r?e.itemInteraction.hover.dataKey:e.itemInteraction.click.dataKey)&&null!=n?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(e=>{var t;return(null===(t=e.settings)||void 0===t?void 0:t.dataKey)===a});var a},HI=e=>e.options.tooltipPayloadSearcher,qI=e=>e.tooltip;function KI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function WI(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?KI(Object(r),!0).forEach(function(t){GI(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KI(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function GI(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var YI=(e,t,r,n,a,i,s)=>{if(null!=t&&null!=i){var{chartData:o,computedData:l,dataStartIndex:c,dataEndIndex:u}=r;return e.reduce((e,r)=>{var d,h,f,p,m,g,{dataDefinedOnItem:y,settings:v}=r,x=function(e,t){return null!=e?e:t}(y,o),b=(h=x,f=c,p=u,Array.isArray(h)&&h&&f+p!==0?h.slice(f,p+1):h),w=null!==(d=null===v||void 0===v?void 0:v.dataKey)&&void 0!==d?d:null===n||void 0===n?void 0:n.dataKey,k=null===v||void 0===v?void 0:v.nameKey;(m=null!==n&&void 0!==n&&n.dataKey&&Array.isArray(b)&&!Array.isArray(b[0])&&"axis"===s?kv(b,n.dataKey,a):i(b,t,l,k),Array.isArray(m))?m.forEach(t=>{var r=WI(WI({},v),{},{name:t.name,unit:t.unit,color:void 0,fill:void 0});e.push(rj({tooltipEntrySettings:r,dataKey:t.dataKey,payload:t.payload,value:Bk(t.payload,t.dataKey),name:t.name}))}):e.push(rj({tooltipEntrySettings:v,dataKey:w,payload:m,value:Bk(m,w),name:null!==(g=Bk(m,k))&&void 0!==g?g:null===v||void 0===v?void 0:v.name}));return e},[])}},QI=e=>{var t=_j(e);return"horizontal"===t?"xAxis":"vertical"===t?"yAxis":"centric"===t?"angleAxis":"radiusAxis"},XI=e=>e.tooltip.settings.axisId,JI=e=>{var t=QI(e),r=XI(e);return rT(e,t,r)},ZI=ck([JI,_j,nT,gC,QI],YT),eO=ck([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),tO=ck([QI,XI],aT),rO=ck([eO,JI,tO],oT),nO=ck([rO],dT),aO=ck([nO,U_],fT),iO=ck([aO,JI,rO],mT),sO=ck([JI],AT),oO=ck([aO,rO,mC],bT),lO=ck([oO,U_,QI],kT),cO=ck([rO],cT),uO=ck([aO,JI,cO,QI],NT),dO=ck([CT,QI,XI],TT),hO=ck([dO,QI],RT),fO=ck([OT,QI,XI],TT),pO=ck([fO,QI],FT),mO=ck([DT,QI,XI],TT),gO=ck([mO,QI],UT),yO=ck([hO,gO,pO],_T),vO=ck([JI,sO,lO,uO,yO],HT),xO=ck([JI,_j,aO,iO,mC,QI,vO],WT),bO=ck([xO,JI,ZI],JT),wO=ck([JI,xO,bO,QI],eI),kO=e=>{var t=QI(e),r=XI(e);return lI(e,t,r,!1)},jO=ck([JI,kO],CC),NO=ck([JI,ZI,wO,jO],XT),SO=ck([_j,iO,JI,QI],kI),EO=ck([_j,iO,JI,QI],NI),AO=ck([_j,JI,ZI,NO,kO,SO,EO,QI],(e,t,r,n,a,i,s,o)=>{if(t){var{type:l}=t,c=$k(e,o);if(n){var u="scaleBand"===r&&n.bandwidth?n.bandwidth()/2:2,d="category"===l&&n.bandwidth?n.bandwidth()/u:0;return d="angleAxis"===o&&null!=a&&(null===a||void 0===a?void 0:a.length)>=2?2*dv(a[0]-a[1])*d:d,c&&s?s.map((e,t)=>({coordinate:n(e)+d,value:e,index:t,offset:d})):n.domain().map((e,t)=>({coordinate:n(e)+d,value:i?i[e]:e,index:t,offset:d}))}}}),_O=ck([OI,PI,e=>e.tooltip.settings],(e,t,r)=>DI(r.shared,e,t)),CO=e=>e.tooltip.settings.trigger,TO=e=>e.tooltip.settings.defaultIndex,IO=ck([qI,_O,CO,TO],UI),OO=ck([IO,aO],VI),PO=ck([AO,OO],RI),DO=ck([IO],e=>{if(e)return e.dataKey}),MO=ck([qI,_O,CO,TO],$I),RO=ck([aj,ij,_j,mj,AO,TO,MO,HI],BI),LO=ck([IO,RO],(e,t)=>null!==e&&void 0!==e&&e.coordinate?e.coordinate:t),FO=ck([IO],e=>e.active),zO=ck([MO,OO,U_,JI,PO,HI,_O],YI),UO=ck([zO],e=>{if(null!=e){var t=e.map(e=>e.payload).filter(e=>null!=e);return Array.from(new Set(t))}}),VO=()=>vk(gC),BO=(e,t)=>t,$O=(e,t,r)=>r,HO=(e,t,r,n)=>n,qO=ck(AO,e=>bk()(e,e=>e.coordinate)),KO=ck([qI,BO,$O,HO],UI),WO=ck([KO,aO],VI),GO=ck([qI,BO,$O,HO],$I),YO=ck([aj,ij,_j,mj,AO,HO,GO,HI],BI),QO=ck([KO,YO],(e,t)=>{var r;return null!==(r=e.coordinate)&&void 0!==r?r:t}),XO=ck(AO,WO,RI),JO=ck([GO,WO,U_,JI,XO,HI,BO],YI),ZO=ck([KO],e=>({isActive:e.active,activeIndex:e.index})),eP=ck([(e,t)=>t,_j,BC,QI,jO,AO,qO,mj],(e,t,r,n,a,i,s,o)=>{if(e&&t&&n&&a&&i){var l=function(e,t,r,n,a){return"horizontal"===r||"vertical"===r?e>=a.left&&e<=a.left+a.width&&t>=a.top&&t<=a.top+a.height?{x:e,y:t}:null:n?Fk({x:e,y:t},n):null}(e.chartX,e.chartY,t,r,o);if(l){var c=((e,t)=>"horizontal"===t?e.x:"vertical"===t?e.y:"centric"===t?e.angle:e.radius)(l,t),u=((e,t,r,n,a)=>{var i,s=-1,o=null!==(i=null===t||void 0===t?void 0:t.length)&&void 0!==i?i:0;if(o<=1||null==e)return 0;if("angleAxis"===n&&null!=a&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var l=0;l<o;l++){var c=l>0?r[l-1].coordinate:r[o-1].coordinate,u=r[l].coordinate,d=l>=o-1?r[0].coordinate:r[l+1].coordinate,h=void 0;if(dv(u-c)!==dv(d-u)){var f=[];if(dv(d-u)===dv(a[1]-a[0])){h=d;var p=u+a[1]-a[0];f[0]=Math.min(p,(p+c)/2),f[1]=Math.max(p,(p+c)/2)}else{h=c;var m=d+a[1]-a[0];f[0]=Math.min(u,(m+u)/2),f[1]=Math.max(u,(m+u)/2)}var g=[Math.min(u,(h+u)/2),Math.max(u,(h+u)/2)];if(e>g[0]&&e<=g[1]||e>=f[0]&&e<=f[1]){({index:s}=r[l]);break}}else{var y=Math.min(c,d),v=Math.max(c,d);if(e>(y+u)/2&&e<=(v+u)/2){({index:s}=r[l]);break}}}else if(t)for(var x=0;x<o;x++)if(0===x&&e<=(t[x].coordinate+t[x+1].coordinate)/2||x>0&&x<o-1&&e>(t[x].coordinate+t[x-1].coordinate)/2&&e<=(t[x].coordinate+t[x+1].coordinate)/2||x===o-1&&e>(t[x].coordinate+t[x-1].coordinate)/2){({index:s}=t[x]);break}return s})(c,s,i,n,a),d=((e,t,r,n)=>{var a=t.find(e=>e&&e.index===r);if(a){if("horizontal"===e)return{x:a.coordinate,y:n.y};if("vertical"===e)return{x:n.x,y:a.coordinate};if("centric"===e){var i=a.coordinate,{radius:s}=n;return Uk(Uk(Uk({},n),Dk(n.cx,n.cy,s,i)),{},{angle:i,radius:s})}var o=a.coordinate,{angle:l}=n;return Uk(Uk(Uk({},n),Dk(n.cx,n.cy,o,l)),{},{angle:l,radius:o})}return{x:0,y:0}})(t,i,u,l);return{activeIndex:String(u),activeCoordinate:d}}}}),tP=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},rP=Px("mouseClick"),nP=Eb();nP.startListening({actionCreator:rP,effect:(e,t)=>{var r=e.payload,n=eP(t.getState(),tP(r));null!=(null===n||void 0===n?void 0:n.activeIndex)&&t.dispatch(Vw({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var aP=Px("mouseMove"),iP=Eb();function sP(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":t}function oP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function lP(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?oP(Object(r),!0).forEach(function(t){cP(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oP(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function cP(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}iP.startListening({actionCreator:aP,effect:(e,t)=>{var r=e.payload,n=t.getState(),a=MI(n,n.tooltip.settings.shared),i=eP(n,tP(r));"axis"===a&&(null!=(null===i||void 0===i?void 0:i.activeIndex)?t.dispatch(Uw({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate})):t.dispatch(Fw()))}});var uP=Wx({name:"cartesianAxis",initialState:{xAxis:{},yAxis:{},zAxis:{}},reducers:{addXAxis(e,t){e.xAxis[t.payload.id]=t.payload},removeXAxis(e,t){delete e.xAxis[t.payload.id]},addYAxis(e,t){e.yAxis[t.payload.id]=t.payload},removeYAxis(e,t){delete e.yAxis[t.payload.id]},addZAxis(e,t){e.zAxis[t.payload.id]=t.payload},removeZAxis(e,t){delete e.zAxis[t.payload.id]},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload;e.yAxis[r]&&(e.yAxis[r]=lP(lP({},e.yAxis[r]),{},{width:n}))}}}),{addXAxis:dP,removeXAxis:hP,addYAxis:fP,removeYAxis:pP,addZAxis:mP,removeZAxis:gP,updateYAxisWidth:yP}=uP.actions,vP=uP.reducer,xP=Wx({name:"graphicalItems",initialState:{countOfBars:0,cartesianItems:[],polarItems:[]},reducers:{addBar(e){e.countOfBars+=1},removeBar(e){e.countOfBars-=1},addCartesianGraphicalItem(e,t){e.cartesianItems.push(t.payload)},replaceCartesianGraphicalItem(e,t){var{prev:r,next:n}=t.payload,a=_x(e).cartesianItems.indexOf(r);a>-1&&(e.cartesianItems[a]=n)},removeCartesianGraphicalItem(e,t){var r=_x(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},addPolarGraphicalItem(e,t){e.polarItems.push(t.payload)},removePolarGraphicalItem(e,t){var r=_x(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)}}}),{addBar:bP,removeBar:wP,addCartesianGraphicalItem:kP,replaceCartesianGraphicalItem:jP,removeCartesianGraphicalItem:NP,addPolarGraphicalItem:SP,removePolarGraphicalItem:EP}=xP.actions,AP=xP.reducer,_P=Wx({name:"referenceElements",initialState:{dots:[],areas:[],lines:[]},reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=_x(e).dots.findIndex(e=>e===t.payload);-1!==r&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=_x(e).areas.findIndex(e=>e===t.payload);-1!==r&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=_x(e).lines.findIndex(e=>e===t.payload);-1!==r&&e.lines.splice(r,1)}}}),{addDot:CP,removeDot:TP,addArea:IP,removeArea:OP,addLine:PP,removeLine:DP}=_P.actions,MP=_P.reducer,RP={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},LP=Wx({name:"brush",initialState:RP,reducers:{setBrushSettings:(e,t)=>null==t.payload?RP:t.payload}}),{setBrushSettings:FP}=LP.actions,zP=LP.reducer,UP=Wx({name:"legend",initialState:{settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload(e,t){e.payload.push(t.payload)},removeLegendPayload(e,t){var r=_x(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)}}}),{setLegendSize:VP,setLegendSettings:BP,addLegendPayload:$P,removeLegendPayload:HP}=UP.actions,qP=UP.reducer,KP={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},WP=Wx({name:"rootProps",initialState:KP,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=null!==(r=t.payload.barGap)&&void 0!==r?r:KP.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),GP=WP.reducer,{updateOptions:YP}=WP.actions,QP=Wx({name:"polarAxis",initialState:{radiusAxis:{},angleAxis:{}},reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:XP,removeRadiusAxis:JP,addAngleAxis:ZP,removeAngleAxis:eD}=QP.actions,tD=QP.reducer,rD=Wx({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:nD}=rD.actions,aD=rD.reducer,iD=Px("keyDown"),sD=Px("focus"),oD=Eb();oD.startListening({actionCreator:iD,effect:(e,t)=>{var r=t.getState();if(!1!==r.rootProps.accessibilityLayer){var{keyboardInteraction:n}=r.tooltip,a=e.payload;if("ArrowRight"===a||"ArrowLeft"===a||"Enter"===a){var i=Number(VI(n,aO(r))),s=AO(r);if("Enter"!==a){var o=i+("ArrowRight"===a?1:-1)*("left-to-right"===II(r)?1:-1);if(!(null==s||o>=s.length||o<0)){var l=YO(r,"axis","hover",String(o));t.dispatch($w({active:!0,activeIndex:o.toString(),activeDataKey:void 0,activeCoordinate:l}))}}else{var c=YO(r,"axis","hover",String(n.index));t.dispatch($w({active:!n.active,activeIndex:n.index,activeDataKey:n.dataKey,activeCoordinate:c}))}}}}}),oD.startListening({actionCreator:sD,effect:(e,t)=>{var r=t.getState();if(!1!==r.rootProps.accessibilityLayer){var{keyboardInteraction:n}=r.tooltip;if(!n.active&&null==n.index){var a=YO(r,"axis","hover",String("0"));t.dispatch($w({activeDataKey:void 0,active:!0,activeIndex:"0",activeCoordinate:a}))}}}});var lD=Px("externalEvent"),cD=Eb();cD.startListening({actionCreator:lD,effect:(e,t)=>{if(null!=e.payload.handler){var r=t.getState(),n={activeCoordinate:LO(r),activeDataKey:DO(r),activeIndex:OO(r),activeLabel:PO(r),activeTooltipIndex:OO(r),isTooltipActive:FO(r)};e.payload.handler(n,e.payload.reactEvent)}}});var uD=ck([qI],e=>e.tooltipItemPayloads),dD=ck([uD,HI,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,n)=>{var a=e.find(e=>e.settings.dataKey===n);if(null!=a){var{positions:i}=a;if(null!=i)return t(i,r)}}),hD=Px("touchMove"),fD=Eb();fD.startListening({actionCreator:hD,effect:(e,t)=>{var r=e.payload,n=t.getState(),a=MI(n,n.tooltip.settings.shared);if("axis"===a){var i=eP(n,tP({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));null!=(null===i||void 0===i?void 0:i.activeIndex)&&t.dispatch(Uw({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate}))}else if("item"===a){var s,o=r.touches[0],l=document.elementFromPoint(o.clientX,o.clientY);if(!l||!l.getAttribute)return;var c=l.getAttribute(uj),u=null!==(s=l.getAttribute(dj))&&void 0!==s?s:void 0,d=dD(t.getState(),c,u);t.dispatch(Rw({activeDataKey:u,activeIndex:c,activeCoordinate:d}))}}});var pD=Rv({brush:zP,cartesianAxis:vP,chartData:Yw,graphicalItems:AP,layout:tk,legend:qP,options:Tb,polarAxis:tD,polarOptions:aD,referenceElements:MP,rootProps:GP,tooltip:Hw});function mD(e){var{preloadedState:r,children:n,reduxStoreName:a}=e,i=xj(),s=(0,t.useRef)(null);if(i)return n;null==s.current&&(s.current=function(e){return Ux({reducer:pD,preloadedState:e,middleware:e=>e({serializableCheck:!1}).concat([nP.middleware,iP.middleware,oD.middleware,cD.middleware,fD.middleware]),devTools:{serialize:{replacer:sP},name:"recharts-".concat(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Chart")}})}(r,a));var o=hk;return t.createElement(Bb,{context:o,store:s.current},n)}var gD=e=>{var{chartData:r}=e,n=pk(),a=xj();return(0,t.useEffect)(()=>a?()=>{}:(n(Kw(r)),()=>{n(Kw(void 0))}),[r,n,a]),null};function yD(e){var{layout:r,width:n,height:a,margin:i}=e,s=pk(),o=xj();return(0,t.useEffect)(()=>{o||(s(Jw(r)),s(Zw({width:n,height:a})),s(Xw(i)))},[s,o,r,n,a,i]),null}function vD(e){var r=pk();return(0,t.useEffect)(()=>{r(YP(e))},[r,e]),null}var xD=r(2086),bD=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],wD=["points","pathLength"],kD={svg:["viewBox","children"],polygon:wD,polyline:wD},jD=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],ND=(e,r)=>{if(!e||"function"===typeof e||"boolean"===typeof e)return null;var n=e;if((0,t.isValidElement)(e)&&(n=e.props),"object"!==typeof n&&"function"!==typeof n)return null;var a={};return Object.keys(n).forEach(e=>{jD.includes(e)&&(a[e]=r||(t=>n[e](n,t)))}),a},SD=(e,t,r)=>{if(null===e||"object"!==typeof e&&"function"!==typeof e)return null;var n=null;return Object.keys(e).forEach(a=>{var i=e[a];jD.includes(a)&&"function"===typeof i&&(n||(n={}),n[a]=((e,t,r)=>n=>(e(t,r,n),null))(i,t,r))}),n},ED=e=>"string"===typeof e?e:e?e.displayName||e.name||"Component":"",AD=null,_D=null,CD=e=>{if(e===AD&&Array.isArray(_D))return _D;var r=[];return t.Children.forEach(e,e=>{jv(e)||((0,xD.isFragment)(e)?r=r.concat(CD(e.props.children)):r.push(e))}),_D=r,AD=e,r};function TD(e,t){var r=[],n=[];return n=Array.isArray(t)?t.map(e=>ED(e)):[ED(t)],CD(e).forEach(e=>{var t=uv()(e,"type.displayName")||uv()(e,"type.name");-1!==n.indexOf(t)&&r.push(e)}),r}var ID=e=>!e||"object"!==typeof e||!("clipDot"in e)||Boolean(e.clipDot),OD=(e,r,n)=>{if(!e||"function"===typeof e||"boolean"===typeof e)return null;var a=e;if((0,t.isValidElement)(e)&&(a=e.props),"object"!==typeof a&&"function"!==typeof a)return null;var i={};return Object.keys(a).forEach(e=>{var t;((e,t,r,n)=>{var a,i=null!==(a=n&&(null===kD||void 0===kD?void 0:kD[n]))&&void 0!==a?a:[];return t.startsWith("data-")||"function"!==typeof e&&(n&&i.includes(t)||bD.includes(t))||r&&jD.includes(t)})(null===(t=a)||void 0===t?void 0:t[e],e,r,n)&&(i[e]=a[e])}),i},PD=()=>vk(e=>e.rootProps.accessibilityLayer),DD=["children","width","height","viewBox","className","style","title","desc"];function MD(){return MD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},MD.apply(null,arguments)}var RD=(0,t.forwardRef)((e,r)=>{var{children:n,width:a,height:i,viewBox:s,className:o,style:l,title:c,desc:u}=e,d=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,DD),h=s||{width:a,height:i,x:0,y:0},f=sv("recharts-surface",o);return t.createElement("svg",MD({},OD(d,!0,"svg"),{className:f,width:a,height:i,style:l,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height),ref:r}),t.createElement("title",null,c),t.createElement("desc",null,u),n)}),LD=["children"];function FD(){return FD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},FD.apply(null,arguments)}var zD={width:"100%",height:"100%"},UD=(0,t.forwardRef)((e,r)=>{var n=Sj(),a=Ej(),i=PD();if(!H_(n)||!H_(a))return null;var s,o,{children:l,otherAttributes:c,title:u,desc:d}=e;return s="number"===typeof c.tabIndex?c.tabIndex:i?0:void 0,o="string"===typeof c.role?c.role:i?"application":void 0,t.createElement(RD,FD({},c,{title:u,desc:d,role:o,tabIndex:s,width:n,height:a,style:zD,ref:r}),l)}),VD=e=>{var{children:r}=e,n=vk(wj);if(!n)return null;var{width:a,height:i,y:s,x:o}=n;return t.createElement(RD,{width:a,height:i,x:o,y:s},r)},BD=(0,t.forwardRef)((e,r)=>{var{children:n}=e,a=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,LD);return xj()?t.createElement(VD,null,n):t.createElement(UD,FD({ref:r},a),n)});var $D=new(r(8499)),HD="recharts.syncEvent.tooltip",qD="recharts.syncEvent.brush";function KD(e){return e.tooltip.syncInteraction}var WD=()=>{};function GD(){var e=pk();(0,t.useEffect)(()=>{e(Ib())},[e]),function(){var e=vk(yC),r=vk(xC),n=pk(),a=vk(vC),i=vk(AO),s=Cj(),o=kj(),l=vk(e=>e.rootProps.className);(0,t.useEffect)(()=>{if(null==e)return WD;var t=(t,l,c)=>{if(r!==c&&e===t)if("index"!==a){if(null!=i){var u;if("function"===typeof a){var d={activeTooltipIndex:null==l.payload.index?void 0:Number(l.payload.index),isTooltipActive:l.payload.active,activeIndex:null==l.payload.index?void 0:Number(l.payload.index),activeLabel:l.payload.label,activeDataKey:l.payload.dataKey,activeCoordinate:l.payload.coordinate},h=a(i,d);u=i[h]}else"value"===a&&(u=i.find(e=>String(e.value)===l.payload.label));var{coordinate:f}=l.payload;if(null!=u&&!1!==l.payload.active&&null!=f&&null!=o){var{x:p,y:m}=f,g=Math.min(p,o.x+o.width),y=Math.min(m,o.y+o.height),v={x:"horizontal"===s?u.coordinate:g,y:"horizontal"===s?y:u.coordinate},x=Bw({active:l.payload.active,coordinate:v,dataKey:l.payload.dataKey,index:String(u.index),label:l.payload.label});n(x)}else n(Bw({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}))}}else n(l)};return $D.on(HD,t),()=>{$D.off(HD,t)}},[l,n,r,e,a,i,s,o])}(),function(){var e=vk(yC),r=vk(xC),n=pk();(0,t.useEffect)(()=>{if(null==e)return WD;var t=(t,a,i)=>{r!==i&&e===t&&n(Ww(a))};return $D.on(qD,t),()=>{$D.off(qD,t)}},[n,r,e])}()}function YD(e,r,n,a,i,s){var o=vk(t=>((e,t,r)=>{if(null!=t){var n=qI(e);return"axis"===t?"hover"===r?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:"hover"===r?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}})(t,e,r)),l=vk(xC),c=vk(yC),u=vk(vC),d=vk(KD),h=null===d||void 0===d?void 0:d.active;(0,t.useEffect)(()=>{if(!h&&null!=c&&null!=l){var e=Bw({active:s,coordinate:n,dataKey:o,index:i,label:"number"===typeof a?String(a):a});$D.emit(HD,c,e,l)}},[h,n,o,i,a,l,c,u,s])}var QD=(0,t.createContext)(null),XD=(0,t.createContext)(null);function JD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function ZD(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?JD(Object(r),!0).forEach(function(t){eM(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JD(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function eM(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var tM=(0,t.forwardRef)((e,r)=>{var{children:n,className:a,height:i,onClick:s,onContextMenu:o,onDoubleClick:l,onMouseDown:c,onMouseEnter:u,onMouseLeave:d,onMouseMove:h,onMouseUp:f,onTouchEnd:p,onTouchMove:m,onTouchStart:g,style:y,width:v}=e,x=pk(),[b,w]=(0,t.useState)(null),[k,j]=(0,t.useState)(null);GD();var N=function(){var e=pk(),[r,n]=(0,t.useState)(null),a=vk(sj);return(0,t.useEffect)(()=>{if(null!=r){var t=r.getBoundingClientRect().width/r.offsetWidth;$_(t)&&t!==a&&e(ek(t))}},[r,e,a]),n}(),S=(0,t.useCallback)(e=>{N(e),"function"===typeof r&&r(e),w(e),j(e)},[N,r,w,j]),E=(0,t.useCallback)(e=>{x(rP(e)),x(lD({handler:s,reactEvent:e}))},[x,s]),A=(0,t.useCallback)(e=>{x(aP(e)),x(lD({handler:u,reactEvent:e}))},[x,u]),_=(0,t.useCallback)(e=>{x(Fw()),x(lD({handler:d,reactEvent:e}))},[x,d]),C=(0,t.useCallback)(e=>{x(aP(e)),x(lD({handler:h,reactEvent:e}))},[x,h]),T=(0,t.useCallback)(()=>{x(sD())},[x]),I=(0,t.useCallback)(e=>{x(iD(e.key))},[x]),O=(0,t.useCallback)(e=>{x(lD({handler:o,reactEvent:e}))},[x,o]),P=(0,t.useCallback)(e=>{x(lD({handler:l,reactEvent:e}))},[x,l]),D=(0,t.useCallback)(e=>{x(lD({handler:c,reactEvent:e}))},[x,c]),M=(0,t.useCallback)(e=>{x(lD({handler:f,reactEvent:e}))},[x,f]),R=(0,t.useCallback)(e=>{x(lD({handler:g,reactEvent:e}))},[x,g]),L=(0,t.useCallback)(e=>{x(hD(e)),x(lD({handler:m,reactEvent:e}))},[x,m]),F=(0,t.useCallback)(e=>{x(lD({handler:p,reactEvent:e}))},[x,p]);return t.createElement(QD.Provider,{value:b},t.createElement(XD.Provider,{value:k},t.createElement("div",{className:sv("recharts-wrapper",a),style:ZD({position:"relative",cursor:"default",width:v,height:i},y),onClick:E,onContextMenu:O,onDoubleClick:P,onFocus:T,onKeyDown:I,onMouseDown:D,onMouseEnter:A,onMouseLeave:_,onMouseMove:C,onMouseUp:M,onTouchEnd:F,onTouchMove:L,onTouchStart:R,ref:S},n)))}),rM=ck([mj],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),nM=ck([rM,aj,ij],(e,t,r)=>{if(e&&null!=t&&null!=r)return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),aM=()=>vk(nM),iM=(0,t.createContext)(void 0),sM=e=>{var{children:r}=e,[n]=(0,t.useState)("".concat(yv("recharts"),"-clip")),a=aM();if(null==a)return null;var{x:i,y:s,width:o,height:l}=a;return t.createElement(iM.Provider,{value:n},t.createElement("defs",null,t.createElement("clipPath",{id:n},t.createElement("rect",{x:i,y:s,height:l,width:o}))),r)},oM=["children","className","width","height","style","compact","title","desc"];var lM=(0,t.forwardRef)((e,r)=>{var{children:n,className:a,width:i,height:s,style:o,compact:l,title:c,desc:u}=e,d=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,oM),h=OD(d,!1);return l?t.createElement(BD,{otherAttributes:h,title:c,desc:u},n):t.createElement(tM,{className:a,style:o,width:i,height:s,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},t.createElement(BD,{otherAttributes:h,title:c,desc:u,ref:r},t.createElement(sM,null,n)))});function cM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function uM(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dM(e,t){var r=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?cM(Object(r),!0).forEach(function(t){uM(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cM(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},e),n=t;return Object.keys(t).reduce((e,t)=>(void 0===e[t]&&void 0!==n[t]&&(e[t]=n[t]),e),r)}var hM=["width","height"];function fM(){return fM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fM.apply(null,arguments)}var pM={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},mM=(0,t.forwardRef)(function(e,r){var n,a=dM(e.categoricalChartProps,pM),{width:i,height:s}=a,o=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(a,hM);if(!H_(i)||!H_(s))return null;var{chartName:l,defaultTooltipEventType:c,validateTooltipEventTypes:u,tooltipPayloadSearcher:d,categoricalChartProps:h}=e,f={chartName:l,defaultTooltipEventType:c,validateTooltipEventTypes:u,tooltipPayloadSearcher:d,eventEmitter:void 0};return t.createElement(mD,{preloadedState:{options:f},reduxStoreName:null!==(n=h.id)&&void 0!==n?n:l},t.createElement(gD,{chartData:h.data}),t.createElement(yD,{width:i,height:s,layout:a.layout,margin:a.margin}),t.createElement(vD,{accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className}),t.createElement(lM,fM({},o,{width:i,height:s,ref:r})))}),gM=["axis"],yM=(0,t.forwardRef)((e,r)=>t.createElement(mM,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:gM,tooltipPayloadSearcher:_b,categoricalChartProps:e,ref:r})),vM=!("undefined"!==typeof window&&window.document&&Boolean(window.document.createElement)&&window.setTimeout);function xM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function bM(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?xM(Object(r),!0).forEach(function(t){wM(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xM(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function wM(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var kM={widthCache:{},cacheCount:0},jM={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},NM="recharts_measurement_span";var SM=function(e){if(void 0===e||null===e||vM)return{width:0,height:0};var t=function(e){var t=bM({},e);return Object.keys(t).forEach(e=>{t[e]||delete t[e]}),t}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}),r=JSON.stringify({text:e,copyStyle:t});if(kM.widthCache[r])return kM.widthCache[r];try{var n=document.getElementById(NM);n||((n=document.createElement("span")).setAttribute("id",NM),n.setAttribute("aria-hidden","true"),document.body.appendChild(n));var a=bM(bM({},jM),t);Object.assign(n.style,a),n.textContent="".concat(e);var i=n.getBoundingClientRect(),s={width:i.width,height:i.height};return kM.widthCache[r]=s,++kM.cacheCount>2e3&&(kM.cacheCount=0,kM.widthCache={}),s}catch(o){return{width:0,height:0}}};function EM(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class AM{static create(e){return new AM(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:t,position:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(void 0!==e){if(r)switch(r){case"start":default:return this.scale(e);case"middle":var n=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+n;case"end":var a=this.bandwidth?this.bandwidth():0;return this.scale(e)+a}if(t){var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}return this.scale(e)}}isInRange(e){var t=this.range(),r=t[0],n=t[t.length-1];return r<=n?e>=r&&e<=n:e>=n&&e<=r}}EM(AM,"EPS",1e-4);function _M(e,t,r){if(t<1)return[];if(1===t&&void 0===r)return e;for(var n=[],a=0;a<e.length;a+=t){if(void 0!==r&&!0!==r(e[a]))return;n.push(e[a])}return n}function CM(e,t,r){return function(e){var{width:t,height:r}=e,n=function(e){return(e%180+180)%180}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0),a=n*Math.PI/180,i=Math.atan(r/t),s=a>i&&a<Math.PI-i?r/Math.sin(a):t/Math.cos(a);return Math.abs(s)}({width:e.width+t.width,height:e.height+t.height},r)}function TM(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function IM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function OM(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?IM(Object(r),!0).forEach(function(t){PM(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IM(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function PM(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DM(e,t,r){var n,{tick:a,ticks:i,viewBox:s,minTickGap:o,orientation:l,interval:c,tickFormatter:u,unit:d,angle:h}=e;if(!i||!i.length||!a)return[];if(pv(c)||vM)return null!==(n=function(e,t){return _M(e,t+1)}(i,pv(c)?c:0))&&void 0!==n?n:[];var f=[],p="top"===l||"bottom"===l?"width":"height",m=d&&"width"===p?SM(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},g=(e,n)=>{var a="function"===typeof u?u(e.value,n):e.value;return"width"===p?CM(SM(a,{fontSize:t,letterSpacing:r}),m,h):SM(a,{fontSize:t,letterSpacing:r})[p]},y=i.length>=2?dv(i[1].coordinate-i[0].coordinate):1,v=function(e,t,r){var n="width"===r,{x:a,y:i,width:s,height:o}=e;return 1===t?{start:n?a:i,end:n?a+s:i+o}:{start:n?a+s:i+o,end:n?a:i}}(s,y,p);return"equidistantPreserveStart"===c?function(e,t,r,n,a){for(var i,s=(n||[]).slice(),{start:o,end:l}=t,c=0,u=1,d=o,h=function(){var t=null===n||void 0===n?void 0:n[c];if(void 0===t)return{v:_M(n,u)};var i,s=c,h=()=>(void 0===i&&(i=r(t,s)),i),f=t.coordinate,p=0===c||TM(e,f,h,d,l);p||(c=0,d=o,u+=1),p&&(d=f+e*(h()/2+a),c+=u)};u<=s.length;)if(i=h())return i.v;return[]}(y,v,g,i,o):(f="preserveStart"===c||"preserveStartEnd"===c?function(e,t,r,n,a,i){var s=(n||[]).slice(),o=s.length,{start:l,end:c}=t;if(i){var u=n[o-1],d=r(u,o-1),h=e*(u.coordinate+e*d/2-c);s[o-1]=u=OM(OM({},u),{},{tickCoord:h>0?u.coordinate-h*e:u.coordinate}),TM(e,u.tickCoord,()=>d,l,c)&&(c=u.tickCoord-e*(d/2+a),s[o-1]=OM(OM({},u),{},{isShow:!0}))}for(var f=i?o-1:o,p=function(t){var n,i=s[t],o=()=>(void 0===n&&(n=r(i,t)),n);if(0===t){var u=e*(i.coordinate-e*o()/2-l);s[t]=i=OM(OM({},i),{},{tickCoord:u<0?i.coordinate-u*e:i.coordinate})}else s[t]=i=OM(OM({},i),{},{tickCoord:i.coordinate});TM(e,i.tickCoord,o,l,c)&&(l=i.tickCoord+e*(o()/2+a),s[t]=OM(OM({},i),{},{isShow:!0}))},m=0;m<f;m++)p(m);return s}(y,v,g,i,o,"preserveStartEnd"===c):function(e,t,r,n,a){for(var i=(n||[]).slice(),s=i.length,{start:o}=t,{end:l}=t,c=function(t){var n,c=i[t],u=()=>(void 0===n&&(n=r(c,t)),n);if(t===s-1){var d=e*(c.coordinate+e*u()/2-l);i[t]=c=OM(OM({},c),{},{tickCoord:d>0?c.coordinate-d*e:c.coordinate})}else i[t]=c=OM(OM({},c),{},{tickCoord:c.coordinate});TM(e,c.tickCoord,u,o,l)&&(l=c.tickCoord-e*(u()/2+a),i[t]=OM(OM({},c),{},{isShow:!0}))},u=s-1;u>=0;u--)c(u);return i}(y,v,g,i,o),f.filter(e=>e.isShow))}function MM(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}var RM=["children","className"];function LM(){return LM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},LM.apply(null,arguments)}var FM=t.forwardRef((e,r)=>{var{children:n,className:a}=e,i=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,RM),s=sv("recharts-layer",a);return t.createElement("g",LM({className:s},OD(i,!0),{ref:r}),n)}),zM=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,UM=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,VM=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,BM=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,$M={cm:96/2.54,mm:96/25.4,pt:96/72,pc:16,in:96,Q:96/101.6,px:1},HM=Object.keys($M),qM="NaN";class KM{static parse(e){var t,[,r,n]=null!==(t=BM.exec(e))&&void 0!==t?t:[];return new KM(parseFloat(r),null!==n&&void 0!==n?n:"")}constructor(e,t){this.num=e,this.unit=t,this.num=e,this.unit=t,hv(e)&&(this.unit=""),""===t||VM.test(t)||(this.num=NaN,this.unit=""),HM.includes(t)&&(this.num=function(e,t){return e*$M[t]}(e,t),this.unit="px")}add(e){return this.unit!==e.unit?new KM(NaN,""):new KM(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new KM(NaN,""):new KM(this.num-e.num,this.unit)}multiply(e){return""!==this.unit&&""!==e.unit&&this.unit!==e.unit?new KM(NaN,""):new KM(this.num*e.num,this.unit||e.unit)}divide(e){return""!==this.unit&&""!==e.unit&&this.unit!==e.unit?new KM(NaN,""):new KM(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return hv(this.num)}}function WM(e){if(e.includes(qM))return qM;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,a,i]=null!==(r=zM.exec(t))&&void 0!==r?r:[],s=KM.parse(null!==n&&void 0!==n?n:""),o=KM.parse(null!==i&&void 0!==i?i:""),l="*"===a?s.multiply(o):s.divide(o);if(l.isNaN())return qM;t=t.replace(zM,l.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var c,[,u,d,h]=null!==(c=UM.exec(t))&&void 0!==c?c:[],f=KM.parse(null!==u&&void 0!==u?u:""),p=KM.parse(null!==h&&void 0!==h?h:""),m="+"===d?f.add(p):f.subtract(p);if(m.isNaN())return qM;t=t.replace(UM,m.toString())}return t}var GM=/\(([^()]*)\)/;function YM(e){var t=e.replace(/\s+/g,"");return t=function(e){for(var t,r=e;null!=(t=GM.exec(r));){var[,n]=t;r=r.replace(GM,WM(n))}return r}(t),t=WM(t)}function QM(e){var t=function(e){try{return YM(e)}catch(t){return qM}}(e.slice(5,-1));return t===qM?"":t}var XM=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],JM=["dx","dy","angle","className","breakAll"];function ZM(){return ZM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ZM.apply(null,arguments)}function eR(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var tR=/[ \f\n\r\t\v\u2028\u2029]+/,rR=e=>{var{children:t,breakAll:r,style:n}=e;try{var a=[];return jv(t)||(a=r?t.toString().split(""):t.toString().split(tR)),{wordsWithComputedWidth:a.map(e=>({word:e,width:SM(e,n).width})),spaceWidth:r?0:SM("\xa0",n).width}}catch(i){return null}},nR=e=>[{words:jv(e)?[]:e.toString().split(tR)}],aR=e=>{var{width:t,scaleToFit:r,children:n,style:a,breakAll:i,maxLines:s}=e;if((t||r)&&!vM){var o=rR({breakAll:i,children:n,style:a});if(!o)return nR(n);var{wordsWithComputedWidth:l,spaceWidth:c}=o;return((e,t,r,n,a)=>{var{maxLines:i,children:s,style:o,breakAll:l}=e,c=pv(i),u=s,d=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce((e,t)=>{var{word:i,width:s}=t,o=e[e.length-1];if(o&&(null==n||a||o.width+s+r<Number(n)))o.words.push(i),o.width+=s+r;else{var l={words:[i],width:s};e.push(l)}return e},[])},h=d(t),f=e=>e.reduce((e,t)=>e.width>t.width?e:t);if(!c||a)return h;if(!(h.length>i||f(h).width>Number(n)))return h;for(var p,m=e=>{var t=u.slice(0,e),r=rR({breakAll:l,style:o,children:t+"\u2026"}).wordsWithComputedWidth,a=d(r);return[a.length>i||f(a).width>Number(n),a]},g=0,y=u.length-1,v=0;g<=y&&v<=u.length-1;){var x=Math.floor((g+y)/2),b=x-1,[w,k]=m(b),[j]=m(x);if(w||j||(g=x+1),w&&j&&(y=x-1),!w&&j){p=k;break}v++}return p||h})({breakAll:i,children:n,maxLines:s,style:a},l,c,t,r)}return nR(n)},iR="#808080",sR=(0,t.forwardRef)((e,r)=>{var{x:n=0,y:a=0,lineHeight:i="1em",capHeight:s="0.71em",scaleToFit:o=!1,textAnchor:l="start",verticalAnchor:c="end",fill:u=iR}=e,d=eR(e,XM),h=(0,t.useMemo)(()=>aR({breakAll:d.breakAll,children:d.children,maxLines:d.maxLines,scaleToFit:o,style:d.style,width:d.width}),[d.breakAll,d.children,d.maxLines,o,d.style,d.width]),{dx:f,dy:p,angle:m,className:g,breakAll:y}=d,v=eR(d,JM);if(!mv(n)||!mv(a))return null;var x,b=n+(pv(f)?f:0),w=a+(pv(p)?p:0);switch(c){case"start":x=QM("calc(".concat(s,")"));break;case"middle":x=QM("calc(".concat((h.length-1)/2," * -").concat(i," + (").concat(s," / 2))"));break;default:x=QM("calc(".concat(h.length-1," * -").concat(i,")"))}var k=[];if(o){var j=h[0].width,{width:N}=d;k.push("scale(".concat(pv(N)?N/j:1,")"))}return m&&k.push("rotate(".concat(m,", ").concat(b,", ").concat(w,")")),k.length&&(v.transform=k.join(" ")),t.createElement("text",ZM({},OD(v,!0),{ref:r,x:b,y:w,className:sv("recharts-text",g),textAnchor:l,fill:u.includes("url")?iR:u}),h.map((e,r)=>{var n=e.words.join(y?"":" ");return t.createElement("tspan",{x:b,dy:0===r?x:i,key:"".concat(n,"-").concat(r)},n)}))});sR.displayName="Text";var oR=["offset"],lR=["labelRef"];function cR(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function uR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function dR(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?uR(Object(r),!0).forEach(function(t){hR(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uR(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function hR(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fR(){return fR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fR.apply(null,arguments)}var pR=e=>null!=e&&"function"===typeof e,mR=(e,r,n)=>{var a,i,{position:s,viewBox:o,offset:l,className:c}=e,{cx:u,cy:d,innerRadius:h,outerRadius:f,startAngle:p,endAngle:m,clockWise:g}=o,y=(h+f)/2,v=((e,t)=>dv(t-e)*Math.min(Math.abs(t-e),360))(p,m),x=v>=0?1:-1;"insideStart"===s?(a=p+x*l,i=g):"insideEnd"===s?(a=m-x*l,i=!g):"end"===s&&(a=m+x*l,i=g),i=v<=0?i:!i;var b=Dk(u,d,y,a),w=Dk(u,d,y,a+359*(i?1:-1)),k="M".concat(b.x,",").concat(b.y,"\n    A").concat(y,",").concat(y,",0,1,").concat(i?0:1,",\n    ").concat(w.x,",").concat(w.y),j=jv(e.id)?yv("recharts-radial-line-"):e.id;return t.createElement("text",fR({},n,{dominantBaseline:"central",className:sv("recharts-radial-bar-label",c)}),t.createElement("defs",null,t.createElement("path",{id:j,d:k})),t.createElement("textPath",{xlinkHref:"#".concat(j)},r))};function gR(e){var r,{offset:n=5}=e,a=dR({offset:n},cR(e,oR)),{viewBox:i,position:s,value:o,children:l,content:c,className:u="",textBreakAll:d,labelRef:h}=a,f=kj(),p=i||f;if(!p||jv(o)&&jv(l)&&!(0,t.isValidElement)(c)&&"function"!==typeof c)return null;if((0,t.isValidElement)(c)){var{labelRef:m}=a,g=cR(a,lR);return(0,t.cloneElement)(c,g)}if("function"===typeof c){if(r=(0,t.createElement)(c,a),(0,t.isValidElement)(r))return r}else r=(e=>{var{value:t,formatter:r}=e,n=jv(e.children)?t:e.children;return"function"===typeof r?r(n):n})(a);var y=(e=>"cx"in e&&pv(e.cx))(p),v=OD(a,!0);if(y&&("insideStart"===s||"insideEnd"===s||"end"===s))return mR(a,r,v);var x=y?(e=>{var{viewBox:t,offset:r,position:n}=e,{cx:a,cy:i,innerRadius:s,outerRadius:o,startAngle:l,endAngle:c}=t,u=(l+c)/2;if("outside"===n){var{x:d,y:h}=Dk(a,i,o+r,u);return{x:d,y:h,textAnchor:d>=a?"start":"end",verticalAnchor:"middle"}}if("center"===n)return{x:a,y:i,textAnchor:"middle",verticalAnchor:"middle"};if("centerTop"===n)return{x:a,y:i,textAnchor:"middle",verticalAnchor:"start"};if("centerBottom"===n)return{x:a,y:i,textAnchor:"middle",verticalAnchor:"end"};var f=(s+o)/2,{x:p,y:m}=Dk(a,i,f,u);return{x:p,y:m,textAnchor:"middle",verticalAnchor:"middle"}})(a):((e,t)=>{var{parentViewBox:r,offset:n,position:a}=e,{x:i,y:s,width:o,height:l}=t,c=l>=0?1:-1,u=c*n,d=c>0?"end":"start",h=c>0?"start":"end",f=o>=0?1:-1,p=f*n,m=f>0?"end":"start",g=f>0?"start":"end";if("top"===a)return dR(dR({},{x:i+o/2,y:s-c*n,textAnchor:"middle",verticalAnchor:d}),r?{height:Math.max(s-r.y,0),width:o}:{});if("bottom"===a)return dR(dR({},{x:i+o/2,y:s+l+u,textAnchor:"middle",verticalAnchor:h}),r?{height:Math.max(r.y+r.height-(s+l),0),width:o}:{});if("left"===a){var y={x:i-p,y:s+l/2,textAnchor:m,verticalAnchor:"middle"};return dR(dR({},y),r?{width:Math.max(y.x-r.x,0),height:l}:{})}if("right"===a){var v={x:i+o+p,y:s+l/2,textAnchor:g,verticalAnchor:"middle"};return dR(dR({},v),r?{width:Math.max(r.x+r.width-v.x,0),height:l}:{})}var x=r?{width:o,height:l}:{};return"insideLeft"===a?dR({x:i+p,y:s+l/2,textAnchor:g,verticalAnchor:"middle"},x):"insideRight"===a?dR({x:i+o-p,y:s+l/2,textAnchor:m,verticalAnchor:"middle"},x):"insideTop"===a?dR({x:i+o/2,y:s+u,textAnchor:"middle",verticalAnchor:h},x):"insideBottom"===a?dR({x:i+o/2,y:s+l-u,textAnchor:"middle",verticalAnchor:d},x):"insideTopLeft"===a?dR({x:i+p,y:s+u,textAnchor:g,verticalAnchor:h},x):"insideTopRight"===a?dR({x:i+o-p,y:s+u,textAnchor:m,verticalAnchor:h},x):"insideBottomLeft"===a?dR({x:i+p,y:s+l-u,textAnchor:g,verticalAnchor:d},x):"insideBottomRight"===a?dR({x:i+o-p,y:s+l-u,textAnchor:m,verticalAnchor:d},x):a&&"object"===typeof a&&(pv(a.x)||fv(a.x))&&(pv(a.y)||fv(a.y))?dR({x:i+vv(a.x,o),y:s+vv(a.y,l),textAnchor:"end",verticalAnchor:"end"},x):dR({x:i+o/2,y:s+l/2,textAnchor:"middle",verticalAnchor:"middle"},x)})(a,p);return t.createElement(sR,fR({ref:h,className:sv("recharts-label",u)},v,x,{breakAll:d}),r)}gR.displayName="Label";var yR=e=>{var{cx:t,cy:r,angle:n,startAngle:a,endAngle:i,r:s,radius:o,innerRadius:l,outerRadius:c,x:u,y:d,top:h,left:f,width:p,height:m,clockWise:g,labelViewBox:y}=e;if(y)return y;if(pv(p)&&pv(m)){if(pv(u)&&pv(d))return{x:u,y:d,width:p,height:m};if(pv(h)&&pv(f))return{x:h,y:f,width:p,height:m}}return pv(u)&&pv(d)?{x:u,y:d,width:0,height:0}:pv(t)&&pv(r)?{cx:t,cy:r,startAngle:a||n||0,endAngle:i||n||0,innerRadius:l||0,outerRadius:c||o||s||0,clockWise:g}:e.viewBox?e.viewBox:void 0};gR.parseViewBox=yR,gR.renderCallByParent=function(e,r){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.children&&n&&!e.label)return null;var{children:a,labelRef:i}=e,s=yR(e),o=TD(a,gR).map((e,n)=>(0,t.cloneElement)(e,{viewBox:r||s,key:"label-".concat(n)}));if(!n)return o;var l=((e,r,n)=>{if(!e)return null;var a={viewBox:r,labelRef:n};return!0===e?t.createElement(gR,fR({key:"label-implicit"},a)):mv(e)?t.createElement(gR,fR({key:"label-implicit",value:e},a)):(0,t.isValidElement)(e)?e.type===gR?(0,t.cloneElement)(e,dR({key:"label-implicit"},a)):t.createElement(gR,fR({key:"label-implicit",content:e},a)):pR(e)?t.createElement(gR,fR({key:"label-implicit",content:e},a)):e&&"object"===typeof e?t.createElement(gR,fR({},e,{key:"label-implicit"},a)):null})(e.label,r||s,i);return[l,...o]};var vR=["viewBox"],xR=["viewBox"];function bR(){return bR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bR.apply(null,arguments)}function wR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function kR(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?wR(Object(r),!0).forEach(function(t){NR(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wR(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function jR(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function NR(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class SR extends t.Component{constructor(e){super(e),this.tickRefs=t.createRef(),this.tickRefs.current=[],this.state={fontSize:"",letterSpacing:""}}shouldComponentUpdate(e,t){var{viewBox:r}=e,n=jR(e,vR),a=this.props,{viewBox:i}=a,s=jR(a,xR);return!MM(r,i)||!MM(n,s)||!MM(t,this.state)}getTickLineCoord(e){var t,r,n,a,i,s,{x:o,y:l,width:c,height:u,orientation:d,tickSize:h,mirror:f,tickMargin:p}=this.props,m=f?-1:1,g=e.tickSize||h,y=pv(e.tickCoord)?e.tickCoord:e.coordinate;switch(d){case"top":t=r=e.coordinate,s=(n=(a=l+ +!f*u)-m*g)-m*p,i=y;break;case"left":n=a=e.coordinate,i=(t=(r=o+ +!f*c)-m*g)-m*p,s=y;break;case"right":n=a=e.coordinate,i=(t=(r=o+ +f*c)+m*g)+m*p,s=y;break;default:t=r=e.coordinate,s=(n=(a=l+ +f*u)+m*g)+m*p,i=y}return{line:{x1:t,y1:n,x2:r,y2:a},tick:{x:i,y:s}}}getTickTextAnchor(){var e,{orientation:t,mirror:r}=this.props;switch(t){case"left":e=r?"start":"end";break;case"right":e=r?"end":"start";break;default:e="middle"}return e}getTickVerticalAnchor(){var{orientation:e,mirror:t}=this.props;switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}renderAxisLine(){var{x:e,y:r,width:n,height:a,orientation:i,mirror:s,axisLine:o}=this.props,l=kR(kR(kR({},OD(this.props,!1)),OD(o,!1)),{},{fill:"none"});if("top"===i||"bottom"===i){var c=+("top"===i&&!s||"bottom"===i&&s);l=kR(kR({},l),{},{x1:e,y1:r+c*a,x2:e+n,y2:r+c*a})}else{var u=+("left"===i&&!s||"right"===i&&s);l=kR(kR({},l),{},{x1:e+u*n,y1:r,x2:e+u*n,y2:r+a})}return t.createElement("line",bR({},l,{className:sv("recharts-cartesian-axis-line",uv()(o,"className"))}))}static renderTickItem(e,r,n){var a,i=sv(r.className,"recharts-cartesian-axis-tick-value");if(t.isValidElement(e))a=t.cloneElement(e,kR(kR({},r),{},{className:i}));else if("function"===typeof e)a=e(kR(kR({},r),{},{className:i}));else{var s="recharts-cartesian-axis-tick-value";"boolean"!==typeof e&&(s=sv(s,e.className)),a=t.createElement(sR,bR({},r,{className:s}),n)}return a}renderTicks(e,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],{tickLine:a,stroke:i,tick:s,tickFormatter:o,unit:l}=this.props,c=DM(kR(kR({},this.props),{},{ticks:n}),e,r),u=this.getTickTextAnchor(),d=this.getTickVerticalAnchor(),h=OD(this.props,!1),f=OD(s,!1),p=kR(kR({},h),{},{fill:"none"},OD(a,!1)),m=c.map((e,r)=>{var{line:n,tick:m}=this.getTickLineCoord(e),g=kR(kR(kR(kR({textAnchor:u,verticalAnchor:d},h),{},{stroke:"none",fill:i},f),m),{},{index:r,payload:e,visibleTicksCount:c.length,tickFormatter:o});return t.createElement(FM,bR({className:"recharts-cartesian-axis-tick",key:"tick-".concat(e.value,"-").concat(e.coordinate,"-").concat(e.tickCoord)},SD(this.props,e,r)),a&&t.createElement("line",bR({},p,n,{className:sv("recharts-cartesian-axis-tick-line",uv()(a,"className"))})),s&&SR.renderTickItem(s,g,"".concat("function"===typeof o?o(e.value,r):e.value).concat(l||"")))});return m.length>0?t.createElement("g",{className:"recharts-cartesian-axis-ticks"},m):null}render(){var{axisLine:e,width:r,height:n,className:a,hide:i}=this.props;if(i)return null;var{ticks:s}=this.props;return null!=r&&r<=0||null!=n&&n<=0?null:t.createElement(FM,{className:sv("recharts-cartesian-axis",a),ref:e=>{if(e){var t=e.getElementsByClassName("recharts-cartesian-axis-tick-value");this.tickRefs.current=Array.from(t);var r=t[0];if(r){var n=window.getComputedStyle(r).fontSize,a=window.getComputedStyle(r).letterSpacing;n===this.state.fontSize&&a===this.state.letterSpacing||this.setState({fontSize:window.getComputedStyle(r).fontSize,letterSpacing:window.getComputedStyle(r).letterSpacing})}}}},e&&this.renderAxisLine(),this.renderTicks(this.state.fontSize,this.state.letterSpacing,s),gR.renderCallByParent(this.props))}}NR(SR,"displayName","CartesianAxis"),NR(SR,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var ER=["x1","y1","x2","y2","key"],AR=["offset"],_R=["xAxisId","yAxisId"],CR=["xAxisId","yAxisId"];function TR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function IR(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?TR(Object(r),!0).forEach(function(t){OR(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TR(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function OR(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PR(){return PR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},PR.apply(null,arguments)}function DR(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var MR=e=>{var{fill:r}=e;if(!r||"none"===r)return null;var{fillOpacity:n,x:a,y:i,width:s,height:o,ry:l}=e;return t.createElement("rect",{x:a,y:i,ry:l,width:s,height:o,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function RR(e,r){var n;if(t.isValidElement(e))n=t.cloneElement(e,r);else if("function"===typeof e)n=e(r);else{var{x1:a,y1:i,x2:s,y2:o,key:l}=r,c=DR(r,ER),u=OD(c,!1),{offset:d}=u,h=DR(u,AR);n=t.createElement("line",PR({},h,{x1:a,y1:i,x2:s,y2:o,fill:"none",key:l}))}return n}function LR(e){var{x:r,width:n,horizontal:a=!0,horizontalPoints:i}=e;if(!a||!i||!i.length)return null;var{xAxisId:s,yAxisId:o}=e,l=DR(e,_R),c=i.map((e,t)=>{var i=IR(IR({},l),{},{x1:r,y1:e,x2:r+n,y2:e,key:"line-".concat(t),index:t});return RR(a,i)});return t.createElement("g",{className:"recharts-cartesian-grid-horizontal"},c)}function FR(e){var{y:r,height:n,vertical:a=!0,verticalPoints:i}=e;if(!a||!i||!i.length)return null;var{xAxisId:s,yAxisId:o}=e,l=DR(e,CR),c=i.map((e,t)=>{var i=IR(IR({},l),{},{x1:e,y1:r,x2:e,y2:r+n,key:"line-".concat(t),index:t});return RR(a,i)});return t.createElement("g",{className:"recharts-cartesian-grid-vertical"},c)}function zR(e){var{horizontalFill:r,fillOpacity:n,x:a,y:i,width:s,height:o,horizontalPoints:l,horizontal:c=!0}=e;if(!c||!r||!r.length)return null;var u=l.map(e=>Math.round(e+i-i)).sort((e,t)=>e-t);i!==u[0]&&u.unshift(0);var d=u.map((e,l)=>{var c=!u[l+1]?i+o-e:u[l+1]-e;if(c<=0)return null;var d=l%r.length;return t.createElement("rect",{key:"react-".concat(l),y:e,x:a,height:c,width:s,stroke:"none",fill:r[d],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return t.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function UR(e){var{vertical:r=!0,verticalFill:n,fillOpacity:a,x:i,y:s,width:o,height:l,verticalPoints:c}=e;if(!r||!n||!n.length)return null;var u=c.map(e=>Math.round(e+i-i)).sort((e,t)=>e-t);i!==u[0]&&u.unshift(0);var d=u.map((e,r)=>{var c=!u[r+1]?i+o-e:u[r+1]-e;if(c<=0)return null;var d=r%n.length;return t.createElement("rect",{key:"react-".concat(r),x:e,y:s,width:c,height:l,stroke:"none",fill:n[d],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return t.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var VR=(e,t)=>{var{xAxis:r,width:n,height:a,offset:i}=e;return Hk(DM(IR(IR(IR({},SR.defaultProps),r),{},{ticks:qk(r,!0),viewBox:{x:0,y:0,width:n,height:a}})),i.left,i.left+i.width,t)},BR=(e,t)=>{var{yAxis:r,width:n,height:a,offset:i}=e;return Hk(DM(IR(IR(IR({},SR.defaultProps),r),{},{ticks:qk(r,!0),viewBox:{x:0,y:0,width:n,height:a}})),i.top,i.top+i.height,t)},$R={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function HR(e){var r=Sj(),n=Ej(),a=Nj(),i=IR(IR({},dM(e,$R)),{},{x:pv(e.x)?e.x:a.left,y:pv(e.y)?e.y:a.top,width:pv(e.width)?e.width:a.width,height:pv(e.height)?e.height:a.height}),{xAxisId:s,yAxisId:o,x:l,y:c,width:u,height:d,syncWithTicks:h,horizontalValues:f,verticalValues:p}=i,m=xj(),g=vk(e=>EI(e,"xAxis",s,m)),y=vk(e=>EI(e,"yAxis",o,m));if(!pv(u)||u<=0||!pv(d)||d<=0||!pv(l)||l!==+l||!pv(c)||c!==+c)return null;var v=i.verticalCoordinatesGenerator||VR,x=i.horizontalCoordinatesGenerator||BR,{horizontalPoints:b,verticalPoints:w}=i;if((!b||!b.length)&&"function"===typeof x){var k=f&&f.length,j=x({yAxis:y?IR(IR({},y),{},{ticks:k?f:y.ticks}):void 0,width:r,height:n,offset:a},!!k||h);Sv(Array.isArray(j),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof j,"]")),Array.isArray(j)&&(b=j)}if((!w||!w.length)&&"function"===typeof v){var N=p&&p.length,S=v({xAxis:g?IR(IR({},g),{},{ticks:N?p:g.ticks}):void 0,width:r,height:n,offset:a},!!N||h);Sv(Array.isArray(S),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof S,"]")),Array.isArray(S)&&(w=S)}return t.createElement("g",{className:"recharts-cartesian-grid"},t.createElement(MR,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),t.createElement(zR,PR({},i,{horizontalPoints:b})),t.createElement(UR,PR({},i,{verticalPoints:w})),t.createElement(LR,PR({},i,{offset:a,horizontalPoints:b,xAxis:g,yAxis:y})),t.createElement(FR,PR({},i,{offset:a,verticalPoints:w,xAxis:g,yAxis:y})))}HR.displayName="CartesianGrid";var qR=["children"],KR=["dangerouslySetInnerHTML","ticks"];function WR(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GR(){return GR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},GR.apply(null,arguments)}function YR(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function QR(e){var r=pk(),n=(0,t.useMemo)(()=>{var{children:t}=e;return YR(e,qR)},[e]),a=vk(e=>QC(e,n.id)),i=n===a;return(0,t.useEffect)(()=>(r(dP(n)),()=>{r(hP(n))}),[n,r]),i?e.children:null}var XR=e=>{var{xAxisId:r,className:n}=e,a=vk(yj),i=xj(),s="xAxis",o=vk(e=>uI(e,s,r,i)),l=vk(e=>AI(e,s,r,i)),c=vk(e=>yI(e,r)),u=vk(e=>((e,t)=>{var r=mj(e),n=QC(e,t);if(null!=n){var a=vI(e,n.orientation,n.mirror)[t];return null==a?{x:r.left,y:0}:{x:r.left,y:a}}})(e,r));if(null==c||null==u)return null;var{dangerouslySetInnerHTML:d,ticks:h}=e,f=YR(e,KR);return t.createElement(SR,GR({},f,{scale:o,x:u.x,y:u.y,width:c.width,height:c.height,className:sv("recharts-".concat(s," ").concat(s),n),viewBox:a,ticks:l}))},JR=e=>{var r,n,a,i,s;return t.createElement(QR,{interval:null!==(r=e.interval)&&void 0!==r?r:"preserveEnd",id:e.xAxisId,scale:e.scale,type:e.type,padding:e.padding,allowDataOverflow:e.allowDataOverflow,domain:e.domain,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,includeHidden:null!==(n=e.includeHidden)&&void 0!==n&&n,reversed:e.reversed,ticks:e.ticks,height:e.height,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:null!==(a=e.angle)&&void 0!==a?a:0,minTickGap:null!==(i=e.minTickGap)&&void 0!==i?i:5,tick:null===(s=e.tick)||void 0===s||s,tickFormatter:e.tickFormatter},t.createElement(XR,e))};class ZR extends t.Component{render(){return t.createElement(JR,this.props)}}WR(ZR,"displayName","XAxis"),WR(ZR,"defaultProps",{allowDataOverflow:YC.allowDataOverflow,allowDecimals:YC.allowDecimals,allowDuplicatedCategory:YC.allowDuplicatedCategory,height:YC.height,hide:!1,mirror:YC.mirror,orientation:YC.orientation,padding:YC.padding,reversed:YC.reversed,scale:YC.scale,tickCount:YC.tickCount,type:YC.type,xAxisId:0});var eL=["dangerouslySetInnerHTML","ticks"];function tL(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rL(){return rL=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rL.apply(null,arguments)}function nL(e){var r=pk();return(0,t.useEffect)(()=>(r(fP(e)),()=>{r(pP(e))}),[e,r]),null}var aL=e=>{var r,{yAxisId:n,className:a,width:i,label:s}=e,o=(0,t.useRef)(null),l=(0,t.useRef)(null),c=vk(yj),u=xj(),d=pk(),h="yAxis",f=vk(e=>uI(e,h,n,u)),p=vk(e=>bI(e,n)),m=vk(e=>((e,t)=>{var r=mj(e),n=JC(e,t);if(null!=n){var a=xI(e,n.orientation,n.mirror)[t];return null==a?{x:0,y:r.top}:{x:a,y:r.top}}})(e,n)),g=vk(e=>AI(e,h,n,u));if((0,t.useLayoutEffect)(()=>{var e;if("auto"===i&&p&&!pR(s)&&!(0,t.isValidElement)(s)){var r=o.current,a=null===r||void 0===r||null===(e=r.tickRefs)||void 0===e?void 0:e.current,{tickSize:c,tickMargin:u}=r.props,h=(e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:a=0,tickMargin:i=0}=e,s=0;if(t){t.forEach(e=>{if(e){var t=e.getBoundingClientRect();t.width>s&&(s=t.width)}});var o=r?r.getBoundingClientRect().width:0,l=s+(a+i)+o+(r?n:0);return Math.round(l)}return 0})({ticks:a,label:l.current,labelGapWithTick:5,tickSize:c,tickMargin:u});Math.round(p.width)!==Math.round(h)&&d(yP({id:n,width:h}))}},[o,null===o||void 0===o||null===(r=o.current)||void 0===r||null===(r=r.tickRefs)||void 0===r?void 0:r.current,null===p||void 0===p?void 0:p.width,p,d,s,n,i]),null==p||null==m)return null;var{dangerouslySetInnerHTML:y,ticks:v}=e,x=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,eL);return t.createElement(SR,rL({},x,{ref:o,labelRef:l,scale:f,x:m.x,y:m.y,width:p.width,height:p.height,className:sv("recharts-".concat(h," ").concat(h),a),viewBox:c,ticks:g}))},iL=e=>{var r,n,a,i,s;return t.createElement(t.Fragment,null,t.createElement(nL,{interval:null!==(r=e.interval)&&void 0!==r?r:"preserveEnd",id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:null!==(n=e.includeHidden)&&void 0!==n&&n,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:null!==(a=e.angle)&&void 0!==a?a:0,minTickGap:null!==(i=e.minTickGap)&&void 0!==i?i:5,tick:null===(s=e.tick)||void 0===s||s,tickFormatter:e.tickFormatter}),t.createElement(aL,e))},sL={allowDataOverflow:XC.allowDataOverflow,allowDecimals:XC.allowDecimals,allowDuplicatedCategory:XC.allowDuplicatedCategory,hide:!1,mirror:XC.mirror,orientation:XC.orientation,padding:XC.padding,reversed:XC.reversed,scale:XC.scale,tickCount:XC.tickCount,type:XC.type,width:XC.width,yAxisId:0};class oL extends t.Component{render(){return t.createElement(iL,this.props)}}tL(oL,"displayName","YAxis"),tL(oL,"defaultProps",sL);var lL=r(7950);function cL(){return cL=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cL.apply(null,arguments)}function uL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function dL(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?uL(Object(r),!0).forEach(function(t){hL(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uL(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function hL(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fL(e){return Array.isArray(e)&&mv(e[0])&&mv(e[1])?e.join(" ~ "):e}var pL=e=>{var{separator:r=" : ",contentStyle:n={},itemStyle:a={},labelStyle:i={},payload:s,formatter:o,itemSorter:l,wrapperClassName:c,labelClassName:u,label:d,labelFormatter:h,accessibilityLayer:f=!1}=e,p=dL({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),m=dL({margin:0},i),g=!jv(d),y=g?d:"",v=sv("recharts-default-tooltip",c),x=sv("recharts-tooltip-label",u);g&&h&&void 0!==s&&null!==s&&(y=h(d,s));var b=f?{role:"status","aria-live":"assertive"}:{};return t.createElement("div",cL({className:v,style:p},b),t.createElement("p",{className:x,style:m},t.isValidElement(y)?y:"".concat(y)),(()=>{if(s&&s.length){var e=(l?bk()(s,l):s).map((e,n)=>{if("none"===e.type)return null;var i=e.formatter||o||fL,{value:l,name:c}=e,u=l,d=c;if(i){var h=i(l,c,e,n,s);if(Array.isArray(h))[u,d]=h;else{if(null==h)return null;u=h}}var f=dL({display:"block",paddingTop:4,paddingBottom:4,color:e.color||"#000"},a);return t.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(n),style:f},mv(d)?t.createElement("span",{className:"recharts-tooltip-item-name"},d):null,mv(d)?t.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,t.createElement("span",{className:"recharts-tooltip-item-value"},u),t.createElement("span",{className:"recharts-tooltip-item-unit"},e.unit||""))});return t.createElement("ul",{className:"recharts-tooltip-item-list",style:{padding:0,margin:0}},e)}return null})())},mL="recharts-tooltip-wrapper",gL={visibility:"hidden"};function yL(e){var{coordinate:t,translateX:r,translateY:n}=e;return sv(mL,{["".concat(mL,"-right")]:pv(r)&&t&&pv(t.x)&&r>=t.x,["".concat(mL,"-left")]:pv(r)&&t&&pv(t.x)&&r<t.x,["".concat(mL,"-bottom")]:pv(n)&&t&&pv(t.y)&&n>=t.y,["".concat(mL,"-top")]:pv(n)&&t&&pv(t.y)&&n<t.y})}function vL(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:a,position:i,reverseDirection:s,tooltipDimension:o,viewBox:l,viewBoxDimension:c}=e;if(i&&pv(i[n]))return i[n];var u=r[n]-o-(a>0?a:0),d=r[n]+a;if(t[n])return s[n]?u:d;var h=l[n];return null==h?0:s[n]?u<h?Math.max(d,h):Math.max(u,h):null==c?0:d+o>h+c?Math.max(u,h):Math.max(d,h)}function xL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function bL(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?xL(Object(r),!0).forEach(function(t){wL(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xL(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function wL(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class kL extends t.PureComponent{constructor(){super(...arguments),wL(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),wL(this,"handleKeyDown",e=>{var t,r,n,a;"Escape"===e.key&&this.setState({dismissed:!0,dismissedAtCoordinate:{x:null!==(t=null===(r=this.props.coordinate)||void 0===r?void 0:r.x)&&void 0!==t?t:0,y:null!==(n=null===(a=this.props.coordinate)||void 0===a?void 0:a.y)&&void 0!==n?n:0}})})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,t;this.state.dismissed&&((null===(e=this.props.coordinate)||void 0===e?void 0:e.x)===this.state.dismissedAtCoordinate.x&&(null===(t=this.props.coordinate)||void 0===t?void 0:t.y)===this.state.dismissedAtCoordinate.y||(this.state.dismissed=!1))}render(){var{active:e,allowEscapeViewBox:r,animationDuration:n,animationEasing:a,children:i,coordinate:s,hasPayload:o,isAnimationActive:l,offset:c,position:u,reverseDirection:d,useTranslate3d:h,viewBox:f,wrapperStyle:p,lastBoundingBox:m,innerRef:g,hasPortalFromProps:y}=this.props,{cssClasses:v,cssProperties:x}=function(e){var t,r,n,{allowEscapeViewBox:a,coordinate:i,offsetTopLeft:s,position:o,reverseDirection:l,tooltipBox:c,useTranslate3d:u,viewBox:d}=e;return t=c.height>0&&c.width>0&&i?function(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}({translateX:r=vL({allowEscapeViewBox:a,coordinate:i,key:"x",offsetTopLeft:s,position:o,reverseDirection:l,tooltipDimension:c.width,viewBox:d,viewBoxDimension:d.width}),translateY:n=vL({allowEscapeViewBox:a,coordinate:i,key:"y",offsetTopLeft:s,position:o,reverseDirection:l,tooltipDimension:c.height,viewBox:d,viewBoxDimension:d.height}),useTranslate3d:u}):gL,{cssProperties:t,cssClasses:yL({translateX:r,translateY:n,coordinate:i})}}({allowEscapeViewBox:r,coordinate:s,offsetTopLeft:c,position:u,reverseDirection:d,tooltipBox:{height:m.height,width:m.width},useTranslate3d:h,viewBox:f}),b=y?{}:bL(bL({transition:l&&e?"transform ".concat(n,"ms ").concat(a):void 0},x),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&o?"visible":"hidden",position:"absolute",top:0,left:0}),w=bL(bL({},b),{},{visibility:!this.state.dismissed&&e&&o?"visible":"hidden"},p);return t.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:v,style:w,ref:g},i)}}var jL=r(4332),NL=r.n(jL);function SL(e,t,r){return!0===t?NL()(e,r):"function"===typeof t?NL()(e,t):e}function EL(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],[r,n]=(0,t.useState)({height:0,left:0,top:0,width:0}),a=(0,t.useCallback)(e=>{if(null!=e){var t=e.getBoundingClientRect(),a={height:t.height,left:t.left,top:t.top,width:t.width};(Math.abs(a.height-r.height)>1||Math.abs(a.left-r.left)>1||Math.abs(a.top-r.top)>1||Math.abs(a.width-r.width)>1)&&n({height:a.height,left:a.left,top:a.top,width:a.width})}},[r.width,r.height,r.top,r.left,...e]);return[r,a]}function AL(){}function _L(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function CL(e){this._context=e}function TL(e){this._context=e}function IL(e){this._context=e}CL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:_L(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:_L(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},TL.prototype={areaStart:AL,areaEnd:AL,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:_L(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},IL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:_L(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};class OL{constructor(e,t){this._context=e,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,t,e,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,e,this._y0,e,t)}this._x0=e,this._y0=t}}function PL(e){this._context=e}function DL(e){this._context=e}function ML(e){return new DL(e)}function RL(e){return e<0?-1:1}function LL(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),s=(r-e._y1)/(a||n<0&&-0),o=(i*a+s*n)/(n+a);return(RL(i)+RL(s))*Math.min(Math.abs(i),Math.abs(s),.5*Math.abs(o))||0}function FL(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function zL(e,t,r){var n=e._x0,a=e._y0,i=e._x1,s=e._y1,o=(i-n)/3;e._context.bezierCurveTo(n+o,a+o*t,i-o,s-o*r,i,s)}function UL(e){this._context=e}function VL(e){this._context=new BL(e)}function BL(e){this._context=e}function $L(e){this._context=e}function HL(e){var t,r,n=e.length-1,a=new Array(n),i=new Array(n),s=new Array(n);for(a[0]=0,i[0]=2,s[0]=e[0]+2*e[1],t=1;t<n-1;++t)a[t]=1,i[t]=4,s[t]=4*e[t]+2*e[t+1];for(a[n-1]=2,i[n-1]=7,s[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=a[t]/i[t-1],i[t]-=r,s[t]-=r*s[t-1];for(a[n-1]=s[n-1]/i[n-1],t=n-2;t>=0;--t)a[t]=(s[t]-a[t+1])/i[t];for(i[n-1]=(e[n]+a[n-1])/2,t=0;t<n-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function qL(e,t){this._context=e,this._t=t}PL.prototype={areaStart:AL,areaEnd:AL,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}},DL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}},UL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:zL(this,this._t0,FL(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,zL(this,FL(this,r=LL(this,e,t)),r);break;default:zL(this,this._t0,r=LL(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}},(VL.prototype=Object.create(UL.prototype)).point=function(e,t){UL.prototype.point.call(this,t,e)},BL.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}},$L.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===r)this._context.lineTo(e[1],t[1]);else for(var n=HL(e),a=HL(t),i=0,s=1;s<r;++i,++s)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[s],t[s]);(this._line||0!==this._line&&1===r)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}},qL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}}this._x=e,this._y=t}};const KL=Math.PI,WL=2*KL,GL=1e-6,YL=WL-GL;function QL(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}class XL{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==e?QL:function(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return QL;const r=10**t;return function(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=Math.round(arguments[t]*r)/r+e[t]}}(e)}moveTo(e,t){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,t){this._append`L${this._x1=+e},${this._y1=+t}`}quadraticCurveTo(e,t,r,n){this._append`Q${+e},${+t},${this._x1=+r},${this._y1=+n}`}bezierCurveTo(e,t,r,n,a,i){this._append`C${+e},${+t},${+r},${+n},${this._x1=+a},${this._y1=+i}`}arcTo(e,t,r,n,a){if(e=+e,t=+t,r=+r,n=+n,(a=+a)<0)throw new Error(`negative radius: ${a}`);let i=this._x1,s=this._y1,o=r-e,l=n-t,c=i-e,u=s-t,d=c*c+u*u;if(null===this._x1)this._append`M${this._x1=e},${this._y1=t}`;else if(d>GL)if(Math.abs(u*o-l*c)>GL&&a){let h=r-i,f=n-s,p=o*o+l*l,m=h*h+f*f,g=Math.sqrt(p),y=Math.sqrt(d),v=a*Math.tan((KL-Math.acos((p+d-m)/(2*g*y)))/2),x=v/y,b=v/g;Math.abs(x-1)>GL&&this._append`L${e+x*c},${t+x*u}`,this._append`A${a},${a},0,0,${+(u*h>c*f)},${this._x1=e+b*o},${this._y1=t+b*l}`}else this._append`L${this._x1=e},${this._y1=t}`;else;}arc(e,t,r,n,a,i){if(e=+e,t=+t,i=!!i,(r=+r)<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(n),o=r*Math.sin(n),l=e+s,c=t+o,u=1^i,d=i?n-a:a-n;null===this._x1?this._append`M${l},${c}`:(Math.abs(this._x1-l)>GL||Math.abs(this._y1-c)>GL)&&this._append`L${l},${c}`,r&&(d<0&&(d=d%WL+WL),d>YL?this._append`A${r},${r},0,1,${u},${e-s},${t-o}A${r},${r},0,1,${u},${this._x1=l},${this._y1=c}`:d>GL&&this._append`A${r},${r},0,${+(d>=KL)},${u},${this._x1=e+r*Math.cos(a)},${this._y1=t+r*Math.sin(a)}`)}rect(e,t,r,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}h${r=+r}v${+n}h${-r}Z`}toString(){return this._}}function JL(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(null==r)t=null;else{const e=Math.floor(r);if(!(e>=0))throw new RangeError(`invalid digits: ${r}`);t=e}return e},()=>new XL(t)}function ZL(e){return e[0]}function eF(e){return e[1]}function tF(e,t){var r=Sk(!0),n=null,a=ML,i=null,s=JL(o);function o(o){var l,c,u,d=(o=Nk(o)).length,h=!1;for(null==n&&(i=a(u=s())),l=0;l<=d;++l)!(l<d&&r(c=o[l],l,o))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+e(c,l,o),+t(c,l,o));if(u)return i=null,u+""||null}return e="function"===typeof e?e:void 0===e?ZL:Sk(e),t="function"===typeof t?t:void 0===t?eF:Sk(t),o.x=function(t){return arguments.length?(e="function"===typeof t?t:Sk(+t),o):e},o.y=function(e){return arguments.length?(t="function"===typeof e?e:Sk(+e),o):t},o.defined=function(e){return arguments.length?(r="function"===typeof e?e:Sk(!!e),o):r},o.curve=function(e){return arguments.length?(a=e,null!=n&&(i=a(n)),o):a},o.context=function(e){return arguments.length?(null==e?n=i=null:i=a(n=e),o):n},o}function rF(e,t,r){var n=null,a=Sk(!0),i=null,s=ML,o=null,l=JL(c);function c(c){var u,d,h,f,p,m=(c=Nk(c)).length,g=!1,y=new Array(m),v=new Array(m);for(null==i&&(o=s(p=l())),u=0;u<=m;++u){if(!(u<m&&a(f=c[u],u,c))===g)if(g=!g)d=u,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),h=u-1;h>=d;--h)o.point(y[h],v[h]);o.lineEnd(),o.areaEnd()}g&&(y[u]=+e(f,u,c),v[u]=+t(f,u,c),o.point(n?+n(f,u,c):y[u],r?+r(f,u,c):v[u]))}if(p)return o=null,p+""||null}function u(){return tF().defined(a).curve(s).context(i)}return e="function"===typeof e?e:void 0===e?ZL:Sk(+e),t="function"===typeof t?t:Sk(void 0===t?0:+t),r="function"===typeof r?r:void 0===r?eF:Sk(+r),c.x=function(t){return arguments.length?(e="function"===typeof t?t:Sk(+t),n=null,c):e},c.x0=function(t){return arguments.length?(e="function"===typeof t?t:Sk(+t),c):e},c.x1=function(e){return arguments.length?(n=null==e?null:"function"===typeof e?e:Sk(+e),c):n},c.y=function(e){return arguments.length?(t="function"===typeof e?e:Sk(+e),r=null,c):t},c.y0=function(e){return arguments.length?(t="function"===typeof e?e:Sk(+e),c):t},c.y1=function(e){return arguments.length?(r=null==e?null:"function"===typeof e?e:Sk(+e),c):r},c.lineX0=c.lineY0=function(){return u().x(e).y(t)},c.lineY1=function(){return u().x(e).y(r)},c.lineX1=function(){return u().x(n).y(t)},c.defined=function(e){return arguments.length?(a="function"===typeof e?e:Sk(!!e),c):a},c.curve=function(e){return arguments.length?(s=e,null!=i&&(o=s(i)),c):s},c.context=function(e){return arguments.length?(null==e?i=o=null:o=s(i=e),c):i},c}function nF(){return nF=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nF.apply(null,arguments)}function aF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function iF(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?aF(Object(r),!0).forEach(function(t){sF(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aF(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function sF(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var oF={curveBasisClosed:function(e){return new TL(e)},curveBasisOpen:function(e){return new IL(e)},curveBasis:function(e){return new CL(e)},curveBumpX:function(e){return new OL(e,!0)},curveBumpY:function(e){return new OL(e,!1)},curveLinearClosed:function(e){return new PL(e)},curveLinear:ML,curveMonotoneX:function(e){return new UL(e)},curveMonotoneY:function(e){return new VL(e)},curveNatural:function(e){return new $L(e)},curveStep:function(e){return new qL(e,.5)},curveStepAfter:function(e){return new qL(e,1)},curveStepBefore:function(e){return new qL(e,0)}},lF=e=>$_(e.x)&&$_(e.y),cF=e=>e.x,uF=e=>e.y,dF=e=>{var t,{type:r="linear",points:n=[],baseLine:a,layout:i,connectNulls:s=!1}=e,o=((e,t)=>{if("function"===typeof e)return e;var r="curve".concat(Nv(e));return"curveMonotone"!==r&&"curveBump"!==r||!t?oF[r]||ML:oF["".concat(r).concat("vertical"===t?"Y":"X")]})(r,i),l=s?n.filter(lF):n;if(Array.isArray(a)){var c=s?a.filter(e=>lF(e)):a,u=l.map((e,t)=>iF(iF({},e),{},{base:c[t]}));return(t="vertical"===i?rF().y(uF).x1(cF).x0(e=>e.base.x):rF().x(cF).y1(uF).y0(e=>e.base.y)).defined(lF).curve(o),t(u)}return(t="vertical"===i&&pv(a)?rF().y(uF).x1(cF).x0(a):pv(a)?rF().x(cF).y1(uF).y0(a):tF().x(cF).y(uF)).defined(lF).curve(o),t(l)},hF=e=>{var{className:r,points:n,path:a,pathRef:i}=e;if((!n||!n.length)&&!a)return null;var s=n&&n.length?dF(e):a;return t.createElement("path",nF({},OD(e,!1),ND(e),{className:sv("recharts-curve",r),d:null===s?void 0:s,ref:i}))},fF=["x","y","top","left","width","height","className"];function pF(){return pF=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pF.apply(null,arguments)}function mF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function gF(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var yF=(e,t,r,n,a,i)=>"M".concat(e,",").concat(a,"v").concat(n,"M").concat(i,",").concat(t,"h").concat(r),vF=e=>{var{x:r=0,y:n=0,top:a=0,left:i=0,width:s=0,height:o=0,className:l}=e,c=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,fF),u=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?mF(Object(r),!0).forEach(function(t){gF(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mF(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({x:r,y:n,top:a,left:i,width:s,height:o},c);return pv(r)&&pv(n)&&pv(s)&&pv(o)&&pv(a)&&pv(i)?t.createElement("path",pF({},OD(u,!0),{className:sv("recharts-cross",l),d:yF(r,n,s,o,a,i)})):null};var xF=r(4250),bF=r.n(xF);var wF=1e-4,kF=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],jF=(e,t)=>e.map((e,r)=>e*t**r).reduce((e,t)=>e+t),NF=(e,t)=>r=>{var n=kF(e,t);return jF(n,r)},SF=function(){for(var e,t,r,n,a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];if(1===i.length)switch(i[0]){case"linear":[e,r,t,n]=[0,0,1,1];break;case"ease":[e,r,t,n]=[.25,.1,.25,1];break;case"ease-in":[e,r,t,n]=[.42,0,1,1];break;case"ease-out":[e,r,t,n]=[.42,0,.58,1];break;case"ease-in-out":[e,r,t,n]=[0,0,.58,1];break;default:var o=i[0].split("(");"cubic-bezier"===o[0]&&4===o[1].split(")")[0].split(",").length&&([e,r,t,n]=o[1].split(")")[0].split(",").map(e=>parseFloat(e)))}else 4===i.length&&([e,r,t,n]=i);var l,c,u=NF(e,t),d=NF(r,n),h=(l=e,c=t,e=>{var t=[...kF(l,c).map((e,t)=>e*t).slice(1),0];return jF(t,e)}),f=e=>e>1?1:e<0?0:e,p=e=>{for(var t=e>1?1:e,r=t,n=0;n<8;++n){var a=u(r)-t,i=h(r);if(Math.abs(a-t)<wF||i<wF)return d(r);r=f(r-a/i)}return d(r)};return p.isStepper=!1,p},EF=e=>{if("string"===typeof e)switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return SF(e);case"spring":return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{stiff:t=100,damping:r=8,dt:n=17}=e,a=(e,a,i)=>{var s=i+(-(e-a)*t-i*r)*n/1e3,o=i*n/1e3+e;return Math.abs(o-a)<wF&&Math.abs(s)<wF?[a,0]:[o,s]};return a.isStepper=!0,a.dt=n,a}();default:if("cubic-bezier"===e.split("(")[0])return SF(e)}return"function"===typeof e?e:null};function AF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function _F(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?AF(Object(r),!0).forEach(function(t){CF(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AF(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function CF(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var TF=(e,t)=>Object.keys(t).reduce((r,n)=>_F(_F({},r),{},{[n]:e(n,t[n])}),{});function IF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function OF(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?IF(Object(r),!0).forEach(function(t){PF(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IF(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function PF(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var DF=(e,t,r)=>e+(t-e)*r,MF=e=>{var{from:t,to:r}=e;return t!==r},RF=(e,t,r)=>{var n=TF((t,r)=>{if(MF(r)){var[n,a]=e(r.from,r.to,r.velocity);return OF(OF({},r),{},{from:n,velocity:a})}return r},t);return r<1?TF((e,t)=>MF(t)?OF(OF({},t),{},{velocity:DF(t.velocity,n[e].velocity,r),from:DF(t.from,n[e].from,r)}):t,t):RF(e,n,r-1)};function LF(e,t,r,n,a,i){var s,o=n.reduce((r,n)=>OF(OF({},r),{},{[n]:{from:e[n],velocity:0,to:t[n]}}),{}),l=null,c=n=>{s||(s=n);var u=(n-s)/r.dt;o=RF(r,o,u),a(OF(OF(OF({},e),t),TF((e,t)=>t.from,o))),s=n,Object.values(o).filter(MF).length&&(l=i.setTimeout(c))};return()=>(l=i.setTimeout(c),()=>{l()})}const FF=(e,t,r,n,a,i)=>{var s,o,l=(s=e,o=t,[Object.keys(s),Object.keys(o)].reduce((e,t)=>e.filter(e=>t.includes(e))));return!0===r.isStepper?LF(e,t,r,l,a,i):function(e,t,r,n,a,i,s){var o,l=null,c=a.reduce((r,n)=>OF(OF({},r),{},{[n]:[e[n],t[n]]}),{}),u=a=>{o||(o=a);var d=(a-o)/n,h=TF((e,t)=>DF(...t,r(d)),c);if(i(OF(OF(OF({},e),t),h)),d<1)l=s.setTimeout(u);else{var f=TF((e,t)=>DF(...t,r(1)),c);i(OF(OF(OF({},e),t),f))}};return()=>(l=s.setTimeout(u),()=>{l()})}(e,t,r,n,l,a,i)};class zF{setTimeout(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=performance.now(),n=null,a=i=>{i-r>=t?e(i):"function"===typeof requestAnimationFrame&&(n=requestAnimationFrame(a))};return n=requestAnimationFrame(a),()=>{cancelAnimationFrame(n)}}}var UF=["children","begin","duration","attributeName","easing","isActive","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart","animationManager"];function VF(){return VF=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},VF.apply(null,arguments)}function BF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function $F(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?BF(Object(r),!0).forEach(function(t){HF(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BF(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function HF(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qF(){return function(e){var t=()=>null,r=!1,n=null,a=i=>{if(!r){if(Array.isArray(i)){if(!i.length)return;var s=i,[o,...l]=s;return"number"===typeof o?void(n=e.setTimeout(a.bind(null,l),o)):(a(o),void(n=e.setTimeout(a.bind(null,l))))}"object"===typeof i&&t(i),"function"===typeof i&&i()}};return{stop:()=>{r=!0},start:e=>{r=!1,n&&(n(),n=null),a(e)},subscribe:e=>(t=e,()=>{t=()=>null}),getTimeoutController:()=>e}}(new zF)}class KF extends t.PureComponent{constructor(e,t){super(e,t),HF(this,"mounted",!1),HF(this,"manager",null),HF(this,"stopJSAnimation",null),HF(this,"unSubscribe",null);var{isActive:r,attributeName:n,from:a,to:i,children:s,duration:o,animationManager:l}=this.props;if(this.manager=l,this.handleStyleChange=this.handleStyleChange.bind(this),this.changeStyle=this.changeStyle.bind(this),!r||o<=0)return this.state={style:{}},void("function"===typeof s&&(this.state={style:i}));if(a){if("function"===typeof s)return void(this.state={style:a});this.state={style:n?{[n]:a}:a}}else this.state={style:{}}}componentDidMount(){var{isActive:e,canBegin:t}=this.props;this.mounted=!0,e&&t&&this.runAnimation(this.props)}componentDidUpdate(e){var{isActive:t,canBegin:r,attributeName:n,shouldReAnimate:a,to:i,from:s}=this.props,{style:o}=this.state;if(r)if(t){if(!(bF()(e.to,i)&&e.canBegin&&e.isActive)){var l=!e.canBegin||!e.isActive;this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var c=l||a?s:e.to;if(this.state&&o){var u={style:n?{[n]:c}:c};(n&&o[n]!==c||!n&&o!==c)&&this.setState(u)}this.runAnimation($F($F({},this.props),{},{from:c,begin:0}))}}else{var d={style:n?{[n]:i}:i};this.state&&o&&(n&&o[n]!==i||!n&&o!==i)&&this.setState(d)}}componentWillUnmount(){this.mounted=!1;var{onAnimationEnd:e}=this.props;this.unSubscribe&&this.unSubscribe(),this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation(),e&&e()}handleStyleChange(e){this.changeStyle(e)}changeStyle(e){this.mounted&&this.setState({style:e})}runJSAnimation(e){var{from:t,to:r,duration:n,easing:a,begin:i,onAnimationEnd:s,onAnimationStart:o}=e,l=FF(t,r,EF(a),n,this.changeStyle,this.manager.getTimeoutController());this.manager.start([o,i,()=>{this.stopJSAnimation=l()},n,s])}runAnimation(e){var{begin:t,duration:r,attributeName:n,to:a,easing:i,onAnimationStart:s,onAnimationEnd:o,children:l}=e;if(this.unSubscribe=this.manager.subscribe(this.handleStyleChange),"function"!==typeof i&&"function"!==typeof l&&"spring"!==i){var c=n?{[n]:a}:a,u=((e,t,r)=>e.map(e=>{return"".concat((n=e,n.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())))," ").concat(t,"ms ").concat(r);var n}).join(","))(Object.keys(c),r,i);this.manager.start([s,t,$F($F({},c),{},{transition:u}),r,o])}else this.runJSAnimation(e)}render(){var e=this.props,{children:r,begin:n,duration:a,attributeName:i,easing:s,isActive:o,from:l,to:c,canBegin:u,onAnimationEnd:d,shouldReAnimate:h,onAnimationReStart:f,animationManager:p}=e,m=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,UF),g=t.Children.count(r),y=this.state.style;if("function"===typeof r)return r(y);if(!o||0===g||a<=0)return r;var v=e=>{var{style:r={},className:n}=e.props;return(0,t.cloneElement)(e,$F($F({},m),{},{style:$F($F({},r),y),className:n}))};return 1===g?v(t.Children.only(r)):t.createElement("div",null,t.Children.map(r,e=>v(e)))}}HF(KF,"displayName","Animate"),HF(KF,"defaultProps",{begin:0,duration:1e3,attributeName:"",easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}});var WF=(0,t.createContext)(null);function GF(e){var r,n,a=(0,t.useContext)(WF);return t.createElement(KF,VF({},e,{animationManager:null!==(r=null!==(n=e.animationManager)&&void 0!==n?n:a)&&void 0!==r?r:qF()}))}function YF(){return YF=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},YF.apply(null,arguments)}var QF=(e,t,r,n,a)=>{var i,s=Math.min(Math.abs(r)/2,Math.abs(n)/2),o=n>=0?1:-1,l=r>=0?1:-1,c=n>=0&&r>=0||n<0&&r<0?1:0;if(s>0&&a instanceof Array){for(var u=[0,0,0,0],d=0;d<4;d++)u[d]=a[d]>s?s:a[d];i="M".concat(e,",").concat(t+o*u[0]),u[0]>0&&(i+="A ".concat(u[0],",").concat(u[0],",0,0,").concat(c,",").concat(e+l*u[0],",").concat(t)),i+="L ".concat(e+r-l*u[1],",").concat(t),u[1]>0&&(i+="A ".concat(u[1],",").concat(u[1],",0,0,").concat(c,",\n        ").concat(e+r,",").concat(t+o*u[1])),i+="L ".concat(e+r,",").concat(t+n-o*u[2]),u[2]>0&&(i+="A ".concat(u[2],",").concat(u[2],",0,0,").concat(c,",\n        ").concat(e+r-l*u[2],",").concat(t+n)),i+="L ".concat(e+l*u[3],",").concat(t+n),u[3]>0&&(i+="A ".concat(u[3],",").concat(u[3],",0,0,").concat(c,",\n        ").concat(e,",").concat(t+n-o*u[3])),i+="Z"}else if(s>0&&a===+a&&a>0){var h=Math.min(s,a);i="M ".concat(e,",").concat(t+o*h,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+l*h,",").concat(t,"\n            L ").concat(e+r-l*h,",").concat(t,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+r,",").concat(t+o*h,"\n            L ").concat(e+r,",").concat(t+n-o*h,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+r-l*h,",").concat(t+n,"\n            L ").concat(e+l*h,",").concat(t+n,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e,",").concat(t+n-o*h," Z")}else i="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return i},XF={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},JF=e=>{var r=dM(e,XF),n=(0,t.useRef)(null),[a,i]=(0,t.useState)(-1);(0,t.useEffect)(()=>{if(n.current&&n.current.getTotalLength)try{var e=n.current.getTotalLength();e&&i(e)}catch(t){}},[]);var{x:s,y:o,width:l,height:c,radius:u,className:d}=r,{animationEasing:h,animationDuration:f,animationBegin:p,isAnimationActive:m,isUpdateAnimationActive:g}=r;if(s!==+s||o!==+o||l!==+l||c!==+c||0===l||0===c)return null;var y=sv("recharts-rectangle",d);return g?t.createElement(GF,{canBegin:a>0,from:{width:l,height:c,x:s,y:o},to:{width:l,height:c,x:s,y:o},duration:f,animationEasing:h,isActive:g},e=>{var{width:i,height:s,x:o,y:l}=e;return t.createElement(GF,{canBegin:a>0,from:"0px ".concat(-1===a?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:p,duration:f,isActive:m,easing:h},t.createElement("path",YF({},OD(r,!0),{className:y,d:QF(o,l,i,s,u),ref:n})))}):t.createElement("path",YF({},OD(r,!0),{className:y,d:QF(s,o,l,c,u)}))};function ZF(e){var{cx:t,cy:r,radius:n,startAngle:a,endAngle:i}=e;return{points:[Dk(t,r,n,a),Dk(t,r,n,i)],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}function ez(){return ez=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ez.apply(null,arguments)}var tz=e=>{var{cx:t,cy:r,radius:n,angle:a,sign:i,isExternal:s,cornerRadius:o,cornerIsExternal:l}=e,c=o*(s?1:-1)+n,u=Math.asin(o/c)/Ok,d=l?a:a+i*u,h=l?a-i*u:a;return{center:Dk(t,r,c,d),circleTangency:Dk(t,r,n,d),lineTangency:Dk(t,r,c*Math.cos(u*Ok),h),theta:u}},rz=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:i,endAngle:s}=e,o=((e,t)=>dv(t-e)*Math.min(Math.abs(t-e),359.999))(i,s),l=i+o,c=Dk(t,r,a,i),u=Dk(t,r,a,l),d="M ".concat(c.x,",").concat(c.y,"\n    A ").concat(a,",").concat(a,",0,\n    ").concat(+(Math.abs(o)>180),",").concat(+(i>l),",\n    ").concat(u.x,",").concat(u.y,"\n  ");if(n>0){var h=Dk(t,r,n,i),f=Dk(t,r,n,l);d+="L ".concat(f.x,",").concat(f.y,"\n            A ").concat(n,",").concat(n,",0,\n            ").concat(+(Math.abs(o)>180),",").concat(+(i<=l),",\n            ").concat(h.x,",").concat(h.y," Z")}else d+="L ".concat(t,",").concat(r," Z");return d},nz={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},az=e=>{var r=dM(e,nz),{cx:n,cy:a,innerRadius:i,outerRadius:s,cornerRadius:o,forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d,className:h}=r;if(s<i||u===d)return null;var f,p=sv("recharts-sector",h),m=s-i,g=vv(o,m,0,!0);return f=g>0&&Math.abs(u-d)<360?(e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,cornerRadius:i,forceCornerRadius:s,cornerIsExternal:o,startAngle:l,endAngle:c}=e,u=dv(c-l),{circleTangency:d,lineTangency:h,theta:f}=tz({cx:t,cy:r,radius:a,angle:l,sign:u,cornerRadius:i,cornerIsExternal:o}),{circleTangency:p,lineTangency:m,theta:g}=tz({cx:t,cy:r,radius:a,angle:c,sign:-u,cornerRadius:i,cornerIsExternal:o}),y=o?Math.abs(l-c):Math.abs(l-c)-f-g;if(y<0)return s?"M ".concat(h.x,",").concat(h.y,"\n        a").concat(i,",").concat(i,",0,0,1,").concat(2*i,",0\n        a").concat(i,",").concat(i,",0,0,1,").concat(2*-i,",0\n      "):rz({cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:l,endAngle:c});var v="M ".concat(h.x,",").concat(h.y,"\n    A").concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(d.x,",").concat(d.y,"\n    A").concat(a,",").concat(a,",0,").concat(+(y>180),",").concat(+(u<0),",").concat(p.x,",").concat(p.y,"\n    A").concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(m.x,",").concat(m.y,"\n  ");if(n>0){var{circleTangency:x,lineTangency:b,theta:w}=tz({cx:t,cy:r,radius:n,angle:l,sign:u,isExternal:!0,cornerRadius:i,cornerIsExternal:o}),{circleTangency:k,lineTangency:j,theta:N}=tz({cx:t,cy:r,radius:n,angle:c,sign:-u,isExternal:!0,cornerRadius:i,cornerIsExternal:o}),S=o?Math.abs(l-c):Math.abs(l-c)-w-N;if(S<0&&0===i)return"".concat(v,"L").concat(t,",").concat(r,"Z");v+="L".concat(j.x,",").concat(j.y,"\n      A").concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(k.x,",").concat(k.y,"\n      A").concat(n,",").concat(n,",0,").concat(+(S>180),",").concat(+(u>0),",").concat(x.x,",").concat(x.y,"\n      A").concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(b.x,",").concat(b.y,"Z")}else v+="L".concat(t,",").concat(r,"Z");return v})({cx:n,cy:a,innerRadius:i,outerRadius:s,cornerRadius:Math.min(g,m/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d}):rz({cx:n,cy:a,innerRadius:i,outerRadius:s,startAngle:u,endAngle:d}),t.createElement("path",ez({},OD(r,!0),{className:p,d:f}))};function iz(e,t,r){var n,a,i,s;if("horizontal"===e)i=n=t.x,a=r.top,s=r.top+r.height;else if("vertical"===e)s=a=t.y,n=r.left,i=r.left+r.width;else if(null!=t.cx&&null!=t.cy){if("centric"!==e)return ZF(t);var{cx:o,cy:l,innerRadius:c,outerRadius:u,angle:d}=t,h=Dk(o,l,c,d),f=Dk(o,l,u,d);n=h.x,a=h.y,i=f.x,s=f.y}return[{x:n,y:a},{x:i,y:s}]}function sz(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function oz(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?sz(Object(r),!0).forEach(function(t){lz(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sz(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function lz(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var cz=()=>{var e=vk(JI),t=vk(AO),r=vk(NO);return tj(oz(oz({},e),{},{scale:r}),t)};function uz(){return uz=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uz.apply(null,arguments)}function dz(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function hz(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?dz(Object(r),!0).forEach(function(t){fz(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dz(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function fz(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pz(e){var r,n,{coordinate:a,payload:i,index:s,offset:o,tooltipAxisBandSize:l,layout:c,cursor:u,tooltipEventType:d,chartName:h}=e,f=a,p=i,m=s;if(!u||!f||"ScatterChart"!==h&&"axis"!==d)return null;if("ScatterChart"===h)r=f,n=vF;else if("BarChart"===h)r=function(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:"horizontal"===e?t.x-a:r.left+.5,y:"horizontal"===e?r.top+.5:t.y-a,width:"horizontal"===e?n:r.width-1,height:"horizontal"===e?r.height-1:n}}(c,f,o,l),n=JF;else if("radial"===c){var{cx:g,cy:y,radius:v,startAngle:x,endAngle:b}=ZF(f);r={cx:g,cy:y,startAngle:x,endAngle:b,innerRadius:v,outerRadius:v},n=az}else r={points:iz(c,f,o)},n=hF;var w="object"===typeof u&&"className"in u?u.className:void 0,k=hz(hz(hz(hz({stroke:"#ccc",pointerEvents:"none"},o),r),OD(u,!1)),{},{payload:p,payloadIndex:m,className:sv("recharts-tooltip-cursor",w)});return(0,t.isValidElement)(u)?(0,t.cloneElement)(u,k):(0,t.createElement)(n,k)}function mz(e){var r=cz(),n=Nj(),a=Cj(),i=VO();return t.createElement(pz,uz({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:n,layout:a,tooltipAxisBandSize:r,chartName:i}))}function gz(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function yz(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?gz(Object(r),!0).forEach(function(t){vz(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gz(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function vz(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xz(e){return e.dataKey}var bz=[],wz={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!vM,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function kz(e){var r=dM(e,wz),{active:n,allowEscapeViewBox:a,animationDuration:i,animationEasing:s,content:o,filterNull:l,isAnimationActive:c,offset:u,payloadUniqBy:d,position:h,reverseDirection:f,useTranslate3d:p,wrapperStyle:m,cursor:g,shared:y,trigger:v,defaultIndex:x,portal:b,axisId:w}=r,k=pk(),j="number"===typeof x?String(x):x;(0,t.useEffect)(()=>{k(Mw({shared:y,trigger:v,axisId:w,active:n,defaultIndex:j}))},[k,y,v,w,n,j]);var N=kj(),S=PD(),E=function(e){return vk(t=>MI(t,e))}(y),{activeIndex:A,isActive:_}=vk(e=>ZO(e,E,v,j)),C=vk(e=>JO(e,E,v,j)),T=vk(e=>XO(e,E,v,j)),I=vk(e=>QO(e,E,v,j)),O=C,P=(0,t.useContext)(QD),D=null!==n&&void 0!==n?n:_,[M,R]=EL([O,D]),L="axis"===E?T:void 0;YD(E,v,I,L,A,D);var F=null!==b&&void 0!==b?b:P;if(null==F)return null;var z=null!==O&&void 0!==O?O:bz;D||(z=bz),l&&z.length&&(z=SL(O.filter(e=>null!=e.value&&(!0!==e.hide||r.includeHidden)),d,xz));var U=z.length>0,V=t.createElement(kL,{allowEscapeViewBox:a,animationDuration:i,animationEasing:s,isAnimationActive:c,active:D,coordinate:I,hasPayload:U,offset:u,position:h,reverseDirection:f,useTranslate3d:p,viewBox:N,wrapperStyle:m,lastBoundingBox:M,innerRef:R,hasPortalFromProps:Boolean(b)},function(e,r){return t.isValidElement(e)?t.cloneElement(e,r):"function"===typeof e?t.createElement(e,r):t.createElement(pL,r)}(o,yz(yz({},r),{},{payload:z,label:L,active:D,coordinate:I,accessibilityLayer:S})));return t.createElement(t.Fragment,null,(0,lL.createPortal)(V,F),D&&t.createElement(mz,{cursor:g,tooltipEventType:E,coordinate:I,payload:O,index:A}))}function jz(){return jz=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jz.apply(null,arguments)}var Nz=e=>{var{cx:r,cy:n,r:a,className:i}=e,s=sv("recharts-dot",i);return r===+r&&n===+n&&a===+a?t.createElement("circle",jz({},OD(e,!1),ND(e),{className:s,cx:r,cy:n,r:a})):null},Sz=r(356),Ez=r.n(Sz),Az=["valueAccessor"],_z=["data","dataKey","clockWise","id","textBreakAll"];function Cz(){return Cz=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cz.apply(null,arguments)}function Tz(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Iz(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Tz(Object(r),!0).forEach(function(t){Oz(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Tz(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Oz(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pz(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var Dz=e=>Array.isArray(e.value)?Ez()(e.value):e.value;function Mz(e){var{valueAccessor:r=Dz}=e,n=Pz(e,Az),{data:a,dataKey:i,clockWise:s,id:o,textBreakAll:l}=n,c=Pz(n,_z);return a&&a.length?t.createElement(FM,{className:"recharts-label-list"},a.map((e,n)=>{var a=jv(i)?r(e,n):Bk(e&&e.payload,i),u=jv(o)?{}:{id:"".concat(o,"-").concat(n)};return t.createElement(gR,Cz({},OD(e,!0),c,u,{parentViewBox:e.parentViewBox,value:a,textBreakAll:l,viewBox:gR.parseViewBox(jv(s)?e:Iz(Iz({},e),{},{clockWise:s})),key:"label-".concat(n),index:n}))})):null}function Rz(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Lz(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Rz(Object(r),!0).forEach(function(t){Fz(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Rz(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Fz(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zz(e){var r=pk(),n=(0,t.useRef)(null);return(0,t.useEffect)(()=>{var t=Lz(Lz({},e),{},{stackId:Yk(e.stackId)});null===n.current?r(kP(t)):n.current!==t&&r(jP({prev:n.current,next:t})),n.current=t},[r,e]),(0,t.useEffect)(()=>()=>{n.current&&(r(NP(n.current)),n.current=null)},[r]),null}function Uz(e){var r=pk();return(0,t.useEffect)(()=>(r(SP(e)),()=>{r(EP(e))}),[r,e]),null}Mz.displayName="LabelList",Mz.renderCallByParent=function(e,r){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.children&&n&&!e.label)return null;var{children:a}=e,i=TD(a,Mz).map((e,n)=>(0,t.cloneElement)(e,{data:r,key:"labelList-".concat(n)}));if(!n)return i;var s=function(e,r){return e?!0===e?t.createElement(Mz,{key:"labelList-implicit",data:r}):t.isValidElement(e)||pR(e)?t.createElement(Mz,{key:"labelList-implicit",data:r,content:e}):"object"===typeof e?t.createElement(Mz,Cz({data:r},e,{key:"labelList-implicit"})):null:null}(e.label,r);return[s,...i]};var Vz=["children"];var Bz=()=>{},$z=(0,t.createContext)({addErrorBar:Bz,removeErrorBar:Bz}),Hz={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},qz=(0,t.createContext)(Hz);function Kz(e){var{children:r}=e,n=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,Vz);return t.createElement(qz.Provider,{value:n},r)}var Wz=e=>{var{children:r,xAxisId:n,yAxisId:a,zAxisId:i,dataKey:s,data:o,stackId:l,hide:c,type:u,barSize:d}=e,[h,f]=t.useState([]),p=(0,t.useCallback)(e=>{f(t=>[...t,e])},[f]),m=(0,t.useCallback)(e=>{f(t=>t.filter(t=>t!==e))},[f]),g=xj();return t.createElement($z.Provider,{value:{addErrorBar:p,removeErrorBar:m}},t.createElement(zz,{type:u,data:o,xAxisId:n,yAxisId:a,zAxisId:i,dataKey:s,errorBars:h,stackId:l,hide:c,barSize:d,isPanorama:g}),r)};function Gz(e){var{addErrorBar:r,removeErrorBar:n}=(0,t.useContext)($z);return(0,t.useEffect)(()=>(r(e),()=>{n(e)}),[r,n,e]),null}var Yz=["direction","width","dataKey","isAnimationActive","animationBegin","animationDuration","animationEasing"];function Qz(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xz(){return Xz=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xz.apply(null,arguments)}function Jz(e){var{direction:r,width:n,dataKey:a,isAnimationActive:i,animationBegin:s,animationDuration:o,animationEasing:l}=e,c=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,Yz),u=OD(c,!1),{data:d,dataPointFormatter:h,xAxisId:f,yAxisId:p,errorBarOffset:m}=(0,t.useContext)(qz),g=(e=>{var t=xj();return vk(r=>CI(r,"xAxis",e,t))})(f),y=(e=>{var t=xj();return vk(r=>CI(r,"yAxis",e,t))})(p);if(null==(null===g||void 0===g?void 0:g.scale)||null==(null===y||void 0===y?void 0:y.scale)||null==d)return null;if("x"===r&&"number"!==g.type)return null;var v=d.map(e=>{var{x:c,y:d,value:f,errorVal:p}=h(e,a,r);if(!p)return null;var v,x,b=[];if(Array.isArray(p)?[v,x]=p:v=x=p,"x"===r){var{scale:w}=g,k=d+m,j=k+n,N=k-n,S=w(f-v),E=w(f+x);b.push({x1:E,y1:j,x2:E,y2:N}),b.push({x1:S,y1:k,x2:E,y2:k}),b.push({x1:S,y1:j,x2:S,y2:N})}else if("y"===r){var{scale:A}=y,_=c+m,C=_-n,T=_+n,I=A(f-v),O=A(f+x);b.push({x1:C,y1:O,x2:T,y2:O}),b.push({x1:_,y1:I,x2:_,y2:O}),b.push({x1:C,y1:I,x2:T,y2:I})}var P="".concat(c+m,"px ").concat(d+m,"px");return t.createElement(FM,Xz({className:"recharts-errorBar",key:"bar-".concat(b.map(e=>"".concat(e.x1,"-").concat(e.x2,"-").concat(e.y1,"-").concat(e.y2)))},u),b.map(e=>{var r=i?{transformOrigin:"".concat(e.x1-5,"px")}:void 0;return t.createElement(GF,{from:{transform:"scaleY(0)",transformOrigin:P},to:{transform:"scaleY(1)",transformOrigin:P},begin:s,easing:l,isActive:i,duration:o,key:"line-".concat(e.x1,"-").concat(e.x2,"-").concat(e.y1,"-").concat(e.y2),style:{transformOrigin:P}},t.createElement("line",Xz({},e,{style:r})))}))});return t.createElement(FM,{className:"recharts-errorBars"},v)}var Zz=(0,t.createContext)(void 0);function eU(e){var{direction:r,children:n}=e;return t.createElement(Zz.Provider,{value:r},n)}var tU={stroke:"black",strokeWidth:1.5,width:5,offset:0,isAnimationActive:!0,animationBegin:0,animationDuration:400,animationEasing:"ease-in-out"};function rU(e){var r=function(e){var r=(0,t.useContext)(Zz);return null!=e?e:null!=r?r:"x"}(e.direction),{width:n,isAnimationActive:a,animationBegin:i,animationDuration:s,animationEasing:o}=dM(e,tU);return t.createElement(t.Fragment,null,t.createElement(Gz,{dataKey:e.dataKey,direction:r}),t.createElement(Jz,Xz({},e,{direction:r,width:n,isAnimationActive:a,animationBegin:i,animationDuration:s,animationEasing:o})))}class nU extends t.Component{render(){return t.createElement(rU,this.props)}}function aU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function iU(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?aU(Object(r),!0).forEach(function(t){sU(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aU(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function sU(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Qz(nU,"defaultProps",tU),Qz(nU,"displayName","ErrorBar");function oU(e){var{points:r,mainColor:n,activeDot:a,itemDataKey:i}=e,s=vk(OO),o=vk(UO);if(null==r||null==o)return null;var l=r.find(e=>o.includes(e.payload));return jv(l)?null:(e=>{var{point:r,childIndex:n,mainColor:a,activeDot:i,dataKey:s}=e;if(!1===i||null==r.x||null==r.y)return null;var o,l=iU(iU({index:n,dataKey:s,cx:r.x,cy:r.y,r:4,fill:null!==a&&void 0!==a?a:"none",strokeWidth:2,stroke:"#fff",payload:r.payload,value:r.value},OD(i,!1)),ND(i));return o=(0,t.isValidElement)(i)?(0,t.cloneElement)(i,l):"function"===typeof i?i(l):t.createElement(Nz,l),t.createElement(FM,{className:"recharts-active-dot"},o)})({point:l,childIndex:Number(s),mainColor:n,dataKey:i,activeDot:a})}function lU(e){var{fn:r,args:n}=e,a=pk(),i=xj();return(0,t.useEffect)(()=>{if(!i){var e=r(n);return a(Pw(e)),()=>{a(Dw(e))}}},[r,n,a,i]),null}function cU(e,t){var r,n,a=vk(t=>QC(t,e)),i=vk(e=>JC(e,t)),s=null!==(r=null===a||void 0===a?void 0:a.allowDataOverflow)&&void 0!==r?r:YC.allowDataOverflow,o=null!==(n=null===i||void 0===i?void 0:i.allowDataOverflow)&&void 0!==n?n:XC.allowDataOverflow;return{needClip:s||o,needClipX:s,needClipY:o}}function uU(e){var{xAxisId:r,yAxisId:n,clipPathId:a}=e,i=aM(),{needClipX:s,needClipY:o,needClip:l}=cU(r,n);if(!l)return null;var{x:c,y:u,width:d,height:h}=i;return t.createElement("clipPath",{id:"clipPath-".concat(a)},t.createElement("rect",{x:s?c:c-d/2,y:o?u:u-h/2,width:s?d:2*d,height:o?h:2*h}))}var dU=(e,t,r,n)=>CI(e,"xAxis",t,n),hU=(e,t,r,n)=>_I(e,"xAxis",t,n),fU=(e,t,r,n)=>CI(e,"yAxis",r,n),pU=(e,t,r,n)=>_I(e,"yAxis",r,n),mU=ck([_j,dU,fU,hU,pU],(e,t,r,n,a)=>$k(e,"xAxis")?tj(t,n,!1):tj(r,a,!1)),gU=ck([iT,(e,t,r,n,a)=>a],(e,t)=>{if(e.some(e=>"line"===e.type&&t.dataKey===e.dataKey&&t.data===e.data))return t}),yU=ck([_j,dU,fU,hU,pU,gU,mU,B_],(e,t,r,n,a,i,s,o)=>{var{chartData:l,dataStartIndex:c,dataEndIndex:u}=o;if(null!=i&&null!=t&&null!=r&&null!=n&&null!=a&&0!==n.length&&0!==a.length&&null!=s){var d,{dataKey:h,data:f}=i;if(null!=(d=null!=f&&f.length>0?f:null===l||void 0===l?void 0:l.slice(c,u+1)))return function(e){var{layout:t,xAxis:r,yAxis:n,xAxisTicks:a,yAxisTicks:i,dataKey:s,bandSize:o,displayedData:l}=e;return l.map((e,l)=>{var c=Bk(e,s);return"horizontal"===t?{x:Qk({axis:r,ticks:a,bandSize:o,entry:e,index:l}),y:jv(c)?null:n.scale(c),value:c,payload:e}:{x:jv(c)?null:r.scale(c),y:Qk({axis:n,ticks:i,bandSize:o,entry:e,index:l}),value:c,payload:e}})}({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:a,dataKey:h,bandSize:s,displayedData:d})}}),vU=()=>{};function xU(e){var{legendPayload:r}=e,n=pk(),a=xj();return(0,t.useEffect)(()=>a?vU:(n($P(r)),()=>{n(HP(r))}),[n,a,r]),null}function bU(e){var{legendPayload:r}=e,n=pk(),a=vk(_j);return(0,t.useEffect)(()=>"centric"!==a&&"radial"!==a?vU:(n($P(r)),()=>{n(HP(r))}),[n,a,r]),null}function wU(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"animation-",n=(0,t.useRef)(yv(r)),a=(0,t.useRef)(e);return a.current!==e&&(n.current=yv(r),a.current=e),n.current}var kU=["type","layout","connectNulls","needClip"],jU=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId"];function NU(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function SU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function EU(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?SU(Object(r),!0).forEach(function(t){AU(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SU(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function AU(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _U(){return _U=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_U.apply(null,arguments)}var CU=e=>{var{dataKey:t,name:r,stroke:n,legendType:a,hide:i}=e;return[{inactive:i,dataKey:t,type:a,color:n,value:nj(r,t),payload:e}]};function TU(e){var{dataKey:t,data:r,stroke:n,strokeWidth:a,fill:i,name:s,hide:o,unit:l}=e;return{dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:a,fill:i,dataKey:t,nameKey:void 0,name:nj(s,t),hide:o,type:e.tooltipType,color:e.stroke,unit:l}}}var IU=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function OU(e,t){for(var r=e.length%2!==0?[...e,0]:e,n=[],a=0;a<t;++a)n=[...n,...r];return n}function PU(e){var{clipPathId:r,points:n,props:a}=e,{dot:i,dataKey:s,needClip:o}=a;if(!function(e,t){return null!=e&&(!!t||1===e.length)}(n,i))return null;var l=ID(i),c=OD(a,!1),u=OD(i,!0),d=n.map((e,r)=>{var a=EU(EU(EU({key:"dot-".concat(r),r:3},c),u),{},{index:r,cx:e.x,cy:e.y,dataKey:s,value:e.value,payload:e.payload,points:n});return function(e,r){var n;if(t.isValidElement(e))n=t.cloneElement(e,r);else if("function"===typeof e)n=e(r);else{var a=sv("recharts-line-dot","boolean"!==typeof e?e.className:"");n=t.createElement(Nz,_U({},r,{className:a}))}return n}(i,a)}),h={clipPath:o?"url(#clipPath-".concat(l?"":"dots-").concat(r,")"):null};return t.createElement(FM,_U({className:"recharts-line-dots",key:"dots"},h),d)}function DU(e){var{clipPathId:r,pathRef:n,points:a,strokeDasharray:i,props:s,showLabels:o}=e,{type:l,layout:c,connectNulls:u,needClip:d}=s,h=NU(s,kU),f=EU(EU({},OD(h,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:d?"url(#clipPath-".concat(r,")"):null,points:a,type:l,layout:c,connectNulls:u,strokeDasharray:null!==i&&void 0!==i?i:s.strokeDasharray});return t.createElement(t.Fragment,null,(null===a||void 0===a?void 0:a.length)>1&&t.createElement(hF,_U({},f,{pathRef:n})),t.createElement(PU,{points:a,clipPathId:r,props:s}),o&&Mz.renderCallByParent(s,a))}function MU(e){var{clipPathId:r,props:n,pathRef:a,previousPointsRef:i,longestAnimatedLengthRef:s}=e,{points:o,strokeDasharray:l,isAnimationActive:c,animationBegin:u,animationDuration:d,animationEasing:h,animateNewValues:f,width:p,height:m,onAnimationEnd:g,onAnimationStart:y}=n,v=i.current,x=wU(n,"recharts-line-"),[b,w]=(0,t.useState)(!1),k=(0,t.useCallback)(()=>{"function"===typeof g&&g(),w(!1)},[g]),j=(0,t.useCallback)(()=>{"function"===typeof y&&y(),w(!0)},[y]),N=function(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch(t){return 0}}(a.current),S=s.current;return t.createElement(GF,{begin:u,duration:d,isActive:c,easing:h,from:{t:0},to:{t:1},onAnimationEnd:k,onAnimationStart:j,key:x},e=>{var c,{t:u}=e,d=bv(S,N+S),h=Math.min(d(u),N);if(l){var g="".concat(l).split(/[,\s]+/gim).map(e=>parseFloat(e));c=((e,t,r)=>{var n=r.reduce((e,t)=>e+t);if(!n)return IU(t,e);for(var a=Math.floor(e/n),i=e%n,s=t-e,o=[],l=0,c=0;l<r.length;c+=r[l],++l)if(c+r[l]>i){o=[...r.slice(0,l),i-c];break}var u=o.length%2===0?[0,s]:[s];return[...OU(r,a),...o,...u].map(e=>"".concat(e,"px")).join(", ")})(h,N,g)}else c=IU(N,h);if(v){var y=v.length/o.length,x=1===u?o:o.map((e,t)=>{var r=Math.floor(t*y);if(v[r]){var n=v[r],a=bv(n.x,e.x),i=bv(n.y,e.y);return EU(EU({},e),{},{x:a(u),y:i(u)})}if(f){var s=bv(2*p,e.x),o=bv(m/2,e.y);return EU(EU({},e),{},{x:s(u),y:o(u)})}return EU(EU({},e),{},{x:e.x,y:e.y})});return i.current=x,t.createElement(DU,{props:n,points:x,clipPathId:r,pathRef:a,showLabels:!b,strokeDasharray:c})}return u>0&&N>0&&(i.current=o,s.current=h),t.createElement(DU,{props:n,points:o,clipPathId:r,pathRef:a,showLabels:!b,strokeDasharray:c})})}function RU(e){var{clipPathId:r,props:n}=e,{points:a,isAnimationActive:i}=n,s=(0,t.useRef)(null),o=(0,t.useRef)(0),l=(0,t.useRef)(null),c=s.current;return i&&a&&a.length&&c!==a?t.createElement(MU,{props:n,clipPathId:r,previousPointsRef:s,longestAnimatedLengthRef:o,pathRef:l}):t.createElement(DU,{props:n,points:a,clipPathId:r,pathRef:l,showLabels:!0})}var LU=(e,t)=>({x:e.x,y:e.y,value:e.value,errorVal:Bk(e.payload,t)});class FU extends t.Component{constructor(){super(...arguments),AU(this,"id",yv("recharts-line-"))}render(){var e,{hide:r,dot:n,points:a,className:i,xAxisId:s,yAxisId:o,top:l,left:c,width:u,height:d,id:h,needClip:f,layout:p}=this.props;if(r)return null;var m=sv("recharts-line",i),g=jv(h)?this.id:h,{r:y=3,strokeWidth:v=2}=null!==(e=OD(n,!1))&&void 0!==e?e:{r:3,strokeWidth:2},x=ID(n),b=2*y+v;return t.createElement(t.Fragment,null,t.createElement(FM,{className:m},f&&t.createElement("defs",null,t.createElement(uU,{clipPathId:g,xAxisId:s,yAxisId:o}),!x&&t.createElement("clipPath",{id:"clipPath-dots-".concat(g)},t.createElement("rect",{x:c-b/2,y:l-b/2,width:u+b,height:d+b}))),t.createElement(RU,{props:this.props,clipPathId:g}),t.createElement(eU,{direction:"horizontal"===p?"y":"x"},t.createElement(Kz,{xAxisId:s,yAxisId:o,data:a,dataPointFormatter:LU,errorBarOffset:0},this.props.children))),t.createElement(oU,{activeDot:this.props.activeDot,points:a,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var zU={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!vM,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function UU(e){var r=dM(e,zU),{activeDot:n,animateNewValues:a,animationBegin:i,animationDuration:s,animationEasing:o,connectNulls:l,dot:c,hide:u,isAnimationActive:d,label:h,legendType:f,xAxisId:p,yAxisId:m}=r,g=NU(r,jU),{needClip:y}=cU(p,m),{height:v,width:x,x:b,y:w}=aM(),k=Cj(),j=xj(),N=(0,t.useMemo)(()=>({dataKey:e.dataKey,data:e.data}),[e.dataKey,e.data]),S=vk(e=>yU(e,p,m,j,N));return"horizontal"!==k&&"vertical"!==k?null:t.createElement(FU,_U({},g,{connectNulls:l,dot:c,activeDot:n,animateNewValues:a,animationBegin:i,animationDuration:s,animationEasing:o,isAnimationActive:d,hide:u,label:h,legendType:f,xAxisId:p,yAxisId:m,points:S,layout:k,height:v,width:x,left:b,top:w,needClip:y}))}class VU extends t.PureComponent{render(){return t.createElement(Wz,{type:"line",data:this.props.data,xAxisId:this.props.xAxisId,yAxisId:this.props.yAxisId,zAxisId:0,dataKey:this.props.dataKey,stackId:void 0,hide:this.props.hide,barSize:void 0},t.createElement(xU,{legendPayload:CU(this.props)}),t.createElement(lU,{fn:TU,args:this.props}),t.createElement(UU,this.props))}}AU(VU,"displayName","Line"),AU(VU,"defaultProps",zU);const BU=84,$U={income:["Salary","Gift","Payouts","Gambling","Investments","Business","Freelance","Rental Income","Interest","Dividends","Bonus","Commission","Refunds","Other Income"],expense:["Food & Dining","Travel","Entertainment","Friends & Family","Shopping","Utilities","Healthcare","Personal Care","Gifts & Donations","Bills","Groceries","Vehicle","Subscriptions","Hobbies","Eval","Other Expenses"],transfer:["Self Transfer","Account Transfer","Wallet Transfer"],adjustment:["Balance Reconciliation","Bank Interest","Bank Charges","Missed Transaction","Other Adjustment"]},HU={bank:["UPI","Bank Transfer","Debit Card","Credit Card","Cash","Net Banking"],crypto:["Crypto Transfer","Crypto Card","Exchange Transfer","DeFi Transaction"]};const qU=function(e){var r,n;let{accounts:a,transactions:i}=e;const s=re(),{currentUser:o}=ly(),[l,c]=(0,t.useState)("INR"),[u,d]=(0,t.useState)([]),[h,f]=(0,t.useState)(!0),[p,m]=(0,t.useState)("yearly"),[g,y]=(0,t.useState)(!1),[v,x]=(0,t.useState)(!1),[b,w]=(0,t.useState)(!1),[k,j]=(0,t.useState)(null),[N,S]=(0,t.useState)(!1),[E,A]=(0,t.useState)(null),_=()=>{const e=new Date;return`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")}T${String(e.getHours()).padStart(2,"0")}:${String(e.getMinutes()).padStart(2,"0")}`},[C,T]=(0,t.useState)({type:"expense",amount:"",currency:"INR",accountId:"",toAccountId:"",category:"",paymentMode:"",notes:"",newBalance:"",date:_(),isIncrease:!0});(0,t.useEffect)(()=>{o&&I()},[o,p]),(0,t.useEffect)(()=>{const e=()=>A(null);return document.addEventListener("click",e),()=>document.removeEventListener("click",e)},[]),(0,t.useEffect)(()=>{g&&T(e=>({...e,date:_()}))},[g]),(0,t.useEffect)(()=>{const e=e=>{"Escape"===e.key&&(g&&(y(!1),z()),v&&(x(!1),j(null),z()),b&&(w(!1),j(null)))};if(g||v||b)return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[g,v,b]);const I=async()=>{if(o)try{const e=Ag(zm(iy,"users",o.uid,"netWorthSnapshots"),Og("date","desc")),t=(await qg(e)).docs.map(e=>({date:e.id,value:e.data().totalNetWorth}));let r=[];new Date;switch(p){case"weekly":r=t.slice(0,7).reverse().map(e=>({label:new Date(e.date).toLocaleDateString("en-IN",{day:"numeric",month:"short"}),netWorth:e.value}));break;case"monthly":r=t.slice(0,30).reverse().map(e=>({label:new Date(e.date).toLocaleDateString("en-IN",{day:"numeric",month:"short"}),netWorth:e.value}));break;case"yearly":const e={};t.forEach(t=>{const r=new Date(t.date),n=`${r.getFullYear()}-${r.getMonth()}`;e[n]||(e[n]={date:r,value:t.value,month:r.toLocaleDateString("en-IN",{month:"short",year:"2-digit"})})}),r=Object.values(e).slice(0,12).reverse().map(e=>({label:e.month,netWorth:e.value}));break;case"all":const n={};t.forEach(e=>{const t=new Date(e.date).getFullYear();n[t]||(n[t]={year:t,value:e.value})}),r=Object.values(n).reverse().map(e=>({label:e.year.toString(),netWorth:e.value}))}d(r),f(!1)}catch(e){console.error("Error loading net worth data:",e),f(!1)}},O=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"INR";return new Intl.NumberFormat("en-IN",{style:"currency",currency:t,minimumFractionDigits:"USD"===t?2:0,maximumFractionDigits:"USD"===t?2:0}).format(e)},P=(e,t)=>"USD"===t?e*BU:e,D=e=>new Date(e).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"}),M=e=>new Date(e).toLocaleTimeString("en-IN",{hour:"2-digit",minute:"2-digit"}),R=e=>a.find(t=>t.id===e),L=e=>({income:(0,sy.jsx)(Ky,{className:"w-5 h-5 text-green-600 dark:text-green-400"}),expense:(0,sy.jsx)(Wy,{className:"w-5 h-5 text-red-600 dark:text-red-400"}),transfer:(0,sy.jsx)(Gy,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),adjustment:(0,sy.jsx)(Py,{className:"w-5 h-5 text-orange-600 dark:text-orange-400"})}[e]||null),F=e=>({income:"bg-green-100 dark:bg-green-500/10",expense:"bg-red-100 dark:bg-red-500/10",transfer:"bg-blue-100 dark:bg-blue-500/10",adjustment:"bg-orange-100 dark:bg-orange-500/10"}[e]||"bg-gray-100 dark:bg-gray-800"),z=()=>{T({type:"expense",amount:"",currency:"INR",accountId:"",toAccountId:"",category:"",paymentMode:"",notes:"",newBalance:"",date:_(),isIncrease:!0})},U=e=>{var t;j(e),T({type:e.type,amount:e.amount.toString(),currency:e.currency,accountId:e.accountId,toAccountId:e.toAccountId||"",category:e.category,paymentMode:e.paymentMode||"",notes:e.notes||"",date:e.date,isIncrease:null===(t=e.isIncrease)||void 0===t||t}),x(!0),A(null)},V=e=>{j(e),w(!0),A(null)},B=a.reduce((e,t)=>e+P(t.balance,t.currency),0),$=a.filter(e=>"bank"===e.type),H=a.filter(e=>"crypto"===e.type),q=$.reduce((e,t)=>e+P(t.balance,t.currency),0),K=H.reduce((e,t)=>e+P(t.balance,t.currency),0),W=(new Date).getMonth(),G=(new Date).getFullYear(),Y=i.filter(e=>{const t=new Date(e.date);return t.getMonth()===W&&t.getFullYear()===G}),Q=Y.filter(e=>"income"===e.type).reduce((e,t)=>e+(t.amountInINR||P(t.amount,t.currency)),0),X=Y.filter(e=>"expense"===e.type).reduce((e,t)=>e+(t.amountInINR||P(t.amount,t.currency)),0),J=Q-X,Z=0===W?11:W-1,ee=0===W?G-1:G,te=i.filter(e=>{const t=new Date(e.date);return t.getMonth()===Z&&t.getFullYear()===ee}),ne=te.filter(e=>"income"===e.type).reduce((e,t)=>e+(t.amountInINR||P(t.amount,t.currency)),0),ae=te.filter(e=>"expense"===e.type).reduce((e,t)=>e+(t.amountInINR||P(t.amount,t.currency)),0),ie=ne>0?(Q-ne)/ne*100:0,se=ae>0?(X-ae)/ae*100:0,oe=[...i].slice(0,5),le=(new Date).getHours();let ce="Good morning",ue=Ly;le>=12&&le<17?(ce="Good afternoon",ue=Ly):le>=17?(ce="Good evening",ue=Fy):le<5&&(ce="Good night",ue=Fy);const de=(()=>{if(null===o||void 0===o||!o.displayName)return"User";const e=o.displayName,t=e.match(/(?:Mr\.|Mrs\.|Ms\.|Dr\.|Prof\.)?\s*(.+)/i);if(t){return t[1].trim().split(" ")[0]}return e.split(" ")[0]})();return(0,sy.jsxs)("div",{className:"p-4 sm:p-6 space-y-4 sm:space-y-6 animate-fade-in relative min-h-screen transition-all duration-500",children:[(0,sy.jsx)("div",{className:"flex items-center justify-between",children:(0,sy.jsxs)("div",{className:"flex items-center space-x-3 sm:space-x-4",children:[(0,sy.jsx)("div",{className:"p-2 sm:p-3 bg-white dark:bg-white/5 rounded-full shadow-sm dark:shadow-lg transition-all duration-300 backdrop-blur-sm",children:(0,sy.jsx)(ue,{className:"w-5 h-5 sm:w-6 sm:h-6 text-orange-500"})}),(0,sy.jsxs)("div",{children:[(0,sy.jsxs)("h1",{className:"text-lg sm:text-2xl font-bold text-gray-900 dark:text-white transition-colors duration-300",children:[ce,", ",de]}),(0,sy.jsx)("p",{className:"text-sm sm:text-base text-gray-600 dark:text-gray-400 transition-colors duration-300",children:"Here's your financial overview"})]})]})}),(0,sy.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-4 sm:gap-6",children:[(0,sy.jsxs)("div",{className:"lg:col-span-4 bg-white dark:bg-white/5 rounded-2xl p-4 sm:p-6 backdrop-blur-sm h-full shadow-lg dark:shadow-2xl transition-all duration-300 hover:shadow-xl dark:hover:shadow-3xl hover:transform hover:scale-[1.02]",children:[(0,sy.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,sy.jsx)("h3",{className:"text-sm text-gray-600 dark:text-gray-400 transition-colors duration-300",children:"Total Balance"}),(0,sy.jsxs)("select",{value:l,onChange:e=>c(e.target.value),className:"text-sm border-0 bg-transparent focus:outline-none text-gray-600 dark:text-gray-400 cursor-pointer transition-colors duration-300",children:[(0,sy.jsx)("option",{value:"INR",children:"INR"}),(0,sy.jsx)("option",{value:"USD",children:"USD"})]})]}),(0,sy.jsxs)("div",{className:"mb-4",children:[(0,sy.jsx)("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white transition-colors duration-300",children:"INR"===l?O(B,"INR"):O((he=B,he/BU),"USD")}),(0,sy.jsxs)("p",{className:"text-sm text-green-500 dark:text-green-400 flex items-center mt-1 transition-colors duration-300",children:[(0,sy.jsx)(xy,{className:"w-4 h-4 mr-1"}),J>=0?"Positive":"Negative"," savings this month"]})]}),(0,sy.jsxs)("div",{className:"flex space-x-3 mb-6",children:[(0,sy.jsxs)("button",{onClick:()=>{T(e=>({...e,type:"transfer"})),y(!0)},className:"flex-1 bg-gray-900 dark:bg-gray-800 text-white py-2 px-4 rounded-lg flex items-center justify-center space-x-2 hover:bg-gray-800 dark:hover:bg-gray-700 transition-all duration-300 transform hover:-translate-y-0.5 shadow-md dark:shadow-lg",children:[(0,sy.jsx)(Gy,{className:"w-4 h-4"}),(0,sy.jsx)("span",{children:"Transfer"})]}),(0,sy.jsxs)("button",{onClick:()=>y(!0),className:"flex-1 bg-orange-500 hover:bg-orange-600 text-white py-2 px-4 rounded-lg flex items-center justify-center space-x-2 transition-all duration-300 transform hover:-translate-y-0.5 shadow-md dark:shadow-lg",children:[(0,sy.jsx)(Xy,{className:"w-4 h-4"}),(0,sy.jsx)("span",{children:"Add Transaction"})]})]}),(0,sy.jsxs)("div",{children:[(0,sy.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,sy.jsxs)("h4",{className:"text-sm text-gray-600 dark:text-gray-400 transition-colors duration-300",children:["Accounts | Total ",a.length]}),(0,sy.jsxs)("button",{onClick:()=>s("/accounts"),className:"text-xs text-orange-500 hover:text-orange-600 dark:hover:text-orange-400 flex items-center transition-colors duration-300",children:["View all",(0,sy.jsx)(Jy,{className:"w-3 h-3 ml-1"})]})]}),(0,sy.jsxs)("div",{className:"space-y-3",children:[(0,sy.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-white/3 rounded-lg backdrop-blur-sm transition-all duration-300 hover:bg-gray-100 dark:hover:bg-white/5",children:[(0,sy.jsxs)("div",{children:[(0,sy.jsxs)("p",{className:"text-sm font-medium text-gray-900 dark:text-white transition-colors duration-300",children:["Bank (INR) (",$.length,")"]}),(0,sy.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 transition-colors duration-300",children:"Total Balance"})]}),(0,sy.jsx)("p",{className:"text-sm font-semibold text-gray-900 dark:text-white transition-colors duration-300",children:O(q,"INR")})]}),(0,sy.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-white/3 rounded-lg backdrop-blur-sm transition-all duration-300 hover:bg-gray-100 dark:hover:bg-white/5",children:[(0,sy.jsxs)("div",{children:[(0,sy.jsxs)("p",{className:"text-sm font-medium text-gray-900 dark:text-white transition-colors duration-300",children:["Crypto/USD (",H.length,")"]}),(0,sy.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 transition-colors duration-300",children:"Total Balance"})]}),(0,sy.jsx)("p",{className:"text-sm font-semibold text-gray-900 dark:text-white transition-colors duration-300",children:O(K,"INR")})]})]})]})]}),(0,sy.jsx)("div",{className:"lg:col-span-3 bg-white dark:bg-white/5 rounded-2xl p-4 sm:p-6 backdrop-blur-sm h-full shadow-lg dark:shadow-2xl transition-all duration-300 hover:transform hover:scale-[1.02]",children:(0,sy.jsxs)("div",{className:"h-full flex flex-col justify-between space-y-3",children:[(0,sy.jsx)("div",{className:"bg-white dark:bg-white/5 rounded-xl p-3 flex-1 border border-gray-200 dark:border-white/10 backdrop-blur-sm transition-all duration-300 hover:bg-gray-50 dark:hover:bg-white/8",children:(0,sy.jsxs)("div",{className:"flex items-center justify-between h-full",children:[(0,sy.jsxs)("div",{children:[(0,sy.jsx)("h3",{className:"text-xs text-gray-500 dark:text-gray-400 transition-colors duration-300",children:"Monthly Income"}),(0,sy.jsx)("h2",{className:"text-lg font-bold mt-1 text-gray-900 dark:text-white transition-colors duration-300",children:O(Q)}),(0,sy.jsxs)("p",{className:"text-xs mt-1 transition-colors duration-300 "+(ie>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"),children:[ie>=0?"\u2191":"\u2193"," ",Math.abs(ie).toFixed(1),"% than last month"]})]}),(0,sy.jsx)("div",{className:"w-8 h-8 bg-green-100 dark:bg-green-500/20 rounded-lg flex items-center justify-center backdrop-blur-sm transition-colors duration-300",children:(0,sy.jsx)(Ky,{className:"w-4 h-4 text-green-600 dark:text-green-400"})})]})}),(0,sy.jsx)("div",{className:"bg-white dark:bg-white/5 rounded-xl p-3 flex-1 border border-gray-200 dark:border-white/10 backdrop-blur-sm transition-all duration-300 hover:bg-gray-50 dark:hover:bg-white/8",children:(0,sy.jsxs)("div",{className:"flex items-center justify-between h-full",children:[(0,sy.jsxs)("div",{children:[(0,sy.jsx)("h3",{className:"text-xs text-gray-500 dark:text-gray-400 transition-colors duration-300",children:"Monthly Expense"}),(0,sy.jsx)("h2",{className:"text-lg font-bold mt-1 text-gray-900 dark:text-white transition-colors duration-300",children:O(X)}),(0,sy.jsxs)("p",{className:"text-xs mt-1 transition-colors duration-300 "+(se>=0?"text-red-600 dark:text-red-400":"text-green-600 dark:text-green-400"),children:[se>=0?"\u2191":"\u2193"," ",Math.abs(se).toFixed(1),"% than last month"]})]}),(0,sy.jsx)("div",{className:"w-8 h-8 bg-red-100 dark:bg-red-500/20 rounded-lg flex items-center justify-center backdrop-blur-sm transition-colors duration-300",children:(0,sy.jsx)(Wy,{className:"w-4 h-4 text-red-600 dark:text-red-400"})})]})}),(0,sy.jsx)("div",{className:"bg-white dark:bg-white/5 rounded-xl p-3 flex-1 border border-gray-200 dark:border-white/10 backdrop-blur-sm transition-all duration-300 hover:bg-gray-50 dark:hover:bg-white/8",children:(0,sy.jsxs)("div",{className:"flex items-center justify-between h-full",children:[(0,sy.jsxs)("div",{children:[(0,sy.jsx)("h3",{className:"text-xs text-gray-500 dark:text-gray-400 transition-colors duration-300",children:"Monthly Savings"}),(0,sy.jsxs)("h2",{className:"text-lg font-bold mt-1 text-gray-900 dark:text-white transition-colors duration-300",children:[J>=0?"":"-",O(Math.abs(J))]}),(0,sy.jsxs)("p",{className:"text-xs mt-1 transition-colors duration-300 "+(J>=0?"text-blue-600 dark:text-blue-400":"text-orange-600 dark:text-orange-400"),children:[J>=0?"Saved":"Overspent"," this month"]})]}),(0,sy.jsx)("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center backdrop-blur-sm transition-colors duration-300 "+(J>=0?"bg-blue-100 dark:bg-blue-500/20":"bg-orange-100 dark:bg-orange-500/20"),children:J>=0?(0,sy.jsx)(xy,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"}):(0,sy.jsx)(Zy,{className:"w-4 h-4 text-orange-600 dark:text-orange-400"})})]})})]})}),(0,sy.jsxs)("div",{className:"lg:col-span-5 bg-white dark:bg-white/5 rounded-2xl p-4 sm:p-6 backdrop-blur-sm h-full flex flex-col shadow-lg dark:shadow-2xl transition-all duration-300 hover:transform hover:scale-[1.02]",children:[(0,sy.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,sy.jsx)("h3",{className:"text-base font-semibold text-gray-900 dark:text-white transition-colors duration-300",children:"Net Worth Overview"}),(0,sy.jsxs)("select",{value:p,onChange:e=>m(e.target.value),className:"text-sm bg-white dark:bg-white/5 border border-gray-300 dark:border-white/10 rounded-lg px-3 py-1 text-gray-900 dark:text-gray-100 backdrop-blur-sm transition-colors duration-300",children:[(0,sy.jsx)("option",{value:"weekly",children:"Weekly"}),(0,sy.jsx)("option",{value:"monthly",children:"Monthly"}),(0,sy.jsx)("option",{value:"yearly",children:"Yearly"}),(0,sy.jsx)("option",{value:"all",children:"All Time"})]})]}),(0,sy.jsx)("div",{className:"flex-1 min-h-[250px]",children:h?(0,sy.jsx)("div",{className:"h-full flex items-center justify-center",children:(0,sy.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-orange-500"})}):u.length>0?(0,sy.jsx)(Cv,{width:"100%",height:"100%",children:(0,sy.jsxs)(yM,{data:u,margin:{top:10,right:10,left:0,bottom:40},children:[(0,sy.jsx)("defs",{children:(0,sy.jsxs)("linearGradient",{id:"colorNetWorth",x1:"0",y1:"0",x2:"0",y2:"1",children:[(0,sy.jsx)("stop",{offset:"5%",stopColor:"#f97316",stopOpacity:.3}),(0,sy.jsx)("stop",{offset:"95%",stopColor:"#f97316",stopOpacity:0})]})}),(0,sy.jsx)(HR,{strokeDasharray:"3 3",stroke:"currentColor",opacity:.1,className:"text-gray-300 dark:text-gray-600"}),(0,sy.jsx)(ZR,{dataKey:"label",stroke:"currentColor",fontSize:10,angle:-45,textAnchor:"end",className:"text-gray-600 dark:text-gray-400"}),(0,sy.jsx)(oL,{stroke:"currentColor",fontSize:10,tickFormatter:e=>`\u20b9${(e=>{const t=Math.abs(e);return t>=1e7?(e/1e7).toFixed(1).replace(/\.0$/,"")+"Cr":t>=1e5?(e/1e5).toFixed(1).replace(/\.0$/,"")+"L":t>=1e3?(e/1e3).toFixed(0)+"k":e.toString()})(e)}`,width:50,className:"text-gray-600 dark:text-gray-400"}),(0,sy.jsx)(kz,{formatter:e=>O(e,"INR"),contentStyle:{backgroundColor:"var(--bg-elevated)",border:"1px solid var(--border-primary)",borderRadius:"8px",color:"var(--text-primary)"},labelStyle:{color:"var(--text-tertiary)"}}),(0,sy.jsx)(VU,{type:"monotone",dataKey:"netWorth",stroke:"#f97316",strokeWidth:2,dot:{fill:"#f97316",r:3},activeDot:{r:5},fill:"url(#colorNetWorth)"})]})}):(0,sy.jsx)("div",{className:"h-full flex items-center justify-center text-gray-500 dark:text-gray-400 text-sm transition-colors duration-300",children:"No data available"})})]})]}),(0,sy.jsxs)("div",{className:"bg-white dark:bg-white/5 rounded-2xl p-4 sm:p-6 backdrop-blur-sm shadow-lg dark:shadow-2xl transition-all duration-300 hover:transform hover:scale-[1.01]",children:[(0,sy.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,sy.jsx)("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 dark:text-white transition-colors duration-300",children:"Recent Transactions"}),(0,sy.jsxs)("button",{onClick:()=>s("/transactions"),className:"text-xs sm:text-sm text-orange-500 hover:text-orange-600 dark:hover:text-orange-400 flex items-center transition-colors duration-300",children:["View all",(0,sy.jsx)(Jy,{className:"w-3 h-3 sm:w-4 sm:h-4 ml-1"})]})]}),(0,sy.jsx)("div",{className:"hidden lg:block overflow-x-auto",children:(0,sy.jsxs)("table",{className:"w-full",children:[(0,sy.jsx)("thead",{children:(0,sy.jsxs)("tr",{className:"text-left text-sm text-gray-600 dark:text-gray-400 border-b border-gray-200 dark:border-white/10 transition-colors duration-300",children:[(0,sy.jsx)("th",{className:"pb-3 font-medium",children:"Date"}),(0,sy.jsx)("th",{className:"pb-3 font-medium",children:"Type"}),(0,sy.jsx)("th",{className:"pb-3 font-medium",children:"Amount"}),(0,sy.jsx)("th",{className:"pb-3 font-medium",children:"Payment Mode"}),(0,sy.jsx)("th",{className:"pb-3 font-medium",children:"Account"}),(0,sy.jsx)("th",{className:"pb-3 font-medium",children:"Category"}),(0,sy.jsx)("th",{className:"pb-3 font-medium",children:"Notes"}),(0,sy.jsx)("th",{className:"pb-3 font-medium text-center",children:"Actions"})]})}),(0,sy.jsx)("tbody",{children:oe.length>0?oe.map(e=>(0,sy.jsxs)("tr",{className:"border-b border-gray-100 dark:border-white/5 hover:bg-gray-50 dark:hover:bg-white/5 transition-all duration-300",children:[(0,sy.jsx)("td",{className:"py-4",children:(0,sy.jsxs)("div",{children:[(0,sy.jsx)("p",{className:"text-sm font-medium text-gray-900 dark:text-white transition-colors duration-300",children:D(e.date)}),(0,sy.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 transition-colors duration-300",children:M(e.date)})]})}),(0,sy.jsx)("td",{className:"py-4",children:(0,sy.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,sy.jsx)("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center transition-colors duration-300 ${F(e.type)}`,children:L(e.type)}),(0,sy.jsx)("span",{className:"text-sm font-medium text-gray-900 dark:text-white capitalize transition-colors duration-300",children:e.type})]})}),(0,sy.jsx)("td",{className:"py-4",children:(0,sy.jsxs)("span",{className:"text-sm font-medium transition-colors duration-300 "+("income"===e.type?"text-green-600 dark:text-green-400":"expense"===e.type?"text-red-600 dark:text-red-400":"text-gray-900 dark:text-white"),children:["expense"===e.type?"-":"income"===e.type?"+":"",O(e.amount,e.currency)]})}),(0,sy.jsx)("td",{className:"py-4 text-sm text-gray-600 dark:text-gray-400 transition-colors duration-300",children:e.paymentMode||"-"}),(0,sy.jsx)("td",{className:"py-4 text-sm text-gray-600 dark:text-gray-400 transition-colors duration-300",children:e.accountName||"-"}),(0,sy.jsx)("td",{className:"py-4 text-sm text-gray-600 dark:text-gray-400 transition-colors duration-300",children:e.category||"-"}),(0,sy.jsx)("td",{className:"py-4 text-sm text-gray-600 dark:text-gray-400 transition-colors duration-300",children:(0,sy.jsx)("span",{className:"truncate block max-w-[150px]",title:e.notes,children:e.notes||"-"})}),(0,sy.jsx)("td",{className:"py-4 text-center",children:(0,sy.jsxs)("div",{className:"relative",children:[(0,sy.jsx)("button",{onClick:t=>{t.stopPropagation(),A(E===e.id?null:e.id)},className:"p-1 hover:bg-gray-100 dark:hover:bg-gray-700 rounded transition-colors duration-300",children:(0,sy.jsx)(ev,{className:"w-4 h-4 text-gray-600 dark:text-gray-400"})}),E===e.id&&(0,sy.jsxs)("div",{className:"absolute right-0 mt-2 w-40 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 py-1 z-10",children:[(0,sy.jsxs)("button",{onClick:()=>U(e),className:"w-full text-left px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center space-x-2 transition-colors duration-300",children:[(0,sy.jsx)(tv,{className:"w-4 h-4"}),(0,sy.jsx)("span",{children:"Edit"})]}),(0,sy.jsxs)("button",{onClick:()=>V(e),className:"w-full text-left px-4 py-2 text-sm text-red-600 dark:text-red-400 hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center space-x-2 transition-colors duration-300",children:[(0,sy.jsx)(rv,{className:"w-4 h-4"}),(0,sy.jsx)("span",{children:"Delete"})]})]})]})})]},e.id)):(0,sy.jsx)("tr",{children:(0,sy.jsx)("td",{colSpan:"8",className:"py-8 text-center text-gray-500 dark:text-gray-400 transition-colors duration-300",children:"No transactions yet. Add your first transaction to get started!"})})})]})}),(0,sy.jsx)("div",{className:"lg:hidden space-y-3",children:oe.length>0?oe.map(e=>(0,sy.jsxs)("div",{className:"bg-gray-50 dark:bg-white/5 rounded-xl p-4 border border-gray-200 dark:border-white/10 hover:bg-gray-100 dark:hover:bg-white/8 transition-all duration-300",children:[(0,sy.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,sy.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,sy.jsx)("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center transition-colors duration-300 ${F(e.type)}`,children:L(e.type)}),(0,sy.jsxs)("div",{children:[(0,sy.jsx)("p",{className:"text-sm font-semibold text-gray-900 dark:text-white capitalize",children:e.type}),(0,sy.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[D(e.date)," \u2022 ",M(e.date)]})]})]}),(0,sy.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,sy.jsxs)("span",{className:"text-sm font-bold "+("income"===e.type?"text-green-600 dark:text-green-400":"expense"===e.type?"text-red-600 dark:text-red-400":"text-gray-900 dark:text-white"),children:["expense"===e.type?"-":"income"===e.type?"+":"",O(e.amount,e.currency)]}),(0,sy.jsxs)("div",{className:"relative",children:[(0,sy.jsx)("button",{onClick:t=>{t.stopPropagation(),A(E===e.id?null:e.id)},className:"p-1 hover:bg-gray-200 dark:hover:bg-gray-700 rounded transition-colors duration-300",children:(0,sy.jsx)(ev,{className:"w-4 h-4 text-gray-600 dark:text-gray-400"})}),E===e.id&&(0,sy.jsxs)("div",{className:"absolute right-0 mt-2 w-36 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 py-1 z-10",children:[(0,sy.jsxs)("button",{onClick:()=>U(e),className:"w-full text-left px-3 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center space-x-2 transition-colors duration-300",children:[(0,sy.jsx)(tv,{className:"w-4 h-4"}),(0,sy.jsx)("span",{children:"Edit"})]}),(0,sy.jsxs)("button",{onClick:()=>V(e),className:"w-full text-left px-3 py-2 text-sm text-red-600 dark:text-red-400 hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center space-x-2 transition-colors duration-300",children:[(0,sy.jsx)(rv,{className:"w-4 h-4"}),(0,sy.jsx)("span",{children:"Delete"})]})]})]})]})]}),(0,sy.jsxs)("div",{className:"grid grid-cols-2 gap-3 text-xs",children:[(0,sy.jsxs)("div",{children:[(0,sy.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"Account:"}),(0,sy.jsx)("p",{className:"text-gray-900 dark:text-white font-medium truncate",children:e.accountName||"-"})]}),(0,sy.jsxs)("div",{children:[(0,sy.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"Category:"}),(0,sy.jsx)("p",{className:"text-gray-900 dark:text-white font-medium truncate",children:e.category||"-"})]}),(0,sy.jsxs)("div",{children:[(0,sy.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"Payment:"}),(0,sy.jsx)("p",{className:"text-gray-900 dark:text-white font-medium truncate",children:e.paymentMode||"-"})]}),e.notes&&(0,sy.jsxs)("div",{children:[(0,sy.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"Notes:"}),(0,sy.jsx)("p",{className:"text-gray-900 dark:text-white font-medium truncate",children:e.notes})]})]})]},e.id)):(0,sy.jsxs)("div",{className:"py-12 text-center text-gray-500 dark:text-gray-400 transition-colors duration-300",children:[(0,sy.jsx)("div",{className:"w-16 h-16 bg-gray-100 dark:bg-gray-800 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,sy.jsx)(yy,{className:"w-8 h-8"})}),(0,sy.jsx)("p",{className:"text-sm",children:"No transactions yet"}),(0,sy.jsx)("p",{className:"text-xs mt-1",children:"Add your first transaction to get started!"})]})})]}),g&&(0,sy.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50 py-8 md:py-16",onClick:e=>{e.target===e.currentTarget&&(y(!1),z())},children:(0,sy.jsxs)("div",{className:"bg-white dark:bg-gray-900 rounded-2xl p-4 md:p-6 w-full max-w-md md:max-w-2xl max-h-[90vh] md:max-h-[80vh] overflow-y-auto backdrop-blur-sm border border-gray-200 dark:border-gray-700",children:[(0,sy.jsxs)("div",{className:"flex items-center justify-between mb-3 md:mb-4",children:[(0,sy.jsx)("h2",{className:"text-lg md:text-xl font-bold text-gray-900 dark:text-white",children:"Add Transaction"}),(0,sy.jsx)("button",{onClick:()=>{y(!1),z()},className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition-colors duration-300",children:(0,sy.jsx)(zy,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})})]}),(0,sy.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),o&&!N&&C.accountId&&("transfer"!==C.type||C.amount&&C.toAccountId)&&("adjustment"!==C.type||C.newBalance)&&(!["income","expense"].includes(C.type)||C.amount&&C.category))try{S(!0);const e=ty(iy),t=R(C.accountId);if(!t)throw new Error("Account not found");let r,n={userId:o.uid,accountId:C.accountId,accountName:t.name,currency:t.currency,date:C.date,notes:C.notes,createdAt:(new Date).toISOString()};if("adjustment"===C.type){const a=parseFloat(C.newBalance),i=t.balance;r=a-i,n={...n,type:"adjustment",amount:Math.abs(r),amountInINR:P(Math.abs(r),t.currency),exchangeRate:"USD"===t.currency?BU:1,isIncrease:r>=0,category:"Balance Reconciliation",paymentMode:"Account Adjustment",newBalance:a,previousBalance:i};const s=Um(iy,"users",o.uid,"accounts",C.accountId);e.update(s,{balance:a,lastActivityAt:(new Date).toISOString(),updatedAt:(new Date).toISOString()})}else{r=parseFloat(C.amount);const a=P(r,t.currency);if(n={...n,type:C.type,amount:r,amountInINR:a,exchangeRate:"USD"===t.currency?BU:1},"transfer"===C.type){const a=R(C.toAccountId);if(!a)throw new Error("Destination account not found");if(C.accountId===C.toAccountId)throw new Error("Cannot transfer to same account");n.toAccountId=C.toAccountId,n.toAccountName=a.name,n.fromAccountId=C.accountId,n.category="Self Transfer",n.paymentMode="Account Transfer";const i=Um(iy,"users",o.uid,"accounts",C.accountId),s=Um(iy,"users",o.uid,"accounts",C.toAccountId);e.update(i,{balance:ey(-r),lastActivityAt:(new Date).toISOString(),updatedAt:(new Date).toISOString()});const l=t.currency!==a.currency?"USD"===t.currency?r*BU:r/BU:r;e.update(s,{balance:ey(l),lastActivityAt:(new Date).toISOString(),updatedAt:(new Date).toISOString()}),t.currency!==a.currency&&(n.convertedAmount=l,n.toCurrency=a.currency)}else{n.category=C.category,n.paymentMode=C.paymentMode;const t=Um(iy,"users",o.uid,"accounts",C.accountId),a="income"===C.type?r:-r;e.update(t,{balance:ey(a),lastActivityAt:(new Date).toISOString(),updatedAt:(new Date).toISOString()})}}const a=Um(zm(iy,"users",o.uid,"transactions"));e.set(a,n),await e.commit(),y(!1),z()}catch(t){console.error("Error adding transaction:",t),alert("Error adding transaction. Please try again.")}finally{S(!1)}},className:"space-y-3 md:space-y-4",children:[(0,sy.jsxs)("div",{children:[(0,sy.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1.5 md:mb-2",children:"Transaction Type"}),(0,sy.jsx)("div",{className:"grid grid-cols-4 gap-2",children:[{value:"income",label:"Income",icon:Ky,color:"green"},{value:"expense",label:"Expense",icon:Wy,color:"red"},{value:"transfer",label:"Transfer",icon:Gy,color:"blue"},{value:"adjustment",label:"Adjustment",icon:Py,color:"orange"}].map(e=>{const t=e.icon,r=C.type===e.value;return(0,sy.jsxs)("button",{type:"button",onClick:()=>T({...C,type:e.value,category:"",paymentMode:""}),className:"p-2 rounded-lg border-2 transition-all duration-300 flex flex-col items-center space-y-1 "+(r?`border-${e.color}-500 bg-${e.color}-50 dark:bg-${e.color}-500/10`:"border-gray-300 dark:border-gray-600 hover:border-gray-400 dark:hover:border-gray-500"),children:[(0,sy.jsx)(t,{className:"w-4 h-4 "+(r?`text-${e.color}-600 dark:text-${e.color}-400`:"text-gray-600 dark:text-gray-400")}),(0,sy.jsx)("span",{className:"text-xs font-medium "+(r?`text-${e.color}-700 dark:text-${e.color}-300`:"text-gray-700 dark:text-gray-300"),children:e.label})]},e.value)})})]}),(0,sy.jsxs)("div",{className:"grid grid-cols-2 gap-3 md:gap-4",children:[(0,sy.jsxs)("div",{children:[(0,sy.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1.5 md:mb-2",children:"transfer"===C.type?"From Account":"Account"}),(0,sy.jsxs)("select",{value:C.accountId,onChange:e=>T({...C,accountId:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300 text-sm",required:!0,children:[(0,sy.jsx)("option",{value:"",children:"Select account"}),a.map(e=>(0,sy.jsxs)("option",{value:e.id,children:[e.name," (",e.currency,") - ",O(e.balance,e.currency)]},e.id))]})]}),"adjustment"!==C.type&&(0,sy.jsxs)("div",{children:[(0,sy.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1.5 md:mb-2",children:"Amount"}),(0,sy.jsx)("input",{type:"number",step:"0.01",value:C.amount,onChange:e=>T({...C,amount:e.target.value}),placeholder:"0.00",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300 text-sm",required:!0})]}),"adjustment"===C.type&&(0,sy.jsxs)("div",{children:[(0,sy.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1.5 md:mb-2",children:"New Balance"}),(0,sy.jsx)("input",{type:"number",step:"0.01",value:C.newBalance,onChange:e=>T({...C,newBalance:e.target.value}),placeholder:"0.00",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300 text-sm",required:!0})]})]}),"transfer"===C.type&&(0,sy.jsxs)("div",{children:[(0,sy.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1.5 md:mb-2",children:"To Account"}),(0,sy.jsxs)("select",{value:C.toAccountId,onChange:e=>T({...C,toAccountId:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300 text-sm",required:!0,children:[(0,sy.jsx)("option",{value:"",children:"Select destination account"}),a.filter(e=>e.id!==C.accountId).map(e=>(0,sy.jsxs)("option",{value:e.id,children:[e.name," (",e.currency,") - ",O(e.balance,e.currency)]},e.id))]}),C.accountId&&C.toAccountId&&(()=>{const e=R(C.accountId),t=R(C.toAccountId);if(e&&t&&e.currency!==t.currency&&C.amount){const r="USD"===e.currency?parseFloat(C.amount)*BU:parseFloat(C.amount)/BU;return(0,sy.jsxs)("p",{className:"text-xs text-blue-600 dark:text-blue-400 mt-1",children:["Will receive: ",O(r,t.currency)]})}return null})()]}),["income","expense"].includes(C.type)&&(0,sy.jsxs)("div",{className:"grid grid-cols-2 gap-3 md:gap-4",children:[(0,sy.jsxs)("div",{children:[(0,sy.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1.5 md:mb-2",children:"Category"}),(0,sy.jsxs)("select",{value:C.category,onChange:e=>T({...C,category:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300 text-sm",required:!0,children:[(0,sy.jsx)("option",{value:"",children:"Select category"}),null===(r=$U[C.type])||void 0===r?void 0:r.map(e=>(0,sy.jsx)("option",{value:e,children:e},e))]})]}),(0,sy.jsxs)("div",{children:[(0,sy.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1.5 md:mb-2",children:"Payment Mode"}),(0,sy.jsxs)("select",{value:C.paymentMode,onChange:e=>T({...C,paymentMode:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300 text-sm",children:[(0,sy.jsx)("option",{value:"",children:"Select payment mode"}),C.accountId&&(e=>{const t=R(C.accountId);return t?null===(e=HU[t.type])||void 0===e?void 0:e.map(e=>(0,sy.jsx)("option",{value:e,children:e},e)):null})()]})]})]}),(0,sy.jsxs)("div",{children:[(0,sy.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1.5 md:mb-2",children:"Date & Time"}),(0,sy.jsx)("input",{type:"datetime-local",value:C.date,onChange:e=>T({...C,date:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300 text-sm",required:!0})]}),(0,sy.jsxs)("div",{children:[(0,sy.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1.5 md:mb-2",children:"Notes (Optional)"}),(0,sy.jsx)("textarea",{value:C.notes,onChange:e=>T({...C,notes:e.target.value}),placeholder:"Add any additional notes...",rows:1,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300 text-sm"})]}),(0,sy.jsxs)("div",{className:"flex space-x-3 pt-3 md:pt-4",children:[(0,sy.jsx)("button",{type:"button",onClick:()=>{y(!1),z()},className:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors duration-300 text-sm",children:"Cancel"}),(0,sy.jsx)("button",{type:"submit",disabled:N||!C.accountId||"transfer"===C.type&&(!C.amount||!C.toAccountId)||"adjustment"===C.type&&!C.newBalance||["income","expense"].includes(C.type)&&(!C.amount||!C.category),className:"flex-1 bg-orange-500 hover:bg-orange-600 text-white px-4 py-2 rounded-lg transition-colors duration-300 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2 text-sm",children:N?(0,sy.jsxs)(sy.Fragment,{children:[(0,sy.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),(0,sy.jsx)("span",{children:"Adding..."})]}):(0,sy.jsxs)(sy.Fragment,{children:[(0,sy.jsx)(nv,{className:"w-4 h-4"}),(0,sy.jsx)("span",{children:"Add"})]})})]})]})]})}),v&&k&&(0,sy.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",onClick:e=>{e.target===e.currentTarget&&(x(!1),j(null),z())},children:(0,sy.jsxs)("div",{className:"bg-white dark:bg-gray-900 rounded-2xl p-6 w-full max-w-lg backdrop-blur-sm border border-gray-200 dark:border-gray-700",children:[(0,sy.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,sy.jsx)("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Edit Transaction"}),(0,sy.jsx)("button",{onClick:()=>{x(!1),j(null),z()},className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition-colors duration-300",children:(0,sy.jsx)(zy,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})})]}),(0,sy.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),o&&k&&!N)try{S(!0);const e=Um(iy,"users",o.uid,"transactions",k.id);await Kg(e,{category:C.category,paymentMode:C.paymentMode,notes:C.notes,updatedAt:(new Date).toISOString()}),x(!1),j(null),z()}catch(t){console.error("Error updating transaction:",t),alert("Error updating transaction. Please try again.")}finally{S(!1)}},className:"space-y-4",children:[(0,sy.jsx)("div",{className:"bg-yellow-50 dark:bg-yellow-500/10 border border-yellow-200 dark:border-yellow-500/20 rounded-lg p-4 mb-4",children:(0,sy.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,sy.jsx)(av,{className:"w-5 h-5 text-yellow-600 dark:text-yellow-400 flex-shrink-0 mt-0.5"}),(0,sy.jsxs)("div",{children:[(0,sy.jsx)("h3",{className:"text-sm font-medium text-yellow-800 dark:text-yellow-300 mb-1",children:"Limited Edit Mode"}),(0,sy.jsx)("p",{className:"text-xs text-yellow-700 dark:text-yellow-400",children:"You can only edit category, payment mode, and notes. Amount and account changes affect balances and require deletion + re-creation."})]})]})}),["income","expense"].includes(k.type)&&(0,sy.jsxs)(sy.Fragment,{children:[(0,sy.jsxs)("div",{children:[(0,sy.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Category"}),(0,sy.jsxs)("select",{value:C.category,onChange:e=>T({...C,category:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300",required:!0,children:[(0,sy.jsx)("option",{value:"",children:"Select category"}),null===(n=$U[C.type])||void 0===n?void 0:n.map(e=>(0,sy.jsx)("option",{value:e,children:e},e))]})]}),(0,sy.jsxs)("div",{children:[(0,sy.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Payment Mode"}),(0,sy.jsxs)("select",{value:C.paymentMode,onChange:e=>T({...C,paymentMode:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300",children:[(0,sy.jsx)("option",{value:"",children:"Select payment mode"}),(e=>{const t=R(C.accountId);return t?null===(e=HU[t.type])||void 0===e?void 0:e.map(e=>(0,sy.jsx)("option",{value:e,children:e},e)):null})()]})]})]}),(0,sy.jsxs)("div",{children:[(0,sy.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Notes"}),(0,sy.jsx)("textarea",{value:C.notes,onChange:e=>T({...C,notes:e.target.value}),placeholder:"Add any additional notes...",rows:2,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300"})]}),(0,sy.jsxs)("div",{className:"flex space-x-3 pt-4",children:[(0,sy.jsx)("button",{type:"button",onClick:()=>{x(!1),j(null),z()},className:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors duration-300",children:"Cancel"}),(0,sy.jsx)("button",{type:"submit",disabled:N||["income","expense"].includes(k.type)&&!C.category,className:"flex-1 bg-orange-500 hover:bg-orange-600 text-white px-4 py-2 rounded-lg transition-colors duration-300 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:N?(0,sy.jsxs)(sy.Fragment,{children:[(0,sy.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),(0,sy.jsx)("span",{children:"Updating..."})]}):(0,sy.jsxs)(sy.Fragment,{children:[(0,sy.jsx)(nv,{className:"w-4 h-4"}),(0,sy.jsx)("span",{children:"Update Transaction"})]})})]})]})]})}),b&&k&&(0,sy.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",onClick:e=>{e.target===e.currentTarget&&(w(!1),j(null))},children:(0,sy.jsxs)("div",{className:"bg-white dark:bg-gray-900 rounded-2xl p-6 w-full max-w-md backdrop-blur-sm border border-gray-200 dark:border-gray-700",children:[(0,sy.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,sy.jsx)("div",{className:"w-10 h-10 bg-red-100 dark:bg-red-500/20 rounded-lg flex items-center justify-center",children:(0,sy.jsx)(av,{className:"w-5 h-5 text-red-600 dark:text-red-400"})}),(0,sy.jsx)("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Delete Transaction"})]}),(0,sy.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Are you sure you want to delete this transaction? This action will also reverse any balance changes."}),(0,sy.jsxs)("div",{className:"bg-gray-50 dark:bg-white/5 rounded-lg p-4 mb-6",children:[(0,sy.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,sy.jsx)("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center ${F(k.type)}`,children:L(k.type)}),(0,sy.jsxs)("div",{children:[(0,sy.jsxs)("p",{className:"font-medium text-gray-900 dark:text-white",children:["adjustment"===k.type&&(k.isIncrease?"+":"-"),O(k.amount,k.currency)]}),(0,sy.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[k.category," \u2022 ",D(k.date)]})]})]}),k.notes&&(0,sy.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-2",children:['"',k.notes,'"']})]}),(0,sy.jsxs)("div",{className:"flex space-x-3",children:[(0,sy.jsx)("button",{type:"button",onClick:()=>{w(!1),j(null)},className:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors duration-300",children:"Cancel"}),(0,sy.jsx)("button",{onClick:async()=>{if(o&&k&&!N)try{S(!0);const e=ty(iy);if(R(k.accountId)){const t=Um(iy,"users",o.uid,"accounts",k.accountId);let r=0;switch(k.type){case"income":r=-k.amount;break;case"expense":r=k.amount;break;case"adjustment":r=k.isIncrease?-k.amount:k.amount;break;case"transfer":if(r=k.amount,k.toAccountId){const t=Um(iy,"users",o.uid,"accounts",k.toAccountId);if(R(k.toAccountId)){const r=k.convertedAmount||k.amount;e.update(t,{balance:ey(-r),updatedAt:(new Date).toISOString()})}}}0!==r&&e.update(t,{balance:ey(r),updatedAt:(new Date).toISOString()})}const t=Um(iy,"users",o.uid,"transactions",k.id);e.delete(t),await e.commit(),w(!1),j(null)}catch(e){console.error("Error deleting transaction:",e),alert("Error deleting transaction. Please try again.")}finally{S(!1)}},disabled:N,className:"flex-1 bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg transition-colors duration-300 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:N?(0,sy.jsxs)(sy.Fragment,{children:[(0,sy.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),(0,sy.jsx)("span",{children:"Deleting..."})]}):(0,sy.jsxs)(sy.Fragment,{children:[(0,sy.jsx)(rv,{className:"w-4 h-4"}),(0,sy.jsx)("span",{children:"Delete Transaction"})]})})]})]})}),(0,sy.jsxs)("div",{className:"fixed bottom-4 right-4 sm:bottom-6 sm:right-6 group",children:[(0,sy.jsx)("button",{onClick:()=>y(!0),className:"w-12 h-12 sm:w-14 sm:h-14 bg-orange-500 hover:bg-orange-600 text-white rounded-full shadow-lg dark:shadow-2xl transition-all duration-300 flex items-center justify-center transform hover:-translate-y-1 hover:shadow-xl dark:hover:shadow-3xl",children:(0,sy.jsx)(Xy,{className:"w-5 h-5 sm:w-6 sm:h-6"})}),(0,sy.jsx)("span",{className:"absolute right-14 sm:right-16 top-1/2 transform -translate-y-1/2 bg-gray-900 dark:bg-black text-white px-2 sm:px-3 py-1 sm:py-2 rounded-lg text-xs sm:text-sm whitespace-nowrap opacity-0 group-hover:opacity-100 transition-all duration-300 shadow-lg dark:shadow-2xl pointer-events-none hidden sm:block",children:"Add Transaction"})]})]});var he},KU=gy("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]]),WU=gy("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),GU=gy("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]),YU=84,QU={income:["Salary","Gift","Payouts","Gambling","Investments","Business","Freelance","Rental Income","Interest","Dividends","Bonus","Commission","Refunds","Other Income"],expense:["Food & Dining","Travel","Entertainment","Friends & Family","Shopping","Utilities","Healthcare","Personal Care","Gifts & Donations","Bills","Groceries","Vehicle","Subscriptions","Hobbies","Eval","Other Expenses"],transfer:["Self Transfer","Account Transfer","Wallet Transfer"],adjustment:["Balance Reconciliation","Bank Interest","Bank Charges","Missed Transaction","Other Adjustment"]},XU={bank:["UPI","Bank Transfer","Debit Card","Credit Card","Cash","Net Banking"],crypto:["Crypto Transfer","Crypto Card","Exchange Transfer","DeFi Transaction"]};const JU=function(e){var r,n;let{accounts:a,transactions:i}=e;const s=Z(),o=re(),{currentUser:l}=ly(),c=new URLSearchParams(s.search).get("mode"),[u,d]=(0,t.useState)("add"===c),[h,f]=(0,t.useState)(!1),[p,m]=(0,t.useState)(!1),[g,y]=(0,t.useState)(!1),[v,x]=(0,t.useState)(null),[b,w]=(0,t.useState)(!1),[k,j]=(0,t.useState)(null),N=()=>{const e=new Date;return`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")}T${String(e.getHours()).padStart(2,"0")}:${String(e.getMinutes()).padStart(2,"0")}`},[S,E]=(0,t.useState)({type:"transfer"===c?"transfer":"expense",amount:"",currency:"INR",accountId:"",toAccountId:"",category:"",paymentMode:"",notes:"",newBalance:"",date:N(),isIncrease:!0}),A=new Date,_=new Date(A.getFullYear(),A.getMonth(),1).toISOString().split("T")[0],C=new Date(A.getFullYear(),A.getMonth()+1,0).toISOString().split("T")[0],[T,I]=(0,t.useState)({search:"",type:"all",accountId:"all",category:"all",paymentMode:"all",datePreset:"thisMonth",dateFrom:_,dateTo:C,amountMin:"",amountMax:""}),[O,P]=(0,t.useState)(1),[D]=(0,t.useState)(20);(0,t.useEffect)(()=>{const e=()=>j(null);return document.addEventListener("click",e),()=>document.removeEventListener("click",e)},[]),(0,t.useEffect)(()=>{c&&o("/transactions",{replace:!0})},[c,o]),(0,t.useEffect)(()=>{u&&E(e=>({...e,date:N()}))},[u]),(0,t.useEffect)(()=>{const e=e=>{"Escape"===e.key&&(u&&(d(!1),$()),h&&(f(!1),x(null),$()),p&&(m(!1),x(null)))};if(u||h||p)return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[u,h,p]);const M=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"INR";return new Intl.NumberFormat("en-IN",{style:"currency",currency:t,minimumFractionDigits:"USD"===t?2:0,maximumFractionDigits:"USD"===t?2:0}).format(e)},R=(e,t)=>"USD"===t?e*YU:e,L=e=>new Date(e).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"}),F=e=>new Date(e).toLocaleTimeString("en-IN",{hour:"2-digit",minute:"2-digit"}),z=e=>a.find(t=>t.id===e),U=e=>({income:(0,sy.jsx)(Ky,{className:"w-5 h-5 text-green-600 dark:text-green-400"}),expense:(0,sy.jsx)(Wy,{className:"w-5 h-5 text-red-600 dark:text-red-400"}),transfer:(0,sy.jsx)(Gy,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),adjustment:(0,sy.jsx)(Py,{className:"w-5 h-5 text-orange-600 dark:text-orange-400"})}[e]||null),V=e=>({income:"bg-green-100 dark:bg-green-500/10",expense:"bg-red-100 dark:bg-red-500/10",transfer:"bg-blue-100 dark:bg-blue-500/10",adjustment:"bg-orange-100 dark:bg-orange-500/10"}[e]||"bg-gray-100 dark:bg-gray-800"),B=e=>{const t=new Date;let r="",n="";switch(e){case"thisWeek":const e=new Date(t);e.setDate(t.getDate()-t.getDay());const a=new Date(e);a.setDate(e.getDate()+6),r=e.toISOString().split("T")[0],n=a.toISOString().split("T")[0];break;case"thisMonth":r=new Date(t.getFullYear(),t.getMonth(),1).toISOString().split("T")[0],n=new Date(t.getFullYear(),t.getMonth()+1,0).toISOString().split("T")[0];break;case"thisYear":r=new Date(t.getFullYear(),0,1).toISOString().split("T")[0],n=new Date(t.getFullYear(),11,31).toISOString().split("T")[0];break;case"allTime":r="",n=""}I({...T,datePreset:e,dateFrom:r,dateTo:n})},$=()=>{E({type:"expense",amount:"",currency:"INR",accountId:"",toAccountId:"",category:"",paymentMode:"",notes:"",newBalance:"",date:N(),isIncrease:!0})},H=i.filter(e=>{var t,r;if(T.search&&(null===(t=e.notes)||void 0===t||!t.toLowerCase().includes(T.search.toLowerCase()))&&(null===(r=e.category)||void 0===r||!r.toLowerCase().includes(T.search.toLowerCase())))return!1;if("all"!==T.type&&e.type!==T.type)return!1;if("all"!==T.accountId&&e.accountId!==T.accountId)return!1;if("all"!==T.category&&e.category!==T.category)return!1;if("all"!==T.paymentMode&&e.paymentMode!==T.paymentMode)return!1;if("thisMonth"===T.datePreset){const t=new Date(e.date),r=new Date,n=t.getMonth(),a=t.getFullYear(),i=r.getMonth(),s=r.getFullYear();if(n!==i||a!==s)return!1}else if("thisWeek"===T.datePreset){const t=new Date(e.date),r=new Date,n=new Date(r);n.setDate(r.getDate()-r.getDay()),n.setHours(0,0,0,0);const a=new Date(n);if(a.setDate(n.getDate()+6),a.setHours(23,59,59,999),t<n||t>a)return!1}else if("thisYear"===T.datePreset){const t=new Date(e.date),r=new Date;if(t.getFullYear()!==r.getFullYear())return!1}else if("custom"===T.datePreset&&(T.dateFrom||T.dateTo)){const t=new Date(e.date);if(T.dateFrom){if(t<new Date(T.dateFrom+"T00:00:00"))return!1}if(T.dateTo){if(t>new Date(T.dateTo+"T23:59:59.999"))return!1}}return!(T.amountMin&&e.amount<parseFloat(T.amountMin))&&!(T.amountMax&&e.amount>parseFloat(T.amountMax))}).sort((e,t)=>new Date(t.date)-new Date(e.date)),q=O*D,K=q-D,W=H.slice(K,q),G=Math.ceil(H.length/D),Y=H.filter(e=>"income"===e.type).reduce((e,t)=>e+R(t.amount,t.currency),0),Q=H.filter(e=>"expense"===e.type).reduce((e,t)=>e+R(t.amount,t.currency),0),X=Y-Q,J=e=>{var t;x(e),E({type:e.type,amount:e.amount.toString(),currency:e.currency,accountId:e.accountId,toAccountId:e.toAccountId||"",category:e.category,paymentMode:e.paymentMode||"",notes:e.notes||"",date:e.date,isIncrease:null===(t=e.isIncrease)||void 0===t||t}),f(!0),j(null)},ee=e=>{x(e),m(!0),j(null)};return(0,sy.jsxs)("div",{className:"p-4 md:p-6 space-y-4 md:space-y-6 animate-fade-in relative min-h-screen transition-all duration-500 pb-20 md:pb-6",children:[(0,sy.jsxs)("div",{className:"flex items-center justify-between",children:[(0,sy.jsxs)("div",{children:[(0,sy.jsx)("h1",{className:"text-xl md:text-2xl font-bold text-gray-900 dark:text-white transition-colors duration-300",children:"Transactions"}),(0,sy.jsx)("p",{className:"text-sm md:text-base text-gray-600 dark:text-gray-400 transition-colors duration-300",children:"Track and manage your financial transactions"})]}),(0,sy.jsxs)("div",{className:"flex items-center space-x-2 md:space-x-3",children:[(0,sy.jsx)("button",{onClick:()=>y(!g),className:"p-2 rounded-lg shadow-sm dark:shadow-lg hover:shadow-md dark:hover:shadow-xl transition-all duration-300 backdrop-blur-sm "+(g?"bg-orange-500 text-white":"bg-white dark:bg-white/5 text-gray-600 dark:text-gray-400"),children:(0,sy.jsx)(KU,{className:"w-4 h-4 md:w-5 md:h-5"})}),(0,sy.jsxs)("button",{onClick:()=>d(!0),className:"bg-orange-500 hover:bg-orange-600 text-white px-3 py-2 md:px-4 md:py-2 rounded-lg flex items-center space-x-2 transition-all duration-300 transform hover:-translate-y-0.5 shadow-md dark:shadow-lg",children:[(0,sy.jsx)(Xy,{className:"w-4 h-4"}),(0,sy.jsxs)("span",{className:"text-sm md:text-base",children:[(0,sy.jsx)("span",{className:"md:hidden",children:"Add"}),(0,sy.jsx)("span",{className:"hidden md:inline",children:"Add Transaction"})]})]})]})]}),(0,sy.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 md:gap-4",children:[(0,sy.jsxs)("div",{className:"bg-white dark:bg-white/5 rounded-xl p-3 md:p-4 backdrop-blur-sm shadow-lg dark:shadow-2xl transition-all duration-300 hover:transform hover:scale-[1.02]",children:[(0,sy.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,sy.jsx)("h3",{className:"text-xs md:text-sm text-gray-600 dark:text-gray-400",children:"Total Transactions"}),(0,sy.jsx)("div",{className:"w-6 h-6 md:w-8 md:h-8 bg-blue-100 dark:bg-blue-500/20 rounded-lg flex items-center justify-center",children:(0,sy.jsx)(WU,{className:"w-3 h-3 md:w-4 md:h-4 text-blue-600 dark:text-blue-400"})})]}),(0,sy.jsx)("p",{className:"text-lg md:text-2xl font-bold text-gray-900 dark:text-white",children:H.length.toLocaleString()})]}),(0,sy.jsxs)("div",{className:"bg-white dark:bg-white/5 rounded-xl p-3 md:p-4 backdrop-blur-sm shadow-lg dark:shadow-2xl transition-all duration-300 hover:transform hover:scale-[1.02]",children:[(0,sy.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,sy.jsx)("h3",{className:"text-xs md:text-sm text-gray-600 dark:text-gray-400",children:"Total Income"}),(0,sy.jsx)("div",{className:"w-6 h-6 md:w-8 md:h-8 bg-green-100 dark:bg-green-500/20 rounded-lg flex items-center justify-center",children:(0,sy.jsx)(Ky,{className:"w-3 h-3 md:w-4 md:h-4 text-green-600 dark:text-green-400"})})]}),(0,sy.jsx)("p",{className:"text-lg md:text-2xl font-bold text-green-600 dark:text-green-400",children:M(Y,"INR")})]}),(0,sy.jsxs)("div",{className:"bg-white dark:bg-white/5 rounded-xl p-3 md:p-4 backdrop-blur-sm shadow-lg dark:shadow-2xl transition-all duration-300 hover:transform hover:scale-[1.02]",children:[(0,sy.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,sy.jsx)("h3",{className:"text-xs md:text-sm text-gray-600 dark:text-gray-400",children:"Total Expense"}),(0,sy.jsx)("div",{className:"w-6 h-6 md:w-8 md:h-8 bg-red-100 dark:bg-red-500/20 rounded-lg flex items-center justify-center",children:(0,sy.jsx)(Wy,{className:"w-3 h-3 md:w-4 md:h-4 text-red-600 dark:text-red-400"})})]}),(0,sy.jsx)("p",{className:"text-lg md:text-2xl font-bold text-red-600 dark:text-red-400",children:M(Q,"INR")})]}),(0,sy.jsxs)("div",{className:"bg-white dark:bg-white/5 rounded-xl p-3 md:p-4 backdrop-blur-sm shadow-lg dark:shadow-2xl transition-all duration-300 hover:transform hover:scale-[1.02]",children:[(0,sy.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,sy.jsx)("h3",{className:"text-xs md:text-sm text-gray-600 dark:text-gray-400",children:"Net Amount"}),(0,sy.jsx)("div",{className:"w-6 h-6 md:w-8 md:h-8 rounded-lg flex items-center justify-center "+(X>=0?"bg-blue-100 dark:bg-blue-500/20":"bg-orange-100 dark:bg-orange-500/20"),children:(0,sy.jsx)(Py,{className:"w-3 h-3 md:w-4 md:h-4 "+(X>=0?"text-blue-600 dark:text-blue-400":"text-orange-600 dark:text-orange-400")})})]}),(0,sy.jsxs)("p",{className:"text-lg md:text-2xl font-bold "+(X>=0?"text-blue-600 dark:text-blue-400":"text-orange-600 dark:text-orange-400"),children:[X>=0?"":"-",M(Math.abs(X),"INR")]})]})]}),g&&(0,sy.jsxs)("div",{className:"bg-white dark:bg-white/5 rounded-2xl p-4 md:p-6 backdrop-blur-sm shadow-lg dark:shadow-2xl transition-all duration-300",children:[(0,sy.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,sy.jsx)("h3",{className:"text-base md:text-lg font-semibold text-gray-900 dark:text-white",children:"Filters"}),(0,sy.jsxs)("button",{onClick:()=>{I({search:"",type:"all",accountId:"all",category:"all",paymentMode:"all",datePreset:"thisMonth",amountMin:"",amountMax:"",dateFrom:new Date((new Date).getFullYear(),(new Date).getMonth(),1).toISOString().split("T")[0],dateTo:new Date((new Date).getFullYear(),(new Date).getMonth()+1,0).toISOString().split("T")[0]})},className:"text-sm text-orange-500 hover:text-orange-600 dark:hover:text-orange-400 transition-colors duration-300",children:[(0,sy.jsx)("span",{className:"md:hidden",children:"Clear"}),(0,sy.jsx)("span",{className:"hidden md:inline",children:"Clear All"})]})]}),(0,sy.jsxs)("div",{className:"md:hidden mb-4",children:[(0,sy.jsx)("div",{className:"mb-3",children:(0,sy.jsxs)("div",{className:"relative",children:[(0,sy.jsx)(GU,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,sy.jsx)("input",{type:"text",value:T.search,onChange:e=>I({...T,search:e.target.value}),placeholder:"Search transactions...",className:"w-full pl-10 pr-4 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300"})]})}),(0,sy.jsxs)("div",{className:"flex space-x-2 overflow-x-auto scrollbar-hide pb-2 pr-4",children:[(0,sy.jsxs)("select",{value:T.datePreset,onChange:e=>B(e.target.value),className:"flex-shrink-0 pl-3 pr-6 py-1.5 text-xs border border-gray-300 dark:border-gray-600 rounded-full focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300 appearance-none bg-no-repeat bg-right",style:{backgroundImage:"url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIiIGhlaWdodD0iOCIgdmlld0JveD0iMCAwIDEyIDgiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxwYXRoIGQ9Ik0xIDFMNiA2TDExIDEiIHN0cm9rZT0iIzZCNzI4MCIgc3Ryb2tlLXdpZHRoPSIxLjUiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPgo8L3N2Zz4K')",backgroundPosition:"right 8px center",backgroundSize:"12px"},children:[(0,sy.jsx)("option",{value:"thisWeek",children:"This Week"}),(0,sy.jsx)("option",{value:"thisMonth",children:"This Month"}),(0,sy.jsx)("option",{value:"thisYear",children:"This Year"}),(0,sy.jsx)("option",{value:"allTime",children:"All Time"}),(0,sy.jsx)("option",{value:"custom",children:"Custom"})]}),(0,sy.jsxs)("select",{value:T.type,onChange:e=>I({...T,type:e.target.value}),className:"flex-shrink-0 pl-3 pr-6 py-1.5 text-xs border border-gray-300 dark:border-gray-600 rounded-full focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300 appearance-none bg-no-repeat bg-right",style:{backgroundImage:"url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIiIGhlaWdodD0iOCIgdmlld0JveD0iMCAwIDEyIDgiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxwYXRoIGQ9Ik0xIDFMNiA2TDExIDEiIHN0cm9rZT0iIzZCNzI4MCIgc3Ryb2tlLXdpZHRoPSIxLjUiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPgo8L3N2Zz4K')",backgroundPosition:"right 8px center",backgroundSize:"12px"},children:[(0,sy.jsx)("option",{value:"all",children:"All Types"}),(0,sy.jsx)("option",{value:"income",children:"Income"}),(0,sy.jsx)("option",{value:"expense",children:"Expense"}),(0,sy.jsx)("option",{value:"transfer",children:"Transfer"}),(0,sy.jsx)("option",{value:"adjustment",children:"Adjustment"})]}),(0,sy.jsxs)("select",{value:T.accountId,onChange:e=>I({...T,accountId:e.target.value}),className:"flex-shrink-0 pl-3 pr-6 py-1.5 text-xs border border-gray-300 dark:border-gray-600 rounded-full focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300 appearance-none bg-no-repeat bg-right",style:{backgroundImage:"url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIiIGhlaWdodD0iOCIgdmlld0JveD0iMCAwIDEyIDgiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxwYXRoIGQ9Ik0xIDFMNiA2TDExIDEiIHN0cm9rZT0iIzZCNzI4MCIgc3Ryb2tlLXdpZHRoPSIxLjUiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPgo8L3N2Zz4K')",backgroundPosition:"right 8px center",backgroundSize:"12px"},children:[(0,sy.jsx)("option",{value:"all",children:"All Accounts"}),a.map(e=>(0,sy.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),"custom"===T.datePreset&&(0,sy.jsxs)("div",{className:"mt-3 grid grid-cols-2 gap-2",children:[(0,sy.jsx)("input",{type:"date",value:T.dateFrom,onChange:e=>I({...T,dateFrom:e.target.value}),className:"px-3 py-1.5 text-xs border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300"}),(0,sy.jsx)("input",{type:"date",value:T.dateTo,onChange:e=>I({...T,dateTo:e.target.value}),className:"px-3 py-1.5 text-xs border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300"})]})]}),(0,sy.jsxs)("div",{className:"hidden md:grid md:grid-cols-2 lg:grid-cols-5 gap-3 md:gap-4",children:[(0,sy.jsxs)("div",{className:"md:col-span-2 lg:col-span-1",children:[(0,sy.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Search"}),(0,sy.jsxs)("div",{className:"relative",children:[(0,sy.jsx)(GU,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,sy.jsx)("input",{type:"text",value:T.search,onChange:e=>I({...T,search:e.target.value}),placeholder:"Search transactions...",className:"w-full pl-10 pr-4 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300"})]})]}),(0,sy.jsxs)("div",{children:[(0,sy.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Time Period"}),(0,sy.jsxs)("select",{value:T.datePreset,onChange:e=>B(e.target.value),className:"w-full px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300",children:[(0,sy.jsx)("option",{value:"thisWeek",children:"This Week"}),(0,sy.jsx)("option",{value:"thisMonth",children:"This Month"}),(0,sy.jsx)("option",{value:"thisYear",children:"This Year"}),(0,sy.jsx)("option",{value:"allTime",children:"All Time"}),(0,sy.jsx)("option",{value:"custom",children:"Custom Range"})]})]}),"custom"===T.datePreset&&(0,sy.jsxs)(sy.Fragment,{children:[(0,sy.jsxs)("div",{children:[(0,sy.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"From Date"}),(0,sy.jsx)("input",{type:"date",value:T.dateFrom,onChange:e=>I({...T,dateFrom:e.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300"})]}),(0,sy.jsxs)("div",{children:[(0,sy.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"To Date"}),(0,sy.jsx)("input",{type:"date",value:T.dateTo,onChange:e=>I({...T,dateTo:e.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300"})]})]}),(0,sy.jsxs)("div",{children:[(0,sy.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Type"}),(0,sy.jsxs)("select",{value:T.type,onChange:e=>I({...T,type:e.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300",children:[(0,sy.jsx)("option",{value:"all",children:"All Types"}),(0,sy.jsx)("option",{value:"income",children:"Income"}),(0,sy.jsx)("option",{value:"expense",children:"Expense"}),(0,sy.jsx)("option",{value:"transfer",children:"Transfer"}),(0,sy.jsx)("option",{value:"adjustment",children:"Adjustment"})]})]}),(0,sy.jsxs)("div",{children:[(0,sy.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Account"}),(0,sy.jsxs)("select",{value:T.accountId,onChange:e=>I({...T,accountId:e.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300",children:[(0,sy.jsx)("option",{value:"all",children:"All Accounts"}),a.map(e=>(0,sy.jsx)("option",{value:e.id,children:e.name},e.id))]})]})]})]}),(0,sy.jsxs)("div",{className:"bg-white dark:bg-white/5 rounded-2xl backdrop-blur-sm shadow-lg dark:shadow-2xl transition-all duration-300 overflow-hidden",children:[(0,sy.jsx)("div",{className:"hidden md:block overflow-x-auto",children:(0,sy.jsxs)("table",{className:"w-full",children:[(0,sy.jsx)("thead",{className:"bg-gray-50 dark:bg-white/5 border-b border-gray-200 dark:border-white/10",children:(0,sy.jsxs)("tr",{children:[(0,sy.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Date & Time"}),(0,sy.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Type"}),(0,sy.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Amount"}),(0,sy.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Account"}),(0,sy.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Category"}),(0,sy.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Payment Mode"}),(0,sy.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Notes"}),(0,sy.jsx)("th",{className:"px-6 py-4 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),(0,sy.jsx)("tbody",{className:"divide-y divide-gray-200 dark:divide-white/10",children:W.length>0?W.map(e=>{const t=z(e.accountId),r=(e.toAccountId&&z(e.toAccountId),t?(n=t.type,a=t.subtype,"crypto"===n?Yy:"Credit Card"===a?yy:Qy):Qy);var n,a;return(0,sy.jsxs)("tr",{className:"hover:bg-gray-50 dark:hover:bg-white/5 transition-all duration-300",children:[(0,sy.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,sy.jsxs)("div",{children:[(0,sy.jsx)("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:L(e.date)}),(0,sy.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:F(e.date)})]})}),(0,sy.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,sy.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,sy.jsx)("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center ${V(e.type)}`,children:U(e.type)}),(0,sy.jsxs)("div",{children:[(0,sy.jsx)("span",{className:"text-sm font-medium text-gray-900 dark:text-white capitalize",children:e.type}),"adjustment"===e.type&&(0,sy.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[e.isIncrease?"+":"-"," Balance"]})]})]})}),(0,sy.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,sy.jsxs)("span",{className:"text-sm font-medium "+("income"===e.type?"text-green-600 dark:text-green-400":"expense"===e.type?"text-red-600 dark:text-red-400":"adjustment"===e.type?e.isIncrease?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400":"text-gray-900 dark:text-white"),children:["expense"===e.type?"-":"income"===e.type?"+":"adjustment"===e.type?e.isIncrease?"+":"-":"",M(e.amount,e.currency)]}),"INR"!==e.currency&&"transfer"!==e.type&&(0,sy.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["\u2248 ",M(R(e.amount,e.currency),"INR")]}),"transfer"===e.type&&e.convertedAmount&&e.currency!==e.toCurrency&&(0,sy.jsxs)("p",{className:"text-xs text-blue-600 dark:text-blue-400",children:["\u2192 ",M(e.convertedAmount,e.toCurrency)]})]}),(0,sy.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,sy.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,sy.jsx)("div",{className:"w-6 h-6 rounded-md flex items-center justify-center "+("crypto"===(null===t||void 0===t?void 0:t.type)?"bg-orange-100 dark:bg-orange-500/20":"bg-blue-100 dark:bg-blue-500/20"),children:(0,sy.jsx)(r,{className:"w-4 h-4 "+("crypto"===(null===t||void 0===t?void 0:t.type)?"text-orange-600 dark:text-orange-400":"text-blue-600 dark:text-blue-400")})}),(0,sy.jsxs)("div",{children:[(0,sy.jsx)("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:e.accountName||(null===t||void 0===t?void 0:t.name)||"Unknown"}),"transfer"===e.type&&e.toAccountName&&(0,sy.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["\u2192 ",e.toAccountName]}),e.accountDeleted&&(0,sy.jsx)("p",{className:"text-xs text-red-500 dark:text-red-400",children:"Deleted Account"})]})]})}),(0,sy.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600 dark:text-gray-400",children:e.category||"-"}),(0,sy.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600 dark:text-gray-400",children:e.paymentMode||"-"}),(0,sy.jsx)("td",{className:"px-6 py-4",children:(0,sy.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400 max-w-[150px] break-words",children:e.notes?(0,sy.jsx)("span",{title:e.notes,children:e.notes}):"-"})}),(0,sy.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:(0,sy.jsxs)("div",{className:"relative",children:[(0,sy.jsx)("button",{onClick:t=>{t.stopPropagation(),j(k===e.id?null:e.id)},className:"p-1 hover:bg-gray-100 dark:hover:bg-gray-700 rounded transition-colors duration-300",children:(0,sy.jsx)(ev,{className:"w-4 h-4 text-gray-600 dark:text-gray-400"})}),k===e.id&&(0,sy.jsxs)("div",{className:"absolute right-0 mt-2 w-40 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 py-1 z-10",children:[(0,sy.jsxs)("button",{onClick:()=>J(e),className:"w-full text-left px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center space-x-2 transition-colors duration-300",children:[(0,sy.jsx)(tv,{className:"w-4 h-4"}),(0,sy.jsx)("span",{children:"Edit"})]}),(0,sy.jsxs)("button",{onClick:()=>ee(e),className:"w-full text-left px-4 py-2 text-sm text-red-600 dark:text-red-400 hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center space-x-2 transition-colors duration-300",children:[(0,sy.jsx)(rv,{className:"w-4 h-4"}),(0,sy.jsx)("span",{children:"Delete"})]})]})]})})]},e.id)}):(0,sy.jsx)("tr",{children:(0,sy.jsx)("td",{colSpan:"8",className:"px-6 py-12 text-center",children:(0,sy.jsxs)("div",{className:"text-gray-500 dark:text-gray-400",children:[(0,sy.jsx)(WU,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),(0,sy.jsx)("p",{className:"text-lg font-medium mb-2",children:"No transactions found"}),(0,sy.jsx)("p",{className:"text-sm",children:"Add your first transaction or adjust your filters"})]})})})})]})}),(0,sy.jsx)("div",{className:"lg:hidden space-y-3 p-4",children:W.length>0?W.map(e=>{const t=z(e.accountId);e.toAccountId&&z(e.toAccountId);return(0,sy.jsxs)("div",{className:"bg-gray-50 dark:bg-white/5 rounded-xl p-4 border border-gray-200 dark:border-white/10 hover:bg-gray-100 dark:hover:bg-white/8 transition-all duration-300",children:[(0,sy.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,sy.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,sy.jsx)("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center transition-colors duration-300 ${V(e.type)}`,children:U(e.type)}),(0,sy.jsxs)("div",{children:[(0,sy.jsx)("p",{className:"text-sm font-semibold text-gray-900 dark:text-white capitalize",children:e.type}),(0,sy.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[L(e.date)," \u2022 ",F(e.date)]})]})]}),(0,sy.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,sy.jsxs)("div",{className:"text-right",children:[(0,sy.jsxs)("span",{className:"text-sm font-bold "+("income"===e.type?"text-green-600 dark:text-green-400":"expense"===e.type?"text-red-600 dark:text-red-400":"adjustment"===e.type?e.isIncrease?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400":"text-gray-900 dark:text-white"),children:["expense"===e.type?"-":"income"===e.type?"+":"adjustment"===e.type?e.isIncrease?"+":"-":"",M(e.amount,e.currency)]}),"INR"!==e.currency&&"transfer"!==e.type&&(0,sy.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["\u2248 ",M(R(e.amount,e.currency),"INR")]})]}),(0,sy.jsxs)("div",{className:"relative",children:[(0,sy.jsx)("button",{onClick:t=>{t.stopPropagation(),j(k===e.id?null:e.id)},className:"p-1 hover:bg-gray-200 dark:hover:bg-gray-700 rounded transition-colors duration-300",children:(0,sy.jsx)(ev,{className:"w-4 h-4 text-gray-600 dark:text-gray-400"})}),k===e.id&&(0,sy.jsxs)("div",{className:"absolute right-0 mt-2 w-36 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 py-1 z-10",children:[(0,sy.jsxs)("button",{onClick:()=>J(e),className:"w-full text-left px-3 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center space-x-2 transition-colors duration-300",children:[(0,sy.jsx)(tv,{className:"w-4 h-4"}),(0,sy.jsx)("span",{children:"Edit"})]}),(0,sy.jsxs)("button",{onClick:()=>ee(e),className:"w-full text-left px-3 py-2 text-sm text-red-600 dark:text-red-400 hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center space-x-2 transition-colors duration-300",children:[(0,sy.jsx)(rv,{className:"w-4 h-4"}),(0,sy.jsx)("span",{children:"Delete"})]})]})]})]})]}),(0,sy.jsxs)("div",{className:"grid grid-cols-2 gap-3 text-xs",children:[(0,sy.jsxs)("div",{children:[(0,sy.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"Account:"}),(0,sy.jsx)("p",{className:"text-gray-900 dark:text-white font-medium truncate",children:e.accountName||(null===t||void 0===t?void 0:t.name)||"-"})]}),(0,sy.jsxs)("div",{children:[(0,sy.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"Category:"}),(0,sy.jsx)("p",{className:"text-gray-900 dark:text-white font-medium truncate",children:e.category||"-"})]}),"transfer"!==e.type&&(0,sy.jsxs)("div",{children:[(0,sy.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"Payment:"}),(0,sy.jsx)("p",{className:"text-gray-900 dark:text-white font-medium truncate",children:e.paymentMode||"-"})]}),"transfer"===e.type&&e.toAccountName&&(0,sy.jsxs)("div",{children:[(0,sy.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"To Account:"}),(0,sy.jsx)("p",{className:"text-gray-900 dark:text-white font-medium truncate",children:e.toAccountName})]}),e.notes&&(0,sy.jsxs)("div",{children:[(0,sy.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"Notes:"}),(0,sy.jsx)("p",{className:"text-gray-900 dark:text-white font-medium truncate",children:e.notes})]})]})]},e.id)}):(0,sy.jsxs)("div",{className:"text-center py-12",children:[(0,sy.jsx)(WU,{className:"w-12 h-12 mx-auto mb-4 opacity-50 text-gray-400"}),(0,sy.jsx)("p",{className:"text-lg font-medium mb-2 text-gray-500 dark:text-gray-400",children:"No transactions found"}),(0,sy.jsx)("p",{className:"text-sm text-gray-400 dark:text-gray-500",children:"Add your first transaction or adjust your filters"})]})}),G>1&&(0,sy.jsx)("div",{className:"px-4 py-3 border-t border-gray-200 dark:border-white/10 md:px-6 md:py-4",children:(0,sy.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between space-y-3 md:space-y-0",children:[(0,sy.jsxs)("p",{className:"text-xs md:text-sm text-gray-700 dark:text-gray-300 text-center md:text-left",children:[K+1,"-",Math.min(q,H.length)," of ",H.length]}),(0,sy.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,sy.jsx)("button",{onClick:()=>P(Math.max(1,O-1)),disabled:1===O,className:"px-2 py-1 text-xs md:px-3 md:py-1 md:text-sm border border-gray-300 dark:border-gray-600 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-300",children:"\u2039"}),(0,sy.jsx)("div",{className:"flex space-x-1 max-w-[120px] md:max-w-none overflow-x-auto scrollbar-hide",children:Array.from({length:Math.min(3,G)},(e,t)=>{let r;return r=G<=3||1===O?t+1:O===G?G-2+t:O-1+t,(0,sy.jsx)("button",{onClick:()=>P(r),className:"px-2 py-1 text-xs md:px-3 md:py-1 md:text-sm border rounded-md transition-colors duration-300 whitespace-nowrap "+(O===r?"bg-orange-500 text-white border-orange-500":"border-gray-300 dark:border-gray-600 hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300"),children:r},r)})}),(0,sy.jsx)("button",{onClick:()=>P(Math.min(G,O+1)),disabled:O===G,className:"px-2 py-1 text-xs md:px-3 md:py-1 md:text-sm border border-gray-300 dark:border-gray-600 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-300",children:"\u203a"})]})]})})]}),u&&(0,sy.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50 py-8 md:py-16",onClick:e=>{e.target===e.currentTarget&&(d(!1),$())},children:(0,sy.jsxs)("div",{className:"bg-white dark:bg-gray-900 rounded-2xl p-4 md:p-6 w-full max-w-md md:max-w-2xl max-h-[90vh] md:max-h-[80vh] overflow-y-auto backdrop-blur-sm border border-gray-200 dark:border-gray-700",children:[(0,sy.jsxs)("div",{className:"flex items-center justify-between mb-3 md:mb-4",children:[(0,sy.jsx)("h2",{className:"text-lg md:text-xl font-bold text-gray-900 dark:text-white",children:"Add Transaction"}),(0,sy.jsx)("button",{onClick:()=>{d(!1),$()},className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition-colors duration-300",children:(0,sy.jsx)(zy,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})})]}),(0,sy.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),l&&!b&&S.accountId&&("transfer"!==S.type||S.amount&&S.toAccountId)&&("adjustment"!==S.type||S.newBalance)&&(!["income","expense"].includes(S.type)||S.amount&&S.category))try{w(!0);const e=ty(iy),t=z(S.accountId);if(!t)throw new Error("Account not found");let r,n={userId:l.uid,accountId:S.accountId,accountName:t.name,currency:t.currency,date:new Date(S.date).toISOString(),notes:S.notes,createdAt:(new Date).toISOString()};if("adjustment"===S.type){const a=parseFloat(S.newBalance),i=t.balance;r=a-i,n={...n,type:"adjustment",amount:Math.abs(r),amountInINR:R(Math.abs(r),t.currency),exchangeRate:"USD"===t.currency?YU:1,isIncrease:r>=0,category:"Balance Reconciliation",paymentMode:"Account Adjustment",newBalance:a,previousBalance:i};const s=Um(iy,"users",l.uid,"accounts",S.accountId);e.update(s,{balance:a,lastActivityAt:(new Date).toISOString(),updatedAt:(new Date).toISOString()})}else{r=parseFloat(S.amount);const a=R(r,t.currency);if(n={...n,type:S.type,amount:r,amountInINR:a,exchangeRate:"USD"===t.currency?YU:1},"transfer"===S.type){const a=z(S.toAccountId);if(!a)throw new Error("Destination account not found");if(S.accountId===S.toAccountId)throw new Error("Cannot transfer to same account");n.toAccountId=S.toAccountId,n.toAccountName=a.name,n.fromAccountId=S.accountId,n.category="Self Transfer",n.paymentMode="Account Transfer";const i=Um(iy,"users",l.uid,"accounts",S.accountId),s=Um(iy,"users",l.uid,"accounts",S.toAccountId);e.update(i,{balance:ey(-r),lastActivityAt:(new Date).toISOString(),updatedAt:(new Date).toISOString()});const o=t.currency!==a.currency?"USD"===t.currency?r*YU:r/YU:r;e.update(s,{balance:ey(o),lastActivityAt:(new Date).toISOString(),updatedAt:(new Date).toISOString()}),t.currency!==a.currency&&(n.convertedAmount=o,n.toCurrency=a.currency)}else{n.category=S.category,n.paymentMode=S.paymentMode;const t=Um(iy,"users",l.uid,"accounts",S.accountId),a="income"===S.type?r:-r;e.update(t,{balance:ey(a),lastActivityAt:(new Date).toISOString(),updatedAt:(new Date).toISOString()})}}const a=Um(zm(iy,"users",l.uid,"transactions"));e.set(a,n),await e.commit(),d(!1),$()}catch(t){console.error("Error adding transaction:",t),alert("Error adding transaction. Please try again.")}finally{w(!1)}},className:"space-y-3 md:space-y-4",children:[(0,sy.jsxs)("div",{children:[(0,sy.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1.5 md:mb-2",children:"Transaction Type"}),(0,sy.jsx)("div",{className:"grid grid-cols-4 gap-2",children:[{value:"income",label:"Income",icon:Ky,color:"green"},{value:"expense",label:"Expense",icon:Wy,color:"red"},{value:"transfer",label:"Transfer",icon:Gy,color:"blue"},{value:"adjustment",label:"Adjustment",icon:Py,color:"orange"}].map(e=>{const t=e.icon,r=S.type===e.value;return(0,sy.jsxs)("button",{type:"button",onClick:()=>E({...S,type:e.value,category:"",paymentMode:""}),className:"p-2 rounded-lg border-2 transition-all duration-300 flex flex-col items-center space-y-1 "+(r?`border-${e.color}-500 bg-${e.color}-50 dark:bg-${e.color}-500/10`:"border-gray-300 dark:border-gray-600 hover:border-gray-400 dark:hover:border-gray-500"),children:[(0,sy.jsx)(t,{className:"w-4 h-4 "+(r?`text-${e.color}-600 dark:text-${e.color}-400`:"text-gray-600 dark:text-gray-400")}),(0,sy.jsx)("span",{className:"text-xs font-medium "+(r?`text-${e.color}-700 dark:text-${e.color}-300`:"text-gray-700 dark:text-gray-300"),children:e.label})]},e.value)})})]}),(0,sy.jsxs)("div",{className:"grid grid-cols-2 gap-3 md:gap-4",children:[(0,sy.jsxs)("div",{children:[(0,sy.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1.5 md:mb-2",children:"transfer"===S.type?"From Account":"Account"}),(0,sy.jsxs)("select",{value:S.accountId,onChange:e=>E({...S,accountId:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300 text-sm",required:!0,children:[(0,sy.jsx)("option",{value:"",children:"Select account"}),a.map(e=>(0,sy.jsxs)("option",{value:e.id,children:[e.name," (",e.currency,") - ",M(e.balance,e.currency)]},e.id))]})]}),"adjustment"!==S.type&&(0,sy.jsxs)("div",{children:[(0,sy.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1.5 md:mb-2",children:"Amount"}),(0,sy.jsx)("input",{type:"number",step:"0.01",value:S.amount,onChange:e=>E({...S,amount:e.target.value}),placeholder:"0.00",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300 text-sm",required:!0})]}),"adjustment"===S.type&&(0,sy.jsxs)("div",{children:[(0,sy.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1.5 md:mb-2",children:"New Balance"}),(0,sy.jsx)("input",{type:"number",step:"0.01",value:S.newBalance,onChange:e=>E({...S,newBalance:e.target.value}),placeholder:"0.00",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300 text-sm",required:!0})]})]}),"transfer"===S.type&&(0,sy.jsxs)("div",{children:[(0,sy.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1.5 md:mb-2",children:"To Account"}),(0,sy.jsxs)("select",{value:S.toAccountId,onChange:e=>E({...S,toAccountId:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300 text-sm",required:!0,children:[(0,sy.jsx)("option",{value:"",children:"Select destination account"}),a.filter(e=>e.id!==S.accountId).map(e=>(0,sy.jsxs)("option",{value:e.id,children:[e.name," (",e.currency,") - ",M(e.balance,e.currency)]},e.id))]}),S.accountId&&S.toAccountId&&(()=>{const e=z(S.accountId),t=z(S.toAccountId);if(e&&t&&e.currency!==t.currency&&S.amount){const r="USD"===e.currency?parseFloat(S.amount)*YU:parseFloat(S.amount)/YU;return(0,sy.jsxs)("p",{className:"text-xs text-blue-600 dark:text-blue-400 mt-1",children:["Will receive: ",M(r,t.currency)]})}return null})()]}),["income","expense"].includes(S.type)&&(0,sy.jsxs)("div",{className:"grid grid-cols-2 gap-3 md:gap-4",children:[(0,sy.jsxs)("div",{children:[(0,sy.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1.5 md:mb-2",children:"Category"}),(0,sy.jsxs)("select",{value:S.category,onChange:e=>E({...S,category:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300 text-sm",required:!0,children:[(0,sy.jsx)("option",{value:"",children:"Select category"}),null===(r=QU[S.type])||void 0===r?void 0:r.map(e=>(0,sy.jsx)("option",{value:e,children:e},e))]})]}),(0,sy.jsxs)("div",{children:[(0,sy.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1.5 md:mb-2",children:"Payment Mode"}),(0,sy.jsxs)("select",{value:S.paymentMode,onChange:e=>E({...S,paymentMode:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300 text-sm",children:[(0,sy.jsx)("option",{value:"",children:"Select payment mode"}),S.accountId&&(e=>{const t=z(S.accountId);return t?null===(e=XU[t.type])||void 0===e?void 0:e.map(e=>(0,sy.jsx)("option",{value:e,children:e},e)):null})()]})]})]}),(0,sy.jsxs)("div",{children:[(0,sy.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1.5 md:mb-2",children:"Date & Time"}),(0,sy.jsx)("input",{type:"datetime-local",value:S.date,onChange:e=>E({...S,date:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300 text-sm",required:!0})]}),(0,sy.jsxs)("div",{children:[(0,sy.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1.5 md:mb-2",children:"Notes (Optional)"}),(0,sy.jsx)("textarea",{value:S.notes,onChange:e=>E({...S,notes:e.target.value}),placeholder:"Add any additional notes...",rows:1,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300 text-sm"})]}),(0,sy.jsxs)("div",{className:"flex space-x-3 pt-3 md:pt-4",children:[(0,sy.jsx)("button",{type:"button",onClick:()=>{d(!1),$()},className:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors duration-300 text-sm",children:"Cancel"}),(0,sy.jsx)("button",{type:"submit",disabled:b||!S.accountId||"transfer"===S.type&&(!S.amount||!S.toAccountId)||"adjustment"===S.type&&!S.newBalance||["income","expense"].includes(S.type)&&(!S.amount||!S.category),className:"flex-1 bg-orange-500 hover:bg-orange-600 text-white px-4 py-2 rounded-lg transition-colors duration-300 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2 text-sm",children:b?(0,sy.jsxs)(sy.Fragment,{children:[(0,sy.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),(0,sy.jsx)("span",{children:"Adding..."})]}):(0,sy.jsxs)(sy.Fragment,{children:[(0,sy.jsx)(nv,{className:"w-4 h-4"}),(0,sy.jsx)("span",{children:"Add"})]})})]})]})]})}),h&&v&&(0,sy.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",onClick:e=>{e.target===e.currentTarget&&(f(!1),x(null),$())},children:(0,sy.jsxs)("div",{className:"bg-white dark:bg-gray-900 rounded-2xl p-6 w-full max-w-lg backdrop-blur-sm border border-gray-200 dark:border-gray-700",children:[(0,sy.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,sy.jsx)("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Edit Transaction"}),(0,sy.jsx)("button",{onClick:()=>{f(!1),x(null),$()},className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition-colors duration-300",children:(0,sy.jsx)(zy,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})})]}),(0,sy.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),l&&v&&!b)try{w(!0);const e=Um(iy,"users",l.uid,"transactions",v.id);await Kg(e,{category:S.category,paymentMode:S.paymentMode,notes:S.notes,updatedAt:(new Date).toISOString()}),f(!1),x(null),$()}catch(t){console.error("Error updating transaction:",t),alert("Error updating transaction. Please try again.")}finally{w(!1)}},className:"space-y-4",children:[(0,sy.jsx)("div",{className:"bg-yellow-50 dark:bg-yellow-500/10 border border-yellow-200 dark:border-yellow-500/20 rounded-lg p-4 mb-4",children:(0,sy.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,sy.jsx)(av,{className:"w-5 h-5 text-yellow-600 dark:text-yellow-400 flex-shrink-0 mt-0.5"}),(0,sy.jsxs)("div",{children:[(0,sy.jsx)("h3",{className:"text-sm font-medium text-yellow-800 dark:text-yellow-300 mb-1",children:"Limited Edit Mode"}),(0,sy.jsx)("p",{className:"text-xs text-yellow-700 dark:text-yellow-400",children:"You can only edit category, payment mode, and notes. Amount and account changes affect balances and require deletion + re-creation."})]})]})}),["income","expense"].includes(v.type)&&(0,sy.jsxs)(sy.Fragment,{children:[(0,sy.jsxs)("div",{children:[(0,sy.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Category"}),(0,sy.jsxs)("select",{value:S.category,onChange:e=>E({...S,category:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300",required:!0,children:[(0,sy.jsx)("option",{value:"",children:"Select category"}),null===(n=QU[S.type])||void 0===n?void 0:n.map(e=>(0,sy.jsx)("option",{value:e,children:e},e))]})]}),(0,sy.jsxs)("div",{children:[(0,sy.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Payment Mode"}),(0,sy.jsxs)("select",{value:S.paymentMode,onChange:e=>E({...S,paymentMode:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300",children:[(0,sy.jsx)("option",{value:"",children:"Select payment mode"}),(e=>{const t=z(S.accountId);return t?null===(e=XU[t.type])||void 0===e?void 0:e.map(e=>(0,sy.jsx)("option",{value:e,children:e},e)):null})()]})]})]}),(0,sy.jsxs)("div",{children:[(0,sy.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Notes"}),(0,sy.jsx)("textarea",{value:S.notes,onChange:e=>E({...S,notes:e.target.value}),placeholder:"Add any additional notes...",rows:2,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300"})]}),(0,sy.jsxs)("div",{className:"flex space-x-3 pt-4",children:[(0,sy.jsx)("button",{type:"button",onClick:()=>{f(!1),x(null),$()},className:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors duration-300",children:"Cancel"}),(0,sy.jsx)("button",{type:"submit",disabled:b||["income","expense"].includes(v.type)&&!S.category,className:"flex-1 bg-orange-500 hover:bg-orange-600 text-white px-4 py-2 rounded-lg transition-colors duration-300 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:b?(0,sy.jsxs)(sy.Fragment,{children:[(0,sy.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),(0,sy.jsx)("span",{children:"Updating..."})]}):(0,sy.jsxs)(sy.Fragment,{children:[(0,sy.jsx)(nv,{className:"w-4 h-4"}),(0,sy.jsx)("span",{children:"Update Transaction"})]})})]})]})]})}),p&&v&&(0,sy.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",onClick:e=>{e.target===e.currentTarget&&(m(!1),x(null))},children:(0,sy.jsxs)("div",{className:"bg-white dark:bg-gray-900 rounded-2xl p-6 w-full max-w-md backdrop-blur-sm border border-gray-200 dark:border-gray-700",children:[(0,sy.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,sy.jsx)("div",{className:"w-10 h-10 bg-red-100 dark:bg-red-500/20 rounded-lg flex items-center justify-center",children:(0,sy.jsx)(av,{className:"w-5 h-5 text-red-600 dark:text-red-400"})}),(0,sy.jsx)("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Delete Transaction"})]}),(0,sy.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Are you sure you want to delete this transaction? This action will also reverse any balance changes."}),(0,sy.jsxs)("div",{className:"bg-gray-50 dark:bg-white/5 rounded-lg p-4 mb-6",children:[(0,sy.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,sy.jsx)("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center ${V(v.type)}`,children:U(v.type)}),(0,sy.jsxs)("div",{children:[(0,sy.jsxs)("p",{className:"font-medium text-gray-900 dark:text-white",children:["adjustment"===v.type&&(v.isIncrease?"+":"-"),M(v.amount,v.currency)]}),(0,sy.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[v.category," \u2022 ",L(v.date)]})]})]}),v.notes&&(0,sy.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-2",children:['"',v.notes,'"']})]}),(0,sy.jsxs)("div",{className:"flex space-x-3",children:[(0,sy.jsx)("button",{type:"button",onClick:()=>{m(!1),x(null)},className:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors duration-300",children:"Cancel"}),(0,sy.jsx)("button",{onClick:async()=>{if(l&&v&&!b)try{w(!0);const e=ty(iy);if(z(v.accountId)){const t=Um(iy,"users",l.uid,"accounts",v.accountId);let r=0;switch(v.type){case"income":r=-v.amount;break;case"expense":r=v.amount;break;case"adjustment":r=v.isIncrease?-v.amount:v.amount;break;case"transfer":if(r=v.amount,v.toAccountId){const t=Um(iy,"users",l.uid,"accounts",v.toAccountId);if(z(v.toAccountId)){const r=v.convertedAmount||v.amount;e.update(t,{balance:ey(-r),updatedAt:(new Date).toISOString()})}}}0!==r&&e.update(t,{balance:ey(r),updatedAt:(new Date).toISOString()})}const t=Um(iy,"users",l.uid,"transactions",v.id);e.delete(t),await e.commit(),m(!1),x(null)}catch(e){console.error("Error deleting transaction:",e),alert("Error deleting transaction. Please try again.")}finally{w(!1)}},disabled:b,className:"flex-1 bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg transition-colors duration-300 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:b?(0,sy.jsxs)(sy.Fragment,{children:[(0,sy.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),(0,sy.jsx)("span",{children:"Deleting..."})]}):(0,sy.jsxs)(sy.Fragment,{children:[(0,sy.jsx)(rv,{className:"w-4 h-4"}),(0,sy.jsx)("span",{children:"Delete Transaction"})]})})]})]})}),(0,sy.jsxs)("button",{onClick:()=>d(!0),className:"fixed bottom-6 right-6 w-14 h-14 bg-orange-500 hover:bg-orange-600 text-white rounded-full shadow-lg dark:shadow-2xl transition-all duration-300 flex items-center justify-center group transform hover:-translate-y-1 hover:shadow-xl dark:hover:shadow-3xl z-40",children:[(0,sy.jsx)(Xy,{className:"w-6 h-6"}),(0,sy.jsx)("span",{className:"absolute right-16 bg-gray-900 dark:bg-black text-white px-3 py-2 rounded-lg text-sm whitespace-nowrap opacity-0 group-hover:opacity-100 transition-all duration-300 shadow-lg dark:shadow-2xl pointer-events-none",children:"Add Transaction"})]})]})},ZU=gy("arrow-up",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]),eV=gy("arrow-down",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]),tV=gy("activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]),rV=gy("target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),nV=gy("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);var aV=["axis"],iV=(0,t.forwardRef)((e,r)=>t.createElement(mM,{chartName:"ComposedChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:aV,tooltipPayloadSearcher:_b,categoricalChartProps:e,ref:r}));Math.abs,Math.atan2;const sV=Math.cos,oV=(Math.max,Math.min,Math.sin),lV=Math.sqrt,cV=Math.PI,uV=2*cV;const dV={draw(e,t){const r=lV(t/cV);e.moveTo(r,0),e.arc(0,0,r,0,uV)}},hV={draw(e,t){const r=lV(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},fV=lV(1/3),pV=2*fV,mV={draw(e,t){const r=lV(t/pV),n=r*fV;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},gV={draw(e,t){const r=lV(t),n=-r/2;e.rect(n,n,r,r)}},yV=oV(cV/10)/oV(7*cV/10),vV=oV(uV/10)*yV,xV=-sV(uV/10)*yV,bV={draw(e,t){const r=lV(.8908130915292852*t),n=vV*r,a=xV*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const t=uV*i/5,s=sV(t),o=oV(t);e.lineTo(o*r,-s*r),e.lineTo(s*n-o*a,o*n+s*a)}e.closePath()}},wV=lV(3),kV={draw(e,t){const r=-lV(t/(3*wV));e.moveTo(0,2*r),e.lineTo(-wV*r,-r),e.lineTo(wV*r,-r),e.closePath()}},jV=-.5,NV=lV(3)/2,SV=1/lV(12),EV=3*(SV/2+1),AV={draw(e,t){const r=lV(t/EV),n=r/2,a=r*SV,i=n,s=r*SV+r,o=-i,l=s;e.moveTo(n,a),e.lineTo(i,s),e.lineTo(o,l),e.lineTo(jV*n-NV*a,NV*n+jV*a),e.lineTo(jV*i-NV*s,NV*i+jV*s),e.lineTo(jV*o-NV*l,NV*o+jV*l),e.lineTo(jV*n+NV*a,jV*a-NV*n),e.lineTo(jV*i+NV*s,jV*s-NV*i),e.lineTo(jV*o+NV*l,jV*l-NV*o),e.closePath()}};lV(3),lV(3);var _V=["type","size","sizeType"];function CV(){return CV=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},CV.apply(null,arguments)}function TV(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function IV(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?TV(Object(r),!0).forEach(function(t){OV(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TV(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function OV(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var PV={symbolCircle:dV,symbolCross:hV,symbolDiamond:mV,symbolSquare:gV,symbolStar:bV,symbolTriangle:kV,symbolWye:AV},DV=Math.PI/180,MV=e=>{var{type:r="circle",size:n=64,sizeType:a="area"}=e,i=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,_V),s=IV(IV({},i),{},{type:r,size:n,sizeType:a}),{className:o,cx:l,cy:c}=s,u=OD(s,!0);return l===+l&&c===+c&&n===+n?t.createElement("path",CV({},u,{className:sv("recharts-symbols",o),transform:"translate(".concat(l,", ").concat(c,")"),d:(()=>{var e=(e=>{var t="symbol".concat(Nv(e));return PV[t]||dV})(r),t=function(e,t){let r=null,n=JL(a);function a(){let a;if(r||(r=a=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),a)return r=null,a+""||null}return e="function"===typeof e?e:Sk(e||dV),t="function"===typeof t?t:Sk(void 0===t?64:+t),a.type=function(t){return arguments.length?(e="function"===typeof t?t:Sk(t),a):e},a.size=function(e){return arguments.length?(t="function"===typeof e?e:Sk(+e),a):t},a.context=function(e){return arguments.length?(r=null==e?null:e,a):r},a}().type(e).size(((e,t,r)=>{if("area"===t)return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return.5*e*e/Math.sqrt(3);case"square":return e*e;case"star":var n=18*DV;return 1.25*e*e*(Math.tan(n)-Math.tan(2*n)*Math.tan(n)**2);case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}})(n,a,r));return t()})()})):null};function RV(){return RV=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},RV.apply(null,arguments)}function LV(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function FV(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}MV.registerSymbol=(e,t)=>{PV["symbol".concat(Nv(e))]=t};var zV=32;class UV extends t.PureComponent{renderIcon(e,r){var{inactiveColor:n}=this.props,a=16,i=zV/6,s=zV/3,o=e.inactive?n:e.color,l=null!==r&&void 0!==r?r:e.type;if("none"===l)return null;if("plainline"===l)return t.createElement("line",{strokeWidth:4,fill:"none",stroke:o,strokeDasharray:e.payload.strokeDasharray,x1:0,y1:a,x2:zV,y2:a,className:"recharts-legend-icon"});if("line"===l)return t.createElement("path",{strokeWidth:4,fill:"none",stroke:o,d:"M0,".concat(a,"h").concat(s,"\n            A").concat(i,",").concat(i,",0,1,1,").concat(2*s,",").concat(a,"\n            H").concat(zV,"M").concat(2*s,",").concat(a,"\n            A").concat(i,",").concat(i,",0,1,1,").concat(s,",").concat(a),className:"recharts-legend-icon"});if("rect"===l)return t.createElement("path",{stroke:"none",fill:o,d:"M0,".concat(4,"h").concat(zV,"v").concat(24,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(t.isValidElement(e.legendIcon)){var c=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?LV(Object(r),!0).forEach(function(t){FV(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LV(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},e);return delete c.legendIcon,t.cloneElement(e.legendIcon,c)}return t.createElement(MV,{fill:o,cx:a,cy:a,size:zV,sizeType:"diameter",type:l})}renderItems(){var{payload:e,iconSize:r,layout:n,formatter:a,inactiveColor:i,iconType:s}=this.props,o={x:0,y:0,width:zV,height:zV},l={display:"horizontal"===n?"inline-block":"block",marginRight:10},c={display:"inline-block",verticalAlign:"middle",marginRight:4};return e.map((e,n)=>{var u=e.formatter||a,d=sv({"recharts-legend-item":!0,["legend-item-".concat(n)]:!0,inactive:e.inactive});if("none"===e.type)return null;var h=e.inactive?i:e.color,f=u?u(e.value,e,n):e.value;return t.createElement("li",RV({className:d,style:l,key:"legend-item-".concat(n)},SD(this.props,e,n)),t.createElement(RD,{width:r,height:r,viewBox:o,style:c,"aria-label":"".concat(f," legend icon")},this.renderIcon(e,s)),t.createElement("span",{className:"recharts-legend-item-text",style:{color:h}},f))})}render(){var{payload:e,layout:r,align:n}=this.props;if(!e||!e.length)return null;var a={padding:0,margin:0,textAlign:"horizontal"===r?n:"left"};return t.createElement("ul",{className:"recharts-default-legend",style:a},this.renderItems())}}FV(UV,"displayName","Legend"),FV(UV,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var VV=["contextPayload"];function BV(){return BV=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},BV.apply(null,arguments)}function $V(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function HV(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?$V(Object(r),!0).forEach(function(t){qV(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$V(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function qV(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KV(e){return e.value}function WV(e){var{contextPayload:r}=e,n=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,VV),a=SL(r,e.payloadUniqBy,KV),i=HV(HV({},n),{},{payload:a});return t.isValidElement(e.content)?t.cloneElement(e.content,i):"function"===typeof e.content?t.createElement(e.content,i):t.createElement(UV,i)}function GV(e){var r=pk();return(0,t.useEffect)(()=>{r(BP(e))},[r,e]),null}function YV(e){var r=pk();return(0,t.useEffect)(()=>(r(VP(e)),()=>{r(VP({width:0,height:0}))}),[r,e]),null}function QV(e){var r=vk(kk),n=(0,t.useContext)(XD),a=(()=>{var e;return null!==(e=vk(e=>e.layout.margin))&&void 0!==e?e:Aj})(),{width:i,height:s,wrapperStyle:o,portal:l}=e,[c,u]=EL([r]),d=Sj(),h=Ej(),f=d-(a.left||0)-(a.right||0),p=XV.getWidthOrHeight(e.layout,s,i,f),m=l?o:HV(HV({position:"absolute",width:(null===p||void 0===p?void 0:p.width)||i||"auto",height:(null===p||void 0===p?void 0:p.height)||s||"auto"},function(e,t,r,n,a,i){var s,o,{layout:l,align:c,verticalAlign:u}=t;return e&&(void 0!==e.left&&null!==e.left||void 0!==e.right&&null!==e.right)||(s="center"===c&&"vertical"===l?{left:((n||0)-i.width)/2}:"right"===c?{right:r&&r.right||0}:{left:r&&r.left||0}),e&&(void 0!==e.top&&null!==e.top||void 0!==e.bottom&&null!==e.bottom)||(o="middle"===u?{top:((a||0)-i.height)/2}:"bottom"===u?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),HV(HV({},s),o)}(o,e,a,d,h,c)),o),g=null!==l&&void 0!==l?l:n;if(null==g)return null;var y=t.createElement("div",{className:"recharts-legend-wrapper",style:m,ref:u},t.createElement(GV,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),t.createElement(YV,{width:c.width,height:c.height}),t.createElement(WV,BV({},e,p,{margin:a,chartWidth:d,chartHeight:h,contextPayload:r})));return(0,lL.createPortal)(y,g)}class XV extends t.PureComponent{static getWidthOrHeight(e,t,r,n){return"vertical"===e&&pv(t)?{height:t}:"horizontal"===e?{width:r||n}:null}render(){return t.createElement(QV,this.props)}}qV(XV,"displayName","Legend"),qV(XV,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});var JV=(e,t,r,n)=>CI(e,"xAxis",t,n),ZV=(e,t,r,n)=>_I(e,"xAxis",t,n),eB=(e,t,r,n)=>CI(e,"yAxis",r,n),tB=(e,t,r,n)=>_I(e,"yAxis",r,n),rB=ck([_j,JV,eB,ZV,tB],(e,t,r,n,a)=>$k(e,"xAxis")?tj(t,n,!1):tj(r,a,!1)),nB=ck([iT,(e,t,r,n,a)=>a],(e,t)=>{if(e.some(e=>"area"===e.type&&t.dataKey===e.dataKey&&Yk(t.stackId)===e.stackId&&t.data===e.data))return t}),aB=ck([_j,JV,eB,ZV,tB,(e,t,r,n,a)=>{var i,s,o=_j(e);if(null!=(s=$k(o,"xAxis")?wT(e,"yAxis",r,n):wT(e,"xAxis",t,n))){var{dataKey:l,stackId:c}=a;if(null!=c){var u=null===(i=s[c])||void 0===i?void 0:i.stackedData;return null===u||void 0===u?void 0:u.find(e=>e.key===l)}}},B_,rB,nB],(e,t,r,n,a,i,s,o,l)=>{var{chartData:c,dataStartIndex:u,dataEndIndex:d}=s;if(null!=l&&("horizontal"===e||"vertical"===e)&&null!=t&&null!=r&&null!=n&&null!=a&&0!==n.length&&0!==a.length&&null!=o){var h,{data:f}=l;if(null!=(h=f&&f.length>0?f:null===c||void 0===c?void 0:c.slice(u,d+1))){return function(e){var t,{areaSettings:{connectNulls:r,baseValue:n,dataKey:a},stackedData:i,layout:s,chartBaseValue:o,xAxis:l,yAxis:c,displayedData:u,dataStartIndex:d,xAxisTicks:h,yAxisTicks:f,bandSize:p}=e,m=i&&i.length,g=SB(s,o,n,l,c),y="horizontal"===s,v=!1,x=u.map((e,t)=>{var n;m?n=i[d+t]:(n=Bk(e,a),Array.isArray(n)?v=!0:n=[g,n]);var s=null==n[1]||m&&!r&&null==Bk(e,a);return y?{x:Qk({axis:l,ticks:h,bandSize:p,entry:e,index:t}),y:s?null:c.scale(n[1]),value:n,payload:e}:{x:s?null:l.scale(n[1]),y:Qk({axis:c,ticks:f,bandSize:p,entry:e,index:t}),value:n,payload:e}});t=m||v?x.map(e=>{var t=Array.isArray(e.value)?e.value[0]:null;return y?{x:e.x,y:null!=t&&null!=e.y?c.scale(t):null}:{x:null!=t?l.scale(t):null,y:e.y}}):y?c.scale(g):l.scale(g);return{points:x,baseLine:t,isRange:v}}({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:a,dataStartIndex:u,areaSettings:l,stackedData:i,displayedData:h,chartBaseValue:undefined,bandSize:o})}}}),iB=["layout","type","stroke","connectNulls","isRange"],sB=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function oB(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function lB(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function cB(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?lB(Object(r),!0).forEach(function(t){uB(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lB(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function uB(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dB(){return dB=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dB.apply(null,arguments)}function hB(e,t){return e&&"none"!==e?e:t}var fB=e=>{var{dataKey:t,name:r,stroke:n,fill:a,legendType:i,hide:s}=e;return[{inactive:s,dataKey:t,type:i,color:hB(n,a),value:nj(r,t),payload:e}]};function pB(e){var{dataKey:t,data:r,stroke:n,strokeWidth:a,fill:i,name:s,hide:o,unit:l}=e;return{dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:a,fill:i,dataKey:t,nameKey:void 0,name:nj(s,t),hide:o,type:e.tooltipType,color:hB(n,i),unit:l}}}function mB(e){var{clipPathId:r,points:n,props:a}=e,{needClip:i,dot:s,dataKey:o}=a;if(!function(e,t){return null!=e&&(!!t||1===e.length)}(n,s))return null;var l=ID(s),c=OD(a,!1),u=OD(s,!0),d=n.map((e,r)=>{var a=cB(cB(cB({key:"dot-".concat(r),r:3},c),u),{},{index:r,cx:e.x,cy:e.y,dataKey:o,value:e.value,payload:e.payload,points:n});return((e,r)=>{var n;if(t.isValidElement(e))n=t.cloneElement(e,r);else if("function"===typeof e)n=e(r);else{var a=sv("recharts-area-dot","boolean"!==typeof e?e.className:"");n=t.createElement(Nz,dB({},r,{className:a}))}return n})(s,a)}),h={clipPath:i?"url(#clipPath-".concat(l?"":"dots-").concat(r,")"):void 0};return t.createElement(FM,dB({className:"recharts-area-dots"},h),d)}function gB(e){var{points:r,baseLine:n,needClip:a,clipPathId:i,props:s,showLabels:o}=e,{layout:l,type:c,stroke:u,connectNulls:d,isRange:h}=s,f=oB(s,iB);return t.createElement(t.Fragment,null,(null===r||void 0===r?void 0:r.length)>1&&t.createElement(FM,{clipPath:a?"url(#clipPath-".concat(i,")"):void 0},t.createElement(hF,dB({},OD(f,!0),{points:r,connectNulls:d,type:c,baseLine:n,layout:l,stroke:"none",className:"recharts-area-area"})),"none"!==u&&t.createElement(hF,dB({},OD(s,!1),{className:"recharts-area-curve",layout:l,type:c,connectNulls:d,fill:"none",points:r})),"none"!==u&&h&&t.createElement(hF,dB({},OD(s,!1),{className:"recharts-area-curve",layout:l,type:c,connectNulls:d,fill:"none",points:n}))),t.createElement(mB,{points:r,props:s,clipPathId:i}),o&&Mz.renderCallByParent(s,r))}function yB(e){var{alpha:r,baseLine:n,points:a,strokeWidth:i}=e,s=a[0].y,o=a[a.length-1].y;if(!$_(s)||!$_(o))return null;var l=r*Math.abs(s-o),c=Math.max(...a.map(e=>e.x||0));return pv(n)?c=Math.max(n,c):n&&Array.isArray(n)&&n.length&&(c=Math.max(...n.map(e=>e.x||0),c)),pv(c)?t.createElement("rect",{x:0,y:s<o?s:s-l,width:c+(i?parseInt("".concat(i),10):1),height:Math.floor(l)}):null}function vB(e){var{alpha:r,baseLine:n,points:a,strokeWidth:i}=e,s=a[0].x,o=a[a.length-1].x;if(!$_(s)||!$_(o))return null;var l=r*Math.abs(s-o),c=Math.max(...a.map(e=>e.y||0));return pv(n)?c=Math.max(n,c):n&&Array.isArray(n)&&n.length&&(c=Math.max(...n.map(e=>e.y||0),c)),pv(c)?t.createElement("rect",{x:s<o?s:s-l,y:0,width:l,height:Math.floor(c+(i?parseInt("".concat(i),10):1))}):null}function xB(e){var{alpha:r,layout:n,points:a,baseLine:i,strokeWidth:s}=e;return"vertical"===n?t.createElement(yB,{alpha:r,points:a,baseLine:i,strokeWidth:s}):t.createElement(vB,{alpha:r,points:a,baseLine:i,strokeWidth:s})}function bB(e){var{needClip:r,clipPathId:n,props:a,previousPointsRef:i,previousBaselineRef:s}=e,{points:o,baseLine:l,isAnimationActive:c,animationBegin:u,animationDuration:d,animationEasing:h,onAnimationStart:f,onAnimationEnd:p}=a,m=wU(a,"recharts-area-"),[g,y]=(0,t.useState)(!0),v=(0,t.useCallback)(()=>{"function"===typeof p&&p(),y(!1)},[p]),x=(0,t.useCallback)(()=>{"function"===typeof f&&f(),y(!0)},[f]),b=i.current,w=s.current;return t.createElement(GF,{begin:u,duration:d,isActive:c,easing:h,from:{t:0},to:{t:1},onAnimationEnd:v,onAnimationStart:x,key:m},e=>{var{t:c}=e;if(b){var u,d=b.length/o.length,h=1===c?o:o.map((e,t)=>{var r=Math.floor(t*d);if(b[r]){var n=b[r];return cB(cB({},e),{},{x:wv(n.x,e.x,c),y:wv(n.y,e.y,c)})}return e});return u=pv(l)?wv(w,l,c):jv(l)||hv(l)?wv(w,0,c):l.map((e,t)=>{var r=Math.floor(t*d);if(Array.isArray(w)&&w[r]){var n=w[r];return cB(cB({},e),{},{x:wv(n.x,e.x,c),y:wv(n.y,e.y,c)})}return e}),c>0&&(i.current=h,s.current=u),t.createElement(gB,{points:h,baseLine:u,needClip:r,clipPathId:n,props:a,showLabels:!g})}return c>0&&(i.current=o,s.current=l),t.createElement(FM,null,t.createElement("defs",null,t.createElement("clipPath",{id:"animationClipPath-".concat(n)},t.createElement(xB,{alpha:c,points:o,baseLine:l,layout:a.layout,strokeWidth:a.strokeWidth}))),t.createElement(FM,{clipPath:"url(#animationClipPath-".concat(n,")")},t.createElement(gB,{points:o,baseLine:l,needClip:r,clipPathId:n,props:a,showLabels:!0})))})}function wB(e){var{needClip:r,clipPathId:n,props:a}=e,{points:i,baseLine:s,isAnimationActive:o}=a,l=(0,t.useRef)(null),c=(0,t.useRef)(),u=l.current,d=c.current;return o&&i&&i.length&&(u!==i||d!==s)?t.createElement(bB,{needClip:r,clipPathId:n,props:a,previousPointsRef:l,previousBaselineRef:c}):t.createElement(gB,{points:i,baseLine:s,needClip:r,clipPathId:n,props:a,showLabels:!0})}class kB extends t.PureComponent{constructor(){super(...arguments),uB(this,"id",yv("recharts-area-"))}render(){var e,{hide:r,dot:n,points:a,className:i,top:s,left:o,needClip:l,xAxisId:c,yAxisId:u,width:d,height:h,id:f,baseLine:p}=this.props;if(r)return null;var m=sv("recharts-area",i),g=jv(f)?this.id:f,{r:y=3,strokeWidth:v=2}=null!==(e=OD(n,!1))&&void 0!==e?e:{r:3,strokeWidth:2},x=ID(n),b=2*y+v;return t.createElement(t.Fragment,null,t.createElement(FM,{className:m},l&&t.createElement("defs",null,t.createElement(uU,{clipPathId:g,xAxisId:c,yAxisId:u}),!x&&t.createElement("clipPath",{id:"clipPath-dots-".concat(g)},t.createElement("rect",{x:o-b/2,y:s-b/2,width:d+b,height:h+b}))),t.createElement(wB,{needClip:l,clipPathId:g,props:this.props})),t.createElement(oU,{points:a,mainColor:hB(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}),this.props.isRange&&Array.isArray(p)&&t.createElement(oU,{points:p,mainColor:hB(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}))}}var jB={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:!vM,legendType:"line",stroke:"#3182bd",xAxisId:0,yAxisId:0};function NB(e){var r,n=dM(e,jB),{activeDot:a,animationBegin:i,animationDuration:s,animationEasing:o,connectNulls:l,dot:c,fill:u,fillOpacity:d,hide:h,isAnimationActive:f,legendType:p,stroke:m,xAxisId:g,yAxisId:y}=n,v=oB(n,sB),x=Cj(),b=VO(),{needClip:w}=cU(g,y),k=xj(),j=(0,t.useMemo)(()=>({baseValue:e.baseValue,stackId:e.stackId,connectNulls:l,data:e.data,dataKey:e.dataKey}),[e.baseValue,e.stackId,l,e.data,e.dataKey]),{points:N,isRange:S,baseLine:E}=null!==(r=vk(e=>aB(e,g,y,k,j)))&&void 0!==r?r:{},{height:A,width:_,x:C,y:T}=aM();return"horizontal"!==x&&"vertical"!==x||"AreaChart"!==b&&"ComposedChart"!==b?null:t.createElement(kB,dB({},v,{activeDot:a,animationBegin:i,animationDuration:s,animationEasing:o,baseLine:E,connectNulls:l,dot:c,fill:u,fillOpacity:d,height:A,hide:h,layout:x,isAnimationActive:f,isRange:S,legendType:p,needClip:w,points:N,stroke:m,width:_,left:C,top:T,xAxisId:g,yAxisId:y}))}var SB=(e,t,r,n,a)=>{var i=null!==r&&void 0!==r?r:t;if(pv(i))return i;var s="horizontal"===e?a:n,o=s.scale.domain();if("number"===s.type){var l=Math.max(o[0],o[1]),c=Math.min(o[0],o[1]);return"dataMin"===i?c:"dataMax"===i||l<0?l:Math.max(Math.min(o[0],o[1]),0)}return"dataMin"===i?o[0]:"dataMax"===i?o[1]:o[0]};class EB extends t.PureComponent{render(){return t.createElement(Wz,{type:"area",data:this.props.data,dataKey:this.props.dataKey,xAxisId:this.props.xAxisId,yAxisId:this.props.yAxisId,zAxisId:0,stackId:this.props.stackId,hide:this.props.hide,barSize:void 0},t.createElement(xU,{legendPayload:fB(this.props)}),t.createElement(lU,{fn:pB,args:this.props}),t.createElement(NB,this.props))}}function AB(e){var r=pk();return(0,t.useEffect)(()=>{r(nD(e))},[r,e]),null}uB(EB,"displayName","Area"),uB(EB,"defaultProps",jB);var _B=["width","height","layout"];function CB(){return CB=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},CB.apply(null,arguments)}var TB={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index",layout:"radial"},IB=(0,t.forwardRef)(function(e,r){var n,a=dM(e.categoricalChartProps,TB),{width:i,height:s,layout:o}=a,l=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(a,_B);if(!H_(i)||!H_(s))return null;var{chartName:c,defaultTooltipEventType:u,validateTooltipEventTypes:d,tooltipPayloadSearcher:h}=e,f={chartName:c,defaultTooltipEventType:u,validateTooltipEventTypes:d,tooltipPayloadSearcher:h,eventEmitter:void 0};return t.createElement(mD,{preloadedState:{options:f},reduxStoreName:null!==(n=a.id)&&void 0!==n?n:c},t.createElement(gD,{chartData:a.data}),t.createElement(yD,{width:i,height:s,layout:o,margin:a.margin}),t.createElement(vD,{accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className}),t.createElement(AB,{cx:a.cx,cy:a.cy,startAngle:a.startAngle,endAngle:a.endAngle,innerRadius:a.innerRadius,outerRadius:a.outerRadius}),t.createElement(lM,CB({width:i,height:s},l,{ref:r})))}),OB=["item"],PB={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},DB=(0,t.forwardRef)((e,r)=>{var n=dM(e,PB);return t.createElement(IB,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:OB,tooltipPayloadSearcher:_b,categoricalChartProps:n,ref:r})}),MB=e=>e.graphicalItems.polarItems,RB=ck([$C,HC],aT),LB=ck([MB,tT,RB],oT),FB=ck([LB],dT),zB=ck([FB,V_],fT),UB=ck([zB,tT,LB],mT),VB=ck([zB,tT,LB],(e,t,r)=>r.length>0?e.flatMap(e=>r.flatMap(r=>{var n;return{value:Bk(e,null!==(n=t.dataKey)&&void 0!==n?n:r.dataKey),errorDomain:[]}})).filter(Boolean):null!=(null===t||void 0===t?void 0:t.dataKey)?e.map(e=>({value:Bk(e,t.dataKey),errorDomain:[]})):e.map(e=>({value:e,errorDomain:[]}))),BB=()=>{},$B=ck([tT,$T,BB,VB,BB],HT),HB=ck([tT,_j,zB,UB,mC,$C,$B],WT),qB=ck([HB,tT,QT],JT);ck([tT,HB,qB,$C],eI);function KB(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function WB(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?KB(Object(r),!0).forEach(function(t){GB(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KB(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function GB(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var YB=(e,t)=>t,QB=[],XB=(e,t,r)=>0===(null===r||void 0===r?void 0:r.length)?QB:r,JB=ck([V_,YB,XB],(e,t,r)=>{var n,{chartData:a}=e;if((n=null!=(null===t||void 0===t?void 0:t.data)&&t.data.length>0?t.data:a)&&n.length||null==r||(n=r.map(e=>WB(WB({},t.presentationProps),e.props))),null!=n)return n}),ZB=ck([JB,YB,XB],(e,t,r)=>{if(null!=e)return e.map((e,n)=>{var a,i,s=Bk(e,t.nameKey,t.name);return i=null!==r&&void 0!==r&&null!==(a=r[n])&&void 0!==a&&null!==(a=a.props)&&void 0!==a&&a.fill?r[n].props.fill:"object"===typeof e&&null!=e&&"fill"in e?e.fill:t.fill,{value:nj(s,t.dataKey),color:i,payload:e,type:t.legendType}})}),e$=ck([MB,YB],(e,t)=>{if(e.some(e=>"pie"===e.type&&t.dataKey===e.dataKey&&t.data===e.data))return t}),t$=ck([JB,e$,XB,mj],(e,t,r,n)=>{if(null!=t&&null!=e)return function(e){var t,r,n,{pieSettings:a,displayedData:i,cells:s,offset:o}=e,{cornerRadius:l,startAngle:c,endAngle:u,dataKey:d,nameKey:h,tooltipType:f}=a,p=Math.abs(a.minAngle),m=_$(c,u),g=Math.abs(m),y=i.length<=1?0:null!==(t=a.paddingAngle)&&void 0!==t?t:0,v=i.filter(e=>0!==Bk(e,d,0)).length,x=g-v*p-(g>=360?v:v-1)*y,b=i.reduce((e,t)=>{var r=Bk(t,d,0);return e+(pv(r)?r:0)},0);b>0&&(r=i.map((e,t)=>{var r,i=Bk(e,d,0),u=Bk(e,h,t),g=A$(a,o,e),v=(pv(i)?i:0)/b,w=w$(w$({},e),s&&s[t]&&s[t].props),k=(r=t?n.endAngle+dv(m)*y*(0!==i?1:0):c)+dv(m)*((0!==i?p:0)+v*x),j=(r+k)/2,N=(g.innerRadius+g.outerRadius)/2,S=[{name:u,value:i,payload:w,dataKey:d,type:f}],E=Dk(g.cx,g.cy,N,j);return n=w$(w$(w$(w$({},a.presentationProps),{},{percent:v,cornerRadius:l,name:u,tooltipPayload:S,midAngle:j,middleRadius:N,tooltipPosition:E},w),g),{},{value:Bk(e,d),startAngle:r,endAngle:k,payload:w,paddingAngle:dv(m)*y})}));return r}({offset:n,pieSettings:t,displayedData:e,cells:r})}),r$=e=>null;r$.displayName="Cell";var n$=r(9397),a$=r.n(n$);function i$(){return i$=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i$.apply(null,arguments)}var s$=(e,t,r,n,a)=>{var i,s=r-n;return i="M ".concat(e,",").concat(t),i+="L ".concat(e+r,",").concat(t),i+="L ".concat(e+r-s/2,",").concat(t+a),i+="L ".concat(e+r-s/2-n,",").concat(t+a),i+="L ".concat(e,",").concat(t," Z")},o$={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},l$=e=>{var r=dM(e,o$),n=(0,t.useRef)(),[a,i]=(0,t.useState)(-1);(0,t.useEffect)(()=>{if(n.current&&n.current.getTotalLength)try{var e=n.current.getTotalLength();e&&i(e)}catch(t){}},[]);var{x:s,y:o,upperWidth:l,lowerWidth:c,height:u,className:d}=r,{animationEasing:h,animationDuration:f,animationBegin:p,isUpdateAnimationActive:m}=r;if(s!==+s||o!==+o||l!==+l||c!==+c||u!==+u||0===l&&0===c||0===u)return null;var g=sv("recharts-trapezoid",d);return m?t.createElement(GF,{canBegin:a>0,from:{upperWidth:0,lowerWidth:0,height:u,x:s,y:o},to:{upperWidth:l,lowerWidth:c,height:u,x:s,y:o},duration:f,animationEasing:h,isActive:m},e=>{var{upperWidth:i,lowerWidth:s,height:o,x:l,y:c}=e;return t.createElement(GF,{canBegin:a>0,from:"0px ".concat(-1===a?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:p,duration:f,easing:h},t.createElement("path",i$({},OD(r,!0),{className:g,d:s$(l,c,i,s,o),ref:n})))}):t.createElement("g",null,t.createElement("path",i$({},OD(r,!0),{className:g,d:s$(s,o,l,c,u)})))},c$=["option","shapeType","propTransformer","activeClassName","isActive"];function u$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function d$(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u$(Object(r),!0).forEach(function(t){h$(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u$(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function h$(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f$(e,t){return d$(d$({},t),e)}function p$(e){var{shapeType:r,elementProps:n}=e;switch(r){case"rectangle":return t.createElement(JF,n);case"trapezoid":return t.createElement(l$,n);case"sector":return t.createElement(az,n);case"symbols":if(function(e){return"symbols"===e}(r))return t.createElement(MV,n);break;default:return null}}function m$(e){var r,{option:n,shapeType:a,propTransformer:i=f$,activeClassName:s="recharts-active-shape",isActive:o}=e,l=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,c$);if((0,t.isValidElement)(n))r=(0,t.cloneElement)(n,d$(d$({},l),function(e){return(0,t.isValidElement)(e)?e.props:e}(n)));else if("function"===typeof n)r=n(l);else if(a$()(n)&&"boolean"!==typeof n){var c=i(n,l);r=t.createElement(p$,{shapeType:a,elementProps:c})}else{var u=l;r=t.createElement(p$,{shapeType:a,elementProps:u})}return o?t.createElement(FM,{className:s},r):r}var g$=(e,t)=>{var r=pk();return(n,a)=>i=>{null===e||void 0===e||e(n,a,i),r(Rw({activeIndex:String(a),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}},y$=e=>{var t=pk();return(r,n)=>a=>{null===e||void 0===e||e(r,n,a),t(Lw())}},v$=(e,t)=>{var r=pk();return(n,a)=>i=>{null===e||void 0===e||e(n,a,i),r(zw({activeIndex:String(a),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}},x$=["onMouseEnter","onClick","onMouseLeave"];function b$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function w$(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b$(Object(r),!0).forEach(function(t){k$(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b$(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function k$(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function j$(){return j$=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},j$.apply(null,arguments)}function N$(e){var r=(0,t.useMemo)(()=>OD(e,!1),[e]),n=(0,t.useMemo)(()=>TD(e.children,r$),[e.children]),a=(0,t.useMemo)(()=>({name:e.name,nameKey:e.nameKey,tooltipType:e.tooltipType,data:e.data,dataKey:e.dataKey,cx:e.cx,cy:e.cy,startAngle:e.startAngle,endAngle:e.endAngle,minAngle:e.minAngle,paddingAngle:e.paddingAngle,innerRadius:e.innerRadius,outerRadius:e.outerRadius,cornerRadius:e.cornerRadius,legendType:e.legendType,fill:e.fill,presentationProps:r}),[e.cornerRadius,e.cx,e.cy,e.data,e.dataKey,e.endAngle,e.innerRadius,e.minAngle,e.name,e.nameKey,e.outerRadius,e.paddingAngle,e.startAngle,e.tooltipType,e.legendType,e.fill,r]),i=vk(e=>ZB(e,a,n));return t.createElement(bU,{legendPayload:i})}function S$(e){var{dataKey:t,nameKey:r,sectors:n,stroke:a,strokeWidth:i,fill:s,name:o,hide:l,tooltipType:c}=e;return{dataDefinedOnItem:null===n||void 0===n?void 0:n.map(e=>e.tooltipPayload),positions:null===n||void 0===n?void 0:n.map(e=>e.tooltipPosition),settings:{stroke:a,strokeWidth:i,fill:s,dataKey:t,nameKey:r,name:nj(o,t),hide:l,type:c,color:s,unit:""}}}var E$=(e,t)=>e>t?"start":e<t?"end":"middle",A$=(e,t,r)=>{var{top:n,left:a,width:i,height:s}=t,o=Mk(i,s),l=a+vv(e.cx,i,i/2),c=n+vv(e.cy,s,s/2),u=vv(e.innerRadius,o,0),d=((e,t,r)=>"function"===typeof t?t(e):vv(t,r,.8*r))(r,e.outerRadius,o);return{cx:l,cy:c,innerRadius:u,outerRadius:d,maxRadius:e.maxRadius||Math.sqrt(i*i+s*s)/2}},_$=(e,t)=>dv(t-e)*Math.min(Math.abs(t-e),360);function C$(e){var{sectors:r,props:n,showLabels:a}=e,{label:i,labelLine:s,dataKey:o}=n;if(!a||!i||!r)return null;var l=OD(n,!1),c=OD(i,!1),u=OD(s,!1),d="object"===typeof i&&"offsetRadius"in i&&i.offsetRadius||20,h=r.map((e,r)=>{var n=(e.startAngle+e.endAngle)/2,a=Dk(e.cx,e.cy,e.outerRadius+d,n),h=w$(w$(w$(w$({},l),e),{},{stroke:"none"},c),{},{index:r,textAnchor:E$(a.x,e.cx)},a),f=w$(w$(w$(w$({},l),e),{},{fill:"none",stroke:e.fill},u),{},{index:r,points:[Dk(e.cx,e.cy,e.outerRadius,n),a],key:"line"});return t.createElement(FM,{key:"label-".concat(e.startAngle,"-").concat(e.endAngle,"-").concat(e.midAngle,"-").concat(r)},s&&((e,r)=>{if(t.isValidElement(e))return t.cloneElement(e,r);if("function"===typeof e)return e(r);var n=sv("recharts-pie-label-line","boolean"!==typeof e?e.className:"");return t.createElement(hF,j$({},r,{type:"linear",className:n}))})(s,f),((e,r,n)=>{if(t.isValidElement(e))return t.cloneElement(e,r);var a=n;if("function"===typeof e&&(a=e(r),t.isValidElement(a)))return a;var i=sv("recharts-pie-label-text","boolean"!==typeof e&&"function"!==typeof e?e.className:"");return t.createElement(sR,j$({},r,{alignmentBaseline:"middle",className:i}),a)})(i,h,Bk(e,o)))});return t.createElement(FM,{className:"recharts-pie-labels"},h)}function T$(e){var{sectors:r,activeShape:n,inactiveShape:a,allOtherPieProps:i,showLabels:s}=e,o=vk(OO),{onMouseEnter:l,onClick:c,onMouseLeave:u}=i,d=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(i,x$),h=g$(l,i.dataKey),f=y$(u),p=v$(c,i.dataKey);return null==r?null:t.createElement(t.Fragment,null,r.map((e,s)=>{if(0===(null===e||void 0===e?void 0:e.startAngle)&&0===(null===e||void 0===e?void 0:e.endAngle)&&1!==r.length)return null;var l=n&&String(s)===o,c=l?n:o?a:null,u=w$(w$({},e),{},{stroke:e.stroke,tabIndex:-1,[uj]:s,[dj]:i.dataKey});return t.createElement(FM,j$({tabIndex:-1,className:"recharts-pie-sector"},SD(d,e,s),{onMouseEnter:h(e,s),onMouseLeave:f(e,s),onClick:p(e,s),key:"sector-".concat(null===e||void 0===e?void 0:e.startAngle,"-").concat(null===e||void 0===e?void 0:e.endAngle,"-").concat(e.midAngle,"-").concat(s)}),t.createElement(m$,j$({option:c,isActive:l,shapeType:"sector"},u)))}),t.createElement(C$,{sectors:r,props:i,showLabels:s}))}function I$(e){var{props:r,previousSectorsRef:n}=e,{sectors:a,isAnimationActive:i,animationBegin:s,animationDuration:o,animationEasing:l,activeShape:c,inactiveShape:u,onAnimationStart:d,onAnimationEnd:h}=r,f=wU(r,"recharts-pie-"),p=n.current,[m,g]=(0,t.useState)(!0),y=(0,t.useCallback)(()=>{"function"===typeof h&&h(),g(!1)},[h]),v=(0,t.useCallback)(()=>{"function"===typeof d&&d(),g(!0)},[d]);return t.createElement(GF,{begin:s,duration:o,isActive:i,easing:l,from:{t:0},to:{t:1},onAnimationStart:v,onAnimationEnd:y,key:f},e=>{var{t:i}=e,s=[],o=(a&&a[0]).startAngle;return a.forEach((e,t)=>{var r=p&&p[t],n=t>0?uv()(e,"paddingAngle",0):0;if(r){var a=bv(r.endAngle-r.startAngle,e.endAngle-e.startAngle),l=w$(w$({},e),{},{startAngle:o+n,endAngle:o+a(i)+n});s.push(l),o=l.endAngle}else{var{endAngle:c,startAngle:u}=e,d=bv(0,c-u)(i),h=w$(w$({},e),{},{startAngle:o+n,endAngle:o+d+n});s.push(h),o=h.endAngle}}),n.current=s,t.createElement(FM,null,t.createElement(T$,{sectors:s,activeShape:c,inactiveShape:u,allOtherPieProps:r,showLabels:!m}))})}function O$(e){var{sectors:r,isAnimationActive:n,activeShape:a,inactiveShape:i}=e,s=(0,t.useRef)(null),o=s.current;return n&&r&&r.length&&(!o||o!==r)?t.createElement(I$,{props:e,previousSectorsRef:s}):t.createElement(T$,{sectors:r,activeShape:a,inactiveShape:i,allOtherPieProps:e,showLabels:!0})}function P$(e){var{hide:r,className:n,rootTabIndex:a}=e,i=sv("recharts-pie",n);return r?null:t.createElement(FM,{tabIndex:a,className:i},t.createElement(O$,e))}var D$={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!vM,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function M$(e){var r=dM(e,D$),n=(0,t.useMemo)(()=>TD(e.children,r$),[e.children]),a=OD(r,!1),i=(0,t.useMemo)(()=>({name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,data:r.data,dataKey:r.dataKey,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,minAngle:r.minAngle,paddingAngle:r.paddingAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,legendType:r.legendType,fill:r.fill,presentationProps:a}),[r.cornerRadius,r.cx,r.cy,r.data,r.dataKey,r.endAngle,r.innerRadius,r.minAngle,r.name,r.nameKey,r.outerRadius,r.paddingAngle,r.startAngle,r.tooltipType,r.legendType,r.fill,a]),s=vk(e=>t$(e,i,n));return t.createElement(t.Fragment,null,t.createElement(lU,{fn:S$,args:w$(w$({},r),{},{sectors:s})}),t.createElement(P$,j$({},r,{sectors:s})))}class R$ extends t.PureComponent{constructor(){super(...arguments),k$(this,"id",yv("recharts-pie-"))}render(){return t.createElement(t.Fragment,null,t.createElement(Uz,{data:this.props.data,dataKey:this.props.dataKey,hide:this.props.hide,angleAxisId:0,radiusAxisId:0,stackId:void 0,barSize:void 0,type:"pie"}),t.createElement(N$,this.props),t.createElement(M$,this.props),this.props.children)}}k$(R$,"displayName","Pie"),k$(R$,"defaultProps",D$);var L$=["axis","item"],F$=(0,t.forwardRef)((e,r)=>t.createElement(mM,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:L$,tooltipPayloadSearcher:_b,categoricalChartProps:e,ref:r})),z$="Invariant failed";var U$=["x","y"];function V$(){return V$=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},V$.apply(null,arguments)}function B$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function $$(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?B$(Object(r),!0).forEach(function(t){H$(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B$(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function H$(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function q$(e,t){var{x:r,y:n}=e,a=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,U$),i="".concat(r),s=parseInt(i,10),o="".concat(n),l=parseInt(o,10),c="".concat(t.height||a.height),u=parseInt(c,10),d="".concat(t.width||a.width),h=parseInt(d,10);return $$($$($$($$($$({},t),a),s?{x:s}:{}),l?{y:l}:{}),{},{height:u,width:h,name:t.name,radius:t.radius})}function K$(e){return t.createElement(m$,V$({shapeType:"rectangle",propTransformer:q$,activeClassName:"recharts-active-bar"},e))}var W$=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(r,n)=>{if(pv(e))return e;var a=pv(r)||jv(r);return a?e(r,n):(a||function(e){if(!e)throw new Error(z$)}(!1),t)}},G$=()=>{var e=pk();return(0,t.useEffect)(()=>(e(bP()),()=>{e(wP())})),null};function Y$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Q$(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Y$(Object(r),!0).forEach(function(t){X$(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Y$(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function X$(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var J$=(e,t,r,n,a)=>a,Z$=(e,t,r)=>{var n=null!==r&&void 0!==r?r:e;if(!jv(n))return vv(n,t,0)},eH=ck([_j,iT,(e,t)=>t,(e,t,r)=>r,(e,t,r,n)=>n],(e,t,r,n,a)=>t.filter(t=>"horizontal"===e?t.xAxisId===r:t.yAxisId===n).filter(e=>e.isPanorama===a).filter(e=>!1===e.hide).filter(e=>"bar"===e.type));function tH(e){return null!=e.stackId&&null!=e.dataKey}var rH=ck([eH,e=>e.rootProps.barSize,(e,t,r)=>"horizontal"===_j(e)?wI(e,"xAxis",t):wI(e,"yAxis",r)],(e,t,r)=>{var n=e.filter(tH),a=e.filter(e=>null==e.stackId),i=n.reduce((e,t)=>(e[t.stackId]||(e[t.stackId]=[]),e[t.stackId].push(t),e),{});return[...Object.entries(i).map(e=>{var[n,a]=e;return{stackId:n,dataKeys:a.map(e=>e.dataKey),barSize:Z$(t,r,a[0].barSize)}}),...a.map(e=>({stackId:void 0,dataKeys:[e.dataKey].filter(e=>null!=e),barSize:Z$(t,r,e.barSize)}))]}),nH=(e,t,r,n)=>{var a,i;return"horizontal"===_j(e)?(a=CI(e,"xAxis",t,n),i=_I(e,"xAxis",t,n)):(a=CI(e,"yAxis",r,n),i=_I(e,"yAxis",r,n)),tj(a,i)};var aH=ck([rH,fC,e=>e.rootProps.barGap,pC,(e,t,r,n,a)=>{var i,s,o,l,c=_j(e),u=fC(e),{maxBarSize:d}=a,h=jv(d)?u:d;return"horizontal"===c?(o=CI(e,"xAxis",t,n),l=_I(e,"xAxis",t,n)):(o=CI(e,"yAxis",r,n),l=_I(e,"yAxis",r,n)),null!==(i=null!==(s=tj(o,l,!0))&&void 0!==s?s:h)&&void 0!==i?i:0},nH,(e,t,r,n,a)=>a.maxBarSize],(e,t,r,n,a,i,s)=>{var o=jv(s)?t:s,l=function(e,t,r,n,a){var i=n.length;if(!(i<1)){var s,o=vv(e,r,0,!0),l=[];if($_(n[0].barSize)){var c=!1,u=r/i,d=n.reduce((e,t)=>e+(t.barSize||0),0);(d+=(i-1)*o)>=r&&(d-=(i-1)*o,o=0),d>=r&&u>0&&(c=!0,d=i*(u*=.9));var h={offset:((r-d)/2|0)-o,size:0};s=n.reduce((e,t)=>{var r,n=[...e,{stackId:t.stackId,dataKeys:t.dataKeys,position:{offset:h.offset+h.size+o,size:c?u:null!==(r=t.barSize)&&void 0!==r?r:0}}];return h=n[n.length-1].position,n},l)}else{var f=vv(t,r,0,!0);r-2*f-(i-1)*o<=0&&(o=0);var p=(r-2*f-(i-1)*o)/i;p>1&&(p>>=0);var m=$_(a)?Math.min(p,a):p;s=n.reduce((e,t,r)=>[...e,{stackId:t.stackId,dataKeys:t.dataKeys,position:{offset:f+(p+o)*r+(p-m)/2,size:m}}],l)}return s}}(r,n,a!==i?a:i,e,o);return a!==i&&null!=l&&(l=l.map(e=>Q$(Q$({},e),{},{position:Q$(Q$({},e.position),{},{offset:e.position.offset-a/2})}))),l}),iH=ck([aH,J$],(e,t)=>{if(null!=e){var r=e.find(e=>e.stackId===t.stackId&&e.dataKeys.includes(t.dataKey));if(null!=r)return r.position}}),sH=ck([iT,J$],(e,t)=>{if(e.some(e=>"bar"===e.type&&t.dataKey===e.dataKey&&t.stackId===e.stackId&&t.stackId===e.stackId))return t}),oH=ck([(e,t,r,n)=>"horizontal"===_j(e)?wT(e,"yAxis",r,n):wT(e,"xAxis",t,n),J$],(e,t)=>{if(e&&null!=(null===t||void 0===t?void 0:t.dataKey)){var{stackId:r}=t;if(null!=r){var n=e[r];if(n){var{stackedData:a}=n;if(a)return a.find(e=>e.key===t.dataKey)}}}}),lH=ck([mj,(e,t,r,n)=>CI(e,"xAxis",t,n),(e,t,r,n)=>CI(e,"yAxis",r,n),(e,t,r,n)=>_I(e,"xAxis",t,n),(e,t,r,n)=>_I(e,"yAxis",r,n),iH,_j,B_,nH,oH,sH,(e,t,r,n,a,i)=>i],(e,t,r,n,a,i,s,o,l,c,u,d)=>{var{chartData:h,dataStartIndex:f,dataEndIndex:p}=o;if(null!=u&&null!=i&&("horizontal"===s||"vertical"===s)&&null!=t&&null!=r&&null!=n&&null!=a&&null!=l){var m,{data:g}=u;if(null!=(m=null!=g&&g.length>0?g:null===h||void 0===h?void 0:h.slice(f,p+1)))return function(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:a,bandSize:i,xAxis:s,yAxis:o,xAxisTicks:l,yAxisTicks:c,stackedData:u,displayedData:d,offset:h,cells:f}=e,p="horizontal"===t?o:s,m=u?p.scale.domain():null,g=(e=>{var{numericAxis:t}=e,r=t.scale.domain();if("number"===t.type){var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return n<=0&&a>=0?0:a<0?a:n}return r[0]})({numericAxis:p});return d.map((e,d)=>{var p,y,v,x,b,w;u?p=((e,t)=>{if(!t||2!==t.length||!pv(t[0])||!pv(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),a=[e[0],e[1]];return(!pv(e[0])||e[0]<r)&&(a[0]=r),(!pv(e[1])||e[1]>n)&&(a[1]=n),a[0]>n&&(a[0]=n),a[1]<r&&(a[1]=r),a})(u[d],m):(p=Bk(e,r),Array.isArray(p)||(p=[g,p]));var k=W$(n,jH)(p[1],d);if("horizontal"===t){var j,[N,S]=[o.scale(p[0]),o.scale(p[1])];y=Xk({axis:s,ticks:l,bandSize:i,offset:a.offset,entry:e,index:d}),v=null!==(j=null!==S&&void 0!==S?S:N)&&void 0!==j?j:void 0,x=a.size;var E=N-S;if(b=hv(E)?0:E,w={x:y,y:h.top,width:x,height:h.height},Math.abs(k)>0&&Math.abs(b)<Math.abs(k)){var A=dv(b||k)*(Math.abs(k)-Math.abs(b));v-=A,b+=A}}else{var[_,C]=[s.scale(p[0]),s.scale(p[1])];if(y=_,v=Xk({axis:o,ticks:c,bandSize:i,offset:a.offset,entry:e,index:d}),x=C-_,b=a.size,w={x:h.left,y:v,width:h.width,height:b},Math.abs(k)>0&&Math.abs(x)<Math.abs(k))x+=dv(x||k)*(Math.abs(k)-Math.abs(x))}return pH(pH({},e),{},{x:y,y:v,width:x,height:b,value:u?p:p[1],payload:e,background:w,tooltipPosition:{x:y+x/2,y:v+b/2}},f&&f[d]&&f[d].props)})}({layout:s,barSettings:u,pos:i,bandSize:l,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:a,stackedData:c,displayedData:m,offset:e,cells:d})}}),cH=["onMouseEnter","onMouseLeave","onClick"],uH=["value","background","tooltipPosition"],dH=["onMouseEnter","onClick","onMouseLeave"];function hH(){return hH=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hH.apply(null,arguments)}function fH(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function pH(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?fH(Object(r),!0).forEach(function(t){mH(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fH(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function mH(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gH(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var yH=e=>{var{dataKey:t,name:r,fill:n,legendType:a,hide:i}=e;return[{inactive:i,dataKey:t,type:a,color:n,value:nj(r,t),payload:e}]};function vH(e){var{dataKey:t,stroke:r,strokeWidth:n,fill:a,name:i,hide:s,unit:o}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:a,dataKey:t,nameKey:void 0,name:nj(i,t),hide:s,type:e.tooltipType,color:e.fill,unit:o}}}function xH(e){var r=vk(OO),{data:n,dataKey:a,background:i,allOtherBarProps:s}=e,{onMouseEnter:o,onMouseLeave:l,onClick:c}=s,u=gH(s,cH),d=g$(o,a),h=y$(l),f=v$(c,a);if(!i||null==n)return null;var p=OD(i,!1);return t.createElement(t.Fragment,null,n.map((e,n)=>{var{value:s,background:o,tooltipPosition:l}=e,c=gH(e,uH);if(!o)return null;var m=d(e,n),g=h(e,n),y=f(e,n),v=pH(pH(pH(pH(pH({option:i,isActive:String(n)===r},c),{},{fill:"#eee"},o),p),SD(u,e,n)),{},{onMouseEnter:m,onMouseLeave:g,onClick:y,dataKey:a,index:n,className:"recharts-bar-background-rectangle"});return t.createElement(K$,hH({key:"background-bar-".concat(n)},v))}))}function bH(e){var{data:r,props:n,showLabels:a}=e,i=OD(n,!1),{shape:s,dataKey:o,activeBar:l}=n,c=vk(OO),u=vk(DO),{onMouseEnter:d,onClick:h,onMouseLeave:f}=n,p=gH(n,dH),m=g$(d,o),g=y$(f),y=v$(h,o);return r?t.createElement(t.Fragment,null,r.map((e,r)=>{var n=l&&String(r)===c&&(null==u||o===u),a=n?l:s,d=pH(pH(pH({},i),e),{},{isActive:n,option:a,index:r,dataKey:o});return t.createElement(FM,hH({className:"recharts-bar-rectangle"},SD(p,e,r),{onMouseEnter:m(e,r),onMouseLeave:g(e,r),onClick:y(e,r),key:"rectangle-".concat(null===e||void 0===e?void 0:e.x,"-").concat(null===e||void 0===e?void 0:e.y,"-").concat(null===e||void 0===e?void 0:e.value,"-").concat(r)}),t.createElement(K$,d))}),a&&Mz.renderCallByParent(n,r)):null}function wH(e){var{props:r,previousRectanglesRef:n}=e,{data:a,layout:i,isAnimationActive:s,animationBegin:o,animationDuration:l,animationEasing:c,onAnimationEnd:u,onAnimationStart:d}=r,h=n.current,f=wU(r,"recharts-bar-"),[p,m]=(0,t.useState)(!1),g=(0,t.useCallback)(()=>{"function"===typeof u&&u(),m(!1)},[u]),y=(0,t.useCallback)(()=>{"function"===typeof d&&d(),m(!0)},[d]);return t.createElement(GF,{begin:o,duration:l,isActive:s,easing:c,from:{t:0},to:{t:1},onAnimationEnd:g,onAnimationStart:y,key:f},e=>{var{t:s}=e,o=1===s?a:a.map((e,t)=>{var r=h&&h[t];if(r){var n=bv(r.x,e.x),a=bv(r.y,e.y),o=bv(r.width,e.width),l=bv(r.height,e.height);return pH(pH({},e),{},{x:n(s),y:a(s),width:o(s),height:l(s)})}if("horizontal"===i){var c=bv(0,e.height)(s);return pH(pH({},e),{},{y:e.y+e.height-c,height:c})}var u=bv(0,e.width)(s);return pH(pH({},e),{},{width:u})});return s>0&&(n.current=o),t.createElement(FM,null,t.createElement(bH,{props:r,data:o,showLabels:!p}))})}function kH(e){var{data:r,isAnimationActive:n}=e,a=(0,t.useRef)(null);return n&&r&&r.length&&(null==a.current||a.current!==r)?t.createElement(wH,{previousRectanglesRef:a,props:e}):t.createElement(bH,{props:e,data:r,showLabels:!0})}var jH=0,NH=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:Bk(e,t)}};class SH extends t.PureComponent{constructor(){super(...arguments),mH(this,"id",yv("recharts-bar-"))}render(){var{hide:e,data:r,dataKey:n,className:a,xAxisId:i,yAxisId:s,needClip:o,background:l,id:c,layout:u}=this.props;if(e)return null;var d=sv("recharts-bar",a),h=jv(c)?this.id:c;return t.createElement(FM,{className:d},o&&t.createElement("defs",null,t.createElement(uU,{clipPathId:h,xAxisId:i,yAxisId:s})),t.createElement(FM,{className:"recharts-bar-rectangles",clipPath:o?"url(#clipPath-".concat(h,")"):null},t.createElement(xH,{data:r,dataKey:n,background:l,allOtherBarProps:this.props}),t.createElement(kH,this.props)),t.createElement(eU,{direction:"horizontal"===u?"y":"x"},this.props.children))}}var EH={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!vM,legendType:"rect",minPointSize:jH,xAxisId:0,yAxisId:0};function AH(e){var r,{xAxisId:n,yAxisId:a,hide:i,legendType:s,minPointSize:o,activeBar:l,animationBegin:c,animationDuration:u,animationEasing:d,isAnimationActive:h}=dM(e,EH),{needClip:f}=cU(n,a),p=Cj(),m=xj(),g=(0,t.useMemo)(()=>({barSize:e.barSize,data:void 0,dataKey:e.dataKey,maxBarSize:e.maxBarSize,minPointSize:o,stackId:Yk(e.stackId)}),[e.barSize,e.dataKey,e.maxBarSize,o,e.stackId]),y=TD(e.children,r$),v=vk(e=>lH(e,n,a,m,g,y));if("vertical"!==p&&"horizontal"!==p)return null;var x=null===v||void 0===v?void 0:v[0];return r=null==x||null==x.height||null==x.width?0:"vertical"===p?x.height/2:x.width/2,t.createElement(Kz,{xAxisId:n,yAxisId:a,data:v,dataPointFormatter:NH,errorBarOffset:r},t.createElement(SH,hH({},e,{layout:p,needClip:f,data:v,xAxisId:n,yAxisId:a,hide:i,legendType:s,minPointSize:o,activeBar:l,animationBegin:c,animationDuration:u,animationEasing:d,isAnimationActive:h})))}class _H extends t.PureComponent{render(){return t.createElement(Wz,{type:"bar",data:null,xAxisId:this.props.xAxisId,yAxisId:this.props.yAxisId,zAxisId:0,dataKey:this.props.dataKey,stackId:this.props.stackId,hide:this.props.hide,barSize:this.props.barSize},t.createElement(G$,null),t.createElement(xU,{legendPayload:yH(this.props)}),t.createElement(lU,{fn:vH,args:this.props}),t.createElement(AH,this.props))}}mH(_H,"displayName","Bar"),mH(_H,"defaultProps",EH);const CH={categoryColors:["#f97316","#3b82f6","#22c55e","#8b5cf6","#f59e0b","#ef4444","#14b8a6","#f43f5e","#6366f1","#84cc16","#06b6d4","#d946ef","#f97316","#10b981","#f59e0b"],accountColors:{bank:["#3b82f6","#2563eb","#1d4ed8","#1e40af","#1e3a8a","#6366f1","#4f46e5","#4338ca"],crypto:["#f97316","#ea580c","#d97706","#b45309","#92400e","#f59e0b","#d97706","#b45309"]}},TH={income:["Salary","Gift","Payouts","Gambling","Investments","Business","Freelance","Rental Income","Interest","Dividends","Bonus","Commission","Refunds","Other Income"],expense:["Food & Dining","Travel","Entertainment","Friends & Family","Shopping","Utilities","Healthcare","Personal Care","Gifts & Donations","Bills","Groceries","Vehicle","Subscriptions","Hobbies","Eval","Other Expenses"]};const IH=function(e){var r,n;let{accounts:a,transactions:i}=e;const{currentUser:s}=ly(),[o,l]=(0,t.useState)("thisYear"),[c,u]=(0,t.useState)("all"),[d,h]=(0,t.useState)("overview"),[f,p]=(0,t.useState)(!1),[m,g]=(0,t.useState)("all"),[y,v]=(0,t.useState)((new Date).getFullYear()),[x,b]=(0,t.useState)([]);(0,t.useEffect)(()=>{(async()=>{if(s)try{const e=Ag(zm(iy,"users",s.uid,"netWorthSnapshots"),Og("date","desc")),t=await qg(e),r={};t.docs.forEach(e=>{r[e.id]=e.data()}),b(r)}catch(e){console.error("Error loading net worth snapshots:",e)}})()},[s]);const w=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"INR";return new Intl.NumberFormat("en-IN",{style:"currency",currency:t,minimumFractionDigits:"USD"===t?2:0,maximumFractionDigits:"USD"===t?2:0}).format(e)},k=e=>{const t=Math.abs(e);return t>=1e7?(e/1e7).toFixed(1).replace(/\.0$/,"")+"Cr":t>=1e5?(e/1e5).toFixed(1).replace(/\.0$/,"")+"L":t>=1e3?(e/1e3).toFixed(0)+"k":e.toString()},j=(e,t)=>"USD"===t?84*e:e,N=e=>{const t=new Date,r=0===i.length?new Date:new Date(Math.min(...i.map(e=>new Date(e.date))));let n=new Date;switch(e){case"thisWeek":n.setDate(t.getDate()-t.getDay()),n.setHours(0,0,0,0);break;case"thisMonth":n=new Date(t.getFullYear(),t.getMonth(),1);break;case"thisYear":default:n=new Date(t.getFullYear(),0,1);break;case"allTime":n=r}return n<r&&(n=r),{start:n,end:t}},S=(0,t.useMemo)(()=>{const{start:e,end:t}=N(o);return i.filter(r=>{const n=new Date(r.date),a=n>=e&&n<=t,i="all"===c||r.accountId===c,s="all"===m||r.category===m;return a&&i&&s})},[i,o,c,m]),E=(0,t.useMemo)(()=>{const e=S.filter(e=>"income"===e.type).reduce((e,t)=>e+j(t.amount,t.currency),0),t=S.filter(e=>"expense"===e.type).reduce((e,t)=>e+j(t.amount,t.currency),0),r=e-t,n=e>0?r/e*100:0,s=a.reduce((e,t)=>e+j(t.balance,t.currency),0),{start:l,end:c}=N(o),u=new Date(l),d=new Date(l);d.setTime(d.getTime()-(c.getTime()-l.getTime()));const h=i.filter(e=>{const t=new Date(e.date);return t>=d&&t<=u}),f=h.filter(e=>"income"===e.type).reduce((e,t)=>e+j(t.amount,t.currency),0),p=h.filter(e=>"expense"===e.type).reduce((e,t)=>e+j(t.amount,t.currency),0);return{totalIncome:e,totalExpense:t,netSavings:r,savingsRate:n,currentNetWorth:s,transactionCount:S.length,avgTransactionAmount:S.length>0?S.reduce((e,t)=>e+j(t.amount,t.currency),0)/S.length:0,incomeGrowth:f>0?(e-f)/f*100:0,expenseGrowth:p>0?(t-p)/p*100:0}},[S,a,i,o]),A=(0,t.useMemo)(()=>{const e={},{start:t,end:r}=N(o);if("thisMonth"===o){const t=new Date,r=t.getFullYear(),n=t.getMonth(),a=new Date(r,n+1,0).getDate();for(let i=1;i<=a;i++){const t=new Date(r,n,i);if(t<=new Date){const r=t.toISOString().slice(0,10);e[r]={month:t.toLocaleDateString("en-IN",{day:"numeric"}),income:0,expense:0,transactions:0}}}}else for(let a=new Date(t);a<=new Date;a.setMonth(a.getMonth()+1)){const t=a.toISOString().slice(0,7);e[t]={month:a.toLocaleDateString("en-IN",{month:"short",year:"2-digit"}),income:0,expense:0,transactions:0}}S.forEach(t=>{const r="thisMonth"===o?t.date.slice(0,10):t.date.slice(0,7);if(e[r]){const n=j(t.amount,t.currency);"income"===t.type?e[r].income+=n:"expense"===t.type&&(e[r].expense+=n),e[r].transactions+=1}});const n=Object.entries(e).sort((e,t)=>{let[r]=e,[n]=t;return r.localeCompare(n)}).map(e=>{let[t,r]=e;const[n,a]=t.split("-");let i=null;for(let s=new Date(parseInt(n),parseInt(a)-1+1,0).getDate();s>=1;s--){const e=`${n}-${a}-${String(s).padStart(2,"0")}`;if(x[e]){i=x[e].totalNetWorth;break}}return"2025"===n&&"01"===a&&null===i&&(i=95e4),null===i&&t===(new Date).toISOString().slice(0,7)&&(i=E.currentNetWorth),{...r,netWorth:i||0,savings:r.income-r.expense}}),i={};TH.expense.forEach(e=>{i[e]=0}),S.filter(e=>"expense"===e.type).forEach(e=>{const t=e.category||"Other Expenses";void 0!==i[t]?i[t]+=j(e.amount,e.currency):i["Other Expenses"]+=j(e.amount,e.currency)});const s=Object.entries(i).filter(e=>{let[t,r]=e;return r>0}).sort((e,t)=>{let[r,n]=e,[a,i]=t;return i-n}).slice(0,8).map((e,t)=>{let[r,n]=e;return{name:r,value:n,percentage:E.totalExpense>0?n/E.totalExpense*100:0,color:CH.categoryColors[t%CH.categoryColors.length]}}),l=["#3b82f6","#f97316","#22c55e","#8b5cf6","#ef4444","#14b8a6","#f59e0b","#6366f1","#84cc16","#f43f5e"],c=a.filter(e=>!e.isDeleted).map((e,t)=>({name:e.name,value:j(e.balance,e.currency),currency:e.currency,type:e.type,percentage:E.currentNetWorth>0?j(e.balance,e.currency)/E.currentNetWorth*100:0,color:l[t%l.length]})).sort((e,t)=>t.value-e.value);return{monthly:n,categories:s,accounts:c}},[S,a,o,E,x]),_=[{value:"overview",label:"Overview",icon:Dy},{value:"trends",label:"Trends",icon:xy},{value:"categories",label:"Categories",icon:vy},{value:"accounts",label:"Accounts",icon:Py}],C=e=>{let{title:t,value:r,change:n,icon:a,color:i="blue",trend:s=null}=e;return(0,sy.jsxs)("div",{className:"metric-card card-shadow bg-white dark:bg-white/5 rounded-2xl p-6 backdrop-blur-sm shadow-lg dark:shadow-2xl transition-all duration-300 hover:transform hover:scale-[1.02] border border-gray-100 dark:border-white/10",children:[(0,sy.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,sy.jsx)("h3",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:t}),(0,sy.jsx)("div",{className:`icon-container w-10 h-10 rounded-xl bg-${i}-100 dark:bg-${i}-500/20 flex items-center justify-center`,children:(0,sy.jsx)(a,{className:`w-5 h-5 text-${i}-600 dark:text-${i}-400`})})]}),(0,sy.jsxs)("div",{className:"space-y-2",children:[(0,sy.jsx)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"number"===typeof r?w(r):r}),void 0!==n&&(0,sy.jsxs)("div",{className:"change-indicator flex items-center space-x-1 text-sm "+(n>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"),children:[n>=0?(0,sy.jsx)(ZU,{className:"w-4 h-4"}):(0,sy.jsx)(eV,{className:"w-4 h-4"}),(0,sy.jsxs)("span",{children:[Math.abs(n).toFixed(1),"% vs last period"]})]}),s&&(0,sy.jsx)("div",{className:"mt-2",children:(0,sy.jsx)("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:(0,sy.jsx)("div",{className:`h-2 rounded-full bg-${i}-500 transition-all duration-500`,style:{width:`${Math.min(100,Math.abs(s))}%`}})})})]})]})},T=e=>{let{active:t,payload:r,label:n}=e;return t&&r&&r.length?(0,sy.jsxs)("div",{className:"bg-white dark:bg-gray-800 p-4 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg backdrop-blur-sm",children:[(0,sy.jsx)("p",{className:"text-sm font-medium text-gray-900 dark:text-white mb-2",children:n}),r.map((e,t)=>(0,sy.jsxs)("div",{className:"flex items-center space-x-2 text-sm",children:[(0,sy.jsx)("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:e.color}}),(0,sy.jsxs)("span",{className:"text-gray-600 dark:text-gray-400",children:[e.dataKey,":"]}),(0,sy.jsx)("span",{className:"font-medium text-gray-900 dark:text-white",children:w(e.value)})]},t))]}):null};return(0,sy.jsxs)("div",{className:"analytics-container p-6 space-y-6 animate-fade-in relative min-h-screen transition-all duration-500",children:[(0,sy.jsxs)("div",{className:"analytics-header flex flex-col lg:flex-row lg:items-center justify-between gap-4",children:[(0,sy.jsxs)("div",{className:"header-content",children:[(0,sy.jsx)("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white transition-colors duration-300",children:"Analytics Dashboard"}),(0,sy.jsx)("p",{className:"text-gray-600 dark:text-gray-400 transition-colors duration-300",children:"Insights into your financial patterns and trends"})]}),(0,sy.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,sy.jsx)("button",{onClick:()=>p(!f),className:"comparison-mode-button p-2 rounded-lg shadow-sm dark:shadow-lg hover:shadow-md dark:hover:shadow-xl transition-all duration-300 backdrop-blur-sm border "+(f?"bg-orange-500 text-white border-orange-500":"bg-white dark:bg-white/5 text-gray-600 dark:text-gray-400 border-gray-200 dark:border-white/10"),title:"Comparison mode",children:(0,sy.jsx)(tV,{className:"w-5 h-5"})}),(0,sy.jsx)("div",{className:"time-range-controls horizontal-scroll flex bg-white dark:bg-white/5 rounded-lg p-1 shadow-sm dark:shadow-lg backdrop-blur-sm border border-gray-200 dark:border-white/10",children:[{value:"thisWeek",label:"This Week"},{value:"thisMonth",label:"This Month"},{value:"thisYear",label:"This Year"},{value:"allTime",label:"All Time"}].map(e=>(0,sy.jsx)("button",{onClick:()=>l(e.value),className:"px-3 py-1 text-sm rounded-md transition-all duration-300 whitespace-nowrap "+(o===e.value?"bg-orange-500 text-white shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"),children:e.label},e.value))})]})]}),(0,sy.jsxs)("div",{className:"metrics-grid grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,sy.jsx)(C,{title:"Total Income",value:E.totalIncome,change:f?E.incomeGrowth:void 0,icon:Ky,color:"green"}),(0,sy.jsx)(C,{title:"Total Expenses",value:E.totalExpense,change:f?E.expenseGrowth:void 0,icon:Wy,color:"red"}),(0,sy.jsx)(C,{title:"Net Savings",value:E.netSavings,icon:rV,color:E.netSavings>=0?"blue":"orange",trend:E.savingsRate}),(0,sy.jsx)(C,{title:"Net Worth",value:E.currentNetWorth,icon:xy,color:"purple"})]}),(0,sy.jsxs)("div",{className:"chart-container content-section card-shadow bg-white dark:bg-white/5 rounded-2xl p-6 backdrop-blur-sm shadow-lg dark:shadow-2xl transition-all duration-300 border border-gray-100 dark:border-white/10",children:[(0,sy.jsxs)("div",{className:"chart-controls flex flex-col lg:flex-row lg:items-center justify-between gap-4 mb-6",children:[(0,sy.jsxs)("div",{className:"chart-controls-header flex items-center justify-between w-full lg:w-auto",children:[(0,sy.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Financial Insights"}),(0,sy.jsx)("div",{className:"chart-type-buttons flex bg-gray-100 dark:bg-gray-800 rounded-lg p-1",children:_.map(e=>{const t=e.icon;return(0,sy.jsxs)("button",{onClick:()=>h(e.value),className:"flex items-center space-x-2 px-3 py-2 text-sm rounded-md transition-all duration-300 "+(d===e.value?"bg-orange-500 text-white shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"),children:[(0,sy.jsx)(t,{className:"w-4 h-4"}),(0,sy.jsx)("span",{className:"hidden sm:inline",children:e.label})]},e.value)})})]}),(0,sy.jsxs)("div",{className:"filter-controls flex items-center space-x-3",children:[(0,sy.jsxs)("select",{value:c,onChange:e=>u(e.target.value),className:"px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300",children:[(0,sy.jsx)("option",{value:"all",children:"All Accounts"}),a.filter(e=>!e.isDeleted).map(e=>(0,sy.jsx)("option",{value:e.id,children:e.name},e.id))]}),"categories"===d&&(0,sy.jsxs)("select",{value:m,onChange:e=>g(e.target.value),className:"px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300",children:[(0,sy.jsx)("option",{value:"all",children:"All Categories"}),[...TH.income,...TH.expense].map(e=>(0,sy.jsx)("option",{value:e,children:e},e))]})]})]}),(0,sy.jsx)("div",{className:("categories"===d||"accounts"===d?"chart-content-pie":"chart-content")+" w-full",children:(()=>{switch(d){case"trends":return(0,sy.jsx)("div",{className:"h-80",children:(0,sy.jsx)(Cv,{width:"100%",height:"100%",children:(0,sy.jsxs)(iV,{data:A.monthly,children:[(0,sy.jsxs)("defs",{children:[(0,sy.jsxs)("linearGradient",{id:"incomeGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[(0,sy.jsx)("stop",{offset:"5%",stopColor:"#22c55e",stopOpacity:.3}),(0,sy.jsx)("stop",{offset:"95%",stopColor:"#22c55e",stopOpacity:0})]}),(0,sy.jsxs)("linearGradient",{id:"expenseGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[(0,sy.jsx)("stop",{offset:"5%",stopColor:"#ef4444",stopOpacity:.3}),(0,sy.jsx)("stop",{offset:"95%",stopColor:"#ef4444",stopOpacity:0})]})]}),(0,sy.jsx)(HR,{strokeDasharray:"3 3",stroke:"currentColor",opacity:.1}),(0,sy.jsx)(ZR,{dataKey:"month",stroke:"currentColor",fontSize:12}),(0,sy.jsx)(oL,{stroke:"currentColor",fontSize:12,tickFormatter:k,domain:[0,"dataMax + 500000"],ticks:[0,5e5,1e6,15e5,2e6,25e5,3e6,35e5,4e6,45e5,5e6]}),(0,sy.jsx)(kz,{content:(0,sy.jsx)(T,{})}),(0,sy.jsx)(XV,{}),(0,sy.jsx)(EB,{type:"monotone",dataKey:"income",stackId:"1",stroke:"#22c55e",fill:"url(#incomeGradient)",name:"Income"}),(0,sy.jsx)(EB,{type:"monotone",dataKey:"expense",stackId:"2",stroke:"#ef4444",fill:"url(#expenseGradient)",name:"Expenses"}),(0,sy.jsx)(VU,{type:"monotone",dataKey:"netWorth",stroke:"#f97316",strokeWidth:3,name:"Net Worth",dot:{fill:"#f97316",r:4}})]})})});case"categories":return(0,sy.jsxs)("div",{className:"chart-grid grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,sy.jsx)("div",{className:"chart-pie-container h-80",children:(0,sy.jsx)(Cv,{width:"100%",height:"100%",children:(0,sy.jsxs)(DB,{children:[(0,sy.jsx)(R$,{data:A.categories,cx:"50%",cy:"50%",innerRadius:50,outerRadius:100,paddingAngle:2,dataKey:"value",children:A.categories.map((e,t)=>(0,sy.jsx)(r$,{fill:e.color},`cell-${t}`))}),(0,sy.jsx)(kz,{formatter:e=>[w(e),"Amount"],contentStyle:{backgroundColor:"var(--bg-elevated)",border:"1px solid var(--border-primary)",borderRadius:"8px"}})]})})}),(0,sy.jsxs)("div",{className:"space-y-3",children:[(0,sy.jsx)("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Category Breakdown"}),(0,sy.jsx)("div",{className:"chart-legend space-y-2 max-h-64 overflow-y-auto",children:A.categories.map((e,t)=>(0,sy.jsxs)("div",{className:"chart-legend-item flex items-center justify-between p-3 bg-gray-50 dark:bg-white/5 rounded-lg",children:[(0,sy.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,sy.jsx)("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:e.color}}),(0,sy.jsx)("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:e.name})]}),(0,sy.jsxs)("div",{className:"text-right",children:[(0,sy.jsx)("p",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:w(e.value)}),(0,sy.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[e.percentage.toFixed(1),"%"]})]})]},e.name))})]})]});case"accounts":return(0,sy.jsxs)("div",{className:"chart-grid grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,sy.jsx)("div",{className:"chart-pie-container h-80",children:(0,sy.jsx)(Cv,{width:"100%",height:"100%",children:(0,sy.jsxs)(DB,{children:[(0,sy.jsx)(R$,{data:A.accounts,cx:"50%",cy:"50%",innerRadius:50,outerRadius:100,paddingAngle:2,dataKey:"value",children:A.accounts.map((e,t)=>(0,sy.jsx)(r$,{fill:e.color},`cell-${t}`))}),(0,sy.jsx)(kz,{formatter:e=>[w(e),"Balance"],contentStyle:{backgroundColor:"var(--bg-elevated)",border:"1px solid var(--border-primary)",borderRadius:"8px"}})]})})}),(0,sy.jsxs)("div",{className:"space-y-3",children:[(0,sy.jsx)("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Account Distribution"}),(0,sy.jsx)("div",{className:"chart-legend space-y-2 max-h-64 overflow-y-auto",children:A.accounts.map((e,t)=>(0,sy.jsxs)("div",{className:"chart-legend-item flex items-center justify-between p-3 bg-gray-50 dark:bg-white/5 rounded-lg",children:[(0,sy.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,sy.jsx)("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:e.color}}),(0,sy.jsxs)("div",{className:"flex items-center space-x-2",children:["crypto"===e.type?(0,sy.jsx)(Yy,{className:"w-4 h-4 text-orange-500"}):(0,sy.jsx)(Qy,{className:"w-4 h-4 text-blue-500"}),(0,sy.jsx)("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:e.name})]})]}),(0,sy.jsxs)("div",{className:"text-right",children:[(0,sy.jsx)("p",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:w(e.value)}),(0,sy.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[e.percentage.toFixed(1),"% \u2022 ",e.currency]})]})]},e.name))})]})]});default:return(0,sy.jsx)("div",{className:"h-80",children:(0,sy.jsx)(Cv,{width:"100%",height:"100%",minHeight:280,children:(0,sy.jsxs)(F$,{data:A.monthly,children:[(0,sy.jsx)(HR,{strokeDasharray:"3 3",stroke:"currentColor",opacity:.1}),(0,sy.jsx)(ZR,{dataKey:"month",stroke:"currentColor",fontSize:12}),(0,sy.jsx)(oL,{stroke:"currentColor",fontSize:12,tickFormatter:k,domain:[0,"dataMax + 500000"],ticks:[0,5e5,1e6,15e5,2e6,25e5,3e6,35e5,4e6,45e5,5e6]}),(0,sy.jsx)(kz,{content:(0,sy.jsx)(T,{})}),(0,sy.jsx)(XV,{}),(0,sy.jsx)(_H,{dataKey:"income",fill:"#22c55e",name:"Income",radius:[4,4,0,0]}),(0,sy.jsx)(_H,{dataKey:"expense",fill:"#ef4444",name:"Expenses",radius:[4,4,0,0]}),(0,sy.jsx)(_H,{dataKey:"savings",fill:"#f97316",name:"Savings",radius:[4,4,0,0]})]})})})}})()})]}),(0,sy.jsxs)("div",{className:"insights-grid content-section grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,sy.jsxs)("div",{className:"insight-card card-shadow bg-white dark:bg-white/5 rounded-2xl p-6 backdrop-blur-sm shadow-lg dark:shadow-2xl transition-all duration-300 border border-gray-100 dark:border-white/10",children:[(0,sy.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,sy.jsx)("div",{className:"w-8 h-8 bg-blue-100 dark:bg-blue-500/20 rounded-lg flex items-center justify-center",children:(0,sy.jsx)(xy,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"})}),(0,sy.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Key Insights"})]}),(0,sy.jsxs)("div",{className:"space-y-3",children:[E.savingsRate>20&&(0,sy.jsxs)("div",{className:"insight-item flex items-start space-x-3 p-3 bg-green-50 dark:bg-green-500/10 rounded-lg border border-green-200 dark:border-green-500/20",children:[(0,sy.jsx)(Cy,{className:"w-5 h-5 text-green-600 dark:text-green-400 flex-shrink-0 mt-0.5"}),(0,sy.jsxs)("div",{children:[(0,sy.jsx)("p",{className:"text-sm font-medium text-green-800 dark:text-green-300",children:"Excellent Savings Rate!"}),(0,sy.jsxs)("p",{className:"text-xs text-green-700 dark:text-green-400",children:["You're saving ",E.savingsRate.toFixed(1),"% of your income. Keep it up!"]})]})]}),E.expenseGrowth>20&&(0,sy.jsxs)("div",{className:"insight-item flex items-start space-x-3 p-3 bg-yellow-50 dark:bg-yellow-500/10 rounded-lg border border-yellow-200 dark:border-yellow-500/20",children:[(0,sy.jsx)(nV,{className:"w-5 h-5 text-yellow-600 dark:text-yellow-400 flex-shrink-0 mt-0.5"}),(0,sy.jsxs)("div",{children:[(0,sy.jsx)("p",{className:"text-sm font-medium text-yellow-800 dark:text-yellow-300",children:"Rising Expenses"}),(0,sy.jsxs)("p",{className:"text-xs text-yellow-700 dark:text-yellow-400",children:["Your expenses increased by ",E.expenseGrowth.toFixed(1),"% this period."]})]})]}),A.categories.length>0&&(0,sy.jsxs)("div",{className:"insight-item flex items-start space-x-3 p-3 bg-blue-50 dark:bg-blue-500/10 rounded-lg border border-blue-200 dark:border-blue-500/20",children:[(0,sy.jsx)(vy,{className:"w-5 h-5 text-blue-600 dark:text-blue-400 flex-shrink-0 mt-0.5"}),(0,sy.jsxs)("div",{children:[(0,sy.jsx)("p",{className:"text-sm font-medium text-blue-800 dark:text-blue-300",children:"Top Expense Category"}),(0,sy.jsxs)("p",{className:"text-xs text-blue-700 dark:text-blue-400",children:[null===(r=A.categories[0])||void 0===r?void 0:r.name," accounts for ",null===(n=A.categories[0])||void 0===n?void 0:n.percentage.toFixed(1),"% of expenses"]})]})]})]})]}),(0,sy.jsxs)("div",{className:"insight-card card-shadow bg-white dark:bg-white/5 rounded-2xl p-6 backdrop-blur-sm shadow-lg dark:shadow-2xl transition-all duration-300 border border-gray-100 dark:border-white/10",children:[(0,sy.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,sy.jsx)("div",{className:"w-8 h-8 bg-orange-100 dark:bg-orange-500/20 rounded-lg flex items-center justify-center",children:(0,sy.jsx)(rV,{className:"w-4 h-4 text-orange-600 dark:text-orange-400"})}),(0,sy.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Financial Health"})]}),(0,sy.jsxs)("div",{className:"space-y-4",children:[(0,sy.jsxs)("div",{className:"health-metric bg-gray-50 dark:bg-white/5 rounded-lg p-4",children:[(0,sy.jsxs)("div",{className:"health-metric-header flex items-center justify-between mb-2",children:[(0,sy.jsx)("span",{className:"health-metric-text text-sm text-gray-600 dark:text-gray-400",children:"Savings Rate"}),(0,sy.jsxs)("span",{className:"text-sm font-medium "+(E.savingsRate>=20?"text-green-600 dark:text-green-400":E.savingsRate>=10?"text-yellow-600 dark:text-yellow-400":"text-red-600 dark:text-red-400"),children:[E.savingsRate.toFixed(1),"%"]})]}),(0,sy.jsx)("div",{className:"progress-bar w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:(0,sy.jsx)("div",{className:"h-2 rounded-full transition-all duration-500 "+(E.savingsRate>=20?"bg-green-500":E.savingsRate>=10?"bg-yellow-500":"bg-red-500"),style:{width:`${Math.min(100,Math.max(0,E.savingsRate))}%`}})})]}),(0,sy.jsxs)("div",{className:"health-metric bg-gray-50 dark:bg-white/5 rounded-lg p-4",children:[(0,sy.jsxs)("div",{className:"health-metric-header flex items-center justify-between mb-2",children:[(0,sy.jsx)("span",{className:"health-metric-text text-sm text-gray-600 dark:text-gray-400",children:"Account Diversity"}),(0,sy.jsxs)("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[a.filter(e=>!e.isDeleted).length," accounts"]})]}),(0,sy.jsxs)("div",{className:"health-metric-text text-xs text-gray-500 dark:text-gray-400",children:[a.filter(e=>!e.isDeleted&&"bank"===e.type).length," Bank \u2022 ",a.filter(e=>!e.isDeleted&&"crypto"===e.type).length," Crypto"]})]}),(0,sy.jsxs)("div",{className:"health-metric bg-gray-50 dark:bg-white/5 rounded-lg p-4",children:[(0,sy.jsxs)("div",{className:"health-metric-header flex items-center justify-between mb-2",children:[(0,sy.jsx)("span",{className:"health-metric-text text-sm text-gray-600 dark:text-gray-400",children:"Transaction Volume"}),(0,sy.jsx)("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:E.transactionCount})]}),(0,sy.jsxs)("div",{className:"health-metric-text text-xs text-gray-500 dark:text-gray-400",children:["Avg ",w(E.avgTransactionAmount)," per transaction"]})]})]})]})]}),(0,sy.jsxs)("div",{className:"content-section card-shadow bg-white dark:bg-white/5 rounded-2xl p-6 backdrop-blur-sm shadow-lg dark:shadow-2xl transition-all duration-300 border border-gray-100 dark:border-white/10",children:[(0,sy.jsxs)("div",{className:"monthly-breakdown-header flex items-center justify-between mb-6",children:[(0,sy.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Monthly Breakdown"}),(0,sy.jsx)("select",{value:y,onChange:e=>v(parseInt(e.target.value)),className:"year-filter px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300",children:[...new Set(i.map(e=>new Date(e.date).getFullYear()))].sort((e,t)=>t-e).map(e=>(0,sy.jsx)("option",{value:e,children:e},e))})]}),(0,sy.jsx)("div",{className:"monthly-table-container overflow-x-auto",children:(0,sy.jsxs)("table",{className:"monthly-table w-full",children:[(0,sy.jsx)("thead",{className:"sticky-header bg-gray-50 dark:bg-white/5 border-b border-gray-200 dark:border-white/10",children:(0,sy.jsxs)("tr",{children:[(0,sy.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Month"}),(0,sy.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Income"}),(0,sy.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Expenses"}),(0,sy.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Savings"}),(0,sy.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Rate"}),(0,sy.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Net Worth"})]})}),(0,sy.jsx)("tbody",{className:"divide-y divide-gray-200 dark:divide-white/10",children:(()=>{const e=[],t=new Date,r=y===t.getFullYear()?t.getMonth():11;for(let n=0;n<=r;n++){const t=new Date(y,n,1),r=t.toLocaleDateString("en-IN",{month:"long",year:"numeric"}),a=t.toLocaleDateString("en-IN",{month:"long"}),i=S.filter(e=>{const t=new Date(e.date);return t.getMonth()===n&&t.getFullYear()===y&&"income"===e.type}).reduce((e,t)=>e+j(t.amount,t.currency),0),s=S.filter(e=>{const t=new Date(e.date);return t.getMonth()===n&&t.getFullYear()===y&&"expense"===e.type}).reduce((e,t)=>e+j(t.amount,t.currency),0),o=i-s,l=i>0?o/i*100:0;let c=null;const u=y;for(let e=new Date(u,n+1,0).getDate();e>=1;e--){const t=`${u}-${String(n+1).padStart(2,"0")}-${String(e).padStart(2,"0")}`;if(x[t]){c=x[t].totalNetWorth;break}}2025===y&&0===n&&null===c&&(c=95e4),e.push({key:r,keyMobile:a,month:n,year:y,income:i,expense:s,savings:o,savingsRate:l,netWorth:c})}return e.reverse().map((e,t)=>(0,sy.jsxs)("tr",{className:"hover:bg-gray-50 dark:hover:bg-white/5 transition-all duration-300",children:[(0,sy.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,sy.jsxs)("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[(0,sy.jsx)("span",{className:"hidden sm:inline",children:e.key}),(0,sy.jsx)("span",{className:"sm:hidden",children:e.keyMobile})]})}),(0,sy.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,sy.jsx)("span",{className:"text-sm font-medium text-green-600 dark:text-green-400",children:w(e.income)})}),(0,sy.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,sy.jsx)("span",{className:"text-sm font-medium text-red-600 dark:text-red-400",children:w(e.expense)})}),(0,sy.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,sy.jsxs)("span",{className:"text-sm font-medium "+(e.savings>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"),children:[e.savings>=0?"":"-",w(Math.abs(e.savings))]})}),(0,sy.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,sy.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,sy.jsxs)("span",{className:"savings-rate-mobile text-sm font-medium "+(e.savingsRate>=20?"text-green-600 dark:text-green-400":e.savingsRate>=10?"text-yellow-600 dark:text-yellow-400":"text-red-600 dark:text-red-400"),children:[e.savingsRate.toFixed(1),"%"]}),(0,sy.jsx)("div",{className:"progress-bar-mini w-16 bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:(0,sy.jsx)("div",{className:"h-2 rounded-full transition-all duration-500 "+(e.savingsRate>=20?"bg-green-500":e.savingsRate>=10?"bg-yellow-500":"bg-red-500"),style:{width:`${Math.min(100,Math.max(0,e.savingsRate))}%`}})})]})}),(0,sy.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,sy.jsx)("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:null!==e.netWorth?w(e.netWorth):"-"})})]},t))})()})]})})]})]})},OH=gy("piggy-bank",[["path",{d:"M11 17h3v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-3a3.16 3.16 0 0 0 2-2h1a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1h-1a5 5 0 0 0-2-4V3a4 4 0 0 0-3.2 1.6l-.3.4H11a6 6 0 0 0-6 6v1a5 5 0 0 0 2 4v3a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1z",key:"1piglc"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M2 8v1a2 2 0 0 0 2 2h1",key:"1env43"}]]),PH=gy("landmark",[["path",{d:"M10 18v-7",key:"wt116b"}],["path",{d:"M11.12 2.198a2 2 0 0 1 1.76.006l7.866 3.847c.476.233.31.949-.22.949H3.474c-.53 0-.695-.716-.22-.949z",key:"1m329m"}],["path",{d:"M14 18v-7",key:"vav6t3"}],["path",{d:"M18 18v-7",key:"aexdmj"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M6 18v-7",key:"1ivflk"}]]),DH=gy("receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]),MH=gy("grip-vertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]),RH=84,LH={income:["Salary","Gift","Payouts","Gambling","Investments","Business","Freelance","Rental Income","Interest","Dividends","Bonus","Commission","Refunds","Other Income"],expense:["Food & Dining","Travel","Entertainment","Friends & Family","Shopping","Utilities","Healthcare","Personal Care","Gifts & Donations","Bills","Groceries","Vehicle","Subscriptions","Hobbies","Eval","Other Expenses"],transfer:["Self Transfer","Account Transfer","Wallet Transfer"],adjustment:["Balance Reconciliation","Bank Interest","Bank Charges","Missed Transaction","Other Adjustment"]},FH={bank:["UPI","Bank Transfer","Debit Card","Credit Card","Cash","Net Banking"],crypto:["Crypto Transfer","Crypto Card","Exchange Transfer","DeFi Transaction"]},zH={bank:{label:"Bank Account",description:"Savings, Current, Credit Card accounts",currencies:["INR","USD"]},crypto:{label:"USD Account",description:"Cryptocurrency, Investment accounts",currencies:["USD","INR"]}},UH={bank:["Savings","Current","Prepaid Wallet","Investments","Fixed Deposit"],crypto:["Crypto Wallet","Crypto Exchange","Crypto Card","Staking"]};const VH=function(e){var r,n;let{accounts:a,transactions:i}=e;re();const{currentUser:s}=ly(),[o,l]=(0,t.useState)(!1),[c,u]=(0,t.useState)(!1),[d,h]=(0,t.useState)(!1),[f,p]=(0,t.useState)(!1),[m,g]=(0,t.useState)(!1),[y,v]=(0,t.useState)(null),[x,b]=(0,t.useState)(!0),[w,k]=(0,t.useState)(!1),[j,N]=(0,t.useState)(null),[S,E]=(0,t.useState)(null),[A,_]=(0,t.useState)(null),[C,T]=(0,t.useState)({name:"",type:"bank",subtype:"",currency:"INR",balance:"",description:""}),[I,O]=(0,t.useState)({deleteTransactions:!1}),P=()=>{const e=new Date;return`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")}T${String(e.getHours()).padStart(2,"0")}:${String(e.getMinutes()).padStart(2,"0")}`},[D,M]=(0,t.useState)({type:"expense",amount:"",currency:"INR",accountId:"",toAccountId:"",category:"",paymentMode:"",notes:"",date:P(),isIncrease:!0}),R=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"INR";if(!x)return"\u2022\u2022\u2022\u2022\u2022\u2022";return new Intl.NumberFormat("en-IN",{style:"currency",currency:t,minimumFractionDigits:"USD"===t?2:0,maximumFractionDigits:"USD"===t?2:0}).format(e)},L=(e,t)=>"USD"===t?e*RH:e,F=(e,t)=>"crypto"===e?Yy:"Credit Card"===t?yy:"Fixed Deposit"===t?OH:PH,z=e=>{switch(e){case"income":return"text-green-600 dark:text-green-400";case"expense":return"text-red-600 dark:text-red-400";case"transfer":return"text-blue-600 dark:text-blue-400";case"adjustment":return"text-orange-600 dark:text-orange-400";default:return"text-gray-600 dark:text-gray-400"}},U=()=>{T({name:"",type:"bank",subtype:"",currency:"INR",balance:"",description:""})},V=()=>{_(null)},B=e=>{v(e),T({name:e.name,type:e.type,subtype:e.subtype||"",currency:e.currency,balance:e.balance.toString(),description:e.description||""}),u(!0)},$=e=>{M({type:"expense",amount:"",currency:e.currency,accountId:e.id,toAccountId:"",category:"",paymentMode:"",notes:"",date:P(),isIncrease:!0}),g(!0)},H=()=>{M({type:"expense",amount:"",currency:"INR",accountId:"",toAccountId:"",category:"",paymentMode:"",notes:"",date:P(),isIncrease:!0})};(0,t.useEffect)(()=>{const e=()=>N(null);return document.addEventListener("click",e),()=>document.removeEventListener("click",e)},[]),(0,t.useEffect)(()=>{if(y&&a.length>0){const e=a.find(e=>e.id===y.id);e&&v(e)}},[a]),(0,t.useEffect)(()=>(document.body.style.overflow=f||o||c||d||m?"hidden":"auto",()=>{document.body.style.overflow="auto"}),[f,o,c,d,m]);const q=[...a].sort((e,t)=>(e.displayOrder||0)-(t.displayOrder||0)),K=a.filter(e=>"bank"===e.type),W=a.filter(e=>"crypto"===e.type),G=K.reduce((e,t)=>e+L(t.balance,t.currency),0),Y=W.reduce((e,t)=>e+L(t.balance,t.currency),0),Q=G+Y;return(0,sy.jsxs)("div",{className:"p-4 sm:p-6 space-y-4 sm:space-y-6 animate-fade-in relative min-h-screen transition-all duration-500",children:[(0,sy.jsxs)("div",{className:"flex items-start justify-between",children:[(0,sy.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,sy.jsx)("h1",{className:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-white transition-colors duration-300",children:"Accounts"}),(0,sy.jsx)("p",{className:"text-sm sm:text-base text-gray-600 dark:text-gray-400 transition-colors duration-300",children:"Manage your bank and crypto accounts"})]}),(0,sy.jsx)("div",{className:"flex items-center ml-4",children:(0,sy.jsxs)("button",{onClick:()=>l(!0),className:"bg-orange-500 hover:bg-orange-600 text-white px-3 sm:px-4 py-2 rounded-lg flex items-center space-x-2 transition-all duration-300 transform hover:-translate-y-0.5 shadow-md dark:shadow-lg text-sm sm:text-base whitespace-nowrap",children:[(0,sy.jsx)(Xy,{className:"w-4 h-4"}),(0,sy.jsx)("span",{className:"hidden sm:inline",children:"Add Account"}),(0,sy.jsx)("span",{className:"sm:hidden",children:"Add"})]})})]}),(0,sy.jsxs)("div",{className:"md:hidden space-y-4",children:[(0,sy.jsxs)("div",{className:"bg-white dark:bg-white/5 rounded-2xl p-4 backdrop-blur-sm shadow-lg dark:shadow-2xl transition-all duration-300 hover:shadow-xl dark:hover:shadow-3xl hover:transform hover:scale-[1.02]",children:[(0,sy.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,sy.jsx)("h3",{className:"text-sm text-gray-600 dark:text-gray-400 transition-colors duration-300",children:"Total Balance"}),(0,sy.jsx)(Py,{className:"w-5 h-5 text-orange-500"})]}),(0,sy.jsx)("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white transition-colors duration-300",children:R(Q,"INR")}),(0,sy.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400 transition-colors duration-300 mt-1",children:["$",(Q/RH).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})," USD"]}),(0,sy.jsxs)("p",{className:"text-sm text-gray-500 dark:text-gray-400 transition-colors duration-300 mt-2",children:["Across ",a.length," accounts"]})]}),(0,sy.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,sy.jsxs)("div",{className:"bg-white dark:bg-white/5 rounded-2xl p-4 backdrop-blur-sm h-full shadow-lg dark:shadow-2xl transition-all duration-300 hover:shadow-xl dark:hover:shadow-3xl hover:transform hover:scale-[1.02]",children:[(0,sy.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,sy.jsx)("h3",{className:"text-sm text-gray-600 dark:text-gray-400 transition-colors duration-300",children:"INR Accounts"}),(0,sy.jsx)(Qy,{className:"w-5 h-5 text-blue-500"})]}),(0,sy.jsx)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white transition-colors duration-300",children:R(G,"INR")}),(0,sy.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400 transition-colors duration-300 mt-1",children:["$",(G/RH).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})," USD"]}),(0,sy.jsxs)("p",{className:"text-sm text-gray-500 dark:text-gray-400 transition-colors duration-300 mt-2",children:[K.length," accounts"]})]}),(0,sy.jsxs)("div",{className:"bg-white dark:bg-white/5 rounded-2xl p-4 backdrop-blur-sm h-full shadow-lg dark:shadow-2xl transition-all duration-300 hover:shadow-xl dark:hover:shadow-3xl hover:transform hover:scale-[1.02]",children:[(0,sy.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,sy.jsx)("h3",{className:"text-sm text-gray-600 dark:text-gray-400 transition-colors duration-300",children:"USD Accounts"}),(0,sy.jsx)(Yy,{className:"w-5 h-5 text-orange-500"})]}),(0,sy.jsxs)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white transition-colors duration-300",children:["$",(Y/RH).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]}),(0,sy.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 transition-colors duration-300 mt-1",children:R(Y,"INR")}),(0,sy.jsxs)("p",{className:"text-sm text-gray-500 dark:text-gray-400 transition-colors duration-300 mt-2",children:[W.length," accounts"]})]})]})]}),(0,sy.jsxs)("div",{className:"hidden md:grid md:grid-cols-3 gap-4 sm:gap-6",children:[(0,sy.jsxs)("div",{className:"bg-white dark:bg-white/5 rounded-2xl p-4 sm:p-6 backdrop-blur-sm h-full shadow-lg dark:shadow-2xl transition-all duration-300 hover:shadow-xl dark:hover:shadow-3xl hover:transform hover:scale-[1.02]",children:[(0,sy.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,sy.jsx)("h3",{className:"text-sm text-gray-600 dark:text-gray-400 transition-colors duration-300",children:"Total Balance"}),(0,sy.jsx)(Py,{className:"w-5 h-5 text-orange-500"})]}),(0,sy.jsx)("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white transition-colors duration-300",children:R(Q,"INR")}),(0,sy.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400 transition-colors duration-300 mt-1",children:["$",(Q/RH).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})," USD"]}),(0,sy.jsxs)("p",{className:"text-sm text-gray-500 dark:text-gray-400 transition-colors duration-300 mt-2",children:["Across ",a.length," accounts"]})]}),(0,sy.jsxs)("div",{className:"bg-white dark:bg-white/5 rounded-2xl p-4 sm:p-6 backdrop-blur-sm h-full shadow-lg dark:shadow-2xl transition-all duration-300 hover:shadow-xl dark:hover:shadow-3xl hover:transform hover:scale-[1.02]",children:[(0,sy.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,sy.jsx)("h3",{className:"text-sm text-gray-600 dark:text-gray-400 transition-colors duration-300",children:"INR Accounts"}),(0,sy.jsx)(Qy,{className:"w-5 h-5 text-blue-500"})]}),(0,sy.jsx)("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white transition-colors duration-300",children:R(G,"INR")}),(0,sy.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400 transition-colors duration-300 mt-1",children:["$",(G/RH).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})," USD"]}),(0,sy.jsxs)("p",{className:"text-sm text-gray-500 dark:text-gray-400 transition-colors duration-300 mt-2",children:[K.length," accounts"]})]}),(0,sy.jsxs)("div",{className:"bg-white dark:bg-white/5 rounded-2xl p-4 sm:p-6 backdrop-blur-sm h-full shadow-lg dark:shadow-2xl transition-all duration-300 hover:shadow-xl dark:hover:shadow-3xl hover:transform hover:scale-[1.02]",children:[(0,sy.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,sy.jsx)("h3",{className:"text-sm text-gray-600 dark:text-gray-400 transition-colors duration-300",children:"USD Accounts"}),(0,sy.jsx)(Yy,{className:"w-5 h-5 text-orange-500"})]}),(0,sy.jsxs)("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white transition-colors duration-300",children:["$",(Y/RH).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]}),(0,sy.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 transition-colors duration-300 mt-1",children:R(Y,"INR")}),(0,sy.jsxs)("p",{className:"text-sm text-gray-500 dark:text-gray-400 transition-colors duration-300 mt-2",children:[W.length," accounts"]})]})]}),(0,sy.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:q.length>0?q.map((e,t)=>{const r=F(e.type,e.subtype),n=e.balance<0;return(0,sy.jsxs)("div",{draggable:!0,onDragStart:t=>((e,t)=>{E(t),e.dataTransfer.effectAllowed="move"})(t,e),onDragOver:t=>((e,t)=>{e.preventDefault(),e.dataTransfer.dropEffect="move",_(t.id)})(t,e),onDragLeave:V,onDrop:t=>(async(e,t)=>{if(e.preventDefault(),_(null),S&&t&&S.id!==t.id){if(s&&!w)try{k(!0);const e=ty(iy),r=Um(iy,"users",s.uid,"accounts",S.id),n=Um(iy,"users",s.uid,"accounts",t.id);e.update(r,{displayOrder:t.displayOrder||0,updatedAt:(new Date).toISOString()}),e.update(n,{displayOrder:S.displayOrder||0,updatedAt:(new Date).toISOString()}),await e.commit()}catch(r){console.error("Error reordering accounts:",r),alert("Error reordering accounts. Please try again.")}finally{k(!1),E(null)}}else E(null)})(t,e),onClick:()=>(e=>{v(e),p(!0),N(null)})(e),className:`bg-white dark:bg-white/5 rounded-xl p-4 backdrop-blur-sm shadow-lg dark:shadow-2xl transition-all duration-300 hover:transform hover:scale-[1.02] hover:shadow-xl dark:hover:shadow-3xl relative cursor-pointer ${A===e.id?"ring-2 ring-orange-500 ring-opacity-50":""} ${(null===S||void 0===S?void 0:S.id)===e.id?"opacity-50":""}`,children:[(0,sy.jsx)("div",{className:"absolute top-2 left-2 opacity-30 hover:opacity-70 transition-opacity duration-300",children:(0,sy.jsx)(MH,{className:"w-4 h-4 text-gray-400"})}),(0,sy.jsxs)("div",{className:"flex items-start justify-between mb-3 ml-6",children:[(0,sy.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,sy.jsx)("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center transition-colors duration-300 "+("bank"===e.type?"bg-blue-100 dark:bg-blue-500/20":"bg-orange-100 dark:bg-orange-500/20"),children:(0,sy.jsx)(r,{className:"w-5 h-5 "+("bank"===e.type?"text-blue-600 dark:text-blue-400":"text-orange-600 dark:text-orange-400")})}),(0,sy.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,sy.jsx)("h3",{className:"text-sm font-semibold text-gray-900 dark:text-white transition-colors duration-300 truncate",children:e.name}),(0,sy.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400 transition-colors duration-300 truncate",children:[e.subtype||("crypto"===e.type?"USD Account":zH[e.type].label)," \u2022 ",e.currency]})]})]}),(0,sy.jsxs)("div",{className:"relative",children:[(0,sy.jsx)("button",{onClick:t=>{t.stopPropagation(),N(j===e.id?null:e.id)},className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors duration-300",children:(0,sy.jsx)(ev,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})}),j===e.id&&(0,sy.jsxs)("div",{className:"absolute right-0 mt-2 w-48 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 py-1 z-10 backdrop-blur-sm",children:[(0,sy.jsxs)("button",{onClick:t=>{t.stopPropagation(),(e=>{v(e),T({name:e.name,type:e.type,subtype:e.subtype||"",currency:e.currency,balance:e.balance.toString(),description:e.description||""}),u(!0),N(null)})(e)},className:"w-full text-left px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center space-x-2 transition-colors duration-300",children:[(0,sy.jsx)(tv,{className:"w-4 h-4"}),(0,sy.jsx)("span",{children:"Edit Account"})]}),(0,sy.jsx)("div",{className:"border-t border-gray-200 dark:border-gray-700 my-1"}),(0,sy.jsxs)("button",{onClick:t=>{t.stopPropagation(),(e=>{v(e),h(!0),N(null)})(e)},className:"w-full text-left px-4 py-2 text-sm text-red-600 dark:text-red-400 hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center space-x-2 transition-colors duration-300",children:[(0,sy.jsx)(rv,{className:"w-4 h-4"}),(0,sy.jsx)("span",{children:"Delete Account"})]})]})]})]}),(0,sy.jsxs)("div",{className:"mb-3",children:[(0,sy.jsx)("div",{className:"text-lg font-bold mb-1 transition-colors duration-300 "+(n?"text-red-600 dark:text-red-400":"text-gray-900 dark:text-white"),children:R(e.balance,e.currency)}),"USD"===e.currency&&(0,sy.jsxs)("div",{className:"text-xs text-gray-500 dark:text-gray-400 transition-colors duration-300",children:["\u2248 ",R(L(e.balance,"USD"),"INR")]}),n&&"Credit Card"===e.subtype&&(0,sy.jsxs)("div",{className:"flex items-center space-x-1 text-xs text-orange-600 dark:text-orange-400 mt-1",children:[(0,sy.jsx)(av,{className:"w-3 h-3"}),(0,sy.jsx)("span",{children:"Outstanding"})]})]}),e.description&&(0,sy.jsx)("div",{className:"text-xs text-gray-600 dark:text-gray-400 mb-3 bg-gray-50 dark:bg-white/3 rounded-lg p-2 transition-colors duration-300 line-clamp-2",children:e.description}),(0,sy.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-500 dark:text-gray-400 transition-colors duration-300",children:[(0,sy.jsx)("span",{children:"Last activity"}),(0,sy.jsx)("span",{children:new Date(e.lastActivityAt||e.updatedAt).toLocaleDateString("en-IN",{day:"numeric",month:"short"})})]})]},e.id)}):(0,sy.jsxs)("div",{className:"col-span-full bg-white dark:bg-white/5 rounded-2xl p-12 text-center backdrop-blur-sm shadow-lg dark:shadow-2xl transition-all duration-300",children:[(0,sy.jsx)(Py,{className:"w-12 h-12 text-gray-400 dark:text-gray-600 mx-auto mb-4"}),(0,sy.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2 transition-colors duration-300",children:"No accounts yet"}),(0,sy.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-6 transition-colors duration-300",children:"Add your first account to start tracking your finances"}),(0,sy.jsxs)("button",{onClick:()=>l(!0),className:"bg-orange-500 hover:bg-orange-600 text-white px-6 py-3 rounded-lg flex items-center space-x-2 mx-auto transition-all duration-300 transform hover:-translate-y-0.5 shadow-md",children:[(0,sy.jsx)(Xy,{className:"w-5 h-5"}),(0,sy.jsx)("span",{children:"Add Your First Account"})]})]})}),o&&(0,sy.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-2 sm:p-4 z-50",onClick:e=>{e.target===e.currentTarget&&(l(!1),U())},children:(0,sy.jsxs)("div",{className:"bg-white dark:bg-gray-900 rounded-xl sm:rounded-2xl p-4 sm:p-6 w-full max-w-2xl max-h-[95vh] overflow-y-auto backdrop-blur-sm border border-gray-200 dark:border-gray-700",children:[(0,sy.jsx)("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-6 transition-colors duration-300",children:"Add New Account"}),(0,sy.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),s&&!w&&C.name&&C.subtype)try{k(!0);const e={name:C.name,type:C.type,subtype:C.subtype,currency:C.currency,balance:parseFloat(C.balance)||0,description:C.description,isDeleted:!1,userId:s.uid,createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString(),lastActivityAt:(new Date).toISOString(),displayOrder:a.length};await Gg(zm(iy,"users",s.uid,"accounts"),e),l(!1),U()}catch(t){console.error("Error adding account:",t),alert("Error adding account. Please try again.")}finally{k(!1)}},className:"space-y-6",children:[(0,sy.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,sy.jsxs)("div",{children:[(0,sy.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 transition-colors duration-300",children:"Account Name"}),(0,sy.jsx)("input",{type:"text",value:C.name,onChange:e=>T({...C,name:e.target.value}),placeholder:"e.g., HDFC Savings",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300",required:!0})]}),(0,sy.jsxs)("div",{children:[(0,sy.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 transition-colors duration-300",children:"Account Type"}),(0,sy.jsx)("select",{value:C.type,onChange:e=>T({...C,type:e.target.value,subtype:"",currency:"crypto"===e.target.value?"USD":"INR"}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300",children:Object.entries(zH).map(e=>{let[t,r]=e;return(0,sy.jsx)("option",{value:t,children:r.label},t)})})]})]}),(0,sy.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,sy.jsxs)("div",{children:[(0,sy.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 transition-colors duration-300",children:"Subtype"}),(0,sy.jsxs)("select",{value:C.subtype,onChange:e=>T({...C,subtype:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300",required:!0,children:[(0,sy.jsx)("option",{value:"",children:"Select subtype"}),UH[C.type].map(e=>(0,sy.jsx)("option",{value:e,children:e},e))]})]}),(0,sy.jsxs)("div",{children:[(0,sy.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 transition-colors duration-300",children:"Currency"}),(0,sy.jsx)("select",{value:C.currency,onChange:e=>T({...C,currency:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300",children:zH[C.type].currencies.map(e=>(0,sy.jsx)("option",{value:e,children:e},e))})]})]}),(0,sy.jsxs)("div",{children:[(0,sy.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 transition-colors duration-300",children:"Initial Balance"}),(0,sy.jsx)("input",{type:"number",step:"0.01",value:C.balance,onChange:e=>T({...C,balance:e.target.value}),placeholder:"0.00",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300"})]}),(0,sy.jsxs)("div",{children:[(0,sy.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 transition-colors duration-300",children:"Description (Optional)"}),(0,sy.jsx)("textarea",{value:C.description,onChange:e=>T({...C,description:e.target.value}),placeholder:"Additional notes about this account",rows:3,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300"})]}),(0,sy.jsxs)("div",{className:"flex space-x-3 pt-4",children:[(0,sy.jsx)("button",{type:"button",onClick:()=>{l(!1),U()},className:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors duration-300",children:"Cancel"}),(0,sy.jsx)("button",{type:"submit",disabled:w||!C.name||!C.subtype,className:"flex-1 bg-orange-500 hover:bg-orange-600 text-white px-4 py-2 rounded-lg transition-colors duration-300 disabled:opacity-50 disabled:cursor-not-allowed",children:w?"Adding...":"Add Account"})]})]})]})}),c&&y&&(0,sy.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-[70]",onClick:e=>{e.target===e.currentTarget&&(u(!1),f||v(null),U())},children:(0,sy.jsxs)("div",{className:"bg-white dark:bg-gray-900 rounded-2xl p-6 w-full max-w-2xl backdrop-blur-sm border border-gray-200 dark:border-gray-700",children:[(0,sy.jsx)("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-6 transition-colors duration-300",children:"Edit Account"}),(0,sy.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),s&&y&&!w&&C.name&&C.subtype)try{k(!0);const e=parseFloat(C.balance)||0,t=y.balance,r=e-t,n=Um(iy,"users",s.uid,"accounts",y.id);if(await Kg(n,{name:C.name,type:C.type,subtype:C.subtype,currency:C.currency,balance:e,description:C.description,updatedAt:(new Date).toISOString()}),Math.abs(r)>.01){const n=(new Date).toISOString(),a={type:"adjustment",amount:Math.abs(r),currency:C.currency,accountId:y.id,accountName:y.name,toAccountId:null,category:"Balance Reconciliation",paymentMode:"Manual Adjustment",notes:`Balance adjusted from ${t.toFixed(2)} to ${e.toFixed(2)} (${r>0?"+":""}${r.toFixed(2)})`,date:n,isIncrease:r>0,userId:s.uid,createdAt:n,updatedAt:n};await Gg(zm(iy,"users",s.uid,"transactions"),a)}u(!1),f||v(null),U()}catch(t){console.error("Error updating account:",t),alert("Error updating account. Please try again.")}finally{k(!1)}},className:"space-y-6",children:[(0,sy.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,sy.jsxs)("div",{children:[(0,sy.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 transition-colors duration-300",children:"Account Name"}),(0,sy.jsx)("input",{type:"text",value:C.name,onChange:e=>T({...C,name:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300",required:!0})]}),(0,sy.jsxs)("div",{children:[(0,sy.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 transition-colors duration-300",children:"Account Type"}),(0,sy.jsx)("select",{value:C.type,onChange:e=>T({...C,type:e.target.value,subtype:""}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300",children:Object.entries(zH).map(e=>{let[t,r]=e;return(0,sy.jsx)("option",{value:t,children:r.label},t)})})]})]}),(0,sy.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,sy.jsxs)("div",{children:[(0,sy.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 transition-colors duration-300",children:"Subtype"}),(0,sy.jsxs)("select",{value:C.subtype,onChange:e=>T({...C,subtype:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300",required:!0,children:[(0,sy.jsx)("option",{value:"",children:"Select subtype"}),UH[C.type].map(e=>(0,sy.jsx)("option",{value:e,children:e},e))]})]}),(0,sy.jsxs)("div",{children:[(0,sy.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 transition-colors duration-300",children:"Currency"}),(0,sy.jsx)("select",{value:C.currency,onChange:e=>T({...C,currency:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300",children:zH[C.type].currencies.map(e=>(0,sy.jsx)("option",{value:e,children:e},e))})]})]}),(0,sy.jsxs)("div",{children:[(0,sy.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 transition-colors duration-300",children:"Current Balance"}),(0,sy.jsx)("input",{type:"number",step:"0.01",value:C.balance,onChange:e=>T({...C,balance:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300"})]}),(0,sy.jsxs)("div",{children:[(0,sy.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 transition-colors duration-300",children:"Description (Optional)"}),(0,sy.jsx)("textarea",{value:C.description,onChange:e=>T({...C,description:e.target.value}),rows:3,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300"})]}),(0,sy.jsxs)("div",{className:"flex space-x-3 pt-4",children:[(0,sy.jsx)("button",{type:"button",onClick:()=>{u(!1),f||v(null),U()},className:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors duration-300",children:"Cancel"}),(0,sy.jsx)("button",{type:"submit",disabled:w||!C.name||!C.subtype,className:"flex-1 bg-orange-500 hover:bg-orange-600 text-white px-4 py-2 rounded-lg transition-colors duration-300 disabled:opacity-50 disabled:cursor-not-allowed",children:w?"Updating...":"Update Account"})]})]})]})}),d&&y&&(0,sy.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",onClick:e=>{e.target===e.currentTarget&&(h(!1),v(null),O({deleteTransactions:!1}))},children:(0,sy.jsxs)("div",{className:"bg-white dark:bg-gray-900 rounded-2xl p-6 w-full max-w-md backdrop-blur-sm border border-gray-200 dark:border-gray-700",children:[(0,sy.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,sy.jsx)("div",{className:"w-10 h-10 bg-red-100 dark:bg-red-500/20 rounded-lg flex items-center justify-center",children:(0,sy.jsx)(av,{className:"w-5 h-5 text-red-600 dark:text-red-400"})}),(0,sy.jsx)("h2",{className:"text-xl font-bold text-gray-900 dark:text-white transition-colors duration-300",children:"Delete Account"})]}),(0,sy.jsxs)("p",{className:"text-gray-600 dark:text-gray-400 mb-6 transition-colors duration-300",children:["Are you sure you want to delete ",(0,sy.jsxs)("strong",{children:['"',y.name,'"']}),"? This action cannot be undone."]}),(0,sy.jsx)("div",{className:"bg-yellow-50 dark:bg-yellow-500/10 border border-yellow-200 dark:border-yellow-500/20 rounded-lg p-4 mb-6",children:(0,sy.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,sy.jsx)(av,{className:"w-5 h-5 text-yellow-600 dark:text-yellow-400 flex-shrink-0 mt-0.5"}),(0,sy.jsxs)("div",{children:[(0,sy.jsx)("h3",{className:"text-sm font-medium text-yellow-800 dark:text-yellow-300 mb-2",children:"What happens to transactions?"}),(0,sy.jsxs)("label",{className:"flex items-start space-x-3",children:[(0,sy.jsx)("input",{type:"checkbox",checked:I.deleteTransactions,onChange:e=>O({...I,deleteTransactions:e.target.checked}),className:"mt-0.5 w-4 h-4 text-orange-600 bg-gray-100 border-gray-300 rounded focus:ring-orange-500 dark:focus:ring-orange-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"}),(0,sy.jsxs)("div",{children:[(0,sy.jsx)("span",{className:"text-sm text-yellow-700 dark:text-yellow-300 block",children:"Delete all transactions from this account"}),(0,sy.jsx)("span",{className:"text-xs text-yellow-600 dark:text-yellow-400 block mt-1",children:I.deleteTransactions?"All transaction history will be permanently lost":"Transactions will be kept but marked as from deleted account"})]})]})]})]})}),(0,sy.jsxs)("div",{className:"flex space-x-3",children:[(0,sy.jsx)("button",{type:"button",onClick:()=>{h(!1),v(null),O({deleteTransactions:!1})},className:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors duration-300",children:"Cancel"}),(0,sy.jsx)("button",{onClick:async()=>{if(s&&y&&!w)try{k(!0);const e=ty(iy);if(I.deleteTransactions){const t=Ag(zm(iy,"users",s.uid,"transactions"),Cg("accountId","==",y.id));(await qg(t)).docs.forEach(t=>{e.delete(t.ref)})}else{const t=Ag(zm(iy,"users",s.uid,"transactions"),Cg("accountId","==",y.id));(await qg(t)).docs.forEach(t=>{e.update(t.ref,{accountDeleted:!0,accountDeletedAt:(new Date).toISOString()})})}const t=Um(iy,"users",s.uid,"accounts",y.id);e.update(t,{isDeleted:!0,deletedAt:(new Date).toISOString()}),await e.commit(),h(!1),v(null),O({deleteTransactions:!1})}catch(e){console.error("Error deleting account:",e),alert("Error deleting account. Please try again.")}finally{k(!1)}},disabled:w,className:"flex-1 bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg transition-colors duration-300 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:w?(0,sy.jsxs)(sy.Fragment,{children:[(0,sy.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),(0,sy.jsx)("span",{children:"Deleting..."})]}):(0,sy.jsxs)(sy.Fragment,{children:[(0,sy.jsx)(rv,{className:"w-4 h-4"}),(0,sy.jsx)("span",{children:"Delete Account"})]})})]})]})}),f&&y&&(0,sy.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-end md:items-center justify-center p-0 md:p-4 z-[60]",onClick:e=>{e.target===e.currentTarget&&(p(!1),v(null))},children:(0,sy.jsxs)("div",{className:"bg-white dark:bg-gray-900 w-full h-[calc(100vh-5rem)] md:h-auto md:max-h-[90vh] md:max-w-4xl md:rounded-2xl flex flex-col backdrop-blur-sm border-t border-gray-200 dark:border-gray-700 md:border rounded-t-2xl md:rounded-t-2xl",children:[(0,sy.jsxs)("div",{className:"md:hidden flex-shrink-0 bg-white dark:bg-gray-900 z-10 border-b border-gray-200 dark:border-gray-700",children:[(0,sy.jsxs)("div",{className:"flex items-center justify-between p-4",children:[(0,sy.jsxs)("div",{className:"flex items-center space-x-3 min-w-0 flex-1",children:[(0,sy.jsx)("div",{className:"w-12 h-12 rounded-2xl flex items-center justify-center transition-colors duration-300 flex-shrink-0 "+("bank"===y.type?"bg-blue-100 dark:bg-blue-500/20":"bg-orange-100 dark:bg-orange-500/20"),children:t.createElement(F(y.type,y.subtype),{className:"w-6 h-6 "+("bank"===y.type?"text-blue-600 dark:text-blue-400":"text-orange-600 dark:text-orange-400")})}),(0,sy.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,sy.jsx)("h2",{className:"text-xl font-bold text-gray-900 dark:text-white transition-colors duration-300 truncate",children:y.name}),(0,sy.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400 transition-colors duration-300 truncate",children:[y.subtype||("crypto"===y.type?"USD Account":"Bank Account")," \u2022 ",y.currency]})]})]}),(0,sy.jsx)("button",{onClick:()=>{p(!1),v(null)},className:"p-3 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-xl transition-colors duration-300 flex-shrink-0",children:(0,sy.jsx)(zy,{className:"w-6 h-6 text-gray-600 dark:text-gray-400"})})]}),(0,sy.jsx)("div",{className:"px-4 pb-4",children:(0,sy.jsxs)("div",{className:"bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-800 dark:to-gray-700 rounded-2xl p-4",children:[(0,sy.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Current Balance"}),(0,sy.jsx)("div",{className:"text-3xl font-bold mb-2 "+(y.balance<0?"text-red-600 dark:text-red-400":"text-gray-900 dark:text-white"),children:R(y.balance,y.currency)}),"USD"===y.currency&&(0,sy.jsxs)("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:["\u2248 ",R(L(y.balance,"USD"),"INR")]}),(0,sy.jsxs)("div",{className:"flex items-center space-x-2 mt-4",children:[(0,sy.jsxs)("button",{onClick:()=>$(y),className:"flex-1 bg-orange-500 hover:bg-orange-600 text-white py-3 rounded-xl flex items-center justify-center space-x-2 text-sm font-medium transition-colors duration-300",children:[(0,sy.jsx)(Xy,{className:"w-4 h-4"}),(0,sy.jsx)("span",{children:"Add Transaction"})]}),(0,sy.jsxs)("button",{onClick:()=>B(y),className:"flex-1 bg-gray-500 hover:bg-gray-600 text-white py-3 rounded-xl flex items-center justify-center space-x-2 text-sm font-medium transition-colors duration-300",children:[(0,sy.jsx)(tv,{className:"w-4 h-4"}),(0,sy.jsx)("span",{children:"Edit Account"})]})]})]})})]}),(0,sy.jsx)("div",{className:"hidden md:block p-6 border-b border-gray-200 dark:border-gray-700",children:(0,sy.jsxs)("div",{className:"flex items-center justify-between",children:[(0,sy.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,sy.jsx)("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center "+("bank"===y.type?"bg-blue-100 dark:bg-blue-500/20":"bg-orange-100 dark:bg-orange-500/20"),children:t.createElement(F(y.type,y.subtype),{className:"w-6 h-6 "+("bank"===y.type?"text-blue-600 dark:text-blue-400":"text-orange-600 dark:text-orange-400")})}),(0,sy.jsxs)("div",{children:[(0,sy.jsx)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:y.name}),(0,sy.jsxs)("p",{className:"text-gray-600 dark:text-gray-400",children:[y.subtype||("crypto"===y.type?"USD Account":"Bank Account")," \u2022 ",y.currency]})]})]}),(0,sy.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,sy.jsxs)("button",{onClick:()=>$(y),className:"bg-orange-500 hover:bg-orange-600 text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors duration-300",children:[(0,sy.jsx)(Xy,{className:"w-4 h-4"}),(0,sy.jsx)("span",{children:"Add Transaction"})]}),(0,sy.jsxs)("button",{onClick:()=>B(y),className:"bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors duration-300",children:[(0,sy.jsx)(tv,{className:"w-4 h-4"}),(0,sy.jsx)("span",{children:"Edit"})]}),(0,sy.jsx)("button",{onClick:()=>{p(!1),v(null)},className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors duration-300",children:(0,sy.jsx)(zy,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})})]})]})}),(0,sy.jsx)("div",{className:"flex-1 overflow-y-auto md:p-6 min-h-0",children:(0,sy.jsxs)("div",{className:"md:grid md:grid-cols-5 md:gap-6",children:[(0,sy.jsxs)("div",{className:"p-4 md:p-0 md:col-span-2",children:[(0,sy.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Account Information"}),(0,sy.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-1 gap-4",children:[(0,sy.jsxs)("div",{className:"md:hidden bg-gray-50 dark:bg-gray-800 rounded-xl p-3",children:[(0,sy.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Type"}),(0,sy.jsx)("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"bank"===y.type?"Bank Account":"USD Account"})]}),(0,sy.jsxs)("div",{className:"md:hidden bg-gray-50 dark:bg-gray-800 rounded-xl p-3",children:[(0,sy.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Subtype"}),(0,sy.jsx)("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:y.subtype||"N/A"})]}),(0,sy.jsxs)("div",{className:"md:hidden bg-gray-50 dark:bg-gray-800 rounded-xl p-3",children:[(0,sy.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Currency"}),(0,sy.jsx)("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:y.currency})]}),(0,sy.jsxs)("div",{className:"md:hidden bg-gray-50 dark:bg-gray-800 rounded-xl p-3",children:[(0,sy.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Created"}),(0,sy.jsx)("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:new Date(y.createdAt).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"2-digit"})})]})]}),(0,sy.jsxs)("div",{className:"hidden md:block space-y-4",children:[(0,sy.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-lg p-4",children:[(0,sy.jsx)("div",{className:"mb-2",children:(0,sy.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Current Balance"})}),(0,sy.jsx)("div",{className:"text-2xl font-bold "+(y.balance<0?"text-red-600 dark:text-red-400":"text-gray-900 dark:text-white"),children:R(y.balance,y.currency)}),"USD"===y.currency&&(0,sy.jsxs)("div",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:["\u2248 ",R(L(y.balance,"USD"),"INR")]})]}),(0,sy.jsxs)("div",{className:"space-y-3",children:[(0,sy.jsxs)("div",{className:"flex justify-between",children:[(0,sy.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Type"}),(0,sy.jsx)("span",{className:"text-gray-900 dark:text-white font-medium",children:"bank"===y.type?"Bank Account":"USD Account"})]}),(0,sy.jsxs)("div",{className:"flex justify-between",children:[(0,sy.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Subtype"}),(0,sy.jsx)("span",{className:"text-gray-900 dark:text-white font-medium",children:y.subtype||"N/A"})]}),(0,sy.jsxs)("div",{className:"flex justify-between",children:[(0,sy.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Currency"}),(0,sy.jsx)("span",{className:"text-gray-900 dark:text-white font-medium",children:y.currency})]}),(0,sy.jsxs)("div",{className:"flex justify-between",children:[(0,sy.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Created"}),(0,sy.jsx)("span",{className:"text-gray-900 dark:text-white font-medium",children:new Date(y.createdAt).toLocaleDateString("en-IN")})]}),(0,sy.jsxs)("div",{className:"flex justify-between",children:[(0,sy.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Last Activity"}),(0,sy.jsx)("span",{className:"text-gray-900 dark:text-white font-medium",children:new Date(y.lastActivityAt||y.updatedAt).toLocaleDateString("en-IN")})]})]}),y.description&&(0,sy.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-lg p-4",children:[(0,sy.jsx)("h4",{className:"text-sm font-medium text-gray-900 dark:text-white mb-2",children:"Description"}),(0,sy.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:y.description})]})]}),y.description&&(0,sy.jsxs)("div",{className:"mt-4 md:hidden",children:[(0,sy.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:"Description"}),(0,sy.jsx)("div",{className:"text-sm text-gray-900 dark:text-white bg-gray-50 dark:bg-gray-800 rounded-xl p-3",children:y.description})]})]}),(0,sy.jsxs)("div",{className:"p-4 md:p-0 border-t border-gray-200 dark:border-gray-700 md:border-t-0 md:col-span-3",children:[(0,sy.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,sy.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white flex items-center",children:[(0,sy.jsx)(DH,{className:"w-5 h-5 mr-2"}),"Transactions (",i.filter(e=>e.accountId===y.id||e.toAccountId===y.id).length,")"]})}),(0,sy.jsx)("div",{className:"space-y-3 md:max-h-96 md:overflow-y-auto",children:(()=>{const e=i.filter(e=>e.accountId===y.id||e.toAccountId===y.id).sort((e,t)=>new Date(t.date)-new Date(e.date));return 0===e.length?(0,sy.jsxs)("div",{className:"text-center py-12",children:[(0,sy.jsx)(DH,{className:"w-12 h-12 text-gray-400 dark:text-gray-600 mx-auto mb-4"}),(0,sy.jsx)("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"No transactions yet"}),(0,sy.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Transactions for this account will appear here"})]}):(0,sy.jsx)(sy.Fragment,{children:e.map(e=>{const t=(e=>{switch(e){case"income":return Ky;case"expense":return Wy;case"transfer":return Gy;case"adjustment":return WU;default:return DH}})(e.type),r="expense"===e.type||"transfer"===e.type&&e.accountId===y.id||"adjustment"===e.type&&!e.isIncrease;return(0,sy.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-2xl md:rounded-lg p-4 md:p-3 border border-gray-200 dark:border-gray-700",children:[(0,sy.jsxs)("div",{className:"md:hidden",children:[(0,sy.jsx)("div",{className:"flex items-start justify-between mb-3",children:(0,sy.jsxs)("div",{className:"flex items-center space-x-3 min-w-0 flex-1",children:[(0,sy.jsx)("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center flex-shrink-0 "+("income"===e.type?"bg-green-100 dark:bg-green-500/20":"expense"===e.type?"bg-red-100 dark:bg-red-500/20":"transfer"===e.type?"bg-blue-100 dark:bg-blue-500/20":"bg-orange-100 dark:bg-orange-500/20"),children:(0,sy.jsx)(t,{className:`w-5 h-5 ${z(e.type)}`})}),(0,sy.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,sy.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,sy.jsx)("span",{className:"text-sm font-semibold text-gray-900 dark:text-white truncate",children:e.category}),(0,sy.jsx)("span",{className:"text-xs px-2 py-1 rounded-lg font-medium "+("income"===e.type?"bg-green-100 dark:bg-green-500/20 text-green-700 dark:text-green-300":"expense"===e.type?"bg-red-100 dark:bg-red-500/20 text-red-700 dark:text-red-300":"transfer"===e.type?"bg-blue-100 dark:bg-blue-500/20 text-blue-700 dark:text-blue-300":"bg-orange-100 dark:bg-orange-500/20 text-orange-700 dark:text-orange-300"),children:e.type})]}),(0,sy.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:e.paymentMode}),(0,sy.jsxs)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:[new Date(e.date).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"})," at ",new Date(e.date).toLocaleTimeString("en-IN",{hour:"2-digit",minute:"2-digit"})]})]})]})}),(0,sy.jsx)("div",{className:"flex items-center justify-between",children:(0,sy.jsxs)("div",{className:"text-xl font-bold "+(r?"text-red-600 dark:text-red-400":"text-green-600 dark:text-green-400"),children:[r?"-":"+",R(e.amount,e.currency)]})}),e.notes&&(0,sy.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400 bg-white dark:bg-gray-700 rounded-xl p-3 mt-3",children:e.notes})]}),(0,sy.jsxs)("div",{className:"hidden md:block",children:[(0,sy.jsxs)("div",{className:"flex items-center justify-between",children:[(0,sy.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,sy.jsx)("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center "+("income"===e.type?"bg-green-100 dark:bg-green-500/20":"expense"===e.type?"bg-red-100 dark:bg-red-500/20":"transfer"===e.type?"bg-blue-100 dark:bg-blue-500/20":"bg-orange-100 dark:bg-orange-500/20"),children:(0,sy.jsx)(t,{className:`w-4 h-4 ${z(e.type)}`})}),(0,sy.jsxs)("div",{children:[(0,sy.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,sy.jsx)("span",{className:"font-medium text-gray-900 dark:text-white",children:e.category}),(0,sy.jsx)("span",{className:"text-xs px-2 py-1 rounded font-medium "+("income"===e.type?"bg-green-100 dark:bg-green-500/20 text-green-700 dark:text-green-300":"expense"===e.type?"bg-red-100 dark:bg-red-500/20 text-red-700 dark:text-red-300":"transfer"===e.type?"bg-blue-100 dark:bg-blue-500/20 text-blue-700 dark:text-blue-300":"bg-orange-100 dark:bg-orange-500/20 text-orange-700 dark:text-orange-300"),children:e.type})]}),(0,sy.jsxs)("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[e.paymentMode," \u2022 ",new Date(e.date).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"})," \u2022 ",new Date(e.date).toLocaleTimeString("en-IN",{hour:"2-digit",minute:"2-digit",hour12:!0}).toLowerCase()]})]})]}),(0,sy.jsx)("div",{className:"text-right",children:(0,sy.jsxs)("div",{className:"font-bold "+(r?"text-red-600 dark:text-red-400":"text-green-600 dark:text-green-400"),children:[r?"-":"+",R(e.amount,e.currency)]})})]}),e.notes&&(0,sy.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400 mt-2 pl-11",children:e.notes})]})]},e.id)})})})()})]})]})})]})}),m&&y&&(0,sy.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-[80]",onClick:e=>{e.target===e.currentTarget&&(g(!1),H())},children:(0,sy.jsxs)("div",{className:"bg-white dark:bg-gray-900 rounded-2xl p-6 w-full max-w-2xl backdrop-blur-sm border border-gray-200 dark:border-gray-700",children:[(0,sy.jsxs)("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-6 transition-colors duration-300",children:["Add Transaction - ",y.name]}),(0,sy.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),s&&!w&&D.amount&&D.accountId&&D.category)try{k(!0);const e={type:D.type,amount:parseFloat(D.amount),currency:D.currency,accountId:D.accountId,accountName:y.name,toAccountId:D.toAccountId||null,category:D.category,paymentMode:D.paymentMode,notes:D.notes,date:new Date(D.date).toISOString(),isIncrease:D.isIncrease,userId:s.uid,createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString()};await Gg(zm(iy,"users",s.uid,"transactions"),e);const t=parseFloat(D.amount),r=Um(iy,"users",s.uid,"accounts",D.accountId),n=a.find(e=>e.id===D.accountId);if(n){let e=n.balance;switch(D.type){case"income":e+=t;break;case"expense":e-=t;break;case"transfer":if(e-=t,D.toAccountId){const e=Um(iy,"users",s.uid,"accounts",D.toAccountId),r=a.find(e=>e.id===D.toAccountId);r&&await Kg(e,{balance:r.balance+t,lastActivityAt:(new Date).toISOString(),updatedAt:(new Date).toISOString()})}break;case"adjustment":e+=D.isIncrease?t:-t}await Kg(r,{balance:e,lastActivityAt:(new Date).toISOString(),updatedAt:(new Date).toISOString()})}g(!1),H()}catch(t){console.error("Error adding transaction:",t),alert("Error adding transaction. Please try again.")}finally{k(!1)}},className:"space-y-6",children:[(0,sy.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,sy.jsxs)("div",{children:[(0,sy.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 transition-colors duration-300",children:"Transaction Type"}),(0,sy.jsxs)("select",{value:D.type,onChange:e=>M({...D,type:e.target.value,category:"",toAccountId:""}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300",children:[(0,sy.jsx)("option",{value:"expense",children:"Expense"}),(0,sy.jsx)("option",{value:"income",children:"Income"}),(0,sy.jsx)("option",{value:"transfer",children:"Transfer"}),(0,sy.jsx)("option",{value:"adjustment",children:"Adjustment"})]})]}),(0,sy.jsxs)("div",{children:[(0,sy.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 transition-colors duration-300",children:"Amount"}),(0,sy.jsx)("input",{type:"number",step:"0.01",value:D.amount,onChange:e=>M({...D,amount:e.target.value}),placeholder:"0.00",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300",required:!0})]})]}),(0,sy.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,sy.jsxs)("div",{children:[(0,sy.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 transition-colors duration-300",children:"Category"}),(0,sy.jsxs)("select",{value:D.category,onChange:e=>M({...D,category:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300",required:!0,children:[(0,sy.jsx)("option",{value:"",children:"Select category"}),null===(r=LH[D.type])||void 0===r?void 0:r.map(e=>(0,sy.jsx)("option",{value:e,children:e},e))]})]}),(0,sy.jsxs)("div",{children:[(0,sy.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 transition-colors duration-300",children:"Payment Mode"}),(0,sy.jsxs)("select",{value:D.paymentMode,onChange:e=>M({...D,paymentMode:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300",required:!0,children:[(0,sy.jsx)("option",{value:"",children:"Select payment mode"}),null===(n=FH[y.type])||void 0===n?void 0:n.map(e=>(0,sy.jsx)("option",{value:e,children:e},e))]})]})]}),"transfer"===D.type&&(0,sy.jsxs)("div",{children:[(0,sy.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 transition-colors duration-300",children:"To Account"}),(0,sy.jsxs)("select",{value:D.toAccountId,onChange:e=>M({...D,toAccountId:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300",required:!0,children:[(0,sy.jsx)("option",{value:"",children:"Select destination account"}),a.filter(e=>e.id!==y.id).map(e=>(0,sy.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),"adjustment"===D.type&&(0,sy.jsxs)("div",{children:[(0,sy.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 transition-colors duration-300",children:"Adjustment Type"}),(0,sy.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,sy.jsxs)("label",{className:"flex items-center",children:[(0,sy.jsx)("input",{type:"radio",name:"adjustmentType",checked:D.isIncrease,onChange:()=>M({...D,isIncrease:!0}),className:"mr-2"}),(0,sy.jsx)("span",{className:"text-green-600 dark:text-green-400",children:"Increase Balance"})]}),(0,sy.jsxs)("label",{className:"flex items-center",children:[(0,sy.jsx)("input",{type:"radio",name:"adjustmentType",checked:!D.isIncrease,onChange:()=>M({...D,isIncrease:!1}),className:"mr-2"}),(0,sy.jsx)("span",{className:"text-red-600 dark:text-red-400",children:"Decrease Balance"})]})]})]}),(0,sy.jsxs)("div",{children:[(0,sy.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 transition-colors duration-300",children:"Date & Time"}),(0,sy.jsx)("input",{type:"datetime-local",value:D.date,onChange:e=>M({...D,date:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300",required:!0})]}),(0,sy.jsxs)("div",{children:[(0,sy.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 transition-colors duration-300",children:"Notes (Optional)"}),(0,sy.jsx)("textarea",{value:D.notes,onChange:e=>M({...D,notes:e.target.value}),placeholder:"Additional details about this transaction",rows:3,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300"})]}),(0,sy.jsxs)("div",{className:"flex space-x-3 pt-4",children:[(0,sy.jsx)("button",{type:"button",onClick:()=>{g(!1),H()},className:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors duration-300",children:"Cancel"}),(0,sy.jsx)("button",{type:"submit",disabled:w||!D.amount||!D.category,className:"flex-1 bg-orange-500 hover:bg-orange-600 text-white px-4 py-2 rounded-lg transition-colors duration-300 disabled:opacity-50 disabled:cursor-not-allowed",children:w?"Adding...":"Add Transaction"})]})]})]})}),(0,sy.jsxs)("button",{onClick:()=>l(!0),className:"fixed bottom-4 right-4 sm:bottom-6 sm:right-6 w-12 h-12 sm:w-14 sm:h-14 bg-orange-500 hover:bg-orange-600 text-white rounded-full shadow-lg dark:shadow-2xl transition-all duration-300 flex items-center justify-center group transform hover:-translate-y-1 hover:shadow-xl dark:hover:shadow-3xl",children:[(0,sy.jsx)(Xy,{className:"w-5 h-5 sm:w-6 sm:h-6"}),(0,sy.jsx)("span",{className:"absolute right-14 sm:right-16 top-1/2 transform -translate-y-1/2 bg-gray-900 dark:bg-black text-white px-2 sm:px-3 py-1 sm:py-2 rounded-lg text-xs sm:text-sm whitespace-nowrap opacity-0 group-hover:opacity-100 transition-all duration-300 shadow-lg dark:shadow-2xl pointer-events-none hidden sm:block",children:"Add Account"})]})]})};var BH=r(1561),$H=r.n(BH);const HH=gy("video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]),qH=gy("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),KH=gy("cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]),WH=gy("phone",[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]]),GH=gy("shopping-bag",[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]]),YH=gy("wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]),QH=gy("briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]),XH=gy("book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]]),JH=gy("package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]),ZH=gy("pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]),eq=gy("play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]),tq=gy("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),rq=gy("bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]),nq=gy("grid-3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]),aq=gy("list",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]),iq=gy("chevron-up",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),sq={Entertainment:{icon:HH,color:"red",services:["Netflix","Disney+","Prime Video","YouTube Premium","Hotstar","Apple TV+","HBO Max","Spotify","Apple Music","Other Entertainment"]},"AI Tools":{icon:qH,color:"green",services:["ChatGPT","Claude","Midjourney","GitHub Copilot","Notion AI","Grammarly","Other AI Tools"]},"Cloud Storage":{icon:KH,color:"blue",services:["iCloud","Google One","Dropbox","OneDrive","Box","Other Storage"]},Communication:{icon:WH,color:"purple",services:["Telegram Premium","WhatsApp Business","Slack","Discord Nitro","Zoom Pro","Other Communication"]},Shopping:{icon:GH,color:"pink",services:["Amazon Prime","Flipkart Plus","Other Shopping"]},Utilities:{icon:YH,color:"indigo",services:["Airtel","Jio","Vi","Internet","Other Utilities"]},Productivity:{icon:QH,color:"yellow",services:["Microsoft 365","Adobe Creative","Canva Pro","Figma","Other Productivity"]},"News & Reading":{icon:XH,color:"gray",services:["Kindle Unlimited","Medium","The Hindu","Times Prime","Other News"]},Finance:{icon:WU,color:"emerald",services:["Truecaller Premium","Banking Apps","Investment Apps","Other Finance"]},Other:{icon:JH,color:"slate",services:["Other Services"]}},oq=[{value:"monthly",label:"Monthly",months:1},{value:"quarterly",label:"Quarterly",months:3},{value:"half-yearly",label:"Half Yearly",months:6},{value:"yearly",label:"Yearly",months:12}];const lq=function(e){var r,n,a;let{accounts:i}=e;const{currentUser:s}=ly(),[o,l]=(0,t.useState)([]),[c,u]=(0,t.useState)(!1),[d,h]=(0,t.useState)(!1),[f,p]=(0,t.useState)(!1),[m,g]=(0,t.useState)(!1),[y,v]=(0,t.useState)(null),[x,b]=(0,t.useState)(!1),[w,k]=(0,t.useState)(null),[j,N]=(0,t.useState)("list"),[S,E]=(0,t.useState)(new Set(["Entertainment","AI Tools"])),[A,_]=(0,t.useState)("all"),[C,T]=(0,t.useState)(""),[I,O]=(0,t.useState)(!1),[P,D]=(0,t.useState)({name:"",category:"Entertainment",serviceName:"",amount:"",currency:"INR",accountId:"",billingCycle:"monthly",nextBillingDate:(new Date).toISOString().split("T")[0],description:"",isActive:!0,notifyBeforeDays:2,autoRenew:!0}),[M,R]=(0,t.useState)({deleteTransactions:!1});(0,t.useEffect)(()=>{if(!s)return;let e;return(async()=>{try{const t=Ag(zm(iy,"users",s.uid,"subscriptions"),Og("nextBillingDate","asc"));e=Yg(t,e=>{const t=e.docs.map(e=>({id:e.id,...e.data()}));l(t)},e=>{console.error("Error loading subscriptions:",e)})}catch(t){console.error("Error setting up subscription listener:",t)}})(),()=>{e&&e()}},[s]),(0,t.useEffect)(()=>{if(!s||0===o.length)return;let e=!0;return(async()=>{if(!e)return;const t=new Date;t.setHours(0,0,0,0);const r=o.filter(e=>{if(!e.isActive||!e.autoRenew)return!1;const r=new Date(e.nextBillingDate);return r.setHours(0,0,0,0),r<=t&&(!e.lastProcessedDate||new Date(e.lastProcessedDate).toDateString()!==t.toDateString())});if(r.length>0&&e){console.log(`Found ${r.length} due subscriptions`);for(const t of r){if(!e)break;await $(t)}}})(),()=>{e=!1}},[o,s]);const L=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"INR";return new Intl.NumberFormat("en-IN",{style:"currency",currency:t,minimumFractionDigits:"USD"===t?2:0,maximumFractionDigits:"USD"===t?2:0}).format(e)},F=(e,t)=>"USD"===t?84*e:e,z=(e,t)=>{const r=new Date(e),n=oq.find(e=>e.value===t);return r.setMonth(r.getMonth()+((null===n||void 0===n?void 0:n.months)||1)),r.toISOString().split("T")[0]},U=e=>{const t=new Date;t.setHours(0,0,0,0);const r=new Date(e);r.setHours(0,0,0,0);const n=r-t;return Math.ceil(n/864e5)},V=()=>o.filter(e=>e.isActive).reduce((e,t)=>{const r="yearly"===t.billingCycle?t.amount/12:"quarterly"===t.billingCycle?t.amount/3:"half-yearly"===t.billingCycle?t.amount/6:t.amount;return e+F(r,t.currency)},0),B=()=>{const e={};return o.filter(e=>e.isActive).forEach(t=>{const r=t.category||"Other",n="yearly"===t.billingCycle?t.amount/12:"quarterly"===t.billingCycle?t.amount/3:"half-yearly"===t.billingCycle?t.amount/6:t.amount,a=F(n,t.currency);e[r]=(e[r]||0)+a}),Object.entries(e).sort((e,t)=>{let[,r]=e,[,n]=t;return n-r}).map(e=>{let[t,r]=e;return{category:t,amount:r}})},$=async e=>{if(s&&e)try{const t=ty(iy),r={type:"expense",amount:e.amount,amountInINR:F(e.amount,e.currency),currency:e.currency,exchangeRate:"USD"===e.currency?84:1,accountId:e.accountId,accountName:e.accountName,category:"Subscriptions",paymentMode:"Auto Debit",notes:`Subscription: ${e.name}`,date:(new Date).toISOString(),userId:s.uid,subscriptionId:e.id,createdAt:(new Date).toISOString()},n=Um(zm(iy,"users",s.uid,"transactions"));t.set(n,r);const a=Um(iy,"users",s.uid,"accounts",e.accountId);t.update(a,{balance:ey(-e.amount),lastActivityAt:(new Date).toISOString(),updatedAt:(new Date).toISOString()});const i=Um(iy,"users",s.uid,"subscriptions",e.id);t.update(i,{lastBillingDate:(new Date).toISOString(),lastProcessedDate:(new Date).toISOString(),nextBillingDate:z(e.nextBillingDate,e.billingCycle),totalSpent:ey(e.amount),transactionCount:ey(1),updatedAt:(new Date).toISOString()}),await t.commit(),console.log(`Processed subscription: ${e.name}`)}catch(t){console.error("Error processing subscription:",t)}},H=async e=>{if(s)try{const t=Um(iy,"users",s.uid,"subscriptions",e.id);await Kg(t,{isActive:!e.isActive,updatedAt:(new Date).toISOString()})}catch(t){console.error("Error toggling subscription:",t)}},q=()=>{D({name:"",category:"Entertainment",serviceName:"",amount:"",currency:"INR",accountId:"",billingCycle:"monthly",nextBillingDate:(new Date).toISOString().split("T")[0],description:"",isActive:!0,notifyBeforeDays:2,autoRenew:!0})},K=e=>{v(e),D({name:e.name,category:e.category||"Other",serviceName:e.serviceName||"",amount:e.amount.toString(),currency:e.currency,accountId:e.accountId,billingCycle:e.billingCycle,nextBillingDate:e.nextBillingDate,description:e.description||"",isActive:e.isActive,notifyBeforeDays:e.notifyBeforeDays,autoRenew:e.autoRenew}),h(!0),k(null)},W=e=>{v(e),p(!0),k(null)},G=e=>{v(e),g(!0),k(null)};(0,t.useEffect)(()=>{const e=()=>k(null);return document.addEventListener("click",e),()=>document.removeEventListener("click",e)},[]);const Y=o.reduce((e,t)=>{const r=t.category||"Other";return e[r]||(e[r]=[]),e[r].push(t),e},{}),Q=o.filter(e=>{const t="all"===A||e.category===A,r=e.name.toLowerCase().includes(C.toLowerCase())||e.serviceName&&e.serviceName.toLowerCase().includes(C.toLowerCase());return t&&r}),X=e=>{const t=sq[e.category]||sq.Other,r=t.icon,n=t.color,a=U(e.nextBillingDate),s=i.find(t=>t.id===e.accountId),o=a<=0;return(0,sy.jsxs)(sy.Fragment,{children:[(0,sy.jsxs)("div",{className:`hidden sm:block border border-gray-200 dark:border-white/10 rounded-xl p-4 transition-all duration-300 hover:shadow-md dark:hover:shadow-xl ${e.isActive?"":"opacity-60"} ${o?"ring-2 ring-orange-500 ring-opacity-50":""}`,children:[(0,sy.jsxs)("div",{className:"flex items-start justify-between",children:[(0,sy.jsxs)("div",{className:"flex items-start space-x-4 flex-1 min-w-0",children:[(0,sy.jsx)("div",{className:`w-12 h-12 rounded-xl bg-${n}-100 dark:bg-${n}-500/20 flex items-center justify-center flex-shrink-0`,children:(0,sy.jsx)(r,{className:`w-6 h-6 text-${n}-600 dark:text-${n}-400`})}),(0,sy.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,sy.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,sy.jsx)("h4",{className:"font-semibold text-gray-900 dark:text-white truncate",children:e.name}),!e.isActive&&(0,sy.jsx)("span",{className:"px-2 py-0.5 text-xs bg-gray-200 dark:bg-gray-700 text-gray-600 dark:text-gray-400 rounded-full whitespace-nowrap",children:"Paused"}),o&&e.isActive&&(0,sy.jsx)("span",{className:"px-2 py-0.5 text-xs bg-orange-100 dark:bg-orange-500/20 text-orange-600 dark:text-orange-400 rounded-full whitespace-nowrap",children:"Due"})]}),(0,sy.jsxs)("div",{className:"flex items-center space-x-4 mt-1 text-sm text-gray-600 dark:text-gray-400",children:[(0,sy.jsx)("span",{className:"truncate",children:e.serviceName||e.category}),(0,sy.jsx)("span",{children:"\u2022"}),(0,sy.jsx)("span",{className:"capitalize whitespace-nowrap",children:e.billingCycle}),e.isActive&&(0,sy.jsxs)(sy.Fragment,{children:[(0,sy.jsx)("span",{children:"\u2022"}),(0,sy.jsx)("span",{className:"whitespace-nowrap "+(a<=3?"text-orange-600 dark:text-orange-400 font-medium":""),children:0===a?"Due today":a<0?`Overdue by ${Math.abs(a)} days`:1===a?"Due tomorrow":`Due in ${a} days`})]})]}),(0,sy.jsxs)("div",{className:"flex items-center space-x-2 mt-2",children:[(0,sy.jsx)(yy,{className:"w-4 h-4 text-gray-400"}),(0,sy.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400 truncate",children:(null===s||void 0===s?void 0:s.name)||e.accountName||"Unknown Account"})]})]})]}),(0,sy.jsxs)("div",{className:"flex items-start space-x-3 flex-shrink-0",children:[(0,sy.jsxs)("div",{className:"text-right",children:[(0,sy.jsx)("p",{className:"font-semibold text-gray-900 dark:text-white",children:L(e.amount,e.currency)}),"INR"!==e.currency&&(0,sy.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["\u2248 ",L(F(e.amount,e.currency))]})]}),(0,sy.jsxs)("div",{className:"relative",children:[(0,sy.jsx)("button",{onClick:t=>{t.stopPropagation(),k(w===e.id?null:e.id)},className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors duration-300",children:(0,sy.jsx)(ev,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})}),w===e.id&&(0,sy.jsxs)("div",{className:"absolute right-0 mt-2 w-48 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 py-1 z-10",children:[o&&e.isActive&&(0,sy.jsxs)(sy.Fragment,{children:[(0,sy.jsxs)("button",{onClick:()=>G(e),className:"w-full text-left px-4 py-2 text-sm text-orange-600 dark:text-orange-400 hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center space-x-2 transition-colors duration-300",children:[(0,sy.jsx)(My,{className:"w-4 h-4"}),(0,sy.jsx)("span",{children:"Process Now"})]}),(0,sy.jsx)("div",{className:"border-t border-gray-200 dark:border-gray-700 my-1"})]}),(0,sy.jsxs)("button",{onClick:()=>H(e),className:"w-full text-left px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center space-x-2 transition-colors duration-300",children:[e.isActive?(0,sy.jsx)(ZH,{className:"w-4 h-4"}):(0,sy.jsx)(eq,{className:"w-4 h-4"}),(0,sy.jsx)("span",{children:e.isActive?"Pause":"Resume"})]}),(0,sy.jsxs)("button",{onClick:()=>K(e),className:"w-full text-left px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center space-x-2 transition-colors duration-300",children:[(0,sy.jsx)(tv,{className:"w-4 h-4"}),(0,sy.jsx)("span",{children:"Edit"})]}),(0,sy.jsx)("div",{className:"border-t border-gray-200 dark:border-gray-700 my-1"}),(0,sy.jsxs)("button",{onClick:()=>W(e),className:"w-full text-left px-4 py-2 text-sm text-red-600 dark:text-red-400 hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center space-x-2 transition-colors duration-300",children:[(0,sy.jsx)(rv,{className:"w-4 h-4"}),(0,sy.jsx)("span",{children:"Delete"})]})]})]})]})]}),e.description&&(0,sy.jsx)("p",{className:"mt-3 text-sm text-gray-600 dark:text-gray-400 bg-gray-50 dark:bg-white/5 rounded-lg p-2",children:e.description}),(0,sy.jsxs)("div",{className:"mt-3 flex items-center justify-between text-xs text-gray-500 dark:text-gray-400",children:[(0,sy.jsx)("span",{children:e.totalSpent>0?`Total spent: ${L(e.totalSpent,e.currency)}`:"No transactions yet"}),(0,sy.jsxs)("span",{children:["Next billing: ",new Date(e.nextBillingDate).toLocaleDateString("en-IN")]})]})]},e.id),(0,sy.jsxs)("div",{className:`sm:hidden bg-white dark:bg-white/5 rounded-xl p-3 border border-gray-200 dark:border-white/10 hover:shadow-md dark:hover:shadow-xl transition-all duration-300 ${e.isActive?"":"opacity-60"} ${o?"ring-2 ring-orange-500 ring-opacity-50":""}`,children:[(0,sy.jsxs)("div",{className:"flex items-start mb-3",children:[(0,sy.jsxs)("div",{className:"flex items-start space-x-3 flex-1 min-w-0 pr-2",children:[(0,sy.jsx)("div",{className:`w-10 h-10 rounded-lg bg-${n}-100 dark:bg-${n}-500/20 flex items-center justify-center flex-shrink-0`,children:(0,sy.jsx)(r,{className:`w-5 h-5 text-${n}-600 dark:text-${n}-400`})}),(0,sy.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,sy.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,sy.jsx)("h4",{className:"text-sm font-semibold text-gray-900 dark:text-white truncate",children:e.name}),!e.isActive&&(0,sy.jsx)("span",{className:"px-2 py-0.5 text-xs bg-gray-200 dark:bg-gray-700 text-gray-600 dark:text-gray-400 rounded-full whitespace-nowrap",children:"Paused"}),o&&e.isActive&&(0,sy.jsx)("span",{className:"px-2 py-0.5 text-xs bg-orange-100 dark:bg-orange-500/20 text-orange-600 dark:text-orange-400 rounded-full whitespace-nowrap",children:"Due"})]}),(0,sy.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:e.serviceName||e.category}),(0,sy.jsx)("p",{className:"text-xs text-gray-400 dark:text-gray-500 capitalize",children:e.billingCycle})]})]}),(0,sy.jsxs)("div",{className:"flex items-start flex-shrink-0",children:[(0,sy.jsxs)("div",{className:"text-right mr-1",children:[(0,sy.jsx)("p",{className:"text-sm font-bold text-gray-900 dark:text-white",children:L(e.amount,e.currency)}),"INR"!==e.currency&&(0,sy.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["\u2248 ",L(F(e.amount,e.currency))]}),(0,sy.jsx)("p",{className:"text-xs font-medium "+(a<=3?"text-orange-600 dark:text-orange-400":"text-gray-600 dark:text-gray-400"),children:e.isActive?0===a?"Due today":a<0?`Overdue ${Math.abs(a)}d`:1===a?"Due tomorrow":`Due in ${a}d`:"Paused"})]}),(0,sy.jsxs)("div",{className:"relative",children:[(0,sy.jsx)("button",{onClick:t=>{t.stopPropagation(),k(w===e.id?null:e.id)},className:"p-1 hover:bg-gray-100 dark:hover:bg-gray-700 rounded transition-colors duration-300",children:(0,sy.jsx)(ev,{className:"w-4 h-4 text-gray-600 dark:text-gray-400"})}),w===e.id&&(0,sy.jsxs)("div",{className:"absolute right-0 mt-2 w-36 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 py-1 z-10",children:[o&&e.isActive&&(0,sy.jsxs)(sy.Fragment,{children:[(0,sy.jsxs)("button",{onClick:()=>G(e),className:"w-full text-left px-3 py-2 text-xs text-orange-600 dark:text-orange-400 hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center space-x-2 transition-colors duration-300",children:[(0,sy.jsx)(My,{className:"w-3 h-3"}),(0,sy.jsx)("span",{children:"Process"})]}),(0,sy.jsx)("div",{className:"border-t border-gray-200 dark:border-gray-700 my-1"})]}),(0,sy.jsxs)("button",{onClick:()=>H(e),className:"w-full text-left px-3 py-2 text-xs text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center space-x-2 transition-colors duration-300",children:[e.isActive?(0,sy.jsx)(ZH,{className:"w-3 h-3"}):(0,sy.jsx)(eq,{className:"w-3 h-3"}),(0,sy.jsx)("span",{children:e.isActive?"Pause":"Resume"})]}),(0,sy.jsxs)("button",{onClick:()=>K(e),className:"w-full text-left px-3 py-2 text-xs text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center space-x-2 transition-colors duration-300",children:[(0,sy.jsx)(tv,{className:"w-3 h-3"}),(0,sy.jsx)("span",{children:"Edit"})]}),(0,sy.jsx)("div",{className:"border-t border-gray-200 dark:border-gray-700 my-1"}),(0,sy.jsxs)("button",{onClick:()=>W(e),className:"w-full text-left px-3 py-2 text-xs text-red-600 dark:text-red-400 hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center space-x-2 transition-colors duration-300",children:[(0,sy.jsx)(rv,{className:"w-3 h-3"}),(0,sy.jsx)("span",{children:"Delete"})]})]})]})]})]}),(0,sy.jsx)("div",{className:"border-t border-gray-100 dark:border-white/10 pt-3 mt-3",children:(0,sy.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[(0,sy.jsxs)("div",{children:[(0,sy.jsx)("span",{className:"text-gray-500 dark:text-gray-400 block mb-1",children:"Account"}),(0,sy.jsx)("p",{className:"text-gray-900 dark:text-white font-medium truncate",children:(null===s||void 0===s?void 0:s.name)||e.accountName||"Unknown Account"})]}),(0,sy.jsxs)("div",{children:[(0,sy.jsx)("span",{className:"text-gray-500 dark:text-gray-400 block mb-1",children:"Next billing"}),(0,sy.jsx)("p",{className:"text-gray-900 dark:text-white font-medium",children:new Date(e.nextBillingDate).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"2-digit"})})]}),e.totalSpent>0&&(0,sy.jsxs)("div",{className:"col-span-2",children:[(0,sy.jsx)("span",{className:"text-gray-500 dark:text-gray-400 block mb-1",children:"Total spent"}),(0,sy.jsx)("p",{className:"text-gray-900 dark:text-white font-medium",children:L(e.totalSpent,e.currency)})]})]})}),e.description&&(0,sy.jsx)("div",{className:"mt-3 pt-3 border-t border-gray-100 dark:border-white/10",children:(0,sy.jsx)("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:e.description})})]},`mobile-${e.id}`)]})},J=o.filter(e=>e.isActive).map(e=>({...e,daysUntil:U(e.nextBillingDate)})).filter(e=>e.daysUntil>=0&&e.daysUntil<=7).sort((e,t)=>e.daysUntil-t.daysUntil);return(0,sy.jsxs)("div",{className:"p-6 space-y-6 animate-fade-in relative min-h-screen transition-all duration-500",children:[(0,sy.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,sy.jsxs)("div",{children:[(0,sy.jsx)("h1",{className:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-white transition-colors duration-300",children:"Subscriptions"}),(0,sy.jsx)("p",{className:"text-sm sm:text-base text-gray-600 dark:text-gray-400 transition-colors duration-300",children:"Manage your recurring payments"})]}),(0,sy.jsxs)("div",{className:"flex items-center gap-2",children:[(0,sy.jsx)("button",{onClick:()=>O(!I),className:"p-2 rounded-lg shadow-sm dark:shadow-lg hover:shadow-md dark:hover:shadow-xl transition-all duration-300 backdrop-blur-sm border flex items-center justify-center "+(I?"bg-orange-500 text-white border-orange-500":"bg-white dark:bg-white/5 text-gray-600 dark:text-gray-400 border-gray-200 dark:border-white/10"),children:(0,sy.jsx)(KU,{className:"w-4 h-4"})}),(0,sy.jsxs)("button",{onClick:()=>u(!0),className:"bg-orange-500 hover:bg-orange-600 text-white px-3 py-2 rounded-lg flex items-center gap-1 transition-all duration-300 transform hover:-translate-y-0.5 shadow-md dark:shadow-lg text-sm",children:[(0,sy.jsx)(Xy,{className:"w-4 h-4"}),(0,sy.jsx)("span",{className:"hidden sm:inline",children:"Add Subscription"}),(0,sy.jsx)("span",{className:"sm:hidden",children:"Add"})]})]})]}),(0,sy.jsxs)("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4",children:[(0,sy.jsxs)("div",{className:"bg-white dark:bg-white/5 rounded-xl p-3 sm:p-4 backdrop-blur-sm shadow-lg dark:shadow-2xl transition-all duration-300 hover:transform hover:scale-[1.02]",children:[(0,sy.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,sy.jsx)("h3",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-400",children:"Active Subscriptions"}),(0,sy.jsx)("div",{className:"w-6 h-6 sm:w-8 sm:h-8 bg-blue-100 dark:bg-blue-500/20 rounded-lg flex items-center justify-center",children:(0,sy.jsx)(My,{className:"w-3 h-3 sm:w-4 sm:h-4 text-blue-600 dark:text-blue-400"})})]}),(0,sy.jsx)("p",{className:"text-lg sm:text-2xl font-bold text-gray-900 dark:text-white",children:o.filter(e=>e.isActive).length}),(0,sy.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-0.5 sm:mt-1",children:[o.filter(e=>!e.isActive).length," paused"]})]}),(0,sy.jsxs)("div",{className:"bg-white dark:bg-white/5 rounded-xl p-3 sm:p-4 backdrop-blur-sm shadow-lg dark:shadow-2xl transition-all duration-300 hover:transform hover:scale-[1.02]",children:[(0,sy.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,sy.jsx)("h3",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-400",children:"Due this week"}),(0,sy.jsx)("div",{className:"w-6 h-6 sm:w-8 sm:h-8 bg-red-100 dark:bg-red-500/20 rounded-lg flex items-center justify-center",children:(0,sy.jsx)(tq,{className:"w-3 h-3 sm:w-4 sm:h-4 text-red-600 dark:text-red-400"})})]}),(0,sy.jsx)("p",{className:"text-lg sm:text-2xl font-bold text-gray-900 dark:text-white",children:J.length}),(0,sy.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-0.5 sm:mt-1 truncate",children:J.length>0?`Next: ${J[0].name}`:"No upcoming"})]}),(0,sy.jsxs)("div",{className:"bg-white dark:bg-white/5 rounded-xl p-3 sm:p-4 backdrop-blur-sm shadow-lg dark:shadow-2xl transition-all duration-300 hover:transform hover:scale-[1.02]",children:[(0,sy.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,sy.jsx)("h3",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-400",children:"Monthly Spend"}),(0,sy.jsx)("div",{className:"w-6 h-6 sm:w-8 sm:h-8 bg-green-100 dark:bg-green-500/20 rounded-lg flex items-center justify-center",children:(0,sy.jsx)(WU,{className:"w-3 h-3 sm:w-4 sm:h-4 text-green-600 dark:text-green-400"})})]}),(0,sy.jsx)("p",{className:"text-lg sm:text-2xl font-bold text-gray-900 dark:text-white",children:L(V())}),(0,sy.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-0.5 sm:mt-1",children:"Estimated total"})]}),(0,sy.jsxs)("div",{className:"bg-white dark:bg-white/5 rounded-xl p-3 sm:p-4 backdrop-blur-sm shadow-lg dark:shadow-2xl transition-all duration-300 hover:transform hover:scale-[1.02]",children:[(0,sy.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,sy.jsx)("h3",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-400",children:"Yearly Projection"}),(0,sy.jsx)("div",{className:"w-6 h-6 sm:w-8 sm:h-8 bg-orange-100 dark:bg-orange-500/20 rounded-lg flex items-center justify-center",children:(0,sy.jsx)(xy,{className:"w-3 h-3 sm:w-4 sm:h-4 text-orange-600 dark:text-orange-400"})})]}),(0,sy.jsx)("p",{className:"text-lg sm:text-2xl font-bold text-gray-900 dark:text-white",children:L(o.filter(e=>e.isActive).reduce((e,t)=>{const r="monthly"===t.billingCycle?12*t.amount:"quarterly"===t.billingCycle?4*t.amount:"half-yearly"===t.billingCycle?2*t.amount:t.amount;return e+F(r,t.currency)},0))}),(0,sy.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-0.5 sm:mt-1",children:"Based on current"})]})]}),I&&(0,sy.jsx)("div",{className:"bg-white dark:bg-white/5 rounded-2xl p-4 backdrop-blur-sm shadow-lg dark:shadow-2xl transition-all duration-300",children:(0,sy.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,sy.jsx)("div",{className:"flex-1",children:(0,sy.jsxs)("div",{className:"relative",children:[(0,sy.jsx)(GU,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,sy.jsx)("input",{type:"text",value:C,onChange:e=>T(e.target.value),placeholder:"Search subscriptions...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300"})]})}),(0,sy.jsx)("div",{className:"flex gap-2",children:(0,sy.jsxs)("select",{value:A,onChange:e=>_(e.target.value),className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300",children:[(0,sy.jsx)("option",{value:"all",children:"All Categories"}),Object.keys(sq).map(e=>(0,sy.jsx)("option",{value:e,children:e},e))]})})]})}),J.length>0&&(0,sy.jsx)("div",{className:"sm:hidden bg-yellow-50 dark:bg-yellow-500/10 border border-yellow-200 dark:border-yellow-500/20 rounded-lg p-3",children:(0,sy.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,sy.jsx)(rq,{className:"w-4 h-4 text-yellow-600 dark:text-yellow-400 flex-shrink-0 mt-0.5"}),(0,sy.jsxs)("div",{className:"flex-1",children:[(0,sy.jsx)("h3",{className:"text-xs font-medium text-yellow-800 dark:text-yellow-300 mb-1",children:"Upcoming Bills"}),(0,sy.jsx)("div",{className:"space-y-1",children:J.slice(0,2).map(e=>(0,sy.jsxs)("div",{className:"flex items-center justify-between text-xs",children:[(0,sy.jsxs)("span",{className:"text-yellow-700 dark:text-yellow-400 truncate mr-2",children:[e.name," - ",0===e.daysUntil?"Due today":1===e.daysUntil?"Due tomorrow":`in ${e.daysUntil} days`]}),(0,sy.jsx)("span",{className:"font-medium text-yellow-800 dark:text-yellow-300 whitespace-nowrap",children:L(e.amount,e.currency)})]},e.id))})]})]})}),J.length>0&&(0,sy.jsx)("div",{className:"hidden sm:block bg-yellow-50 dark:bg-yellow-500/10 border border-yellow-200 dark:border-yellow-500/20 rounded-lg p-4",children:(0,sy.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,sy.jsx)(rq,{className:"w-5 h-5 text-yellow-600 dark:text-yellow-400 flex-shrink-0 mt-0.5"}),(0,sy.jsxs)("div",{className:"flex-1",children:[(0,sy.jsx)("h3",{className:"text-sm font-medium text-yellow-800 dark:text-yellow-300 mb-2",children:"Upcoming Billings This Week"}),(0,sy.jsx)("div",{className:"space-y-1",children:J.slice(0,3).map(e=>(0,sy.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,sy.jsxs)("span",{className:"text-yellow-700 dark:text-yellow-400",children:[e.name," - ",0===e.daysUntil?"Due today":`in ${e.daysUntil} days`]}),(0,sy.jsx)("span",{className:"font-medium text-yellow-800 dark:text-yellow-300",children:L(e.amount,e.currency)})]},e.id))})]})]})}),(0,sy.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,sy.jsxs)("div",{className:"lg:col-span-2 space-y-4",children:[(0,sy.jsx)("div",{className:"bg-white dark:bg-white/5 rounded-2xl backdrop-blur-sm shadow-lg dark:shadow-2xl transition-all duration-300",children:(0,sy.jsxs)("div",{className:"p-4 sm:p-6",children:[(0,sy.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,sy.jsx)("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 dark:text-white",children:"Your Subscriptions"}),(0,sy.jsxs)("div",{className:"flex bg-white dark:bg-white/5 rounded-lg p-1 shadow-sm dark:shadow-lg backdrop-blur-sm border border-gray-200 dark:border-white/10",children:[(0,sy.jsx)("button",{onClick:()=>N("category"),className:"p-1.5 rounded-md transition-all duration-300 flex items-center justify-center "+("category"===j?"bg-orange-500 text-white shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"),children:(0,sy.jsx)(nq,{className:"w-4 h-4"})}),(0,sy.jsx)("button",{onClick:()=>N("list"),className:"p-1.5 rounded-md transition-all duration-300 flex items-center justify-center "+("list"===j?"bg-orange-500 text-white shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"),children:(0,sy.jsx)(aq,{className:"w-4 h-4"})})]})]}),0===Q.length?(0,sy.jsxs)("div",{className:"text-center py-12",children:[(0,sy.jsx)(My,{className:"w-12 h-12 text-gray-400 dark:text-gray-600 mx-auto mb-4"}),(0,sy.jsx)("p",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No subscriptions yet"}),(0,sy.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-6",children:"Add your first subscription to start tracking recurring payments"}),(0,sy.jsxs)("button",{onClick:()=>u(!0),className:"bg-orange-500 hover:bg-orange-600 text-white px-6 py-3 rounded-lg inline-flex items-center space-x-2 transition-all duration-300 transform hover:-translate-y-0.5 shadow-md",children:[(0,sy.jsx)(Xy,{className:"w-5 h-5"}),(0,sy.jsx)("span",{children:"Add Your First Subscription"})]})]}):(0,sy.jsx)(sy.Fragment,{children:"category"===j?(0,sy.jsx)("div",{className:"space-y-4",children:Object.entries(sq).map(e=>{let[t,r]=e;const n=Y[t]||[],a=n.filter(e=>""===C||e.name.toLowerCase().includes(C.toLowerCase())||e.serviceName&&e.serviceName.toLowerCase().includes(C.toLowerCase()));if(0===a.length&&C)return null;const i=(e=>(Y[e]||[]).filter(e=>e.isActive).reduce((e,t)=>{const r="yearly"===t.billingCycle?t.amount/12:"quarterly"===t.billingCycle?t.amount/3:"half-yearly"===t.billingCycle?t.amount/6:t.amount;return e+F(r,t.currency)},0))(t),s=r.icon,o=S.has(t);return(0,sy.jsxs)("div",{className:"border border-gray-200 dark:border-white/10 rounded-xl overflow-hidden",children:[(0,sy.jsxs)("button",{onClick:()=>(e=>{const t=new Set(S);t.has(e)?t.delete(e):t.add(e),E(t)})(t),className:"w-full p-4 flex items-center justify-between hover:bg-gray-50 dark:hover:bg-white/5 transition-colors duration-300",children:[(0,sy.jsxs)("div",{className:"flex items-center space-x-3 flex-1 min-w-0",children:[(0,sy.jsx)("div",{className:`w-10 h-10 rounded-xl bg-${r.color}-100 dark:bg-${r.color}-500/20 flex items-center justify-center flex-shrink-0`,children:(0,sy.jsx)(s,{className:`w-5 h-5 text-${r.color}-600 dark:text-${r.color}-400`})}),(0,sy.jsxs)("div",{className:"text-left flex-1 min-w-0",children:[(0,sy.jsx)("h3",{className:"font-semibold text-gray-900 dark:text-white truncate",children:t}),(0,sy.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400 truncate",children:[n.length," subscriptions \u2022 ",L(i),"/month"]})]})]}),(0,sy.jsxs)("div",{className:"flex items-center space-x-2 flex-shrink-0",children:[(0,sy.jsx)("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:L(i)}),o?(0,sy.jsx)(iq,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"}):(0,sy.jsx)(Vy,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})]})]}),o&&(0,sy.jsx)("div",{className:"border-t border-gray-200 dark:border-white/10 p-4 space-y-3",children:a.length>0?a.map(X):(0,sy.jsx)("p",{className:"text-center text-gray-500 dark:text-gray-400 py-8",children:"No subscriptions in this category"})})]},t)})}):(0,sy.jsx)("div",{className:"space-y-3",children:Q.map(X)})})]})}),(0,sy.jsx)("div",{className:"bg-blue-50 dark:bg-blue-500/10 border border-blue-200 dark:border-blue-500/20 rounded-lg p-4",children:(0,sy.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,sy.jsx)(nV,{className:"w-5 h-5 text-blue-600 dark:text-blue-400 flex-shrink-0 mt-0.5"}),(0,sy.jsxs)("div",{children:[(0,sy.jsx)("h4",{className:"text-sm font-medium text-blue-800 dark:text-blue-300 mb-1",children:"How Subscriptions Work"}),(0,sy.jsxs)("ul",{className:"text-xs text-blue-700 dark:text-blue-400 space-y-1",children:[(0,sy.jsx)("li",{children:"\u2022 Subscriptions automatically create expense transactions on their billing date"}),(0,sy.jsx)("li",{children:"\u2022 Account balances are updated when subscriptions are processed"}),(0,sy.jsx)("li",{children:"\u2022 You'll be notified before each billing based on your preferences"}),(0,sy.jsx)("li",{children:"\u2022 Pause subscriptions temporarily without losing your settings"})]})]})]})})]}),(0,sy.jsxs)("div",{className:"space-y-4",children:[(0,sy.jsxs)("div",{className:"bg-white dark:bg-white/5 rounded-2xl p-4 sm:p-6 backdrop-blur-sm shadow-lg dark:shadow-2xl transition-all duration-300",children:[(0,sy.jsx)("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 dark:text-white mb-3 sm:mb-4",children:"Spending by Category"}),B().length>0?(0,sy.jsx)("div",{className:"space-y-3",children:B().map(e=>{let{category:t,amount:r}=e;const n=r/V()*100;return(0,sy.jsxs)("div",{children:[(0,sy.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,sy.jsx)("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:t}),(0,sy.jsx)("span",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:L(r)})]}),(0,sy.jsx)("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:(0,sy.jsx)("div",{className:"h-2 rounded-full bg-gradient-to-r from-orange-500 to-orange-600 transition-all duration-500",style:{width:`${n}%`}})})]},t)})}):(0,sy.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400 text-center py-4",children:"No active subscriptions"})]}),(0,sy.jsxs)("div",{className:"bg-white dark:bg-white/5 rounded-2xl p-4 sm:p-6 backdrop-blur-sm shadow-lg dark:shadow-2xl transition-all duration-300",children:[(0,sy.jsx)("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 dark:text-white mb-3 sm:mb-4",children:"Quick Stats"}),(0,sy.jsxs)("div",{className:"space-y-3",children:[(0,sy.jsxs)("div",{className:"flex items-center justify-between",children:[(0,sy.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Average per subscription"}),(0,sy.jsx)("span",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:L(o.filter(e=>e.isActive).length>0?V()/o.filter(e=>e.isActive).length:0)})]}),(0,sy.jsxs)("div",{className:"flex items-center justify-between",children:[(0,sy.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Most expensive"}),(0,sy.jsx)("span",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:o.length>0?o.reduce((e,t)=>F(t.amount,t.currency)>F(e.amount,e.currency)?t:e).name:"-"})]}),(0,sy.jsxs)("div",{className:"flex items-center justify-between",children:[(0,sy.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Yearly subscriptions"}),(0,sy.jsx)("span",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:o.filter(e=>"yearly"===e.billingCycle).length})]}),(0,sy.jsxs)("div",{className:"flex items-center justify-between",children:[(0,sy.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total subscriptions"}),(0,sy.jsx)("span",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:o.length})]})]})]})]})]}),c&&(0,sy.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50 py-8 md:py-16",onClick:e=>{e.target===e.currentTarget&&(u(!1),q())},children:(0,sy.jsxs)("div",{className:"bg-white dark:bg-gray-900 rounded-2xl p-4 md:p-6 w-full max-w-md md:max-w-2xl max-h-[90vh] md:max-h-[80vh] overflow-y-auto backdrop-blur-sm border border-gray-200 dark:border-gray-700 shadow-2xl",children:[(0,sy.jsx)("h2",{className:"text-lg md:text-xl font-bold text-gray-900 dark:text-white mb-4 md:mb-6",children:"Add Subscription"}),(0,sy.jsxs)("div",{className:"space-y-3 md:space-y-4",children:[(0,sy.jsxs)("div",{children:[(0,sy.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1.5 md:mb-2",children:"Subscription Name"}),(0,sy.jsx)("input",{type:"text",value:P.name,onChange:e=>D({...P,name:e.target.value}),placeholder:"e.g., Netflix Premium, ChatGPT Plus",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300",required:!0})]}),(0,sy.jsxs)("div",{className:"grid grid-cols-2 gap-3 md:gap-6",children:[(0,sy.jsxs)("div",{children:[(0,sy.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1.5 md:mb-2",children:"Category"}),(0,sy.jsx)("select",{value:P.category,onChange:e=>D({...P,category:e.target.value,serviceName:""}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300",required:!0,children:Object.keys(sq).map(e=>(0,sy.jsx)("option",{value:e,children:e},e))})]}),(0,sy.jsxs)("div",{children:[(0,sy.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1.5 md:mb-2",children:"Service (Optional)"}),(0,sy.jsxs)("select",{value:P.serviceName,onChange:e=>D({...P,serviceName:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300",children:[(0,sy.jsx)("option",{value:"",children:"Select service (optional)"}),null===(r=sq[P.category])||void 0===r?void 0:r.services.map(e=>(0,sy.jsx)("option",{value:e,children:e},e))]})]})]}),(0,sy.jsxs)("div",{className:"grid grid-cols-2 gap-3 md:gap-6",children:[(0,sy.jsxs)("div",{children:[(0,sy.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1.5 md:mb-2",children:"Amount"}),(0,sy.jsx)("input",{type:"number",step:"0.01",value:P.amount,onChange:e=>D({...P,amount:e.target.value}),placeholder:"0.00",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300",required:!0})]}),(0,sy.jsxs)("div",{children:[(0,sy.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1.5 md:mb-2",children:"Debit Account"}),(0,sy.jsxs)("select",{value:P.accountId,onChange:e=>{const t=i.find(t=>t.id===e.target.value);D({...P,accountId:e.target.value,currency:(null===t||void 0===t?void 0:t.currency)||"INR"})},className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300",required:!0,children:[(0,sy.jsx)("option",{value:"",children:"Select account"}),i.filter(e=>!e.isDeleted).map(e=>(0,sy.jsxs)("option",{value:e.id,children:[e.name," (",e.currency,")"]},e.id))]}),P.accountId&&(0,sy.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:["Currency: ",null===(n=i.find(e=>e.id===P.accountId))||void 0===n?void 0:n.currency]})]})]}),(0,sy.jsxs)("div",{className:"grid grid-cols-2 gap-3 md:gap-6",children:[(0,sy.jsxs)("div",{children:[(0,sy.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1.5 md:mb-2",children:"Billing Cycle"}),(0,sy.jsx)("select",{value:P.billingCycle,onChange:e=>D({...P,billingCycle:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300",children:oq.map(e=>(0,sy.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,sy.jsxs)("div",{children:[(0,sy.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1.5 md:mb-2",children:"Next Billing Date"}),(0,sy.jsx)("input",{type:"date",value:P.nextBillingDate,onChange:e=>D({...P,nextBillingDate:e.target.value}),min:(new Date).toISOString().split("T")[0],className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300",required:!0})]})]}),(0,sy.jsxs)("div",{children:[(0,sy.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1.5 md:mb-2",children:"Description (Optional)"}),(0,sy.jsx)("textarea",{value:P.description,onChange:e=>D({...P,description:e.target.value}),placeholder:"Add any notes about this subscription...",rows:1,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300"})]}),(0,sy.jsx)("div",{className:"flex items-center justify-between p-3 md:p-4 bg-gray-50 dark:bg-white/5 rounded-lg",children:(0,sy.jsxs)("div",{className:"flex items-center space-x-6",children:[(0,sy.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,sy.jsx)("input",{type:"checkbox",checked:P.autoRenew,onChange:e=>D({...P,autoRenew:e.target.checked}),className:"w-4 h-4 text-orange-600 bg-gray-100 border-gray-300 rounded focus:ring-orange-500 dark:focus:ring-orange-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"}),(0,sy.jsx)("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Auto-process on billing date"})]}),(0,sy.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,sy.jsx)("label",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Notify before"}),(0,sy.jsx)("input",{type:"number",min:"0",max:"30",value:P.notifyBeforeDays,onChange:e=>D({...P,notifyBeforeDays:parseInt(e.target.value)||0}),className:"w-16 px-2 py-1 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300"}),(0,sy.jsx)("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"days"})]})]})}),(0,sy.jsxs)("div",{className:"flex space-x-3 pt-4 md:pt-6",children:[(0,sy.jsx)("button",{type:"button",onClick:()=>{u(!1),q()},className:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors duration-300",children:"Cancel"}),(0,sy.jsx)("button",{onClick:async()=>{if(s&&!x&&P.name&&P.amount&&P.accountId)try{b(!0);const e=i.find(e=>e.id===P.accountId);if(!e)throw new Error("Account not found");const t={name:P.name,category:P.category,serviceName:P.serviceName||"",amount:parseFloat(P.amount),currency:e.currency,accountId:P.accountId,accountName:e.name,billingCycle:P.billingCycle,nextBillingDate:P.nextBillingDate,lastBillingDate:null,lastProcessedDate:null,description:P.description,isActive:P.isActive,notifyBeforeDays:P.notifyBeforeDays,autoRenew:P.autoRenew,totalSpent:0,transactionCount:0,userId:s.uid,createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString()};await Gg(zm(iy,"users",s.uid,"subscriptions"),t),u(!1),q()}catch(e){console.error("Error adding subscription:",e),alert("Error adding subscription. Please try again.")}finally{b(!1)}},disabled:x||!P.name||!P.amount||!P.accountId,className:"flex-1 bg-orange-500 hover:bg-orange-600 text-white px-4 py-2 rounded-lg transition-colors duration-300 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:x?(0,sy.jsxs)(sy.Fragment,{children:[(0,sy.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),(0,sy.jsx)("span",{children:"Adding..."})]}):(0,sy.jsxs)(sy.Fragment,{children:[(0,sy.jsx)(nv,{className:"w-4 h-4"}),(0,sy.jsx)("span",{children:"Add"})]})})]})]})]})}),d&&y&&(0,sy.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50 py-8 md:py-16",onClick:e=>{e.target===e.currentTarget&&(h(!1),v(null),q())},children:(0,sy.jsxs)("div",{className:"bg-white dark:bg-gray-900 rounded-2xl p-4 md:p-6 w-full max-w-md md:max-w-2xl max-h-[90vh] md:max-h-[80vh] overflow-y-auto backdrop-blur-sm border border-gray-200 dark:border-gray-700 shadow-2xl",children:[(0,sy.jsx)("h2",{className:"text-lg md:text-xl font-bold text-gray-900 dark:text-white mb-4 md:mb-6",children:"Edit Subscription"}),(0,sy.jsx)("div",{className:"bg-blue-50 dark:bg-blue-500/10 border border-blue-200 dark:border-blue-500/20 rounded-lg p-3 md:p-4 mb-4",children:(0,sy.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,sy.jsx)(nV,{className:"w-5 h-5 text-blue-600 dark:text-blue-400 flex-shrink-0 mt-0.5"}),(0,sy.jsxs)("div",{children:[(0,sy.jsx)("h3",{className:"text-sm font-medium text-blue-800 dark:text-blue-300 mb-1",children:"Full Edit Mode"}),(0,sy.jsx)("p",{className:"text-xs text-blue-700 dark:text-blue-400",children:"You can now edit all fields including amount, billing cycle, and account. This will not affect past transactions."})]})]})}),(0,sy.jsxs)("div",{className:"space-y-3 md:space-y-4",children:[(0,sy.jsxs)("div",{children:[(0,sy.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1.5 md:mb-2",children:"Subscription Name"}),(0,sy.jsx)("input",{type:"text",value:P.name,onChange:e=>D({...P,name:e.target.value}),placeholder:"e.g., Netflix Premium, ChatGPT Plus",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300",required:!0})]}),(0,sy.jsxs)("div",{className:"grid grid-cols-2 gap-3 md:gap-6",children:[(0,sy.jsxs)("div",{children:[(0,sy.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1.5 md:mb-2",children:"Category"}),(0,sy.jsx)("select",{value:P.category,onChange:e=>D({...P,category:e.target.value,serviceName:""}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300",required:!0,children:Object.keys(sq).map(e=>(0,sy.jsx)("option",{value:e,children:e},e))})]}),(0,sy.jsxs)("div",{children:[(0,sy.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1.5 md:mb-2",children:"Service (Optional)"}),(0,sy.jsxs)("select",{value:P.serviceName,onChange:e=>D({...P,serviceName:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300",children:[(0,sy.jsx)("option",{value:"",children:"Select service (optional)"}),null===(a=sq[P.category])||void 0===a?void 0:a.services.map(e=>(0,sy.jsx)("option",{value:e,children:e},e))]})]})]}),(0,sy.jsxs)("div",{className:"grid grid-cols-2 gap-3 md:gap-6",children:[(0,sy.jsxs)("div",{children:[(0,sy.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1.5 md:mb-2",children:"Amount"}),(0,sy.jsx)("input",{type:"number",step:"0.01",value:P.amount,onChange:e=>D({...P,amount:e.target.value}),placeholder:"0.00",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300",required:!0})]}),(0,sy.jsxs)("div",{children:[(0,sy.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1.5 md:mb-2",children:"Debit Account"}),(0,sy.jsxs)("select",{value:P.accountId,onChange:e=>{const t=i.find(t=>t.id===e.target.value);D({...P,accountId:e.target.value,currency:(null===t||void 0===t?void 0:t.currency)||P.currency})},className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300",required:!0,children:[(0,sy.jsx)("option",{value:"",children:"Select account"}),i.filter(e=>!e.isDeleted).map(e=>(0,sy.jsxs)("option",{value:e.id,children:[e.name," (",e.currency,")"]},e.id))]})]})]}),(0,sy.jsxs)("div",{className:"grid grid-cols-2 gap-3 md:gap-6",children:[(0,sy.jsxs)("div",{children:[(0,sy.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1.5 md:mb-2",children:"Billing Cycle"}),(0,sy.jsx)("select",{value:P.billingCycle,onChange:e=>D({...P,billingCycle:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300",children:oq.map(e=>(0,sy.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,sy.jsxs)("div",{children:[(0,sy.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1.5 md:mb-2",children:"Next Billing Date"}),(0,sy.jsx)("input",{type:"date",value:P.nextBillingDate,onChange:e=>D({...P,nextBillingDate:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300",required:!0})]})]}),(0,sy.jsxs)("div",{children:[(0,sy.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1.5 md:mb-2",children:"Description (Optional)"}),(0,sy.jsx)("textarea",{value:P.description,onChange:e=>D({...P,description:e.target.value}),placeholder:"Add any notes about this subscription...",rows:1,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300"})]}),(0,sy.jsx)("div",{className:"flex items-center justify-between p-3 md:p-4 bg-gray-50 dark:bg-white/5 rounded-lg",children:(0,sy.jsxs)("div",{className:"flex items-center space-x-6",children:[(0,sy.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,sy.jsx)("input",{type:"checkbox",checked:P.autoRenew,onChange:e=>D({...P,autoRenew:e.target.checked}),className:"w-4 h-4 text-orange-600 bg-gray-100 border-gray-300 rounded focus:ring-orange-500 dark:focus:ring-orange-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"}),(0,sy.jsx)("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Auto-process on billing date"})]}),(0,sy.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,sy.jsx)("label",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Notify before"}),(0,sy.jsx)("input",{type:"number",min:"0",max:"30",value:P.notifyBeforeDays,onChange:e=>D({...P,notifyBeforeDays:parseInt(e.target.value)||0}),className:"w-16 px-2 py-1 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300"}),(0,sy.jsx)("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"days"})]})]})}),(0,sy.jsxs)("div",{className:"flex space-x-3 pt-4 md:pt-6",children:[(0,sy.jsx)("button",{type:"button",onClick:()=>{h(!1),v(null),q()},className:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors duration-300",children:"Cancel"}),(0,sy.jsx)("button",{onClick:async()=>{if(s&&y&&!x)try{b(!0);const e=Um(iy,"users",s.uid,"subscriptions",y.id),t=i.find(e=>e.id===P.accountId);await Kg(e,{name:P.name,category:P.category,serviceName:P.serviceName,amount:parseFloat(P.amount),currency:(null===t||void 0===t?void 0:t.currency)||P.currency,accountId:P.accountId,accountName:(null===t||void 0===t?void 0:t.name)||P.accountName,billingCycle:P.billingCycle,nextBillingDate:P.nextBillingDate,description:P.description,isActive:P.isActive,notifyBeforeDays:P.notifyBeforeDays,autoRenew:P.autoRenew,updatedAt:(new Date).toISOString()}),h(!1),v(null),q()}catch(e){console.error("Error updating subscription:",e),alert("Error updating subscription. Please try again.")}finally{b(!1)}},disabled:x||!P.name||!P.amount||!P.accountId,className:"flex-1 bg-orange-500 hover:bg-orange-600 text-white px-4 py-2 rounded-lg transition-colors duration-300 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:x?(0,sy.jsxs)(sy.Fragment,{children:[(0,sy.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),(0,sy.jsx)("span",{children:"Updating..."})]}):(0,sy.jsxs)(sy.Fragment,{children:[(0,sy.jsx)(nv,{className:"w-4 h-4"}),(0,sy.jsx)("span",{children:"Update"})]})})]})]})]})}),f&&y&&(0,sy.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50 py-8 md:py-16",onClick:e=>{e.target===e.currentTarget&&(p(!1),v(null))},children:(0,sy.jsxs)("div",{className:"bg-white dark:bg-gray-900 rounded-2xl p-6 w-full max-w-md backdrop-blur-sm border border-gray-200 dark:border-gray-700",children:[(0,sy.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,sy.jsx)("div",{className:"w-10 h-10 bg-red-100 dark:bg-red-500/20 rounded-lg flex items-center justify-center",children:(0,sy.jsx)(av,{className:"w-5 h-5 text-red-600 dark:text-red-400"})}),(0,sy.jsx)("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Delete Subscription"})]}),(0,sy.jsxs)("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:["Are you sure you want to delete ",(0,sy.jsxs)("strong",{children:['"',y.name,'"']}),"? This action cannot be undone."]}),(0,sy.jsx)("div",{className:"bg-gray-50 dark:bg-white/5 rounded-lg p-4 mb-6",children:(0,sy.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"This will stop tracking this subscription but won't affect any existing transactions."})}),(0,sy.jsxs)("div",{className:"flex space-x-3",children:[(0,sy.jsx)("button",{type:"button",onClick:()=>{p(!1),v(null)},className:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors duration-300",children:"Cancel"}),(0,sy.jsx)("button",{onClick:async()=>{if(s&&y&&!x)try{b(!0);const e=Um(iy,"users",s.uid,"subscriptions",y.id);await Wg(e),p(!1),v(null)}catch(e){console.error("Error deleting subscription:",e),alert("Error deleting subscription. Please try again.")}finally{b(!1)}},disabled:x,className:"flex-1 bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg transition-colors duration-300 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:x?(0,sy.jsxs)(sy.Fragment,{children:[(0,sy.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),(0,sy.jsx)("span",{children:"Deleting..."})]}):(0,sy.jsxs)(sy.Fragment,{children:[(0,sy.jsx)(rv,{className:"w-4 h-4"}),(0,sy.jsx)("span",{children:"Delete Subscription"})]})})]})]})}),m&&y&&(0,sy.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50 py-8 md:py-16",onClick:e=>{e.target===e.currentTarget&&(g(!1),v(null))},children:(0,sy.jsxs)("div",{className:"bg-white dark:bg-gray-900 rounded-2xl p-6 w-full max-w-md backdrop-blur-sm border border-gray-200 dark:border-gray-700",children:[(0,sy.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,sy.jsx)("div",{className:"w-10 h-10 bg-orange-100 dark:bg-orange-500/20 rounded-lg flex items-center justify-center",children:(0,sy.jsx)(My,{className:"w-5 h-5 text-orange-600 dark:text-orange-400"})}),(0,sy.jsx)("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Process Subscription"})]}),(0,sy.jsxs)("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:["Process ",(0,sy.jsxs)("strong",{children:['"',y.name,'"']})," now? This will create an expense transaction and update your account balance."]}),(0,sy.jsxs)("div",{className:"bg-gray-50 dark:bg-white/5 rounded-lg p-4 mb-6 space-y-2",children:[(0,sy.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,sy.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Amount:"}),(0,sy.jsx)("span",{className:"font-medium text-gray-900 dark:text-white",children:L(y.amount,y.currency)})]}),(0,sy.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,sy.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Account:"}),(0,sy.jsx)("span",{className:"font-medium text-gray-900 dark:text-white",children:y.accountName})]}),(0,sy.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,sy.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Next billing:"}),(0,sy.jsx)("span",{className:"font-medium text-gray-900 dark:text-white",children:z(y.nextBillingDate,y.billingCycle)})]})]}),(0,sy.jsxs)("div",{className:"flex space-x-3",children:[(0,sy.jsx)("button",{type:"button",onClick:()=>{g(!1),v(null)},className:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors duration-300",children:"Cancel"}),(0,sy.jsx)("button",{onClick:async()=>{await $(y),g(!1),v(null)},disabled:x,className:"flex-1 bg-orange-500 hover:bg-orange-600 text-white px-4 py-2 rounded-lg transition-colors duration-300 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:x?(0,sy.jsxs)(sy.Fragment,{children:[(0,sy.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),(0,sy.jsx)("span",{children:"Processing..."})]}):(0,sy.jsxs)(sy.Fragment,{children:[(0,sy.jsx)(nv,{className:"w-4 h-4"}),(0,sy.jsx)("span",{children:"Process Now"})]})})]})]})}),(0,sy.jsx)("button",{onClick:()=>u(!0),className:"sm:hidden fixed bottom-6 right-6 w-12 h-12 bg-orange-500 hover:bg-orange-600 text-white rounded-full shadow-lg dark:shadow-2xl transition-all duration-300 flex items-center justify-center transform hover:-translate-y-1 hover:shadow-xl dark:hover:shadow-3xl",children:(0,sy.jsx)(Xy,{className:"w-5 h-5"})}),(0,sy.jsxs)("button",{onClick:()=>u(!0),className:"hidden sm:flex fixed bottom-6 right-6 w-14 h-14 bg-orange-500 hover:bg-orange-600 text-white rounded-full shadow-lg dark:shadow-2xl transition-all duration-300 items-center justify-center group transform hover:-translate-y-1 hover:shadow-xl dark:hover:shadow-3xl",children:[(0,sy.jsx)(Xy,{className:"w-6 h-6"}),(0,sy.jsx)("span",{className:"absolute right-16 bg-gray-900 dark:bg-black text-white px-3 py-2 rounded-lg text-sm whitespace-nowrap opacity-0 group-hover:opacity-100 transition-all duration-300 shadow-lg dark:shadow-2xl",children:"Add Subscription"})]})]})},cq=gy("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]),uq=gy("camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),dq=gy("pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]),hq=gy("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]),fq=e=>null!==e&&void 0!==e&&e.photoURL?e.photoURL:null,pq=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const r=[{bg:"from-orange-500 to-red-500",text:"text-white"},{bg:"from-blue-500 to-purple-500",text:"text-white"},{bg:"from-green-500 to-teal-500",text:"text-white"},{bg:"from-purple-500 to-pink-500",text:"text-white"},{bg:"from-yellow-500 to-orange-500",text:"text-white"},{bg:"from-indigo-500 to-blue-500",text:"text-white"},{bg:"from-pink-500 to-rose-500",text:"text-white"},{bg:"from-teal-500 to-cyan-500",text:"text-white"}];return{initials:(null===e||void 0===e?void 0:e.split(" ").map(e=>e.charAt(0)).join("").substring(0,2).toUpperCase())||"U",color:r[t%r.length]}},mq=[{id:"cat",emoji:"\ud83d\udc31",name:"Cat"},{id:"dog",emoji:"\ud83d\udc36",name:"Dog"},{id:"fox",emoji:"\ud83e\udd8a",name:"Fox"},{id:"panda",emoji:"\ud83d\udc3c",name:"Panda"},{id:"koala",emoji:"\ud83d\udc28",name:"Koala"},{id:"lion",emoji:"\ud83e\udd81",name:"Lion"},{id:"tiger",emoji:"\ud83d\udc2f",name:"Tiger"},{id:"monkey",emoji:"\ud83d\udc35",name:"Monkey"},{id:"rabbit",emoji:"\ud83d\udc30",name:"Rabbit"},{id:"bear",emoji:"\ud83d\udc3b",name:"Bear"},{id:"unicorn",emoji:"\ud83e\udd84",name:"Unicorn"},{id:"dragon",emoji:"\ud83d\udc32",name:"Dragon"},{id:"robot",emoji:"\ud83e\udd16",name:"Robot"},{id:"alien",emoji:"\ud83d\udc7d",name:"Alien"},{id:"ghost",emoji:"\ud83d\udc7b",name:"Ghost"},{id:"wizard",emoji:"\ud83e\uddd9\u200d\u2642\ufe0f",name:"Wizard"},{id:"ninja",emoji:"\ud83e\udd77",name:"Ninja"},{id:"detective",emoji:"\ud83d\udd75\ufe0f",name:"Detective"},{id:"astronaut",emoji:"\ud83d\udc68\u200d\ud83d\ude80",name:"Astronaut"},{id:"artist",emoji:"\ud83c\udfa8",name:"Artist"},{id:"musician",emoji:"\ud83c\udfb5",name:"Musician"},{id:"chef",emoji:"\ud83d\udc68\u200d\ud83c\udf73",name:"Chef"},{id:"scientist",emoji:"\ud83e\uddea",name:"Scientist"},{id:"developer",emoji:"\ud83d\udcbb",name:"Developer"}];const gq=function(){var e;const{currentUser:r,logout:n}=ly(),[a,i]=(0,t.useState)(!1),[s,o]=(0,t.useState)("profile"),[l,c]=(0,t.useState)(!1),[u,d]=(0,t.useState)(!1),[h,f]=(0,t.useState)(!1),[p,m]=(0,t.useState)(""),[g,y]=(0,t.useState)(!1),[v,x]=(0,t.useState)(""),[b,w]=(0,t.useState)(!1),[k,j]=(0,t.useState)({displayName:"",email:"",avatarType:"initials",avatarData:{colorIndex:0,emojiId:"cat"},theme:"light",currency:"INR"}),[N,S]=(0,t.useState)({displayName:"",email:"",avatarType:"initials",avatarData:{colorIndex:0,emojiId:"cat"},theme:"light",currency:"INR"}),[E,A]=(0,t.useState)([]),[_,C]=(0,t.useState)([]),[T,I]=(0,t.useState)({totalTransactions:0,totalAccounts:0,oldestTransaction:null,dataSize:"0 KB"});(0,t.useEffect)(()=>{O(),P(),w(!1)},[r]),(0,t.useEffect)(()=>{w(!1)},[k.avatarType]);const O=async()=>{if(r)try{const e=Ag(zm(iy,"users",r.uid,"accounts"),Og("createdAt","desc")),t=(await qg(e)).docs.map(e=>({id:e.id,...e.data()}));A(t);const n=Ag(zm(iy,"users",r.uid,"transactions"),Og("date","desc")),a=(await qg(n)).docs.map(e=>({id:e.id,...e.data()}));C(a);const i=a.length>0?new Date(a[a.length-1].date):null,s=Math.round((JSON.stringify(t)+JSON.stringify(a)).length/1024);I({totalTransactions:a.length,totalAccounts:t.filter(e=>!e.isDeleted).length,oldestTransaction:i,dataSize:s>1024?`${(s/1024).toFixed(1)} MB`:`${s} KB`})}catch(e){console.error("Error loading data:",e)}},P=async()=>{if(r)try{const e=Um(iy,"users",r.uid,"settings","preferences"),t=await $g(e);if(t.exists()){const e=t.data(),n={displayName:r.displayName||"",email:r.email||"",avatarType:e.avatarType||"initials",avatarData:e.avatarData||{colorIndex:0,emojiId:"cat"},theme:e.theme||"light",currency:e.currency||"INR"};j(n),S(n)}else{const e={displayName:r.displayName||"",email:r.email||"",avatarType:"initials",avatarData:{colorIndex:0,emojiId:"cat"},theme:"light",currency:"INR"};j(e),S(e)}x(r.displayName||"")}catch(e){if(console.error("Error loading preferences:",e),r){const e={displayName:r.displayName||"",email:r.email||"",avatarType:"initials",avatarData:{colorIndex:0,emojiId:"cat"},theme:"light",currency:"INR"};j(e),S(e),x(r.displayName||"")}}},D=async()=>{if(r)try{i(!0),m("saving");const e=Um(iy,"users",r.uid,"settings","preferences");await function(e,t,r){e=Xo(e,Lm);const n=Xo(e.firestore,qm),a=Lg(e.converter,t,r);return Qg(n,[sg(ig(n),"setDoc",e._key,a,null!==e.converter,r).toMutation(e._key,hd.none())])}(e,{...k,updatedAt:(new Date).toISOString()}),localStorage.setItem("theme",k.theme),"dark"===k.theme?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),S(k),m("saved"),setTimeout(()=>m(""),2e3)}catch(e){console.error("Error saving preferences:",e),m("error"),setTimeout(()=>m(""),2e3)}finally{i(!1)}},M=async()=>{if(r&&v.trim())try{i(!0),m("saving"),await Ni(r,{displayName:v.trim()}),j(e=>({...e,displayName:v.trim()})),y(!1),m("saved"),setTimeout(()=>m(""),2e3)}catch(e){console.error("Error updating display name:",e),m("error"),setTimeout(()=>m(""),2e3)}finally{i(!1)}},R=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"w-20 h-20",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"text-2xl";const{avatarType:n,avatarData:a}=k;switch(n){case"profile":const n=fq(r);if(n&&!b)return(0,sy.jsx)("img",{src:n,alt:"Profile",className:`${e} rounded-full object-cover border-2 border-white dark:border-gray-700 shadow-lg`,onError:e=>{console.log("Profile image failed to load in main avatar:",n),w(!0)},onLoad:()=>{console.log("Profile image loaded successfully:",n)}});{const{initials:r,color:n}=pq(k.displayName,a.colorIndex);return(0,sy.jsx)("div",{className:`${e} rounded-full bg-gradient-to-br ${n.bg} flex items-center justify-center ${n.text} font-bold ${t} border-2 border-white dark:border-gray-700 shadow-lg`,children:r})}case"predefined":const i=mq.find(e=>e.id===a.emojiId)||mq[0],s=e.includes("w-8")?"text-xl":e.includes("w-12")?"text-2xl":e.includes("w-16")?"text-3xl":e.includes("w-20")?"text-4xl":e.includes("w-24")?"text-5xl":"text-4xl";return(0,sy.jsx)("div",{className:`${e} rounded-full bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-700 dark:to-gray-800 flex items-center justify-center border-2 border-white dark:border-gray-700 shadow-lg ${s}`,children:(0,sy.jsx)("span",{className:"leading-none",children:i.emoji})});default:const{initials:o,color:l}=pq(k.displayName,a.colorIndex);return(0,sy.jsx)("div",{className:`${e} rounded-full bg-gradient-to-br ${l.bg} flex items-center justify-center ${l.text} font-bold ${t} border-2 border-white dark:border-gray-700 shadow-lg`,children:o})}},L=async e=>{if(r)try{i(!0);const t={metadata:{exportDate:(new Date).toISOString(),userId:r.uid,version:"2.0",format:e},accounts:E.filter(e=>!e.isDeleted),transactions:_,preferences:k},n="json"===e?JSON.stringify(t,null,2):F(t),a=new Blob([n],{type:"json"===e?"application/json":"text/csv"}),s=URL.createObjectURL(a),o=document.createElement("a");o.href=s,o.download=`pesa_export_${(new Date).toISOString().split("T")[0]}.${e}`,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(s),d(!1)}catch(t){console.error("Error exporting data:",t),alert("Error exporting data. Please try again.")}finally{i(!1)}},F=e=>{const t=[];return t.push("ACCOUNTS"),t.push("Name,Type,Currency,Balance,Created"),e.accounts.forEach(e=>{t.push(`"${e.name}","${e.type}","${e.currency}",${e.balance},"${e.createdAt}"`)}),t.push(""),t.push("TRANSACTIONS"),t.push("Date,Type,Amount,Currency,Account,Category,Payment Mode,Notes"),e.transactions.forEach(e=>{t.push(`"${e.date}","${e.type}",${e.amount},"${e.currency}","${e.accountName}","${e.category||""}","${e.paymentMode||""}","${e.notes||""}"`)}),t.join("\n")},z=async()=>{try{await n()}catch(e){console.error("Logout error:",e)}},U=[{id:"profile",label:"Profile",icon:jy},{id:"display",label:"Display & Theme",icon:Ay},{id:"data",label:"Data Management",icon:cq}];return(0,sy.jsxs)("div",{className:"max-w-6xl mx-auto p-3 sm:p-6 space-y-4 sm:space-y-6 animate-fade-in",children:[(0,sy.jsx)("div",{className:"bg-white dark:bg-white/5 rounded-2xl p-4 sm:p-6 backdrop-blur-sm shadow-lg dark:shadow-2xl",children:(0,sy.jsxs)("div",{className:"flex flex-col gap-3 sm:gap-4",children:[(0,sy.jsx)("div",{className:"flex flex-col sm:flex-row sm:items-start justify-between gap-3",children:(0,sy.jsxs)("div",{className:"flex-1",children:[(0,sy.jsxs)("div",{className:"flex items-center justify-between",children:[(0,sy.jsx)("h1",{className:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-white",children:"Settings"}),(0,sy.jsxs)("div",{className:"flex items-center gap-2 sm:gap-3",children:[p&&(0,sy.jsxs)("div",{className:"flex items-center space-x-1 sm:space-x-2 px-2 sm:px-3 py-1 rounded-lg text-xs sm:text-sm "+("saving"===p?"bg-blue-100 dark:bg-blue-500/20 text-blue-700 dark:text-blue-300":"saved"===p?"bg-green-100 dark:bg-green-500/20 text-green-700 dark:text-green-300":"bg-red-100 dark:bg-red-500/20 text-red-700 dark:text-red-300"),children:["saving"===p&&(0,sy.jsx)(My,{className:"w-3 h-3 sm:w-4 sm:h-4 animate-spin"}),"saved"===p&&(0,sy.jsx)(nv,{className:"w-3 h-3 sm:w-4 sm:h-4"}),"error"===p&&(0,sy.jsx)(zy,{className:"w-3 h-3 sm:w-4 sm:h-4"}),(0,sy.jsx)("span",{className:"hidden sm:inline",children:"saving"===p?"Saving...":"saved"===p?"Saved!":"Error saving"})]}),!(!N||!k)&&(k.avatarType!==N.avatarType||k.theme!==N.theme||k.currency!==N.currency||k.avatarData.colorIndex!==N.avatarData.colorIndex||k.avatarData.emojiId!==N.avatarData.emojiId)&&(0,sy.jsxs)("button",{onClick:D,disabled:a,className:"bg-orange-500 hover:bg-orange-600 active:bg-orange-700 text-white px-3 sm:px-4 py-2 rounded-lg flex items-center space-x-1 sm:space-x-2 transition-all duration-300 shadow-md disabled:opacity-50 disabled:cursor-not-allowed text-xs sm:text-sm font-medium touch-manipulation",children:[(0,sy.jsx)(hq,{className:"w-3 h-3 sm:w-4 sm:h-4"}),(0,sy.jsx)("span",{className:"hidden sm:inline",children:"Save Changes"}),(0,sy.jsx)("span",{className:"sm:hidden",children:"Save"})]})]})]}),(0,sy.jsx)("p",{className:"text-gray-600 dark:text-gray-400 text-xs sm:text-sm mt-1",children:"Customize your Pesa experience"})]})}),(0,sy.jsxs)("div",{className:"pt-3 sm:pt-4 border-t border-gray-200 dark:border-gray-700",children:[(0,sy.jsx)("div",{className:"flex overflow-x-auto scrollbar-hide gap-2 pb-1 sm:hidden",children:U.map(e=>{const t=e.icon;return(0,sy.jsxs)("button",{onClick:()=>o(e.id),className:"flex-shrink-0 px-3 py-2 rounded-lg flex items-center space-x-2 transition-all duration-300 text-xs font-medium touch-manipulation "+(s===e.id?"bg-orange-100 dark:bg-orange-500/20 text-orange-700 dark:text-orange-300":"text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-white/10 hover:text-gray-900 dark:hover:text-white"),children:[(0,sy.jsx)(t,{className:"w-4 h-4"}),(0,sy.jsx)("span",{className:"whitespace-nowrap",children:e.label})]},e.id)})}),(0,sy.jsx)("div",{className:"hidden sm:flex flex-wrap gap-2",children:U.map(e=>{const t=e.icon;return(0,sy.jsxs)("button",{onClick:()=>o(e.id),className:"px-4 py-2 rounded-lg flex items-center space-x-2 transition-all duration-300 text-sm font-medium "+(s===e.id?"bg-orange-100 dark:bg-orange-500/20 text-orange-700 dark:text-orange-300":"text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-white/10 hover:text-gray-900 dark:hover:text-white"),children:[(0,sy.jsx)(t,{className:"w-4 h-4"}),(0,sy.jsx)("span",{children:e.label})]},e.id)})})]})]})}),(0,sy.jsx)("div",{className:"bg-white dark:bg-white/5 rounded-2xl p-4 sm:p-6 backdrop-blur-sm shadow-lg dark:shadow-2xl",children:(()=>{switch(s){case"profile":return(0,sy.jsxs)("div",{className:"space-y-4 sm:space-y-6",children:[(0,sy.jsx)("div",{className:"bg-gradient-to-r from-orange-50 to-red-50 dark:from-orange-500/10 dark:to-red-500/10 rounded-xl p-4 sm:p-6",children:(0,sy.jsxs)("div",{className:"flex items-center space-x-4 sm:space-x-6",children:[(0,sy.jsxs)("div",{className:"relative flex-shrink-0",children:[R("w-14 h-14 sm:w-16 sm:h-16","text-lg sm:text-xl"),(0,sy.jsx)("button",{onClick:()=>f(!0),className:"absolute -bottom-0.5 -right-0.5 sm:-bottom-1 sm:-right-1 w-3 h-3 sm:w-5 sm:h-5 bg-orange-500 hover:bg-orange-600 active:bg-orange-700 text-white rounded-full flex items-center justify-center shadow-md transition-colors duration-300 touch-manipulation border-2 border-white dark:border-gray-900",children:(0,sy.jsx)(uq,{className:"w-1.5 h-1.5 sm:w-2.5 sm:h-2.5"})})]}),(0,sy.jsx)("div",{className:"flex-1 min-w-0",children:g?(0,sy.jsxs)("div",{className:"space-y-2",children:[(0,sy.jsx)("input",{type:"text",value:v,onChange:e=>x(e.target.value),className:"text-base sm:text-lg font-semibold bg-transparent border-b-2 border-orange-500 focus:outline-none text-gray-900 dark:text-white w-full",placeholder:"Enter your name",autoFocus:!0}),(0,sy.jsxs)("div",{className:"flex space-x-2",children:[(0,sy.jsx)("button",{onClick:M,disabled:a||!v.trim(),className:"px-3 py-1 bg-orange-500 hover:bg-orange-600 active:bg-orange-700 text-white text-xs rounded-lg transition-colors duration-300 disabled:opacity-50 disabled:cursor-not-allowed touch-manipulation",children:"Save"}),(0,sy.jsx)("button",{onClick:()=>{y(!1),x(k.displayName)},className:"px-3 py-1 bg-gray-300 dark:bg-gray-600 text-gray-700 dark:text-gray-300 text-xs rounded-lg hover:bg-gray-400 dark:hover:bg-gray-500 transition-colors duration-300 touch-manipulation",children:"Cancel"})]})]}):(0,sy.jsxs)("div",{children:[(0,sy.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,sy.jsx)("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 dark:text-white truncate",children:k.displayName||"User"}),(0,sy.jsx)("button",{onClick:()=>y(!0),className:"p-1.5 hover:bg-gray-100 dark:hover:bg-gray-700 rounded transition-colors duration-300 touch-manipulation flex-shrink-0",children:(0,sy.jsx)(dq,{className:"w-3 h-3 text-gray-600 dark:text-gray-400"})})]}),(0,sy.jsx)("p",{className:"text-gray-600 dark:text-gray-400 text-xs sm:text-sm truncate",children:null===r||void 0===r?void 0:r.email}),(0,sy.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Member since ",new Date(null===r||void 0===r?void 0:r.metadata.creationTime).toLocaleDateString()]})]})})]})}),(0,sy.jsxs)("div",{className:"space-y-4",children:[(0,sy.jsxs)("div",{className:"bg-gray-50 dark:bg-white/5 rounded-xl p-4",children:[(0,sy.jsx)("h4",{className:"font-medium text-gray-900 dark:text-white mb-3 text-sm",children:"Account Overview"}),(0,sy.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3 sm:gap-4 text-sm",children:[(0,sy.jsxs)("div",{className:"text-center",children:[(0,sy.jsx)("div",{className:"text-xl sm:text-2xl font-bold text-orange-600 dark:text-orange-400",children:T.totalAccounts}),(0,sy.jsx)("div",{className:"text-gray-600 dark:text-gray-400 text-xs",children:"Accounts"})]}),(0,sy.jsxs)("div",{className:"text-center",children:[(0,sy.jsx)("div",{className:"text-xl sm:text-2xl font-bold text-blue-600 dark:text-blue-400",children:T.totalTransactions.toLocaleString()}),(0,sy.jsx)("div",{className:"text-gray-600 dark:text-gray-400 text-xs",children:"Transactions"})]}),(0,sy.jsxs)("div",{className:"text-center",children:[(0,sy.jsx)("div",{className:"text-base sm:text-lg font-semibold text-green-600 dark:text-green-400",children:T.dataSize}),(0,sy.jsx)("div",{className:"text-gray-600 dark:text-gray-400 text-xs",children:"Data Size"})]}),T.oldestTransaction&&(0,sy.jsxs)("div",{className:"text-center",children:[(0,sy.jsxs)("div",{className:"text-base sm:text-lg font-semibold text-purple-600 dark:text-purple-400",children:[Math.floor((new Date-T.oldestTransaction)/864e5),"d"]}),(0,sy.jsx)("div",{className:"text-gray-600 dark:text-gray-400 text-xs",children:"Days Active"})]})]})]}),(0,sy.jsxs)("div",{className:"bg-gray-50 dark:bg-white/5 rounded-xl p-4",children:[(0,sy.jsx)("h4",{className:"font-medium text-gray-900 dark:text-white mb-3 text-sm",children:"Quick Actions"}),(0,sy.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:[(0,sy.jsxs)("button",{onClick:()=>d(!0),className:"w-full px-3 py-3 text-xs sm:text-sm bg-blue-100 dark:bg-blue-500/20 text-blue-700 dark:text-blue-300 rounded-lg hover:bg-blue-200 dark:hover:bg-blue-500/30 active:bg-blue-300 dark:active:bg-blue-500/40 transition-colors duration-300 flex items-center justify-center space-x-2 touch-manipulation",children:[(0,sy.jsx)(cq,{className:"w-4 h-4"}),(0,sy.jsx)("span",{children:"Export Data"})]}),(0,sy.jsxs)("button",{onClick:z,className:"w-full px-3 py-3 text-xs sm:text-sm bg-orange-100 dark:bg-orange-500/20 text-orange-700 dark:text-orange-300 rounded-lg hover:bg-orange-200 dark:hover:bg-orange-500/30 active:bg-orange-300 dark:active:bg-orange-500/40 transition-colors duration-300 flex items-center justify-center space-x-2 touch-manipulation",children:[(0,sy.jsx)(By,{className:"w-4 h-4"}),(0,sy.jsx)("span",{children:"Sign Out"})]})]})]})]})]});case"display":return(0,sy.jsxs)("div",{className:"space-y-4 sm:space-y-6",children:[(0,sy.jsxs)("div",{className:"bg-gray-50 dark:bg-white/5 rounded-xl p-4 sm:p-6",children:[(0,sy.jsx)("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Appearance"}),(0,sy.jsx)("div",{className:"grid grid-cols-1 gap-3 sm:grid-cols-2 sm:gap-4",children:[{value:"light",label:"Light",icon:Ly,desc:"Clean and bright interface"},{value:"dark",label:"Dark",icon:Fy,desc:"Easy on the eyes, perfect for night use"}].map(e=>(0,sy.jsxs)("button",{onClick:()=>j(t=>({...t,theme:e.value})),className:"p-4 border-2 rounded-xl transition-all duration-300 touch-manipulation "+(k.theme===e.value?"border-orange-500 bg-orange-50 dark:bg-orange-500/10 shadow-md":"border-gray-200 dark:border-gray-600 hover:border-orange-300 dark:hover:border-orange-400 active:border-orange-400 dark:active:border-orange-300 bg-white dark:bg-white/5"),children:[(0,sy.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,sy.jsx)(e.icon,{className:"w-5 h-5 "+(k.theme===e.value?"text-orange-600 dark:text-orange-400":"text-gray-600 dark:text-gray-400")}),(0,sy.jsx)("span",{className:"font-medium text-sm sm:text-base "+(k.theme===e.value?"text-orange-700 dark:text-orange-300":"text-gray-900 dark:text-white"),children:e.label})]}),(0,sy.jsx)("p",{className:"text-xs text-gray-600 dark:text-gray-400 text-left",children:e.desc})]},e.value))})]}),(0,sy.jsxs)("div",{className:"bg-gray-50 dark:bg-white/5 rounded-xl p-4 sm:p-6",children:[(0,sy.jsx)("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Currency"}),(0,sy.jsxs)("div",{className:"space-y-2",children:[(0,sy.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Default Currency"}),(0,sy.jsxs)("select",{value:k.currency,onChange:e=>j(t=>({...t,currency:e.target.value})),className:"w-full px-3 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-800 dark:text-white transition-all duration-300 text-sm touch-manipulation",children:[(0,sy.jsx)("option",{value:"INR",children:"\ud83c\uddee\ud83c\uddf3 Indian Rupee (\u20b9)"}),(0,sy.jsx)("option",{value:"USD",children:"\ud83c\uddfa\ud83c\uddf8 US Dollar ($)"})]}),(0,sy.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Used for displaying amounts throughout the app"})]})]})]});case"data":return(0,sy.jsxs)("div",{className:"space-y-4 sm:space-y-6",children:[(0,sy.jsx)("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-500/10 dark:to-indigo-500/10 border border-blue-200 dark:border-blue-500/20 rounded-xl p-4",children:(0,sy.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,sy.jsx)(cq,{className:"w-4 h-4 sm:w-5 sm:h-5 text-blue-600 dark:text-blue-400 flex-shrink-0 mt-0.5"}),(0,sy.jsxs)("div",{children:[(0,sy.jsx)("h3",{className:"text-sm font-medium text-blue-800 dark:text-blue-300 mb-1",children:"Data Management"}),(0,sy.jsx)("p",{className:"text-xs text-blue-700 dark:text-blue-400",children:"Export your data for backup or permanently delete all data. Handle your financial information securely."})]})]})}),(0,sy.jsxs)("div",{className:"grid grid-cols-1 gap-4",children:[(0,sy.jsxs)("button",{onClick:()=>d(!0),className:"p-4 sm:p-6 bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-500/10 dark:to-blue-500/20 border border-blue-200 dark:border-blue-500/20 rounded-xl hover:from-blue-100 hover:to-blue-200 dark:hover:from-blue-500/20 dark:hover:to-blue-500/30 active:from-blue-200 active:to-blue-300 dark:active:from-blue-500/30 dark:active:to-blue-500/40 transition-all duration-300 group touch-manipulation",children:[(0,sy.jsxs)("div",{className:"flex items-center space-x-3 mb-3",children:[(0,sy.jsx)("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-blue-500 dark:bg-blue-400 rounded-lg flex items-center justify-center group-hover:scale-110 transition-transform duration-300 flex-shrink-0",children:(0,sy.jsx)(cq,{className:"w-4 h-4 sm:w-5 sm:h-5 text-white"})}),(0,sy.jsxs)("div",{className:"text-left min-w-0 flex-1",children:[(0,sy.jsx)("h4",{className:"text-base sm:text-lg font-semibold text-blue-900 dark:text-blue-100",children:"Export Data"}),(0,sy.jsx)("p",{className:"text-xs sm:text-sm text-blue-700 dark:text-blue-300",children:"Backup your financial data"})]})]}),(0,sy.jsx)("p",{className:"text-xs text-blue-600 dark:text-blue-400 text-left",children:"Download all your accounts, transactions, and settings as JSON or CSV files for backup or migration purposes."})]}),(0,sy.jsxs)("button",{onClick:()=>c(!0),className:"p-4 sm:p-6 bg-gradient-to-br from-red-50 to-red-100 dark:from-red-500/10 dark:to-red-500/20 border border-red-200 dark:border-red-500/20 rounded-xl hover:from-red-100 hover:to-red-200 dark:hover:from-red-500/20 dark:hover:to-red-500/30 active:from-red-200 active:to-red-300 dark:active:from-red-500/30 dark:active:to-red-500/40 transition-all duration-300 group touch-manipulation",children:[(0,sy.jsxs)("div",{className:"flex items-center space-x-3 mb-3",children:[(0,sy.jsx)("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-red-500 dark:bg-red-400 rounded-lg flex items-center justify-center group-hover:scale-110 transition-transform duration-300 flex-shrink-0",children:(0,sy.jsx)(rv,{className:"w-4 h-4 sm:w-5 sm:h-5 text-white"})}),(0,sy.jsxs)("div",{className:"text-left min-w-0 flex-1",children:[(0,sy.jsx)("h4",{className:"text-base sm:text-lg font-semibold text-red-900 dark:text-red-100",children:"Delete All Data"}),(0,sy.jsx)("p",{className:"text-xs sm:text-sm text-red-700 dark:text-red-300",children:"Permanently remove everything"})]})]}),(0,sy.jsx)("p",{className:"text-xs text-red-600 dark:text-red-400 text-left",children:"Permanently delete all accounts, transactions, and settings. This action cannot be undone."})]})]})]});default:return null}})()}),h&&(0,sy.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-3 sm:p-6 z-50",children:(0,sy.jsxs)("div",{className:"bg-white dark:bg-gray-900 rounded-2xl p-4 sm:p-6 w-full max-w-lg sm:max-w-2xl max-h-[85vh] sm:max-h-[75vh] overflow-y-auto backdrop-blur-sm border border-gray-200 dark:border-gray-700 my-4 sm:my-8",children:[(0,sy.jsxs)("div",{className:"flex items-center justify-between mb-4 sm:mb-6",children:[(0,sy.jsx)("h2",{className:"text-lg sm:text-xl font-bold text-gray-900 dark:text-white",children:"Choose Your Avatar"}),(0,sy.jsx)("button",{onClick:()=>f(!1),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition-colors duration-300 touch-manipulation",children:(0,sy.jsx)(zy,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})})]}),(0,sy.jsxs)("div",{className:"space-y-3 sm:space-y-4",children:[(0,sy.jsxs)("div",{className:"text-center",children:[(0,sy.jsx)("div",{className:"inline-block",children:R("w-16 h-16 sm:w-20 sm:h-20","text-xl sm:text-2xl")}),(0,sy.jsx)("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:"Current Avatar"})]}),(0,sy.jsxs)("div",{children:[(0,sy.jsx)("h3",{className:"text-sm sm:text-base font-semibold text-gray-900 dark:text-white mb-2 sm:mb-3",children:"Avatar Type"}),(0,sy.jsxs)("div",{className:"grid grid-cols-3 gap-2",children:[(0,sy.jsxs)("button",{onClick:()=>j(e=>({...e,avatarType:"initials"})),className:"p-2 sm:p-3 border-2 rounded-lg transition-all duration-300 touch-manipulation "+("initials"===k.avatarType?"border-orange-500 bg-orange-50 dark:bg-orange-500/10":"border-gray-300 dark:border-gray-600 hover:border-gray-400 dark:hover:border-gray-500 active:border-orange-400 dark:active:border-orange-400"),children:[(0,sy.jsx)("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-gradient-to-br from-orange-500 to-red-500 rounded-full flex items-center justify-center text-white font-bold text-sm mx-auto mb-1",children:pq(k.displayName).initials}),(0,sy.jsx)("span",{className:"text-xs font-medium text-gray-900 dark:text-white text-center block",children:"Initials"})]}),(0,sy.jsxs)("button",{onClick:()=>j(e=>({...e,avatarType:"profile"})),className:`p-2 sm:p-3 border-2 rounded-lg transition-all duration-300 touch-manipulation ${"profile"===k.avatarType?"border-orange-500 bg-orange-50 dark:bg-orange-500/10":"border-gray-300 dark:border-gray-600 hover:border-gray-400 dark:hover:border-gray-500 active:border-orange-400 dark:active:border-orange-400"} ${fq(r)?"":"opacity-50 cursor-not-allowed"}`,disabled:!fq(r),children:[fq(r)?(0,sy.jsx)("img",{src:fq(r),alt:"Profile Picture",className:"w-8 h-8 sm:w-10 sm:h-10 rounded-full mx-auto mb-1 object-cover",onError:e=>{console.log("Profile image failed to load:",fq(r))}}):(0,sy.jsx)("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-gradient-to-br from-gray-300 to-gray-400 rounded-full flex items-center justify-center text-gray-600 text-sm font-bold mx-auto mb-1",children:"?"}),(0,sy.jsx)("span",{className:"text-xs font-medium text-gray-900 dark:text-white text-center block",children:fq(r)?"Profile":"Profile (Google)"})]}),(0,sy.jsxs)("button",{onClick:()=>j(e=>({...e,avatarType:"predefined"})),className:"p-2 sm:p-3 border-2 rounded-lg transition-all duration-300 touch-manipulation "+("predefined"===k.avatarType?"border-orange-500 bg-orange-50 dark:bg-orange-500/10":"border-gray-300 dark:border-gray-600 hover:border-gray-400 dark:hover:border-gray-500 active:border-orange-400 dark:active:border-orange-400"),children:[(0,sy.jsx)("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-full bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-700 dark:to-gray-800 flex items-center justify-center text-xl sm:text-2xl mx-auto mb-1",children:(0,sy.jsx)("span",{className:"leading-none",children:(null===(e=mq.find(e=>e.id===k.avatarData.emojiId))||void 0===e?void 0:e.emoji)||"\ud83d\udc31"})}),(0,sy.jsx)("span",{className:"text-xs font-medium text-gray-900 dark:text-white text-center block",children:"Characters"})]})]})]}),"initials"===k.avatarType&&(0,sy.jsxs)("div",{children:[(0,sy.jsx)("h4",{className:"text-sm font-medium text-gray-900 dark:text-white mb-2",children:"Color Theme"}),(0,sy.jsx)("div",{className:"grid grid-cols-4 gap-2",children:Array.from({length:8},(e,t)=>{const{color:r}=pq(k.displayName,t);return(0,sy.jsx)("button",{onClick:()=>j(e=>({...e,avatarData:{...e.avatarData,colorIndex:t}})),className:`relative w-12 h-12 sm:w-14 sm:h-14 rounded-full bg-gradient-to-br ${r.bg} flex items-center justify-center text-white font-bold text-sm border-3 transition-all duration-300 ${k.avatarData.colorIndex===t?"border-orange-500 scale-110":"border-gray-300 dark:border-gray-600 hover:scale-105"}`,children:pq(k.displayName).initials},t)})})]}),"predefined"===k.avatarType&&(0,sy.jsxs)("div",{children:[(0,sy.jsx)("h4",{className:"text-sm font-medium text-gray-900 dark:text-white mb-2",children:"Choose Character"}),(0,sy.jsx)("div",{className:"grid grid-cols-6 gap-2 max-h-48 overflow-y-auto",children:mq.map(e=>(0,sy.jsx)("button",{onClick:()=>j(t=>({...t,avatarData:{...t.avatarData,emojiId:e.id}})),className:"relative w-12 h-12 sm:w-14 sm:h-14 rounded-full bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-700 dark:to-gray-800 flex items-center justify-center text-xl sm:text-2xl border-3 transition-all duration-300 hover:scale-105 "+(k.avatarData.emojiId===e.id?"border-orange-500 scale-110":"border-gray-300 dark:border-gray-600"),title:e.name,children:(0,sy.jsx)("span",{className:"leading-none",children:e.emoji})},e.id))})]}),"profile"===k.avatarType&&(0,sy.jsx)("div",{className:"bg-blue-50 dark:bg-blue-500/10 border border-blue-200 dark:border-blue-500/20 rounded-lg p-3",children:(0,sy.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,sy.jsx)(nV,{className:"w-4 h-4 text-blue-600 dark:text-blue-400 flex-shrink-0 mt-0.5"}),(0,sy.jsxs)("div",{children:[(0,sy.jsx)("h4",{className:"text-xs font-medium text-blue-800 dark:text-blue-300 mb-1",children:"About Profile Pictures"}),(0,sy.jsx)("p",{className:"text-xs text-blue-700 dark:text-blue-400",children:fq(r)?"Using your Google account profile picture. If it fails to load, your initials will be shown as fallback.":"Profile pictures are only available when signed in with Google. For email/password accounts, initials will be used instead."})]})]})}),(0,sy.jsxs)("div",{className:"flex space-x-3 pt-3",children:[(0,sy.jsx)("button",{onClick:()=>f(!1),className:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors duration-300",children:"Cancel"}),(0,sy.jsxs)("button",{onClick:async()=>{await D(),f(!1),window.dispatchEvent(new CustomEvent("avatarUpdate"))},className:"flex-1 bg-orange-500 hover:bg-orange-600 text-white px-4 py-2 rounded-lg transition-colors duration-300 flex items-center justify-center space-x-2",children:[(0,sy.jsx)(hq,{className:"w-4 h-4"}),(0,sy.jsx)("span",{children:"Save Avatar"})]})]})]})]})}),u&&(0,sy.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:(0,sy.jsxs)("div",{className:"bg-white dark:bg-gray-900 rounded-2xl p-6 w-full max-w-md backdrop-blur-sm border border-gray-200 dark:border-gray-700",children:[(0,sy.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,sy.jsx)("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Export Data"}),(0,sy.jsx)("button",{onClick:()=>d(!1),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition-colors duration-300",children:(0,sy.jsx)(zy,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})})]}),(0,sy.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Export your financial data for backup or analysis purposes."}),(0,sy.jsxs)("div",{className:"space-y-3",children:[(0,sy.jsx)("button",{onClick:()=>L("json"),disabled:a,className:"w-full p-4 bg-blue-50 dark:bg-blue-500/10 border border-blue-200 dark:border-blue-500/20 rounded-lg hover:bg-blue-100 dark:hover:bg-blue-500/20 transition-colors duration-300 flex items-center justify-between disabled:opacity-50 disabled:cursor-not-allowed",children:(0,sy.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,sy.jsx)(cq,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),(0,sy.jsxs)("div",{className:"text-left",children:[(0,sy.jsx)("h4",{className:"text-sm font-medium text-blue-900 dark:text-blue-100",children:"JSON Format"}),(0,sy.jsx)("p",{className:"text-xs text-blue-700 dark:text-blue-300",children:"Complete data with all metadata"})]})]})}),(0,sy.jsx)("button",{onClick:()=>L("csv"),disabled:a,className:"w-full p-4 bg-green-50 dark:bg-green-500/10 border border-green-200 dark:border-green-500/20 rounded-lg hover:bg-green-100 dark:hover:bg-green-500/20 transition-colors duration-300 flex items-center justify-between disabled:opacity-50 disabled:cursor-not-allowed",children:(0,sy.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,sy.jsx)(cq,{className:"w-5 h-5 text-green-600 dark:text-green-400"}),(0,sy.jsxs)("div",{className:"text-left",children:[(0,sy.jsx)("h4",{className:"text-sm font-medium text-green-900 dark:text-green-100",children:"CSV Format"}),(0,sy.jsx)("p",{className:"text-xs text-green-700 dark:text-green-300",children:"For spreadsheet applications"})]})]})})]})]})}),l&&(0,sy.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:(0,sy.jsxs)("div",{className:"bg-white dark:bg-gray-900 rounded-2xl p-6 w-full max-w-md backdrop-blur-sm border border-gray-200 dark:border-gray-700",children:[(0,sy.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,sy.jsx)("div",{className:"w-10 h-10 bg-red-100 dark:bg-red-500/20 rounded-lg flex items-center justify-center",children:(0,sy.jsx)(av,{className:"w-5 h-5 text-red-600 dark:text-red-400"})}),(0,sy.jsx)("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Delete All Data"})]}),(0,sy.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"This action will permanently delete all your accounts, transactions, and preferences. This cannot be undone."}),(0,sy.jsxs)("div",{className:"bg-red-50 dark:bg-red-500/10 border border-red-200 dark:border-red-500/20 rounded-lg p-4 mb-6",children:[(0,sy.jsx)("h4",{className:"text-sm font-medium text-red-800 dark:text-red-200 mb-2",children:"What will be deleted:"}),(0,sy.jsxs)("ul",{className:"text-xs text-red-700 dark:text-red-300 space-y-1",children:[(0,sy.jsxs)("li",{children:["\u2022 ",T.totalAccounts," accounts"]}),(0,sy.jsxs)("li",{children:["\u2022 ",T.totalTransactions.toLocaleString()," transactions"]}),(0,sy.jsx)("li",{children:"\u2022 All preferences and settings"})]})]}),(0,sy.jsxs)("div",{className:"flex space-x-3",children:[(0,sy.jsx)("button",{onClick:()=>c(!1),className:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors duration-300",children:"Cancel"}),(0,sy.jsx)("button",{onClick:async()=>{if(r)try{i(!0);const t=ty(iy);_.forEach(e=>{const n=Um(iy,"users",r.uid,"transactions",e.id);t.delete(n)}),E.forEach(e=>{const n=Um(iy,"users",r.uid,"accounts",e.id);t.delete(n)}),await t.commit();const n=Um(iy,"users",r.uid,"settings","preferences");try{await Wg(n)}catch(e){console.error("Error deleting preferences:",e)}await O(),c(!1),alert("All data deleted successfully.")}catch(t){console.error("Error deleting data:",t),alert("Error deleting data. Please try again.")}finally{i(!1)}},disabled:a,className:"flex-1 bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg transition-colors duration-300 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:a?(0,sy.jsxs)(sy.Fragment,{children:[(0,sy.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),(0,sy.jsx)("span",{children:"Deleting..."})]}):(0,sy.jsxs)(sy.Fragment,{children:[(0,sy.jsx)(rv,{className:"w-4 h-4"}),(0,sy.jsx)("span",{children:"Delete All Data"})]})})]})]})})]})};const yq=function(){const{currentUser:e}=ly(),[r,n]=(0,t.useState)([]),[a,i]=(0,t.useState)([]),[s,o]=(0,t.useState)(!0),[l,c]=(0,t.useState)(localStorage.getItem("theme")||"light");return(0,t.useEffect)(()=>{"dark"===l?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),localStorage.setItem("theme",l)},[l]),(0,t.useEffect)(()=>{if(!e)return;const t=Yg(Ag(zm(iy,"users",e.uid,"accounts"),Cg("isDeleted","==",!1)),e=>{const t=e.docs.map(e=>({id:e.id,...e.data()}));n(t)}),r=Yg(Ag(zm(iy,"users",e.uid,"transactions"),Og("date","desc")),e=>{const t=e.docs.map(e=>({id:e.id,...e.data()}));i(t),o(!1)});return()=>{t(),r()}},[e]),s?(0,sy.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900",children:(0,sy.jsxs)("div",{className:"text-center",children:[(0,sy.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500 mx-auto"}),(0,sy.jsx)("p",{className:"mt-4 text-gray-600 dark:text-gray-400",children:"Loading your data..."})]})}):(0,sy.jsxs)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-950 transition-colors",children:[(0,sy.jsx)(qy,{theme:l,toggleTheme:()=>{c("light"===l?"dark":"light")}}),(0,sy.jsx)("main",{className:"max-w-7xl mx-auto",children:(0,sy.jsxs)(ke,{children:[(0,sy.jsx)(be,{path:"/",element:(0,sy.jsx)(qU,{accounts:r,transactions:a})}),(0,sy.jsx)(be,{path:"/transactions",element:(0,sy.jsx)(JU,{accounts:r,transactions:a})}),(0,sy.jsx)(be,{path:"/analytics",element:(0,sy.jsx)(IH,{accounts:r,transactions:a})}),(0,sy.jsx)(be,{path:"/accounts",element:(0,sy.jsx)(VH,{accounts:r,transactions:a})}),(0,sy.jsx)(be,{path:"/activity",element:(0,sy.jsx)($H(),{})}),(0,sy.jsx)(be,{path:"/subscriptions",element:(0,sy.jsx)(lq,{accounts:r})}),(0,sy.jsx)(be,{path:"/settings",element:(0,sy.jsx)(gq,{})})]})})]})};function vq(){const{currentUser:e,loading:t}=ly();return t?(0,sy.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-white dark:bg-gray-800",children:(0,sy.jsxs)("div",{className:"text-center",children:[(0,sy.jsx)("div",{className:"relative",children:(0,sy.jsxs)("div",{className:"w-24 h-24 bg-transparent rounded-2xl flex items-center justify-center mx-auto mb-6 animate-pulse",children:[(0,sy.jsx)("img",{src:"/pesa/logo.png",alt:"Pesa Logo",className:"w-16 h-16 object-contain",onError:e=>{e.target.style.display="none",e.target.nextElementSibling.style.display="block"}}),(0,sy.jsx)("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"#f97316",style:{display:"none"},children:(0,sy.jsx)("path",{d:"M12 2C13.1 2 14 2.9 14 4C14 5.1 13.1 6 12 6C10.9 6 10 5.1 10 4C10 2.9 10.9 2 12 2ZM21 9V7L15 1H5C3.89 1 3 1.89 3 3V21C3 22.11 3.89 23 5 23H19C20.11 23 21 22.11 21 21V9H21ZM19 21H5V3H13V9H19V21Z"})})]})}),(0,sy.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"Pesa"}),(0,sy.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Authenticating..."}),(0,sy.jsx)("div",{className:"w-32 h-1 bg-gray-200 dark:bg-gray-700 rounded-full mx-auto overflow-hidden",children:(0,sy.jsx)("div",{className:"w-full h-full bg-gradient-to-r from-orange-500 to-orange-600 rounded-full animate-pulse"})})]})}):(0,sy.jsxs)(ke,{children:[(0,sy.jsx)(be,{path:"/auth",element:e?(0,sy.jsx)(xe,{to:"/"}):(0,sy.jsx)(Iy,{})}),(0,sy.jsx)(be,{path:"/*",element:e?(0,sy.jsx)(yq,{}):(0,sy.jsx)(xe,{to:"/auth"})})]})}const xq=function(){return(0,sy.jsx)(rt,{children:(0,sy.jsx)(cy,{children:(0,sy.jsx)(vq,{})})})};n.createRoot(document.getElementById("root")).render((0,sy.jsx)(t.StrictMode,{children:(0,sy.jsx)(xq,{})}))})()})();
//# sourceMappingURL=main.878f4da7.js.map